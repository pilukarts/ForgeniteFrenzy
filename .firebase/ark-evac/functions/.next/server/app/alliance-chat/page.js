(()=>{var e={};e.id=7613,e.ids=[7613],e.modules={66860:e=>{"use strict";e.exports=require("express")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},50852:e=>{"use strict";e.exports=require("async_hooks")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},71891:e=>{"use strict";e.exports=require("dgram")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},73292:e=>{"use strict";e.exports=require("fs/promises")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},98188:e=>{"use strict";e.exports=require("module")},41808:e=>{"use strict";e.exports=require("net")},92761:e=>{"use strict";e.exports=require("node:async_hooks")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},87503:e=>{"use strict";e.exports=require("node:net")},49411:e=>{"use strict";e.exports=require("node:path")},38846:e=>{"use strict";e.exports=require("node:perf_hooks")},97742:e=>{"use strict";e.exports=require("node:process")},84492:e=>{"use strict";e.exports=require("node:stream")},72477:e=>{"use strict";e.exports=require("node:stream/web")},41041:e=>{"use strict";e.exports=require("node:url")},47261:e=>{"use strict";e.exports=require("node:util")},65628:e=>{"use strict";e.exports=require("node:zlib")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},77282:e=>{"use strict";e.exports=require("process")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},13325:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},55073:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>l,routeModule:()=>m,tree:()=>c}),t(44336),t(31832),t(35866);var s=t(23191),a=t(88716),i=t(37922),o=t.n(i),n=t(95231),u={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>n[e]);t.d(r,u);let c=["",{children:["alliance-chat",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,44336)),"/home/user/studio/src/app/alliance-chat/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,31832)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["/home/user/studio/src/app/alliance-chat/page.tsx"],d="/alliance-chat/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/alliance-chat/page",pathname:"/alliance-chat",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},76161:(e,r,t)=>{Promise.resolve().then(t.bind(t,69889))},69889:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>g});var s=t(10326),a=t(17577),i=t(69155),o=t(41190),n=t(91664),u=t(3236),c=t(3594),l=t(85529);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,t(62881).Z)("SendHorizontal",[["path",{d:"m3 3 3 9-3 9 19-9Z",key:"1aobqy"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]);var p=t(61610),m=t(92475),x=t(51223),h=t(32529);let f=()=>`msg-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,g=()=>{let{playerProfile:e,isLoading:r,isInitialSetupDone:t}=(0,i.G$)(),[g,q]=(0,a.useState)([]),[y,b]=(0,a.useState)(""),v=(0,a.useRef)(null);if((0,a.useEffect)(()=>{e&&q([{id:f(),senderId:"core_system",senderName:"C.O.R.E.",content:"Welcome to the Alliance Strategic Comms, Commander. Coordinate with your allies here.",timestamp:Date.now()-2e4,isPlayer:!1,senderAvatar:h.vE.t},{id:f(),senderId:"commander_alpha",senderName:"Cmdr. Alpha",content:"Glad to be here. Let's push for the next objective!",timestamp:Date.now()-1e4,isPlayer:!1,senderAvatar:h.tE.Kj}])},[e]),(0,a.useEffect)(()=>{if(v.current){let e=v.current.querySelector("div[data-radix-scroll-area-viewport]");e&&(e.scrollTop=e.scrollHeight)}},[g]),r)return s.jsx(m.Z,{});if(!t)return s.jsx(p.Z,{});if(!e)return null;let w=r=>r.isPlayer?"male"===e.commanderSex?h.tE.Kj:h.tE.f$:r.senderAvatar||h.Ri.T,j=r=>r.isPlayer&&e?"male"===e.commanderSex?"male commander":"female commander":"core_system"===r.senderId?"ai hexagon":"male commander";return s.jsx(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsxs)("header",{className:"p-3 sm:p-4 border-b border-border",children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-headline text-primary",children:"Alliance Chat"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Coordinate with your fellow Commanders."})]}),(0,s.jsxs)(u.x,{className:"flex-grow p-2 sm:p-4",ref:v,children:[" ",(0,s.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[" ",g.map(e=>(0,s.jsxs)("div",{className:(0,x.cn)("flex items-start gap-2 sm:gap-3 max-w-[90%] sm:max-w-[75%]",e.isPlayer?"ml-auto flex-row-reverse":"mr-auto"),children:[(0,s.jsxs)(c.qE,{className:"h-6 w-6 sm:h-8 sm:w-8 border border-primary/50",children:[" ",s.jsx(c.F$,{src:w(e),alt:e.senderName,"data-ai-hint":j(e)}),s.jsx(c.Q5,{children:e.senderName?e.senderName.substring(0,1).toUpperCase():s.jsx(l.Z,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),(0,s.jsxs)("div",{className:(0,x.cn)("p-2 sm:p-3 rounded-lg shadow",e.isPlayer?"bg-primary/20 text-primary-foreground rounded-br-none":"bg-card text-card-foreground rounded-bl-none"),children:[(0,s.jsxs)("p",{className:"font-semibold mb-0.5 sm:mb-1",children:[" ",e.isPlayer?"You":e.senderName]}),s.jsx("p",{className:"text-base whitespace-pre-wrap",children:e.content}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground mt-1 sm:mt-1.5 text-right",children:[" ",new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]},e.id))]})]}),(0,s.jsxs)("footer",{className:"p-2 sm:p-4 border-t border-border mt-auto",children:[" ",(0,s.jsxs)("form",{onSubmit:r=>{if(r.preventDefault(),""===y.trim()||!e)return;let t={id:f(),senderId:e.id,senderName:e.name,senderCommanderSex:e.commanderSex,content:y.trim(),timestamp:Date.now(),isPlayer:!0};q(e=>[...e,t]),b("")},className:"flex items-center gap-2",children:[s.jsx(o.I,{type:"text",value:y,onChange:e=>b(e.target.value),placeholder:"Type your message...",className:"flex-grow bg-input border-border focus:ring-primary h-9 sm:h-10 text-base",autoComplete:"off"}),(0,s.jsxs)(n.z,{type:"submit",variant:"default",size:"sm","aria-label":"Send Message",disabled:!y.trim(),children:[" ",s.jsx(d,{className:"h-4 w-4 sm:h-5 sm:w-5"})," "]})]})]})]})})}},44336:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>o,__esModule:()=>i,default:()=>n});var s=t(68570);let a=(0,s.createProxy)(String.raw`/home/user/studio/src/app/alliance-chat/page.tsx`),{__esModule:i,$$typeof:o}=a;a.default;let n=(0,s.createProxy)(String.raw`/home/user/studio/src/app/alliance-chat/page.tsx#default`)},73881:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});var s=t(66621);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[8948,2736,6621,5998],()=>t(55073));module.exports=s})();