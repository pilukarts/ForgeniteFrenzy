(()=>{var e={};e.id=8e3,e.ids=[8e3],e.modules={66860:e=>{"use strict";e.exports=require("express")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},50852:e=>{"use strict";e.exports=require("async_hooks")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},71891:e=>{"use strict";e.exports=require("dgram")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},73292:e=>{"use strict";e.exports=require("fs/promises")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},98188:e=>{"use strict";e.exports=require("module")},41808:e=>{"use strict";e.exports=require("net")},92761:e=>{"use strict";e.exports=require("node:async_hooks")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},87503:e=>{"use strict";e.exports=require("node:net")},49411:e=>{"use strict";e.exports=require("node:path")},38846:e=>{"use strict";e.exports=require("node:perf_hooks")},97742:e=>{"use strict";e.exports=require("node:process")},84492:e=>{"use strict";e.exports=require("node:stream")},72477:e=>{"use strict";e.exports=require("node:stream/web")},41041:e=>{"use strict";e.exports=require("node:url")},47261:e=>{"use strict";e.exports=require("node:util")},65628:e=>{"use strict";e.exports=require("node:zlib")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},77282:e=>{"use strict";e.exports=require("process")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},13325:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},69852:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>d,originalPathname:()=>p,pages:()=>u,routeModule:()=>x,tree:()=>l}),r(16367),r(31832),r(35866);var s=r(23191),i=r(88716),a=r(37922),n=r.n(a),o=r(95231),c={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);r.d(t,c);let l=["",{children:["minigame",{children:["galactic-pacman",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,16367)),"/home/user/studio/src/app/minigame/galactic-pacman/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,31832)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/home/user/studio/src/app/minigame/galactic-pacman/page.tsx"],p="/minigame/galactic-pacman/page",d={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/minigame/galactic-pacman/page",pathname:"/minigame/galactic-pacman",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},21771:(e,t,r)=>{Promise.resolve().then(r.bind(r,32227))},86333:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(62881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},24230:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(62881).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},79256:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(62881).Z)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])},32227:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k});var s=r(10326),i=r(17577),a=r(69155),n=r(61610),o=r(92475),c=r(91664),l=r(29752),u=r(92822),p=r(50732),d=r(33734),x=r(79256),m=r(86333),h=r(24230);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,r(62881).Z)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);var g=r(84097),y=r(88129),v=r(30058),j=r(38227);let q=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,2,2,2,2,2,2,1,2,2,2,2,2,2,1],[1,2,1,1,2,1,2,1,2,1,2,1,1,2,1],[1,2,2,2,2,1,2,2,2,1,2,2,2,2,1],[1,1,1,2,1,1,1,2,1,1,1,2,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,1,1,1,2,1,1,1,2,1,1,1,2,1],[1,2,2,2,2,2,2,0,2,2,2,2,2,2,1],[1,1,1,1,2,1,1,1,1,1,2,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,1,1,2,1,2,1,2,1,2,1,1,2,1],[1,2,2,1,2,2,2,2,2,2,2,1,2,2,1],[1,2,1,1,1,1,1,2,1,1,1,1,1,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],w=()=>{let{addPoints:e,playerProfile:t}=(0,a.G$)(),{toast:r}=(0,g.pm)(),[n,o]=(0,i.useState)(q),[w,b]=(0,i.useState)({x:7,y:7}),[k,N]=(0,i.useState)({x:1,y:1}),[P,E]=(0,i.useState)(null),[_,C]=(0,i.useState)(0),[z,S]=(0,i.useState)(!1),Z=(0,i.useRef)(),L=(0,i.useRef)(q.flat().filter(e=>2===e).length),M=(0,i.useCallback)(()=>{o(q),b({x:7,y:7}),N({x:1,y:1}),E(null),C(0),S(!1)},[]),R=(0,i.useCallback)((e,t)=>{if(!t)return e;let{x:r,y:s}=e;switch(t){case"UP":s--;break;case"DOWN":s++;break;case"LEFT":r--;break;case"RIGHT":r++}return n[s]&&1!==n[s][r]?{x:r,y:s}:e},[n]),A=(0,i.useCallback)(()=>{z||(b(e=>{let t=R(e,P);return 2===n[t.y][t.x]&&(C(e=>e+10),o(e=>{let r=e.map(e=>[...e]);return r[t.y][t.x]=0,r})),t}),N(e=>{let{x:t,y:r}=e,{x:s,y:i}=w;return t<s&&1!==n[r][t+1]?t++:t>s&&1!==n[r][t-1]?t--:r<i&&1!==n[r+1][t]?r++:r>i&&1!==n[r-1][t]&&r--,{x:t,y:r}}))},[z,P,R,n,w]);(0,i.useEffect)(()=>{if(!z)return Z.current=setInterval(A,200),()=>clearInterval(Z.current)},[A,z]),(0,i.useEffect)(()=>{w.x===k.x&&w.y===k.y&&(S("LOSE"),r({title:"Caught!",description:"The patrol drone caught you. Try again!",variant:"destructive"})),_===10*L.current&&L.current>0&&(S("WIN"),e(5e3),r({title:"Success!",description:`Labrynth cleared! You earned a bonus of ${5e3.toLocaleString()} points.`}))},[w,k,_,e,r]),(0,i.useEffect)(()=>{let e=e=>{switch(e.preventDefault(),e.key){case"ArrowUp":E("UP");break;case"ArrowDown":E("DOWN");break;case"ArrowLeft":E("LEFT");break;case"ArrowRight":E("RIGHT")}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]);let $=(e,t,r)=>{let i=w.x===t&&w.y===r,a=k.x===t&&k.y===r;return 1===e?s.jsx("div",{className:"bg-border"},`${t}-${r}`):(0,s.jsxs)("div",{className:"bg-background/50 flex items-center justify-center",children:[i&&s.jsx(u.Z,{className:"text-primary h-5 w-5"}),a&&s.jsx(p.Z,{className:"text-destructive h-5 w-5"}),!i&&!a&&2===e&&s.jsx(d.Z,{className:"text-yellow-400 h-3 w-3 fill-current"})]},`${t}-${r}`)};return t?(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(l.Zb,{className:"w-full max-w-lg mx-auto bg-card/50",children:(0,s.jsxs)(l.aY,{className:"p-2 sm:p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsxs)("p",{className:"text-lg font-headline text-primary",children:["Score: ",_]}),(0,s.jsxs)("p",{className:"text-lg font-headline text-primary",children:["Star Fragments Left: ",L.current-_/10]})]}),(0,s.jsxs)("div",{className:"grid border-2 border-primary relative",style:{gridTemplateColumns:"repeat(15, 24px)",width:360,height:360},children:[s.jsx(y.M,{children:z&&(0,s.jsxs)(v.E.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center z-10",children:[s.jsx("p",{className:"text-4xl font-headline text-destructive mb-2",children:"LOSE"===z?"Game Over":"You Win!"}),s.jsx(c.z,{onClick:M,children:"Play Again"})]})}),n.map((e,t)=>e.map((e,r)=>$(e,r,t)))]})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2 w-48",children:[s.jsx("div",{}),s.jsx(c.z,{variant:"outline",size:"icon",onClick:()=>E("UP"),className:"h-14 w-14",children:s.jsx(x.Z,{})}),s.jsx("div",{}),s.jsx(c.z,{variant:"outline",size:"icon",onClick:()=>E("LEFT"),className:"h-14 w-14",children:s.jsx(m.Z,{})}),s.jsx("div",{}),s.jsx(c.z,{variant:"outline",size:"icon",onClick:()=>E("RIGHT"),className:"h-14 w-14",children:s.jsx(h.Z,{})}),s.jsx("div",{}),s.jsx(c.z,{variant:"outline",size:"icon",onClick:()=>E("DOWN"),className:"h-14 w-14",children:s.jsx(f,{})}),s.jsx("div",{})]})]}):s.jsx(j.O,{className:"w-[360px] h-[480px]"})};var b=r(90434);let k=()=>{let{isLoading:e,isInitialSetupDone:t}=(0,a.G$)();return e?s.jsx(o.Z,{}):t?s.jsx(s.Fragment,{children:(0,s.jsxs)("div",{className:"container mx-auto px-2 sm:px-4 py-4 sm:py-6 h-full flex flex-col",children:[(0,s.jsxs)("header",{className:"mb-2 text-center relative",children:[s.jsx(b.default,{href:"/arcade",className:"absolute left-0 top-1/2 -translate-y-1/2",children:s.jsx(c.z,{variant:"ghost",size:"icon",children:s.jsx(m.Z,{className:"h-6 w-6"})})}),(0,s.jsxs)("h1",{className:"text-2xl sm:text-3xl font-headline text-primary flex items-center justify-center",children:[s.jsx(u.Z,{className:"mr-2 sm:mr-3 h-6 w-6 sm:h-8 sm:w-8"}),"Galactic Labyrinth"]}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Collect star fragments and avoid the patrol drone."})]}),s.jsx("div",{className:"flex-grow flex items-center justify-center",children:s.jsx(w,{})})]})}):s.jsx(n.Z,{})}},38227:(e,t,r)=>{"use strict";r.d(t,{O:()=>a});var s=r(10326),i=r(51223);function a({className:e,...t}){return s.jsx("div",{className:(0,i.cn)("animate-pulse rounded-md bg-muted",e),...t})}},16367:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>o});var s=r(68570);let i=(0,s.createProxy)(String.raw`/home/user/studio/src/app/minigame/galactic-pacman/page.tsx`),{__esModule:a,$$typeof:n}=i;i.default;let o=(0,s.createProxy)(String.raw`/home/user/studio/src/app/minigame/galactic-pacman/page.tsx#default`)},73881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(66621);let i=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},88129:(e,t,r)=>{"use strict";r.d(t,{M:()=>g});var s=r(10326),i=r(17577),a=r(40339),n=r(74749),o=r(40295),c=r(73965);class l extends i.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function u({children:e,isPresent:t}){let r=(0,i.useId)(),a=(0,i.useRef)(null),n=(0,i.useRef)({width:0,height:0,top:0,left:0}),{nonce:o}=(0,i.useContext)(c._);return(0,i.useInsertionEffect)(()=>{let{width:e,height:s,top:i,left:c}=n.current;if(t||!a.current||!e||!s)return;a.current.dataset.motionPopId=r;let l=document.createElement("style");return o&&(l.nonce=o),document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${s}px !important;
            top: ${i}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[t]),(0,s.jsx)(l,{isPresent:t,childRef:a,sizeRef:n,children:i.cloneElement(e,{ref:a})})}let p=({children:e,initial:t,isPresent:r,onExitComplete:a,custom:c,presenceAffectsLayout:l,mode:p})=>{let x=(0,n.h)(d),m=(0,i.useId)(),h=(0,i.useCallback)(e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;a&&a()},[x,a]),f=(0,i.useMemo)(()=>({id:m,initial:t,isPresent:r,custom:c,onExitComplete:h,register:e=>(x.set(e,!1),()=>x.delete(e))}),l?[Math.random(),h]:[r,h]);return(0,i.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[r]),i.useEffect(()=>{r||x.size||!a||a()},[r]),"popLayout"===p&&(e=(0,s.jsx)(u,{isPresent:r,children:e})),(0,s.jsx)(o.O.Provider,{value:f,children:e})};function d(){return new Map}var x=r(56933);let m=e=>e.key||"";function h(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}var f=r(42482);let g=({children:e,custom:t,initial:r=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:l="sync",propagate:u=!1})=>{let[d,g]=(0,x.oO)(u),y=(0,i.useMemo)(()=>h(e),[e]),v=u&&!d?[]:y.map(m),j=(0,i.useRef)(!0),q=(0,i.useRef)(y),w=(0,n.h)(()=>new Map),[b,k]=(0,i.useState)(y),[N,P]=(0,i.useState)(y);(0,f.L)(()=>{j.current=!1,q.current=y;for(let e=0;e<N.length;e++){let t=m(N[e]);v.includes(t)?w.delete(t):!0!==w.get(t)&&w.set(t,!1)}},[N,v.length,v.join("-")]);let E=[];if(y!==b){let e=[...y];for(let t=0;t<N.length;t++){let r=N[t],s=m(r);v.includes(s)||(e.splice(t,0,r),E.push(r))}"wait"===l&&E.length&&(e=E),P(h(e)),k(y);return}let{forceRender:_}=(0,i.useContext)(a.p);return(0,s.jsx)(s.Fragment,{children:N.map(e=>{let i=m(e),a=(!u||!!d)&&(y===N||v.includes(i));return(0,s.jsx)(p,{isPresent:a,initial:(!j.current||!!r)&&void 0,custom:a?void 0:t,presenceAffectsLayout:c,mode:l,onExitComplete:a?void 0:()=>{if(!w.has(i))return;w.set(i,!0);let e=!0;w.forEach(t=>{t||(e=!1)}),e&&(null==_||_(),P(q.current),u&&(null==g||g()),o&&o())},children:e},i)})})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,2736,6621,5998],()=>r(69852));module.exports=s})();