exports.id=2736,exports.ids=[2736],exports.modules={27749:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addAdminServicesToServer=t.registerAdminService=void 0;let r=[];function n(e,t){r.push({getServiceDefinition:e,getHandlers:t})}function i(e){for(let{getServiceDefinition:t,getHandlers:n}of r)e.addService(t(),n())}t.registerAdminService=n,t.addAdminServicesToServer=i},1742:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackoffTimeout=void 0;let r=1e3,n=1.6,i=12e4,o=.2;function s(e,t){return Math.random()*(t-e)+e}class a{constructor(e,t){this.callback=e,this.initialDelay=r,this.multiplier=n,this.maxDelay=i,this.jitter=o,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,t&&(t.initialDelay&&(this.initialDelay=t.initialDelay),t.multiplier&&(this.multiplier=t.multiplier),t.jitter&&(this.jitter=t.jitter),t.maxDelay&&(this.maxDelay=t.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runTimer(e){var t,r;this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.callback(),this.running=!1},e),this.hasRef||null===(r=(t=this.timerId).unref)||void 0===r||r.call(t)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let e=Math.min(this.nextDelay*this.multiplier,this.maxDelay),t=e*this.jitter;this.nextDelay=e+s(-t,t)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){let e=new Date,t=this.startTime;t.setMilliseconds(t.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),e<t?this.runTimer(t.getTime()-e.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var e,t;this.hasRef=!0,null===(t=(e=this.timerId).ref)||void 0===t||t.call(e)}unref(){var e,t;this.hasRef=!1,null===(t=(e=this.timerId).unref)||void 0===t||t.call(e)}getEndTime(){return this.endTime}}t.BackoffTimeout=a},45402:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallCredentials=void 0;let n=r(6281);function i(e){return"getRequestHeaders"in e&&"function"==typeof e.getRequestHeaders}class o{static createFromMetadataGenerator(e){return new a(e)}static createFromGoogleCredential(e){return o.createFromMetadataGenerator((t,r)=>{let o;(o=i(e)?e.getRequestHeaders(t.service_url):new Promise((r,n)=>{e.getRequestMetadata(t.service_url,(e,t)=>{if(e){n(e);return}if(!t){n(Error("Headers not set by metadata plugin"));return}r(t)})})).then(e=>{let t=new n.Metadata;for(let r of Object.keys(e))t.add(r,e[r]);r(null,t)},e=>{r(e)})})}static createEmpty(){return new l}}t.CallCredentials=o;class s extends o{constructor(e){super(),this.creds=e}async generateMetadata(e){let t=new n.Metadata;for(let r of(await Promise.all(this.creds.map(t=>t.generateMetadata(e)))))t.merge(r);return t}compose(e){return new s(this.creds.concat([e]))}_equals(e){return this===e||e instanceof s&&this.creds.every((t,r)=>t._equals(e.creds[r]))}}class a extends o{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise((t,r)=>{this.metadataGenerator(e,(e,n)=>{void 0!==n?t(n):r(e)})})}compose(e){return new s([this,e])}_equals(e){return this===e||e instanceof a&&this.metadataGenerator===e.metadataGenerator}}class l extends o{generateMetadata(e){return Promise.resolve(new n.Metadata)}compose(e){return e}_equals(e){return e instanceof l}}},41218:(e,t)=>{"use strict";function r(e){return void 0!==e.onReceiveMetadata&&1===e.onReceiveMetadata.length}Object.defineProperty(t,"__esModule",{value:!0}),t.InterceptingListenerImpl=t.isInterceptingListener=void 0,t.isInterceptingListener=r;class n{constructor(e,t){this.listener=e,this.nextListener=t,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(e){this.processingMetadata=!0,this.listener.onReceiveMetadata(e,e=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(e),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(e){this.processingMessage=!0,this.listener.onReceiveMessage(e,e=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=e,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(e),this.processPendingStatus())})}onReceiveStatus(e){this.listener.onReceiveStatus(e,e=>{this.processingMetadata||this.processingMessage?this.pendingStatus=e:this.nextListener.onReceiveStatus(e)})}}t.InterceptingListenerImpl=n},21801:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNextCallNumber=void 0;let r=0;function n(){return r++}t.getNextCallNumber=n},7639:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientDuplexStreamImpl=t.ClientWritableStreamImpl=t.ClientReadableStreamImpl=t.ClientUnaryCallImpl=t.callErrorFromStatus=void 0;let n=r(82361),i=r(12781),o=r(19572);function s(e,t){let r=`${e.code} ${o.Status[e.code]}: ${e.details}`,n=Error(r),i=`${n.stack}
for call at
${t}`;return Object.assign(Error(r),e,{stack:i})}t.callErrorFromStatus=s;class a extends n.EventEmitter{constructor(){super()}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(o.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}}t.ClientUnaryCallImpl=a;class l extends i.Readable{constructor(e){super({objectMode:!0}),this.deserialize=e}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(o.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_read(e){var t;null===(t=this.call)||void 0===t||t.startRead()}}t.ClientReadableStreamImpl=l;class u extends i.Writable{constructor(e){super({objectMode:!0}),this.serialize=e}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(o.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_write(e,t,r){var n;let i={callback:r},o=Number(t);Number.isNaN(o)||(i.flags=o),null===(n=this.call)||void 0===n||n.sendMessageWithContext(i,e)}_final(e){var t;null===(t=this.call)||void 0===t||t.halfClose(),e()}}t.ClientWritableStreamImpl=u;class c extends i.Duplex{constructor(e,t){super({objectMode:!0}),this.serialize=e,this.deserialize=t}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(o.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_read(e){var t;null===(t=this.call)||void 0===t||t.startRead()}_write(e,t,r){var n;let i={callback:r},o=Number(t);Number.isNaN(o)||(i.flags=o),null===(n=this.call)||void 0===n||n.sendMessageWithContext(i,e)}_final(e){var t;null===(t=this.call)||void 0===t||t.halfClose(),e()}}t.ClientDuplexStreamImpl=c},70499:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelCredentials=void 0;let n=r(24404),i=r(45402),o=r(80606);function s(e,t){if(e&&!(e instanceof Buffer))throw TypeError(`${t}, if provided, must be a Buffer.`)}class a{constructor(e){this.callCredentials=e||i.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(e,t,r,i){var a;if(s(e,"Root certificate"),s(t,"Private key"),s(r,"Certificate chain"),t&&!r)throw Error("Private key must be given with accompanying certificate chain");if(!t&&r)throw Error("Certificate chain must be given with accompanying private key");return new u((0,n.createSecureContext)({ca:null!==(a=null!=e?e:(0,o.getDefaultRootsData)())&&void 0!==a?a:void 0,key:null!=t?t:void 0,cert:null!=r?r:void 0,ciphers:o.CIPHER_SUITES}),null!=i?i:{})}static createFromSecureContext(e,t){return new u(e,null!=t?t:{})}static createInsecure(){return new l}}t.ChannelCredentials=a;class l extends a{constructor(e){super(e)}compose(e){throw Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(e){return e instanceof l}}class u extends a{constructor(e,t){super(),this.secureContext=e,this.verifyOptions=t,this.connectionOptions={secureContext:e},(null==t?void 0:t.checkServerIdentity)&&(this.connectionOptions.checkServerIdentity=t.checkServerIdentity)}compose(e){return new c(this,this.callCredentials.compose(e))}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(e){return this===e||e instanceof u&&this.secureContext===e.secureContext&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity}}class c extends a{constructor(e,t){super(t),this.channelCredentials=e}compose(e){let t=this.callCredentials.compose(e);return new c(this.channelCredentials,t)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(e){return this===e||e instanceof c&&this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials)}}},89455:(e,t)=>{"use strict";function r(e,t){let r=Object.keys(e).sort(),n=Object.keys(t).sort();if(r.length!==n.length)return!1;for(let i=0;i<r.length;i+=1)if(r[i]!==n[i]||e[r[i]]!==t[n[i]])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.channelOptionsEqual=t.recognizedOptions=void 0,t.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0},t.channelOptionsEqual=r},39452:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelImplementation=void 0;let n=r(70499),i=r(29359);class o{constructor(e,t,r){if("string"!=typeof e)throw TypeError("Channel target must be a string");if(!(t instanceof n.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(r&&"object"!=typeof r)throw TypeError("Channel options must be an object");this.internalChannel=new i.InternalChannel(e,t,r)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(e){return this.internalChannel.getConnectivityState(e)}watchConnectivityState(e,t,r){this.internalChannel.watchConnectivityState(e,t,r)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(e,t,r,n,i){if("string"!=typeof e)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof t||t instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(e,t,r,n,i)}}t.ChannelImplementation=o},65962:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.getChannelzServiceDefinition=t.getChannelzHandlers=t.unregisterChannelzRef=t.registerChannelzSocket=t.registerChannelzServer=t.registerChannelzSubchannel=t.registerChannelzChannel=t.ChannelzCallTracker=t.ChannelzChildrenTracker=t.ChannelzTrace=void 0;let n=r(41808),i=r(72409),o=r(19572),s=r(74955),a=r(27749),l=r(54529);function u(e){return{channel_id:e.id,name:e.name}}function c(e){return{subchannel_id:e.id,name:e.name}}function d(e){return{server_id:e.id}}function h(e){return{socket_id:e.id,name:e.name}}let p=32;class f{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(e,t,r){let n=new Date;this.events.push({description:t,severity:e,timestamp:n,childChannel:(null==r?void 0:r.kind)==="channel"?r:void 0,childSubchannel:(null==r?void 0:r.kind)==="subchannel"?r:void 0}),this.events.length>=2*p&&(this.events=this.events.slice(p)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:P(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(e=>({description:e.description,severity:e.severity,timestamp:P(e.timestamp),channel_ref:e.childChannel?u(e.childChannel):null,subchannel_ref:e.childSubchannel?c(e.childSubchannel):null}))}}}t.ChannelzTrace=f;class m{constructor(){this.channelChildren=new Map,this.subchannelChildren=new Map,this.socketChildren=new Map}refChild(e){var t,r,n;switch(e.kind){case"channel":{let r=null!==(t=this.channelChildren.get(e.id))&&void 0!==t?t:{ref:e,count:0};r.count+=1,this.channelChildren.set(e.id,r);break}case"subchannel":{let t=null!==(r=this.subchannelChildren.get(e.id))&&void 0!==r?r:{ref:e,count:0};t.count+=1,this.subchannelChildren.set(e.id,t);break}case"socket":{let t=null!==(n=this.socketChildren.get(e.id))&&void 0!==n?n:{ref:e,count:0};t.count+=1,this.socketChildren.set(e.id,t)}}}unrefChild(e){switch(e.kind){case"channel":{let t=this.channelChildren.get(e.id);void 0!==t&&(t.count-=1,0===t.count?this.channelChildren.delete(e.id):this.channelChildren.set(e.id,t));break}case"subchannel":{let t=this.subchannelChildren.get(e.id);void 0!==t&&(t.count-=1,0===t.count?this.subchannelChildren.delete(e.id):this.subchannelChildren.set(e.id,t));break}case"socket":{let t=this.socketChildren.get(e.id);void 0!==t&&(t.count-=1,0===t.count?this.socketChildren.delete(e.id):this.socketChildren.set(e.id,t))}}}getChildLists(){let e=[];for(let{ref:t}of this.channelChildren.values())e.push(t);let t=[];for(let{ref:e}of this.subchannelChildren.values())t.push(e);let r=[];for(let{ref:e}of this.socketChildren.values())r.push(e);return{channels:e,subchannels:t,sockets:r}}}t.ChannelzChildrenTracker=m;class g{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}}t.ChannelzCallTracker=g;let y=1;function v(){return y++}let b=[],E=[],S=[],_=[];function T(e,t,r){let n=v(),i={id:n,name:e,kind:"channel"};return r&&(b[n]={ref:i,getInfo:t}),i}function A(e,t,r){let n=v(),i={id:n,name:e,kind:"subchannel"};return r&&(E[n]={ref:i,getInfo:t}),i}function C(e,t){let r=v(),n={id:r,kind:"server"};return t&&(S[r]={ref:n,getInfo:e}),n}function w(e,t,r){let n=v(),i={id:n,name:e,kind:"socket"};return r&&(_[n]={ref:i,getInfo:t}),i}function O(e){switch(e.kind){case"channel":delete b[e.id];return;case"subchannel":delete E[e.id];return;case"server":delete S[e.id];return;case"socket":delete _[e.id];return}}function R(e){let t=Number.parseInt(e,16);return[t/256|0,t%256]}function x(e){return""===e?[]:[].concat(...e.split(":").map(e=>R(e)))}function I(e){if((0,n.isIPv4)(e))return Buffer.from(Uint8Array.from(e.split(".").map(e=>Number.parseInt(e))));if(!(0,n.isIPv6)(e))return null;{let t,r;let n=e.indexOf("::");-1===n?(t=e,r=""):(t=e.substring(0,n),r=e.substring(n+2));let i=Buffer.from(x(t)),o=Buffer.from(x(r)),s=Buffer.alloc(16-i.length-o.length,0);return Buffer.concat([i,s,o])}}function D(e){switch(e){case i.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case i.ConnectivityState.IDLE:return{state:"IDLE"};case i.ConnectivityState.READY:return{state:"READY"};case i.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case i.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function P(e){if(!e)return null;let t=e.getTime();return{seconds:t/1e3|0,nanos:t%1e3*1e6}}function N(e){let t=e.getInfo();return{ref:u(e.ref),data:{target:t.target,state:D(t.state),calls_started:t.callTracker.callsStarted,calls_succeeded:t.callTracker.callsSucceeded,calls_failed:t.callTracker.callsFailed,last_call_started_timestamp:P(t.callTracker.lastCallStartedTimestamp),trace:t.trace.getTraceMessage()},channel_ref:t.children.channels.map(e=>u(e)),subchannel_ref:t.children.subchannels.map(e=>c(e))}}function k(e,t){let r=Number.parseInt(e.request.channel_id),n=b[r];if(void 0===n){t({code:o.Status.NOT_FOUND,details:"No channel data found for id "+r});return}t(null,{channel:N(n)})}function M(e,t){let r=Number.parseInt(e.request.max_results),n=[],i=Number.parseInt(e.request.start_channel_id);for(;i<b.length;i++){let e=b[i];if(void 0!==e&&(n.push(N(e)),n.length>=r))break}t(null,{channel:n,end:i>=S.length})}function L(e){let t=e.getInfo();return{ref:d(e.ref),data:{calls_started:t.callTracker.callsStarted,calls_succeeded:t.callTracker.callsSucceeded,calls_failed:t.callTracker.callsFailed,last_call_started_timestamp:P(t.callTracker.lastCallStartedTimestamp),trace:t.trace.getTraceMessage()},listen_socket:t.listenerChildren.sockets.map(e=>h(e))}}function B(e,t){let r=Number.parseInt(e.request.server_id),n=S[r];if(void 0===n){t({code:o.Status.NOT_FOUND,details:"No server data found for id "+r});return}t(null,{server:L(n)})}function j(e,t){let r=Number.parseInt(e.request.max_results),n=[],i=Number.parseInt(e.request.start_server_id);for(;i<S.length;i++){let e=S[i];if(void 0!==e&&(n.push(L(e)),n.length>=r))break}t(null,{server:n,end:i>=S.length})}function F(e,t){let r=Number.parseInt(e.request.subchannel_id),n=E[r];if(void 0===n){t({code:o.Status.NOT_FOUND,details:"No subchannel data found for id "+r});return}let i=n.getInfo();t(null,{subchannel:{ref:c(n.ref),data:{target:i.target,state:D(i.state),calls_started:i.callTracker.callsStarted,calls_succeeded:i.callTracker.callsSucceeded,calls_failed:i.callTracker.callsFailed,last_call_started_timestamp:P(i.callTracker.lastCallStartedTimestamp),trace:i.trace.getTraceMessage()},socket_ref:i.children.sockets.map(e=>h(e))}})}function U(e){var t;return(0,s.isTcpSubchannelAddress)(e)?{address:"tcpip_address",tcpip_address:{ip_address:null!==(t=I(e.host))&&void 0!==t?t:void 0,port:e.port}}:{address:"uds_address",uds_address:{filename:e.path}}}function V(e,t){var r,n,i,s,a;let l=Number.parseInt(e.request.socket_id),u=_[l];if(void 0===u){t({code:o.Status.NOT_FOUND,details:"No socket data found for id "+l});return}let c=u.getInfo(),d=c.security?{model:"tls",tls:{cipher_suite:c.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:null!==(r=c.security.cipherSuiteStandardName)&&void 0!==r?r:void 0,other_name:null!==(n=c.security.cipherSuiteOtherName)&&void 0!==n?n:void 0,local_certificate:null!==(i=c.security.localCertificate)&&void 0!==i?i:void 0,remote_certificate:null!==(s=c.security.remoteCertificate)&&void 0!==s?s:void 0}}:null;t(null,{socket:{ref:h(u.ref),local:c.localAddress?U(c.localAddress):null,remote:c.remoteAddress?U(c.remoteAddress):null,remote_name:null!==(a=c.remoteName)&&void 0!==a?a:void 0,security:d,data:{keep_alives_sent:c.keepAlivesSent,streams_started:c.streamsStarted,streams_succeeded:c.streamsSucceeded,streams_failed:c.streamsFailed,last_local_stream_created_timestamp:P(c.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:P(c.lastRemoteStreamCreatedTimestamp),messages_received:c.messagesReceived,messages_sent:c.messagesSent,last_message_received_timestamp:P(c.lastMessageReceivedTimestamp),last_message_sent_timestamp:P(c.lastMessageSentTimestamp),local_flow_control_window:c.localFlowControlWindow?{value:c.localFlowControlWindow}:null,remote_flow_control_window:c.remoteFlowControlWindow?{value:c.remoteFlowControlWindow}:null}}})}function z(e,t){let r=Number.parseInt(e.request.server_id),n=S[r];if(void 0===n){t({code:o.Status.NOT_FOUND,details:"No server data found for id "+r});return}let i=Number.parseInt(e.request.start_socket_id),s=Number.parseInt(e.request.max_results),a=n.getInfo().sessionChildren.sockets.sort((e,t)=>e.id-t.id),l=[],u=0;for(;u<a.length&&(!(a[u].id>=i)||(l.push(h(a[u])),!(l.length>=s)));u++);t(null,{socket_ref:l,end:u>=a.length})}function G(){return{GetChannel:k,GetTopChannels:M,GetServer:B,GetServers:j,GetSubchannel:F,GetSocket:V,GetServerSockets:z}}t.registerChannelzChannel=T,t.registerChannelzSubchannel=A,t.registerChannelzServer=C,t.registerChannelzSocket=w,t.unregisterChannelzRef=O,t.getChannelzHandlers=G;let $=null;function H(){if($)return $;let e=(0,r(13716).J_)("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return $=(0,l.loadPackageDefinition)(e).grpc.channelz.v1.Channelz.service}function q(){(0,a.registerAdminService)(H,G)}t.getChannelzServiceDefinition=H,t.setup=q},61809:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInterceptingCall=t.InterceptingCall=t.RequesterBuilder=t.ListenerBuilder=t.InterceptorConfigurationError=void 0;let n=r(6281),i=r(41218),o=r(19572),s=r(96027);class a extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,a)}}t.InterceptorConfigurationError=a;class l{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}}t.ListenerBuilder=l;class u{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}}t.RequesterBuilder=u;let c={onReceiveMetadata:(e,t)=>{t(e)},onReceiveMessage:(e,t)=>{t(e)},onReceiveStatus:(e,t)=>{t(e)}},d={start:(e,t,r)=>{r(e,t)},sendMessage:(e,t)=>{t(e)},halfClose:e=>{e()},cancel:e=>{e()}};class h{constructor(e,t){var r,n,i,o;this.nextCall=e,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,t?this.requester={start:null!==(r=t.start)&&void 0!==r?r:d.start,sendMessage:null!==(n=t.sendMessage)&&void 0!==n?n:d.sendMessage,halfClose:null!==(i=t.halfClose)&&void 0!==i?i:d.halfClose,cancel:null!==(o=t.cancel)&&void 0!==o?o:d.cancel}:this.requester=d}cancelWithStatus(e,t){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(e,t)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(e,t){var r,n,o,s,a,l;let u={onReceiveMetadata:null!==(n=null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r?void 0:r.bind(t))&&void 0!==n?n:e=>{},onReceiveMessage:null!==(s=null===(o=null==t?void 0:t.onReceiveMessage)||void 0===o?void 0:o.bind(t))&&void 0!==s?s:e=>{},onReceiveStatus:null!==(l=null===(a=null==t?void 0:t.onReceiveStatus)||void 0===a?void 0:a.bind(t))&&void 0!==l?l:e=>{}};this.processingMetadata=!0,this.requester.start(e,u,(e,t)=>{var r,n,o;let s;if(this.processingMetadata=!1,(0,i.isInterceptingListener)(t))s=t;else{let e={onReceiveMetadata:null!==(r=t.onReceiveMetadata)&&void 0!==r?r:c.onReceiveMetadata,onReceiveMessage:null!==(n=t.onReceiveMessage)&&void 0!==n?n:c.onReceiveMessage,onReceiveStatus:null!==(o=t.onReceiveStatus)&&void 0!==o?o:c.onReceiveStatus};s=new i.InterceptingListenerImpl(e,u)}this.nextCall.start(e,s),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(e,t){this.processingMessage=!0,this.requester.sendMessage(t,r=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=e,this.pendingMessage=t):(this.nextCall.sendMessageWithContext(e,r),this.processPendingHalfClose())})}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}}function p(e,t,r){var n,i;let o=null!==(n=r.deadline)&&void 0!==n?n:1/0,s=r.host,a=null!==(i=r.parent)&&void 0!==i?i:null,l=r.propagate_flags,u=r.credentials,c=e.createCall(t,o,s,a,l);return u&&c.setCredentials(u),c}t.InterceptingCall=h;class f{constructor(e,t){this.call=e,this.methodDefinition=t}cancelWithStatus(e,t){this.call.cancelWithStatus(e,t)}getPeer(){return this.call.getPeer()}sendMessageWithContext(e,t){let r;try{r=this.methodDefinition.requestSerialize(t)}catch(e){this.call.cancelWithStatus(o.Status.INTERNAL,`Request message serialization failure: ${(0,s.getErrorMessage)(e)}`);return}this.call.sendMessageWithContext(e,r)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,t){let r=null;this.call.start(e,{onReceiveMetadata:e=>{var r;null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r||r.call(t,e)},onReceiveMessage:e=>{var i;let a;try{a=this.methodDefinition.responseDeserialize(e)}catch(e){r={code:o.Status.INTERNAL,details:`Response message parsing error: ${(0,s.getErrorMessage)(e)}`,metadata:new n.Metadata},this.call.cancelWithStatus(r.code,r.details);return}null===(i=null==t?void 0:t.onReceiveMessage)||void 0===i||i.call(t,a)},onReceiveStatus:e=>{var n,i;r?null===(n=null==t?void 0:t.onReceiveStatus)||void 0===n||n.call(t,r):null===(i=null==t?void 0:t.onReceiveStatus)||void 0===i||i.call(t,e)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}}class m extends f{constructor(e,t){super(e,t)}start(e,t){var r,n;let i=!1,o={onReceiveMetadata:null!==(n=null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r?void 0:r.bind(t))&&void 0!==n?n:e=>{},onReceiveMessage:e=>{var r;i=!0,null===(r=null==t?void 0:t.onReceiveMessage)||void 0===r||r.call(t,e)},onReceiveStatus:e=>{var r,n;i||null===(r=null==t?void 0:t.onReceiveMessage)||void 0===r||r.call(t,null),null===(n=null==t?void 0:t.onReceiveStatus)||void 0===n||n.call(t,e)}};super.start(e,o),this.call.startRead()}}class g extends f{}function y(e,t,r){let n=p(e,r.path,t);return r.responseStream?new g(n,r):new m(n,r)}function v(e,t,r,n){if(e.clientInterceptors.length>0&&e.clientInterceptorProviders.length>0)throw new a("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(e.callInterceptors.length>0&&e.callInterceptorProviders.length>0)throw new a("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let i=[];i=e.callInterceptors.length>0||e.callInterceptorProviders.length>0?[].concat(e.callInterceptors,e.callInterceptorProviders.map(e=>e(t))).filter(e=>e):[].concat(e.clientInterceptors,e.clientInterceptorProviders.map(e=>e(t))).filter(e=>e);let o=Object.assign({},r,{method_definition:t});return i.reduceRight((e,t)=>r=>t(r,e),e=>y(n,e,t))(o)}t.getInterceptingCall=v},91865:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;let n=r(7639),i=r(39452),o=r(72409),s=r(19572),a=r(6281),l=r(61809),u=Symbol(),c=Symbol(),d=Symbol(),h=Symbol();function p(e){return"function"==typeof e}function f(e){return e.stack.split("\n").slice(1).join("\n")}class m{constructor(e,t,r={}){var n,o;if(r=Object.assign({},r),this[c]=null!==(n=r.interceptors)&&void 0!==n?n:[],delete r.interceptors,this[d]=null!==(o=r.interceptor_providers)&&void 0!==o?o:[],delete r.interceptor_providers,this[c].length>0&&this[d].length>0)throw Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[h]=r.callInvocationTransformer,delete r.callInvocationTransformer,r.channelOverride)this[u]=r.channelOverride;else if(r.channelFactoryOverride){let n=r.channelFactoryOverride;delete r.channelFactoryOverride,this[u]=n(e,t,r)}else this[u]=new i.ChannelImplementation(e,t,r)}close(){this[u].close()}getChannel(){return this[u]}waitForReady(e,t){let r=n=>{let i;if(n){t(Error("Failed to connect before the deadline"));return}try{i=this[u].getConnectivityState(!0)}catch(e){t(Error("The channel has been closed"));return}if(i===o.ConnectivityState.READY)t();else try{this[u].watchConnectivityState(i,e,r)}catch(e){t(Error("The channel has been closed"))}};setImmediate(r)}checkOptionalUnaryResponseArguments(e,t,r){if(p(e))return{metadata:new a.Metadata,options:{},callback:e};if(p(t))return e instanceof a.Metadata?{metadata:e,options:{},callback:t}:{metadata:new a.Metadata,options:e,callback:t};if(!(e instanceof a.Metadata&&t instanceof Object&&p(r)))throw Error("Incorrect arguments passed");return{metadata:e,options:t,callback:r}}makeUnaryRequest(e,t,r,i,o,a,p){var m,g;let y=this.checkOptionalUnaryResponseArguments(o,a,p),v={path:e,requestStream:!1,responseStream:!1,requestSerialize:t,responseDeserialize:r},b={argument:i,metadata:y.metadata,call:new n.ClientUnaryCallImpl,channel:this[u],methodDefinition:v,callOptions:y.options,callback:y.callback};this[h]&&(b=this[h](b));let E=b.call,S={clientInterceptors:this[c],clientInterceptorProviders:this[d],callInterceptors:null!==(m=b.callOptions.interceptors)&&void 0!==m?m:[],callInterceptorProviders:null!==(g=b.callOptions.interceptor_providers)&&void 0!==g?g:[]},_=(0,l.getInterceptingCall)(S,b.methodDefinition,b.callOptions,b.channel);E.call=_;let T=null,A=!1,C=Error();return _.start(b.metadata,{onReceiveMetadata:e=>{E.emit("metadata",e)},onReceiveMessage(e){null!==T&&_.cancelWithStatus(s.Status.INTERNAL,"Too many responses received"),T=e},onReceiveStatus(e){if(!A){if(A=!0,e.code===s.Status.OK){if(null===T){let t=f(C);b.callback((0,n.callErrorFromStatus)({code:s.Status.INTERNAL,details:"No message received",metadata:e.metadata},t))}else b.callback(null,T)}else{let t=f(C);b.callback((0,n.callErrorFromStatus)(e,t))}C=null,E.emit("status",e)}}}),_.sendMessage(i),_.halfClose(),E}makeClientStreamRequest(e,t,r,i,o,a){var p,m;let g=this.checkOptionalUnaryResponseArguments(i,o,a),y={path:e,requestStream:!0,responseStream:!1,requestSerialize:t,responseDeserialize:r},v={metadata:g.metadata,call:new n.ClientWritableStreamImpl(t),channel:this[u],methodDefinition:y,callOptions:g.options,callback:g.callback};this[h]&&(v=this[h](v));let b=v.call,E={clientInterceptors:this[c],clientInterceptorProviders:this[d],callInterceptors:null!==(p=v.callOptions.interceptors)&&void 0!==p?p:[],callInterceptorProviders:null!==(m=v.callOptions.interceptor_providers)&&void 0!==m?m:[]},S=(0,l.getInterceptingCall)(E,v.methodDefinition,v.callOptions,v.channel);b.call=S;let _=null,T=!1,A=Error();return S.start(v.metadata,{onReceiveMetadata:e=>{b.emit("metadata",e)},onReceiveMessage(e){null!==_&&S.cancelWithStatus(s.Status.INTERNAL,"Too many responses received"),_=e},onReceiveStatus(e){if(!T){if(T=!0,e.code===s.Status.OK){if(null===_){let t=f(A);v.callback((0,n.callErrorFromStatus)({code:s.Status.INTERNAL,details:"No message received",metadata:e.metadata},t))}else v.callback(null,_)}else{let t=f(A);v.callback((0,n.callErrorFromStatus)(e,t))}A=null,b.emit("status",e)}}}),b}checkMetadataAndOptions(e,t){let r,n;return e instanceof a.Metadata?(r=e,n=t||{}):(n=e||{},r=new a.Metadata),{metadata:r,options:n}}makeServerStreamRequest(e,t,r,i,o,a){var p,m;let g=this.checkMetadataAndOptions(o,a),y={path:e,requestStream:!1,responseStream:!0,requestSerialize:t,responseDeserialize:r},v={argument:i,metadata:g.metadata,call:new n.ClientReadableStreamImpl(r),channel:this[u],methodDefinition:y,callOptions:g.options};this[h]&&(v=this[h](v));let b=v.call,E={clientInterceptors:this[c],clientInterceptorProviders:this[d],callInterceptors:null!==(p=v.callOptions.interceptors)&&void 0!==p?p:[],callInterceptorProviders:null!==(m=v.callOptions.interceptor_providers)&&void 0!==m?m:[]},S=(0,l.getInterceptingCall)(E,v.methodDefinition,v.callOptions,v.channel);b.call=S;let _=!1,T=Error();return S.start(v.metadata,{onReceiveMetadata(e){b.emit("metadata",e)},onReceiveMessage(e){b.push(e)},onReceiveStatus(e){if(!_){if(_=!0,b.push(null),e.code!==s.Status.OK){let t=f(T);b.emit("error",(0,n.callErrorFromStatus)(e,t))}T=null,b.emit("status",e)}}}),S.sendMessage(i),S.halfClose(),b}makeBidiStreamRequest(e,t,r,i,o){var a,p;let m=this.checkMetadataAndOptions(i,o),g={path:e,requestStream:!0,responseStream:!0,requestSerialize:t,responseDeserialize:r},y={metadata:m.metadata,call:new n.ClientDuplexStreamImpl(t,r),channel:this[u],methodDefinition:g,callOptions:m.options};this[h]&&(y=this[h](y));let v=y.call,b={clientInterceptors:this[c],clientInterceptorProviders:this[d],callInterceptors:null!==(a=y.callOptions.interceptors)&&void 0!==a?a:[],callInterceptorProviders:null!==(p=y.callOptions.interceptor_providers)&&void 0!==p?p:[]},E=(0,l.getInterceptingCall)(b,y.methodDefinition,y.callOptions,y.channel);v.call=E;let S=!1,_=Error();return E.start(y.metadata,{onReceiveMetadata(e){v.emit("metadata",e)},onReceiveMessage(e){v.push(e)},onReceiveStatus(e){if(!S){if(S=!0,v.push(null),e.code!==s.Status.OK){let t=f(_);v.emit("error",(0,n.callErrorFromStatus)(e,t))}_=null,v.emit("status",e)}}}),v}}t.Client=m},74334:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CompressionAlgorithms=void 0,function(e){e[e.identity=0]="identity",e[e.deflate=1]="deflate",e[e.gzip=2]="gzip"}(r||(t.CompressionAlgorithms=r={}))},16289:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompressionFilterFactory=t.CompressionFilter=void 0;let n=r(59796),i=r(74334),o=r(19572),s=r(53223),a=r(25792),l=e=>"number"==typeof e&&"string"==typeof i.CompressionAlgorithms[e];class u{async writeMessage(e,t){let r=e;t&&(r=await this.compressMessage(r));let n=Buffer.allocUnsafe(r.length+5);return n.writeUInt8(t?1:0,0),n.writeUInt32BE(r.length,1),r.copy(n,5),n}async readMessage(e){let t=1===e.readUInt8(0),r=e.slice(5);return t&&(r=await this.decompressMessage(r)),r}}class c extends u{async compressMessage(e){return e}async writeMessage(e,t){let r=Buffer.allocUnsafe(e.length+5);return r.writeUInt8(0,0),r.writeUInt32BE(e.length,1),e.copy(r,5),r}decompressMessage(e){return Promise.reject(Error('Received compressed message but "grpc-encoding" header was identity'))}}class d extends u{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,r)=>{n.deflate(e,(e,n)=>{e?r(e):t(n)})})}decompressMessage(e){return new Promise((t,r)=>{let i=0,s=[],a=n.createInflate();a.on("data",e=>{s.push(e),i+=e.byteLength,-1!==this.maxRecvMessageLength&&i>this.maxRecvMessageLength&&(a.destroy(),r({code:o.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),a.on("end",()=>{t(Buffer.concat(s))}),a.write(e),a.end()})}}class h extends u{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,r)=>{n.gzip(e,(e,n)=>{e?r(e):t(n)})})}decompressMessage(e){return new Promise((t,r)=>{let i=0,s=[],a=n.createGunzip();a.on("data",e=>{s.push(e),i+=e.byteLength,-1!==this.maxRecvMessageLength&&i>this.maxRecvMessageLength&&(a.destroy(),r({code:o.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),a.on("end",()=>{t(Buffer.concat(s))}),a.write(e),a.end()})}}class p extends u{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(Error(`Compression method not supported: ${this.compressionName}`))}}function f(e,t){switch(e){case"identity":return new c;case"deflate":return new d(t);case"gzip":return new h(t);default:return new p(e)}}class m extends s.BaseFilter{constructor(e,t){var r,n;super(),this.sharedFilterConfig=t,this.sendCompression=new c,this.receiveCompression=new c,this.currentCompressionAlgorithm="identity";let s=e["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=null!==(r=e["grpc.max_receive_message_length"])&&void 0!==r?r:o.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,void 0!==s){if(l(s)){let e=i.CompressionAlgorithms[s],r=null===(n=t.serverSupportedEncodingHeader)||void 0===n?void 0:n.split(",");(!r||r.includes(e))&&(this.currentCompressionAlgorithm=e,this.sendCompression=f(this.currentCompressionAlgorithm,-1))}else a.log(o.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${s}`)}}async sendMetadata(e){let t=await e;return t.set("grpc-accept-encoding","identity,deflate,gzip"),t.set("accept-encoding","identity"),"identity"===this.currentCompressionAlgorithm?t.remove("grpc-encoding"):t.set("grpc-encoding",this.currentCompressionAlgorithm),t}receiveMetadata(e){let t=e.get("grpc-encoding");if(t.length>0){let e=t[0];"string"==typeof e&&(this.receiveCompression=f(e,this.maxReceiveMessageLength))}e.remove("grpc-encoding");let r=e.get("grpc-accept-encoding")[0];return r&&(this.sharedFilterConfig.serverSupportedEncodingHeader=r,r.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new c,this.currentCompressionAlgorithm="identity")),e.remove("grpc-accept-encoding"),e}async sendMessage(e){var t;let r;let n=await e;return r=!(this.sendCompression instanceof c)&&((null!==(t=n.flags)&&void 0!==t?t:0)&2)==0,{message:await this.sendCompression.writeMessage(n.message,r),flags:n.flags}}async receiveMessage(e){return this.receiveCompression.readMessage(await e)}}t.CompressionFilter=m;class g{constructor(e,t){this.options=t,this.sharedFilterConfig={}}createFilter(){return new m(this.options,this.sharedFilterConfig)}}t.CompressionFilterFactory=g},72409:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectivityState=void 0,function(e){e[e.IDLE=0]="IDLE",e[e.CONNECTING=1]="CONNECTING",e[e.READY=2]="READY",e[e.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",e[e.SHUTDOWN=4]="SHUTDOWN"}(r||(t.ConnectivityState=r={}))},19572:(e,t)=>{"use strict";var r,n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=t.Propagate=t.LogVerbosity=t.Status=void 0,function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(r||(t.Status=r={})),function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.ERROR=2]="ERROR",e[e.NONE=3]="NONE"}(n||(t.LogVerbosity=n={})),function(e){e[e.DEADLINE=1]="DEADLINE",e[e.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",e[e.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",e[e.CANCELLATION=8]="CANCELLATION",e[e.DEFAULTS=65535]="DEFAULTS"}(i||(t.Propagate=i={})),t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1,t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4194304},55607:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.restrictControlPlaneStatusCode=void 0;let n=r(19572),i=[n.Status.OK,n.Status.INVALID_ARGUMENT,n.Status.NOT_FOUND,n.Status.ALREADY_EXISTS,n.Status.FAILED_PRECONDITION,n.Status.ABORTED,n.Status.OUT_OF_RANGE,n.Status.DATA_LOSS];function o(e,t){return i.includes(e)?{code:n.Status.INTERNAL,details:`Invalid status from control plane: ${e} ${n.Status[e]} ${t}`}:{code:e,details:t}}t.restrictControlPlaneStatusCode=o},17360:(e,t)=>{"use strict";function r(...e){let t=1/0;for(let r of e){let e=r instanceof Date?r.getTime():r;e<t&&(t=e)}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.deadlineToString=t.getRelativeTimeout=t.getDeadlineTimeoutString=t.minDeadline=void 0,t.minDeadline=r;let n=[["m",1],["S",1e3],["M",6e4],["H",36e5]];function i(e){let t=new Date().getTime();e instanceof Date&&(e=e.getTime());let r=Math.max(e-t,0);for(let[e,t]of n){let n=r/t;if(n<1e8)return String(Math.ceil(n))+e}throw Error("Deadline is too far in the future")}t.getDeadlineTimeoutString=i;let o=2147483647;function s(e){let t=(e instanceof Date?e.getTime():e)-new Date().getTime();return t<0?0:t>o?1/0:t}function a(e){if(e instanceof Date)return e.toISOString();{let t=new Date(e);return Number.isNaN(t.getTime())?""+e:t.toISOString()}}t.getRelativeTimeout=s,t.deadlineToString=a},87974:(e,t)=>{"use strict";function r(e){return{seconds:e/1e3|0,nanos:e%1e3*1e6|0}}function n(e){return 1e3*e.seconds+e.nanos/1e6|0}function i(e){return"number"==typeof e.seconds&&"number"==typeof e.nanos}Object.defineProperty(t,"__esModule",{value:!0}),t.isDuration=t.durationToMs=t.msToDuration=void 0,t.msToDuration=r,t.durationToMs=n,t.isDuration=i},96027:(e,t)=>{"use strict";function r(e){return e instanceof Error?e.message:String(e)}function n(e){return"object"==typeof e&&null!==e&&"code"in e&&"number"==typeof e.code?e.code:null}Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.getErrorMessage=void 0,t.getErrorMessage=r,t.getErrorCode=n},38779:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutlierDetectionLoadBalancingConfig=t.BaseSubchannelWrapper=t.registerAdminService=t.FilterStackFactory=t.BaseFilter=t.PickResultType=t.QueuePicker=t.UnavailablePicker=t.ChildLoadBalancerHandler=t.subchannelAddressToString=t.validateLoadBalancingConfig=t.getFirstUsableConfig=t.registerLoadBalancerType=t.createChildChannelControlHelper=t.BackoffTimeout=t.durationToMs=t.uriToString=t.createResolver=t.registerResolver=t.log=t.trace=void 0;var n=r(25792);Object.defineProperty(t,"trace",{enumerable:!0,get:function(){return n.trace}}),Object.defineProperty(t,"log",{enumerable:!0,get:function(){return n.log}});var i=r(84063);Object.defineProperty(t,"registerResolver",{enumerable:!0,get:function(){return i.registerResolver}}),Object.defineProperty(t,"createResolver",{enumerable:!0,get:function(){return i.createResolver}});var o=r(55541);Object.defineProperty(t,"uriToString",{enumerable:!0,get:function(){return o.uriToString}});var s=r(87974);Object.defineProperty(t,"durationToMs",{enumerable:!0,get:function(){return s.durationToMs}});var a=r(1742);Object.defineProperty(t,"BackoffTimeout",{enumerable:!0,get:function(){return a.BackoffTimeout}});var l=r(69884);Object.defineProperty(t,"createChildChannelControlHelper",{enumerable:!0,get:function(){return l.createChildChannelControlHelper}}),Object.defineProperty(t,"registerLoadBalancerType",{enumerable:!0,get:function(){return l.registerLoadBalancerType}}),Object.defineProperty(t,"getFirstUsableConfig",{enumerable:!0,get:function(){return l.getFirstUsableConfig}}),Object.defineProperty(t,"validateLoadBalancingConfig",{enumerable:!0,get:function(){return l.validateLoadBalancingConfig}});var u=r(74955);Object.defineProperty(t,"subchannelAddressToString",{enumerable:!0,get:function(){return u.subchannelAddressToString}});var c=r(42731);Object.defineProperty(t,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return c.ChildLoadBalancerHandler}});var d=r(2352);Object.defineProperty(t,"UnavailablePicker",{enumerable:!0,get:function(){return d.UnavailablePicker}}),Object.defineProperty(t,"QueuePicker",{enumerable:!0,get:function(){return d.QueuePicker}}),Object.defineProperty(t,"PickResultType",{enumerable:!0,get:function(){return d.PickResultType}});var h=r(53223);Object.defineProperty(t,"BaseFilter",{enumerable:!0,get:function(){return h.BaseFilter}});var p=r(59386);Object.defineProperty(t,"FilterStackFactory",{enumerable:!0,get:function(){return p.FilterStackFactory}});var f=r(27749);Object.defineProperty(t,"registerAdminService",{enumerable:!0,get:function(){return f.registerAdminService}});var m=r(40487);Object.defineProperty(t,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return m.BaseSubchannelWrapper}});var g=r(7542);Object.defineProperty(t,"OutlierDetectionLoadBalancingConfig",{enumerable:!0,get:function(){return g.OutlierDetectionLoadBalancingConfig}})},59386:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilterStackFactory=t.FilterStack=void 0;class r{constructor(e){this.filters=e}sendMetadata(e){let t=e;for(let e=0;e<this.filters.length;e++)t=this.filters[e].sendMetadata(t);return t}receiveMetadata(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveMetadata(t);return t}sendMessage(e){let t=e;for(let e=0;e<this.filters.length;e++)t=this.filters[e].sendMessage(t);return t}receiveMessage(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveMessage(t);return t}receiveTrailers(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveTrailers(t);return t}push(e){this.filters.unshift(...e)}getFilters(){return this.filters}}t.FilterStack=r;class n{constructor(e){this.factories=e}push(e){this.factories.unshift(...e)}clone(){return new n([...this.factories])}createFilter(){return new r(this.factories.map(e=>e.createFilter()))}}t.FilterStackFactory=n},53223:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseFilter=void 0;class r{async sendMetadata(e){return e}receiveMetadata(e){return e}async sendMessage(e){return e}async receiveMessage(e){return e}receiveTrailers(e){return e}}t.BaseFilter=r},85242:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProxiedConnection=t.mapProxyName=void 0;let n=r(25792),i=r(19572),o=r(84063),s=r(13685),a=r(24404),l=r(25792),u=r(74955),c=r(55541),d=r(57310),h=r(48501),p="proxy";function f(e){l.trace(i.LogVerbosity.DEBUG,p,e)}function m(){let e,t="",r="";if(process.env.grpc_proxy)r="grpc_proxy",t=process.env.grpc_proxy;else if(process.env.https_proxy)r="https_proxy",t=process.env.https_proxy;else{if(!process.env.http_proxy)return{};r="http_proxy",t=process.env.http_proxy}try{e=new d.URL(t)}catch(e){return(0,n.log)(i.LogVerbosity.ERROR,`cannot parse value of "${r}" env var`),{}}if("http:"!==e.protocol)return(0,n.log)(i.LogVerbosity.ERROR,`"${e.protocol}" scheme not supported in proxy URI`),{};let o=null;e.username&&(e.password?((0,n.log)(i.LogVerbosity.INFO,"userinfo found in proxy URI"),o=`${e.username}:${e.password}`):o=e.username);let s=e.hostname,a=e.port;""===a&&(a="80");let l={address:`${s}:${a}`};return o&&(l.creds=o),f("Proxy server "+l.address+" set by environment variable "+r),l}function g(){let e=process.env.no_grpc_proxy,t="no_grpc_proxy";return(e||(e=process.env.no_proxy,t="no_proxy"),e)?(f("No proxy server list set by environment variable "+t),e.split(",")):[]}function y(e,t){var r;let n={target:e,extraOptions:{}};if((null!==(r=t["grpc.enable_http_proxy"])&&void 0!==r?r:1)===0||"unix"===e.scheme)return n;let i=m();if(!i.address)return n;let o=(0,c.splitHostPort)(e.path);if(!o)return n;let s=o.host;for(let t of g())if(t===s)return f("Not using proxy for target in no_proxy list: "+(0,c.uriToString)(e)),n;let a={"grpc.http_connect_target":(0,c.uriToString)(e)};return i.creds&&(a["grpc.http_connect_creds"]=i.creds),{target:{scheme:"dns",path:i.address},extraOptions:a}}function v(e,t,r){var l;if(!("grpc.http_connect_target"in t))return Promise.resolve({});let d=t["grpc.http_connect_target"],p=(0,c.parseUri)(d);if(null===p)return Promise.resolve({});let m=(0,c.splitHostPort)(p.path);if(null===m)return Promise.resolve({});let g=`${m.host}:${null!==(l=m.port)&&void 0!==l?l:h.DEFAULT_PORT}`,y={method:"CONNECT",path:g},v={Host:g};(0,u.isTcpSubchannelAddress)(e)?(y.host=e.host,y.port=e.port):y.socketPath=e.path,"grpc.http_connect_creds"in t&&(v["Proxy-Authorization"]="Basic "+Buffer.from(t["grpc.http_connect_creds"]).toString("base64")),y.headers=v;let b=(0,u.subchannelAddressToString)(e);return f("Using proxy "+b+" to connect to "+y.path),new Promise((e,t)=>{let l=s.request(y);l.once("connect",(s,u,d)=>{var h;if(l.removeAllListeners(),u.removeAllListeners(),200===s.statusCode){if(f("Successfully connected to "+y.path+" through proxy "+b),"secureContext"in r){let n=(0,o.getDefaultAuthority)(p),i=(0,c.splitHostPort)(n),s=null!==(h=null==i?void 0:i.host)&&void 0!==h?h:n,l=a.connect(Object.assign({host:s,servername:s,socket:u},r),()=>{f("Successfully established a TLS connection to "+y.path+" through proxy "+b),e({socket:l,realTarget:p})});l.on("error",e=>{f("Failed to establish a TLS connection to "+y.path+" through proxy "+b+" with error "+e.message),t()})}else f("Successfully established a plaintext connection to "+y.path+" through proxy "+b),e({socket:u,realTarget:p})}else(0,n.log)(i.LogVerbosity.ERROR,"Failed to connect to "+y.path+" through proxy "+b+" with status "+s.statusCode),t()}),l.once("error",e=>{l.removeAllListeners(),(0,n.log)(i.LogVerbosity.ERROR,"Failed to connect to proxy "+b+" with error "+e.message),t()}),l.end()})}t.mapProxyName=y,t.getProxiedConnection=v},1968:(e,t,r)=>{"use strict";g={value:!0},g=g=g=g=g=g=g=g=g=g=g=g=g=g=g=g=g=g=g=g=g=g=g=t.Rz=g=g=g=g=g=g=t.SF=t.K9=void 0;let n=r(45402);g={enumerable:!0,get:function(){return n.CallCredentials}};let i=r(39452);g={enumerable:!0,get:function(){return i.ChannelImplementation}};let o=r(74334);g={enumerable:!0,get:function(){return o.CompressionAlgorithms}};let s=r(72409);g={enumerable:!0,get:function(){return s.ConnectivityState}};let a=r(70499);g={enumerable:!0,get:function(){return a.ChannelCredentials}};let l=r(91865);g={enumerable:!0,get:function(){return l.Client}};let u=r(19572);g={enumerable:!0,get:function(){return u.LogVerbosity}},g={enumerable:!0,get:function(){return u.Status}},g={enumerable:!0,get:function(){return u.Propagate}};let c=r(25792),d=r(54529);Object.defineProperty(t,"Rz",{enumerable:!0,get:function(){return d.loadPackageDefinition}}),g={enumerable:!0,get:function(){return d.makeClientConstructor}},g={enumerable:!0,get:function(){return d.makeClientConstructor}};let h=r(6281);Object.defineProperty(t,"SF",{enumerable:!0,get:function(){return h.Metadata}});let p=r(66418);g={enumerable:!0,get:function(){return p.Server}};let f=r(43783);g={enumerable:!0,get:function(){return f.ServerCredentials}};let m=r(14339);g={enumerable:!0,get:function(){return m.StatusBuilder}},t.K9={combineChannelCredentials:(e,...t)=>t.reduce((e,t)=>e.compose(t),e),combineCallCredentials:(e,...t)=>t.reduce((e,t)=>e.compose(t),e),createInsecure:a.ChannelCredentials.createInsecure,createSsl:a.ChannelCredentials.createSsl,createFromSecureContext:a.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:n.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:n.CallCredentials.createFromGoogleCredential,createEmpty:n.CallCredentials.createEmpty},g=e=>e.close(),g=(e,t,r)=>e.waitForReady(t,r),g=(e,t)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},g=(e,t,r)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},g=e=>{c.setLogger(e)},g=e=>{c.setLoggerVerbosity(e)},g=e=>l.Client.prototype.getChannel.call(e);var g,y=r(61809);g={enumerable:!0,get:function(){return y.ListenerBuilder}},g={enumerable:!0,get:function(){return y.RequesterBuilder}},g={enumerable:!0,get:function(){return y.InterceptingCall}},g={enumerable:!0,get:function(){return y.InterceptorConfigurationError}};var v=r(65962);g={enumerable:!0,get:function(){return v.getChannelzServiceDefinition}},g={enumerable:!0,get:function(){return v.getChannelzHandlers}};var b=r(27749);g={enumerable:!0,get:function(){return b.addAdminServicesToServer}},g=r(38779);let E=r(48501),S=r(47255),_=r(63988),T=r(15102),A=r(14556),C=r(7542),w=r(65962);(()=>{E.setup(),S.setup(),_.setup(),T.setup(),A.setup(),C.setup(),w.setup()})()},29359:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InternalChannel=void 0;let n=r(70499),i=r(77661),o=r(87328),s=r(2352),a=r(19572),l=r(59386),u=r(16289),c=r(84063),d=r(25792),h=r(85242),p=r(55541),f=r(72409),m=r(65962),g=r(91690),y=r(17360),v=r(80080),b=r(21801),E=r(55607),S=r(25627),_=r(40487),T=2147483647,A=1e3,C=18e5,w=new Map,O=16777216,R=1048576;class x extends _.BaseSubchannelWrapper{constructor(e,t){super(e),this.channel=t,this.refCount=0,this.subchannelStateListener=(e,r,n,i)=>{t.throttleKeepalive(i)},e.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}}class I{constructor(e,t,r){var g,y,v,b,_,I,D,P;if(this.credentials=t,this.options=r,this.connectivityState=f.ConnectivityState.IDLE,this.currentPicker=new s.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.callTracker=new m.ChannelzCallTracker,this.childrenTracker=new m.ChannelzChildrenTracker,"string"!=typeof e)throw TypeError("Channel target must be a string");if(!(t instanceof n.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(r&&"object"!=typeof r)throw TypeError("Channel options must be an object");this.originalTarget=e;let N=(0,p.parseUri)(e);if(null===N)throw Error(`Could not parse target name "${e}"`);let k=(0,c.mapUriDefaultScheme)(N);if(null===k)throw Error(`Could not find a default scheme for target name "${e}"`);this.callRefTimer=setInterval(()=>{},T),null===(y=(g=this.callRefTimer).unref)||void 0===y||y.call(g),0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzTrace=new m.ChannelzTrace,this.channelzRef=(0,m.registerChannelzChannel)(e,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,c.getDefaultAuthority)(k);let M=(0,h.mapProxyName)(k,r);this.target=M.target,this.options=Object.assign({},this.options,M.extraOptions),this.subchannelPool=(0,o.getSubchannelPool)((null!==(v=r["grpc.use_local_subchannel_pool"])&&void 0!==v?v:0)===0),this.retryBufferTracker=new S.MessageBufferTracker(null!==(b=r["grpc.retry_buffer_size"])&&void 0!==b?b:O,null!==(_=r["grpc.per_rpc_retry_buffer_size"])&&void 0!==_?_:R),this.keepaliveTime=null!==(I=r["grpc.keepalive_time_ms"])&&void 0!==I?I:-1,this.idleTimeoutMs=Math.max(null!==(D=r["grpc.client_idle_timeout_ms"])&&void 0!==D?D:C,A);let L={createSubchannel:(e,t)=>{let r=this.subchannelPool.getOrCreateSubchannel(this.target,e,Object.assign({},this.options,t),this.credentials);r.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",r.getChannelzRef());let n=new x(r,this);return this.wrappedSubchannels.add(n),n},updateState:(e,t)=>{this.currentPicker=t;let r=this.pickQueue.slice();for(let e of(this.pickQueue=[],r.length>0&&this.callRefTimerUnref(),r))e.doPick();this.updateState(e)},requestReresolution:()=>{throw Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:e=>{this.channelzEnabled&&this.childrenTracker.refChild(e)},removeChannelzChild:e=>{this.channelzEnabled&&this.childrenTracker.unrefChild(e)}};this.resolvingLoadBalancer=new i.ResolvingLoadBalancer(this.target,L,r,(e,t)=>{e.retryThrottling?w.set(this.getTarget(),new S.RetryThrottler(e.retryThrottling.maxTokens,e.retryThrottling.tokenRatio,w.get(this.getTarget()))):w.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=t,this.currentResolutionError=null,process.nextTick(()=>{let e=this.configSelectionQueue;for(let t of(this.configSelectionQueue=[],e.length>0&&this.callRefTimerUnref(),e))t.getConfig()})},e=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+e.code+' and details "'+e.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),null===this.configSelector&&(this.currentResolutionError=Object.assign(Object.assign({},(0,E.restrictControlPlaneStatusCode)(e.code,e.details)),{metadata:e.metadata}));let t=this.configSelectionQueue;for(let r of(this.configSelectionQueue=[],t.length>0&&this.callRefTimerUnref(),t))r.reportResolverError(e)}),this.filterStackFactory=new l.FilterStackFactory([new u.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(r,void 0,2));let B=Error();(0,d.trace)(a.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+") Channel constructed \n"+(null===(P=B.stack)||void 0===P?void 0:P.substring(B.stack.indexOf("\n")+1))),this.lastActivityTimestamp=new Date}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(e,t){(0,d.trace)(null!=t?t:a.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,p.uriToString)(this.target)+" "+e)}callRefTimerRef(){var e,t,r,n;(null===(t=(e=this.callRefTimer).hasRef)||void 0===t?void 0:t.call(e))||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(n=(r=this.callRefTimer).ref)||void 0===n||n.call(r))}callRefTimerUnref(){var e,t;(!this.callRefTimer.hasRef||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(t=(e=this.callRefTimer).unref)||void 0===t||t.call(e))}removeConnectivityStateWatcher(e){let t=this.connectivityStateWatchers.findIndex(t=>t===e);t>=0&&this.connectivityStateWatchers.splice(t,1)}updateState(e){for(let t of((0,d.trace)(a.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,p.uriToString)(this.target)+" "+f.ConnectivityState[this.connectivityState]+" -> "+f.ConnectivityState[e]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+f.ConnectivityState[e]),this.connectivityState=e,this.connectivityStateWatchers.slice()))e!==t.currentState&&(t.timer&&clearTimeout(t.timer),this.removeConnectivityStateWatcher(t),t.callback());e!==f.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(e){if(e>this.keepaliveTime)for(let t of(this.keepaliveTime=e,this.wrappedSubchannels))t.throttleKeepalive(e)}removeWrappedSubchannel(e){this.wrappedSubchannels.delete(e)}doPick(e,t){return this.currentPicker.pick({metadata:e,extraPickInfo:t})}queueCallForPick(e){this.pickQueue.push(e),this.callRefTimerRef()}getConfig(e,t){return(this.resolvingLoadBalancer.exitIdle(),this.configSelector)?{type:"SUCCESS",config:this.configSelector(e,t)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(e){this.configSelectionQueue.push(e),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(f.ConnectivityState.IDLE),this.currentPicker=new s.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null)}startIdleTimeout(e){var t,r;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}let e=new Date().valueOf()-this.lastActivityTimestamp.valueOf();e>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-e)},e),null===(r=(t=this.idleTimer).unref)||void 0===r||r.call(t)}maybeStartIdleTimer(){this.connectivityState===f.ConnectivityState.SHUTDOWN||this.idleTimer||this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(e){this.channelzEnabled&&(e.code===a.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(e,t,r,n,i){let o=(0,b.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+o+'] method="'+t+'"'),new g.LoadBalancingCall(this,e,t,r,n,i,o)}createRetryingCall(e,t,r,n,i){let o=(0,b.getNextCallNumber)();return this.trace("createRetryingCall ["+o+'] method="'+t+'"'),new S.RetryingCall(this,e,t,r,n,i,o,this.retryBufferTracker,w.get(this.getTarget()))}createInnerCall(e,t,r,n,i){return 0===this.options["grpc.enable_retries"]?this.createLoadBalancingCall(e,t,r,n,i):this.createRetryingCall(e,t,r,n,i)}createResolvingCall(e,t,r,n,i){let o=(0,b.getNextCallNumber)();this.trace("createResolvingCall ["+o+'] method="'+e+'", deadline='+(0,y.deadlineToString)(t));let s={deadline:t,flags:null!=i?i:a.Propagate.DEFAULTS,host:null!=r?r:this.defaultAuthority,parentCall:n},l=new v.ResolvingCall(this,e,s,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),o);return this.onCallStart(),l.addStatusWatcher(e=>{this.onCallEnd(e)}),l}close(){this.resolvingLoadBalancer.destroy(),this.updateState(f.ConnectivityState.SHUTDOWN),clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,m.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,p.uriToString)(this.target)}getConnectivityState(e){let t=this.connectivityState;return e&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),t}watchConnectivityState(e,t,r){if(this.connectivityState===f.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");let n=null;if(t!==1/0){let e=t instanceof Date?t:new Date(t),o=new Date;if(t===-1/0||e<=o){process.nextTick(r,Error("Deadline passed without connectivity state change"));return}n=setTimeout(()=>{this.removeConnectivityStateWatcher(i),r(Error("Deadline passed without connectivity state change"))},e.getTime()-o.getTime())}let i={currentState:e,callback:r,timer:n};this.connectivityStateWatchers.push(i)}getChannelzRef(){return this.channelzRef}createCall(e,t,r,n,i){if("string"!=typeof e)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof t||t instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===f.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");return this.createResolvingCall(e,t,r,n,i)}}t.InternalChannel=I},42731:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChildLoadBalancerHandler=void 0;let n=r(69884),i=r(72409),o="child_load_balancer_helper";class s{constructor(e){this.channelControlHelper=e,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(e){this.parent=e,this.child=null}createSubchannel(e,t){return this.parent.channelControlHelper.createSubchannel(e,t)}updateState(e,t){var r;if(this.calledByPendingChild()){if(e===i.ConnectivityState.CONNECTING)return;null===(r=this.parent.currentChild)||void 0===r||r.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(e,t)}requestReresolution(){var e;let t=null!==(e=this.parent.pendingChild)&&void 0!==e?e:this.parent.currentChild;this.child===t&&this.parent.channelControlHelper.requestReresolution()}setChild(e){this.child=e}addChannelzChild(e){this.parent.channelControlHelper.addChannelzChild(e)}removeChannelzChild(e){this.parent.channelControlHelper.removeChannelzChild(e)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(e,t){return e.getLoadBalancerName()!==t.getLoadBalancerName()}updateAddressList(e,t,r){let i;if(null===this.currentChild||null===this.latestConfig||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,t)){let e=new this.ChildPolicyHelper(this),r=(0,n.createLoadBalancer)(t,e);e.setChild(r),null===this.currentChild?(this.currentChild=r,i=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=r,i=this.pendingChild)}else i=null===this.pendingChild?this.currentChild:this.pendingChild;this.latestConfig=t,i.updateAddressList(e,t,r)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return o}}t.ChildLoadBalancerHandler=s},7542:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.OutlierDetectionLoadBalancer=t.OutlierDetectionLoadBalancingConfig=void 0;let i=r(72409),o=r(19572),s=r(87974),a=r(38779),l=r(69884),u=r(42731),c=r(2352),d=r(74955),h=r(40487),p=r(25792),f="outlier_detection";function m(e){p.trace(o.LogVerbosity.DEBUG,f,e)}let g="outlier_detection",y=(null!==(n=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)&&void 0!==n?n:"true")==="true",v={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},b={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function E(e,t,r,n){if(t in e&&typeof e[t]!==r){let i=n?`${n}.${t}`:t;throw Error(`outlier detection config ${i} parse error: expected ${r}, got ${typeof e[t]}`)}}function S(e,t,r){let n=r?`${r}.${t}`:t;if(t in e){if(!(0,s.isDuration)(e[t]))throw Error(`outlier detection config ${n} parse error: expected Duration, got ${typeof e[t]}`);if(!(e[t].seconds>=0&&e[t].seconds<=315576e6&&e[t].nanos>=0&&e[t].nanos<=999999999))throw Error(`outlier detection config ${n} parse error: values out of range for non-negative Duaration`)}}function _(e,t,r){let n=r?`${r}.${t}`:t;if(E(e,t,"number",r),t in e&&!(e[t]>=0&&e[t]<=100))throw Error(`outlier detection config ${n} parse error: value out of range for percentage (0-100)`)}class T{constructor(e,t,r,n,i,o,s){if(this.childPolicy=s,s.length>0&&"pick_first"===s[0].getLoadBalancerName())throw Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=null!=e?e:1e4,this.baseEjectionTimeMs=null!=t?t:3e4,this.maxEjectionTimeMs=null!=r?r:3e5,this.maxEjectionPercent=null!=n?n:10,this.successRateEjection=i?Object.assign(Object.assign({},v),i):null,this.failurePercentageEjection=o?Object.assign(Object.assign({},b),o):null}getLoadBalancerName(){return g}toJsonObject(){return{interval:(0,s.msToDuration)(this.intervalMs),base_ejection_time:(0,s.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,s.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:this.successRateEjection,failure_percentage_ejection:this.failurePercentageEjection,child_policy:this.childPolicy.map(e=>e.toJsonObject())}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}copyWithChildPolicy(e){return new T(this.intervalMs,this.baseEjectionTimeMs,this.maxEjectionTimeMs,this.maxEjectionPercent,this.successRateEjection,this.failurePercentageEjection,e)}static createFromJson(e){var t;if(S(e,"interval"),S(e,"base_ejection_time"),S(e,"max_ejection_time"),_(e,"max_ejection_percent"),"success_rate_ejection"in e){if("object"!=typeof e.success_rate_ejection)throw Error("outlier detection config success_rate_ejection must be an object");E(e.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),_(e.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),E(e.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),E(e.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in e){if("object"!=typeof e.failure_percentage_ejection)throw Error("outlier detection config failure_percentage_ejection must be an object");_(e.failure_percentage_ejection,"threshold","failure_percentage_ejection"),_(e.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),E(e.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),E(e.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}return new T(e.interval?(0,s.durationToMs)(e.interval):null,e.base_ejection_time?(0,s.durationToMs)(e.base_ejection_time):null,e.max_ejection_time?(0,s.durationToMs)(e.max_ejection_time):null,null!==(t=e.max_ejection_percent)&&void 0!==t?t:null,e.success_rate_ejection,e.failure_percentage_ejection,e.child_policy.map(l.validateLoadBalancingConfig))}}t.OutlierDetectionLoadBalancingConfig=T;class A extends h.BaseSubchannelWrapper{constructor(e,t){super(e),this.mapEntry=t,this.stateListeners=[],this.ejected=!1,this.refCount=0,this.childSubchannelState=e.getConnectivityState(),e.addConnectivityStateListener((e,t,r,n)=>{if(this.childSubchannelState=r,!this.ejected)for(let e of this.stateListeners)e(this,t,r,n)})}getConnectivityState(){return this.ejected?i.ConnectivityState.TRANSIENT_FAILURE:this.childSubchannelState}addConnectivityStateListener(e){this.stateListeners.push(e)}removeConnectivityStateListener(e){let t=this.stateListeners.indexOf(e);t>-1&&this.stateListeners.splice(t,1)}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let e=this.mapEntry.subchannelWrappers.indexOf(this);e>=0&&this.mapEntry.subchannelWrappers.splice(e,1)}}eject(){for(let e of(this.ejected=!0,this.stateListeners))e(this,this.childSubchannelState,i.ConnectivityState.TRANSIENT_FAILURE,-1)}uneject(){for(let e of(this.ejected=!1,this.stateListeners))e(this,i.ConnectivityState.TRANSIENT_FAILURE,this.childSubchannelState,-1)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}}function C(){return{success:0,failure:0}}class w{constructor(){this.activeBucket=C(),this.inactiveBucket=C()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=C()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}}class O{constructor(e,t){this.wrappedPicker=e,this.countCalls=t}pick(e){let t=this.wrappedPicker.pick(e);if(t.pickResultType!==c.PickResultType.COMPLETE)return t;{let e=t.subchannel,r=e.getMapEntry();if(!r)return Object.assign(Object.assign({},t),{subchannel:e.getWrappedSubchannel()});{let n=t.onCallEnded;return this.countCalls&&(n=e=>{var n;e===o.Status.OK?r.counter.addSuccess():r.counter.addFailure(),null===(n=t.onCallEnded)||void 0===n||n.call(t,e)}),Object.assign(Object.assign({},t),{subchannel:e.getWrappedSubchannel(),onCallEnded:n})}}}}class R{constructor(e){this.addressMap=new Map,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new u.ChildLoadBalancerHandler((0,a.createChildChannelControlHelper)(e,{createSubchannel:(t,r)=>{let n=e.createSubchannel(t,r),i=this.addressMap.get((0,d.subchannelAddressToString)(t)),o=new A(n,i);return(null==i?void 0:i.currentEjectionTimestamp)!==null&&o.eject(),null==i||i.subchannelWrappers.push(o),o},updateState:(t,r)=>{t===i.ConnectivityState.READY?e.updateState(t,new O(r,this.isCountingEnabled())):e.updateState(t,r)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return null!==this.latestConfig&&(null!==this.latestConfig.getSuccessRateEjectionConfig()||null!==this.latestConfig.getFailurePercentageEjectionConfig())}getCurrentEjectionPercent(){let e=0;for(let t of this.addressMap.values())null!==t.currentEjectionTimestamp&&(e+=1);return 100*e/this.addressMap.size}runSuccessRateCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getSuccessRateEjectionConfig();if(!t)return;m("Running success rate check");let r=t.request_volume,n=0,i=[];for(let[e,t]of this.addressMap){let o=t.counter.getLastSuccesses(),s=t.counter.getLastFailures();m("Stats for "+e+": successes="+o+" failures="+s+" targetRequestVolume="+r),o+s>=r&&(n+=1,i.push(o/(o+s)))}if(m("Found "+n+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+i+"]"),n<t.minimum_hosts)return;let o=i.reduce((e,t)=>e+t)/i.length,s=0;for(let e of i){let t=e-o;s+=t*t}let a=Math.sqrt(s/i.length),l=o-t.stdev_factor/1e3*a;for(let[n,i]of(m("stdev="+a+" ejectionThreshold="+l),this.addressMap.entries())){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let o=i.counter.getLastSuccesses(),s=i.counter.getLastFailures();if(o+s<r)continue;let a=o/(o+s);if(m("Checking candidate "+n+" successRate="+a),a<l){let r=100*Math.random();m("Candidate "+n+" randomNumber="+r+" enforcement_percentage="+t.enforcement_percentage),r<t.enforcement_percentage&&(m("Ejecting candidate "+n),this.eject(i,e))}}}runFailurePercentageCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getFailurePercentageEjectionConfig();if(!t)return;m("Running failure percentage check. threshold="+t.threshold+" request volume threshold="+t.request_volume);let r=0;for(let e of this.addressMap.values())e.counter.getLastSuccesses()+e.counter.getLastFailures()>=t.request_volume&&(r+=1);if(!(r<t.minimum_hosts))for(let[r,n]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let i=n.counter.getLastSuccesses(),o=n.counter.getLastFailures();if(m("Candidate successes="+i+" failures="+o),!(i+o<t.request_volume)&&100*o/(o+i)>t.threshold){let i=100*Math.random();m("Candidate "+r+" randomNumber="+i+" enforcement_percentage="+t.enforcement_percentage),i<t.enforcement_percentage&&(m("Ejecting candidate "+r),this.eject(n,e))}}}eject(e,t){for(let t of(e.currentEjectionTimestamp=new Date,e.ejectionTimeMultiplier+=1,e.subchannelWrappers))t.eject()}uneject(e){for(let t of(e.currentEjectionTimestamp=null,e.subchannelWrappers))t.uneject()}switchAllBuckets(){for(let e of this.addressMap.values())e.counter.switchBuckets()}startTimer(e){var t,r;this.ejectionTimer=setTimeout(()=>this.runChecks(),e),null===(r=(t=this.ejectionTimer).unref)||void 0===r||r.call(t)}runChecks(){let e=new Date;if(m("Ejection timer running"),this.switchAllBuckets(),this.latestConfig)for(let[t,r]of(this.timerStartTime=e,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(e),this.runFailurePercentageCheck(e),this.addressMap.entries()))if(null===r.currentEjectionTimestamp)r.ejectionTimeMultiplier>0&&(r.ejectionTimeMultiplier-=1);else{let e=this.latestConfig.getBaseEjectionTimeMs(),n=this.latestConfig.getMaxEjectionTimeMs(),i=new Date(r.currentEjectionTimestamp.getTime());i.setMilliseconds(i.getMilliseconds()+Math.min(e*r.ejectionTimeMultiplier,Math.max(e,n))),i<new Date&&(m("Unejecting "+t),this.uneject(r))}}updateAddressList(e,t,r){if(!(t instanceof T))return;let n=new Set;for(let t of e)n.add((0,d.subchannelAddressToString)(t));for(let e of n)this.addressMap.has(e)||(m("Adding map entry for "+e),this.addressMap.set(e,{counter:new w,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));for(let e of this.addressMap.keys())n.has(e)||(m("Removing map entry for "+e),this.addressMap.delete(e));let i=(0,l.getFirstUsableConfig)(t.getChildPolicy(),!0);if(this.childBalancer.updateAddressList(e,i,r),t.getSuccessRateEjectionConfig()||t.getFailurePercentageEjectionConfig()){if(this.timerStartTime){m("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let e=t.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(e)}else m("Starting new timer"),this.timerStartTime=new Date,this.startTimer(t.getIntervalMs()),this.switchAllBuckets()}else for(let e of(m("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer),this.addressMap.values()))this.uneject(e),e.ejectionTimeMultiplier=0;this.latestConfig=t}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return g}}function x(){y&&(0,a.registerLoadBalancerType)(g,R,T)}t.OutlierDetectionLoadBalancer=R,t.setup=x},15102:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.PickFirstLoadBalancer=t.shuffled=t.PickFirstLoadBalancingConfig=void 0;let n=r(69884),i=r(72409),o=r(2352),s=r(25792),a=r(19572),l="pick_first";function u(e){s.trace(a.LogVerbosity.DEBUG,l,e)}let c="pick_first",d=250;class h{constructor(e){this.shuffleAddressList=e}getLoadBalancerName(){return c}toJsonObject(){return{[c]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(e){if("shuffleAddressList"in e&&"boolean"!=typeof e.shuffleAddressList)throw Error("pick_first config field shuffleAddressList must be a boolean if provided");return new h(!0===e.shuffleAddressList)}}t.PickFirstLoadBalancingConfig=h;class p{constructor(e){this.subchannel=e}pick(e){return{pickResultType:o.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}}function f(e){let t=e.slice();for(let e=t.length-1;e>1;e--){let r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}t.shuffled=f;class m{constructor(e){this.channelControlHelper=e,this.children=[],this.currentState=i.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(e,t,r,n,i)=>{this.onSubchannelStateUpdate(e,t,r,i)},this.triedAllSubchannels=!1,this.stickyTransientFailureMode=!1,this.requestedResolutionSinceLastUpdate=!1,this.lastError=null,this.latestAddressList=null,this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(e=>e.hasReportedTransientFailure)}calculateAndReportNewState(){this.currentPick?this.updateState(i.ConnectivityState.READY,new p(this.currentPick)):0===this.children.length?this.updateState(i.ConnectivityState.IDLE,new o.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(i.ConnectivityState.TRANSIENT_FAILURE,new o.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(i.ConnectivityState.CONNECTING,new o.QueuePicker(this))}requestReresolution(){this.requestedResolutionSinceLastUpdate=!0,this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()&&(this.requestedResolutionSinceLastUpdate||this.requestReresolution(),!this.stickyTransientFailureMode)){for(let{subchannel:e}of(this.stickyTransientFailureMode=!0,this.children))e.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){if(null!==this.currentPick){let e=this.currentPick;this.currentPick=null,e.unref(),e.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(e.getChannelzRef())}}onSubchannelStateUpdate(e,t,r,n){var o;if(null===(o=this.currentPick)||void 0===o?void 0:o.realSubchannelEquals(e)){r!==i.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState(),this.requestReresolution());return}for(let[t,o]of this.children.entries())if(e.realSubchannelEquals(o.subchannel)){r===i.ConnectivityState.READY&&this.pickSubchannel(o.subchannel),r===i.ConnectivityState.TRANSIENT_FAILURE&&(o.hasReportedTransientFailure=!0,n&&(this.lastError=n),this.maybeEnterStickyTransientFailureMode(),t===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(t+1)),o.subchannel.startConnecting();return}}startNextSubchannelConnecting(e){if(clearTimeout(this.connectionDelayTimeout),!this.triedAllSubchannels){for(let[t,r]of this.children.entries())if(t>=e){let e=r.subchannel.getConnectivityState();if(e===i.ConnectivityState.IDLE||e===i.ConnectivityState.CONNECTING){this.startConnecting(t);return}}this.triedAllSubchannels=!0,this.maybeEnterStickyTransientFailureMode()}}startConnecting(e){var t,r;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.children[e].subchannel.getConnectivityState()===i.ConnectivityState.IDLE&&(u("Start connecting to subchannel with address "+this.children[e].subchannel.getAddress()),process.nextTick(()=>{var t;null===(t=this.children[e])||void 0===t||t.subchannel.startConnecting()})),this.connectionDelayTimeout=null===(r=(t=setTimeout(()=>{this.startNextSubchannelConnecting(e+1)},d)).unref)||void 0===r?void 0:r.call(t)}pickSubchannel(e){this.currentPick&&e.realSubchannelEquals(this.currentPick)||(u("Pick subchannel with address "+e.getAddress()),this.stickyTransientFailureMode=!1,null!==this.currentPick&&(this.currentPick.unref(),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeConnectivityStateListener(this.subchannelStateListener)),this.currentPick=e,e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState())}updateState(e,t){u(i.ConnectivityState[this.currentState]+" -> "+i.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(let e of this.children)this.currentPick&&e.subchannel.realSubchannelEquals(this.currentPick)||e.subchannel.removeConnectivityStateListener(this.subchannelStateListener),e.subchannel.unref(),this.channelControlHelper.removeChannelzChild(e.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[],this.triedAllSubchannels=!1,this.requestedResolutionSinceLastUpdate=!1}connectToAddressList(e){let t=e.map(e=>({subchannel:this.channelControlHelper.createSubchannel(e,{}),hasReportedTransientFailure:!1}));for(let{subchannel:e}of t)e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef());for(let{subchannel:e}of(this.resetSubchannelList(),this.children=t,this.children))if(e.addConnectivityStateListener(this.subchannelStateListener),e.getConnectivityState()===i.ConnectivityState.READY){this.pickSubchannel(e);return}for(let e of this.children)e.subchannel.getConnectivityState()===i.ConnectivityState.TRANSIENT_FAILURE&&(e.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(e,t){t instanceof h&&(t.getShuffleAddressList()&&(e=f(e)),this.latestAddressList=e,this.connectToAddressList(e))}exitIdle(){this.currentState===i.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return c}}function g(){(0,n.registerLoadBalancerType)(c,m,h),(0,n.registerDefaultLoadBalancerType)(c)}t.PickFirstLoadBalancer=m,t.setup=g},14556:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.RoundRobinLoadBalancer=void 0;let n=r(69884),i=r(72409),o=r(2352),s=r(74955),a=r(25792),l=r(19572),u="round_robin";function c(e){a.trace(l.LogVerbosity.DEBUG,u,e)}let d="round_robin";class h{getLoadBalancerName(){return d}constructor(){}toJsonObject(){return{[d]:{}}}static createFromJson(e){return new h}}class p{constructor(e,t=0){this.subchannelList=e,this.nextIndex=t}pick(e){let t=this.subchannelList[this.nextIndex];return this.nextIndex=(this.nextIndex+1)%this.subchannelList.length,{pickResultType:o.PickResultType.COMPLETE,subchannel:t,status:null,onCallStarted:null,onCallEnded:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}}class f{constructor(e){this.channelControlHelper=e,this.subchannels=[],this.currentState=i.ConnectivityState.IDLE,this.currentReadyPicker=null,this.lastError=null,this.subchannelStateListener=(e,t,r,n,o)=>{this.calculateAndUpdateState(),(r===i.ConnectivityState.TRANSIENT_FAILURE||r===i.ConnectivityState.IDLE)&&(o&&(this.lastError=o),this.channelControlHelper.requestReresolution(),e.startConnecting())}}countSubchannelsWithState(e){return this.subchannels.filter(t=>t.getConnectivityState()===e).length}calculateAndUpdateState(){if(this.countSubchannelsWithState(i.ConnectivityState.READY)>0){let e=this.subchannels.filter(e=>e.getConnectivityState()===i.ConnectivityState.READY),t=0;null!==this.currentReadyPicker&&(t=e.indexOf(this.currentReadyPicker.peekNextSubchannel()))<0&&(t=0),this.updateState(i.ConnectivityState.READY,new p(e,t))}else this.countSubchannelsWithState(i.ConnectivityState.CONNECTING)>0?this.updateState(i.ConnectivityState.CONNECTING,new o.QueuePicker(this)):this.countSubchannelsWithState(i.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState(i.ConnectivityState.TRANSIENT_FAILURE,new o.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(i.ConnectivityState.IDLE,new o.QueuePicker(this))}updateState(e,t){c(i.ConnectivityState[this.currentState]+" -> "+i.ConnectivityState[e]),e===i.ConnectivityState.READY?this.currentReadyPicker=t:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(let e of this.subchannels)e.removeConnectivityStateListener(this.subchannelStateListener),e.unref(),this.channelControlHelper.removeChannelzChild(e.getChannelzRef());this.subchannels=[]}updateAddressList(e,t){for(let t of(this.resetSubchannelList(),c("Connect to address list "+e.map(e=>(0,s.subchannelAddressToString)(e))),this.subchannels=e.map(e=>this.channelControlHelper.createSubchannel(e,{})),this.subchannels)){t.ref(),t.addConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.addChannelzChild(t.getChannelzRef());let e=t.getConnectivityState();(e===i.ConnectivityState.IDLE||e===i.ConnectivityState.TRANSIENT_FAILURE)&&t.startConnecting()}this.calculateAndUpdateState()}exitIdle(){for(let e of this.subchannels)e.startConnecting()}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return d}}function m(){(0,n.registerLoadBalancerType)(d,f,h)}t.RoundRobinLoadBalancer=f,t.setup=m},69884:(e,t)=>{"use strict";function r(e,t){var r,n,i,o,s,a,l,u,c,d;return{createSubchannel:null!==(n=null===(r=t.createSubchannel)||void 0===r?void 0:r.bind(t))&&void 0!==n?n:e.createSubchannel.bind(e),updateState:null!==(o=null===(i=t.updateState)||void 0===i?void 0:i.bind(t))&&void 0!==o?o:e.updateState.bind(e),requestReresolution:null!==(a=null===(s=t.requestReresolution)||void 0===s?void 0:s.bind(t))&&void 0!==a?a:e.requestReresolution.bind(e),addChannelzChild:null!==(u=null===(l=t.addChannelzChild)||void 0===l?void 0:l.bind(t))&&void 0!==u?u:e.addChannelzChild.bind(e),removeChannelzChild:null!==(d=null===(c=t.removeChannelzChild)||void 0===c?void 0:c.bind(t))&&void 0!==d?d:e.removeChannelzChild.bind(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.validateLoadBalancingConfig=t.getFirstUsableConfig=t.isLoadBalancerNameRegistered=t.createLoadBalancer=t.registerDefaultLoadBalancerType=t.registerLoadBalancerType=t.createChildChannelControlHelper=void 0,t.createChildChannelControlHelper=r;let n={},i=null;function o(e,t,r){n[e]={LoadBalancer:t,LoadBalancingConfig:r}}function s(e){i=e}function a(e,t){let r=e.getLoadBalancerName();return r in n?new n[r].LoadBalancer(t):null}function l(e){return e in n}function u(e,t=!1){for(let t of e)if(t.getLoadBalancerName() in n)return t;return t&&i?new n[i].LoadBalancingConfig:null}function c(e){if(!(null!==e&&"object"==typeof e))throw Error("Load balancing config must be an object");let t=Object.keys(e);if(1!==t.length)throw Error("Provided load balancing config has multiple conflicting entries");let r=t[0];if(r in n)return n[r].LoadBalancingConfig.createFromJson(e[r]);throw Error(`Unrecognized load balancing config name ${r}`)}t.registerLoadBalancerType=o,t.registerDefaultLoadBalancerType=s,t.createLoadBalancer=a,t.isLoadBalancerNameRegistered=l,t.getFirstUsableConfig=u,t.validateLoadBalancingConfig=c},91690:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadBalancingCall=void 0;let n=r(72409),i=r(19572),o=r(17360),s=r(6281),a=r(2352),l=r(55541),u=r(25792),c=r(55607),d=r(85158),h="load_balancing_call";class p{constructor(e,t,r,n,i,o,s){var a,u;this.channel=e,this.callConfig=t,this.methodName=r,this.host=n,this.credentials=i,this.deadline=o,this.callNumber=s,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null;let c=this.methodName.split("/"),d="";c.length>=2&&(d=c[1]);let h=null!==(u=null===(a=(0,l.splitHostPort)(this.host))||void 0===a?void 0:a.host)&&void 0!==u?u:"localhost";this.serviceUrl=`https://${h}/${d}`}trace(e){u.trace(i.LogVerbosity.DEBUG,h,"["+this.callNumber+"] "+e)}outputStatus(e,t){var r,n;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+e.code+' details="'+e.details+'"');let i=Object.assign(Object.assign({},e),{progress:t});null===(r=this.listener)||void 0===r||r.onReceiveStatus(i),null===(n=this.onCallEnded)||void 0===n||n.call(this,i.code)}}doPick(){var e,t;if(this.ended)return;if(!this.metadata)throw Error("doPick called before start");this.trace("Pick called");let r=this.channel.doPick(this.metadata,this.callConfig.pickInformation),l=r.subchannel?"("+r.subchannel.getChannelzRef().id+") "+r.subchannel.getAddress():""+r.subchannel;switch(this.trace("Pick result: "+a.PickResultType[r.pickResultType]+" subchannel: "+l+" status: "+(null===(e=r.status)||void 0===e?void 0:e.code)+" "+(null===(t=r.status)||void 0===t?void 0:t.details)),r.pickResultType){case a.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then(e=>{var t,a,u;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}let c=this.metadata.clone();if(c.merge(e),c.get("authorization").length>1&&this.outputStatus({code:i.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new s.Metadata},"PROCESSED"),r.subchannel.getConnectivityState()!==n.ConnectivityState.READY){this.trace("Picked subchannel "+l+" has state "+n.ConnectivityState[r.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&c.set("grpc-timeout",(0,o.getDeadlineTimeoutString)(this.deadline));try{this.child=r.subchannel.getRealSubchannel().createCall(c,this.host,this.methodName,{onReceiveMetadata:e=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(e)},onReceiveMessage:e=>{this.trace("Received message"),this.listener.onReceiveMessage(e)},onReceiveStatus:e=>{this.trace("Received status"),e.rstCode===d.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(e,"REFUSED"):this.outputStatus(e,"PROCESSED")}})}catch(e){this.trace("Failed to start call on picked subchannel "+l+" with error "+e.message),this.outputStatus({code:i.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+e.message,metadata:new s.Metadata},"NOT_STARTED");return}null===(a=(t=this.callConfig).onCommitted)||void 0===a||a.call(t),null===(u=r.onCallStarted)||void 0===u||u.call(r),this.onCallEnded=r.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},e=>{let{code:t,details:r}=(0,c.restrictControlPlaneStatusCode)("number"==typeof e.code?e.code:i.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${e.message}`);this.outputStatus({code:t,details:r,metadata:new s.Metadata},"PROCESSED")});break;case a.PickResultType.DROP:let{code:u,details:h}=(0,c.restrictControlPlaneStatusCode)(r.status.code,r.status.details);setImmediate(()=>{this.outputStatus({code:u,details:h,metadata:r.status.metadata},"DROP")});break;case a.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:e,details:t}=(0,c.restrictControlPlaneStatusCode)(r.status.code,r.status.details);setImmediate(()=>{this.outputStatus({code:e,details:t,metadata:r.status.metadata},"PROCESSED")})}break;case a.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),null===(r=this.child)||void 0===r||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new s.Metadata},"PROCESSED")}getPeer(){var e,t;return null!==(t=null===(e=this.child)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.listener=t,this.metadata=e,this.doPick()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.child.sendMessageWithContext(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){throw Error("Method not implemented.")}getCallNumber(){return this.callNumber}}t.LoadBalancingCall=p},25792:(e,t,r)=>{"use strict";var n,i,o,s;Object.defineProperty(t,"__esModule",{value:!0}),t.isTracerEnabled=t.trace=t.log=t.setLoggerVerbosity=t.setLogger=t.getLogger=void 0;let a=r(19572),l=r(77282),u=r(81513).i8,c={error:(e,...t)=>{console.error("E "+e,...t)},info:(e,...t)=>{console.error("I "+e,...t)},debug:(e,...t)=>{console.error("D "+e,...t)}},d=a.LogVerbosity.ERROR;switch((null!==(i=null!==(n=process.env.GRPC_NODE_VERBOSITY)&&void 0!==n?n:process.env.GRPC_VERBOSITY)&&void 0!==i?i:"").toUpperCase()){case"DEBUG":d=a.LogVerbosity.DEBUG;break;case"INFO":d=a.LogVerbosity.INFO;break;case"ERROR":d=a.LogVerbosity.ERROR;break;case"NONE":d=a.LogVerbosity.NONE}let h=()=>c;t.getLogger=h;let p=e=>{c=e};t.setLogger=p;let f=e=>{d=e};t.setLoggerVerbosity=f;let m=(e,...t)=>{let r;if(e>=d){switch(e){case a.LogVerbosity.DEBUG:r=c.debug;break;case a.LogVerbosity.INFO:r=c.info;break;case a.LogVerbosity.ERROR:r=c.error}r||(r=c.error),r&&r.bind(c)(...t)}};t.log=m;let g=null!==(s=null!==(o=process.env.GRPC_NODE_TRACE)&&void 0!==o?o:process.env.GRPC_TRACE)&&void 0!==s?s:"",y=new Set,v=new Set;for(let e of g.split(","))e.startsWith("-")?v.add(e.substring(1)):y.add(e);let b=y.has("all");function E(e,r,n){S(r)&&(0,t.log)(e,new Date().toISOString()+" | v"+u+" "+l.pid+" | "+r+" | "+n)}function S(e){return!v.has(e)&&(b||y.has(e))}t.trace=E,t.isTracerEnabled=S},54529:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadPackageDefinition=t.makeClientConstructor=void 0;let n=r(91865),i={unary:n.Client.prototype.makeUnaryRequest,server_stream:n.Client.prototype.makeServerStreamRequest,client_stream:n.Client.prototype.makeClientStreamRequest,bidi:n.Client.prototype.makeBidiStreamRequest};function o(e){return["__proto__","prototype","constructor"].includes(e)}function s(e,t,r){r||(r={});class s extends n.Client{}return Object.keys(e).forEach(t=>{let r;if(o(t))return;let n=e[t];if("string"==typeof t&&"$"===t.charAt(0))throw Error("Method names cannot start with $");r=n.requestStream?n.responseStream?"bidi":"client_stream":n.responseStream?"server_stream":"unary";let l=n.requestSerialize,u=n.responseDeserialize,c=a(i[r],n.path,l,u);s.prototype[t]=c,Object.assign(s.prototype[t],n),n.originalName&&!o(n.originalName)&&(s.prototype[n.originalName]=s.prototype[t])}),s.service=e,s.serviceName=t,s}function a(e,t,r,n){return function(...i){return e.call(this,t,r,n,...i)}}function l(e){return"format"in e}function u(e){let t={};for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)){let n=e[r],i=r.split(".");if(i.some(e=>o(e)))continue;let a=i[i.length-1],u=t;for(let e of i.slice(0,-1))u[e]||(u[e]={}),u=u[e];l(n)?u[a]=n:u[a]=s(n,a,{})}return t}t.makeClientConstructor=s,t.loadPackageDefinition=u},6281:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;let n=r(25792),i=r(19572),o=r(96027),s=/^[0-9a-z_.-]+$/,a=/^[ -~]*$/;function l(e){return s.test(e)}function u(e){return a.test(e)}function c(e){return e.endsWith("-bin")}function d(e){return!e.startsWith("grpc-")}function h(e){return e.toLowerCase()}function p(e,t){if(!l(e))throw Error('Metadata key "'+e+'" contains illegal characters');if(null!=t){if(c(e)){if(!Buffer.isBuffer(t))throw Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(t))throw Error("keys that don't end with '-bin' must have String values");if(!u(t))throw Error('Metadata string value "'+t+'" contains illegal characters')}}}class f{constructor(e={}){this.internalRepr=new Map,this.options=e}set(e,t){p(e=h(e),t),this.internalRepr.set(e,[t])}add(e,t){p(e=h(e),t);let r=this.internalRepr.get(e);void 0===r?this.internalRepr.set(e,[t]):r.push(t)}remove(e){e=h(e),this.internalRepr.delete(e)}get(e){return e=h(e),this.internalRepr.get(e)||[]}getMap(){let e={};for(let[t,r]of this.internalRepr)if(r.length>0){let n=r[0];e[t]=Buffer.isBuffer(n)?Buffer.from(n):n}return e}clone(){let e=new f(this.options),t=e.internalRepr;for(let[e,r]of this.internalRepr){let n=r.map(e=>Buffer.isBuffer(e)?Buffer.from(e):e);t.set(e,n)}return e}merge(e){for(let[t,r]of e.internalRepr){let e=(this.internalRepr.get(t)||[]).concat(r);this.internalRepr.set(t,e)}}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){let e={};for(let[t,r]of this.internalRepr)e[t]=r.map(m);return e}toJSON(){let e={};for(let[t,r]of this.internalRepr)e[t]=r;return e}static fromHttp2Headers(e){let t=new f;for(let r of Object.keys(e)){if(":"===r.charAt(0))continue;let s=e[r];try{c(r)?Array.isArray(s)?s.forEach(e=>{t.add(r,Buffer.from(e,"base64"))}):void 0!==s&&(d(r)?s.split(",").forEach(e=>{t.add(r,Buffer.from(e.trim(),"base64"))}):t.add(r,Buffer.from(s,"base64"))):Array.isArray(s)?s.forEach(e=>{t.add(r,e)}):void 0!==s&&t.add(r,s)}catch(t){let e=`Failed to add metadata entry ${r}: ${s}. ${(0,o.getErrorMessage)(t)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,n.log)(i.LogVerbosity.ERROR,e)}}return t}}t.Metadata=f;let m=e=>Buffer.isBuffer(e)?e.toString("base64"):e},2352:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.QueuePicker=t.UnavailablePicker=t.PickResultType=void 0;let i=r(6281),o=r(19572);!function(e){e[e.COMPLETE=0]="COMPLETE",e[e.QUEUE=1]="QUEUE",e[e.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",e[e.DROP=3]="DROP"}(n||(t.PickResultType=n={}));class s{constructor(e){this.status=Object.assign({code:o.Status.UNAVAILABLE,details:"No connection established",metadata:new i.Metadata},e)}pick(e){return{pickResultType:n.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}}t.UnavailablePicker=s;class a{constructor(e){this.loadBalancer=e,this.calledExitIdle=!1}pick(e){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),{pickResultType:n.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}}t.QueuePicker=a},48501:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.DEFAULT_PORT=void 0;let n=r(84063),i=r(9523),o=r(73837),s=r(94298),a=r(19572),l=r(6281),u=r(25792),c=r(19572),d=r(55541),h=r(41808),p=r(1742),f="dns_resolver";function m(e){u.trace(c.LogVerbosity.DEBUG,f,e)}t.DEFAULT_PORT=443;let g=3e4,y=o.promisify(i.resolveTxt),v=o.promisify(i.lookup);function b(...e){let t=[];for(let r=0;r<Math.max.apply(null,e.map(e=>e.length));r++)for(let n of e)r<n.length&&t.push(n[r]);return t}class E{constructor(e,r,n){var i,o,s;this.target=e,this.listener=r,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,m("Resolver constructed for target "+(0,d.uriToString)(e));let u=(0,d.splitHostPort)(e.path);null===u?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,h.isIPv4)(u.host)||(0,h.isIPv6)(u.host)?(this.ipResult=[{host:u.host,port:null!==(i=u.port)&&void 0!==i?i:t.DEFAULT_PORT}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=u.host,this.port=null!==(o=u.port)&&void 0!==o?o:t.DEFAULT_PORT),this.percentage=100*Math.random(),1===n["grpc.service_config_disable_resolution"]&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:a.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,d.uriToString)(this.target)}`,metadata:new l.Metadata};let c={initialDelay:n["grpc.initial_reconnect_backoff_ms"],maxDelay:n["grpc.max_reconnect_backoff_ms"]};this.backoff=new p.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},c),this.backoff.unref(),this.minTimeBetweenResolutionsMs=null!==(s=n["grpc.dns_min_time_between_resolutions_ms"])&&void 0!==s?s:g,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(null!==this.ipResult){this.returnedIpResult||(m("Returning IP address for target "+(0,d.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(null===this.dnsHostname)m("Failed to parse DNS address "+(0,d.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:a.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,d.uriToString)(this.target)}`,metadata:new l.Metadata})}),this.stopNextResolutionTimer();else{if(null!==this.pendingLookupPromise)return;m("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let e=this.dnsHostname;this.pendingLookupPromise=v(e,{all:!0}),this.pendingLookupPromise.then(e=>{if(null===this.pendingLookupPromise)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop();let t=e.filter(e=>4===e.family),r=e.filter(e=>6===e.family);this.latestLookupResult=b(r,t).map(e=>({host:e.address,port:+this.port}));let n="["+this.latestLookupResult.map(e=>e.host+":"+e.port).join(",")+"]";if(m("Resolved addresses for target "+(0,d.uriToString)(this.target)+": "+n),0===this.latestLookupResult.length){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},e=>{null!==this.pendingLookupPromise&&(m("Resolution error for target "+(0,d.uriToString)(this.target)+": "+e.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&null===this.pendingTxtPromise&&(this.pendingTxtPromise=y(e),this.pendingTxtPromise.then(e=>{if(null!==this.pendingTxtPromise){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,s.extractAndSelectServiceConfig)(e,this.percentage)}catch(e){this.latestServiceConfigError={code:a.Status.UNAVAILABLE,details:`Parsing service config failed with error ${e.message}`,metadata:new l.Metadata}}null!==this.latestLookupResult&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},e=>{}))}}startNextResolutionTimer(){var e,t;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=null===(t=(e=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs)).unref)||void 0===t?void 0:t.call(e),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){null===this.pendingLookupPromise&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){null===this.pendingLookupPromise&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?m('resolution update delayed by "min time between resolutions" rate limit'):m("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(e){return e.path}}function S(){(0,n.registerResolver)("dns",E),(0,n.registerDefaultScheme)("dns")}t.setup=S},63988:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;let n=r(41808),i=r(19572),o=r(6281),s=r(84063),a=r(55541),l=r(25792),u="ip_resolver";function c(e){l.trace(i.LogVerbosity.DEBUG,u,e)}let d="ipv4",h="ipv6",p=443;class f{constructor(e,t,r){var s;this.listener=t,this.addresses=[],this.error=null,this.hasReturnedResult=!1,c("Resolver constructed for target "+(0,a.uriToString)(e));let l=[];if(!(e.scheme===d||e.scheme===h)){this.error={code:i.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new o.Metadata};return}for(let t of e.path.split(",")){let r=(0,a.splitHostPort)(t);if(null===r||e.scheme===d&&!(0,n.isIPv4)(r.host)||e.scheme===h&&!(0,n.isIPv6)(r.host)){this.error={code:i.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${t}`,metadata:new o.Metadata};return}l.push({host:r.host,port:null!==(s=r.port)&&void 0!==s?s:p})}this.addresses=l,c("Parsed "+e.scheme+" address list "+this.addresses)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.addresses,null,null,null,{})}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return e.path.split(",")[0]}}function m(){(0,s.registerResolver)(d,f),(0,s.registerResolver)(h,f)}t.setup=m},47255:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;let n=r(84063);class i{constructor(e,t,r){let n;this.listener=t,this.addresses=[],this.hasReturnedResult=!1,n=""===e.authority?"/"+e.path:e.path,this.addresses=[{path:n}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,null,{}))}destroy(){}static getDefaultAuthority(e){return"localhost"}}function o(){(0,n.registerResolver)("unix",i)}t.setup=o},84063:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapUriDefaultScheme=t.getDefaultAuthority=t.createResolver=t.registerDefaultScheme=t.registerResolver=void 0;let n=r(55541),i={},o=null;function s(e,t){i[e]=t}function a(e){o=e}function l(e,t,r){if(void 0!==e.scheme&&e.scheme in i)return new i[e.scheme](e,t,r);throw Error(`No resolver could be created for target ${(0,n.uriToString)(e)}`)}function u(e){if(void 0!==e.scheme&&e.scheme in i)return i[e.scheme].getDefaultAuthority(e);throw Error(`Invalid target ${(0,n.uriToString)(e)}`)}function c(e){return void 0!==e.scheme&&e.scheme in i?e:null!==o?{scheme:o,authority:void 0,path:(0,n.uriToString)(e)}:null}t.registerResolver=s,t.registerDefaultScheme=a,t.createResolver=l,t.getDefaultAuthority=u,t.mapUriDefaultScheme=c},80080:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResolvingCall=void 0;let n=r(19572),i=r(17360),o=r(6281),s=r(25792),a=r(55607),l="resolving_call";class u{constructor(e,t,r,o,s,a){this.channel=e,this.method=t,this.filterStackFactory=o,this.credentials=s,this.callNumber=a,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadline=r.deadline,this.host=r.host,r.parentCall&&(r.flags&n.Propagate.CANCELLATION&&r.parentCall.on("cancelled",()=>{this.cancelWithStatus(n.Status.CANCELLED,"Cancelled by parent call")}),r.flags&n.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+r.parentCall.getDeadline()),this.deadline=(0,i.minDeadline)(this.deadline,r.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(e){s.trace(n.LogVerbosity.DEBUG,l,"["+this.callNumber+"] "+e)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.trace("Deadline: "+(0,i.deadlineToString)(this.deadline));let e=(0,i.getRelativeTimeout)(this.deadline);if(e!==1/0){this.trace("Deadline will be reached in "+e+"ms");let t=()=>{this.cancelWithStatus(n.Status.DEADLINE_EXCEEDED,"Deadline exceeded")};e<=0?process.nextTick(t):this.deadlineTimer=setTimeout(t,e)}}outputStatus(e){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let t=this.filterStack.receiveTrailers(e);this.trace("ended with status: code="+t.code+' details="'+t.details+'"'),this.statusWatchers.forEach(e=>e(t)),process.nextTick(()=>{var e;null===(e=this.listener)||void 0===e||e.onReceiveStatus(t)})}}sendMessageOnChild(e,t){if(!this.child)throw Error("sendMessageonChild called with child not populated");let r=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:t,flags:e.flags})).then(t=>{this.writeFilterPending=!1,r.sendMessageWithContext(e,t.message),this.pendingHalfClose&&r.halfClose()},e=>{this.cancelWithStatus(e.code,e.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw Error("getConfig called before start");let e=this.channel.getConfig(this.method,this.metadata);if("NONE"===e.type){this.channel.queueCallForConfig(this);return}if("ERROR"===e.type){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e.error);return}let t=e.config;if(t.status!==n.Status.OK){let{code:e,details:r}=(0,a.restrictControlPlaneStatusCode)(t.status,"Failed to route call to method "+this.method);this.outputStatus({code:e,details:r,metadata:new o.Metadata});return}if(t.methodConfig.timeout){let e=new Date;e.setSeconds(e.getSeconds()+t.methodConfig.timeout.seconds),e.setMilliseconds(e.getMilliseconds()+t.methodConfig.timeout.nanos/1e6),this.deadline=(0,i.minDeadline)(this.deadline,e),this.runDeadlineTimer()}this.filterStackFactory.push(t.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(e=>{this.child=this.channel.createInnerCall(t,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.child.start(e,{onReceiveMetadata:e=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(e))},onReceiveMessage:e=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(e).then(e=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(e),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},e=>{this.cancelWithStatus(e.code,e.details)})},onReceiveStatus:e=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=e:this.outputStatus(e)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},e=>{this.outputStatus(e)})}reportResolverError(e){var t;(null===(t=this.metadata)||void 0===t?void 0:t.getOptions().waitForReady)?this.channel.queueCallForConfig(this):this.outputStatus(e)}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),null===(r=this.child)||void 0===r||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new o.Metadata})}getPeer(){var e,t;return null!==(t=null===(e=this.child)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.metadata=e.clone(),this.listener=t,this.getConfig()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.sendMessageOnChild(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){this.credentials=this.credentials.compose(e)}addStatusWatcher(e){this.statusWatchers.push(e)}getCallNumber(){return this.callNumber}}t.ResolvingCall=u},77661:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResolvingLoadBalancer=void 0;let n=r(69884),i=r(94298),o=r(72409),s=r(84063),a=r(2352),l=r(1742),u=r(19572),c=r(6281),d=r(25792),h=r(19572),p=r(55541),f=r(42731),m="resolving_load_balancer";function g(e){d.trace(h.LogVerbosity.DEBUG,m,e)}let y=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function v(e,t,r,n){for(let i of r.name)switch(n){case"EMPTY":if(!i.service&&!i.method)return!0;break;case"SERVICE":if(i.service===e&&!i.method)return!0;break;case"SERVICE_AND_METHOD":if(i.service===e&&i.method===t)return!0}return!1}function b(e,t,r,n){for(let i of r)if(v(e,t,i,n))return i;return null}function E(e){return function(t,r){var n,i;let o=t.split("/").filter(e=>e.length>0),s=null!==(n=o[0])&&void 0!==n?n:"",a=null!==(i=o[1])&&void 0!==i?i:"";if(e&&e.methodConfig)for(let t of y){let r=b(s,a,e.methodConfig,t);if(r)return{methodConfig:r,pickInformation:{},status:u.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:u.Status.OK,dynamicFilterFactories:[]}}}class S{constructor(e,t,r,d,h){this.target=e,this.channelControlHelper=t,this.onSuccessfulResolution=d,this.onFailedResolution=h,this.latestChildState=o.ConnectivityState.IDLE,this.latestChildPicker=new a.QueuePicker(this),this.currentState=o.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,r["grpc.service_config"]?this.defaultServiceConfig=(0,i.validateServiceConfig)(JSON.parse(r["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(o.ConnectivityState.IDLE,new a.QueuePicker(this)),this.childLoadBalancer=new f.ChildLoadBalancerHandler({createSubchannel:t.createSubchannel.bind(t),requestReresolution:()=>{this.backoffTimeout.isRunning()?(g("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(e,t)=>{this.latestChildState=e,this.latestChildPicker=t,this.updateState(e,t)},addChannelzChild:t.addChannelzChild.bind(t),removeChannelzChild:t.removeChannelzChild.bind(t)}),this.innerResolver=(0,s.createResolver)(e,{onSuccessfulResolution:(e,t,r,i,o)=>{var s;this.backoffTimeout.stop(),this.backoffTimeout.reset();let a=null;null===t?null===r?(this.previousServiceConfig=null,a=this.defaultServiceConfig):null===this.previousServiceConfig?this.handleResolutionFailure(r):a=this.previousServiceConfig:(a=t,this.previousServiceConfig=t);let l=null!==(s=null==a?void 0:a.loadBalancingConfig)&&void 0!==s?s:[],d=(0,n.getFirstUsableConfig)(l,!0);if(null===d){this.handleResolutionFailure({code:u.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new c.Metadata});return}this.childLoadBalancer.updateAddressList(e,d,o);let h=null!=a?a:this.defaultServiceConfig;this.onSuccessfulResolution(h,null!=i?i:E(h))},onError:e=>{this.handleResolutionFailure(e)}},r);let p={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new l.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)},p),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===o.ConnectivityState.IDLE&&this.updateState(o.ConnectivityState.CONNECTING,new a.QueuePicker(this)),this.backoffTimeout.runOnce()}updateState(e,t){g((0,p.uriToString)(this.target)+" "+o.ConnectivityState[this.currentState]+" -> "+o.ConnectivityState[e]),e===o.ConnectivityState.IDLE&&(t=new a.QueuePicker(this)),this.currentState=e,this.channelControlHelper.updateState(e,t)}handleResolutionFailure(e){this.latestChildState===o.ConnectivityState.IDLE&&(this.updateState(o.ConnectivityState.TRANSIENT_FAILURE,new a.UnavailablePicker(e)),this.onFailedResolution(e))}exitIdle(){(this.currentState===o.ConnectivityState.IDLE||this.currentState===o.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(e,t){throw Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=o.ConnectivityState.IDLE,this.latestChildPicker=new a.QueuePicker(this),this.currentState=o.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}}t.ResolvingLoadBalancer=S},25627:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RetryingCall=t.MessageBufferTracker=t.RetryThrottler=void 0;let n=r(19572),i=r(6281),o=r(25792),s="retrying_call";class a{constructor(e,t,r){this.maxTokens=e,this.tokenRatio=t,r?this.tokens=r.tokens*(e/r.maxTokens):this.tokens=e}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}}t.RetryThrottler=a;class l{constructor(e,t){this.totalLimit=e,this.limitPerCall=t,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(e,t){var r;let n=null!==(r=this.allocatedPerCall.get(t))&&void 0!==r?r:0;return!(this.limitPerCall-n<e)&&!(this.totalLimit-this.totalAllocated<e)&&(this.allocatedPerCall.set(t,n+e),this.totalAllocated+=e,!0)}free(e,t){var r;if(this.totalAllocated<e)throw Error(`Invalid buffer allocation state: call ${t} freed ${e} > total allocated ${this.totalAllocated}`);this.totalAllocated-=e;let n=null!==(r=this.allocatedPerCall.get(t))&&void 0!==r?r:0;if(n<e)throw Error(`Invalid buffer allocation state: call ${t} freed ${e} > allocated for call ${n}`);this.allocatedPerCall.set(t,n-e)}freeAll(e){var t;let r=null!==(t=this.allocatedPerCall.get(e))&&void 0!==t?t:0;if(this.totalAllocated<r)throw Error(`Invalid buffer allocation state: call ${e} allocated ${r} > total allocated ${this.totalAllocated}`);this.totalAllocated-=r,this.allocatedPerCall.delete(e)}}t.MessageBufferTracker=l;let u="grpc-previous-rpc-attempts";class c{constructor(e,t,r,n,i,o,s,a,l){if(this.channel=e,this.callConfig=t,this.methodName=r,this.host=n,this.credentials=i,this.deadline=o,this.callNumber=s,this.bufferTracker=a,this.retryThrottler=l,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0,t.methodConfig.retryPolicy){this.state="RETRY";let e=t.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(e.initialBackoff.substring(0,e.initialBackoff.length-1))}else t.methodConfig.hedgingPolicy?this.state="HEDGING":this.state="TRANSPARENT_ONLY"}getCallNumber(){return this.callNumber}trace(e){o.trace(n.LogVerbosity.DEBUG,s,"["+this.callNumber+"] "+e)}reportStatus(e){this.trace("ended with status: code="+e.code+' details="'+e.details+'"'),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var t;null===(t=this.listener)||void 0===t||t.onReceiveStatus({code:e.code,details:e.details,metadata:e.metadata})})}cancelWithStatus(e,t){for(let{call:r}of(this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.reportStatus({code:e,details:t,metadata:new i.Metadata}),this.underlyingCalls))r.cancelWithStatus(e,t)}getPeer(){return null!==this.committedCallIndex?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(e){var t;return null!==(t=this.writeBuffer[e-this.writeBufferOffset])&&void 0!==t?t:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if("COMMITTED"!==this.state)return;let e=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let t=this.writeBufferOffset;t<e;t++){let e=this.getBufferEntry(t);e.allocated&&this.bufferTracker.free(e.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(e-this.writeBufferOffset),this.writeBufferOffset=e}commitCall(e){if("COMMITTED"!==this.state&&"COMPLETED"!==this.underlyingCalls[e].state){this.trace("Committing call ["+this.underlyingCalls[e].call.getCallNumber()+"] at index "+e),this.state="COMMITTED",this.committedCallIndex=e;for(let t=0;t<this.underlyingCalls.length;t++)t!==e&&"COMPLETED"!==this.underlyingCalls[t].state&&(this.underlyingCalls[t].state="COMPLETED",this.underlyingCalls[t].call.cancelWithStatus(n.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if("COMMITTED"===this.state)return;let e=-1,t=-1;for(let[r,n]of this.underlyingCalls.entries())"ACTIVE"===n.state&&n.nextMessageToSend>e&&(e=n.nextMessageToSend,t=r);-1===t?this.state="TRANSPARENT_ONLY":this.commitCall(t)}isStatusCodeInList(e,t){return e.some(e=>e===t||e.toString().toLowerCase()===n.Status[t].toLowerCase())}getNextRetryBackoffMs(){var e;let t=null===(e=this.callConfig)||void 0===e?void 0:e.methodConfig.retryPolicy;if(!t)return 0;let r=Math.random()*this.nextRetryBackoffSec*1e3,n=Number(t.maxBackoff.substring(0,t.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*t.backoffMultiplier,n),r}maybeRetryCall(e,t){let r;if("RETRY"!==this.state){t(!1);return}let n=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(n.maxAttempts,5)){t(!1);return}if(null===e)r=this.getNextRetryBackoffMs();else if(e<0){this.state="TRANSPARENT_ONLY",t(!1);return}else r=e,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var e,r;if("RETRY"!==this.state){t(!1);return}(null===(r=null===(e=this.retryThrottler)||void 0===e?void 0:e.canRetryCall())||void 0===r||r)&&(t(!0),this.attempts+=1,this.startNewAttempt())},r)}countActiveCalls(){let e=0;for(let t of this.underlyingCalls)(null==t?void 0:t.state)==="ACTIVE"&&(e+=1);return e}handleProcessedStatus(e,t,r){var n,i,o;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(t),this.reportStatus(e);break;case"HEDGING":if(this.isStatusCodeInList(null!==(n=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)&&void 0!==n?n:[],e.code)){let n;if(null===(i=this.retryThrottler)||void 0===i||i.addCallFailed(),null===r)n=0;else if(r<0){this.state="TRANSPARENT_ONLY",this.commitCall(t),this.reportStatus(e);return}else n=r;setTimeout(()=>{this.maybeStartHedgingAttempt(),0===this.countActiveCalls()&&(this.commitCall(t),this.reportStatus(e))},n)}else this.commitCall(t),this.reportStatus(e);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,e.code)?(null===(o=this.retryThrottler)||void 0===o||o.addCallFailed(),this.maybeRetryCall(r,r=>{r||(this.commitCall(t),this.reportStatus(e))})):(this.commitCall(t),this.reportStatus(e))}}getPushback(e){let t=e.get("grpc-retry-pushback-ms");if(0===t.length)return null;try{return parseInt(t[0])}catch(e){return -1}}handleChildStatus(e,t){var r;if("COMPLETED"===this.underlyingCalls[t].state)return;if(this.trace("state="+this.state+" handling status with progress "+e.progress+" from child ["+this.underlyingCalls[t].call.getCallNumber()+"] in state "+this.underlyingCalls[t].state),this.underlyingCalls[t].state="COMPLETED",e.code===n.Status.OK){null===(r=this.retryThrottler)||void 0===r||r.addCallSucceeded(),this.commitCall(t),this.reportStatus(e);return}if("COMMITTED"===this.state){this.reportStatus(e);return}let i=this.getPushback(e.metadata);switch(e.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(e,t,i):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(t),this.reportStatus(e);break;case"PROCESSED":this.handleProcessedStatus(e,t,i)}}maybeStartHedgingAttempt(){if("HEDGING"!==this.state||!this.callConfig.methodConfig.hedgingPolicy)return;let e=this.callConfig.methodConfig.hedgingPolicy;this.attempts>=Math.min(e.maxAttempts,5)||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer())}maybeStartHedgingTimer(){var e,t,r;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),"HEDGING"!==this.state||!this.callConfig.methodConfig.hedgingPolicy)return;let n=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(n.maxAttempts,5))return;let i=null!==(e=n.hedgingDelay)&&void 0!==e?e:"0s",o=Number(i.substring(0,i.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},1e3*o),null===(r=(t=this.hedgingTimer).unref)||void 0===r||r.call(t)}startNewAttempt(){let e=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+e.getCallNumber()+"] for attempt "+this.attempts);let t=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:e,nextMessageToSend:0});let r=this.attempts-1,n=this.initialMetadata.clone();r>0&&n.set(u,`${r}`);let i=!1;e.start(n,{onReceiveMetadata:n=>{this.trace("Received metadata from child ["+e.getCallNumber()+"]"),this.commitCall(t),i=!0,r>0&&n.set(u,`${r}`),"ACTIVE"===this.underlyingCalls[t].state&&this.listener.onReceiveMetadata(n)},onReceiveMessage:r=>{this.trace("Received message from child ["+e.getCallNumber()+"]"),this.commitCall(t),"ACTIVE"===this.underlyingCalls[t].state&&this.listener.onReceiveMessage(r)},onReceiveStatus:n=>{this.trace("Received status from child ["+e.getCallNumber()+"]"),!i&&r>0&&n.metadata.set(u,`${r}`),this.handleChildStatus(n,t)}}),this.sendNextChildMessage(t),this.readStarted&&e.startRead()}start(e,t){this.trace("start called"),this.listener=t,this.initialMetadata=e,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(e){var t,r;let n=this.underlyingCalls[e],i=n.nextMessageToSend;null===(r=(t=this.getBufferEntry(i)).callback)||void 0===r||r.call(t),this.clearSentMessages(),n.nextMessageToSend+=1,this.sendNextChildMessage(e)}sendNextChildMessage(e){let t=this.underlyingCalls[e];if("COMPLETED"!==t.state&&this.getBufferEntry(t.nextMessageToSend)){let r=this.getBufferEntry(t.nextMessageToSend);switch(r.entryType){case"MESSAGE":t.call.sendMessageWithContext({callback:t=>{this.handleChildWriteCompleted(e)}},r.message.message);break;case"HALF_CLOSE":t.nextMessageToSend+=1,t.call.halfClose()}}}sendMessageWithContext(e,t){var r;this.trace("write() called with message of length "+t.length);let n={message:t,flags:e.flags},i=this.getNextBufferIndex(),o={entryType:"MESSAGE",message:n,allocated:this.bufferTracker.allocate(t.length,this.callNumber)};if(this.writeBuffer.push(o),o.allocated)for(let[n,o]of(null===(r=e.callback)||void 0===r||r.call(e),this.underlyingCalls.entries()))"ACTIVE"===o.state&&o.nextMessageToSend===i&&o.call.sendMessageWithContext({callback:e=>{this.handleChildWriteCompleted(n)}},t);else{if(this.commitCallWithMostMessages(),null===this.committedCallIndex)return;let r=this.underlyingCalls[this.committedCallIndex];o.callback=e.callback,"ACTIVE"===r.state&&r.nextMessageToSend===i&&r.call.sendMessageWithContext({callback:e=>{this.handleChildWriteCompleted(this.committedCallIndex)}},t)}}startRead(){for(let e of(this.trace("startRead called"),this.readStarted=!0,this.underlyingCalls))(null==e?void 0:e.state)==="ACTIVE"&&e.call.startRead()}halfClose(){this.trace("halfClose called");let e=this.getNextBufferIndex();for(let t of(this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1}),this.underlyingCalls))(null==t?void 0:t.state)==="ACTIVE"&&t.nextMessageToSend===e&&(t.nextMessageToSend+=1,t.call.halfClose())}setCredentials(e){throw Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}}t.RetryingCall=c},92025:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2ServerCallStream=t.ServerDuplexStreamImpl=t.ServerWritableStreamImpl=t.ServerReadableStreamImpl=t.ServerUnaryCallImpl=void 0;let n=r(82361),i=r(85158),o=r(12781),s=r(59796),a=r(19572),l=r(6281),u=r(80615),c=r(25792),d=r(96027),h="server_call";function p(e){c.trace(a.LogVerbosity.DEBUG,h,e)}let f="grpc-message",m="grpc-status",g="grpc-timeout",y=/(\d{1,8})\s*([HMSmun])/,v={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},b={"grpc-accept-encoding":"identity,deflate,gzip","grpc-encoding":"identity"},E={[i.constants.HTTP2_HEADER_STATUS]:i.constants.HTTP_STATUS_OK,[i.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},S={waitForTrailers:!0};class _ extends n.EventEmitter{constructor(e,t,r){super(),this.call=e,this.metadata=t,this.request=r,this.cancelled=!1,this.call.setupSurfaceCall(this)}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}}t.ServerUnaryCallImpl=_;class T extends o.Readable{constructor(e,t,r,n){super({objectMode:!0}),this.call=e,this.metadata=t,this.deserialize=r,this.cancelled=!1,this.call.setupSurfaceCall(this),this.call.setupReadable(this,n)}_read(e){this.call.consumeUnpushedMessages(this)&&this.call.resume()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}}t.ServerReadableStreamImpl=T;class A extends o.Writable{constructor(e,t,r,n){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.request=n,this.cancelled=!1,this.trailingMetadata=new l.Metadata,this.call.setupSurfaceCall(this),this.on("error",e=>{this.call.sendError(e),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}_write(e,t,r){try{let t=this.call.serializeMessage(e);if(!this.call.write(t)){this.call.once("drain",r);return}}catch(e){this.emit("error",{details:(0,d.getErrorMessage)(e),code:a.Status.INTERNAL})}r()}_final(e){this.call.sendStatus({code:a.Status.OK,details:"OK",metadata:this.trailingMetadata}),e(null)}end(e){return e&&(this.trailingMetadata=e),super.end()}}t.ServerWritableStreamImpl=A;class C extends o.Duplex{constructor(e,t,r,n,i){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.deserialize=n,this.cancelled=!1,this.trailingMetadata=new l.Metadata,this.call.setupSurfaceCall(this),this.call.setupReadable(this,i),this.on("error",e=>{this.call.sendError(e),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}end(e){return e&&(this.trailingMetadata=e),super.end()}}t.ServerDuplexStreamImpl=C,C.prototype._read=T.prototype._read,C.prototype._write=A.prototype._write,C.prototype._final=A.prototype._final;class w extends n.EventEmitter{constructor(e,t,r){super(),this.stream=e,this.handler=t,this.cancelled=!1,this.deadlineTimer=null,this.statusSent=!1,this.deadline=1/0,this.wantTrailers=!1,this.metadataSent=!1,this.canPush=!1,this.isPushPending=!1,this.bufferedMessages=[],this.messagesToPush=[],this.maxSendMessageSize=a.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=a.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.stream.once("error",e=>{}),this.stream.once("close",()=>{var e;p("Request to method "+(null===(e=this.handler)||void 0===e?void 0:e.path)+" stream closed with rstCode "+this.stream.rstCode),!this.statusSent&&(this.cancelled=!0,this.emit("cancelled","cancelled"),this.emit("streamEnd",!1),this.sendStatus({code:a.Status.CANCELLED,details:"Cancelled by client",metadata:null}),this.deadlineTimer&&clearTimeout(this.deadlineTimer))}),this.stream.on("drain",()=>{this.emit("drain")}),"grpc.max_send_message_length"in r&&(this.maxSendMessageSize=r["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in r&&(this.maxReceiveMessageSize=r["grpc.max_receive_message_length"])}checkCancelled(){return(this.stream.destroyed||this.stream.closed)&&(this.cancelled=!0),this.cancelled}getDecompressedMessage(e,t){let r=e.subarray(5);if("identity"===t)return r;if("deflate"!==t&&"gzip"!==t)return Promise.reject({code:a.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${t}"`});{let e;return e="deflate"===t?s.createInflate():s.createGunzip(),new Promise((t,n)=>{let i=0,o=[];e.on("data",t=>{o.push(t),i+=t.byteLength,-1!==this.maxReceiveMessageSize&&i>this.maxReceiveMessageSize&&(e.destroy(),n({code:a.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`}))}),e.on("end",()=>{t(Buffer.concat(o))}),e.write(r),e.end()})}}sendMetadata(e){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let t=e?e.toHttp2Headers():null,r=Object.assign(Object.assign(Object.assign({},E),b),t);this.stream.respond(r,S)}receiveMetadata(e){let t=l.Metadata.fromHttp2Headers(e);c.isTracerEnabled(h)&&p("Request to "+this.handler.path+" received headers "+JSON.stringify(t.toJSON()));let r=t.get(g);if(r.length>0){let e=r[0].toString().match(y);if(null===e){let e=Error("Invalid deadline");return e.code=a.Status.OUT_OF_RANGE,this.sendError(e),t}let n=+e[1]*v[e[2]]|0,i=new Date;this.deadline=i.setMilliseconds(i.getMilliseconds()+n),this.deadlineTimer=setTimeout(O,n,this),t.remove(g)}return t.remove(i.constants.HTTP2_HEADER_ACCEPT_ENCODING),t.remove(i.constants.HTTP2_HEADER_TE),t.remove(i.constants.HTTP2_HEADER_CONTENT_TYPE),t.remove("grpc-accept-encoding"),t}receiveUnaryMessage(e){return new Promise((t,r)=>{let{stream:n}=this,i=0,o=this,s=[],l=this.maxReceiveMessageSize;function u(e){if(i+=e.byteLength,-1!==l&&i>l){n.removeListener("data",u),n.removeListener("end",c),n.removeListener("error",c),r({code:a.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${i} vs. ${l})`});return}s.push(e)}function c(l){if(n.removeListener("data",u),n.removeListener("end",c),n.removeListener("error",c),void 0!==l){r({code:a.Status.INTERNAL,details:l.message});return}if(0===i){r({code:a.Status.INTERNAL,details:"received empty unary message"});return}o.emit("receiveMessage");let d=Buffer.concat(s,i),h=1===d.readUInt8(0)?e:"identity",p=o.getDecompressedMessage(d,h);if(Buffer.isBuffer(p)){t(o.deserializeMessageWithInternalError(p));return}p.then(e=>t(o.deserializeMessageWithInternalError(e)),t=>r(t.code?t:{code:a.Status.INTERNAL,details:`Received "grpc-encoding" header "${e}" but ${e} decompression failed`}))}this.stream.on("data",u),this.stream.on("end",c),this.stream.on("error",c)})}async deserializeMessageWithInternalError(e){try{return this.deserializeMessage(e)}catch(e){throw{details:(0,d.getErrorMessage)(e),code:a.Status.INTERNAL}}}serializeMessage(e){let t=this.handler.serialize(e),r=t.byteLength,n=Buffer.allocUnsafe(r+5);return n.writeUInt8(0,0),n.writeUInt32BE(r,1),t.copy(n,5),n}deserializeMessage(e){return this.handler.deserialize(e)}async sendUnaryMessage(e,t,r,n){if(!this.checkCancelled()){if(void 0===r&&(r=null),e){!Object.prototype.hasOwnProperty.call(e,"metadata")&&r&&(e.metadata=r),this.sendError(e);return}try{let e=this.serializeMessage(t);this.write(e),this.sendStatus({code:a.Status.OK,details:"OK",metadata:r})}catch(e){this.sendError({details:(0,d.getErrorMessage)(e),code:a.Status.INTERNAL})}}}sendStatus(e){var t,r;if(this.emit("callEnd",e.code),this.emit("streamEnd",e.code===a.Status.OK),!this.checkCancelled()){if(p("Request to method "+(null===(t=this.handler)||void 0===t?void 0:t.path)+" ended with status code: "+a.Status[e.code]+" details: "+e.details),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.headersSent)this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var t;let r=Object.assign({[m]:e.code,[f]:encodeURI(e.details)},null===(t=e.metadata)||void 0===t?void 0:t.toHttp2Headers());this.stream.sendTrailers(r),this.statusSent=!0}),this.stream.end());else{let t=Object.assign(Object.assign({[m]:e.code,[f]:encodeURI(e.details)},E),null===(r=e.metadata)||void 0===r?void 0:r.toHttp2Headers());this.stream.respond(t,{endStream:!0}),this.statusSent=!0}}}sendError(e){let t={code:a.Status.UNKNOWN,details:"message"in e?e.message:"Unknown Error",metadata:"metadata"in e&&void 0!==e.metadata?e.metadata:null};"code"in e&&"number"==typeof e.code&&Number.isInteger(e.code)&&(t.code=e.code,"details"in e&&"string"==typeof e.details&&(t.details=e.details)),this.sendStatus(t)}write(e){if(!this.checkCancelled()){if(-1!==this.maxSendMessageSize&&e.length>this.maxSendMessageSize){this.sendError({code:a.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${e.length} vs. ${this.maxSendMessageSize})`});return}return this.sendMetadata(),this.emit("sendMessage"),this.stream.write(e)}}resume(){this.stream.resume()}setupSurfaceCall(e){this.once("cancelled",t=>{e.cancelled=!0,e.emit("cancelled",t)}),this.once("callEnd",t=>e.emit("callEnd",t))}setupReadable(e,t){let r=new u.StreamDecoder(this.maxReceiveMessageSize),n=!1,i=!1,o=!1,s=async()=>{o||!n||i||(o=!0,await this.pushOrBufferMessage(e,null))};this.stream.on("data",async n=>{let o;try{o=r.write(n)}catch(e){this.sendError({code:a.Status.RESOURCE_EXHAUSTED,details:e.message});return}for(let r of(i=!0,this.stream.pause(),o)){let n;this.emit("receiveMessage");let i=1===r.readUInt8(0)?t:"identity";try{n=await this.getDecompressedMessage(r,i)}catch(e){this.sendError(e);return}if(!n)return;await this.pushOrBufferMessage(e,n)}i=!1,this.stream.resume(),await s()}),this.stream.once("end",async()=>{n=!0,await s()})}consumeUnpushedMessages(e){for(this.canPush=!0;this.messagesToPush.length>0;){let t=this.messagesToPush.shift(),r=e.push(t);if(null===t||!1===r){this.canPush=!1;break}}return this.canPush}async pushOrBufferMessage(e,t){this.isPushPending?this.bufferedMessages.push(t):await this.pushMessage(e,t)}async pushMessage(e,t){if(null===t){p("Received end of stream"),this.canPush?e.push(null):this.messagesToPush.push(null);return}p("Received message of length "+t.length),this.isPushPending=!0;try{let r=await this.deserializeMessage(t);this.canPush?e.push(r)||(this.canPush=!1,this.stream.pause()):this.messagesToPush.push(r)}catch(r){this.bufferedMessages.length=0;let t=(0,d.getErrorCode)(r);(null===t||t<a.Status.OK||t>a.Status.UNAUTHENTICATED)&&(t=a.Status.INTERNAL),e.emit("error",{details:(0,d.getErrorMessage)(r),code:t})}this.isPushPending=!1,this.bufferedMessages.length>0&&await this.pushMessage(e,this.bufferedMessages.shift())}getPeer(){var e;let t=null===(e=this.stream.session)||void 0===e?void 0:e.socket;return null!=t&&t.remoteAddress?t.remotePort?`${t.remoteAddress}:${t.remotePort}`:t.remoteAddress:"unknown"}getDeadline(){return this.deadline}getPath(){return this.handler.path}}function O(e){let t=Error("Deadline exceeded");t.code=a.Status.DEADLINE_EXCEEDED,e.sendError(t),e.cancelled=!0,e.emit("cancelled","deadline")}t.Http2ServerCallStream=w},43783:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerCredentials=void 0;let n=r(80606);class i{static createInsecure(){return new o}static createSsl(e,t,r=!1){if(null!==e&&!Buffer.isBuffer(e))throw TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(t))throw TypeError("keyCertPairs must be an array");if("boolean"!=typeof r)throw TypeError("checkClientCertificate must be a boolean");let i=[],o=[];for(let e=0;e<t.length;e++){let r=t[e];if(null===r||"object"!=typeof r)throw TypeError(`keyCertPair[${e}] must be an object`);if(!Buffer.isBuffer(r.private_key))throw TypeError(`keyCertPair[${e}].private_key must be a Buffer`);if(!Buffer.isBuffer(r.cert_chain))throw TypeError(`keyCertPair[${e}].cert_chain must be a Buffer`);i.push(r.cert_chain),o.push(r.private_key)}return new s({ca:e||(0,n.getDefaultRootsData)()||void 0,cert:i,key:o,requestCert:r,ciphers:n.CIPHER_SUITES})}}t.ServerCredentials=i;class o extends i{_isSecure(){return!1}_getSettings(){return null}}class s extends i{constructor(e){super(),this.options=e}_isSecure(){return!0}_getSettings(){return this.options}}},66418:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Server=void 0;let n=r(85158),i=r(19572),o=r(92025),s=r(43783),a=r(84063),l=r(25792),u=r(74955),c=r(55541),d=r(65962),h=2147483647,p=2147483647,f=2e4,{HTTP2_HEADER_PATH:m}=n.constants,g="server";function y(){}function v(e){return{code:i.Status.UNIMPLEMENTED,details:`The server does not implement the method ${e}`}}function b(e,t){let r=v(t);switch(e){case"unary":return(e,t)=>{t(r,null)};case"clientStream":return(e,t)=>{t(r,null)};case"serverStream":return e=>{e.emit("error",r)};case"bidi":return e=>{e.emit("error",r)};default:throw Error(`Invalid handlerType ${e}`)}}class E{constructor(e){var t,r,n,i;this.http2ServerList=[],this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.channelzTrace=new d.ChannelzTrace,this.callTracker=new d.ChannelzCallTracker,this.listenerChildrenTracker=new d.ChannelzChildrenTracker,this.sessionChildrenTracker=new d.ChannelzChildrenTracker,this.options=null!=e?e:{},0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,d.registerChannelzServer)(()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=null!==(t=this.options["grpc.max_connection_age_ms"])&&void 0!==t?t:h,this.maxConnectionAgeGraceMs=null!==(r=this.options["grpc.max_connection_age_grace_ms"])&&void 0!==r?r:h,this.keepaliveTimeMs=null!==(n=this.options["grpc.keepalive_time_ms"])&&void 0!==n?n:p,this.keepaliveTimeoutMs=null!==(i=this.options["grpc.keepalive_timeout_ms"])&&void 0!==i?i:f,this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfoGetter(e){return()=>{var t,r,n;let i;let o=this.sessions.get(e),s=e.socket,a=s.remoteAddress?(0,u.stringToSubchannelAddress)(s.remoteAddress,s.remotePort):null,l=s.localAddress?(0,u.stringToSubchannelAddress)(s.localAddress,s.localPort):null;if(e.encrypted){let e=s,r=e.getCipher(),n=e.getCertificate(),o=e.getPeerCertificate();i={cipherSuiteStandardName:null!==(t=r.standardName)&&void 0!==t?t:null,cipherSuiteOtherName:r.standardName?null:r.name,localCertificate:n&&"raw"in n?n.raw:null,remoteCertificate:o&&"raw"in o?o.raw:null}}else i=null;return{remoteAddress:a,localAddress:l,security:i,remoteName:null,streamsStarted:o.streamTracker.callsStarted,streamsSucceeded:o.streamTracker.callsSucceeded,streamsFailed:o.streamTracker.callsFailed,messagesSent:o.messagesSent,messagesReceived:o.messagesReceived,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:o.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:o.lastMessageSentTimestamp,lastMessageReceivedTimestamp:o.lastMessageReceivedTimestamp,localFlowControlWindow:null!==(r=e.state.localWindowSize)&&void 0!==r?r:null,remoteFlowControlWindow:null!==(n=e.state.remoteWindowSize)&&void 0!==n?n:null}}}trace(e){l.trace(i.LogVerbosity.DEBUG,g,"("+this.channelzRef.id+") "+e)}addProtoService(){throw Error("Not implemented. Use addService() instead")}addService(e,t){if(null===e||"object"!=typeof e||null===t||"object"!=typeof t)throw Error("addService() requires two objects as arguments");let r=Object.keys(e);if(0===r.length)throw Error("Cannot add an empty service to a server");r.forEach(r=>{let n,i;let o=e[r];n=o.requestStream?o.responseStream?"bidi":"clientStream":o.responseStream?"serverStream":"unary";let s=t[r];if(void 0===s&&"string"==typeof o.originalName&&(s=t[o.originalName]),i=void 0!==s?s.bind(t):b(n,r),!1===this.register(o.path,i,o.responseSerialize,o.requestDeserialize,n))throw Error(`Method handler for ${o.path} already provided.`)})}removeService(e){if(null===e||"object"!=typeof e)throw Error("removeService() requires object as argument");Object.keys(e).forEach(t=>{let r=e[t];this.unregister(r.path)})}bind(e,t){throw Error("Not implemented. Use bindAsync() instead")}bindAsync(e,t,r){if(!0===this.started)throw Error("server is already started");if(this.shutdown)throw Error("bindAsync called after shutdown");if("string"!=typeof e)throw TypeError("port must be a string");if(null===t||!(t instanceof s.ServerCredentials))throw TypeError("creds must be a ServerCredentials object");if("function"!=typeof r)throw TypeError("callback must be a function");let o=(0,c.parseUri)(e);if(null===o)throw Error(`Could not parse port "${e}"`);let h=(0,a.mapUriDefaultScheme)(o);if(null===h)throw Error(`Could not get a default scheme for port "${e}"`);let p={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER};"grpc-node.max_session_memory"in this.options?p.maxSessionMemory=this.options["grpc-node.max_session_memory"]:p.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(p.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]});let f=(e,t)=>{process.nextTick(()=>r(e,t))},m=()=>{let e;if(t._isSecure()){let r=Object.assign(p,t._getSettings());r.enableTrace=1===this.options["grpc-node.tls_enable_trace"],(e=n.createSecureServer(r)).on("secureConnection",e=>{e.on("error",e=>{this.trace("An incoming TLS connection closed with error: "+e.message)})})}else e=n.createServer(p);return e.setTimeout(0,y),this._setupHandlers(e),e},g=(e,t,r)=>0===e.length?Promise.resolve({port:t,count:r}):Promise.all(e.map(e=>{let r;this.trace("Attempting to bind "+(0,u.subchannelAddressToString)(e)),r=(0,u.isTcpSubchannelAddress)(e)?{host:e.host,port:t}:e;let n=m();return new Promise((i,o)=>{let s=t=>{this.trace("Failed to bind "+(0,u.subchannelAddressToString)(e)+" with error "+t.message),i(t)};n.once("error",s),n.listen(r,()=>{let e;if(this.shutdown){n.close(),i(Error("bindAsync failed because server is shutdown"));return}let r=n.address();e="string"==typeof r?{path:r}:{host:r.address,port:r.port};let o=(0,d.registerChannelzSocket)((0,u.subchannelAddressToString)(e),()=>({localAddress:e,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(o),this.http2ServerList.push({server:n,channelzRef:o}),this.trace("Successfully bound "+(0,u.subchannelAddressToString)(e)),i("port"in e?e.port:t),n.removeListener("error",s)})})})).then(e=>{let n=0;for(let r of e)if("number"==typeof r&&(n+=1,r!==t))throw Error("Invalid state: multiple port numbers added from single address");return{port:t,count:n+r}}),v=e=>{if(0===e.length)return Promise.resolve({port:0,count:0});let t=e[0],r=m();return new Promise((n,i)=>{let o=r=>{this.trace("Failed to bind "+(0,u.subchannelAddressToString)(t)+" with error "+r.message),n(v(e.slice(1)))};r.once("error",o),r.listen(t,()=>{if(this.shutdown){r.close(),n({port:0,count:0});return}let t=r.address(),i={host:t.address,port:t.port},s=(0,d.registerChannelzSocket)((0,u.subchannelAddressToString)(i),()=>({localAddress:i,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(s),this.http2ServerList.push({server:r,channelzRef:s}),this.trace("Successfully bound "+(0,u.subchannelAddressToString)(i)),n(g(e.slice(1),t.port,1)),r.removeListener("error",o)})})},b={onSuccessfulResolution:(t,r,n)=>{let o;if(b.onSuccessfulResolution=()=>{},this.shutdown&&f(Error("bindAsync failed because server is shutdown"),0),0===t.length){f(Error(`No addresses resolved for port ${e}`),0);return}(o=(0,u.isTcpSubchannelAddress)(t[0])?0===t[0].port?v(t):g(t,t[0].port,0):g(t,1,0)).then(e=>{if(0===e.count){let e=`No address added out of total ${t.length} resolved`;l.log(i.LogVerbosity.ERROR,e),f(Error(e),0)}else e.count<t.length&&l.log(i.LogVerbosity.INFO,`WARNING Only ${e.count} addresses added out of total ${t.length} resolved`),f(null,e.port)},e=>{let r=`No address added out of total ${t.length} resolved`;l.log(i.LogVerbosity.ERROR,r),f(Error(r),0)})},onError:e=>{f(Error(e.details),0)}};(0,a.createResolver)(h,b,this.options).updateResolution()}forceShutdown(){for(let{server:e,channelzRef:t}of this.http2ServerList)e.listening&&e.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(t),(0,d.unregisterChannelzRef)(t))});this.started=!1,this.shutdown=!0,this.sessions.forEach((e,t)=>{t.destroy(n.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),this.channelzEnabled&&(0,d.unregisterChannelzRef)(this.channelzRef)}register(e,t,r,n,i){return!this.handlers.has(e)&&(this.handlers.set(e,{func:t,serialize:r,deserialize:n,type:i,path:e}),!0)}unregister(e){return this.handlers.delete(e)}start(){if(0===this.http2ServerList.length||this.http2ServerList.every(({server:e})=>!0!==e.listening))throw Error("server must be bound in order to start");if(!0===this.started)throw Error("server is already started");this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Starting"),this.started=!0}tryShutdown(e){let t=t=>{this.channelzEnabled&&(0,d.unregisterChannelzRef)(this.channelzRef),e(t)},r=0;function n(){0==--r&&t()}for(let{server:e,channelzRef:t}of(this.started=!1,this.shutdown=!0,this.http2ServerList))e.listening&&(r++,e.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(t),(0,d.unregisterChannelzRef)(t)),n()}));this.sessions.forEach((e,t)=>{t.closed||(r+=1,t.close(n))}),0===r&&t()}addHttp2Port(){throw Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(e,t){let r=t[n.constants.HTTP2_HEADER_CONTENT_TYPE];return!!("string"==typeof r&&r.startsWith("application/grpc"))||(e.respond({[n.constants.HTTP2_HEADER_STATUS]:n.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1)}_retrieveHandler(e){this.trace("Received call to method "+e+" at address "+this.serverAddressString);let t=this.handlers.get(e);return void 0===t?(this.trace("No handler registered for method "+e+". Sending UNIMPLEMENTED status."),null):t}_respondWithError(e,t,r=null){let n=new o.Http2ServerCallStream(t,null,this.options);void 0===e.code&&(e.code=i.Status.INTERNAL),this.channelzEnabled&&(this.callTracker.addCallFailed(),null==r||r.streamTracker.addCallFailed()),n.sendError(e)}_channelzHandler(e,t){let r=this.sessions.get(e.session);if(this.callTracker.addCallStarted(),null==r||r.streamTracker.addCallStarted(),!this._verifyContentType(e,t)){this.callTracker.addCallFailed(),null==r||r.streamTracker.addCallFailed();return}let n=t[m],s=this._retrieveHandler(n);if(!s){this._respondWithError(v(n),e,r);return}let a=new o.Http2ServerCallStream(e,s,this.options);a.once("callEnd",e=>{e===i.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}),r&&(a.once("streamEnd",e=>{e?r.streamTracker.addCallSucceeded():r.streamTracker.addCallFailed()}),a.on("sendMessage",()=>{r.messagesSent+=1,r.lastMessageSentTimestamp=new Date}),a.on("receiveMessage",()=>{r.messagesReceived+=1,r.lastMessageReceivedTimestamp=new Date})),this._runHandlerForCall(a,s,t)||(this.callTracker.addCallFailed(),null==r||r.streamTracker.addCallFailed(),a.sendError({code:i.Status.INTERNAL,details:`Unknown handler type: ${s.type}`}))}_streamHandler(e,t){if(!0!==this._verifyContentType(e,t))return;let r=t[m],n=this._retrieveHandler(r);if(!n){this._respondWithError(v(r),e,null);return}let s=new o.Http2ServerCallStream(e,n,this.options);this._runHandlerForCall(s,n,t)||s.sendError({code:i.Status.INTERNAL,details:`Unknown handler type: ${n.type}`})}_runHandlerForCall(e,t,r){var n;let i=e.receiveMetadata(r),o=null!==(n=i.get("grpc-encoding")[0])&&void 0!==n?n:"identity";i.remove("grpc-encoding");let{type:s}=t;if("unary"===s)S(e,t,i,o);else if("clientStream"===s)_(e,t,i,o);else if("serverStream"===s)T(e,t,i,o);else{if("bidi"!==s)return!1;A(e,t,i,o)}return!0}_setupHandlers(e){if(null===e)return;let t=e.address(),r="null";t&&(r="string"==typeof t?t:t.address+":"+t.port),this.serverAddressString=r;let i=this.channelzEnabled?this._channelzHandler:this._streamHandler;e.on("stream",i.bind(this)),e.on("session",e=>{var t,r,i,o,s;if(!this.started){e.destroy();return}let a=(0,d.registerChannelzSocket)(null!==(t=e.socket.remoteAddress)&&void 0!==t?t:"unknown",this.getChannelzSessionInfoGetter(e),this.channelzEnabled),l={ref:a,streamTracker:new d.ChannelzCallTracker,messagesSent:0,messagesReceived:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};this.sessions.set(e,l);let u=e.socket.remoteAddress;this.channelzEnabled&&(this.channelzTrace.addTrace("CT_INFO","Connection established by client "+u),this.sessionChildrenTracker.refChild(a));let c=null,p=null,f=!1;if(this.maxConnectionAgeMs!==h){let t=this.maxConnectionAgeMs/10,o=Math.random()*t*2-t;c=null===(i=(r=setTimeout(()=>{var t,r;f=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+u);try{e.goaway(n.constants.NGHTTP2_NO_ERROR,2147483647,Buffer.from("max_age"))}catch(t){e.destroy();return}e.close(),this.maxConnectionAgeGraceMs!==h&&(p=null===(r=(t=setTimeout(()=>{e.destroy()},this.maxConnectionAgeGraceMs)).unref)||void 0===r?void 0:r.call(t))},this.maxConnectionAgeMs+o)).unref)||void 0===i?void 0:i.call(r)}let m=null===(s=(o=setInterval(()=>{var t,r;let n=null===(r=(t=setTimeout(()=>{f=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+u),e.close()},this.keepaliveTimeoutMs)).unref)||void 0===r?void 0:r.call(t);try{e.ping((e,t,r)=>{clearTimeout(n)})}catch(t){e.destroy()}},this.keepaliveTimeMs)).unref)||void 0===s?void 0:s.call(o);e.on("close",()=>{this.channelzEnabled&&(f||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+u),this.sessionChildrenTracker.unrefChild(a),(0,d.unregisterChannelzRef)(a)),c&&clearTimeout(c),p&&clearTimeout(p),m&&clearTimeout(m),this.sessions.delete(e)})})}}async function S(e,t,r,n){try{let i=await e.receiveUnaryMessage(n);if(void 0===i||e.cancelled)return;let s=new o.ServerUnaryCallImpl(e,r,i);t.func(s,(t,r,n,i)=>{e.sendUnaryMessage(t,r,n,i)})}catch(t){e.sendError(t)}}function _(e,t,r,n){let i=new o.ServerReadableStreamImpl(e,r,t.deserialize,n);function s(t,r,n,o){i.destroy(),e.sendUnaryMessage(t,r,n,o)}e.cancelled||(i.on("error",s),t.func(i,s))}async function T(e,t,r,n){try{let i=await e.receiveUnaryMessage(n);if(void 0===i||e.cancelled)return;let s=new o.ServerWritableStreamImpl(e,r,t.serialize,i);t.func(s)}catch(t){e.sendError(t)}}function A(e,t,r,n){let i=new o.ServerDuplexStreamImpl(e,r,t.serialize,t.deserialize,n);e.cancelled||t.func(i)}t.Server=E},94298:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractAndSelectServiceConfig=t.validateServiceConfig=t.validateRetryThrottling=void 0;let n=r(22037),i=r(19572),o=r(69884),s=/^\d+(\.\d{1,9})?s$/,a="node";function l(e){if("service"in e&&""!==e.service){if("string"!=typeof e.service)throw Error(`Invalid method config name: invalid service: expected type string, got ${typeof e.service}`);if(!("method"in e)||""===e.method)return{service:e.service};if("string"!=typeof e.method)throw Error(`Invalid method config name: invalid method: expected type string, got ${typeof e.service}`);return{service:e.service,method:e.method}}if("method"in e&&void 0!==e.method)throw Error("Invalid method config name: method set with empty or unset service");return{}}function u(e){if(!("maxAttempts"in e)||!Number.isInteger(e.maxAttempts)||e.maxAttempts<2)throw Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in e)||"string"!=typeof e.initialBackoff||!s.test(e.initialBackoff))throw Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s");if(!("maxBackoff"in e)||"string"!=typeof e.maxBackoff||!s.test(e.maxBackoff))throw Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s");if(!("backoffMultiplier"in e)||"number"!=typeof e.backoffMultiplier||e.backoffMultiplier<=0)throw Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in e&&Array.isArray(e.retryableStatusCodes)))throw Error("Invalid method config retry policy: retryableStatusCodes is required");if(0===e.retryableStatusCodes.length)throw Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let t of e.retryableStatusCodes)if("number"==typeof t){if(!Object.values(i.Status).includes(t))throw Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if("string"==typeof t){if(!Object.values(i.Status).includes(t.toUpperCase()))throw Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:e.maxAttempts,initialBackoff:e.initialBackoff,maxBackoff:e.maxBackoff,backoffMultiplier:e.backoffMultiplier,retryableStatusCodes:e.retryableStatusCodes}}function c(e){if(!("maxAttempts"in e)||!Number.isInteger(e.maxAttempts)||e.maxAttempts<2)throw Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in e&&("string"!=typeof e.hedgingDelay||!s.test(e.hedgingDelay)))throw Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in e&&Array.isArray(e.nonFatalStatusCodes))for(let t of e.nonFatalStatusCodes)if("number"==typeof t){if(!Object.values(i.Status).includes(t))throw Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if("string"==typeof t){if(!Object.values(i.Status).includes(t.toUpperCase()))throw Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number");let t={maxAttempts:e.maxAttempts};return e.hedgingDelay&&(t.hedgingDelay=e.hedgingDelay),e.nonFatalStatusCodes&&(t.nonFatalStatusCodes=e.nonFatalStatusCodes),t}function d(e){var t;let r={name:[]};if(!("name"in e)||!Array.isArray(e.name))throw Error("Invalid method config: invalid name array");for(let t of e.name)r.name.push(l(t));if("waitForReady"in e){if("boolean"!=typeof e.waitForReady)throw Error("Invalid method config: invalid waitForReady");r.waitForReady=e.waitForReady}if("timeout"in e){if("object"==typeof e.timeout){if(!("seconds"in e.timeout)||"number"!=typeof e.timeout.seconds)throw Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in e.timeout)||"number"!=typeof e.timeout.nanos)throw Error("Invalid method config: invalid timeout.nanos");r.timeout=e.timeout}else if("string"==typeof e.timeout&&s.test(e.timeout)){let n=e.timeout.substring(0,e.timeout.length-1).split(".");r.timeout={seconds:0|n[0],nanos:(null!==(t=n[1])&&void 0!==t?t:0)|0}}else throw Error("Invalid method config: invalid timeout")}if("maxRequestBytes"in e){if("number"!=typeof e.maxRequestBytes)throw Error("Invalid method config: invalid maxRequestBytes");r.maxRequestBytes=e.maxRequestBytes}if("maxResponseBytes"in e){if("number"!=typeof e.maxResponseBytes)throw Error("Invalid method config: invalid maxRequestBytes");r.maxResponseBytes=e.maxResponseBytes}if("retryPolicy"in e){if("hedgingPolicy"in e)throw Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");r.retryPolicy=u(e.retryPolicy)}else"hedgingPolicy"in e&&(r.hedgingPolicy=c(e.hedgingPolicy));return r}function h(e){if(!("maxTokens"in e)||"number"!=typeof e.maxTokens||e.maxTokens<=0||e.maxTokens>1e3)throw Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in e)||"number"!=typeof e.tokenRatio||e.tokenRatio<=0)throw Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+e.maxTokens.toFixed(3),tokenRatio:+e.tokenRatio.toFixed(3)}}function p(e){let t={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in e){if("string"==typeof e.loadBalancingPolicy)t.loadBalancingPolicy=e.loadBalancingPolicy;else throw Error("Invalid service config: invalid loadBalancingPolicy")}if("loadBalancingConfig"in e){if(Array.isArray(e.loadBalancingConfig))for(let r of e.loadBalancingConfig)t.loadBalancingConfig.push((0,o.validateLoadBalancingConfig)(r));else throw Error("Invalid service config: invalid loadBalancingConfig")}if("methodConfig"in e&&Array.isArray(e.methodConfig))for(let r of e.methodConfig)t.methodConfig.push(d(r));"retryThrottling"in e&&(t.retryThrottling=h(e.retryThrottling));let r=[];for(let e of t.methodConfig)for(let t of e.name){for(let e of r)if(t.service===e.service&&t.method===e.method)throw Error(`Invalid service config: duplicate name ${t.service}/${t.method}`);r.push(t)}return t}function f(e){if(!("serviceConfig"in e))throw Error("Invalid service config choice: missing service config");let t={serviceConfig:p(e.serviceConfig)};if("clientLanguage"in e){if(Array.isArray(e.clientLanguage))for(let r of(t.clientLanguage=[],e.clientLanguage))if("string"==typeof r)t.clientLanguage.push(r);else throw Error("Invalid service config choice: invalid clientLanguage");else throw Error("Invalid service config choice: invalid clientLanguage")}if("clientHostname"in e){if(Array.isArray(e.clientHostname))for(let r of(t.clientHostname=[],e.clientHostname))if("string"==typeof r)t.clientHostname.push(r);else throw Error("Invalid service config choice: invalid clientHostname");else throw Error("Invalid service config choice: invalid clientHostname")}if("percentage"in e){if("number"==typeof e.percentage&&0<=e.percentage&&e.percentage<=100)t.percentage=e.percentage;else throw Error("Invalid service config choice: invalid percentage")}let r=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let t in e)if(!r.includes(t))throw Error(`Invalid service config choice: unexpected field ${t}`);return t}function m(e,t){if(!Array.isArray(e))throw Error("Invalid service config list");for(let r of e){let e=f(r);if("number"!=typeof e.percentage||!(t>e.percentage)){if(Array.isArray(e.clientHostname)){let t=!1;for(let r of e.clientHostname)r===n.hostname()&&(t=!0);if(!t)continue}if(Array.isArray(e.clientLanguage)){let t=!1;for(let r of e.clientLanguage)r===a&&(t=!0);if(!t)continue}return e.serviceConfig}}throw Error("No matching service config found")}function g(e,t){for(let r of e)if(r.length>0&&r[0].startsWith("grpc_config="))return m(JSON.parse(r.join("").substring(12)),t);return null}t.validateRetryThrottling=h,t.validateServiceConfig=p,t.extractAndSelectServiceConfig=g},14339:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBuilder=void 0;class r{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){let e={};return null!==this.code&&(e.code=this.code),null!==this.details&&(e.details=this.details),null!==this.metadata&&(e.metadata=this.metadata),e}}t.StatusBuilder=r},80615:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.StreamDecoder=void 0,function(e){e[e.NO_DATA=0]="NO_DATA",e[e.READING_SIZE=1]="READING_SIZE",e[e.READING_MESSAGE=2]="READING_MESSAGE"}(r||(r={}));class n{constructor(e){this.maxReadMessageLength=e,this.readState=r.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(e){let t,n=0,i=[];for(;n<e.length;)switch(this.readState){case r.NO_DATA:this.readCompressFlag=e.slice(n,n+1),n+=1,this.readState=r.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case r.READING_SIZE:if(t=Math.min(e.length-n,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,n,n+t),this.readSizeRemaining-=t,n+=t,0===this.readSizeRemaining){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),-1!==this.maxReadMessageLength&&this.readMessageSize>this.maxReadMessageLength)throw Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=r.READING_MESSAGE;else{let e=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=r.NO_DATA,i.push(e)}}break;case r.READING_MESSAGE:if(t=Math.min(e.length-n,this.readMessageRemaining),this.readPartialMessage.push(e.slice(n,n+t)),this.readMessageRemaining-=t,n+=t,0===this.readMessageRemaining){let e=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),t=Buffer.concat(e,this.readMessageSize+5);this.readState=r.NO_DATA,i.push(t)}break;default:throw Error("Unexpected read state")}return i}}t.StreamDecoder=n},74955:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringToSubchannelAddress=t.subchannelAddressToString=t.subchannelAddressEqual=t.isTcpSubchannelAddress=void 0;let n=r(41808);function i(e){return"port"in e}function o(e,t){return!e&&!t||!!e&&!!t&&(i(e)?i(t)&&e.host===t.host&&e.port===t.port:!i(t)&&e.path===t.path)}function s(e){return i(e)?e.host+":"+e.port:e.path}t.isTcpSubchannelAddress=i,t.subchannelAddressEqual=o,t.subchannelAddressToString=s;let a=443;function l(e,t){return(0,n.isIP)(e)?{host:e,port:null!=t?t:a}:{path:e}}t.stringToSubchannelAddress=l},74354:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2SubchannelCall=void 0;let n=r(85158),i=r(22037),o=r(19572),s=r(6281),a=r(80615),l=r(25792),u=r(19572),c="subchannel_call";function d(e){for(let[t,r]of Object.entries(i.constants.errno))if(r===e)return t;return"Unknown system error "+e}class h{constructor(e,t,r,i,l){var u;this.http2Stream=e,this.callEventTracker=t,this.listener=r,this.transport=i,this.callId=l,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.mappedStatusCode=o.Status.UNKNOWN,this.finalStatus=null,this.internalError=null;let c=null!==(u=i.getOptions()["grpc.max_receive_message_length"])&&void 0!==u?u:o.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new a.StreamDecoder(c),e.on("response",(e,t)=>{let r="";for(let t of Object.keys(e))r+="		"+t+": "+e[t]+"\n";switch(this.trace("Received server headers:\n"+r),e[":status"]){case 400:this.mappedStatusCode=o.Status.INTERNAL;break;case 401:this.mappedStatusCode=o.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=o.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=o.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=o.Status.UNAVAILABLE;break;default:this.mappedStatusCode=o.Status.UNKNOWN}if(t&n.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(e);else{let t;try{t=s.Metadata.fromHttp2Headers(e)}catch(e){this.endCall({code:o.Status.UNKNOWN,details:e.message,metadata:new s.Metadata});return}this.listener.onReceiveMetadata(t)}}),e.on("trailers",e=>{this.handleTrailers(e)}),e.on("data",e=>{let t;if(!this.statusOutput){this.trace("receive HTTP/2 data frame of length "+e.length);try{t=this.decoder.write(e)}catch(e){this.cancelWithStatus(o.Status.RESOURCE_EXHAUSTED,e.message);return}for(let e of t)this.trace("parsed message of length "+e.length),this.callEventTracker.addMessageReceived(),this.tryPush(e)}}),e.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),e.on("close",()=>{process.nextTick(()=>{var t;let r;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),(null===(t=this.finalStatus)||void 0===t?void 0:t.code)===o.Status.OK)return;let i="";switch(e.rstCode){case n.constants.NGHTTP2_NO_ERROR:if(null!==this.finalStatus)return;r=o.Status.INTERNAL,i=`Received RST_STREAM with code ${e.rstCode}`;break;case n.constants.NGHTTP2_REFUSED_STREAM:r=o.Status.UNAVAILABLE,i="Stream refused by server";break;case n.constants.NGHTTP2_CANCEL:r=o.Status.CANCELLED,i="Call cancelled";break;case n.constants.NGHTTP2_ENHANCE_YOUR_CALM:r=o.Status.RESOURCE_EXHAUSTED,i="Bandwidth exhausted or memory limit exceeded";break;case n.constants.NGHTTP2_INADEQUATE_SECURITY:r=o.Status.PERMISSION_DENIED,i="Protocol not secure enough";break;case n.constants.NGHTTP2_INTERNAL_ERROR:r=o.Status.INTERNAL,null===this.internalError?i=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:"ECONNRESET"===this.internalError.code||"ETIMEDOUT"===this.internalError.code?(r=o.Status.UNAVAILABLE,i=this.internalError.message):i=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:r=o.Status.INTERNAL,i=`Received RST_STREAM with code ${e.rstCode}`}this.endCall({code:r,details:i,metadata:new s.Metadata,rstCode:e.rstCode})})}),e.on("error",e=>{"ERR_HTTP2_STREAM_ERROR"!==e.code&&(this.trace("Node error event: message="+e.message+" code="+e.code+" errno="+d(e.errno)+" syscall="+e.syscall),this.internalError=e),this.callEventTracker.onStreamEnd(!1)})}onDisconnect(){this.endCall({code:o.Status.UNAVAILABLE,details:"Connection dropped",metadata:new s.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(e){l.trace(u.LogVerbosity.DEBUG,c,"["+this.callId+"] "+e)}endCall(e){(null===this.finalStatus||this.finalStatus.code===o.Status.OK)&&(this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){null===this.finalStatus||this.finalStatus.code===o.Status.OK&&(!this.readsClosed||0!==this.unpushedReadMessages.length||this.isReadFilterPending||this.isPushPending)||this.outputStatus()}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,this.statusOutput||(this.listener.onReceiveMessage(e),this.maybeOutputStatus())})}tryPush(e){this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e))}handleTrailers(e){let t;this.callEventTracker.onStreamEnd(!0);let r="";for(let t of Object.keys(e))r+="		"+t+": "+e[t]+"\n";this.trace("Received server trailers:\n"+r);try{t=s.Metadata.fromHttp2Headers(e)}catch(e){t=new s.Metadata}let n=t.getMap(),i=this.mappedStatusCode;if(i===o.Status.UNKNOWN&&"string"==typeof n["grpc-status"]){let e=Number(n["grpc-status"]);e in o.Status&&(i=e,this.trace("received status code "+e+" from server")),t.remove("grpc-status")}let a="";if("string"==typeof n["grpc-message"]){try{a=decodeURI(n["grpc-message"])}catch(e){a=n["grpc-message"]}t.remove("grpc-message"),this.trace('received status details string "'+a+'" from server')}let l={code:i,details:a,metadata:t};this.endCall(l)}destroyHttp2Stream(){var e;if(!this.http2Stream.destroyed){let t;t=(null===(e=this.finalStatus)||void 0===e?void 0:e.code)===o.Status.OK?n.constants.NGHTTP2_NO_ERROR:n.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+t),this.http2Stream.close(t)}}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.endCall({code:e,details:t,metadata:new s.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(null!==this.finalStatus&&this.finalStatus.code!==o.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let e=this.unpushedReadMessages.shift();this.push(e);return}this.http2Stream.resume()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length);let r=t=>{process.nextTick(()=>{var r;let n=o.Status.UNAVAILABLE;(null==t?void 0:t.code)==="ERR_STREAM_WRITE_AFTER_END"&&(n=o.Status.INTERNAL),t&&this.cancelWithStatus(n,`Write error: ${t.message}`),null===(r=e.callback)||void 0===r||r.call(e)})};this.trace("sending data chunk of length "+t.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(t,r)}catch(e){this.endCall({code:o.Status.UNAVAILABLE,details:`Write failed with error ${e.message}`,metadata:new s.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}}t.Http2SubchannelCall=h},40487:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSubchannelWrapper=void 0;class r{constructor(e){this.child=e}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(e){this.child.addConnectivityStateListener(e)}removeConnectivityStateListener(e){this.child.removeConnectivityStateListener(e)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(e){this.child.throttleKeepalive(e)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(e){return this.getRealSubchannel()===e.getRealSubchannel()}}t.BaseSubchannelWrapper=r},87328:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSubchannelPool=t.SubchannelPool=void 0;let n=r(89455),i=r(20389),o=r(74955),s=r(55541),a=r(56983),l=1e4;class u{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let e=!0;for(let t in this.pool){let r=this.pool[t].filter(e=>!e.subchannel.unrefIfOneRef());r.length>0&&(e=!1),this.pool[t]=r}e&&null!==this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var e,t;null===this.cleanupTimer&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},l),null===(t=(e=this.cleanupTimer).unref)||void 0===t||t.call(e))}getOrCreateSubchannel(e,t,r,l){this.ensureCleanupTask();let u=(0,s.uriToString)(e);if(u in this.pool){for(let e of this.pool[u])if((0,o.subchannelAddressEqual)(t,e.subchannelAddress)&&(0,n.channelOptionsEqual)(r,e.channelArguments)&&l._equals(e.channelCredentials))return e.subchannel}let c=new i.Subchannel(e,t,r,l,new a.Http2SubchannelConnector(e));return u in this.pool||(this.pool[u]=[]),this.pool[u].push({subchannelAddress:t,channelArguments:r,channelCredentials:l,subchannel:c}),c.ref(),c}}t.SubchannelPool=u;let c=new u;function d(e){return e?c:new u}t.getSubchannelPool=d},20389:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Subchannel=void 0;let n=r(72409),i=r(1742),o=r(25792),s=r(19572),a=r(55541),l=r(74955),u=r(65962),c="subchannel",d=2147483647;class h{constructor(e,t,r,o,s){var a;this.channelTarget=e,this.subchannelAddress=t,this.options=r,this.credentials=o,this.connector=s,this.connectivityState=n.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0,this.callTracker=new u.ChannelzCallTracker,this.childrenTracker=new u.ChannelzChildrenTracker,this.streamTracker=new u.ChannelzCallTracker;let c={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new i.BackoffTimeout(()=>{this.handleBackoffTimer()},c),this.backoffTimeout.unref(),this.subchannelAddressString=(0,l.subchannelAddressToString)(t),this.keepaliveTime=null!==(a=r["grpc.keepalive_time_ms"])&&void 0!==a?a:-1,0===r["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzTrace=new u.ChannelzTrace,this.channelzRef=(0,u.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(r,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(e){o.trace(s.LogVerbosity.DEBUG,c,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}refTrace(e){o.trace(s.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([n.ConnectivityState.TRANSIENT_FAILURE],n.ConnectivityState.CONNECTING):this.transitionToState([n.ConnectivityState.TRANSIENT_FAILURE],n.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let e=this.options;if(e["grpc.keepalive_time_ms"]){let t=Math.min(this.keepaliveTime,d);e=Object.assign(Object.assign({},e),{"grpc.keepalive_time_ms":t})}this.connector.connect(this.subchannelAddress,this.credentials,e).then(e=>{this.transitionToState([n.ConnectivityState.CONNECTING],n.ConnectivityState.READY)?(this.transport=e,this.channelzEnabled&&this.childrenTracker.refChild(e.getChannelzRef()),e.addDisconnectListener(e=>{this.transitionToState([n.ConnectivityState.READY],n.ConnectivityState.IDLE),e&&this.keepaliveTime>0&&(this.keepaliveTime*=2,o.log(s.LogVerbosity.ERROR,`Connection to ${(0,a.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):e.shutdown()},e=>{this.transitionToState([n.ConnectivityState.CONNECTING],n.ConnectivityState.TRANSIENT_FAILURE,`${e}`)})}transitionToState(e,t,r){var i,o;if(-1===e.indexOf(this.connectivityState))return!1;this.trace(n.ConnectivityState[this.connectivityState]+" -> "+n.ConnectivityState[t]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+n.ConnectivityState[t]);let s=this.connectivityState;switch(this.connectivityState=t,t){case n.ConnectivityState.READY:this.stopBackoff();break;case n.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case n.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null===(i=this.transport)||void 0===i||i.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case n.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null===(o=this.transport)||void 0===o||o.shutdown(),this.transport=null;break;default:throw Error(`Invalid state: unknown ConnectivityState ${t}`)}for(let e of this.stateListeners)e(this,s,t,this.keepaliveTime,r);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,0===this.refcount&&(this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Shutting down"),this.channelzEnabled&&(0,u.unregisterChannelzRef)(this.channelzRef),process.nextTick(()=>{this.transitionToState([n.ConnectivityState.CONNECTING,n.ConnectivityState.READY],n.ConnectivityState.IDLE)}))}unrefIfOneRef(){return 1===this.refcount&&(this.unref(),!0)}createCall(e,t,r,n){let i;if(!this.transport)throw Error("Cannot create call, subchannel not READY");return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),i={onCallEnd:e=>{e.code===s.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):i={},this.transport.createCall(e,t,r,n,i)}startConnecting(){process.nextTick(()=>{this.transitionToState([n.ConnectivityState.IDLE],n.ConnectivityState.CONNECTING)||this.connectivityState!==n.ConnectivityState.TRANSIENT_FAILURE||(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.add(e)}removeConnectivityStateListener(e){this.stateListeners.delete(e)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([n.ConnectivityState.TRANSIENT_FAILURE],n.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}getRealSubchannel(){return this}realSubchannelEquals(e){return e.getRealSubchannel()===this}throttleKeepalive(e){e>this.keepaliveTime&&(this.keepaliveTime=e)}}t.Subchannel=h},80606:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultRootsData=t.CIPHER_SUITES=void 0;let n=r(57147);t.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;let i=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,o=null;function s(){return i?(null===o&&(o=n.readFileSync(i)),o):null}t.getDefaultRootsData=s},56983:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2SubchannelConnector=void 0;let n=r(85158),i=r(24404),o=r(65962),s=r(19572),a=r(85242),l=r(25792),u=r(84063),c=r(74955),d=r(55541),h=r(41808),p=r(74354),f=r(21801),m="transport",g="transport_flowctrl",y=r(81513).i8,{HTTP2_HEADER_AUTHORITY:v,HTTP2_HEADER_CONTENT_TYPE:b,HTTP2_HEADER_METHOD:E,HTTP2_HEADER_PATH:S,HTTP2_HEADER_TE:_,HTTP2_HEADER_USER_AGENT:T}=n.constants,A=2e4,C=Buffer.from("too_many_pings","ascii");class w{constructor(e,t,r,i){this.session=e,this.options=r,this.remoteName=i,this.keepaliveTimeMs=-1,this.keepaliveTimeoutMs=A,this.keepaliveTimerId=null,this.pendingSendKeepalivePing=!1,this.keepaliveTimeoutId=null,this.keepaliveWithoutCalls=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.streamTracker=new o.ChannelzCallTracker,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,c.subchannelAddressToString)(t),0===r["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,o.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[r["grpc.primary_user_agent"],`grpc-node-js/${y}`,r["grpc.secondary_user_agent"]].filter(e=>e).join(" "),"grpc.keepalive_time_ms"in r&&(this.keepaliveTimeMs=r["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in r&&(this.keepaliveTimeoutMs=r["grpc.keepalive_timeout_ms"]),"grpc.keepalive_permit_without_calls"in r?this.keepaliveWithoutCalls=1===r["grpc.keepalive_permit_without_calls"]:this.keepaliveWithoutCalls=!1,e.once("close",()=>{this.trace("session closed"),this.stopKeepalivePings(),this.handleDisconnect()}),e.once("goaway",(e,t,r)=>{let i=!1;e===n.constants.NGHTTP2_ENHANCE_YOUR_CALM&&r&&r.equals(C)&&(i=!0),this.trace("connection closed by GOAWAY with code "+e+" and data "+(null==r?void 0:r.toString())),this.reportDisconnectToOwner(i)}),e.once("error",e=>{this.trace("connection closed with error "+e.message)}),l.isTracerEnabled(m)&&(e.on("remoteSettings",t=>{this.trace("new settings received"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(t))}),e.on("localSettings",t=>{this.trace("local settings acknowledged by remote"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(t))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var e,t,r;let n;let i=this.session.socket,o=i.remoteAddress?(0,c.stringToSubchannelAddress)(i.remoteAddress,i.remotePort):null,s=i.localAddress?(0,c.stringToSubchannelAddress)(i.localAddress,i.localPort):null;if(this.session.encrypted){let t=i,r=t.getCipher(),o=t.getCertificate(),s=t.getPeerCertificate();n={cipherSuiteStandardName:null!==(e=r.standardName)&&void 0!==e?e:null,cipherSuiteOtherName:r.standardName?null:r.name,localCertificate:o&&"raw"in o?o.raw:null,remoteCertificate:s&&"raw"in s?s.raw:null}}else n=null;return{remoteAddress:o,localAddress:s,security:n,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:null!==(t=this.session.state.localWindowSize)&&void 0!==t?t:null,remoteFlowControlWindow:null!==(r=this.session.state.remoteWindowSize)&&void 0!==r?r:null}}trace(e){l.trace(s.LogVerbosity.DEBUG,m,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}keepaliveTrace(e){l.trace(s.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}flowControlTrace(e){l.trace(s.LogVerbosity.DEBUG,g,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}internalsTrace(e){l.trace(s.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}reportDisconnectToOwner(e){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(t=>t(e)))}handleDisconnect(){this.reportDisconnectToOwner(!1),setImmediate(()=>{for(let e of this.activeCalls)e.onDisconnect()})}addDisconnectListener(e){this.disconnectListeners.push(e)}clearKeepaliveTimer(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null)}clearKeepaliveTimeout(){this.keepaliveTimeoutId&&(clearTimeout(this.keepaliveTimeoutId),this.keepaliveTimeoutId=null)}canSendPing(){return this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var e,t;if(this.clearKeepaliveTimer(),!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimeoutId||(this.keepaliveTimeoutId=setTimeout(()=>{this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),null===(t=(e=this.keepaliveTimeoutId).unref)||void 0===t||t.call(e));try{this.session.ping((e,t,r)=>{e&&(this.keepaliveTrace("Ping failed with error "+e.message),this.handleDisconnect()),this.keepaliveTrace("Received ping response"),this.clearKeepaliveTimeout(),this.maybeStartKeepalivePingTimer()})}catch(e){this.handleDisconnect()}}maybeStartKeepalivePingTimer(){var e,t;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):this.keepaliveTimerId||this.keepaliveTimeoutId||(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimerId=null===(t=(e=setTimeout(()=>{this.maybeSendPing()},this.keepaliveTimeMs)).unref)||void 0===t?void 0:t.call(e)))}stopKeepalivePings(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null),this.clearKeepaliveTimeout()}removeActiveCall(e){this.activeCalls.delete(e),0===this.activeCalls.size&&this.session.unref()}addActiveCall(e){this.activeCalls.add(e),1!==this.activeCalls.size||(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(e,t,r,n,i){let o,s,a;let l=e.toHttp2Headers();l[v]=t,l[T]=this.userAgent,l[b]="application/grpc",l[E]="POST",l[S]=r,l[_]="trailers";try{o=this.session.request(l)}catch(e){throw this.handleDisconnect(),e}return this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed),this.channelzEnabled?(this.streamTracker.addCallStarted(),s={addMessageSent:()=>{var e;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,null===(e=i.addMessageSent)||void 0===e||e.call(i)},addMessageReceived:()=>{var e;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,null===(e=i.addMessageReceived)||void 0===e||e.call(i)},onCallEnd:e=>{var t;null===(t=i.onCallEnd)||void 0===t||t.call(i,e),this.removeActiveCall(a)},onStreamEnd:e=>{var t;e?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),null===(t=i.onStreamEnd)||void 0===t||t.call(i,e)}}):s={addMessageSent:()=>{var e;null===(e=i.addMessageSent)||void 0===e||e.call(i)},addMessageReceived:()=>{var e;null===(e=i.addMessageReceived)||void 0===e||e.call(i)},onCallEnd:e=>{var t;null===(t=i.onCallEnd)||void 0===t||t.call(i,e),this.removeActiveCall(a)},onStreamEnd:e=>{var t;null===(t=i.onStreamEnd)||void 0===t||t.call(i,e)}},a=new p.Http2SubchannelCall(o,s,n,this,(0,f.getNextCallNumber)()),this.addActiveCall(a),a}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}shutdown(){this.session.close(),(0,o.unregisterChannelzRef)(this.channelzRef)}}class O{constructor(e){this.channelTarget=e,this.session=null,this.isShutdown=!1}trace(e){l.trace(s.LogVerbosity.DEBUG,m,(0,d.uriToString)(this.channelTarget)+" "+e)}createSession(e,t,r,o){return this.isShutdown?Promise.reject():new Promise((s,a)=>{var l,p,f;let m;o.realTarget?(m=(0,d.uriToString)(o.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,d.uriToString)(o.realTarget))):(m=null,this.trace("creating HTTP/2 session to "+(0,c.subchannelAddressToString)(e)));let g=(0,u.getDefaultAuthority)(null!==(l=o.realTarget)&&void 0!==l?l:this.channelTarget),y=t._getConnectionOptions()||{};y.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in r?y.maxSessionMemory=r["grpc-node.max_session_memory"]:y.maxSessionMemory=Number.MAX_SAFE_INTEGER;let v="http://";if("secureContext"in y){if(v="https://",r["grpc.ssl_target_name_override"]){let e=r["grpc.ssl_target_name_override"];y.checkServerIdentity=(t,r)=>(0,i.checkServerIdentity)(e,r),y.servername=e}else{let e=null!==(f=null===(p=(0,d.splitHostPort)(g))||void 0===p?void 0:p.host)&&void 0!==f?f:"localhost";y.servername=e}o.socket&&(y.createConnection=(e,t)=>o.socket)}else y.createConnection=(t,r)=>o.socket?o.socket:h.connect(e);y=Object.assign(Object.assign(Object.assign({},y),e),{enableTrace:1===r["grpc-node.tls_enable_trace"]});let b=n.connect(v+g,y);this.session=b;let E="Failed to connect";b.unref(),b.once("connect",()=>{b.removeAllListeners(),s(new w(b,e,r,m)),this.session=null}),b.once("close",()=>{this.session=null,setImmediate(()=>{a(`${E} (${new Date().toISOString()})`)})}),b.once("error",e=>{E=e.message,this.trace("connection failed with error "+E)})})}connect(e,t,r){var n,o;if(this.isShutdown)return Promise.reject();let s=t._getConnectionOptions()||{};if("secureContext"in s){if(s.ALPNProtocols=["h2"],r["grpc.ssl_target_name_override"]){let e=r["grpc.ssl_target_name_override"];s.checkServerIdentity=(t,r)=>(0,i.checkServerIdentity)(e,r),s.servername=e}else if("grpc.http_connect_target"in r){let e=(0,u.getDefaultAuthority)(null!==(n=(0,d.parseUri)(r["grpc.http_connect_target"]))&&void 0!==n?n:{path:"localhost"}),t=(0,d.splitHostPort)(e);s.servername=null!==(o=null==t?void 0:t.host)&&void 0!==o?o:e}r["grpc-node.tls_enable_trace"]&&(s.enableTrace=!0)}return(0,a.getProxiedConnection)(e,r,s).then(n=>this.createSession(e,t,r,n))}shutdown(){var e;this.isShutdown=!0,null===(e=this.session)||void 0===e||e.close(),this.session=null}}t.Http2SubchannelConnector=O},55541:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uriToString=t.splitHostPort=t.parseUri=void 0;let r=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function n(e){let t=r.exec(e);return null===t?null:{scheme:t[1],authority:t[2],path:t[3]}}t.parseUri=n;let i=/^\d+$/;function o(e){if(e.startsWith("[")){let t=e.indexOf("]");if(-1===t)return null;let r=e.substring(1,t);if(-1===r.indexOf(":"))return null;if(!(e.length>t+1))return{host:r};if(":"!==e[t+1])return null;{let n=e.substring(t+2);return i.test(n)?{host:r,port:+n}:null}}{let t=e.split(":");return 2!==t.length?{host:e}:i.test(t[1])?{host:t[0],port:+t[1]}:null}}function s(e){let t="";return void 0!==e.scheme&&(t+=e.scheme+":"),void 0!==e.authority&&(t+="//"+e.authority+"/"),t+=e.path}t.splitHostPort=o,t.uriToString=s},13716:(e,t,r)=>{"use strict";var n,i;/**
 * @license
 * Copyright 2018 gRPC authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */n={value:!0},n=n=t.im=t.J_=n=t.Cp=n=n=void 0;let o=r(89739),s=r(11101),a=r(92607),l=r(68720);n=r(90029),n=function(e){return"@type"in e&&"string"==typeof e["@type"]},function(e){e.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",e.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",e.IDEMPOTENT="IDEMPOTENT"}(i=t.Cp||(t.Cp={}));let u={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function c(e,t){return""===e?t:e+"."+t}function d(e){return e instanceof s.Service||e instanceof s.Type||e instanceof s.Enum}function h(e){return e instanceof s.Namespace||e instanceof s.Root}function p(e,t){let r=c(t,e.name);return d(e)?[[r,e]]:h(e)&&void 0!==e.nested?Object.keys(e.nested).map(t=>p(e.nested[t],r)).reduce((e,t)=>e.concat(t),[]):[]}function f(e,t){return function(r){return e.toObject(e.decode(r),t)}}function m(e){return function(t){if(Array.isArray(t))throw Error(`Failed to serialize message: expected object with ${e.name} structure, got array instead`);let r=e.fromObject(t);return e.encode(r).finish()}}function g(e){return(e||[]).reduce((e,t)=>{for(let[r,n]of Object.entries(t))"uninterpreted_option"===r?e.uninterpreted_option.push(t.uninterpreted_option):e[r]=n;return e},{deprecated:!1,idempotency_level:i.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function y(e,t,r,n){let i=e.resolvedRequestType,s=e.resolvedResponseType;return{path:"/"+t+"/"+e.name,requestStream:!!e.requestStream,responseStream:!!e.responseStream,requestSerialize:m(i),requestDeserialize:f(i,r),responseSerialize:m(s),responseDeserialize:f(s,r),originalName:o(e.name),requestType:b(i,n),responseType:b(s,n),options:g(e.parsedOptions)}}function v(e,t,r,n){let i={};for(let o of e.methodsArray)i[o.name]=y(o,t,r,n);return i}function b(e,t){let r=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:r.$type.toObject(r,u),fileDescriptorProtos:t}}function E(e,t){let r=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:r.$type.toObject(r,u),fileDescriptorProtos:t}}function S(e,t,r,n){if(e instanceof s.Service)return v(e,t,r,n);if(e instanceof s.Type)return b(e,n);if(e instanceof s.Enum)return E(e,n);throw Error("Type mismatch in reflection object handling")}function _(e,t){let r={};e.resolveAll();let n=e.toDescriptor("proto3").file.map(e=>Buffer.from(a.FileDescriptorProto.encode(e).finish()));for(let[i,o]of p(e,""))r[i]=S(o,i,t,n);return r}function T(e,t){t=t||{};let r=s.Root.fromDescriptor(e);return r.resolveAll(),_(r,t)}function A(e,t){return _((0,l.loadProtosWithOptionsSync)(e,t),t)}function C(e,t){t=t||{};let r=s.Root.fromJSON(e);return r.resolveAll(),_(r,t)}n=function(e,t){return(0,l.loadProtosWithOptions)(e,t).then(e=>_(e,t))},t.J_=A,t.im=C,n=function(e,t){return T(a.FileDescriptorSet.decode(e),t)},n=function(e,t){return T(a.FileDescriptorSet.fromObject(e),t)},(0,l.addCommonProtos)()},68720:(e,t,r)=>{"use strict";/**
 * @license
 * Copyright 2018 gRPC authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */Object.defineProperty(t,"__esModule",{value:!0}),t.addCommonProtos=t.loadProtosWithOptionsSync=t.loadProtosWithOptions=void 0;let n=r(57147),i=r(71017),o=r(11101);function s(e,t){let r=e.resolvePath;e.resolvePath=(e,o)=>{if(i.isAbsolute(o))return o;for(let e of t){let t=i.join(e,o);try{return n.accessSync(t,n.constants.R_OK),t}catch(e){continue}}return process.emitWarning(`${o} not found in any of the include paths ${t}`),r(e,o)}}async function a(e,t){let r=new o.Root;if((t=t||{}).includeDirs){if(!Array.isArray(t.includeDirs))return Promise.reject(Error("The includeDirs option must be an array"));s(r,t.includeDirs)}let n=await r.load(e,t);return n.resolveAll(),n}function l(e,t){let r=new o.Root;if((t=t||{}).includeDirs){if(!Array.isArray(t.includeDirs))throw Error("The includeDirs option must be an array");s(r,t.includeDirs)}let n=r.loadSync(e,t);return n.resolveAll(),n}function u(){let e=r(56541),t=r(89987),n=r(57674),i=r(73795);o.common("api",e.nested.google.nested.protobuf.nested),o.common("descriptor",t.nested.google.nested.protobuf.nested),o.common("source_context",n.nested.google.nested.protobuf.nested),o.common("type",i.nested.google.nested.protobuf.nested)}t.loadProtosWithOptions=a,t.loadProtosWithOptionsSync=l,t.addCommonProtos=u},61417:e=>{"use strict";function t(e,t){for(var r=Array(arguments.length-1),n=0,i=2,o=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(i,s){r[n]=function(e){if(o){if(o=!1,e)s(e);else{for(var t=Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}}};try{e.apply(t||null,r)}catch(e){o&&(o=!1,s(e))}})}e.exports=t},75386:(e,t)=>{"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=Array(64),i=Array(123),o=0;o<64;)i[n[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;r.encode=function(e,t,r){for(var i,o=null,s=[],a=0,l=0;t<r;){var u=e[t++];switch(l){case 0:s[a++]=n[u>>2],i=(3&u)<<4,l=1;break;case 1:s[a++]=n[i|u>>4],i=(15&u)<<2,l=2;break;case 2:s[a++]=n[i|u>>6],s[a++]=n[63&u],l=0}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0)}return(l&&(s[a++]=n[i],s[a++]=61,1===l&&(s[a++]=61)),o)?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var s="invalid encoding";r.decode=function(e,t,r){for(var n,o=r,a=0,l=0;l<e.length;){var u=e.charCodeAt(l++);if(61===u&&a>1)break;if(void 0===(u=i[u]))throw Error(s);switch(a){case 0:n=u,a=1;break;case 1:t[r++]=n<<2|(48&u)>>4,n=u,a=2;break;case 2:t[r++]=(15&n)<<4|(60&u)>>2,n=u,a=3;break;case 3:t[r++]=(3&n)<<6|u,a=0}}if(1===a)throw Error(s);return r-o},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},696:e=>{"use strict";function t(e,r){"string"==typeof e&&(r=e,e=void 0);var n=[];function i(e){if("string"!=typeof e){var r=o();if(t.verbose&&console.log("codegen: "+r),r="return "+r,e){for(var s=Object.keys(e),a=Array(s.length+1),l=Array(s.length),u=0;u<s.length;)a[u]=s[u],l[u]=e[s[u++]];return a[u]=r,Function.apply(null,a).apply(null,l)}return Function(r)()}for(var c=Array(arguments.length-1),d=0;d<c.length;)c[d]=arguments[++d];if(d=0,e=e.replace(/%([%dfijs])/g,function(e,t){var r=c[d++];switch(t){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"}),d!==c.length)throw Error("parameter count mismatch");return n.push(e),i}function o(t){return"function "+(t||r||"")+"("+(e&&e.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return i.toString=o,i}e.exports=t,t.verbose=!1},33478:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},37828:(e,t,r)=>{"use strict";e.exports=o;var n=r(61417),i=r(71374)("fs");function o(e,t,r){return("function"==typeof t?(r=t,t={}):t||(t={}),r)?!t.xhr&&i&&i.readFile?i.readFile(e,function(n,i){return n&&"undefined"!=typeof XMLHttpRequest?o.xhr(e,t,r):n?r(n):r(null,t.binary?i:i.toString("utf8"))}):o.xhr(e,t,r):n(o,this,e,t)}o.xhr=function(e,t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){if(0!==n.status&&200!==n.status)return r(Error("status "+n.status));if(t.binary){var e=n.response;if(!e){e=[];for(var i=0;i<n.responseText.length;++i)e.push(255&n.responseText.charCodeAt(i))}return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return r(null,n.responseText)}},t.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",e),n.send()}},65256:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function o(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function a(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:o,e.writeFloatBE=n?o:i,e.readFloatLE=n?s:a,e.readFloatBE=n?a:s}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var o=Math.floor(Math.log(t)/Math.LN2),s=8388607&Math.round(t*Math.pow(2,-o)*8388608);e((i<<31|o+127<<23|s)>>>0,r,n)}}function s(e,t,r){var n=e(t,r),i=(n>>31)*2+1,o=n>>>23&255,s=8388607&n;return 255===o?s?NaN:1/0*i:0===o?1401298464324817e-60*i*s:i*Math.pow(2,o-150)*(s+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,n),e.readFloatLE=s.bind(null,i),e.readFloatBE=s.bind(null,o)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function o(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function a(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:o,e.writeDoubleBE=n?o:i,e.readDoubleLE=n?s:a,e.readDoubleBE=n?a:s}():function(){function t(e,t,r,n,i,o){var s,a=n<0?1:0;if(a&&(n=-n),0===n)e(0,i,o+t),e(1/n>0?0:2147483648,i,o+r);else if(isNaN(n))e(0,i,o+t),e(2146959360,i,o+r);else if(n>17976931348623157e292)e(0,i,o+t),e((a<<31|2146435072)>>>0,i,o+r);else if(n<22250738585072014e-324)e((s=n/5e-324)>>>0,i,o+t),e((a<<31|s/4294967296)>>>0,i,o+r);else{var l=Math.floor(Math.log(n)/Math.LN2);1024===l&&(l=1023),e(4503599627370496*(s=n*Math.pow(2,-l))>>>0,i,o+t),e((a<<31|l+1023<<20|1048576*s&1048575)>>>0,i,o+r)}}function s(e,t,r,n,i){var o=e(n,i+t),s=e(n,i+r),a=(s>>31)*2+1,l=s>>>20&2047,u=4294967296*(1048575&s)+o;return 2047===l?u?NaN:1/0*a:0===l?5e-324*a*u:a*Math.pow(2,l-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=s.bind(null,i,0,4),e.readDoubleBE=s.bind(null,o,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function o(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},71374:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},62727:(e,t)=>{"use strict";var r=t,n=r.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},i=r.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),r=n(e),i="";r&&(i=t.shift()+"/");for(var o=0;o<t.length;)".."===t[o]?o>0&&".."!==t[o-1]?t.splice(--o,2):r?t.splice(o,1):++o:"."===t[o]?t.splice(o,1):++o;return i+t.join("/")};r.resolve=function(e,t,r){return(r||(t=i(t)),n(t))?t:(r||(e=i(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?i(e+"/"+t):t)}},26733:e=>{"use strict";function t(e,t,r){var n=r||8192,i=n>>>1,o=null,s=n;return function(r){if(r<1||r>i)return e(r);s+r>n&&(o=e(n),s=0);var a=t.call(o,s,s+=r);return 7&s&&(s=(7|s)+1),a}}e.exports=t},93670:(e,t)=>{"use strict";var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:(64512&r)==55296&&(64512&e.charCodeAt(n+1))==56320?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,o=[],s=0;t<r;)(n=e[t++])<128?o[s++]=n:n>191&&n<224?o[s++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[s++]=55296+(n>>10),o[s++]=56320+(1023&n)):o[s++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0);return i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))},r.write=function(e,t,r){for(var n,i,o=r,s=0;s<e.length;++s)(n=e.charCodeAt(s))<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:((64512&n)==55296&&(64512&(i=e.charCodeAt(s+1)))==56320?(n=65536+((1023&n)<<10)+(1023&i),++s,t[r++]=n>>18|240,t[r++]=n>>12&63|128):t[r++]=n>>12|224,t[r++]=n>>6&63|128),t[r++]=63&n|128);return r-o}},26196:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,s){if("function"!=typeof n)throw TypeError("The listener must be a function");var a=new i(n,o||e,s),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=Array(o);i<o;i++)s[i]=n[i].fn;return s},a.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,o,s){var a=r?r+e:e;if(!this._events[a])return!1;var l,u,c=this._events[a],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,o),!0;case 6:return c.fn.call(c.context,t,n,i,o,s),!0}for(u=1,l=Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var h,p=c.length;for(u=0;u<p;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,i);break;default:if(!l)for(h=1,l=Array(d-1);h<d;h++)l[h-1]=arguments[h];c[u].fn.apply(c[u].context,l)}}return!0},a.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||n&&a.context!==n||s(this,o);else{for(var l=0,u=[],c=a.length;l<c;l++)(a[l].fn!==t||i&&!a[l].once||n&&a[l].context!==n)&&u.push(a[l]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a},35664:(e,t,r)=>{"use strict";r.d(t,{Ry:()=>d});var n=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},i=new WeakMap,o=new WeakMap,s={},a=0,l=function(e){return e&&(e.host||l(e.parentNode))},u=function(e,t){return t.map(function(t){if(e.contains(t))return t;var r=l(t);return r&&e.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return!!e})},c=function(e,t,r,n){var l=u(t,Array.isArray(e)?e:[e]);s[r]||(s[r]=new WeakMap);var c=s[r],d=[],h=new Set,p=new Set(l),f=function(e){!e||h.has(e)||(h.add(e),f(e.parentNode))};l.forEach(f);var m=function(e){!e||p.has(e)||Array.prototype.forEach.call(e.children,function(e){if(h.has(e))m(e);else try{var t=e.getAttribute(n),s=null!==t&&"false"!==t,a=(i.get(e)||0)+1,l=(c.get(e)||0)+1;i.set(e,a),c.set(e,l),d.push(e),1===a&&s&&o.set(e,!0),1===l&&e.setAttribute(r,"true"),s||e.setAttribute(n,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return m(t),h.clear(),a++,function(){d.forEach(function(e){var t=i.get(e)-1,s=c.get(e)-1;i.set(e,t),c.set(e,s),t||(o.has(e)||e.removeAttribute(n),o.delete(e)),s||e.removeAttribute(r)}),--a||(i=new WeakMap,i=new WeakMap,o=new WeakMap,s={})}},d=function(e,t,r){void 0===r&&(r="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),o=t||n(e);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live]"))),c(i,o,r,"aria-hidden")):function(){return null}}},24414:e=>{"use strict";var t={single_source_shortest_paths:function(e,r,n){var i,o,s,a,l,u,c,d={},h={};h[r]=0;var p=t.PriorityQueue.make();for(p.push(r,0);!p.empty();)for(s in o=(i=p.pop()).value,a=i.cost,l=e[o]||{})l.hasOwnProperty(s)&&(u=a+l[s],c=h[s],(void 0===h[s]||c>u)&&(h[s]=u,p.push(s,u),d[s]=o));if(void 0!==n&&void 0===h[n])throw Error(["Could not find a path from ",r," to ",n,"."].join(""));return d},extract_shortest_path_from_predecessor_list:function(e,t){for(var r,n=[],i=t;i;)n.push(i),r=e[i],i=e[i];return n.reverse(),n},find_path:function(e,r,n){var i=t.single_source_shortest_paths(e,r,n);return t.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(e){var r,n=t.PriorityQueue,i={};for(r in e=e||{},n)n.hasOwnProperty(r)&&(i[r]=n[r]);return i.queue=[],i.sorter=e.sorter||n.default_sorter,i},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var r={value:e,cost:t};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t},55402:e=>{"use strict";e.exports=function(e){for(var t=[],r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);if(i>=55296&&i<=56319&&r>n+1){var o=e.charCodeAt(n+1);o>=56320&&o<=57343&&(i=(i-55296)*1024+o-56320+65536,n+=1)}if(i<128){t.push(i);continue}if(i<2048){t.push(i>>6|192),t.push(63&i|128);continue}if(i<55296||i>=57344&&i<65536){t.push(i>>12|224),t.push(i>>6&63|128),t.push(63&i|128);continue}if(i>=65536&&i<=1114111){t.push(i>>18|240),t.push(i>>12&63|128),t.push(i>>6&63|128),t.push(63&i|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer}},89739:e=>{var t=1/0,r="[object Symbol]",n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o="\ud800-\udfff",s="\\u0300-\\u036f\\ufe20-\\ufe23",a="\\u20d0-\\u20f0",l="\\u2700-\\u27bf",u="a-z\\xdf-\\xf6\\xf8-\\xff",c="A-Z\\xc0-\\xd6\\xd8-\\xde",d="\\ufe0e\\ufe0f",h="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",p="[']",f="["+o+"]",m="["+h+"]",g="["+s+a+"]",y="\\d+",v="["+l+"]",b="["+u+"]",E="[^"+o+h+y+l+u+c+"]",S="\ud83c[\udffb-\udfff]",_="[^"+o+"]",T="(?:\ud83c[\udde6-\uddff]){2}",A="[\ud800-\udbff][\udc00-\udfff]",C="["+c+"]",w="\\u200d",O="(?:"+b+"|"+E+")",R="(?:"+C+"|"+E+")",x="(?:"+p+"(?:d|ll|m|re|s|t|ve))?",I="(?:"+p+"(?:D|LL|M|RE|S|T|VE))?",D="(?:"+g+"|"+S+")?",P="["+d+"]?",N="(?:"+w+"(?:"+[_,T,A].join("|")+")"+P+D+")*",k=P+D+N,M="(?:"+[v,T,A].join("|")+")"+k,L="(?:"+[_+g+"?",g,T,A,f].join("|")+")",B=RegExp(p,"g"),j=RegExp(g,"g"),F=RegExp(S+"(?="+S+")|"+L+k,"g"),U=RegExp([C+"?"+b+"+"+x+"(?="+[m,C,"$"].join("|")+")",R+"+"+I+"(?="+[m,C+O,"$"].join("|")+")",C+"?"+O+"+"+x,C+"+"+I,y,M].join("|"),"g"),V=RegExp("["+w+o+s+a+d+"]"),z=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,G={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"ss"},$="object"==typeof global&&global&&global.Object===Object&&global,H="object"==typeof self&&self&&self.Object===Object&&self,q=$||H||Function("return this")();function W(e,t,r,n){var i=-1,o=e?e.length:0;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function K(e){return e.split("")}function Y(e){return e.match(n)||[]}var Z=function(e){return function(t){return null==e?void 0:e[t]}}(G);function J(e){return V.test(e)}function Q(e){return z.test(e)}function X(e){return J(e)?ee(e):K(e)}function ee(e){return e.match(F)||[]}function et(e){return e.match(U)||[]}var er=Object.prototype.toString,en=q.Symbol,ei=en?en.prototype:void 0,eo=ei?ei.toString:void 0;function es(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}function ea(e){if("string"==typeof e)return e;if(ed(e))return eo?eo.call(e):"";var r=e+"";return"0"==r&&1/e==-t?"-0":r}function el(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:es(e,t,r)}function eu(e){return function(t){var r=J(t=eh(t))?X(t):void 0,n=r?r[0]:t.charAt(0),i=r?el(r,1).join(""):t.slice(1);return n[e]()+i}}function ec(e){return!!e&&"object"==typeof e}function ed(e){return"symbol"==typeof e||ec(e)&&er.call(e)==r}function eh(e){return null==e?"":ea(e)}var ep=function(e){return function(t){return W(ey(em(t).replace(B,"")),e,"")}}(function(e,t,r){return t=t.toLowerCase(),e+(r?ef(t):t)});function ef(e){return eg(eh(e).toLowerCase())}function em(e){return(e=eh(e))&&e.replace(i,Z).replace(j,"")}var eg=eu("toUpperCase");function ey(e,t,r){return(e=eh(e),void 0===(t=r?void 0:t))?Q(e)?et(e):Y(e):e.match(t)||[]}e.exports=ep},62881:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(17577);/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=(...e)=>e.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ");/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...c},d)=>(0,n.createElement)("svg",{ref:d,...s,width:t,height:t,stroke:e,strokeWidth:i?24*Number(r)/Number(t):r,className:o("lucide",a),...c},[...u.map(([e,t])=>(0,n.createElement)(e,t)),...Array.isArray(l)?l:[l]])),l=(e,t)=>{let r=(0,n.forwardRef)(({className:r,...s},l)=>(0,n.createElement)(a,{ref:l,iconNode:t,className:o(`lucide-${i(e)}`,r),...s}));return r.displayName=`${e}`,r}},997:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},67319:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("BarChartBig",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["rect",{width:"4",height:"7",x:"7",y:"10",rx:"1",key:"14u6mf"}],["rect",{width:"4",height:"12",x:"15",y:"5",rx:"1",key:"b3pek6"}]])},50732:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},32933:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},47206:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]])},91716:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("ChevronsUp",[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]])},97601:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]])},67396:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("CircleDollarSign",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]])},85529:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]])},13783:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]])},79330:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("Container",[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]])},28916:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},26092:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},36283:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},29253:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("GalleryHorizontal",[["path",{d:"M2 3v18",key:"pzttux"}],["rect",{width:"12",height:"18",x:"6",y:"3",rx:"2",key:"btr8bg"}],["path",{d:"M22 3v18",key:"6jf3v"}]])},18025:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]])},87053:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]])},54014:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},37024:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("Hexagon",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]])},95920:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},37235:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]])},10537:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("LifeBuoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]])},42924:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]])},32691:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]])},94935:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]])},40617:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},97313:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("MessagesSquare",[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2z",key:"jj09z8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]])},48705:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},88307:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},69436:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},15601:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]])},60763:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},58038:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},92822:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("Ship",[["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"iegodh"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76",key:"fp8vka"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M12 10v4",key:"1kjpxc"}],["path",{d:"M12 2v3",key:"qbqxhf"}]])},34565:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},57671:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},1572:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},33734:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},16722:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]])},53468:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},17069:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},58907:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},79635:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},24061:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},16671:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]])},94019:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},3634:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});/**
 * @license lucide-react v0.379.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(62881).Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},33265:(e,t,r)=>{"use strict";r.d(t,{default:()=>i.a});var n=r(43353),i=r.n(n)},46226:(e,t,r)=>{"use strict";r.d(t,{default:()=>i.a});var n=r(69029),i=r.n(n)},90434:(e,t,r)=>{"use strict";r.d(t,{default:()=>i.a});var n=r(79404),i=r.n(n)},35047:(e,t,r)=>{"use strict";var n=r(77389);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}})},46242:(e,t,r)=>{"use strict";var n;n={value:!0},Object.defineProperty(t,"$",{enumerable:!0,get:function(){return o}});let i=r(15424);function o(e){let{createServerReference:t}=r(56493);return t(e,i.callServer)}},3486:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addBasePath",{enumerable:!0,get:function(){return s}});let n=r(8974),i=r(23658),o="";function s(e,t){return(0,i.normalizePathTrailingSlash)((0,n.addPathPrefix)(e,o))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},53416:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return n}}),r(23658);let n=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},15424:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"callServer",{enumerable:!0,get:function(){return i}});let n=r(12994);async function i(e,t){let r=(0,n.getServerActionDispatcher)();if(!r)throw Error("Invariant: missing action dispatcher.");return new Promise((n,i)=>{r({actionId:e,actionArgs:t,resolve:n,reject:i})})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},68038:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AppRouterAnnouncer",{enumerable:!0,get:function(){return l}});let n=r(17577),i=r(60962),o="next-route-announcer",s="__next-route-announcer__";function a(){var e;let t=document.getElementsByName(o)[0];if(null==t?void 0:null==(e=t.shadowRoot)?void 0:e.childNodes[0])return t.shadowRoot.childNodes[0];{let e=document.createElement(o);e.style.cssText="position:absolute";let t=document.createElement("div");return t.ariaLive="assertive",t.id=s,t.role="alert",t.style.cssText="position:absolute;border:0;height:1px;margin:-1px;padding:0;width:1px;clip:rect(0 0 0 0);overflow:hidden;white-space:nowrap;word-wrap:normal",e.attachShadow({mode:"open"}).appendChild(t),document.body.appendChild(e),t}}function l(e){let{tree:t}=e,[r,s]=(0,n.useState)(null);(0,n.useEffect)(()=>(s(a()),()=>{let e=document.getElementsByTagName(o)[0];(null==e?void 0:e.isConnected)&&document.body.removeChild(e)}),[]);let[l,u]=(0,n.useState)(""),c=(0,n.useRef)();return(0,n.useEffect)(()=>{let e="";if(document.title)e=document.title;else{let t=document.querySelector("h1");t&&(e=t.innerText||t.textContent||"")}void 0!==c.current&&c.current!==e&&u(e),c.current=e},[t]),r?(0,i.createPortal)(l,r):null}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5138:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ACTION:function(){return n},FLIGHT_PARAMETERS:function(){return l},NEXT_DID_POSTPONE_HEADER:function(){return c},NEXT_ROUTER_PREFETCH_HEADER:function(){return o},NEXT_ROUTER_STATE_TREE:function(){return i},NEXT_RSC_UNION_QUERY:function(){return u},NEXT_URL:function(){return s},RSC_CONTENT_TYPE_HEADER:function(){return a},RSC_HEADER:function(){return r}});let r="RSC",n="Next-Action",i="Next-Router-State-Tree",o="Next-Router-Prefetch",s="Next-Url",a="text/x-component",l=[[r],[i],[o]],u="_rsc",c="x-nextjs-postponed";("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},12994:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{createEmptyCacheNode:function(){return P},default:function(){return F},getServerActionDispatcher:function(){return w},urlToUrlWithoutFlightMarker:function(){return R}});let n=r(58374),i=r(10326),o=n._(r(17577)),s=r(52413),a=r(57767),l=r(17584),u=r(97008),c=r(77326),d=r(9727),h=r(6199),p=r(32148),f=r(3486),m=r(68038),g=r(46265),y=r(22492),v=r(39519),b=r(5138),E=r(74237),S=r(37929),_=r(68071),T=!0,A=null,C=null;function w(){return C}let O={};function R(e){let t=new URL(e,location.origin);return t.searchParams.delete(b.NEXT_RSC_UNION_QUERY),t}function x(e,t){for(let r of(void 0===t&&(t={}),Object.values(e[1]))){let e=r[0],n=Array.isArray(e),i=n?e[1]:e;!i||i.startsWith(_.PAGE_SEGMENT_KEY)||(n&&("c"===e[2]||"oc"===e[2])?t[e[0]]=e[1].split("/"):n&&(t[e[0]]=e[1]),t=x(r,t))}return t}function I(e){return e.origin!==window.location.origin}function D(e){let{appRouterState:t,sync:r}=e;return(0,o.useInsertionEffect)(()=>{let{tree:e,pushRef:n,canonicalUrl:i}=t,o={...n.preserveCustomHistoryState?window.history.state:{},__NA:!0,__PRIVATE_NEXTJS_INTERNALS_TREE:e};n.pendingPush&&(0,l.createHrefFromUrl)(new URL(window.location.href))!==i?(n.pendingPush=!1,window.history.pushState(o,"",i)):window.history.replaceState(o,"",i),r(t)},[t,r]),null}function P(){return{lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,lazyDataResolved:!1,loading:null}}function N(e){C=(0,o.useCallback)(t=>{(0,o.startTransition)(()=>{e({...t,type:a.ACTION_SERVER_ACTION})})},[e])}function k(e){return(0,o.useCallback)(t=>{let{previousTree:r,serverResponse:n}=t;(0,o.startTransition)(()=>{e({type:a.ACTION_SERVER_PATCH,previousTree:r,serverResponse:n})})},[e])}function M(e){return(0,o.useCallback)((t,r,n)=>{let i=new URL((0,f.addBasePath)(t),location.href);return e({type:a.ACTION_NAVIGATE,url:i,isExternalUrl:I(i),locationSearch:location.search,shouldScroll:null==n||n,navigateType:r})},[e])}function L(e){null==e&&(e={});let t=window.history.state,r=null==t?void 0:t.__NA;r&&(e.__NA=r);let n=null==t?void 0:t.__PRIVATE_NEXTJS_INTERNALS_TREE;return n&&(e.__PRIVATE_NEXTJS_INTERNALS_TREE=n),e}function B(e){let{headCacheNode:t}=e,r=null!==t?t.head:null,n=null!==t?t.prefetchHead:null,i=null!==n?n:r;return(0,o.useDeferredValue)(r,i)}function j(e){let t,{buildId:r,initialHead:n,initialTree:l,initialCanonicalUrl:d,initialSeedData:b,couldBeIntercepted:_,assetPrefix:C,missingSlots:w}=e,R=(0,o.useMemo)(()=>(0,h.createInitialRouterState)({buildId:r,initialSeedData:b,initialCanonicalUrl:d,initialTree:l,initialParallelRoutes:A,location:T?null:window.location,initialHead:n,couldBeIntercepted:_}),[r,b,d,l,n,_]),[P,j,F]=(0,c.useReducerWithReduxDevtools)(R);(0,o.useEffect)(()=>{A=null},[]);let{canonicalUrl:U}=(0,c.useUnwrapState)(P),{searchParams:V,pathname:z}=(0,o.useMemo)(()=>{let e=new URL(U,"http://n");return{searchParams:e.searchParams,pathname:(0,S.hasBasePath)(e.pathname)?(0,E.removeBasePath)(e.pathname):e.pathname}},[U]),G=k(j),$=M(j);N(j);let H=(0,o.useMemo)(()=>({back:()=>window.history.back(),forward:()=>window.history.forward(),prefetch:(e,t)=>{if((0,p.isBot)(window.navigator.userAgent))return;let r=new URL((0,f.addBasePath)(e),window.location.href);I(r)||(0,o.startTransition)(()=>{var e;j({type:a.ACTION_PREFETCH,url:r,kind:null!=(e=null==t?void 0:t.kind)?e:a.PrefetchKind.FULL})})},replace:(e,t)=>{void 0===t&&(t={}),(0,o.startTransition)(()=>{var r;$(e,"replace",null==(r=t.scroll)||r)})},push:(e,t)=>{void 0===t&&(t={}),(0,o.startTransition)(()=>{var r;$(e,"push",null==(r=t.scroll)||r)})},refresh:()=>{(0,o.startTransition)(()=>{j({type:a.ACTION_REFRESH,origin:window.location.origin})})},fastRefresh:()=>{throw Error("fastRefresh can only be used in development mode. Please use refresh instead.")}}),[j,$]);(0,o.useEffect)(()=>{window.next&&(window.next.router=H)},[H]),(0,o.useEffect)(()=>{function e(e){var t;e.persisted&&(null==(t=window.history.state)?void 0:t.__PRIVATE_NEXTJS_INTERNALS_TREE)&&(O.pendingMpaPath=void 0,j({type:a.ACTION_RESTORE,url:new URL(window.location.href),tree:window.history.state.__PRIVATE_NEXTJS_INTERNALS_TREE}))}return window.addEventListener("pageshow",e),()=>{window.removeEventListener("pageshow",e)}},[j]);let{pushRef:q}=(0,c.useUnwrapState)(P);if(q.mpaNavigation){if(O.pendingMpaPath!==U){let e=window.location;q.pendingPush?e.assign(U):e.replace(U),O.pendingMpaPath=U}(0,o.use)(v.unresolvedThenable)}(0,o.useEffect)(()=>{let e=window.history.pushState.bind(window.history),t=window.history.replaceState.bind(window.history),r=e=>{var t;let r=window.location.href,n=null==(t=window.history.state)?void 0:t.__PRIVATE_NEXTJS_INTERNALS_TREE;(0,o.startTransition)(()=>{j({type:a.ACTION_RESTORE,url:new URL(null!=e?e:r,r),tree:n})})};window.history.pushState=function(t,n,i){return(null==t?void 0:t.__NA)||(null==t?void 0:t._N)||(t=L(t),i&&r(i)),e(t,n,i)},window.history.replaceState=function(e,n,i){return(null==e?void 0:e.__NA)||(null==e?void 0:e._N)||(e=L(e),i&&r(i)),t(e,n,i)};let n=e=>{let{state:t}=e;if(t){if(!t.__NA){window.location.reload();return}(0,o.startTransition)(()=>{j({type:a.ACTION_RESTORE,url:new URL(window.location.href),tree:t.__PRIVATE_NEXTJS_INTERNALS_TREE})})}};return window.addEventListener("popstate",n),()=>{window.history.pushState=e,window.history.replaceState=t,window.removeEventListener("popstate",n)}},[j]);let{cache:W,tree:K,nextUrl:Y,focusAndScrollRef:Z}=(0,c.useUnwrapState)(P),J=(0,o.useMemo)(()=>(0,y.findHeadInCache)(W,K[1]),[W,K]),Q=(0,o.useMemo)(()=>x(K),[K]);if(null!==J){let[e,r]=J;t=(0,i.jsx)(B,{headCacheNode:e},r)}else t=null;let X=(0,i.jsxs)(g.RedirectBoundary,{children:[t,W.rsc,(0,i.jsx)(m.AppRouterAnnouncer,{tree:K})]});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(D,{appRouterState:(0,c.useUnwrapState)(P),sync:F}),(0,i.jsx)(u.PathParamsContext.Provider,{value:Q,children:(0,i.jsx)(u.PathnameContext.Provider,{value:z,children:(0,i.jsx)(u.SearchParamsContext.Provider,{value:V,children:(0,i.jsx)(s.GlobalLayoutRouterContext.Provider,{value:{buildId:r,changeByServerResponse:G,tree:K,focusAndScrollRef:Z,nextUrl:Y},children:(0,i.jsx)(s.AppRouterContext.Provider,{value:H,children:(0,i.jsx)(s.LayoutRouterContext.Provider,{value:{childNodes:W.parallelRoutes,tree:K,url:U,loading:W.loading},children:X})})})})})})]})}function F(e){let{globalErrorComponent:t,...r}=e;return(0,i.jsx)(d.ErrorBoundary,{errorComponent:t,children:(0,i.jsx)(j,{...r})})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},16136:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"bailoutToClientRendering",{enumerable:!0,get:function(){return o}});let n=r(94129),i=r(94749);function o(e){let t=i.staticGenerationAsyncStorage.getStore();if((null==t||!t.forceStatic)&&(null==t?void 0:t.isStaticGeneration))throw new n.BailoutToCSRError(e)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},96114:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ClientPageRoot",{enumerable:!0,get:function(){return o}});let n=r(10326),i=r(23325);function o(e){let{Component:t,props:r}=e;return r.searchParams=(0,i.createDynamicallyTrackedSearchParams)(r.searchParams||{}),(0,n.jsx)(t,{...r})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9727:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ErrorBoundary:function(){return f},ErrorBoundaryHandler:function(){return d},GlobalError:function(){return h},default:function(){return p}});let n=r(91174),i=r(10326),o=n._(r(17577)),s=r(77389),a=r(37313),l=r(94749),u={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},text:{fontSize:"14px",fontWeight:400,lineHeight:"28px",margin:"0 8px"}};function c(e){let{error:t}=e,r=l.staticGenerationAsyncStorage.getStore();if((null==r?void 0:r.isRevalidate)||(null==r?void 0:r.isStaticGeneration))throw console.error(t),t;return null}class d extends o.default.Component{static getDerivedStateFromError(e){if((0,a.isNextRouterError)(e))throw e;return{error:e}}static getDerivedStateFromProps(e,t){return e.pathname!==t.previousPathname&&t.error?{error:null,previousPathname:e.pathname}:{error:t.error,previousPathname:e.pathname}}render(){return this.state.error?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c,{error:this.state.error}),this.props.errorStyles,this.props.errorScripts,(0,i.jsx)(this.props.errorComponent,{error:this.state.error,reset:this.reset})]}):this.props.children}constructor(e){super(e),this.reset=()=>{this.setState({error:null})},this.state={error:null,previousPathname:this.props.pathname}}}function h(e){let{error:t}=e,r=null==t?void 0:t.digest;return(0,i.jsxs)("html",{id:"__next_error__",children:[(0,i.jsx)("head",{}),(0,i.jsxs)("body",{children:[(0,i.jsx)(c,{error:t}),(0,i.jsx)("div",{style:u.error,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{style:u.text,children:"Application error: a "+(r?"server":"client")+"-side exception has occurred (see the "+(r?"server logs":"browser console")+" for more information)."}),r?(0,i.jsx)("p",{style:u.text,children:"Digest: "+r}):null]})})]})]})}let p=h;function f(e){let{errorComponent:t,errorStyles:r,errorScripts:n,children:o}=e,a=(0,s.usePathname)();return t?(0,i.jsx)(d,{pathname:a,errorComponent:t,errorStyles:r,errorScripts:n,children:o}):(0,i.jsx)(i.Fragment,{children:o})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},70442:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DynamicServerError:function(){return n},isDynamicServerError:function(){return i}});let r="DYNAMIC_SERVER_USAGE";class n extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=r}}function i(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},37313:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isNextRouterError",{enumerable:!0,get:function(){return o}});let n=r(50706),i=r(62747);function o(e){return e&&e.digest&&((0,i.isRedirectError)(e)||(0,n.isNotFoundError)(e))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},79671:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return O}}),r(91174);let n=r(58374),i=r(10326),o=n._(r(17577));r(60962);let s=r(52413),a=r(9009),l=r(39519),u=r(9727),c=r(70455),d=r(79976),h=r(46265),p=r(41868),f=r(62162),m=r(39886),g=r(45262);function y(e,t){if(e){let[r,n]=e,i=2===e.length;if((0,c.matchSegment)(t[0],r)&&t[1].hasOwnProperty(n)){if(i){let e=y(void 0,t[1][n]);return[t[0],{...t[1],[n]:[e[0],e[1],e[2],"refetch"]}]}return[t[0],{...t[1],[n]:y(e.slice(2),t[1][n])}]}}return t}function v(e){return null}let b=["bottom","height","left","right","top","width","x","y"];function E(e){if(["sticky","fixed"].includes(getComputedStyle(e).position))return!0;let t=e.getBoundingClientRect();return b.every(e=>0===t[e])}function S(e,t){let r=e.getBoundingClientRect();return r.top>=0&&r.top<=t}function _(e){var t;return"top"===e?document.body:null!=(t=document.getElementById(e))?t:document.getElementsByName(e)[0]}class T extends o.default.Component{componentDidMount(){this.handlePotentialScroll()}componentDidUpdate(){this.props.focusAndScrollRef.apply&&this.handlePotentialScroll()}render(){return this.props.children}constructor(...e){super(...e),this.handlePotentialScroll=()=>{let{focusAndScrollRef:e,segmentPath:t}=this.props;if(e.apply){if(0!==e.segmentPaths.length&&!e.segmentPaths.some(e=>t.every((t,r)=>(0,c.matchSegment)(t,e[r]))))return;let r=null,n=e.hashFragment;if(n&&(r=_(n)),r||(r=v(this)),!(r instanceof Element))return;for(;!(r instanceof HTMLElement)||E(r);){if(null===r.nextElementSibling)return;r=r.nextElementSibling}e.apply=!1,e.hashFragment=null,e.segmentPaths=[],(0,d.handleSmoothScroll)(()=>{if(n){r.scrollIntoView();return}let e=document.documentElement,t=e.clientHeight;!S(r,t)&&(e.scrollTop=0,S(r,t)||r.scrollIntoView())},{dontForceLayout:!0,onlyHashChange:e.onlyHashChange}),e.onlyHashChange=!1,r.focus()}}}}function A(e){let{segmentPath:t,children:r}=e,n=(0,o.useContext)(s.GlobalLayoutRouterContext);if(!n)throw Error("invariant global layout router not mounted");return(0,i.jsx)(T,{segmentPath:t,focusAndScrollRef:n.focusAndScrollRef,children:r})}function C(e){let{parallelRouterKey:t,url:r,childNodes:n,segmentPath:u,tree:c,cacheKey:d}=e,h=(0,o.useContext)(s.GlobalLayoutRouterContext);if(!h)throw Error("invariant global layout router not mounted");let{buildId:p,changeByServerResponse:f,tree:m}=h,v=n.get(d);if(void 0===v){let e={lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,lazyDataResolved:!1,loading:null};v=e,n.set(d,e)}let b=null!==v.prefetchRsc?v.prefetchRsc:v.rsc,E=(0,o.useDeferredValue)(v.rsc,b),S="object"==typeof E&&null!==E&&"function"==typeof E.then?(0,o.use)(E):E;if(!S){let e=v.lazyData;if(null===e){let t=y(["",...u],m),n=(0,g.hasInterceptionRouteInCurrentTree)(m);v.lazyData=e=(0,a.fetchServerResponse)(new URL(r,location.origin),t,n?h.nextUrl:null,p),v.lazyDataResolved=!1}let t=(0,o.use)(e);v.lazyDataResolved||(setTimeout(()=>{(0,o.startTransition)(()=>{f({previousTree:m,serverResponse:t})})}),v.lazyDataResolved=!0,(0,o.use)(l.unresolvedThenable))}return(0,i.jsx)(s.LayoutRouterContext.Provider,{value:{tree:c[1][t],childNodes:v.parallelRoutes,url:r,loading:v.loading},children:S})}function w(e){let{children:t,hasLoading:r,loading:n,loadingStyles:s,loadingScripts:a}=e;return r?(0,i.jsx)(o.Suspense,{fallback:(0,i.jsxs)(i.Fragment,{children:[s,a,n]}),children:t}):(0,i.jsx)(i.Fragment,{children:t})}function O(e){let{parallelRouterKey:t,segmentPath:r,error:n,errorStyles:a,errorScripts:l,templateStyles:c,templateScripts:d,template:g,notFound:y,notFoundStyles:v,styles:b}=e,E=(0,o.useContext)(s.LayoutRouterContext);if(!E)throw Error("invariant expected layout router to be mounted");let{childNodes:S,tree:_,url:T,loading:O}=E,R=S.get(t);R||(R=new Map,S.set(t,R));let x=_[1][t][0],I=(0,f.getSegmentValue)(x),D=[x];return(0,i.jsxs)(i.Fragment,{children:[b,D.map(e=>{let o=(0,f.getSegmentValue)(e),b=(0,m.createRouterCacheKey)(e);return(0,i.jsxs)(s.TemplateContext.Provider,{value:(0,i.jsx)(A,{segmentPath:r,children:(0,i.jsx)(u.ErrorBoundary,{errorComponent:n,errorStyles:a,errorScripts:l,children:(0,i.jsx)(w,{hasLoading:!!O,loading:null==O?void 0:O[0],loadingStyles:null==O?void 0:O[1],loadingScripts:null==O?void 0:O[2],children:(0,i.jsx)(p.NotFoundBoundary,{notFound:y,notFoundStyles:v,children:(0,i.jsx)(h.RedirectBoundary,{children:(0,i.jsx)(C,{parallelRouterKey:t,url:T,tree:_,childNodes:R,segmentPath:r,cacheKey:b,isActive:I===o})})})})})}),children:[c,d,g]},(0,m.createRouterCacheKey)(e,!0))})]})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},70455:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{canSegmentBeOverridden:function(){return o},matchSegment:function(){return i}});let n=r(92357),i=(e,t)=>"string"==typeof e?"string"==typeof t&&e===t:"string"!=typeof t&&e[0]===t[0]&&e[1]===t[1],o=(e,t)=>{var r;return!Array.isArray(e)&&!!Array.isArray(t)&&(null==(r=(0,n.getSegmentParam)(e))?void 0:r.param)===t[0]};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},77389:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return l.ReadonlyURLSearchParams},RedirectType:function(){return l.RedirectType},ServerInsertedHTMLContext:function(){return u.ServerInsertedHTMLContext},notFound:function(){return l.notFound},permanentRedirect:function(){return l.permanentRedirect},redirect:function(){return l.redirect},useParams:function(){return p},usePathname:function(){return d},useRouter:function(){return h},useSearchParams:function(){return c},useSelectedLayoutSegment:function(){return g},useSelectedLayoutSegments:function(){return m},useServerInsertedHTML:function(){return u.useServerInsertedHTML}});let n=r(17577),i=r(52413),o=r(97008),s=r(62162),a=r(68071),l=r(97375),u=r(93347);function c(){let e=(0,n.useContext)(o.SearchParamsContext),t=(0,n.useMemo)(()=>e?new l.ReadonlyURLSearchParams(e):null,[e]);{let{bailoutToClientRendering:e}=r(16136);e("useSearchParams()")}return t}function d(){return(0,n.useContext)(o.PathnameContext)}function h(){let e=(0,n.useContext)(i.AppRouterContext);if(null===e)throw Error("invariant expected app router to be mounted");return e}function p(){return(0,n.useContext)(o.PathParamsContext)}function f(e,t,r,n){let i;if(void 0===r&&(r=!0),void 0===n&&(n=[]),r)i=e[1][t];else{var o;let t=e[1];i=null!=(o=t.children)?o:Object.values(t)[0]}if(!i)return n;let l=i[0],u=(0,s.getSegmentValue)(l);return!u||u.startsWith(a.PAGE_SEGMENT_KEY)?n:(n.push(u),f(i,t,!1,n))}function m(e){void 0===e&&(e="children");let t=(0,n.useContext)(i.LayoutRouterContext);return t?f(t.tree,e):null}function g(e){void 0===e&&(e="children");let t=m(e);if(!t||0===t.length)return null;let r="children"===e?t[0]:t[t.length-1];return r===a.DEFAULT_SEGMENT_KEY?null:r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},97375:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return s},RedirectType:function(){return n.RedirectType},notFound:function(){return i.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect}});let n=r(62747),i=r(50706);class o extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class s extends URLSearchParams{append(){throw new o}delete(){throw new o}set(){throw new o}sort(){throw new o}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},41868:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NotFoundBoundary",{enumerable:!0,get:function(){return c}});let n=r(58374),i=r(10326),o=n._(r(17577)),s=r(77389),a=r(50706);r(576);let l=r(52413);class u extends o.default.Component{componentDidCatch(){}static getDerivedStateFromError(e){if((0,a.isNotFoundError)(e))return{notFoundTriggered:!0};throw e}static getDerivedStateFromProps(e,t){return e.pathname!==t.previousPathname&&t.notFoundTriggered?{notFoundTriggered:!1,previousPathname:e.pathname}:{notFoundTriggered:t.notFoundTriggered,previousPathname:e.pathname}}render(){return this.state.notFoundTriggered?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("meta",{name:"robots",content:"noindex"}),!1,this.props.notFoundStyles,this.props.notFound]}):this.props.children}constructor(e){super(e),this.state={notFoundTriggered:!!e.asNotFound,previousPathname:e.pathname}}}function c(e){let{notFound:t,notFoundStyles:r,asNotFound:n,children:a}=e,c=(0,s.usePathname)(),d=(0,o.useContext)(l.MissingSlotContext);return t?(0,i.jsx)(u,{pathname:c,notFound:t,notFoundStyles:r,asNotFound:n,missingSlots:d,children:a}):(0,i.jsx)(i.Fragment,{children:a})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},50706:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return i},notFound:function(){return n}});let r="NEXT_NOT_FOUND";function n(){let e=Error(r);throw e.digest=r,e}function i(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},77815:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PromiseQueue",{enumerable:!0,get:function(){return u}});let n=r(98285),i=r(78817);var o=i._("_maxConcurrency"),s=i._("_runningCount"),a=i._("_queue"),l=i._("_processNext");class u{enqueue(e){let t,r;let i=new Promise((e,n)=>{t=e,r=n}),o={promiseFn:i,task:async()=>{try{n._(this,s)[s]++;let r=await e();t(r)}catch(e){r(e)}finally{n._(this,s)[s]--,n._(this,l)[l]()}}};return n._(this,a)[a].push(o),n._(this,l)[l](),i}bump(e){let t=n._(this,a)[a].findIndex(t=>t.promiseFn===e);if(t>-1){let e=n._(this,a)[a].splice(t,1)[0];n._(this,a)[a].unshift(e),n._(this,l)[l](!0)}}constructor(e=5){Object.defineProperty(this,l,{value:c}),Object.defineProperty(this,o,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,a,{writable:!0,value:void 0}),n._(this,o)[o]=e,n._(this,s)[s]=0,n._(this,a)[a]=[]}}function c(e){if(void 0===e&&(e=!1),(n._(this,s)[s]<n._(this,o)[o]||e)&&n._(this,a)[a].length>0){var t;null==(t=n._(this,a)[a].shift())||t.task()}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},46265:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectBoundary:function(){return c},RedirectErrorBoundary:function(){return u}});let n=r(58374),i=r(10326),o=n._(r(17577)),s=r(77389),a=r(62747);function l(e){let{redirect:t,reset:r,redirectType:n}=e,i=(0,s.useRouter)();return(0,o.useEffect)(()=>{o.default.startTransition(()=>{n===a.RedirectType.push?i.push(t,{}):i.replace(t,{}),r()})},[t,n,r,i]),null}class u extends o.default.Component{static getDerivedStateFromError(e){if((0,a.isRedirectError)(e))return{redirect:(0,a.getURLFromRedirectError)(e),redirectType:(0,a.getRedirectTypeFromError)(e)};throw e}render(){let{redirect:e,redirectType:t}=this.state;return null!==e&&null!==t?(0,i.jsx)(l,{redirect:e,redirectType:t,reset:()=>this.setState({redirect:null})}):this.props.children}constructor(e){super(e),this.state={redirect:null,redirectType:null}}}function c(e){let{children:t}=e,r=(0,s.useRouter)();return(0,i.jsx)(u,{router:r,children:t})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},28778:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},62747:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return n},getRedirectError:function(){return l},getRedirectStatusCodeFromError:function(){return f},getRedirectTypeFromError:function(){return p},getURLFromRedirectError:function(){return h},isRedirectError:function(){return d},permanentRedirect:function(){return c},redirect:function(){return u}});let i=r(55403),o=r(47849),s=r(28778),a="NEXT_REDIRECT";function l(e,t,r){void 0===r&&(r=s.RedirectStatusCode.TemporaryRedirect);let n=Error(a);n.digest=a+";"+t+";"+e+";"+r+";";let o=i.requestAsyncStorage.getStore();return o&&(n.mutableCookies=o.mutableCookies),n}function u(e,t){void 0===t&&(t="replace");let r=o.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.TemporaryRedirect)}function c(e,t){void 0===t&&(t="replace");let r=o.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.PermanentRedirect)}function d(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,n,i]=e.digest.split(";",4),o=Number(i);return t===a&&("replace"===r||"push"===r)&&"string"==typeof n&&!isNaN(o)&&o in s.RedirectStatusCode}function h(e){return d(e)?e.digest.split(";",3)[2]:null}function p(e){if(!d(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function f(e){if(!d(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(n||(n={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},84759:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let n=r(58374),i=r(10326),o=n._(r(17577)),s=r(52413);function a(){let e=(0,o.useContext)(s.TemplateContext);return(0,i.jsx)(i.Fragment,{children:e})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9894:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"applyFlightData",{enumerable:!0,get:function(){return o}});let n=r(114),i=r(19056);function o(e,t,r,o){let[s,a,l]=r.slice(-3);if(null===a)return!1;if(3===r.length){let r=a[2],i=a[3];t.loading=i,t.rsc=r,t.prefetchRsc=null,(0,n.fillLazyItemsTillLeafWithHead)(t,e,s,a,l,o)}else t.rsc=e.rsc,t.prefetchRsc=e.prefetchRsc,t.parallelRoutes=new Map(e.parallelRoutes),t.loading=e.loading,(0,i.fillCacheWithNewSubTreeData)(t,e,r,o);return!0}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},95166:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"applyRouterStatePatchToTree",{enumerable:!0,get:function(){return a}});let n=r(68071),i=r(70455),o=r(84158);function s(e,t,r){let[o,a]=e,[l,u]=t;if(l===n.DEFAULT_SEGMENT_KEY&&o!==n.DEFAULT_SEGMENT_KEY)return e;if((0,i.matchSegment)(o,l)){let t={};for(let e in a)void 0!==u[e]?t[e]=s(a[e],u[e],r):t[e]=a[e];for(let e in u)t[e]||(t[e]=u[e]);let n=[o,t];return e[2]&&(n[2]=e[2]),e[3]&&(n[3]=e[3]),e[4]&&(n[4]=e[4]),n}return t}function a(e,t,r,n){let l;let[u,c,d,h,p]=t;if(1===e.length){let i=s(t,r,e);return(0,o.addRefreshMarkerToActiveParallelSegments)(i,n),i}let[f,m]=e;if(!(0,i.matchSegment)(f,u))return null;if(2===e.length)l=s(c[m],r,e);else if(null===(l=a(e.slice(2),c[m],r,n)))return null;let g=[e[0],{...c,[m]:l},d,h];return p&&(g[4]=!0),(0,o.addRefreshMarkerToActiveParallelSegments)(g,n),g}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},12895:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"clearCacheNodeDataForSegmentPath",{enumerable:!0,get:function(){return i}});let n=r(39886);function i(e,t,r){let o=r.length<=2,[s,a]=r,l=(0,n.createRouterCacheKey)(a),u=t.parallelRoutes.get(s),c=e.parallelRoutes.get(s);c&&c!==u||(c=new Map(u),e.parallelRoutes.set(s,c));let d=null==u?void 0:u.get(l),h=c.get(l);if(o){h&&h.lazyData&&h!==d||c.set(l,{lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,lazyDataResolved:!1,loading:null});return}if(!h||!d){h||c.set(l,{lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,lazyDataResolved:!1,loading:null});return}return h===d&&(h={lazyData:h.lazyData,rsc:h.rsc,prefetchRsc:h.prefetchRsc,head:h.head,prefetchHead:h.prefetchHead,parallelRoutes:new Map(h.parallelRoutes),lazyDataResolved:h.lazyDataResolved,loading:h.loading},c.set(l,h)),i(h,d,r.slice(2))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},47326:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{computeChangedPath:function(){return d},extractPathFromFlightRouterState:function(){return u}});let n=r(87356),i=r(68071),o=r(70455),s=e=>"/"===e[0]?e.slice(1):e,a=e=>"string"==typeof e?"children"===e?"":e:e[1];function l(e){return e.reduce((e,t)=>""===(t=s(t))||(0,i.isGroupSegment)(t)?e:e+"/"+t,"")||"/"}function u(e){var t;let r=Array.isArray(e[0])?e[0][1]:e[0];if(r===i.DEFAULT_SEGMENT_KEY||n.INTERCEPTION_ROUTE_MARKERS.some(e=>r.startsWith(e)))return;if(r.startsWith(i.PAGE_SEGMENT_KEY))return"";let o=[a(r)],s=null!=(t=e[1])?t:{},c=s.children?u(s.children):void 0;if(void 0!==c)o.push(c);else for(let[e,t]of Object.entries(s)){if("children"===e)continue;let r=u(t);void 0!==r&&o.push(r)}return l(o)}function c(e,t){let[r,i]=e,[s,l]=t,d=a(r),h=a(s);if(n.INTERCEPTION_ROUTE_MARKERS.some(e=>d.startsWith(e)||h.startsWith(e)))return"";if(!(0,o.matchSegment)(r,s)){var p;return null!=(p=u(t))?p:""}for(let e in i)if(l[e]){let t=c(i[e],l[e]);if(null!==t)return a(s)+"/"+t}return null}function d(e,t){let r=c(e,t);return null==r||"/"===r?r:l(r.split("/"))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},17584:(e,t)=>{"use strict";function r(e,t){return void 0===t&&(t=!0),e.pathname+e.search+(t?e.hash:"")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createHrefFromUrl",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6199:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createInitialRouterState",{enumerable:!0,get:function(){return u}});let n=r(17584),i=r(114),o=r(47326),s=r(79373),a=r(57767),l=r(84158);function u(e){var t;let{buildId:r,initialTree:u,initialSeedData:c,initialCanonicalUrl:d,initialParallelRoutes:h,location:p,initialHead:f,couldBeIntercepted:m}=e,g=!p,y={lazyData:null,rsc:c[2],prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:g?new Map:h,lazyDataResolved:!1,loading:c[3]},v=p?(0,n.createHrefFromUrl)(p):d;(0,l.addRefreshMarkerToActiveParallelSegments)(u,v);let b=new Map;(null===h||0===h.size)&&(0,i.fillLazyItemsTillLeafWithHead)(y,void 0,u,c,f);let E={buildId:r,tree:u,cache:y,prefetchCache:b,pushRef:{pendingPush:!1,mpaNavigation:!1,preserveCustomHistoryState:!0},focusAndScrollRef:{apply:!1,onlyHashChange:!1,hashFragment:null,segmentPaths:[]},canonicalUrl:v,nextUrl:null!=(t=(0,o.extractPathFromFlightRouterState)(u)||(null==p?void 0:p.pathname))?t:null};if(p){let e=new URL(p.pathname,p.origin),t=[["",u,null,null]];(0,s.createPrefetchCacheEntryForInitialLoad)({url:e,kind:a.PrefetchKind.AUTO,data:[t,void 0,!1,m],tree:E.tree,prefetchCache:E.prefetchCache,nextUrl:E.nextUrl})}return E}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},39886:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createRouterCacheKey",{enumerable:!0,get:function(){return i}});let n=r(68071);function i(e,t){return(void 0===t&&(t=!1),Array.isArray(e))?e[0]+"|"+e[1]+"|"+e[2]:t&&e.startsWith(n.PAGE_SEGMENT_KEY)?n.PAGE_SEGMENT_KEY:e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9009:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"fetchServerResponse",{enumerable:!0,get:function(){return c}});let n=r(5138),i=r(12994),o=r(15424),s=r(57767),a=r(92165),{createFromFetch:l}=r(56493);function u(e){return[(0,i.urlToUrlWithoutFlightMarker)(e).toString(),void 0,!1,!1]}async function c(e,t,r,c,d){let h={[n.RSC_HEADER]:"1",[n.NEXT_ROUTER_STATE_TREE]:encodeURIComponent(JSON.stringify(t))};d===s.PrefetchKind.AUTO&&(h[n.NEXT_ROUTER_PREFETCH_HEADER]="1"),r&&(h[n.NEXT_URL]=r);let p=(0,a.hexHash)([h[n.NEXT_ROUTER_PREFETCH_HEADER]||"0",h[n.NEXT_ROUTER_STATE_TREE],h[n.NEXT_URL]].join(","));try{var f;let t=new URL(e);t.searchParams.set(n.NEXT_RSC_UNION_QUERY,p);let r=await fetch(t,{credentials:"same-origin",headers:h}),s=(0,i.urlToUrlWithoutFlightMarker)(r.url),a=r.redirected?s:void 0,d=r.headers.get("content-type")||"",m=!!r.headers.get(n.NEXT_DID_POSTPONE_HEADER),g=!!(null==(f=r.headers.get("vary"))?void 0:f.includes(n.NEXT_URL));if(d!==n.RSC_CONTENT_TYPE_HEADER||!r.ok)return e.hash&&(s.hash=e.hash),u(s.toString());let[y,v]=await l(Promise.resolve(r),{callServer:o.callServer});if(c!==y)return u(r.url);return[v,a,m,g]}catch(t){return console.error("Failed to fetch RSC payload for "+e+". Falling back to browser navigation.",t),[e.toString(),void 0,!1,!1]}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},19056:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"fillCacheWithNewSubTreeData",{enumerable:!0,get:function(){return s}});let n=r(2498),i=r(114),o=r(39886);function s(e,t,r,a){let l=r.length<=5,[u,c]=r,d=(0,o.createRouterCacheKey)(c),h=t.parallelRoutes.get(u);if(!h)return;let p=e.parallelRoutes.get(u);p&&p!==h||(p=new Map(h),e.parallelRoutes.set(u,p));let f=h.get(d),m=p.get(d);if(l){if(!m||!m.lazyData||m===f){let e=r[3];m={lazyData:null,rsc:e[2],prefetchRsc:null,head:null,prefetchHead:null,loading:e[3],parallelRoutes:f?new Map(f.parallelRoutes):new Map,lazyDataResolved:!1},f&&(0,n.invalidateCacheByRouterState)(m,f,r[2]),(0,i.fillLazyItemsTillLeafWithHead)(m,f,r[2],e,r[4],a),p.set(d,m)}return}m&&f&&(m===f&&(m={lazyData:m.lazyData,rsc:m.rsc,prefetchRsc:m.prefetchRsc,head:m.head,prefetchHead:m.prefetchHead,parallelRoutes:new Map(m.parallelRoutes),lazyDataResolved:!1,loading:m.loading},p.set(d,m)),s(m,f,r.slice(2),a))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},114:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"fillLazyItemsTillLeafWithHead",{enumerable:!0,get:function(){return o}});let n=r(39886),i=r(57767);function o(e,t,r,s,a,l){if(0===Object.keys(r[1]).length){e.head=a;return}for(let u in r[1]){let c;let d=r[1][u],h=d[0],p=(0,n.createRouterCacheKey)(h),f=null!==s&&void 0!==s[1][u]?s[1][u]:null;if(t){let r=t.parallelRoutes.get(u);if(r){let t;let n=(null==l?void 0:l.kind)==="auto"&&l.status===i.PrefetchCacheEntryStatus.reusable,s=new Map(r),c=s.get(p);t=null!==f?{lazyData:null,rsc:f[2],prefetchRsc:null,head:null,prefetchHead:null,loading:f[3],parallelRoutes:new Map(null==c?void 0:c.parallelRoutes),lazyDataResolved:!1}:n&&c?{lazyData:c.lazyData,rsc:c.rsc,prefetchRsc:c.prefetchRsc,head:c.head,prefetchHead:c.prefetchHead,parallelRoutes:new Map(c.parallelRoutes),lazyDataResolved:c.lazyDataResolved,loading:c.loading}:{lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map(null==c?void 0:c.parallelRoutes),lazyDataResolved:!1,loading:null},s.set(p,t),o(t,c,d,f||null,a,l),e.parallelRoutes.set(u,s);continue}}if(null!==f){let e=f[2],t=f[3];c={lazyData:null,rsc:e,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,lazyDataResolved:!1,loading:t}}else c={lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,lazyDataResolved:!1,loading:null};let m=e.parallelRoutes.get(u);m?m.set(p,c):e.parallelRoutes.set(u,new Map([[p,c]])),o(c,void 0,d,f,a,l)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},17252:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"handleMutable",{enumerable:!0,get:function(){return o}});let n=r(47326);function i(e){return void 0!==e}function o(e,t){var r,o,s;let a=null==(o=t.shouldScroll)||o,l=e.nextUrl;if(i(t.patchedTree)){let r=(0,n.computeChangedPath)(e.tree,t.patchedTree);r?l=r:l||(l=e.canonicalUrl)}return{buildId:e.buildId,canonicalUrl:i(t.canonicalUrl)?t.canonicalUrl===e.canonicalUrl?e.canonicalUrl:t.canonicalUrl:e.canonicalUrl,pushRef:{pendingPush:i(t.pendingPush)?t.pendingPush:e.pushRef.pendingPush,mpaNavigation:i(t.mpaNavigation)?t.mpaNavigation:e.pushRef.mpaNavigation,preserveCustomHistoryState:i(t.preserveCustomHistoryState)?t.preserveCustomHistoryState:e.pushRef.preserveCustomHistoryState},focusAndScrollRef:{apply:!!a&&(!!i(null==t?void 0:t.scrollableSegments)||e.focusAndScrollRef.apply),onlyHashChange:!!t.hashFragment&&e.canonicalUrl.split("#",1)[0]===(null==(r=t.canonicalUrl)?void 0:r.split("#",1)[0]),hashFragment:a?t.hashFragment&&""!==t.hashFragment?decodeURIComponent(t.hashFragment.slice(1)):e.focusAndScrollRef.hashFragment:null,segmentPaths:a?null!=(s=null==t?void 0:t.scrollableSegments)?s:e.focusAndScrollRef.segmentPaths:[]},cache:t.cache?t.cache:e.cache,prefetchCache:t.prefetchCache?t.prefetchCache:e.prefetchCache,tree:i(t.patchedTree)?t.patchedTree:e.tree,nextUrl:l}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},65652:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"handleSegmentMismatch",{enumerable:!0,get:function(){return i}});let n=r(20941);function i(e,t,r){return(0,n.handleExternalUrl)(e,{},e.canonicalUrl,!0)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},43193:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"invalidateCacheBelowFlightSegmentPath",{enumerable:!0,get:function(){return i}});let n=r(39886);function i(e,t,r){let o=r.length<=2,[s,a]=r,l=(0,n.createRouterCacheKey)(a),u=t.parallelRoutes.get(s);if(!u)return;let c=e.parallelRoutes.get(s);if(c&&c!==u||(c=new Map(u),e.parallelRoutes.set(s,c)),o){c.delete(l);return}let d=u.get(l),h=c.get(l);h&&d&&(h===d&&(h={lazyData:h.lazyData,rsc:h.rsc,prefetchRsc:h.prefetchRsc,head:h.head,prefetchHead:h.prefetchHead,parallelRoutes:new Map(h.parallelRoutes),lazyDataResolved:h.lazyDataResolved},c.set(l,h)),i(h,d,r.slice(2)))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2498:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"invalidateCacheByRouterState",{enumerable:!0,get:function(){return i}});let n=r(39886);function i(e,t,r){for(let i in r[1]){let o=r[1][i][0],s=(0,n.createRouterCacheKey)(o),a=t.parallelRoutes.get(i);if(a){let t=new Map(a);t.delete(s),e.parallelRoutes.set(i,t)}}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},23772:(e,t)=>{"use strict";function r(e,t){let n=e[0],i=t[0];if(Array.isArray(n)&&Array.isArray(i)){if(n[0]!==i[0]||n[2]!==i[2])return!0}else if(n!==i)return!0;if(e[4])return!t[4];if(t[4])return!0;let o=Object.values(e[1])[0],s=Object.values(t[1])[0];return!o||!s||r(o,s)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isNavigatingToNewRootLayout",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},68831:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{abortTask:function(){return g},listenForDynamicRequest:function(){return d},updateCacheNodeOnNavigation:function(){return s},updateCacheNodeOnPopstateRestoration:function(){return v}});let n=r(68071),i=r(70455),o=r(39886);function s(e,t,r,d,h){let p=t[1],f=r[1],m=d[1],g=e.parallelRoutes,y=new Map(g),v={},b=null;for(let e in f){let t;let r=f[e],a=p[e],d=g.get(e),E=m[e],S=r[0],_=(0,o.createRouterCacheKey)(S),T=void 0!==a?a[0]:void 0,A=void 0!==d?d.get(_):void 0;if(null!==(t=S===n.PAGE_SEGMENT_KEY?l(r,void 0!==E?E:null,h):S===n.DEFAULT_SEGMENT_KEY?void 0!==a?u(a):l(r,void 0!==E?E:null,h):void 0!==T&&(0,i.matchSegment)(S,T)&&void 0!==A&&void 0!==a?null!=E?s(A,a,r,E,h):c(r):l(r,void 0!==E?E:null,h))){null===b&&(b=new Map),b.set(e,t);let r=t.node;if(null!==r){let t=new Map(d);t.set(_,r),y.set(e,t)}v[e]=t.route}else v[e]=r}if(null===b)return null;let E={lazyData:null,rsc:e.rsc,prefetchRsc:e.prefetchRsc,head:e.head,prefetchHead:e.prefetchHead,loading:e.loading,parallelRoutes:y,lazyDataResolved:!1};return{route:a(r,v),node:E,children:b}}function a(e,t){let r=[e[0],t];return 2 in e&&(r[2]=e[2]),3 in e&&(r[3]=e[3]),4 in e&&(r[4]=e[4]),r}function l(e,t,r){let n=f(e,t,r);return{route:e,node:n,children:null}}function u(e){return{route:e,node:null,children:null}}function c(e){let t=f(e,null,null);return{route:e,node:t,children:null}}function d(e,t){t.then(t=>{for(let r of t[0]){let t=r.slice(0,-3),n=r[r.length-3],i=r[r.length-2],o=r[r.length-1];"string"!=typeof t&&h(e,t,n,i,o)}g(e,null)},t=>{g(e,t)})}function h(e,t,r,n,o){let s=e;for(let e=0;e<t.length;e+=2){let r=t[e],n=t[e+1],o=s.children;if(null!==o){let e=o.get(r);if(void 0!==e){let t=e.route[0];if((0,i.matchSegment)(n,t)){s=e;continue}}}return}p(s,r,n,o)}function p(e,t,r,n){let o=e.children,s=e.node;if(null===o){null!==s&&(m(s,e.route,t,r,n),e.node=null);return}let a=t[1],l=r[1];for(let e in t){let t=a[e],r=l[e],s=o.get(e);if(void 0!==s){let e=s.route[0];if((0,i.matchSegment)(t[0],e)&&null!=r)return p(s,t,r,n)}}}function f(e,t,r){let n=e[1],i=null!==t?t[1]:null,s=new Map;for(let e in n){let t=n[e],a=null!==i?i[e]:null,l=t[0],u=(0,o.createRouterCacheKey)(l),c=f(t,void 0===a?null:a,r),d=new Map;d.set(u,c),s.set(e,d)}let a=0===s.size,l=null!==t?t[2]:null,u=null!==t?t[3]:null;return{lazyData:null,parallelRoutes:s,prefetchRsc:void 0!==l?l:null,prefetchHead:a?r:null,loading:void 0!==u?u:null,rsc:S(),head:a?S():null,lazyDataResolved:!1}}function m(e,t,r,n,s){let a=t[1],l=r[1],u=n[1],c=e.parallelRoutes;for(let e in a){let t=a[e],r=l[e],n=u[e],d=c.get(e),h=t[0],p=(0,o.createRouterCacheKey)(h),f=void 0!==d?d.get(p):void 0;void 0!==f&&(void 0!==r&&(0,i.matchSegment)(h,r[0])&&null!=n?m(f,t,r,n,s):y(t,f,null))}let d=e.rsc,h=n[2];null===d?e.rsc=h:E(d)&&d.resolve(h);let p=e.head;E(p)&&p.resolve(s)}function g(e,t){let r=e.node;if(null===r)return;let n=e.children;if(null===n)y(e.route,r,t);else for(let e of n.values())g(e,t);e.node=null}function y(e,t,r){let n=e[1],i=t.parallelRoutes;for(let e in n){let t=n[e],s=i.get(e);if(void 0===s)continue;let a=t[0],l=(0,o.createRouterCacheKey)(a),u=s.get(l);void 0!==u&&y(t,u,r)}let s=t.rsc;E(s)&&(null===r?s.resolve(null):s.reject(r));let a=t.head;E(a)&&a.resolve(null)}function v(e,t){let r=t[1],n=e.parallelRoutes,i=new Map(n);for(let e in r){let t=r[e],s=t[0],a=(0,o.createRouterCacheKey)(s),l=n.get(e);if(void 0!==l){let r=l.get(a);if(void 0!==r){let n=v(r,t),o=new Map(l);o.set(a,n),i.set(e,o)}}}let s=e.rsc,a=E(s)&&"pending"===s.status;return{lazyData:null,rsc:s,head:e.head,prefetchHead:a?e.prefetchHead:null,prefetchRsc:a?e.prefetchRsc:null,loading:a?e.loading:null,parallelRoutes:i,lazyDataResolved:!1}}let b=Symbol();function E(e){return e&&e.tag===b}function S(){let e,t;let r=new Promise((r,n)=>{e=r,t=n});return r.status="pending",r.resolve=t=>{if("pending"===r.status){let n=r;n.status="fulfilled",n.value=t,e(t)}},r.reject=e=>{if("pending"===r.status){let n=r;n.status="rejected",n.reason=e,t(e)}},r.tag=b,r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},79373:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{createPrefetchCacheEntryForInitialLoad:function(){return c},getOrCreatePrefetchCacheEntry:function(){return l},prunePrefetchCache:function(){return h}});let n=r(17584),i=r(9009),o=r(57767),s=r(61156);function a(e,t){let r=(0,n.createHrefFromUrl)(e,!1);return t?t+"%"+r:r}function l(e){let t,{url:r,nextUrl:n,tree:i,buildId:s,prefetchCache:l,kind:u}=e,c=a(r,n),h=l.get(c);if(h)t=h;else{let e=a(r),n=l.get(e);n&&(t=n)}return t?(t.status=m(t),t.kind!==o.PrefetchKind.FULL&&u===o.PrefetchKind.FULL)?d({tree:i,url:r,buildId:s,nextUrl:n,prefetchCache:l,kind:null!=u?u:o.PrefetchKind.TEMPORARY}):(u&&t.kind===o.PrefetchKind.TEMPORARY&&(t.kind=u),t):d({tree:i,url:r,buildId:s,nextUrl:n,prefetchCache:l,kind:u||o.PrefetchKind.TEMPORARY})}function u(e){let{url:t,nextUrl:r,prefetchCache:n}=e,i=a(t),o=n.get(i);if(!o)return;let s=a(t,r);n.set(s,o),n.delete(i)}function c(e){let{nextUrl:t,tree:r,prefetchCache:n,url:i,kind:s,data:l}=e,[,,,u]=l,c=u?a(i,t):a(i),d={treeAtTimeOfPrefetch:r,data:Promise.resolve(l),kind:s,prefetchTime:Date.now(),lastUsedTime:Date.now(),key:c,status:o.PrefetchCacheEntryStatus.fresh};return n.set(c,d),d}function d(e){let{url:t,kind:r,tree:n,nextUrl:l,buildId:c,prefetchCache:d}=e,h=a(t),p=s.prefetchQueue.enqueue(()=>(0,i.fetchServerResponse)(t,n,l,c,r).then(e=>{let[,,,r]=e;return r&&u({url:t,nextUrl:l,prefetchCache:d}),e})),f={treeAtTimeOfPrefetch:n,data:p,kind:r,prefetchTime:Date.now(),lastUsedTime:null,key:h,status:o.PrefetchCacheEntryStatus.fresh};return d.set(h,f),f}function h(e){for(let[t,r]of e)m(r)===o.PrefetchCacheEntryStatus.expired&&e.delete(t)}let p=1e3*Number("30"),f=1e3*Number("300");function m(e){let{kind:t,prefetchTime:r,lastUsedTime:n}=e;return Date.now()<(null!=n?n:r)+p?n?o.PrefetchCacheEntryStatus.reusable:o.PrefetchCacheEntryStatus.fresh:"auto"===t&&Date.now()<r+f?o.PrefetchCacheEntryStatus.stale:"full"===t&&Date.now()<r+f?o.PrefetchCacheEntryStatus.reusable:o.PrefetchCacheEntryStatus.expired}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},95703:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"fastRefreshReducer",{enumerable:!0,get:function(){return n}}),r(9009),r(17584),r(95166),r(23772),r(20941),r(17252),r(9894),r(12994),r(65652),r(45262);let n=function(e,t){return e};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},22492:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"findHeadInCache",{enumerable:!0,get:function(){return i}});let n=r(39886);function i(e,t){return o(e,t,"")}function o(e,t,r){if(0===Object.keys(t).length)return[e,r];for(let i in t){let[s,a]=t[i],l=e.parallelRoutes.get(i);if(!l)continue;let u=(0,n.createRouterCacheKey)(s),c=l.get(u);if(!c)continue;let d=o(c,a,r+"/"+u);if(d)return d}return null}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},62162:(e,t)=>{"use strict";function r(e){return Array.isArray(e)?e[1]:e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSegmentValue",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},45262:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"hasInterceptionRouteInCurrentTree",{enumerable:!0,get:function(){return i}});let n=r(87356);function i(e){let[t,r]=e;if(Array.isArray(t)&&("di"===t[2]||"ci"===t[2])||"string"==typeof t&&(0,n.isInterceptionRouteAppPath)(t))return!0;if(r){for(let e in r)if(i(r[e]))return!0}return!1}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},20941:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{handleExternalUrl:function(){return g},navigateReducer:function(){return b}}),r(9009);let n=r(17584),i=r(43193),o=r(95166),s=r(54614),a=r(23772),l=r(57767),u=r(17252),c=r(9894),d=r(61156),h=r(12994),p=r(68071),f=(r(68831),r(79373)),m=r(12895);function g(e,t,r,n){return t.mpaNavigation=!0,t.canonicalUrl=r,t.pendingPush=n,t.scrollableSegments=void 0,(0,u.handleMutable)(e,t)}function y(e){let t=[],[r,n]=e;if(0===Object.keys(n).length)return[[r]];for(let[e,i]of Object.entries(n))for(let n of y(i))""===r?t.push([e,...n]):t.push([r,e,...n]);return t}function v(e,t,r,n){let i=!1;for(let o of(e.rsc=t.rsc,e.prefetchRsc=t.prefetchRsc,e.loading=t.loading,e.parallelRoutes=new Map(t.parallelRoutes),y(n).map(e=>[...r,...e])))(0,m.clearCacheNodeDataForSegmentPath)(e,t,o),i=!0;return i}let b=E;function E(e,t){let{url:r,isExternalUrl:m,navigateType:b,shouldScroll:E}=t,S={},{hash:_}=r,T=(0,n.createHrefFromUrl)(r),A="push"===b;if((0,f.prunePrefetchCache)(e.prefetchCache),S.preserveCustomHistoryState=!1,m)return g(e,S,r.toString(),A);let C=(0,f.getOrCreatePrefetchCacheEntry)({url:r,nextUrl:e.nextUrl,tree:e.tree,buildId:e.buildId,prefetchCache:e.prefetchCache}),{treeAtTimeOfPrefetch:w,data:O}=C;return d.prefetchQueue.bump(O),O.then(t=>{let[r,d]=t,f=!1;if(C.lastUsedTime||(C.lastUsedTime=Date.now(),f=!0),"string"==typeof r)return g(e,S,r,A);if(document.getElementById("__next-page-redirect"))return g(e,S,T,A);let m=e.tree,b=e.cache,O=[];for(let t of r){let r=t.slice(0,-4),n=t.slice(-3)[0],u=["",...r],d=(0,o.applyRouterStatePatchToTree)(u,m,n,T);if(null===d&&(d=(0,o.applyRouterStatePatchToTree)(u,w,n,T)),null!==d){if((0,a.isNavigatingToNewRootLayout)(m,d))return g(e,S,T,A);let o=(0,h.createEmptyCacheNode)(),E=!1;for(let e of(C.status!==l.PrefetchCacheEntryStatus.stale||f?E=(0,c.applyFlightData)(b,o,t,C):(E=v(o,b,r,n),C.lastUsedTime=Date.now()),(0,s.shouldHardNavigate)(u,m)?(o.rsc=b.rsc,o.prefetchRsc=b.prefetchRsc,(0,i.invalidateCacheBelowFlightSegmentPath)(o,b,r),S.cache=o):E&&(S.cache=o),m=d,y(n))){let t=[...r,...e];t[t.length-1]!==p.DEFAULT_SEGMENT_KEY&&O.push(t)}}}return S.patchedTree=m,S.canonicalUrl=d?(0,n.createHrefFromUrl)(d):T,S.pendingPush=A,S.scrollableSegments=O,S.hashFragment=_,S.shouldScroll=E,(0,u.handleMutable)(e,S)},()=>e)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},61156:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{prefetchQueue:function(){return s},prefetchReducer:function(){return a}});let n=r(5138),i=r(77815),o=r(79373),s=new i.PromiseQueue(5);function a(e,t){(0,o.prunePrefetchCache)(e.prefetchCache);let{url:r}=t;return r.searchParams.delete(n.NEXT_RSC_UNION_QUERY),(0,o.getOrCreatePrefetchCacheEntry)({url:r,nextUrl:e.nextUrl,prefetchCache:e.prefetchCache,kind:t.kind,tree:e.tree,buildId:e.buildId}),e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},69809:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"refreshReducer",{enumerable:!0,get:function(){return f}});let n=r(9009),i=r(17584),o=r(95166),s=r(23772),a=r(20941),l=r(17252),u=r(114),c=r(12994),d=r(65652),h=r(45262),p=r(84158);function f(e,t){let{origin:r}=t,f={},m=e.canonicalUrl,g=e.tree;f.preserveCustomHistoryState=!1;let y=(0,c.createEmptyCacheNode)(),v=(0,h.hasInterceptionRouteInCurrentTree)(e.tree);return y.lazyData=(0,n.fetchServerResponse)(new URL(m,r),[g[0],g[1],g[2],"refetch"],v?e.nextUrl:null,e.buildId),y.lazyData.then(async r=>{let[n,c]=r;if("string"==typeof n)return(0,a.handleExternalUrl)(e,f,n,e.pushRef.pendingPush);for(let r of(y.lazyData=null,n)){if(3!==r.length)return console.log("REFRESH FAILED"),e;let[n]=r,l=(0,o.applyRouterStatePatchToTree)([""],g,n,e.canonicalUrl);if(null===l)return(0,d.handleSegmentMismatch)(e,t,n);if((0,s.isNavigatingToNewRootLayout)(g,l))return(0,a.handleExternalUrl)(e,f,m,e.pushRef.pendingPush);let h=c?(0,i.createHrefFromUrl)(c):void 0;c&&(f.canonicalUrl=h);let[b,E]=r.slice(-2);if(null!==b){let e=b[2];y.rsc=e,y.prefetchRsc=null,(0,u.fillLazyItemsTillLeafWithHead)(y,void 0,n,b,E),f.prefetchCache=new Map}await (0,p.refreshInactiveParallelSegments)({state:e,updatedTree:l,updatedCache:y,includeNextUrl:v}),f.cache=y,f.patchedTree=l,f.canonicalUrl=m,g=l}return(0,l.handleMutable)(e,f)},()=>e)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},85608:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"restoreReducer",{enumerable:!0,get:function(){return o}});let n=r(17584),i=r(47326);function o(e,t){var r;let{url:o,tree:s}=t,a=(0,n.createHrefFromUrl)(o),l=s||e.tree,u=e.cache;return{buildId:e.buildId,canonicalUrl:a,pushRef:{pendingPush:!1,mpaNavigation:!1,preserveCustomHistoryState:!0},focusAndScrollRef:e.focusAndScrollRef,cache:u,prefetchCache:e.prefetchCache,tree:l,nextUrl:null!=(r=(0,i.extractPathFromFlightRouterState)(l))?r:o.pathname}}r(68831),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},25240:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"serverActionReducer",{enumerable:!0,get:function(){return b}});let n=r(15424),i=r(5138),o=r(3486),s=r(17584),a=r(20941),l=r(95166),u=r(23772),c=r(17252),d=r(114),h=r(12994),p=r(45262),f=r(65652),m=r(84158),{createFromFetch:g,encodeReply:y}=r(56493);async function v(e,t,r){let s,{actionId:a,actionArgs:l}=r,u=await y(l),c=await fetch("",{method:"POST",headers:{Accept:i.RSC_CONTENT_TYPE_HEADER,[i.ACTION]:a,[i.NEXT_ROUTER_STATE_TREE]:encodeURIComponent(JSON.stringify(e.tree)),...t?{[i.NEXT_URL]:t}:{}},body:u}),d=c.headers.get("x-action-redirect");try{let e=JSON.parse(c.headers.get("x-action-revalidated")||"[[],0,0]");s={paths:e[0]||[],tag:!!e[1],cookie:e[2]}}catch(e){s={paths:[],tag:!1,cookie:!1}}let h=d?new URL((0,o.addBasePath)(d),new URL(e.canonicalUrl,window.location.href)):void 0;if(c.headers.get("content-type")===i.RSC_CONTENT_TYPE_HEADER){let e=await g(Promise.resolve(c),{callServer:n.callServer});if(d){let[,t]=null!=e?e:[];return{actionFlightData:t,redirectLocation:h,revalidatedParts:s}}let[t,[,r]]=null!=e?e:[];return{actionResult:t,actionFlightData:r,redirectLocation:h,revalidatedParts:s}}return{redirectLocation:h,revalidatedParts:s}}function b(e,t){let{resolve:r,reject:n}=t,i={},o=e.canonicalUrl,g=e.tree;i.preserveCustomHistoryState=!1;let y=e.nextUrl&&(0,p.hasInterceptionRouteInCurrentTree)(e.tree)?e.nextUrl:null;return i.inFlightServerAction=v(e,y,t),i.inFlightServerAction.then(async n=>{let{actionResult:p,actionFlightData:v,redirectLocation:b}=n;if(b&&(e.pushRef.pendingPush=!0,i.pendingPush=!0),!v)return(r(p),b)?(0,a.handleExternalUrl)(e,i,b.href,e.pushRef.pendingPush):e;if("string"==typeof v)return(0,a.handleExternalUrl)(e,i,v,e.pushRef.pendingPush);for(let r of(i.inFlightServerAction=null,v)){if(3!==r.length)return console.log("SERVER ACTION APPLY FAILED"),e;let[n]=r,c=(0,l.applyRouterStatePatchToTree)([""],g,n,b?(0,s.createHrefFromUrl)(b):e.canonicalUrl);if(null===c)return(0,f.handleSegmentMismatch)(e,t,n);if((0,u.isNavigatingToNewRootLayout)(g,c))return(0,a.handleExternalUrl)(e,i,o,e.pushRef.pendingPush);let[p,v]=r.slice(-2),E=null!==p?p[2]:null;if(null!==E){let t=(0,h.createEmptyCacheNode)();t.rsc=E,t.prefetchRsc=null,(0,d.fillLazyItemsTillLeafWithHead)(t,void 0,n,p,v),await (0,m.refreshInactiveParallelSegments)({state:e,updatedTree:c,updatedCache:t,includeNextUrl:!!y}),i.cache=t,i.prefetchCache=new Map}i.patchedTree=c,i.canonicalUrl=o,g=c}if(b){let e=(0,s.createHrefFromUrl)(b,!1);i.canonicalUrl=e}return r(p),(0,c.handleMutable)(e,i)},t=>(n(t),e))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},14025:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"serverPatchReducer",{enumerable:!0,get:function(){return d}});let n=r(17584),i=r(95166),o=r(23772),s=r(20941),a=r(9894),l=r(17252),u=r(12994),c=r(65652);function d(e,t){let{serverResponse:r}=t,[d,h]=r,p={};if(p.preserveCustomHistoryState=!1,"string"==typeof d)return(0,s.handleExternalUrl)(e,p,d,e.pushRef.pendingPush);let f=e.tree,m=e.cache;for(let r of d){let l=r.slice(0,-4),[d]=r.slice(-3,-2),g=(0,i.applyRouterStatePatchToTree)(["",...l],f,d,e.canonicalUrl);if(null===g)return(0,c.handleSegmentMismatch)(e,t,d);if((0,o.isNavigatingToNewRootLayout)(f,g))return(0,s.handleExternalUrl)(e,p,e.canonicalUrl,e.pushRef.pendingPush);let y=h?(0,n.createHrefFromUrl)(h):void 0;y&&(p.canonicalUrl=y);let v=(0,u.createEmptyCacheNode)();(0,a.applyFlightData)(m,v,r),p.patchedTree=g,p.cache=v,m=v,f=g}return(0,l.handleMutable)(e,p)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},84158:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{addRefreshMarkerToActiveParallelSegments:function(){return l},refreshInactiveParallelSegments:function(){return s}});let n=r(9894),i=r(9009),o=r(68071);async function s(e){let t=new Set;await a({...e,rootTree:e.updatedTree,fetchedSegments:t})}async function a(e){let{state:t,updatedTree:r,updatedCache:o,includeNextUrl:s,fetchedSegments:l,rootTree:u=r}=e,[,c,d,h]=r,p=[];if(d&&d!==location.pathname+location.search&&"refresh"===h&&!l.has(d)){l.add(d);let e=(0,i.fetchServerResponse)(new URL(d,location.origin),[u[0],u[1],u[2],"refetch"],s?t.nextUrl:null,t.buildId).then(e=>{let t=e[0];if("string"!=typeof t)for(let e of t)(0,n.applyFlightData)(o,o,e)});p.push(e)}for(let e in c){let r=a({state:t,updatedTree:c[e],updatedCache:o,includeNextUrl:s,fetchedSegments:l,rootTree:u});p.push(r)}await Promise.all(p)}function l(e,t){let[r,n,,i]=e;for(let s in r.includes(o.PAGE_SEGMENT_KEY)&&"refresh"!==i&&(e[2]=t,e[3]="refresh"),n)l(n[s],t)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},57767:(e,t)=>{"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ACTION_FAST_REFRESH:function(){return u},ACTION_NAVIGATE:function(){return o},ACTION_PREFETCH:function(){return l},ACTION_REFRESH:function(){return i},ACTION_RESTORE:function(){return s},ACTION_SERVER_ACTION:function(){return c},ACTION_SERVER_PATCH:function(){return a},PrefetchCacheEntryStatus:function(){return n},PrefetchKind:function(){return r},isThenable:function(){return d}});let i="refresh",o="navigate",s="restore",a="server-patch",l="prefetch",u="fast-refresh",c="server-action";function d(e){return e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}(function(e){e.AUTO="auto",e.FULL="full",e.TEMPORARY="temporary"})(r||(r={})),function(e){e.fresh="fresh",e.reusable="reusable",e.expired="expired",e.stale="stale"}(n||(n={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83860:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"reducer",{enumerable:!0,get:function(){return n}}),r(57767),r(20941),r(14025),r(85608),r(69809),r(61156),r(95703),r(25240);let n=function(e,t){return e};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},54614:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"shouldHardNavigate",{enumerable:!0,get:function(){return i}});let n=r(70455);function i(e,t){let[r,o]=t,[s,a]=e;return(0,n.matchSegment)(s,r)?!(e.length<=2)&&i(e.slice(2),o[a]):!!Array.isArray(s)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},23325:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{createDynamicallyTrackedSearchParams:function(){return a},createUntrackedSearchParams:function(){return s}});let n=r(94749),i=r(52846),o=r(22255);function s(e){let t=n.staticGenerationAsyncStorage.getStore();return t&&t.forceStatic?{}:e}function a(e){let t=n.staticGenerationAsyncStorage.getStore();return t?t.forceStatic?{}:t.isStaticGeneration||t.dynamicShouldError?new Proxy({},{get:(e,r,n)=>("string"==typeof r&&(0,i.trackDynamicDataAccessed)(t,"searchParams."+r),o.ReflectAdapter.get(e,r,n)),has:(e,r)=>("string"==typeof r&&(0,i.trackDynamicDataAccessed)(t,"searchParams."+r),Reflect.has(e,r)),ownKeys:e=>((0,i.trackDynamicDataAccessed)(t,"searchParams"),Reflect.ownKeys(e))}):e:e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},86488:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{StaticGenBailoutError:function(){return n},isStaticGenBailoutError:function(){return i}});let r="NEXT_STATIC_GEN_BAILOUT";class n extends Error{constructor(...e){super(...e),this.code=r}}function i(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},39519:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unresolvedThenable",{enumerable:!0,get:function(){return r}});let r={then:()=>{}};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},77326:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{useReducerWithReduxDevtools:function(){return a},useUnwrapState:function(){return s}});let n=r(58374)._(r(17577)),i=r(57767);function o(e){if(e instanceof Map){let t={};for(let[r,n]of e.entries()){if("function"==typeof n){t[r]="fn()";continue}if("object"==typeof n&&null!==n){if(n.$$typeof){t[r]=n.$$typeof.toString();continue}if(n._bundlerConfig){t[r]="FlightData";continue}}t[r]=o(n)}return t}if("object"==typeof e&&null!==e){let t={};for(let r in e){let n=e[r];if("function"==typeof n){t[r]="fn()";continue}if("object"==typeof n&&null!==n){if(n.$$typeof){t[r]=n.$$typeof.toString();continue}if(n.hasOwnProperty("_bundlerConfig")){t[r]="FlightData";continue}}t[r]=o(n)}return t}return Array.isArray(e)?e.map(o):e}function s(e){return(0,i.isThenable)(e)?(0,n.use)(e):e}r(33879);let a=function(e){return[e,()=>{},()=>{}]};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},39683:(e,t,r)=>{"use strict";function n(e,t,r,n){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return n}}),r(23658),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},37929:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"hasBasePath",{enumerable:!0,get:function(){return o}});let n=r(34655),i="";function o(e){return(0,n.pathHasPrefix)(e,i)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},92481:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return b}});let n=r(91174),i=r(58374),o=r(10326),s=i._(r(17577)),a=n._(r(60962)),l=n._(r(60815)),u=r(23078),c=r(35248),d=r(31206);r(576);let h=r(50131),p=n._(r(86820)),f={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function m(e,t,r,n,i,o,s){let a=null==e?void 0:e.src;e&&e["data-loaded-src"]!==a&&(e["data-loaded-src"]=a,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&i(!0),null==r?void 0:r.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let n=!1,i=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>n,isPropagationStopped:()=>i,persist:()=>{},preventDefault:()=>{n=!0,t.preventDefault()},stopPropagation:()=>{i=!0,t.stopPropagation()}})}(null==n?void 0:n.current)&&n.current(e)}}))}function g(e){let[t,r]=s.version.split(".",2),n=parseInt(t,10),i=parseInt(r,10);return n>18||18===n&&i>=3?{fetchPriority:e}:{fetchpriority:e}}globalThis.__NEXT_IMAGE_IMPORTED=!0;let y=(0,s.forwardRef)((e,t)=>{let{src:r,srcSet:n,sizes:i,height:a,width:l,decoding:u,className:c,style:d,fetchPriority:h,placeholder:p,loading:f,unoptimized:y,fill:v,onLoadRef:b,onLoadingCompleteRef:E,setBlurComplete:S,setShowAltText:_,sizesInput:T,onLoad:A,onError:C,...w}=e;return(0,o.jsx)("img",{...w,...g(h),loading:f,width:l,height:a,decoding:u,"data-nimg":v?"fill":"1",className:c,style:d,sizes:i,srcSet:n,src:r,ref:(0,s.useCallback)(e=>{t&&("function"==typeof t?t(e):"object"==typeof t&&(t.current=e)),e&&(C&&(e.src=e.src),e.complete&&m(e,p,b,E,S,y,T))},[r,p,b,E,S,C,y,T,t]),onLoad:e=>{m(e.currentTarget,p,b,E,S,y,T)},onError:e=>{_(!0),"empty"!==p&&S(!0),C&&C(e)}})});function v(e){let{isAppRouter:t,imgAttributes:r}=e,n={as:"image",imageSrcSet:r.srcSet,imageSizes:r.sizes,crossOrigin:r.crossOrigin,referrerPolicy:r.referrerPolicy,...g(r.fetchPriority)};return t&&a.default.preload?(a.default.preload(r.src,n),null):(0,o.jsx)(l.default,{children:(0,o.jsx)("link",{rel:"preload",href:r.srcSet?void 0:r.src,...n},"__nimg-"+r.src+r.srcSet+r.sizes)})}let b=(0,s.forwardRef)((e,t)=>{let r=!(0,s.useContext)(h.RouterContext),n=(0,s.useContext)(d.ImageConfigContext),i=(0,s.useMemo)(()=>{let e=f||n||c.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),r=e.deviceSizes.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:r}},[n]),{onLoad:a,onLoadingComplete:l}=e,m=(0,s.useRef)(a);(0,s.useEffect)(()=>{m.current=a},[a]);let g=(0,s.useRef)(l);(0,s.useEffect)(()=>{g.current=l},[l]);let[b,E]=(0,s.useState)(!1),[S,_]=(0,s.useState)(!1),{props:T,meta:A}=(0,u.getImgProps)(e,{defaultLoader:p.default,imgConf:i,blurComplete:b,showAltText:S});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(y,{...T,unoptimized:A.unoptimized,placeholder:A.placeholder,fill:A.fill,onLoadRef:m,onLoadingCompleteRef:g,setBlurComplete:E,setShowAltText:_,sizesInput:e.sizes,ref:t}),A.priority?(0,o.jsx)(v,{isAppRouter:r,imgAttributes:T}):null]})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},79404:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return E}});let n=r(91174),i=r(10326),o=n._(r(17577)),s=r(25619),a=r(60944),l=r(43071),u=r(51348),c=r(53416),d=r(50131),h=r(52413),p=r(49408),f=r(39683),m=r(3486),g=r(57767);function y(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}function v(e,t,r,n,i,s,l,u,c){let{nodeName:d}=e.currentTarget;if("A"===d.toUpperCase()&&(y(e)||!c&&!(0,a.isLocalURL)(r)))return;e.preventDefault();let h=()=>{let e=null==l||l;"beforePopState"in t?t[i?"replace":"push"](r,n,{shallow:s,locale:u,scroll:e}):t[i?"replace":"push"](n||r,{scroll:e})};c?o.default.startTransition(h):h()}function b(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}let E=o.default.forwardRef(function(e,t){let r,n;let{href:a,as:l,children:y,prefetch:E=null,passHref:S,replace:_,shallow:T,scroll:A,locale:C,onClick:w,onMouseEnter:O,onTouchStart:R,legacyBehavior:x=!1,...I}=e;r=y,x&&("string"==typeof r||"number"==typeof r)&&(r=(0,i.jsx)("a",{children:r}));let D=o.default.useContext(d.RouterContext),P=o.default.useContext(h.AppRouterContext),N=null!=D?D:P,k=!D,M=!1!==E,L=null===E?g.PrefetchKind.AUTO:g.PrefetchKind.FULL,{href:B,as:j}=o.default.useMemo(()=>{if(!D){let e=b(a);return{href:e,as:l?b(l):e}}let[e,t]=(0,s.resolveHref)(D,a,!0);return{href:e,as:l?(0,s.resolveHref)(D,l):t||e}},[D,a,l]),F=o.default.useRef(B),U=o.default.useRef(j);x&&(n=o.default.Children.only(r));let V=x?n&&"object"==typeof n&&n.ref:t,[z,G,$]=(0,p.useIntersection)({rootMargin:"200px"}),H=o.default.useCallback(e=>{(U.current!==j||F.current!==B)&&($(),U.current=j,F.current=B),z(e),V&&("function"==typeof V?V(e):"object"==typeof V&&(V.current=e))},[j,V,B,$,z]);o.default.useEffect(()=>{},[j,B,G,C,M,null==D?void 0:D.locale,N,k,L]);let q={ref:H,onClick(e){x||"function"!=typeof w||w(e),x&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(e),N&&!e.defaultPrevented&&v(e,N,B,j,_,T,A,C,k)},onMouseEnter(e){x||"function"!=typeof O||O(e),x&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e)},onTouchStart:function(e){x||"function"!=typeof R||R(e),x&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e)}};if((0,u.isAbsoluteUrl)(j))q.href=j;else if(!x||S||"a"===n.type&&!("href"in n.props)){let e=void 0!==C?C:null==D?void 0:D.locale,t=(null==D?void 0:D.isLocaleDomain)&&(0,f.getDomainLocale)(j,e,null==D?void 0:D.locales,null==D?void 0:D.domainLocales);q.href=t||(0,m.addBasePath)((0,c.addLocale)(j,e,null==D?void 0:D.defaultLocale))}return x?o.default.cloneElement(n,q):(0,i.jsx)("a",{...I,...q,children:r})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},23658:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizePathTrailingSlash",{enumerable:!0,get:function(){return o}});let n=r(83236),i=r(93067),o=e=>{if(!e.startsWith("/"))return e;let{pathname:t,query:r,hash:o}=(0,i.parsePath)(e);return""+(0,n.removeTrailingSlash)(t)+r+o};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},74237:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeBasePath",{enumerable:!0,get:function(){return i}}),r(37929);let n="";function i(e){return 0===n.length||(e=e.slice(n.length)).startsWith("/")||(e="/"+e),e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},10956:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{cancelIdleCallback:function(){return n},requestIdleCallback:function(){return r}});let r="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},n="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},25619:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"resolveHref",{enumerable:!0,get:function(){return d}});let n=r(72149),i=r(43071),o=r(20757),s=r(51348),a=r(23658),l=r(60944),u=r(94903),c=r(81394);function d(e,t,r){let d;let h="string"==typeof t?t:(0,i.formatWithValidation)(t),p=h.match(/^[a-zA-Z]{1,}:\/\//),f=p?h.slice(p[0].length):h;if((f.split("?",1)[0]||"").match(/(\/\/|\\)/)){console.error("Invalid href '"+h+"' passed to next/router in page: '"+e.pathname+"'. Repeated forward-slashes (//) or backslashes \\ are not valid in the href.");let t=(0,s.normalizeRepeatedSlashes)(f);h=(p?p[0]:"")+t}if(!(0,l.isLocalURL)(h))return r?[h]:h;try{d=new URL(h.startsWith("#")?e.asPath:e.pathname,"http://n")}catch(e){d=new URL("/","http://n")}try{let e=new URL(h,d);e.pathname=(0,a.normalizePathTrailingSlash)(e.pathname);let t="";if((0,u.isDynamicRoute)(e.pathname)&&e.searchParams&&r){let r=(0,n.searchParamsToUrlQuery)(e.searchParams),{result:s,params:a}=(0,c.interpolateAs)(e.pathname,e.pathname,r);s&&(t=(0,i.formatWithValidation)({pathname:s,hash:e.hash,query:(0,o.omit)(r,a)}))}let s=e.origin===d.origin?e.href.slice(e.origin.length):e.href;return r?[s,t||s]:s}catch(e){return r?[h]:h}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},49408:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return c}});let n=r(17577),i=r(10956),o="function"==typeof IntersectionObserver,s=new Map,a=[];function l(e){let t;let r={root:e.root||null,margin:e.rootMargin||""},n=a.find(e=>e.root===r.root&&e.margin===r.margin);if(n&&(t=s.get(n)))return t;let i=new Map;return t={id:r,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=i.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)})},e),elements:i},a.push(r),s.set(r,t),t}function u(e,t,r){let{id:n,observer:i,elements:o}=l(r);return o.set(e,t),i.observe(e),function(){if(o.delete(e),i.unobserve(e),0===o.size){i.disconnect(),s.delete(n);let e=a.findIndex(e=>e.root===n.root&&e.margin===n.margin);e>-1&&a.splice(e,1)}}}function c(e){let{rootRef:t,rootMargin:r,disabled:s}=e,a=s||!o,[l,c]=(0,n.useState)(!1),d=(0,n.useRef)(null),h=(0,n.useCallback)(e=>{d.current=e},[]);return(0,n.useEffect)(()=>{if(o){if(a||l)return;let e=d.current;if(e&&e.tagName)return u(e,e=>e&&c(e),{root:null==t?void 0:t.current,rootMargin:r})}else if(!l){let e=(0,i.requestIdleCallback)(()=>c(!0));return()=>(0,i.cancelIdleCallback)(e)}},[a,r,t,l,d.current]),[h,l,(0,n.useCallback)(()=>{c(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},56401:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getPathname:function(){return i},isFullStringUrl:function(){return o}});let r="http://n";function n(e){return new URL(e,r)}function i(e){return n(e).pathname}function o(e){return/https?:\/\//.test(e)}},52846:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{Postpone:function(){return h},createPostponedAbortSignal:function(){return v},createPrerenderState:function(){return u},formatDynamicAPIAccesses:function(){return g},markCurrentScopeAsDynamic:function(){return c},trackDynamicDataAccessed:function(){return d},trackDynamicFetch:function(){return p},usedDynamicAPIs:function(){return m}});let n=a(r(17577)),i=r(70442),o=r(86488),s=r(56401);function a(e){return e&&e.__esModule?e:{default:e}}let l="function"==typeof n.default.unstable_postpone;function u(e){return{isDebugSkeleton:e,dynamicAccesses:[]}}function c(e,t){let r=(0,s.getPathname)(e.urlPathname);if(!e.isUnstableCacheCallback){if(e.dynamicShouldError)throw new o.StaticGenBailoutError(`Route ${r} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${t}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(e.prerenderState)f(e.prerenderState,t,r);else if(e.revalidate=0,e.isStaticGeneration){let n=new i.DynamicServerError(`Route ${r} couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw e.dynamicUsageDescription=t,e.dynamicUsageStack=n.stack,n}}}function d(e,t){let r=(0,s.getPathname)(e.urlPathname);if(e.isUnstableCacheCallback)throw Error(`Route ${r} used "${t}" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "${t}" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`);if(e.dynamicShouldError)throw new o.StaticGenBailoutError(`Route ${r} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${t}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(e.prerenderState)f(e.prerenderState,t,r);else if(e.revalidate=0,e.isStaticGeneration){let n=new i.DynamicServerError(`Route ${r} couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw e.dynamicUsageDescription=t,e.dynamicUsageStack=n.stack,n}}function h({reason:e,prerenderState:t,pathname:r}){f(t,e,r)}function p(e,t){e.prerenderState&&f(e.prerenderState,t,e.urlPathname)}function f(e,t,r){y();let i=`Route ${r} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`;e.dynamicAccesses.push({stack:e.isDebugSkeleton?Error().stack:void 0,expression:t}),n.default.unstable_postpone(i)}function m(e){return e.dynamicAccesses.length>0}function g(e){return e.dynamicAccesses.filter(e=>"string"==typeof e.stack&&e.stack.length>0).map(({expression:e,stack:t})=>(t=t.split("\n").slice(4).filter(e=>!(e.includes("node_modules/next/")||e.includes(" (<anonymous>)")||e.includes(" (node:"))).join("\n"),`Dynamic API Usage Debug - ${e}:
${t}`))}function y(){if(!l)throw Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js")}function v(e){y();let t=new AbortController;try{n.default.unstable_postpone(e)}catch(e){t.abort(e)}return t.signal}},92357:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSegmentParam",{enumerable:!0,get:function(){return i}});let n=r(87356);function i(e){let t=n.INTERCEPTION_ROUTE_MARKERS.find(t=>e.startsWith(t));return(t&&(e=e.slice(t.length)),e.startsWith("[[...")&&e.endsWith("]]"))?{type:"optional-catchall",param:e.slice(5,-2)}:e.startsWith("[...")&&e.endsWith("]")?{type:t?"catchall-intercepted":"catchall",param:e.slice(4,-1)}:e.startsWith("[")&&e.endsWith("]")?{type:t?"dynamic-intercepted":"dynamic",param:e.slice(1,-1)}:null}},87356:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{INTERCEPTION_ROUTE_MARKERS:function(){return i},extractInterceptionRouteInformation:function(){return s},isInterceptionRouteAppPath:function(){return o}});let n=r(72862),i=["(..)(..)","(.)","(..)","(...)"];function o(e){return void 0!==e.split("/").find(e=>i.find(t=>e.startsWith(t)))}function s(e){let t,r,o;for(let n of e.split("/"))if(r=i.find(e=>n.startsWith(e))){[t,o]=e.split(r,2);break}if(!t||!r||!o)throw Error(`Invalid interception route: ${e}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`);switch(t=(0,n.normalizeAppPath)(t),r){case"(.)":o="/"===t?`/${o}`:t+"/"+o;break;case"(..)":if("/"===t)throw Error(`Invalid interception route: ${e}. Cannot use (..) marker at the root level, use (.) instead.`);o=t.split("/").slice(0,-1).concat(o).join("/");break;case"(...)":o="/"+o;break;case"(..)(..)":let s=t.split("/");if(s.length<=2)throw Error(`Invalid interception route: ${e}. Cannot use (..)(..) marker at the root level or one level up.`);o=s.slice(0,-2).concat(o).join("/");break;default:throw Error("Invariant: unexpected marker")}return{interceptingRoute:t,interceptedRoute:o}}},81616:(e,t,r)=>{"use strict";e.exports=r(20399)},23484:(e,t,r)=>{"use strict";e.exports=r(81616).vendored.contexts.AmpContext},52413:(e,t,r)=>{"use strict";e.exports=r(81616).vendored.contexts.AppRouterContext},81157:(e,t,r)=>{"use strict";e.exports=r(81616).vendored.contexts.HeadManagerContext},97008:(e,t,r)=>{"use strict";e.exports=r(81616).vendored.contexts.HooksClientContext},31206:(e,t,r)=>{"use strict";e.exports=r(81616).vendored.contexts.ImageConfigContext},50131:(e,t,r)=>{"use strict";e.exports=r(81616).vendored.contexts.RouterContext},93347:(e,t,r)=>{"use strict";e.exports=r(81616).vendored.contexts.ServerInsertedHtml},60962:(e,t,r)=>{"use strict";e.exports=r(81616).vendored["react-ssr"].ReactDOM},10326:(e,t,r)=>{"use strict";e.exports=r(81616).vendored["react-ssr"].ReactJsxRuntime},56493:(e,t,r)=>{"use strict";e.exports=r(81616).vendored["react-ssr"].ReactServerDOMWebpackClientEdge},17577:(e,t,r)=>{"use strict";e.exports=r(81616).vendored["react-ssr"].React},22255:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReflectAdapter",{enumerable:!0,get:function(){return r}});class r{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},98710:(e,t)=>{"use strict";function r(e){let{ampFirst:t=!1,hybrid:r=!1,hasQuery:n=!1}=void 0===e?{}:e;return t||r&&n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return r}})},43353:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let n=r(91174);r(10326),r(17577);let i=n._(r(77028));function o(e,t){var r;let n={loading:e=>{let{error:t,isLoading:r,pastDelay:n}=e;return null}};"function"==typeof e&&(n.loader=e);let o={...n,...t};return(0,i.default)({...o,modules:null==(r=o.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2451:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"escapeStringRegexp",{enumerable:!0,get:function(){return i}});let r=/[|\\{}()[\]^$+*?.-]/,n=/[|\\{}()[\]^$+*?.-]/g;function i(e){return r.test(e)?e.replace(n,"\\$&"):e}},23078:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImgProps",{enumerable:!0,get:function(){return d}}),r(576);let n=r(44407),i=r(35248);function o(e){return void 0!==e.default}function s(e){return void 0!==e.src}function a(e){return"object"==typeof e&&(o(e)||s(e))}function l(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function u(e,t,r){let{deviceSizes:n,allSizes:i}=e;if(r){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let n;n=e.exec(r);n)t.push(parseInt(n[2]));if(t.length){let e=.01*Math.min(...t);return{widths:i.filter(t=>t>=n[0]*e),kind:"w"}}return{widths:i,kind:"w"}}return"number"!=typeof t?{widths:n,kind:"w"}:{widths:[...new Set([t,2*t].map(e=>i.find(t=>t>=e)||i[i.length-1]))],kind:"x"}}function c(e){let{config:t,src:r,unoptimized:n,width:i,quality:o,sizes:s,loader:a}=e;if(n)return{src:r,srcSet:void 0,sizes:void 0};let{widths:l,kind:c}=u(t,i,s),d=l.length-1;return{sizes:s||"w"!==c?s:"100vw",srcSet:l.map((e,n)=>a({config:t,src:r,quality:o,width:e})+" "+("w"===c?e:n+1)+c).join(", "),src:a({config:t,src:r,quality:o,width:l[d]})}}function d(e,t){let r,s,u,{src:d,sizes:h,unoptimized:p=!1,priority:f=!1,loading:m,className:g,quality:y,width:v,height:b,fill:E=!1,style:S,overrideSrc:_,onLoad:T,onLoadingComplete:A,placeholder:C="empty",blurDataURL:w,fetchPriority:O,layout:R,objectFit:x,objectPosition:I,lazyBoundary:D,lazyRoot:P,...N}=e,{imgConf:k,showAltText:M,blurComplete:L,defaultLoader:B}=t,j=k||i.imageConfigDefault;if("allSizes"in j)r=j;else{let e=[...j.deviceSizes,...j.imageSizes].sort((e,t)=>e-t),t=j.deviceSizes.sort((e,t)=>e-t);r={...j,allSizes:e,deviceSizes:t}}if(void 0===B)throw Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config");let F=N.loader||B;delete N.loader,delete N.srcSet;let U="__next_img_default"in F;if(U){if("custom"===r.loader)throw Error('Image with src "'+d+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader')}else{let e=F;F=t=>{let{config:r,...n}=t;return e(n)}}if(R){"fill"===R&&(E=!0);let e={responsive:"100vw",fill:"100vw"},t={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[R];t&&(S={...S,...t});let r=e[R];r&&!h&&(h=r)}let V="",z=l(v),G=l(b);if(a(d)){let e=o(d)?d.default:d;if(!e.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e));if(!e.height||!e.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e));if(s=e.blurWidth,u=e.blurHeight,w=w||e.blurDataURL,V=e.src,!E){if(z||G){if(z&&!G){let t=z/e.width;G=Math.round(e.height*t)}else if(!z&&G){let t=G/e.height;z=Math.round(e.width*t)}}else z=e.width,G=e.height}}let $=!f&&("lazy"===m||void 0===m);(!(d="string"==typeof d?d:V)||d.startsWith("data:")||d.startsWith("blob:"))&&(p=!0,$=!1),r.unoptimized&&(p=!0),U&&d.endsWith(".svg")&&!r.dangerouslyAllowSVG&&(p=!0),f&&(O="high");let H=l(y),q=Object.assign(E?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:x,objectPosition:I}:{},M?{}:{color:"transparent"},S),W=L||"empty"===C?null:"blur"===C?'url("data:image/svg+xml;charset=utf-8,'+(0,n.getImageBlurSvg)({widthInt:z,heightInt:G,blurWidth:s,blurHeight:u,blurDataURL:w||"",objectFit:q.objectFit})+'")':'url("'+C+'")',K=W?{backgroundSize:q.objectFit||"cover",backgroundPosition:q.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:W}:{},Y=c({config:r,src:d,unoptimized:p,width:z,quality:H,sizes:h,loader:F});return{props:{...N,loading:$?"lazy":m,fetchPriority:O,width:z,height:G,decoding:"async",className:g,style:{...q,...K},sizes:Y.sizes,srcSet:Y.srcSet,src:_||Y.src},meta:{unoptimized:p,priority:f,placeholder:C,fill:E}}}},92165:(e,t)=>{"use strict";function r(e){let t=5381;for(let r=0;r<e.length;r++)t=(t<<5)+t+e.charCodeAt(r)&4294967295;return t>>>0}function n(e){return r(e).toString(36).slice(0,5)}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{djb2Hash:function(){return r},hexHash:function(){return n}})},60815:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return g},defaultHead:function(){return d}});let n=r(91174),i=r(58374),o=r(10326),s=i._(r(17577)),a=n._(r(78003)),l=r(23484),u=r(81157),c=r(98710);function d(e){void 0===e&&(e=!1);let t=[(0,o.jsx)("meta",{charSet:"utf-8"})];return e||t.push((0,o.jsx)("meta",{name:"viewport",content:"width=device-width"})),t}function h(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===s.default.Fragment?e.concat(s.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}r(576);let p=["name","httpEquiv","charSet","itemProp"];function f(){let e=new Set,t=new Set,r=new Set,n={};return i=>{let o=!0,s=!1;if(i.key&&"number"!=typeof i.key&&i.key.indexOf("$")>0){s=!0;let t=i.key.slice(i.key.indexOf("$")+1);e.has(t)?o=!1:e.add(t)}switch(i.type){case"title":case"base":t.has(i.type)?o=!1:t.add(i.type);break;case"meta":for(let e=0,t=p.length;e<t;e++){let t=p[e];if(i.props.hasOwnProperty(t)){if("charSet"===t)r.has(t)?o=!1:r.add(t);else{let e=i.props[t],r=n[t]||new Set;("name"!==t||!s)&&r.has(e)?o=!1:(r.add(e),n[t]=r)}}}}return o}}function m(e,t){let{inAmpMode:r}=t;return e.reduce(h,[]).reverse().concat(d(r).reverse()).filter(f()).reverse().map((e,t)=>{let n=e.key||t;if(!r&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(t=>e.props.href.startsWith(t))){let t={...e.props||{}};return t["data-href"]=t.href,t.href=void 0,t["data-optimized-fonts"]=!0,s.default.cloneElement(e,t)}return s.default.cloneElement(e,{key:n})})}let g=function(e){let{children:t}=e,r=(0,s.useContext)(l.AmpStateContext),n=(0,s.useContext)(u.HeadManagerContext);return(0,o.jsx)(a.default,{reduceComponentsToState:m,headManager:n,inAmpMode:(0,c.isInAmpMode)(r),children:t})};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},44407:(e,t)=>{"use strict";function r(e){let{widthInt:t,heightInt:r,blurWidth:n,blurHeight:i,blurDataURL:o,objectFit:s}=e,a=n?40*n:t,l=i?40*i:r,u=a&&l?"viewBox='0 0 "+a+" "+l+"'":"",c=u?"none":"contain"===s?"xMidYMid":"cover"===s?"xMidYMid slice":"none";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+u+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+c+"' style='filter: url(%23b);' href='"+o+"'/%3E%3C/svg%3E"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImageBlurSvg",{enumerable:!0,get:function(){return r}})},35248:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{VALID_LOADERS:function(){return r},imageConfigDefault:function(){return n}});let r=["default","imgix","cloudinary","akamai","custom"],n={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"inline",remotePatterns:[],unoptimized:!1}},69029:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return l},getImageProps:function(){return a}});let n=r(91174),i=r(23078),o=r(92481),s=n._(r(86820));function a(e){let{props:t}=(0,i.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let l=o.Image},86820:(e,t)=>{"use strict";function r(e){let{config:t,src:r,width:n,quality:i}=e;return t.path+"?url="+encodeURIComponent(r)+"&w="+n+"&q="+(i||75)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}}),r.__next_img_default=!0;let n=r},94129:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{BailoutToCSRError:function(){return n},isBailoutToCSRError:function(){return i}});let r="BAILOUT_TO_CLIENT_SIDE_RENDERING";class n extends Error{constructor(e){super("Bail out to client-side rendering: "+e),this.reason=e,this.digest=r}}function i(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}},933:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return i}});let n=r(94129);function i(e){let{reason:t,children:r}=e;throw new n.BailoutToCSRError(t)}},77028:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return u}});let n=r(10326),i=r(17577),o=r(933),s=r(46618);function a(e){return{default:e&&"default"in e?e.default:e}}let l={loader:()=>Promise.resolve(a(()=>null)),loading:null,ssr:!0},u=function(e){let t={...l,...e},r=(0,i.lazy)(()=>t.loader().then(a)),u=t.loading;function c(e){let a=u?(0,n.jsx)(u,{isLoading:!0,pastDelay:!0,error:null}):null,l=t.ssr?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.PreloadCss,{moduleIds:t.modules}),(0,n.jsx)(r,{...e})]}):(0,n.jsx)(o.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(i.Suspense,{fallback:a,children:l})}return c.displayName="LoadableComponent",c}},46618:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return o}});let n=r(10326),i=r(55403);function o(e){let{moduleIds:t}=e,r=(0,i.getExpectedRequestStore)("next/dynamic css"),o=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files.filter(e=>e.endsWith(".css"));o.push(...t)}}return 0===o.length?null:(0,n.jsx)(n.Fragment,{children:o.map(e=>(0,n.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:r.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},36058:(e,t)=>{"use strict";function r(e){return e.startsWith("/")?e:"/"+e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ensureLeadingSlash",{enumerable:!0,get:function(){return r}})},33879:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ActionQueueContext:function(){return a},createMutableActionQueue:function(){return d}});let n=r(58374),i=r(57767),o=r(83860),s=n._(r(17577)),a=s.default.createContext(null);function l(e,t){null!==e.pending&&(e.pending=e.pending.next,null!==e.pending?u({actionQueue:e,action:e.pending,setState:t}):e.needsRefresh&&(e.needsRefresh=!1,e.dispatch({type:i.ACTION_REFRESH,origin:window.location.origin},t)))}async function u(e){let{actionQueue:t,action:r,setState:n}=e,o=t.state;if(!o)throw Error("Invariant: Router state not initialized");t.pending=r;let s=r.payload,a=t.action(o,s);function u(e){r.discarded||(t.state=e,t.devToolsInstance&&t.devToolsInstance.send(s,e),l(t,n),r.resolve(e))}(0,i.isThenable)(a)?a.then(u,e=>{l(t,n),r.reject(e)}):u(a)}function c(e,t,r){let n={resolve:r,reject:()=>{}};if(t.type!==i.ACTION_RESTORE){let e=new Promise((e,t)=>{n={resolve:e,reject:t}});(0,s.startTransition)(()=>{r(e)})}let o={payload:t,next:null,resolve:n.resolve,reject:n.reject};null===e.pending?(e.last=o,u({actionQueue:e,action:o,setState:r})):t.type===i.ACTION_NAVIGATE||t.type===i.ACTION_RESTORE?(e.pending.discarded=!0,e.last=o,e.pending.payload.type===i.ACTION_SERVER_ACTION&&(e.needsRefresh=!0),u({actionQueue:e,action:o,setState:r})):(null!==e.last&&(e.last.next=o),e.last=o)}function d(){let e={state:null,dispatch:(t,r)=>c(e,t,r),action:async(e,t)=>{if(null===e)throw Error("Invariant: Router state not initialized");return(0,o.reducer)(e,t)},pending:null,last:null};return e}},8974:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathPrefix",{enumerable:!0,get:function(){return i}});let n=r(93067);function i(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:o}=(0,n.parsePath)(e);return""+t+r+i+o}},72862:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{normalizeAppPath:function(){return o},normalizeRscURL:function(){return s}});let n=r(36058),i=r(68071);function o(e){return(0,n.ensureLeadingSlash)(e.split("/").reduce((e,t,r,n)=>!t||(0,i.isGroupSegment)(t)||"@"===t[0]||("page"===t||"route"===t)&&r===n.length-1?e:e+"/"+t,""))}function s(e){return e.replace(/\.rsc($|\?)/,"$1")}},43071:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{formatUrl:function(){return o},formatWithValidation:function(){return a},urlObjectKeys:function(){return s}});let n=r(58374)._(r(72149)),i=/https?|ftp|gopher|file/;function o(e){let{auth:t,hostname:r}=e,o=e.protocol||"",s=e.pathname||"",a=e.hash||"",l=e.query||"",u=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?u=t+e.host:r&&(u=t+(~r.indexOf(":")?"["+r+"]":r),e.port&&(u+=":"+e.port)),l&&"object"==typeof l&&(l=String(n.urlQueryToSearchParams(l)));let c=e.search||l&&"?"+l||"";return o&&!o.endsWith(":")&&(o+=":"),e.slashes||(!o||i.test(o))&&!1!==u?(u="//"+(u||""),s&&"/"!==s[0]&&(s="/"+s)):u||(u=""),a&&"#"!==a[0]&&(a="#"+a),c&&"?"!==c[0]&&(c="?"+c),""+o+u+(s=s.replace(/[?#]/g,encodeURIComponent))+(c=c.replace("#","%23"))+a}let s=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function a(e){return o(e)}},79976:(e,t)=>{"use strict";function r(e,t){if(void 0===t&&(t={}),t.onlyHashChange){e();return}let r=document.documentElement,n=r.style.scrollBehavior;r.style.scrollBehavior="auto",t.dontForceLayout||r.getClientRects(),e(),r.style.scrollBehavior=n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"handleSmoothScroll",{enumerable:!0,get:function(){return r}})},94903:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getSortedRoutes:function(){return n.getSortedRoutes},isDynamicRoute:function(){return i.isDynamicRoute}});let n=r(44712),i=r(45541)},81394:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"interpolateAs",{enumerable:!0,get:function(){return o}});let n=r(9966),i=r(37249);function o(e,t,r){let o="",s=(0,i.getRouteRegex)(e),a=s.groups,l=(t!==e?(0,n.getRouteMatcher)(s)(t):"")||r;o=e;let u=Object.keys(a);return u.every(e=>{let t=l[e]||"",{repeat:r,optional:n}=a[e],i="["+(r?"...":"")+e+"]";return n&&(i=(t?"":"/")+"["+i+"]"),r&&!Array.isArray(t)&&(t=[t]),(n||e in l)&&(o=o.replace(i,r?t.map(e=>encodeURIComponent(e)).join("/"):encodeURIComponent(t))||"/")})||(o=""),{params:u,result:o}}},32148:(e,t)=>{"use strict";function r(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isBot",{enumerable:!0,get:function(){return r}})},45541:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isDynamicRoute",{enumerable:!0,get:function(){return o}});let n=r(87356),i=/\/\[[^/]+?\](?=\/|$)/;function o(e){return(0,n.isInterceptionRouteAppPath)(e)&&(e=(0,n.extractInterceptionRouteInformation)(e).interceptedRoute),i.test(e)}},60944:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isLocalURL",{enumerable:!0,get:function(){return o}});let n=r(51348),i=r(37929);function o(e){if(!(0,n.isAbsoluteUrl)(e))return!0;try{let t=(0,n.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,i.hasBasePath)(r.pathname)}catch(e){return!1}}},20757:(e,t)=>{"use strict";function r(e,t){let r={};return Object.keys(e).forEach(n=>{t.includes(n)||(r[n]=e[n])}),r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"omit",{enumerable:!0,get:function(){return r}})},93067:(e,t)=>{"use strict";function r(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parsePath",{enumerable:!0,get:function(){return r}})},34655:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"pathHasPrefix",{enumerable:!0,get:function(){return i}});let n=r(93067);function i(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,n.parsePath)(e);return r===t||r.startsWith(t+"/")}},72149:(e,t)=>{"use strict";function r(e){let t={};return e.forEach((e,r)=>{void 0===t[r]?t[r]=e:Array.isArray(t[r])?t[r].push(e):t[r]=[t[r],e]}),t}function n(e){return"string"!=typeof e&&("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function i(e){let t=new URLSearchParams;return Object.entries(e).forEach(e=>{let[r,i]=e;Array.isArray(i)?i.forEach(e=>t.append(r,n(e))):t.set(r,n(i))}),t}function o(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.forEach(t=>{Array.from(t.keys()).forEach(t=>e.delete(t)),t.forEach((t,r)=>e.append(r,t))}),e}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{assign:function(){return o},searchParamsToUrlQuery:function(){return r},urlQueryToSearchParams:function(){return i}})},83236:(e,t)=>{"use strict";function r(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeTrailingSlash",{enumerable:!0,get:function(){return r}})},9966:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getRouteMatcher",{enumerable:!0,get:function(){return i}});let n=r(51348);function i(e){let{re:t,groups:r}=e;return e=>{let i=t.exec(e);if(!i)return!1;let o=e=>{try{return decodeURIComponent(e)}catch(e){throw new n.DecodeError("failed to decode param")}},s={};return Object.keys(r).forEach(e=>{let t=r[e],n=i[t.pos];void 0!==n&&(s[e]=~n.indexOf("/")?n.split("/").map(e=>o(e)):t.repeat?[o(n)]:o(n))}),s}}},37249:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getNamedMiddlewareRegex:function(){return m},getNamedRouteRegex:function(){return f},getRouteRegex:function(){return c}});let n=r(87356),i=r(2451),o=r(83236),s="nxtP",a="nxtI";function l(e){let t=e.startsWith("[")&&e.endsWith("]");t&&(e=e.slice(1,-1));let r=e.startsWith("...");return r&&(e=e.slice(3)),{key:e,repeat:r,optional:t}}function u(e){let t=(0,o.removeTrailingSlash)(e).slice(1).split("/"),r={},s=1;return{parameterizedRoute:t.map(e=>{let t=n.INTERCEPTION_ROUTE_MARKERS.find(t=>e.startsWith(t)),o=e.match(/\[((?:\[.*\])|.+)\]/);if(t&&o){let{key:e,optional:n,repeat:a}=l(o[1]);return r[e]={pos:s++,repeat:a,optional:n},"/"+(0,i.escapeStringRegexp)(t)+"([^/]+?)"}if(!o)return"/"+(0,i.escapeStringRegexp)(e);{let{key:e,repeat:t,optional:n}=l(o[1]);return r[e]={pos:s++,repeat:t,optional:n},t?n?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}}).join(""),groups:r}}function c(e){let{parameterizedRoute:t,groups:r}=u(e);return{re:RegExp("^"+t+"(?:/)?$"),groups:r}}function d(){let e=0;return()=>{let t="",r=++e;for(;r>0;)t+=String.fromCharCode(97+(r-1)%26),r=Math.floor((r-1)/26);return t}}function h(e){let{interceptionMarker:t,getSafeRouteKey:r,segment:n,routeKeys:o,keyPrefix:s}=e,{key:a,optional:u,repeat:c}=l(n),d=a.replace(/\W/g,"");s&&(d=""+s+d);let h=!1;(0===d.length||d.length>30)&&(h=!0),isNaN(parseInt(d.slice(0,1)))||(h=!0),h&&(d=r()),s?o[d]=""+s+a:o[d]=a;let p=t?(0,i.escapeStringRegexp)(t):"";return c?u?"(?:/"+p+"(?<"+d+">.+?))?":"/"+p+"(?<"+d+">.+?)":"/"+p+"(?<"+d+">[^/]+?)"}function p(e,t){let r=(0,o.removeTrailingSlash)(e).slice(1).split("/"),l=d(),u={};return{namedParameterizedRoute:r.map(e=>{let r=n.INTERCEPTION_ROUTE_MARKERS.some(t=>e.startsWith(t)),o=e.match(/\[((?:\[.*\])|.+)\]/);if(r&&o){let[r]=e.split(o[0]);return h({getSafeRouteKey:l,interceptionMarker:r,segment:o[1],routeKeys:u,keyPrefix:t?a:void 0})}return o?h({getSafeRouteKey:l,segment:o[1],routeKeys:u,keyPrefix:t?s:void 0}):"/"+(0,i.escapeStringRegexp)(e)}).join(""),routeKeys:u}}function f(e,t){let r=p(e,t);return{...c(e),namedRegex:"^"+r.namedParameterizedRoute+"(?:/)?$",routeKeys:r.routeKeys}}function m(e,t){let{parameterizedRoute:r}=u(e),{catchAll:n=!0}=t;if("/"===r)return{namedRegex:"^/"+(n?".*":"")+"$"};let{namedParameterizedRoute:i}=p(e,!1);return{namedRegex:"^"+i+(n?"(?:(/.*)?)":"")+"$"}}},44712:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSortedRoutes",{enumerable:!0,get:function(){return n}});class r{insert(e){this._insert(e.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(e){void 0===e&&(e="/");let t=[...this.children.keys()].sort();null!==this.slugName&&t.splice(t.indexOf("[]"),1),null!==this.restSlugName&&t.splice(t.indexOf("[...]"),1),null!==this.optionalRestSlugName&&t.splice(t.indexOf("[[...]]"),1);let r=t.map(t=>this.children.get(t)._smoosh(""+e+t+"/")).reduce((e,t)=>[...e,...t],[]);if(null!==this.slugName&&r.push(...this.children.get("[]")._smoosh(e+"["+this.slugName+"]/")),!this.placeholder){let t="/"===e?"/":e.slice(0,-1);if(null!=this.optionalRestSlugName)throw Error('You cannot define a route with the same specificity as a optional catch-all route ("'+t+'" and "'+t+"[[..."+this.optionalRestSlugName+']]").');r.unshift(t)}return null!==this.restSlugName&&r.push(...this.children.get("[...]")._smoosh(e+"[..."+this.restSlugName+"]/")),null!==this.optionalRestSlugName&&r.push(...this.children.get("[[...]]")._smoosh(e+"[[..."+this.optionalRestSlugName+"]]/")),r}_insert(e,t,n){if(0===e.length){this.placeholder=!1;return}if(n)throw Error("Catch-all must be the last part of the URL.");let i=e[0];if(i.startsWith("[")&&i.endsWith("]")){let r=i.slice(1,-1),s=!1;if(r.startsWith("[")&&r.endsWith("]")&&(r=r.slice(1,-1),s=!0),r.startsWith("...")&&(r=r.substring(3),n=!0),r.startsWith("[")||r.endsWith("]"))throw Error("Segment names may not start or end with extra brackets ('"+r+"').");if(r.startsWith("."))throw Error("Segment names may not start with erroneous periods ('"+r+"').");function o(e,r){if(null!==e&&e!==r)throw Error("You cannot use different slug names for the same dynamic path ('"+e+"' !== '"+r+"').");t.forEach(e=>{if(e===r)throw Error('You cannot have the same slug name "'+r+'" repeat within a single dynamic path');if(e.replace(/\W/g,"")===i.replace(/\W/g,""))throw Error('You cannot have the slug names "'+e+'" and "'+r+'" differ only by non-word symbols within a single dynamic path')}),t.push(r)}if(n){if(s){if(null!=this.restSlugName)throw Error('You cannot use both an required and optional catch-all route at the same level ("[...'+this.restSlugName+']" and "'+e[0]+'" ).');o(this.optionalRestSlugName,r),this.optionalRestSlugName=r,i="[[...]]"}else{if(null!=this.optionalRestSlugName)throw Error('You cannot use both an optional and required catch-all route at the same level ("[[...'+this.optionalRestSlugName+']]" and "'+e[0]+'").');o(this.restSlugName,r),this.restSlugName=r,i="[...]"}}else{if(s)throw Error('Optional route parameters are not yet supported ("'+e[0]+'").');o(this.slugName,r),this.slugName=r,i="[]"}}this.children.has(i)||this.children.set(i,new r),this.children.get(i)._insert(e.slice(1),t,n)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}}function n(e){let t=new r;return e.forEach(e=>t.insert(e)),t.smoosh()}},68071:(e,t)=>{"use strict";function r(e){return"("===e[0]&&e.endsWith(")")}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DEFAULT_SEGMENT_KEY:function(){return i},PAGE_SEGMENT_KEY:function(){return n},isGroupSegment:function(){return r}});let n="__PAGE__",i="__DEFAULT__"},78003:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let n=r(17577),i=!0,o=()=>{},s=()=>{};function a(e){let{headManager:t,reduceComponentsToState:r}=e;function a(){if(t&&t.mountedInstances){let i=n.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(r(i,e))}}if(i){var l;null==t||null==(l=t.mountedInstances)||l.add(e.children),a()}return o(()=>{var r;return null==t||null==(r=t.mountedInstances)||r.add(e.children),()=>{var r;null==t||null==(r=t.mountedInstances)||r.delete(e.children)}}),o(()=>(t&&(t._pendingUpdate=a),()=>{t&&(t._pendingUpdate=a)})),s(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},51348:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DecodeError:function(){return f},MiddlewareNotFoundError:function(){return v},MissingStaticPage:function(){return y},NormalizeError:function(){return m},PageNotFoundError:function(){return g},SP:function(){return h},ST:function(){return p},WEB_VITALS:function(){return r},execOnce:function(){return n},getDisplayName:function(){return l},getLocationOrigin:function(){return s},getURL:function(){return a},isAbsoluteUrl:function(){return o},isResSent:function(){return u},loadGetInitialProps:function(){return d},normalizeRepeatedSlashes:function(){return c},stringifyError:function(){return b}});let r=["CLS","FCP","FID","INP","LCP","TTFB"];function n(e){let t,r=!1;return function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return r||(r=!0,t=e(...i)),t}}let i=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,o=e=>i.test(e);function s(){let{protocol:e,hostname:t,port:r}=window.location;return e+"//"+t+(r?":"+r:"")}function a(){let{href:e}=window.location,t=s();return e.substring(t.length)}function l(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function u(e){return e.finished||e.headersSent}function c(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function d(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await d(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(r&&u(r))return n;if(!n)throw Error('"'+l(e)+'.getInitialProps()" should resolve to an object. But found "'+n+'" instead.');return n}let h="undefined"!=typeof performance,p=h&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class f extends Error{}class m extends Error{}class g extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class y extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class v extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function b(e){return JSON.stringify({message:e.message,stack:e.stack})}},576:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},1349:(e,t,r)=>{"use strict";let n=r(41289),i=[function(){},function(e,t,r,n){if(n===t.length)throw Error("Ran out of data");let i=t[n];e[r]=i,e[r+1]=i,e[r+2]=i,e[r+3]=255},function(e,t,r,n){if(n+1>=t.length)throw Error("Ran out of data");let i=t[n];e[r]=i,e[r+1]=i,e[r+2]=i,e[r+3]=t[n+1]},function(e,t,r,n){if(n+2>=t.length)throw Error("Ran out of data");e[r]=t[n],e[r+1]=t[n+1],e[r+2]=t[n+2],e[r+3]=255},function(e,t,r,n){if(n+3>=t.length)throw Error("Ran out of data");e[r]=t[n],e[r+1]=t[n+1],e[r+2]=t[n+2],e[r+3]=t[n+3]}],o=[function(){},function(e,t,r,n){let i=t[0];e[r]=i,e[r+1]=i,e[r+2]=i,e[r+3]=n},function(e,t,r){let n=t[0];e[r]=n,e[r+1]=n,e[r+2]=n,e[r+3]=t[1]},function(e,t,r,n){e[r]=t[0],e[r+1]=t[1],e[r+2]=t[2],e[r+3]=n},function(e,t,r){e[r]=t[0],e[r+1]=t[1],e[r+2]=t[2],e[r+3]=t[3]}];function s(e,t){let r=[],n=0;function i(){let i,o,s,a,l,u,c,d;if(n===e.length)throw Error("Ran out of data");let h=e[n];switch(n++,t){default:throw Error("unrecognised depth");case 16:c=e[n],n++,r.push((h<<8)+c);break;case 4:c=15&h,d=h>>4,r.push(d,c);break;case 2:l=3&h,u=h>>2&3,c=h>>4&3,d=h>>6&3,r.push(d,c,u,l);break;case 1:i=1&h,o=h>>1&1,s=h>>2&1,a=h>>3&1,l=h>>4&1,u=h>>5&1,c=h>>6&1,d=h>>7&1,r.push(d,c,u,l,a,s,o,i)}}return{get:function(e){for(;r.length<e;)i();let t=r.slice(0,e);return r=r.slice(e),t},resetAfterLine:function(){r.length=0},end:function(){if(n!==e.length)throw Error("extra data found")}}}function a(e,t,r,n,o,s){let a=e.width,l=e.height,u=e.index;for(let e=0;e<l;e++)for(let l=0;l<a;l++){let a=r(l,e,u);i[n](t,o,a,s),s+=n}return s}function l(e,t,r,n,i,s){let a=e.width,l=e.height,u=e.index;for(let e=0;e<l;e++){for(let l=0;l<a;l++){let a=i.get(n),c=r(l,e,u);o[n](t,a,c,s)}i.resetAfterLine()}}t.dataToBitMap=function(e,t){let r,i,o,u,c=t.width,d=t.height,h=t.depth,p=t.bpp,f=t.interlace;8!==h&&(r=s(e,h)),i=h<=8?Buffer.alloc(c*d*4):new Uint16Array(c*d*4);let m=Math.pow(2,h)-1,g=0;if(f)o=n.getImagePasses(c,d),u=n.getInterlaceIterator(c,d);else{let e=0;u=function(){let t=e;return e+=4,t},o=[{width:c,height:d}]}for(let t=0;t<o.length;t++)8===h?g=a(o[t],i,u,p,e,g):l(o[t],i,u,p,r,m);if(8===h){if(g!==e.length)throw Error("extra data found")}else r.end();return i}},23333:(e,t,r)=>{"use strict";let n=r(2949);e.exports=function(e,t,r,i){let o=-1!==[n.COLORTYPE_COLOR_ALPHA,n.COLORTYPE_ALPHA].indexOf(i.colorType);if(i.colorType===i.inputColorType){let t=function(){let e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256!==new Int16Array(e)[0]}();if(8===i.bitDepth||16===i.bitDepth&&t)return e}let s=16!==i.bitDepth?e:new Uint16Array(e.buffer),a=255,l=n.COLORTYPE_TO_BPP_MAP[i.inputColorType];4!==l||i.inputHasAlpha||(l=3);let u=n.COLORTYPE_TO_BPP_MAP[i.colorType];16===i.bitDepth&&(a=65535,u*=2);let c=Buffer.alloc(t*r*u),d=0,h=0,p=i.bgColor||{};function f(){let e,t,r;let l=a;switch(i.inputColorType){case n.COLORTYPE_COLOR_ALPHA:l=s[d+3],e=s[d],t=s[d+1],r=s[d+2];break;case n.COLORTYPE_COLOR:e=s[d],t=s[d+1],r=s[d+2];break;case n.COLORTYPE_ALPHA:l=s[d+1],t=e=s[d],r=e;break;case n.COLORTYPE_GRAYSCALE:t=e=s[d],r=e;break;default:throw Error("input color type:"+i.inputColorType+" is not supported at present")}return i.inputHasAlpha&&!o&&(l/=a,e=Math.min(Math.max(Math.round((1-l)*p.red+l*e),0),a),t=Math.min(Math.max(Math.round((1-l)*p.green+l*t),0),a),r=Math.min(Math.max(Math.round((1-l)*p.blue+l*r),0),a)),{red:e,green:t,blue:r,alpha:l}}void 0===p.red&&(p.red=a),void 0===p.green&&(p.green=a),void 0===p.blue&&(p.blue=a);for(let e=0;e<r;e++)for(let e=0;e<t;e++){let e=f(s,d);switch(i.colorType){case n.COLORTYPE_COLOR_ALPHA:case n.COLORTYPE_COLOR:8===i.bitDepth?(c[h]=e.red,c[h+1]=e.green,c[h+2]=e.blue,o&&(c[h+3]=e.alpha)):(c.writeUInt16BE(e.red,h),c.writeUInt16BE(e.green,h+2),c.writeUInt16BE(e.blue,h+4),o&&c.writeUInt16BE(e.alpha,h+6));break;case n.COLORTYPE_ALPHA:case n.COLORTYPE_GRAYSCALE:{let t=(e.red+e.green+e.blue)/3;8===i.bitDepth?(c[h]=t,o&&(c[h+1]=e.alpha)):(c.writeUInt16BE(t,h),o&&c.writeUInt16BE(e.alpha,h+2));break}default:throw Error("unrecognised color Type "+i.colorType)}d+=l,h+=u}return c}},32506:(e,t,r)=>{"use strict";let n=r(73837),i=r(12781),o=e.exports=function(){i.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};n.inherits(o,i),o.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t}),process.nextTick((function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}).bind(this))},o.prototype.write=function(e,t){let r;return this.writable?(Buffer.isBuffer(e)?r=e:r=Buffer.from(e,t||this._encoding),this._buffers.push(r),this._buffered+=r.length,this._process(),this._reads&&0===this._reads.length&&(this._paused=!0),this.writable&&!this._paused):(this.emit("error",Error("Stream not writable")),!1)},o.prototype.end=function(e,t){e&&this.write(e,t),this.writable=!1,this._buffers&&(0===this._buffers.length?this._end():(this._buffers.push(null),this._process()))},o.prototype.destroySoon=o.prototype.end,o.prototype._end=function(){this._reads.length>0&&this.emit("error",Error("Unexpected end of input")),this.destroy()},o.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},o.prototype._processReadAllowingLess=function(e){this._reads.shift();let t=this._buffers[0];t.length>e.length?(this._buffered-=e.length,this._buffers[0]=t.slice(e.length),e.func.call(this,t.slice(0,e.length))):(this._buffered-=t.length,this._buffers.shift(),e.func.call(this,t))},o.prototype._processRead=function(e){this._reads.shift();let t=0,r=0,n=Buffer.alloc(e.length);for(;t<e.length;){let i=this._buffers[r++],o=Math.min(i.length,e.length-t);i.copy(n,t,0,o),t+=o,o!==i.length&&(this._buffers[--r]=i.slice(o))}r>0&&this._buffers.splice(0,r),this._buffered-=e.length,e.func.call(this,n)},o.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let e=this._reads[0];if(e.allowLess)this._processReadAllowingLess(e);else if(this._buffered>=e.length)this._processRead(e);else break}this._buffers&&!this.writable&&this._end()}catch(e){this.emit("error",e)}}},2949:e=>{"use strict";e.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},2850:e=>{"use strict";let t=[];!function(){for(let e=0;e<256;e++){let r=e;for(let e=0;e<8;e++)1&r?r=3988292384^r>>>1:r>>>=1;t[e]=r}}();let r=e.exports=function(){this._crc=-1};r.prototype.write=function(e){for(let r=0;r<e.length;r++)this._crc=t[(this._crc^e[r])&255]^this._crc>>>8;return!0},r.prototype.crc32=function(){return -1^this._crc},r.crc32=function(e){let r=-1;for(let n=0;n<e.length;n++)r=t[(r^e[n])&255]^r>>>8;return -1^r}},84734:(e,t,r)=>{"use strict";let n=r(21008),i={0:function(e,t,r,n,i){for(let o=0;o<r;o++)n[i+o]=e[t+o]},1:function(e,t,r,n,i,o){for(let s=0;s<r;s++){let r=s>=o?e[t+s-o]:0,a=e[t+s]-r;n[i+s]=a}},2:function(e,t,r,n,i){for(let o=0;o<r;o++){let s=t>0?e[t+o-r]:0,a=e[t+o]-s;n[i+o]=a}},3:function(e,t,r,n,i,o){for(let s=0;s<r;s++){let a=s>=o?e[t+s-o]:0,l=t>0?e[t+s-r]:0,u=e[t+s]-(a+l>>1);n[i+s]=u}},4:function(e,t,r,i,o,s){for(let a=0;a<r;a++){let l=a>=s?e[t+a-s]:0,u=t>0?e[t+a-r]:0,c=t>0&&a>=s?e[t+a-(r+s)]:0,d=e[t+a]-n(l,u,c);i[o+a]=d}}},o={0:function(e,t,r){let n=0,i=t+r;for(let r=t;r<i;r++)n+=Math.abs(e[r]);return n},1:function(e,t,r,n){let i=0;for(let o=0;o<r;o++){let r=o>=n?e[t+o-n]:0;i+=Math.abs(e[t+o]-r)}return i},2:function(e,t,r){let n=0,i=t+r;for(let o=t;o<i;o++){let i=t>0?e[o-r]:0;n+=Math.abs(e[o]-i)}return n},3:function(e,t,r,n){let i=0;for(let o=0;o<r;o++){let s=o>=n?e[t+o-n]:0,a=t>0?e[t+o-r]:0;i+=Math.abs(e[t+o]-(s+a>>1))}return i},4:function(e,t,r,i){let o=0;for(let s=0;s<r;s++){let a=s>=i?e[t+s-i]:0,l=t>0?e[t+s-r]:0,u=t>0&&s>=i?e[t+s-(r+i)]:0;o+=Math.abs(e[t+s]-n(a,l,u))}return o}};e.exports=function(e,t,r,n,s){let a;if("filterType"in n&&-1!==n.filterType){if("number"==typeof n.filterType)a=[n.filterType];else throw Error("unrecognised filter types")}else a=[0,1,2,3,4];16===n.bitDepth&&(s*=2);let l=t*s,u=0,c=0,d=Buffer.alloc((l+1)*r),h=a[0];for(let t=0;t<r;t++){if(a.length>1){let t=1/0;for(let r=0;r<a.length;r++){let n=o[a[r]](e,c,l,s);n<t&&(h=a[r],t=n)}}d[u]=h,u++,i[h](e,c,l,d,u,s),u+=l,c+=l}return d}},69376:(e,t,r)=>{"use strict";let n=r(73837),i=r(32506),o=r(61569),s=e.exports=function(e){i.call(this);let t=[],r=this;this._filter=new o(e,{read:this.read.bind(this),write:function(e){t.push(e)},complete:function(){r.emit("complete",Buffer.concat(t))}}),this._filter.start()};n.inherits(s,i)},45309:(e,t,r)=>{"use strict";let n=r(83381),i=r(61569);t.process=function(e,t){let r=[],o=new n(e);return new i(t,{read:o.read.bind(o),write:function(e){r.push(e)},complete:function(){}}).start(),o.process(),Buffer.concat(r)}},61569:(e,t,r)=>{"use strict";let n=r(41289),i=r(21008);function o(e,t,r){let n=e*t;return 8!==r&&(n=Math.ceil(n/(8/r))),n}let s=e.exports=function(e,t){let r=e.width,i=e.height,s=e.interlace,a=e.bpp,l=e.depth;if(this.read=t.read,this.write=t.write,this.complete=t.complete,this._imageIndex=0,this._images=[],s){let e=n.getImagePasses(r,i);for(let t=0;t<e.length;t++)this._images.push({byteWidth:o(e[t].width,a,l),height:e[t].height,lineIndex:0})}else this._images.push({byteWidth:o(r,a,l),height:i,lineIndex:0});8===l?this._xComparison=a:16===l?this._xComparison=2*a:this._xComparison=1};s.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},s.prototype._unFilterType1=function(e,t,r){let n=this._xComparison,i=n-1;for(let o=0;o<r;o++){let r=e[1+o],s=o>i?t[o-n]:0;t[o]=r+s}},s.prototype._unFilterType2=function(e,t,r){let n=this._lastLine;for(let i=0;i<r;i++){let r=e[1+i],o=n?n[i]:0;t[i]=r+o}},s.prototype._unFilterType3=function(e,t,r){let n=this._xComparison,i=n-1,o=this._lastLine;for(let s=0;s<r;s++){let r=e[1+s],a=o?o[s]:0,l=Math.floor(((s>i?t[s-n]:0)+a)/2);t[s]=r+l}},s.prototype._unFilterType4=function(e,t,r){let n=this._xComparison,o=n-1,s=this._lastLine;for(let a=0;a<r;a++){let r=e[1+a],l=s?s[a]:0,u=i(a>o?t[a-n]:0,l,a>o&&s?s[a-n]:0);t[a]=r+u}},s.prototype._reverseFilterLine=function(e){let t,r=e[0],n=this._images[this._imageIndex],i=n.byteWidth;if(0===r)t=e.slice(1,i+1);else switch(t=Buffer.alloc(i),r){case 1:this._unFilterType1(e,t,i);break;case 2:this._unFilterType2(e,t,i);break;case 3:this._unFilterType3(e,t,i);break;case 4:this._unFilterType4(e,t,i);break;default:throw Error("Unrecognised filter type - "+r)}this.write(t),n.lineIndex++,n.lineIndex>=n.height?(this._lastLine=null,this._imageIndex++,n=this._images[this._imageIndex]):this._lastLine=t,n?this.read(n.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}},99794:e=>{"use strict";function t(e,t,r,n,i){let o=0;for(let s=0;s<n;s++)for(let n=0;n<r;n++){let r=i[e[o]];if(!r)throw Error("index "+e[o]+" not in palette");for(let e=0;e<4;e++)t[o+e]=r[e];o+=4}}function r(e,t,r,n,i){let o=0;for(let s=0;s<n;s++)for(let n=0;n<r;n++){let r=!1;if(1===i.length?i[0]===e[o]&&(r=!0):i[0]===e[o]&&i[1]===e[o+1]&&i[2]===e[o+2]&&(r=!0),r)for(let e=0;e<4;e++)t[o+e]=0;o+=4}}function n(e,t,r,n,i){let o=255,s=Math.pow(2,i)-1,a=0;for(let i=0;i<n;i++)for(let n=0;n<r;n++){for(let r=0;r<4;r++)t[a+r]=Math.floor(e[a+r]*o/s+.5);a+=4}}e.exports=function(e,i){let o=i.depth,s=i.width,a=i.height,l=i.colorType,u=i.transColor,c=i.palette,d=e;return 3===l?t(e,d,s,a,c):(u&&r(e,d,s,a,u),8!==o&&(16===o&&(d=Buffer.alloc(s*a*4)),n(e,d,s,a,o))),d}},41289:(e,t)=>{"use strict";let r=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];t.getImagePasses=function(e,t){let n=[],i=e%8,o=t%8,s=(e-i)/8,a=(t-o)/8;for(let e=0;e<r.length;e++){let t=r[e],l=s*t.x.length,u=a*t.y.length;for(let e=0;e<t.x.length;e++)if(t.x[e]<i)l++;else break;for(let e=0;e<t.y.length;e++)if(t.y[e]<o)u++;else break;l>0&&u>0&&n.push({width:l,height:u,index:e})}return n},t.getInterlaceIterator=function(e){return function(t,n,i){let o=t%r[i].x.length,s=(t-o)/r[i].x.length*8+r[i].x[o],a=n%r[i].y.length;return 4*s+((n-a)/r[i].y.length*8+r[i].y[a])*e*4}}},72243:(e,t,r)=>{"use strict";let n=r(73837),i=r(12781),o=r(2949),s=r(71274),a=e.exports=function(e){i.call(this);let t=e||{};this._packer=new s(t),this._deflate=this._packer.createDeflate(),this.readable=!0};n.inherits(a,i),a.prototype.pack=function(e,t,r,n){this.emit("data",Buffer.from(o.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(t,r)),n&&this.emit("data",this._packer.packGAMA(n));let i=this._packer.filterData(e,t,r);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",(function(e){this.emit("data",this._packer.packIDAT(e))}).bind(this)),this._deflate.on("end",(function(){this.emit("data",this._packer.packIEND()),this.emit("end")}).bind(this)),this._deflate.end(i)}},80100:(e,t,r)=>{"use strict";let n=!0,i=r(59796);i.deflateSync||(n=!1);let o=r(2949),s=r(71274);e.exports=function(e,t){if(!n)throw Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let r=new s(t||{}),a=[];a.push(Buffer.from(o.PNG_SIGNATURE)),a.push(r.packIHDR(e.width,e.height)),e.gamma&&a.push(r.packGAMA(e.gamma));let l=r.filterData(e.data,e.width,e.height),u=i.deflateSync(l,r.getDeflateOptions());if(l=null,!u||!u.length)throw Error("bad png - invalid compressed data response");return a.push(r.packIDAT(u)),a.push(r.packIEND()),Buffer.concat(a)}},71274:(e,t,r)=>{"use strict";let n=r(2949),i=r(2850),o=r(23333),s=r(84734),a=r(59796),l=e.exports=function(e){if(this._options=e,e.deflateChunkSize=e.deflateChunkSize||32768,e.deflateLevel=null!=e.deflateLevel?e.deflateLevel:9,e.deflateStrategy=null!=e.deflateStrategy?e.deflateStrategy:3,e.inputHasAlpha=null==e.inputHasAlpha||e.inputHasAlpha,e.deflateFactory=e.deflateFactory||a.createDeflate,e.bitDepth=e.bitDepth||8,e.colorType="number"==typeof e.colorType?e.colorType:n.COLORTYPE_COLOR_ALPHA,e.inputColorType="number"==typeof e.inputColorType?e.inputColorType:n.COLORTYPE_COLOR_ALPHA,-1===[n.COLORTYPE_GRAYSCALE,n.COLORTYPE_COLOR,n.COLORTYPE_COLOR_ALPHA,n.COLORTYPE_ALPHA].indexOf(e.colorType))throw Error("option color type:"+e.colorType+" is not supported at present");if(-1===[n.COLORTYPE_GRAYSCALE,n.COLORTYPE_COLOR,n.COLORTYPE_COLOR_ALPHA,n.COLORTYPE_ALPHA].indexOf(e.inputColorType))throw Error("option input color type:"+e.inputColorType+" is not supported at present");if(8!==e.bitDepth&&16!==e.bitDepth)throw Error("option bit depth:"+e.bitDepth+" is not supported at present")};l.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},l.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},l.prototype.filterData=function(e,t,r){let i=o(e,t,r,this._options),a=n.COLORTYPE_TO_BPP_MAP[this._options.colorType];return s(i,t,r,this._options,a)},l.prototype._packChunk=function(e,t){let r=t?t.length:0,n=Buffer.alloc(r+12);return n.writeUInt32BE(r,0),n.writeUInt32BE(e,4),t&&t.copy(n,8),n.writeInt32BE(i.crc32(n.slice(4,n.length-4)),n.length-4),n},l.prototype.packGAMA=function(e){let t=Buffer.alloc(4);return t.writeUInt32BE(Math.floor(e*n.GAMMA_DIVISION),0),this._packChunk(n.TYPE_gAMA,t)},l.prototype.packIHDR=function(e,t){let r=Buffer.alloc(13);return r.writeUInt32BE(e,0),r.writeUInt32BE(t,4),r[8]=this._options.bitDepth,r[9]=this._options.colorType,r[10]=0,r[11]=0,r[12]=0,this._packChunk(n.TYPE_IHDR,r)},l.prototype.packIDAT=function(e){return this._packChunk(n.TYPE_IDAT,e)},l.prototype.packIEND=function(){return this._packChunk(n.TYPE_IEND,null)}},21008:e=>{"use strict";e.exports=function(e,t,r){let n=e+t-r,i=Math.abs(n-e),o=Math.abs(n-t),s=Math.abs(n-r);return i<=o&&i<=s?e:o<=s?t:r}},2336:(e,t,r)=>{"use strict";let n=r(73837),i=r(59796),o=r(32506),s=r(69376),a=r(801),l=r(1349),u=r(99794),c=e.exports=function(e){o.call(this),this._parser=new a(e,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=e,this.writable=!0,this._parser.start()};n.inherits(c,o),c.prototype._handleError=function(e){this.emit("error",e),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},c.prototype._inflateData=function(e){if(!this._inflate){if(this._bitmapInfo.interlace)this._inflate=i.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let e=((this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1)*this._bitmapInfo.height,t=Math.max(e,i.Z_MIN_CHUNK);this._inflate=i.createInflate({chunkSize:t});let r=e,n=this.emit.bind(this,"error");this._inflate.on("error",function(e){r&&n(e)}),this._filter.on("complete",this._complete.bind(this));let o=this._filter.write.bind(this._filter);this._inflate.on("data",function(e){r&&(e.length>r&&(e=e.slice(0,r)),r-=e.length,o(e))}),this._inflate.on("end",this._filter.end.bind(this._filter))}}this._inflate.write(e)},c.prototype._handleMetaData=function(e){this._metaData=e,this._bitmapInfo=Object.create(e),this._filter=new s(this._bitmapInfo)},c.prototype._handleTransColor=function(e){this._bitmapInfo.transColor=e},c.prototype._handlePalette=function(e){this._bitmapInfo.palette=e},c.prototype._simpleTransparency=function(){this._metaData.alpha=!0},c.prototype._headersFinished=function(){this.emit("metadata",this._metaData)},c.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))},c.prototype._complete=function(e){let t;if(!this.errord){try{let r=l.dataToBitMap(e,this._bitmapInfo);t=u(r,this._bitmapInfo),r=null}catch(e){this._handleError(e);return}this.emit("parsed",t)}}},50369:(e,t,r)=>{"use strict";let n=!0,i=r(59796),o=r(31102);i.deflateSync||(n=!1);let s=r(83381),a=r(45309),l=r(801),u=r(1349),c=r(99794);e.exports=function(e,t){let r,d,h,p;if(!n)throw Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");function f(e){r=e}function m(e){d=e}function g(e){d.transColor=e}function y(e){d.palette=e}function v(){d.alpha=!0}function b(e){h=e}let E=[];function S(e){E.push(e)}let _=new s(e);if(new l(t,{read:_.read.bind(_),error:f,metadata:m,gamma:b,palette:y,transColor:g,inflateData:S,simpleTransparency:v}).start(),_.process(),r)throw r;let T=Buffer.concat(E);if(E.length=0,d.interlace)p=i.inflateSync(T);else{let e=((d.width*d.bpp*d.depth+7>>3)+1)*d.height;p=o(T,{chunkSize:e,maxLength:e})}if(T=null,!p||!p.length)throw Error("bad png - invalid inflate data response");let A=a.process(p,d);T=null;let C=u.dataToBitMap(A,d);A=null;let w=c(C,d);return d.data=w,d.gamma=h||0,d}},801:(e,t,r)=>{"use strict";let n=r(2949),i=r(2850),o=e.exports=function(e,t){this._options=e,e.checkCRC=!1!==e.checkCRC,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[n.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[n.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[n.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[n.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[n.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[n.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=t.read,this.error=t.error,this.metadata=t.metadata,this.gamma=t.gamma,this.transColor=t.transColor,this.palette=t.palette,this.parsed=t.parsed,this.inflateData=t.inflateData,this.finished=t.finished,this.simpleTransparency=t.simpleTransparency,this.headersFinished=t.headersFinished||function(){}};o.prototype.start=function(){this.read(n.PNG_SIGNATURE.length,this._parseSignature.bind(this))},o.prototype._parseSignature=function(e){let t=n.PNG_SIGNATURE;for(let r=0;r<t.length;r++)if(e[r]!==t[r]){this.error(Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))},o.prototype._parseChunkBegin=function(e){let t=e.readUInt32BE(0),r=e.readUInt32BE(4),o="";for(let t=4;t<8;t++)o+=String.fromCharCode(e[t]);let s=!!(32&e[4]);if(!this._hasIHDR&&r!==n.TYPE_IHDR){this.error(Error("Expected IHDR on beggining"));return}if(this._crc=new i,this._crc.write(Buffer.from(o)),this._chunks[r])return this._chunks[r](t);if(!s){this.error(Error("Unsupported critical chunk type "+o));return}this.read(t+4,this._skipChunk.bind(this))},o.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},o.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},o.prototype._parseChunkEnd=function(e){let t=e.readInt32BE(0),r=this._crc.crc32();if(this._options.checkCRC&&r!==t){this.error(Error("Crc error - "+t+" - "+r));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},o.prototype._handleIHDR=function(e){this.read(e,this._parseIHDR.bind(this))},o.prototype._parseIHDR=function(e){this._crc.write(e);let t=e.readUInt32BE(0),r=e.readUInt32BE(4),i=e[8],o=e[9],s=e[10],a=e[11],l=e[12];if(8!==i&&4!==i&&2!==i&&1!==i&&16!==i){this.error(Error("Unsupported bit depth "+i));return}if(!(o in n.COLORTYPE_TO_BPP_MAP)){this.error(Error("Unsupported color type"));return}if(0!==s){this.error(Error("Unsupported compression method"));return}if(0!==a){this.error(Error("Unsupported filter method"));return}if(0!==l&&1!==l){this.error(Error("Unsupported interlace method"));return}this._colorType=o;let u=n.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:t,height:r,depth:i,interlace:!!l,palette:!!(o&n.COLORTYPE_PALETTE),color:!!(o&n.COLORTYPE_COLOR),alpha:!!(o&n.COLORTYPE_ALPHA),bpp:u,colorType:o}),this._handleChunkEnd()},o.prototype._handlePLTE=function(e){this.read(e,this._parsePLTE.bind(this))},o.prototype._parsePLTE=function(e){this._crc.write(e);let t=Math.floor(e.length/3);for(let r=0;r<t;r++)this._palette.push([e[3*r],e[3*r+1],e[3*r+2],255]);this.palette(this._palette),this._handleChunkEnd()},o.prototype._handleTRNS=function(e){this.simpleTransparency(),this.read(e,this._parseTRNS.bind(this))},o.prototype._parseTRNS=function(e){if(this._crc.write(e),this._colorType===n.COLORTYPE_PALETTE_COLOR){if(0===this._palette.length){this.error(Error("Transparency chunk must be after palette"));return}if(e.length>this._palette.length){this.error(Error("More transparent colors than palette size"));return}for(let t=0;t<e.length;t++)this._palette[t][3]=e[t];this.palette(this._palette)}this._colorType===n.COLORTYPE_GRAYSCALE&&this.transColor([e.readUInt16BE(0)]),this._colorType===n.COLORTYPE_COLOR&&this.transColor([e.readUInt16BE(0),e.readUInt16BE(2),e.readUInt16BE(4)]),this._handleChunkEnd()},o.prototype._handleGAMA=function(e){this.read(e,this._parseGAMA.bind(this))},o.prototype._parseGAMA=function(e){this._crc.write(e),this.gamma(e.readUInt32BE(0)/n.GAMMA_DIVISION),this._handleChunkEnd()},o.prototype._handleIDAT=function(e){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-e,this._parseIDAT.bind(this,e))},o.prototype._parseIDAT=function(e,t){if(this._crc.write(t),this._colorType===n.COLORTYPE_PALETTE_COLOR&&0===this._palette.length)throw Error("Expected palette not found");this.inflateData(t);let r=e-t.length;r>0?this._handleIDAT(r):this._handleChunkEnd()},o.prototype._handleIEND=function(e){this.read(e,this._parseIEND.bind(this))},o.prototype._parseIEND=function(e){this._crc.write(e),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}},20438:(e,t,r)=>{"use strict";let n=r(50369),i=r(80100);t.read=function(e,t){return n(e,t||{})},t.write=function(e,t){return i(e,t)}},81687:(e,t,r)=>{"use strict";let n=r(73837),i=r(12781),o=r(2336),s=r(72243),a=r(20438),l=t.y=function(e){i.call(this),e=e||{},this.width=0|e.width,this.height=0|e.height,this.data=this.width>0&&this.height>0?Buffer.alloc(4*this.width*this.height):null,e.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new o(e),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",(function(e){this.data=e,this.emit("parsed",e)}).bind(this)),this._packer=new s(e),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};n.inherits(l,i),l.sync=a,l.prototype.pack=function(){return this.data&&this.data.length?process.nextTick((function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}).bind(this)):this.emit("error","No data provided"),this},l.prototype.parse=function(e,t){if(t){let e,r;e=(function(e){this.removeListener("error",r),this.data=e,t(null,this)}).bind(this),r=(function(r){this.removeListener("parsed",e),t(r,null)}).bind(this),this.once("parsed",e),this.once("error",r)}return this.end(e),this},l.prototype.write=function(e){return this._parser.write(e),!0},l.prototype.end=function(e){this._parser.end(e)},l.prototype._metadata=function(e){this.width=e.width,this.height=e.height,this.emit("metadata",e)},l.prototype._gamma=function(e){this.gamma=e},l.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},l.bitblt=function(e,t,r,n,i,o,s,a){if(n|=0,i|=0,o|=0,s|=0,a|=0,(r|=0)>e.width||n>e.height||r+i>e.width||n+o>e.height)throw Error("bitblt reading outside image");if(s>t.width||a>t.height||s+i>t.width||a+o>t.height)throw Error("bitblt writing outside image");for(let l=0;l<o;l++)e.data.copy(t.data,(a+l)*t.width+s<<2,(n+l)*e.width+r<<2,(n+l)*e.width+r+i<<2)},l.prototype.bitblt=function(e,t,r,n,i,o,s){return l.bitblt(this,e,t,r,n,i,o,s),this},l.adjustGamma=function(e){if(e.gamma){for(let t=0;t<e.height;t++)for(let r=0;r<e.width;r++){let n=e.width*t+r<<2;for(let t=0;t<3;t++){let r=e.data[n+t]/255;r=Math.pow(r,1/2.2/e.gamma),e.data[n+t]=Math.round(255*r)}}e.gamma=0}},l.prototype.adjustGamma=function(){l.adjustGamma(this)}},31102:(e,t,r)=>{"use strict";let n=r(39491).ok,i=r(59796),o=r(73837),s=r(14300).kMaxLength;function a(e){if(!(this instanceof a))return new a(e);e&&e.chunkSize<i.Z_MIN_CHUNK&&(e.chunkSize=i.Z_MIN_CHUNK),i.Inflate.call(this,e),this._offset=void 0===this._offset?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,e&&null!=e.maxLength&&(this._maxLength=e.maxLength)}function l(e){return new a(e)}function u(e,t){t&&process.nextTick(t),e._handle&&(e._handle.close(),e._handle=null)}function c(e,t){if("string"==typeof t&&(t=Buffer.from(t)),!(t instanceof Buffer))throw TypeError("Not a string or buffer");let r=e._finishFlushFlag;return null==r&&(r=i.Z_FINISH),e._processChunk(t,r)}function d(e,t){return c(new a(t),e)}a.prototype._processChunk=function(e,t,r){let o,a;if("function"==typeof r)return i.Inflate._processChunk.call(this,e,t,r);let l=this,c=e&&e.length,d=this._chunkSize-this._offset,h=this._maxLength,p=0,f=[],m=0;function g(e,t){if(l._hadError)return;let r=d-t;if(n(r>=0,"have should not go down"),r>0){let e=l._buffer.slice(l._offset,l._offset+r);if(l._offset+=r,e.length>h&&(e=e.slice(0,h)),f.push(e),m+=e.length,0==(h-=e.length))return!1}return(0===t||l._offset>=l._chunkSize)&&(d=l._chunkSize,l._offset=0,l._buffer=Buffer.allocUnsafe(l._chunkSize)),0===t&&(p+=c-e,c=e,!0)}this.on("error",function(e){o=e}),n(this._handle,"zlib binding closed");do a=(a=this._handle.writeSync(t,e,p,c,this._buffer,this._offset,d))||this._writeState;while(!this._hadError&&g(a[0],a[1]));if(this._hadError)throw o;if(m>=s)throw u(this),RangeError("Cannot create final Buffer. It would be larger than 0x"+s.toString(16)+" bytes");let y=Buffer.concat(f,m);return u(this),y},o.inherits(a,i.Inflate),e.exports=t=d,t.Inflate=a,t.createInflate=l,t.inflateSync=d},83381:e=>{"use strict";let t=e.exports=function(e){this._buffer=e,this._reads=[]};t.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t})},t.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let e=this._reads[0];if(this._buffer.length&&(this._buffer.length>=e.length||e.allowLess)){this._reads.shift();let t=this._buffer;this._buffer=t.slice(e.length),e.func.call(this,t.slice(0,e.length))}else break}return this._reads.length>0?Error("There are some read requests waitng on finished stream"):this._buffer.length>0?Error("unrecognised content at end of stream"):void 0}},92607:(e,t,r)=>{"use strict";var n=r(11101);e.exports=t=n.descriptor=n.Root.fromJSON(r(89987)).lookup(".google.protobuf");var i=n.Namespace,o=n.Root,s=n.Enum,a=n.Type,l=n.Field,u=n.MapField,c=n.OneOf,d=n.Service,h=n.Method;function p(e,r,n){var u=t.FileDescriptorProto.create({name:e.filename||(e.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});I(n,u),e instanceof o||(u.package=e.fullName.substring(1));for(var c,h=0;h<e.nestedArray.length;++h)(c=e._nestedArray[h])instanceof a?u.messageType.push(c.toDescriptor(n)):c instanceof s?u.enumType.push(c.toDescriptor()):c instanceof l?u.extension.push(c.toDescriptor(n)):c instanceof d?u.service.push(c.toDescriptor()):c instanceof i&&p(c,r,n);u.options=w(e.options,t.FileOptions),u.messageType.length+u.enumType.length+u.extension.length+u.service.length&&r.push(u)}o.fromDescriptor=function(e){"number"==typeof e.length&&(e=t.FileDescriptorSet.decode(e));var r=new o;if(e.file)for(var n,i,u,c=0;c<e.file.length;++c){i=r,(n=e.file[c]).package&&n.package.length&&(i=r.define(n.package));var h=x(n);if(n.name&&n.name.length&&r.files.push(i.filename=n.name),n.messageType)for(u=0;u<n.messageType.length;++u)i.add(a.fromDescriptor(n.messageType[u],h));if(n.enumType)for(u=0;u<n.enumType.length;++u)i.add(s.fromDescriptor(n.enumType[u],h));if(n.extension)for(u=0;u<n.extension.length;++u)i.add(l.fromDescriptor(n.extension[u],h));if(n.service)for(u=0;u<n.service.length;++u)i.add(d.fromDescriptor(n.service[u],h));var p=A(n.options,t.FileOptions);if(p){var f=Object.keys(p);for(u=0;u<f.length;++u)i.setOption(f[u],p[f[u]])}}return r.resolveAll()},o.prototype.toDescriptor=function(e){var r=t.FileDescriptorSet.create();return p(this,r.file,e),r};var f=0;a.fromDescriptor=function(e,r,n){"number"==typeof e.length&&(e=t.DescriptorProto.decode(e));var i,o=new a(e.name.length?e.name:"Type"+f++,A(e.options,t.MessageOptions));if(n||(o._edition=r),e.oneofDecl)for(i=0;i<e.oneofDecl.length;++i)o.add(c.fromDescriptor(e.oneofDecl[i]));if(e.field)for(i=0;i<e.field.length;++i){var u=l.fromDescriptor(e.field[i],r,!0);o.add(u),e.field[i].hasOwnProperty("oneofIndex")&&o.oneofsArray[e.field[i].oneofIndex].add(u)}if(e.extension)for(i=0;i<e.extension.length;++i)o.add(l.fromDescriptor(e.extension[i],r,!0));if(e.nestedType)for(i=0;i<e.nestedType.length;++i)o.add(a.fromDescriptor(e.nestedType[i],r,!0)),e.nestedType[i].options&&e.nestedType[i].options.mapEntry&&o.setOption("map_entry",!0);if(e.enumType)for(i=0;i<e.enumType.length;++i)o.add(s.fromDescriptor(e.enumType[i],r,!0));if(e.extensionRange&&e.extensionRange.length)for(i=0,o.extensions=[];i<e.extensionRange.length;++i)o.extensions.push([e.extensionRange[i].start,e.extensionRange[i].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(o.reserved=[],e.reservedRange)for(i=0;i<e.reservedRange.length;++i)o.reserved.push([e.reservedRange[i].start,e.reservedRange[i].end]);if(e.reservedName)for(i=0;i<e.reservedName.length;++i)o.reserved.push(e.reservedName[i])}return o},a.prototype.toDescriptor=function(e){var r,n,i=t.DescriptorProto.create({name:this.name});for(n=0;n<this.fieldsArray.length;++n)if(i.field.push(r=this._fieldsArray[n].toDescriptor(e)),this._fieldsArray[n]instanceof u){var o=_(this._fieldsArray[n].keyType,this._fieldsArray[n].resolvedKeyType,!1),c=_(this._fieldsArray[n].type,this._fieldsArray[n].resolvedType,!1),d=11===c||14===c?this._fieldsArray[n].resolvedType&&O(this.parent,this._fieldsArray[n].resolvedType)||this._fieldsArray[n].type:void 0;i.nestedType.push(t.DescriptorProto.create({name:r.typeName,field:[t.FieldDescriptorProto.create({name:"key",number:1,label:1,type:o}),t.FieldDescriptorProto.create({name:"value",number:2,label:1,type:c,typeName:d})],options:t.MessageOptions.create({mapEntry:!0})}))}for(n=0;n<this.oneofsArray.length;++n)i.oneofDecl.push(this._oneofsArray[n].toDescriptor());for(n=0;n<this.nestedArray.length;++n)this._nestedArray[n]instanceof l?i.field.push(this._nestedArray[n].toDescriptor(e)):this._nestedArray[n]instanceof a?i.nestedType.push(this._nestedArray[n].toDescriptor(e)):this._nestedArray[n]instanceof s&&i.enumType.push(this._nestedArray[n].toDescriptor());if(this.extensions)for(n=0;n<this.extensions.length;++n)i.extensionRange.push(t.DescriptorProto.ExtensionRange.create({start:this.extensions[n][0],end:this.extensions[n][1]}));if(this.reserved)for(n=0;n<this.reserved.length;++n)"string"==typeof this.reserved[n]?i.reservedName.push(this.reserved[n]):i.reservedRange.push(t.DescriptorProto.ReservedRange.create({start:this.reserved[n][0],end:this.reserved[n][1]}));return i.options=w(this.options,t.MessageOptions),i};var m=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;l.fromDescriptor=function(e,r,n){if("number"==typeof e.length&&(e=t.DescriptorProto.decode(e)),"number"!=typeof e.number)throw Error("missing field id");switch(i=e.typeName&&e.typeName.length?e.typeName:E(e.type),e.label){case 1:o=void 0;break;case 2:o="required";break;case 3:o="repeated";break;default:throw Error("illegal label: "+e.label)}var i,o,s=e.extendee;void 0!==e.extendee&&(s=s.length?s:void 0);var a=new l(e.name.length?e.name:"field"+e.number,e.number,i,o,s);if(n||(a._edition=r),a.options=A(e.options,t.FieldOptions),e.proto3_optional&&(a.options.proto3_optional=!0),e.defaultValue&&e.defaultValue.length){var u=e.defaultValue;switch(u){case"true":case"TRUE":u=!0;break;case"false":case"FALSE":u=!1;break;default:m.exec(u)&&(u=parseInt(u))}a.setOption("default",u)}return S(e.type)&&("proto3"===r?e.options&&!e.options.packed&&a.setOption("packed",!1):(!r||"proto2"===r)&&e.options&&e.options.packed&&a.setOption("packed",!0)),a},l.prototype.toDescriptor=function(e){var r=t.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)r.type=11,r.typeName=n.util.ucFirst(this.name),r.label=3;else{switch(r.type=_(this.type,this.resolve().resolvedType,this.delimited)){case 10:case 11:case 14:r.typeName=this.resolvedType?O(this.parent,this.resolvedType):this.type}"repeated"===this.rule?r.label=3:this.required&&"proto2"===e?r.label=2:r.label=1}if(r.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(r.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(r.options=w(this.options,t.FieldOptions),null!=this.options.default&&(r.defaultValue=String(this.options.default)),this.options.proto3_optional&&(r.proto3_optional=!0)),"proto3"===e?this.packed||((r.options||(r.options=t.FieldOptions.create())).packed=!1):(!e||"proto2"===e)&&this.packed&&((r.options||(r.options=t.FieldOptions.create())).packed=!0),r};var g=0;s.fromDescriptor=function(e,r,n){"number"==typeof e.length&&(e=t.EnumDescriptorProto.decode(e));var i={};if(e.value)for(var o=0;o<e.value.length;++o){var a=e.value[o].name,l=e.value[o].number||0;i[a&&a.length?a:"NAME"+l]=l}var u=new s(e.name&&e.name.length?e.name:"Enum"+g++,i,A(e.options,t.EnumOptions));return n||(u._edition=r),u},s.prototype.toDescriptor=function(){for(var e=[],r=0,n=Object.keys(this.values);r<n.length;++r)e.push(t.EnumValueDescriptorProto.create({name:n[r],number:this.values[n[r]]}));return t.EnumDescriptorProto.create({name:this.name,value:e,options:w(this.options,t.EnumOptions)})};var y=0;c.fromDescriptor=function(e){return"number"==typeof e.length&&(e=t.OneofDescriptorProto.decode(e)),new c(e.name&&e.name.length?e.name:"oneof"+y++)},c.prototype.toDescriptor=function(){return t.OneofDescriptorProto.create({name:this.name})};var v=0;d.fromDescriptor=function(e,r,n){"number"==typeof e.length&&(e=t.ServiceDescriptorProto.decode(e));var i=new d(e.name&&e.name.length?e.name:"Service"+v++,A(e.options,t.ServiceOptions));if(n||(i._edition=r),e.method)for(var o=0;o<e.method.length;++o)i.add(h.fromDescriptor(e.method[o]));return i},d.prototype.toDescriptor=function(){for(var e=[],r=0;r<this.methodsArray.length;++r)e.push(this._methodsArray[r].toDescriptor());return t.ServiceDescriptorProto.create({name:this.name,method:e,options:w(this.options,t.ServiceOptions)})};var b=0;function E(e){switch(e){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+e)}function S(e){switch(e){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function _(e,t,r){switch(e){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(t instanceof s)return 14;if(t instanceof a)return r?10:11;throw Error("illegal type: "+e)}function T(e,t){for(var r,n,i={},o=0;o<t.fieldsArray.length;++o)if("uninterpretedOption"!==(n=(r=t._fieldsArray[o]).name)&&Object.prototype.hasOwnProperty.call(e,n)){var l=R(n);r.resolvedType instanceof a?i[l]=T(e[n],r.resolvedType):r.resolvedType instanceof s?i[l]=r.resolvedType.valuesById[e[n]]:i[l]=e[n]}return i}function A(e,t){if(e)return T(t.toObject(e),t)}function C(e,t){for(var r={},i=Object.keys(e),o=0;o<i.length;++o){var s=i[o],l=n.util.camelCase(s);if(Object.prototype.hasOwnProperty.call(t.fields,l)){var u=t.fields[l];u.resolvedType instanceof a?r[l]=C(e[s],u.resolvedType):r[l]=e[s],u.repeated&&!Array.isArray(r[l])&&(r[l]=[r[l]])}}return r}function w(e,t){if(e)return t.fromObject(C(e,t))}function O(e,t){var r=e.fullName.split("."),n=t.fullName.split("."),s=0,a=0,l=n.length-1;if(!(e instanceof o)&&t instanceof i)for(;s<r.length&&a<l&&r[s]===n[a];){var u=t.lookup(r[s++],!0);if(null!==u&&u!==t)break;++a}else for(;s<r.length&&a<l&&r[s]===n[a];++s,++a);return n.slice(a).join(".")}function R(e){return e.substring(0,1)+e.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(e,t){return"_"+t.toLowerCase()})}function x(e){if("editions"===e.syntax){if(e.edition===t.Edition.EDITION_2023)return"2023";throw Error("Unsupported edition "+e.edition)}return"proto3"===e.syntax?"proto3":"proto2"}function I(e,r){if(e){if("proto2"===e||"proto3"===e)r.syntax=e;else if(r.syntax="editions","2023"===e)r.edition=t.Edition.EDITION_2023;else throw Error("Unsupported edition "+e)}}h.fromDescriptor=function(e){return"number"==typeof e.length&&(e=t.MethodDescriptorProto.decode(e)),new h(e.name&&e.name.length?e.name:"Method"+b++,"rpc",e.inputType,e.outputType,!!e.clientStreaming,!!e.serverStreaming,A(e.options,t.MethodOptions))},h.prototype.toDescriptor=function(){return t.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:w(this.options,t.MethodOptions)})}},11101:(e,t,r)=>{"use strict";e.exports=r(28582)},23980:e=>{"use strict";e.exports=n;var t,r=/\/|\./;function n(e,t){r.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),n[e]=t}n("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),n("duration",{Duration:t={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),n("timestamp",{Timestamp:t}),n("empty",{Empty:{fields:{}}}),n("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),n("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),n("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),n.get=function(e){return n[e]||null}},85711:(e,t,r)=>{"use strict";var n=t,i=r(71114),o=r(84615);function s(e,t,r,n){var o=!1;if(t.resolvedType){if(t.resolvedType instanceof i){e("switch(d%s){",n);for(var s=t.resolvedType.values,a=Object.keys(s),l=0;l<a.length;++l)s[a[l]]!==t.typeDefault||o||(e("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',n,n,n),t.repeated||e("break"),o=!0),e("case%j:",a[l])("case %i:",s[a[l]])("m%s=%j",n,s[a[l]])("break");e("}")}else e('if(typeof d%s!=="object")',n)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,r,n)}else{var u=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",n,n);break;case"uint64":u=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,u)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,u?"true":"");break;case"bytes":e('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length >= 0)",n)("m%s=d%s",n,n);break;case"string":e("m%s=String(d%s)",n,n);break;case"bool":e("m%s=Boolean(d%s)",n,n)}}return e}function a(e,t,r,n){if(t.resolvedType)t.resolvedType instanceof i?e("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",n,r,n,n,r,n,n):e("d%s=types[%i].toObject(m%s,o)",n,r,n);else{var o=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":o=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,o?"true":"",n);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:e("d%s=m%s",n,n)}}return e}n.fromObject=function(e){var t=e.fieldsArray,r=o.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var n=0;n<t.length;++n){var a=t[n].resolve(),l=o.safeProp(a.name);a.map?(r("if(d%s){",l)('if(typeof d%s!=="object")',l)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",l)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",l),s(r,a,n,l+"[ks[i]]")("}")("}")):a.repeated?(r("if(d%s){",l)("if(!Array.isArray(d%s))",l)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",l)("for(var i=0;i<d%s.length;++i){",l),s(r,a,n,l+"[i]")("}")("}")):(a.resolvedType instanceof i||r("if(d%s!=null){",l),s(r,a,n,l),a.resolvedType instanceof i||r("}"))}return r("return m")},n.toObject=function(e){var t=e.fieldsArray.slice().sort(o.compareFieldsById);if(!t.length)return o.codegen()("return {}");for(var r=o.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),n=[],s=[],l=[],u=0;u<t.length;++u)t[u].partOf||(t[u].resolve().repeated?n:t[u].map?s:l).push(t[u]);if(n.length){for(r("if(o.arrays||o.defaults){"),u=0;u<n.length;++u)r("d%s=[]",o.safeProp(n[u].name));r("}")}if(s.length){for(r("if(o.objects||o.defaults){"),u=0;u<s.length;++u)r("d%s={}",o.safeProp(s[u].name));r("}")}if(l.length){for(r("if(o.defaults){"),u=0;u<l.length;++u){var c=l[u],d=o.safeProp(c.name);if(c.resolvedType instanceof i)r("d%s=o.enums===String?%j:%j",d,c.resolvedType.valuesById[c.typeDefault],c.typeDefault);else if(c.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",c.typeDefault.low,c.typeDefault.high,c.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",d)("}else")("d%s=o.longs===String?%j:%i",d,c.typeDefault.toString(),c.typeDefault.toNumber());else if(c.bytes){var h="["+Array.prototype.slice.call(c.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",d,String.fromCharCode.apply(String,c.typeDefault))("else{")("d%s=%s",d,h)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",d,d)("}")}else r("d%s=%j",d,c.typeDefault)}r("}")}var p=!1;for(u=0;u<t.length;++u){var c=t[u],f=e._fieldsArray.indexOf(c),d=o.safeProp(c.name);c.map?(p||(p=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",d,d)("d%s={}",d)("for(var j=0;j<ks2.length;++j){"),a(r,c,f,d+"[ks2[j]]")("}")):c.repeated?(r("if(m%s&&m%s.length){",d,d)("d%s=[]",d)("for(var j=0;j<m%s.length;++j){",d),a(r,c,f,d+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",d,c.name),a(r,c,f,d),c.partOf&&r("if(o.oneofs)")("d%s=%j",o.safeProp(c.partOf.name),c.name)),r("}")}return r("return d")}},31526:(e,t,r)=>{"use strict";e.exports=a;var n=r(71114),i=r(76160),o=r(84615);function s(e){return"missing required '"+e.name+"'"}function a(e){for(var t=o.codegen(["r","l","e"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter(function(e){return e.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),r=0;r<e.fieldsArray.length;++r){var a=e._fieldsArray[r].resolve(),l=a.resolvedType instanceof n?"int32":a.type,u="m"+o.safeProp(a.name);t("case %i: {",a.id),a.map?(t("if(%s===util.emptyObject)",u)("%s={}",u)("var c2 = r.uint32()+r.pos"),void 0!==i.defaults[a.keyType]?t("k=%j",i.defaults[a.keyType]):t("k=null"),void 0!==i.defaults[l]?t("value=%j",i.defaults[l]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",a.keyType)("case 2:"),void 0===i.basic[l]?t("value=types[%i].decode(r,r.uint32())",r):t("value=r.%s()",l),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),t(void 0!==i.long[a.keyType]?'%s[typeof k==="object"?util.longToHash(k):k]=value':"%s[k]=value",u)):a.repeated?(t("if(!(%s&&%s.length))",u,u)("%s=[]",u),void 0!==i.packed[l]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",u,l)("}else"),void 0===i.basic[l]?t(a.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",u,r):t("%s.push(r.%s())",u,l)):void 0===i.basic[l]?t(a.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",u,r):t("%s=r.%s()",u,l),t("break")("}")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<e._fieldsArray.length;++r){var c=e._fieldsArray[r];c.required&&t("if(!m.hasOwnProperty(%j))",c.name)("throw util.ProtocolError(%j,{instance:m})",s(c))}return t("return m")}},38455:(e,t,r)=>{"use strict";e.exports=a;var n=r(71114),i=r(76160),o=r(84615);function s(e,t,r,n){return t.delimited?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,n,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,n,(t.id<<3|2)>>>0)}function a(e){for(var t,r,a=o.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),l=e.fieldsArray.slice().sort(o.compareFieldsById),t=0;t<l.length;++t){var u=l[t].resolve(),c=e._fieldsArray.indexOf(u),d=u.resolvedType instanceof n?"int32":u.type,h=i.basic[d];r="m"+o.safeProp(u.name),u.map?(a("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",r,u.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",r)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(u.id<<3|2)>>>0,8|i.mapKey[u.keyType],u.keyType),void 0===h?a("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",c,r):a(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|h,d,r),a("}")("}")):u.repeated?(a("if(%s!=null&&%s.length){",r,r),u.packed&&void 0!==i.packed[d]?a("w.uint32(%i).fork()",(u.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",r)("w.%s(%s[i])",d,r)("w.ldelim()"):(a("for(var i=0;i<%s.length;++i)",r),void 0===h?s(a,u,c,r+"[i]"):a("w.uint32(%i).%s(%s[i])",(u.id<<3|h)>>>0,d,r)),a("}")):(u.optional&&a("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",r,u.name),void 0===h?s(a,u,c,r):a("w.uint32(%i).%s(%s)",(u.id<<3|h)>>>0,d,r))}return a("return w")}},71114:(e,t,r)=>{"use strict";e.exports=s;var n=r(3514);((s.prototype=Object.create(n.prototype)).constructor=s).className="Enum";var i=r(4943),o=r(84615);function s(e,t,r,i,o,s){if(n.call(this,e,r),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=o||{},this.valuesOptions=s,this._valuesFeatures={},this.reserved=void 0,t)for(var a=Object.keys(t),l=0;l<a.length;++l)"number"==typeof t[a[l]]&&(this.valuesById[this.values[a[l]]=t[a[l]]]=a[l])}s.prototype._resolveFeatures=function(e){return e=this._edition||e,n.prototype._resolveFeatures.call(this,e),Object.keys(this.values).forEach(e=>{var t=Object.assign({},this._features);this._valuesFeatures[e]=Object.assign(t,this.valuesOptions&&this.valuesOptions[e]&&this.valuesOptions[e].features)}),this},s.fromJSON=function(e,t){var r=new s(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,t.edition&&(r._edition=t.edition),r._defaultEdition="proto3",r},s.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return o.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},s.prototype.add=function(e,t,r,n){if(!o.isString(e))throw TypeError("name must be a string");if(!o.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return n&&(void 0===this.valuesOptions&&(this.valuesOptions={}),this.valuesOptions[e]=n||null),this.comments[e]=r||null,this},s.prototype.remove=function(e){if(!o.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this},s.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},s.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)}},37510:(e,t,r)=>{"use strict";e.exports=u;var n,i=r(3514);((u.prototype=Object.create(i.prototype)).constructor=u).className="Field";var o=r(71114),s=r(76160),a=r(84615),l=/^required|optional|repeated$/;function u(e,t,r,n,o,u,c){if(a.isObject(n)?(c=o,u=n,n=o=void 0):a.isObject(o)&&(c=u,u=o,o=void 0),i.call(this,e,u),!a.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!a.isString(r))throw TypeError("type must be a string");if(void 0!==n&&!l.test(n=n.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==o&&!a.isString(o))throw TypeError("extend must be a string");"proto3_optional"===n&&(n="optional"),this.rule=n&&"optional"!==n?n:void 0,this.type=r,this.id=t,this.extend=o||void 0,this.repeated="repeated"===n,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!a.Long&&void 0!==s.long[r],this.bytes="bytes"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=c}u.fromJSON=function(e,t){var r=new u(e,t.id,t.type,t.rule,t.extend,t.options,t.comment);return t.edition&&(r._edition=t.edition),r._defaultEdition="proto3",r},Object.defineProperty(u.prototype,"required",{get:function(){return"LEGACY_REQUIRED"===this._features.field_presence}}),Object.defineProperty(u.prototype,"optional",{get:function(){return!this.required}}),Object.defineProperty(u.prototype,"delimited",{get:function(){return this.resolvedType instanceof n&&"DELIMITED"===this._features.message_encoding}}),Object.defineProperty(u.prototype,"packed",{get:function(){return"PACKED"===this._features.repeated_field_encoding}}),Object.defineProperty(u.prototype,"hasPresence",{get:function(){return!this.repeated&&!this.map&&(this.partOf||this.declaringField||this.extensionField||"IMPLICIT"!==this._features.field_presence)}}),u.prototype.setOption=function(e,t,r){return i.prototype.setOption.call(this,e,t,r)},u.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return a.toObject(["edition",this._editionToJSON(),"rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},u.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=s.defaults[this.type])?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof n?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof o&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof o||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=a.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;a.base64.test(this.typeDefault)?a.base64.decode(this.typeDefault,e=a.newBuffer(a.base64.length(this.typeDefault)),0):a.utf8.write(this.typeDefault,e=a.newBuffer(a.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=a.emptyObject:this.repeated?this.defaultValue=a.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof n&&(this.parent.ctor.prototype[this.name]=this.defaultValue),i.prototype.resolve.call(this)},u.prototype._inferLegacyProtoFeatures=function(e){if("proto2"!==e&&"proto3"!==e)return{};var t={};if("required"===this.rule&&(t.field_presence="LEGACY_REQUIRED"),this.parent&&void 0===s.defaults[this.type]){var r=this.parent.get(this.type.split(".").pop());r&&r instanceof n&&r.group&&(t.message_encoding="DELIMITED")}return!0===this.getOption("packed")?t.repeated_field_encoding="PACKED":!1===this.getOption("packed")&&(t.repeated_field_encoding="EXPANDED"),t},u.prototype._resolveFeatures=function(e){return i.prototype._resolveFeatures.call(this,this._edition||e)},u.d=function(e,t,r,n){return"function"==typeof t?t=a.decorateType(t).name:t&&"object"==typeof t&&(t=a.decorateEnum(t).name),function(i,o){a.decorateType(i.constructor).add(new u(o,e,t,r,{default:n}))}},u._configure=function(e){n=e}},34630:(e,t,r)=>{"use strict";var n=e.exports=r(38690);function i(e,t,r){return"function"==typeof t?(r=t,t=new n.Root):t||(t=new n.Root),t.load(e,r)}function o(e,t){return t||(t=new n.Root),t.loadSync(e)}n.build="light",n.load=i,n.loadSync=o,n.encoder=r(38455),n.decoder=r(31526),n.verifier=r(91506),n.converter=r(85711),n.ReflectionObject=r(3514),n.Namespace=r(4943),n.Root=r(54343),n.Enum=r(71114),n.Type=r(3839),n.Field=r(37510),n.OneOf=r(92695),n.MapField=r(79538),n.Service=r(31631),n.Method=r(26539),n.Message=r(92936),n.wrappers=r(39579),n.types=r(76160),n.util=r(84615),n.ReflectionObject._configure(n.Root),n.Namespace._configure(n.Type,n.Service,n.Enum),n.Root._configure(n.Type),n.Field._configure(n.Type)},38690:(e,t,r)=>{"use strict";var n=t;function i(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(98458),n.BufferWriter=r(68386),n.Reader=r(42279),n.BufferReader=r(80424),n.util=r(90745),n.rpc=r(84774),n.roots=r(59694),n.configure=i,i()},28582:(e,t,r)=>{"use strict";var n=e.exports=r(34630);n.build="full",n.tokenize=r(99867),n.parse=r(16614),n.common=r(23980),n.Root._configure(n.Type,n.parse,n.common)},79538:(e,t,r)=>{"use strict";e.exports=s;var n=r(37510);((s.prototype=Object.create(n.prototype)).constructor=s).className="MapField";var i=r(76160),o=r(84615);function s(e,t,r,i,s,a){if(n.call(this,e,t,i,void 0,void 0,s,a),!o.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}s.fromJSON=function(e,t){return new s(e,t.id,t.keyType,t.type,t.options,t.comment)},s.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return o.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},s.prototype.resolve=function(){if(this.resolved)return this;if(void 0===i.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return n.prototype.resolve.call(this)},s.d=function(e,t,r){return"function"==typeof r?r=o.decorateType(r).name:r&&"object"==typeof r&&(r=o.decorateEnum(r).name),function(n,i){o.decorateType(n.constructor).add(new s(i,e,t,r))}}},92936:(e,t,r)=>{"use strict";e.exports=i;var n=r(90745);function i(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)this[t[r]]=e[t[r]]}i.create=function(e){return this.$type.create(e)},i.encode=function(e,t){return this.$type.encode(e,t)},i.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},i.decode=function(e){return this.$type.decode(e)},i.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},i.verify=function(e){return this.$type.verify(e)},i.fromObject=function(e){return this.$type.fromObject(e)},i.toObject=function(e,t){return this.$type.toObject(e,t)},i.prototype.toJSON=function(){return this.$type.toObject(this,n.toJSONOptions)}},26539:(e,t,r)=>{"use strict";e.exports=o;var n=r(3514);((o.prototype=Object.create(n.prototype)).constructor=o).className="Method";var i=r(84615);function o(e,t,r,o,s,a,l,u,c){if(i.isObject(s)?(l=s,s=a=void 0):i.isObject(a)&&(l=a,a=void 0),!(void 0===t||i.isString(t)))throw TypeError("type must be a string");if(!i.isString(r))throw TypeError("requestType must be a string");if(!i.isString(o))throw TypeError("responseType must be a string");n.call(this,e,l),this.type=t||"rpc",this.requestType=r,this.requestStream=!!s||void 0,this.responseType=o,this.responseStream=!!a||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=u,this.parsedOptions=c}o.fromJSON=function(e,t){return new o(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},o.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return i.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},o.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),n.prototype.resolve.call(this))}},4943:(e,t,r)=>{"use strict";e.exports=d;var n,i,o,s=r(3514);((d.prototype=Object.create(s.prototype)).constructor=d).className="Namespace";var a=r(37510),l=r(84615),u=r(92695);function c(e,t){if(e&&e.length){for(var r={},n=0;n<e.length;++n)r[e[n].name]=e[n].toJSON(t);return r}}function d(e,t){s.call(this,e,t),this.nested=void 0,this._nestedArray=null,this._lookupCache={},this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0}function h(e){e._nestedArray=null,e._lookupCache={};for(var t=e;t=t.parent;)t._lookupCache={};return e}d.fromJSON=function(e,t){return new d(e,t.options).addJSON(t.nested)},d.arrayToJSON=c,d.isReservedId=function(e,t){if(e){for(var r=0;r<e.length;++r)if("string"!=typeof e[r]&&e[r][0]<=t&&e[r][1]>t)return!0}return!1},d.isReservedName=function(e,t){if(e){for(var r=0;r<e.length;++r)if(e[r]===t)return!0}return!1},Object.defineProperty(d.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=l.toArray(this.nested))}}),d.prototype.toJSON=function(e){return l.toObject(["options",this.options,"nested",c(this.nestedArray,e)])},d.prototype.addJSON=function(e){var t=this;if(e)for(var r,s=Object.keys(e),l=0;l<s.length;++l)r=e[s[l]],t.add((void 0!==r.fields?n.fromJSON:void 0!==r.values?o.fromJSON:void 0!==r.methods?i.fromJSON:void 0!==r.id?a.fromJSON:d.fromJSON)(s[l],r));return this},d.prototype.get=function(e){return this.nested&&this.nested[e]||null},d.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof o)return this.nested[e].values;throw Error("no such enum: "+e)},d.prototype.add=function(e){if(!(e instanceof a&&void 0!==e.extend||e instanceof n||e instanceof u||e instanceof o||e instanceof i||e instanceof d))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(t instanceof d&&e instanceof d&&!(t instanceof n||t instanceof i)){for(var r=t.nestedArray,s=0;s<r.length;++s)e.add(r[s]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}else throw Error("duplicate name '"+e.name+"' in "+this)}}else this.nested={};this.nested[e.name]=e,this instanceof n||this instanceof i||this instanceof o||this instanceof a||e._edition||(e._edition=e._defaultEdition),this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0;for(var l=this;l=l.parent;)l._needsRecursiveFeatureResolution=!0,l._needsRecursiveResolve=!0;return e.onAdd(this),h(this)},d.prototype.remove=function(e){if(!(e instanceof s))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),h(this)},d.prototype.define=function(e,t){if(l.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var r=this;e.length>0;){var n=e.shift();if(r.nested&&r.nested[n]){if(!((r=r.nested[n])instanceof d))throw Error("path conflicts with non-namespace objects")}else r.add(r=new d(n))}return t&&r.addJSON(t),r},d.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var e=this.nestedArray,t=0;for(this.resolve();t<e.length;)e[t]instanceof d?e[t++].resolveAll():e[t++].resolve();return this._needsRecursiveResolve=!1,this},d.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution&&(this._needsRecursiveFeatureResolution=!1,e=this._edition||e,s.prototype._resolveFeaturesRecursive.call(this,e),this.nestedArray.forEach(t=>{t._resolveFeaturesRecursive(e)})),this},d.prototype.lookup=function(e,t,r){if("boolean"==typeof t?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),l.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;var n=e.join(".");if(""===e[0])return this.root.lookup(e.slice(1),t);var i=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+n];if(i&&(!t||t.indexOf(i.constructor)>-1)||(i=this._lookupImpl(e,n))&&(!t||t.indexOf(i.constructor)>-1))return i;if(r)return null;for(var o=this;o.parent;){if((i=o.parent._lookupImpl(e,n))&&(!t||t.indexOf(i.constructor)>-1))return i;o=o.parent}return null},d.prototype._lookupImpl=function(e,t){if(Object.prototype.hasOwnProperty.call(this._lookupCache,t))return this._lookupCache[t];var r=this.get(e[0]),n=null;if(r)1===e.length?n=r:r instanceof d&&(e=e.slice(1),n=r._lookupImpl(e,e.join(".")));else for(var i=0;i<this.nestedArray.length;++i)this._nestedArray[i]instanceof d&&(r=this._nestedArray[i]._lookupImpl(e,t))&&(n=r);return this._lookupCache[t]=n,n},d.prototype.lookupType=function(e){var t=this.lookup(e,[n]);if(!t)throw Error("no such type: "+e);return t},d.prototype.lookupEnum=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},d.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[n,o]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},d.prototype.lookupService=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},d._configure=function(e,t,r){n=e,i=t,o=r}},3514:(e,t,r)=>{"use strict";e.exports=u,u.className="ReflectionObject";let n=r(92695);var i,o=r(84615),s={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"},a={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"},l={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function u(e,t){if(!o.isString(e))throw TypeError("name must be a string");if(t&&!o.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this._edition=null,this._defaultEdition="proto2",this._features={},this._featuresResolved=!1,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(u.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),u.prototype.toJSON=function(){throw Error()},u.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof i&&t._handleAdd(this)},u.prototype.onRemove=function(e){var t=e.root;t instanceof i&&t._handleRemove(this),this.parent=null,this.resolved=!1},u.prototype.resolve=function(){return this.resolved||this.root instanceof i&&(this.resolved=!0),this},u.prototype._resolveFeaturesRecursive=function(e){return this._resolveFeatures(this._edition||e)},u.prototype._resolveFeatures=function(e){if(!this._featuresResolved){var t={};if(!e)throw Error("Unknown edition for "+this.fullName);var r=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(e));if(this._edition){if("proto2"===e)t=Object.assign({},a);else if("proto3"===e)t=Object.assign({},l);else if("2023"===e)t=Object.assign({},s);else throw Error("Unknown edition: "+e);this._features=Object.assign(t,r||{}),this._featuresResolved=!0;return}if(this.partOf instanceof n){var i=Object.assign({},this.partOf._features);this._features=Object.assign(i,r||{})}else if(this.declaringField);else if(this.parent){var o=Object.assign({},this.parent._features);this._features=Object.assign(o,r||{})}else throw Error("Unable to find a parent for "+this.fullName);this.extensionField&&(this.extensionField._features=this._features),this._featuresResolved=!0}},u.prototype._inferLegacyProtoFeatures=function(){return{}},u.prototype.getOption=function(e){if(this.options)return this.options[e]},u.prototype.setOption=function(e,t,r){return this.options||(this.options={}),/^features\./.test(e)?o.setProperty(this.options,e,t,r):r&&void 0!==this.options[e]||(this.getOption(e)!==t&&(this.resolved=!1),this.options[e]=t),this},u.prototype.setParsedOption=function(e,t,r){this.parsedOptions||(this.parsedOptions=[]);var n=this.parsedOptions;if(r){var i=n.find(function(t){return Object.prototype.hasOwnProperty.call(t,e)});if(i){var s=i[e];o.setProperty(s,r,t)}else(i={})[e]=o.setProperty({},r,t),n.push(i)}else{var a={};a[e]=t,n.push(a)}return this},u.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)this.setOption(r[n],e[r[n]],t);return this},u.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},u.prototype._editionToJSON=function(){if(this._edition&&"proto3"!==this._edition)return this._edition},u._configure=function(e){i=e}},92695:(e,t,r)=>{"use strict";e.exports=s;var n=r(3514);((s.prototype=Object.create(n.prototype)).constructor=s).className="OneOf";var i=r(37510),o=r(84615);function s(e,t,r,i){if(Array.isArray(t)||(r=t,t=void 0),n.call(this,e,r),!(void 0===t||Array.isArray(t)))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=i}function a(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}s.fromJSON=function(e,t){return new s(e,t.oneof,t.options,t.comment)},s.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return o.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},s.prototype.add=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,a(this),this},s.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},s.prototype.onAdd=function(e){n.prototype.onAdd.call(this,e);for(var t=this,r=0;r<this.oneof.length;++r){var i=e.get(this.oneof[r]);i&&!i.partOf&&(i.partOf=t,t.fieldsArray.push(i))}a(this)},s.prototype.onRemove=function(e){for(var t,r=0;r<this.fieldsArray.length;++r)(t=this.fieldsArray[r]).parent&&t.parent.remove(t);n.prototype.onRemove.call(this,e)},Object.defineProperty(s.prototype,"isProto3Optional",{get:function(){if(null==this.fieldsArray||1!==this.fieldsArray.length)return!1;var e=this.fieldsArray[0];return null!=e.options&&!0===e.options.proto3_optional}}),s.d=function(){for(var e=Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,r){o.decorateType(t.constructor).add(new s(r,e)),Object.defineProperty(t,r,{get:o.oneOfGetter(e),set:o.oneOfSetter(e)})}}},16614:(e,t,r)=>{"use strict";e.exports=A,A.filename=null,A.defaults={keepCase:!1};var n=r(99867),i=r(54343),o=r(3839),s=r(37510),a=r(79538),l=r(92695),u=r(71114),c=r(31631),d=r(26539),h=r(3514),p=r(76160),f=r(84615),m=/^[1-9][0-9]*$/,g=/^-?[1-9][0-9]*$/,y=/^0[x][0-9a-fA-F]+$/,v=/^-?0[x][0-9a-fA-F]+$/,b=/^0[0-7]+$/,E=/^-?0[0-7]+$/,S=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,_=/^[a-zA-Z_][a-zA-Z_0-9]*$/,T=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function A(e,t,r){t instanceof i||(r=t,t=new i),r||(r=A.defaults);var C,w,O,R,x=r.preferTrailingComment||!1,I=n(e,r.alternateCommentMode||!1),D=I.next,P=I.push,N=I.peek,k=I.skip,M=I.cmnt,L=!0,B="proto2",j=t,F=[],U={},V=r.keepCase?function(e){return e}:f.camelCase;function z(){F.forEach(e=>{e._edition=B,Object.keys(U).forEach(t=>{void 0===e.getOption(t)&&e.setOption(t,U[t],!0)})})}function G(e,t,r){var n=A.filename;return r||(A.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(n?n+", ":"")+"line "+I.line+")")}function $(){var e,t=[];do{if('"'!==(e=D())&&"'"!==e)throw G(e);t.push(D()),k(e),e=N()}while('"'===e||"'"===e);return t.join("")}function H(e){var t=D();switch(t){case"'":case'"':return P(t),$();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return W(t,!0)}catch(r){if(e&&T.test(t))return t;throw G(t,"value")}}function q(e,t){do if(t&&('"'===(r=N())||"'"===r)){var r,n,i=$();if(e.push(i),B>=2023)throw G(i,"id")}else try{e.push([n=K(D()),k("to",!0)?K(D()):n])}catch(n){if(t&&T.test(r)&&B>=2023)e.push(r);else throw n}while(k(",",!0));var o={options:void 0};o.setOption=function(e,t){void 0===this.options&&(this.options={}),this.options[e]=t},ee(o,function(e){if("option"===e)el(o,e),k(";");else throw G(e)},function(){eh(o)})}function W(e,t){var r=1;switch("-"===e.charAt(0)&&(r=-1,e=e.substring(1)),e){case"inf":case"INF":case"Inf":return 1/0*r;case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(m.test(e))return r*parseInt(e,10);if(y.test(e))return r*parseInt(e,16);if(b.test(e))return r*parseInt(e,8);if(S.test(e))return r*parseFloat(e);throw G(e,"number",t)}function K(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw G(e,"id");if(g.test(e))return parseInt(e,10);if(v.test(e))return parseInt(e,16);if(E.test(e))return parseInt(e,8);throw G(e,"id")}function Y(){if(void 0!==w)throw G("package");if(w=D(),!T.test(w))throw G(w,"name");j=j.define(w),k(";")}function Z(){var e,t=N();switch(t){case"weak":e=R||(R=[]),D();break;case"public":D();default:e=O||(O=[])}t=$(),k(";"),e.push(t)}function J(){if(k("="),(B=$())<2023)throw G(B,"syntax");k(";")}function Q(){if(k("="),!["2023"].includes(B=$()))throw G(B,"edition");k(";")}function X(e,t){switch(t){case"option":return el(e,t),k(";"),!0;case"message":return et(e,t),!0;case"enum":return es(e,t),!0;case"service":return ep(e,t),!0;case"extend":return em(e,t),!0}return!1}function ee(e,t,r){var n,i=I.line;if(e&&("string"!=typeof e.comment&&(e.comment=M()),e.filename=A.filename),k("{",!0)){for(;"}"!==(n=D());)t(n);k(";",!0)}else r&&r(),k(";"),e&&("string"!=typeof e.comment||x)&&(e.comment=M(i)||e.comment)}function et(e,t){if(!_.test(t=D()))throw G(t,"type name");var r=new o(t);ee(r,function(e){if(!X(r,e))switch(e){case"map":ei(r,e);break;case"required":if("proto2"!==B)throw G(e);case"repeated":er(r,e);break;case"optional":if("proto3"===B)er(r,"proto3_optional");else if("proto2"!==B)throw G(e);else er(r,"optional");break;case"oneof":eo(r,e);break;case"extensions":q(r.extensions||(r.extensions=[]));break;case"reserved":q(r.reserved||(r.reserved=[]),!0);break;default:if("proto2"===B||!T.test(e))throw G(e);P(e),er(r,"optional")}}),e.add(r),e===j&&F.push(r)}function er(e,t,r){var n=D();if("group"===n){en(e,t);return}for(;n.endsWith(".")||N().startsWith(".");)n+=D();if(!T.test(n))throw G(n,"type");var i=D();if(!_.test(i))throw G(i,"name");i=V(i),k("=");var o=new s(i,K(D()),n,t,r);if(ee(o,function(e){if("option"===e)el(o,e),k(";");else throw G(e)},function(){eh(o)}),"proto3_optional"===t){var a=new l("_"+i);o.setOption("proto3_optional",!0),a.add(o),e.add(a)}else e.add(o);e===j&&F.push(o)}function en(e,t){if(B>=2023)throw G("group");var r=D();if(!_.test(r))throw G(r,"name");var n=f.lcFirst(r);r===n&&(r=f.ucFirst(r)),k("=");var i=K(D()),a=new o(r);a.group=!0;var l=new s(n,i,r,t);l.filename=A.filename,ee(a,function(e){switch(e){case"option":el(a,e),k(";");break;case"required":case"repeated":er(a,e);break;case"optional":"proto3"===B?er(a,"proto3_optional"):er(a,"optional");break;case"message":et(a,e);break;case"enum":es(a,e);break;case"reserved":q(a.reserved||(a.reserved=[]),!0);break;default:throw G(e)}}),e.add(a).add(l)}function ei(e){k("<");var t=D();if(void 0===p.mapKey[t])throw G(t,"type");k(",");var r=D();if(!T.test(r))throw G(r,"type");k(">");var n=D();if(!_.test(n))throw G(n,"name");k("=");var i=new a(V(n),K(D()),t,r);ee(i,function(e){if("option"===e)el(i,e),k(";");else throw G(e)},function(){eh(i)}),e.add(i)}function eo(e,t){if(!_.test(t=D()))throw G(t,"name");var r=new l(V(t));ee(r,function(e){"option"===e?(el(r,e),k(";")):(P(e),er(r,"optional"))}),e.add(r)}function es(e,t){if(!_.test(t=D()))throw G(t,"name");var r=new u(t);ee(r,function(e){switch(e){case"option":el(r,e),k(";");break;case"reserved":q(r.reserved||(r.reserved=[]),!0),void 0===r.reserved&&(r.reserved=[]);break;default:ea(r,e)}}),e.add(r),e===j&&F.push(r)}function ea(e,t){if(!_.test(t))throw G(t,"name");k("=");var r=K(D(),!0),n={options:void 0};n.getOption=function(e){return this.options[e]},n.setOption=function(e,t){h.prototype.setOption.call(n,e,t)},n.setParsedOption=function(){},ee(n,function(e){if("option"===e)el(n,e),k(";");else throw G(e)},function(){eh(n)}),e.add(t,r,n.comment,n.parsedOptions||n.options)}function el(e,t){var r,n,i=!0;for("option"===t&&(t=D());"="!==t;){if("("===t){var o=D();k(")"),t="("+o+")"}if(i){if(i=!1,t.includes(".")&&!t.includes("(")){var s=t.split(".");r=s[0]+".",t=s[1];continue}r=t}else n=n?n+=t:t;t=D()}var a=eu(e,n?r.concat(n):r);n=n&&"."===n[0]?n.slice(1):n,ed(e,r=r&&"."===r[r.length-1]?r.slice(0,-1):r,a,n)}function eu(e,t){if(k("{",!0)){for(var r={};!k("}",!0);){if(!_.test(C=D()))throw G(C,"name");if(null===C)throw G(C,"end of input");var n,i,o=C;if(k(":",!0),"{"===N())n=eu(e,t+"."+C);else if("["===N()){if(n=[],k("[",!0)){do i=H(!0),n.push(i);while(k(",",!0));k("]"),void 0!==i&&ec(e,t+"."+C,i)}}else n=H(!0),ec(e,t+"."+C,n);var s=r[o];s&&(n=[].concat(s).concat(n)),r[o]=n,k(",",!0),k(";",!0)}return r}var a=H(!0);return ec(e,t,a),a}function ec(e,t,r){if(j===e&&/^features\./.test(t)){U[t]=r;return}e.setOption&&e.setOption(t,r)}function ed(e,t,r,n){e.setParsedOption&&e.setParsedOption(t,r,n)}function eh(e){if(k("[",!0)){do el(e,"option");while(k(",",!0));k("]")}return e}function ep(e,t){if(!_.test(t=D()))throw G(t,"service name");var r=new c(t);ee(r,function(e){if(!X(r,e)){if("rpc"===e)ef(r,e);else throw G(e)}}),e.add(r),e===j&&F.push(r)}function ef(e,t){var r=M(),n=t;if(!_.test(t=D()))throw G(t,"name");var i,o,s,a,l=t;if(k("("),k("stream",!0)&&(o=!0),!T.test(t=D())||(i=t,k(")"),k("returns"),k("("),k("stream",!0)&&(a=!0),!T.test(t=D())))throw G(t);s=t,k(")");var u=new d(l,n,i,s,o,a);u.comment=r,ee(u,function(e){if("option"===e)el(u,e),k(";");else throw G(e)}),e.add(u)}function em(e,t){if(!T.test(t=D()))throw G(t,"reference");var r=t;ee(null,function(t){switch(t){case"required":case"repeated":er(e,t,r);break;case"optional":"proto3"===B?er(e,"proto3_optional",r):er(e,"optional",r);break;default:if("proto2"===B||!T.test(t))throw G(t);P(t),er(e,"optional",r)}})}for(;null!==(C=D());)switch(C){case"package":if(!L)throw G(C);Y();break;case"import":if(!L)throw G(C);Z();break;case"syntax":if(!L)throw G(C);J();break;case"edition":if(!L)throw G(C);Q();break;case"option":el(j,C),k(";",!0);break;default:if(X(j,C)){L=!1;continue}throw G(C)}return z(),A.filename=null,{package:w,imports:O,weakImports:R,root:t}}},42279:(e,t,r)=>{"use strict";e.exports=l;var n,i=r(90745),o=i.LongBits,s=i.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function l(e){this.buf=e,this.pos=0,this.len=e.length}var u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new l(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new l(e);throw Error("illegal buffer")},c=function(){return i.Buffer?function(e){return(l.create=function(e){return i.Buffer.isBuffer(e)?new n(e):u(e)})(e)}:u};function d(){var e=new o(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw a(this,8);return new o(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}l.create=c(),l.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,l.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return e}}(),l.prototype.int32=function(){return 0|this.uint32()},l.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},l.prototype.bool=function(){return 0!==this.uint32()},l.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return h(this.buf,this.pos+=4)},l.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|h(this.buf,this.pos+=4)},l.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},l.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},l.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,r);if(t===r){var n=i.Buffer;return n?n.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,r)},l.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},l.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do if(this.pos>=this.len)throw a(this);while(128&this.buf[this.pos++]);return this},l.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},l._configure=function(e){n=e,l.create=c(),n._configure();var t=i.Long?"toLong":"toNumber";i.merge(l.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return p.call(this)[t](!0)},sfixed64:function(){return p.call(this)[t](!1)}})}},80424:(e,t,r)=>{"use strict";e.exports=o;var n=r(42279);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(90745);function o(e){n.call(this,e)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},54343:(e,t,r)=>{"use strict";e.exports=d;var n,i,o,s=r(4943);((d.prototype=Object.create(s.prototype)).constructor=d).className="Root";var a=r(37510),l=r(71114),u=r(92695),c=r(84615);function d(e){s.call(this,"",e),this.deferred=[],this.files=[],this._edition="proto2",this._fullyQualifiedObjects={}}function h(){}d.fromJSON=function(e,t){return t||(t=new d),e.options&&t.setOptions(e.options),t.addJSON(e.nested).resolveAll()},d.prototype.resolvePath=c.path.resolve,d.prototype.fetch=c.fetch,d.prototype.load=function e(t,r,n){"function"==typeof r&&(n=r,r=void 0);var s=this;if(!n)return c.asPromise(e,s,t,r);var a=n===h;function l(e,t){if(n){if(a)throw e;t&&t.resolveAll();var r=n;n=null,r(e,t)}}function u(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var r=e.substring(t);if(r in o)return r}return null}function d(e,t){try{if(c.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),c.isString(t)){i.filename=e;var n,o=i(t,s,r),d=0;if(o.imports)for(;d<o.imports.length;++d)(n=u(o.imports[d])||s.resolvePath(e,o.imports[d]))&&p(n);if(o.weakImports)for(d=0;d<o.weakImports.length;++d)(n=u(o.weakImports[d])||s.resolvePath(e,o.weakImports[d]))&&p(n,!0)}else s.setOptions(t.options).addJSON(t.nested)}catch(e){l(e)}a||f||l(null,s)}function p(e,t){if(e=u(e)||e,!(s.files.indexOf(e)>-1)){if(s.files.push(e),e in o){a?d(e,o[e]):(++f,setTimeout(function(){--f,d(e,o[e])}));return}if(a){var r;try{r=c.fs.readFileSync(e).toString("utf8")}catch(e){t||l(e);return}d(e,r)}else++f,s.fetch(e,function(r,i){if(--f,n){if(r){t?f||l(null,s):l(r);return}d(e,i)}})}}var f=0;c.isString(t)&&(t=[t]);for(var m,g=0;g<t.length;++g)(m=s.resolvePath("",t[g]))&&p(m);return a?s.resolveAll():f||l(null,s),s},d.prototype.loadSync=function(e,t){if(!c.isNode)throw Error("not supported");return this.load(e,t,h)},d.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return s.prototype.resolveAll.call(this)};var p=/^[A-Z]/;function f(e,t){var r=t.parent.lookup(t.extend);if(r){var n=new a(t.fullName,t.id,t.type,t.rule,void 0,t.options);return!!r.get(n.name)||(n.declaringField=t,t.extensionField=n,r.add(n),!0)}return!1}d.prototype._handleAdd=function(e){if(e instanceof a)void 0===e.extend||e.extensionField||f(this,e)||this.deferred.push(e);else if(e instanceof l)p.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof u)){if(e instanceof n)for(var t=0;t<this.deferred.length;)f(this,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);p.test(e.name)&&(e.parent[e.name]=e)}(e instanceof n||e instanceof l||e instanceof a)&&(this._fullyQualifiedObjects[e.fullName]=e)},d.prototype._handleRemove=function(e){if(e instanceof a){if(void 0!==e.extend){if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}}else if(e instanceof l)p.test(e.name)&&delete e.parent[e.name];else if(e instanceof s){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);p.test(e.name)&&delete e.parent[e.name]}delete this._fullyQualifiedObjects[e.fullName]},d._configure=function(e,t,r){n=e,i=t,o=r}},59694:e=>{"use strict";e.exports={}},84774:(e,t,r)=>{"use strict";t.Service=r(83829)},83829:(e,t,r)=>{"use strict";e.exports=i;var n=r(90745);function i(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!r}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return n.asPromise(e,a,t,r,i,o);if(!a.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(e,r){if(e)return a.emit("error",e,t),s(e);if(null===r){a.end(!0);return}if(!(r instanceof i))try{r=i[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",r,t),s(null,r)})}catch(e){a.emit("error",e,t),setTimeout(function(){s(e)},0);return}},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},31631:(e,t,r)=>{"use strict";e.exports=a;var n=r(4943);((a.prototype=Object.create(n.prototype)).constructor=a).className="Service";var i=r(26539),o=r(84615),s=r(84774);function a(e,t){n.call(this,e,t),this.methods={},this._methodsArray=null}function l(e){return e._methodsArray=null,e}a.fromJSON=function(e,t){var r=new a(e,t.options);if(t.methods)for(var n=Object.keys(t.methods),o=0;o<n.length;++o)r.add(i.fromJSON(n[o],t.methods[n[o]]));return t.nested&&r.addJSON(t.nested),t.edition&&(r._edition=t.edition),r.comment=t.comment,r._defaultEdition="proto3",r},a.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&!!e.keepComments;return o.toObject(["edition",this._editionToJSON(),"options",t&&t.options||void 0,"methods",n.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},Object.defineProperty(a.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=o.toArray(this.methods))}}),a.prototype.get=function(e){return this.methods[e]||n.prototype.get.call(this,e)},a.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;n.prototype.resolve.call(this);for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return this},a.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution&&(e=this._edition||e,n.prototype._resolveFeaturesRecursive.call(this,e),this.methodsArray.forEach(t=>{t._resolveFeaturesRecursive(e)})),this},a.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof i?(this.methods[e.name]=e,e.parent=this,l(this)):n.prototype.add.call(this,e)},a.prototype.remove=function(e){if(e instanceof i){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,l(this)}return n.prototype.remove.call(this,e)},a.prototype.create=function(e,t,r){for(var n,i=new s.Service(e,t,r),a=0;a<this.methodsArray.length;++a){var l=o.lcFirst((n=this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g,"");i[l]=o.codegen(["r","c"],o.isReserved(l)?l+"_":l)("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return i}},99867:e=>{"use strict";e.exports=d;var t=/[\s{}=;:[\],'"()<>]/g,r=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,n=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,i=/^ *[*/]+ */,o=/^\s*\*?\/*/,s=/\n/g,a=/\s/,l=/\\(.?)/g,u={0:"\0",r:"\r",n:"\n",t:"	"};function c(e){return e.replace(l,function(e,t){switch(t){case"\\":case"":return t;default:return u[t]||""}})}function d(e,l){e=e.toString();var u=0,d=e.length,h=1,p=0,f={},m=[],g=null;function y(e){return Error("illegal "+e+" (line "+h+")")}function v(){var t="'"===g?n:r;t.lastIndex=u-1;var i=t.exec(e);if(!i)throw y("string");return u=t.lastIndex,A(g),g=null,c(i[1])}function b(t){return e.charAt(t)}function E(t,r,n){var a,u,c={type:e.charAt(t++),lineEmpty:!1,leading:n},d=t-(a=l?2:3);do if(--d<0||"\n"===(u=e.charAt(d))){c.lineEmpty=!0;break}while(" "===u||"	"===u);for(var m=e.substring(t,r).split(s),g=0;g<m.length;++g)m[g]=m[g].replace(l?o:i,"").trim();c.text=m.join("\n").trim(),f[h]=c,p=h}function S(t){var r=_(t),n=e.substring(t,r);return/^\s*\/\//.test(n)}function _(e){for(var t=e;t<d&&"\n"!==b(t);)t++;return t}function T(){if(m.length>0)return m.shift();if(g)return v();var r,n,i,o,s,c=0===u;do{if(u===d)return null;for(r=!1;a.test(i=b(u));)if("\n"===i&&(c=!0,++h),++u===d)return null;if("/"===b(u)){if(++u===d)throw y("comment");if("/"===b(u)){if(l){if(o=u,s=!1,S(u-1)){s=!0;do if((u=_(u))===d||(u++,!c))break;while(S(u))}else u=Math.min(d,_(u)+1);s&&(E(o,u,c),c=!0),h++,r=!0}else{for(s="/"===b(o=u+1);"\n"!==b(++u);)if(u===d)return null;++u,s&&(E(o,u-1,c),c=!0),++h,r=!0}}else{if("*"!==(i=b(u)))return"/";o=u+1,s=l||"*"===b(o);do{if("\n"===i&&++h,++u===d)throw y("comment");n=i,i=b(u)}while("*"!==n||"/"!==i);++u,s&&(E(o,u-2,c),c=!0),r=!0}}}while(r);var p=u;if(t.lastIndex=0,!t.test(b(p++)))for(;p<d&&!t.test(b(p));)++p;var f=e.substring(u,u=p);return('"'===f||"'"===f)&&(g=f),f}function A(e){m.push(e)}function C(){if(!m.length){var e=T();if(null===e)return null;A(e)}return m[0]}function w(e,t){var r=C();if(r===e)return T(),!0;if(!t)throw y("token '"+r+"', '"+e+"' expected");return!1}function O(e){var t,r=null;return void 0===e?(t=f[h-1],delete f[h-1],t&&(l||"*"===t.type||t.lineEmpty)&&(r=t.leading?t.text:null)):(p<e&&C(),t=f[e],delete f[e],t&&!t.lineEmpty&&(l||"/"===t.type)&&(r=t.leading?null:t.text)),r}return Object.defineProperty({next:T,peek:C,push:A,skip:w,cmnt:O},"line",{get:function(){return h}})}d.unescape=c},3839:(e,t,r)=>{"use strict";e.exports=v;var n=r(4943);((v.prototype=Object.create(n.prototype)).constructor=v).className="Type";var i=r(71114),o=r(92695),s=r(37510),a=r(79538),l=r(31631),u=r(92936),c=r(42279),d=r(98458),h=r(84615),p=r(38455),f=r(31526),m=r(91506),g=r(85711),y=r(39579);function v(e,t){n.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function b(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(v.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],n=r.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=h.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=h.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=v.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof u||((e.prototype=new u).constructor=e,h.merge(e.prototype,t)),e.$type=e.prototype.$type=this,h.merge(e,u,!0),this._ctor=e;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var n={};for(r=0;r<this.oneofsArray.length;++r)n[this._oneofsArray[r].resolve().name]={get:h.oneOfGetter(this._oneofsArray[r].oneof),set:h.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(e.prototype,n)}}}),v.generateConstructor=function(e){for(var t,r=h.codegen(["p"],e.name),n=0;n<e.fieldsArray.length;++n)(t=e._fieldsArray[n]).map?r("this%s={}",h.safeProp(t.name)):t.repeated&&r("this%s=[]",h.safeProp(t.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},v.fromJSON=function(e,t){var r=new v(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var u=Object.keys(t.fields),c=0;c<u.length;++c)r.add((void 0!==t.fields[u[c]].keyType?a.fromJSON:s.fromJSON)(u[c],t.fields[u[c]]));if(t.oneofs)for(u=Object.keys(t.oneofs),c=0;c<u.length;++c)r.add(o.fromJSON(u[c],t.oneofs[u[c]]));if(t.nested)for(u=Object.keys(t.nested),c=0;c<u.length;++c){var d=t.nested[u[c]];r.add((void 0!==d.id?s.fromJSON:void 0!==d.fields?v.fromJSON:void 0!==d.values?i.fromJSON:void 0!==d.methods?l.fromJSON:n.fromJSON)(u[c],d))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),t.edition&&(r._edition=t.edition),r._defaultEdition="proto3",r},v.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&!!e.keepComments;return h.toObject(["edition",this._editionToJSON(),"options",t&&t.options||void 0,"oneofs",n.arrayToJSON(this.oneofsArray,e),"fields",n.arrayToJSON(this.fieldsArray.filter(function(e){return!e.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},v.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;n.prototype.resolveAll.call(this);var e=this.oneofsArray;for(r=0;r<e.length;)e[r++].resolve();for(var t=this.fieldsArray,r=0;r<t.length;)t[r++].resolve();return this},v.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution&&(e=this._edition||e,n.prototype._resolveFeaturesRecursive.call(this,e),this.oneofsArray.forEach(t=>{t._resolveFeatures(e)}),this.fieldsArray.forEach(t=>{t._resolveFeatures(e)})),this},v.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},v.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof s&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),b(this)}return e instanceof o?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),b(this)):n.prototype.add.call(this,e)},v.prototype.remove=function(e){if(e instanceof s&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),b(this)}if(e instanceof o){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),b(this)}return n.prototype.remove.call(this,e)},v.prototype.isReservedId=function(e){return n.isReservedId(this.reserved,e)},v.prototype.isReservedName=function(e){return n.isReservedName(this.reserved,e)},v.prototype.create=function(e){return new this.ctor(e)},v.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=p(this)({Writer:d,types:t,util:h}),this.decode=f(this)({Reader:c,types:t,util:h}),this.verify=m(this)({types:t,util:h}),this.fromObject=g.fromObject(this)({types:t,util:h}),this.toObject=g.toObject(this)({types:t,util:h});var n=y[e];if(n){var i=Object.create(this);i.fromObject=this.fromObject,this.fromObject=n.fromObject.bind(i),i.toObject=this.toObject,this.toObject=n.toObject.bind(i)}return this},v.prototype.encode=function(e,t){return this.setup().encode(e,t)},v.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},v.prototype.decode=function(e,t){return this.setup().decode(e,t)},v.prototype.decodeDelimited=function(e){return e instanceof c||(e=c.create(e)),this.decode(e,e.uint32())},v.prototype.verify=function(e){return this.setup().verify(e)},v.prototype.fromObject=function(e){return this.setup().fromObject(e)},v.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},v.d=function(e){return function(t){h.decorateType(t,e)}}},76160:(e,t,r)=>{"use strict";var n=t,i=r(84615),o=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function s(e,t){var r=0,n={};for(t|=0;r<e.length;)n[o[r+t]]=e[r++];return n}n.basic=s([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=s([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",i.emptyArray,null]),n.long=s([0,0,0,1,1],7),n.mapKey=s([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=s([1,5,0,0,0,5,5,0,0,0,1,1,0])},84615:(e,t,r)=>{"use strict";var n,i,o=e.exports=r(90745),s=r(59694);o.codegen=r(696),o.fetch=r(37828),o.path=r(62727),o.fs=o.inquire("fs"),o.toArray=function(e){if(e){for(var t=Object.keys(e),r=Array(t.length),n=0;n<t.length;)r[n]=e[t[n++]];return r}return[]},o.toObject=function(e){for(var t={},r=0;r<e.length;){var n=e[r++],i=e[r++];void 0!==i&&(t[n]=i)}return t};var a=/\\/g,l=/"/g;o.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},o.safeProp=function(e){return!/^[$\w_]+$/.test(e)||o.isReserved(e)?'["'+e.replace(a,"\\\\").replace(l,'\\"')+'"]':"."+e},o.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var u=/_([a-z])/g;o.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(u,function(e,t){return t.toUpperCase()})},o.compareFieldsById=function(e,t){return e.id-t.id},o.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(o.decorateRoot.remove(e.$type),e.$type.name=t,o.decorateRoot.add(e.$type)),e.$type;n||(n=r(3839));var i=new n(t||e.name);return o.decorateRoot.add(i),i.ctor=e,Object.defineProperty(e,"$type",{value:i,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:i,enumerable:!1}),i};var c=0;o.decorateEnum=function(e){if(e.$type)return e.$type;i||(i=r(71114));var t=new i("Enum"+c++,e);return o.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},o.setProperty=function(e,t,r,n){function i(e,t,r){var o=t.shift();if("__proto__"===o||"prototype"===o)return e;if(t.length>0)e[o]=i(e[o]||{},t,r);else{var s=e[o];if(s&&n)return e;s&&(r=[].concat(s).concat(r)),e[o]=r}return e}if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return i(e,t=t.split("."),r)},Object.defineProperty(o,"decorateRoot",{get:function(){return s.decorated||(s.decorated=new(r(54343)))}})},33674:(e,t,r)=>{"use strict";e.exports=i;var n=r(90745);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var s=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new i(r,n)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(n.isString(e)){if(!n.Long)return i.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,!!e):{low:0|this.lo,high:0|this.hi,unsigned:!!e}};var a=String.prototype.charCodeAt;i.fromHash=function(e){return e===s?o:new i((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},90745:function(e,t,r){"use strict";var n=t;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function o(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack||""}),r&&i(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.asPromise=r(61417),n.base64=r(75386),n.EventEmitter=r(33478),n.float=r(65256),n.inquire=r(71374),n.utf8=r(93670),n.pool=r(26733),n.LongBits=r(33674),n.isNode=!!("undefined"!=typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),n.global=n.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!!(null!=r&&e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(!!t)},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;if(!e){n._Buffer_from=n._Buffer_allocUnsafe=null;return}n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}}},91506:(e,t,r)=>{"use strict";e.exports=l;var n=r(71114),i=r(84615);function o(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function s(e,t,r,i){if(t.resolvedType){if(t.resolvedType instanceof n){e("switch(%s){",i)("default:")("return%j",o(t,"enum value"));for(var s=Object.keys(t.resolvedType.values),a=0;a<s.length;++a)e("case %i:",t.resolvedType.values[s[a]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",r,i)("if(e)")("return%j+e",t.name+".")("}")}else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",o(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",o(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',i)("return%j",o(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',i)("return%j",o(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",o(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",o(t,"buffer"))}return e}function a(e,t,r){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",r)("return%j",o(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",r)("return%j",o(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",r)("return%j",o(t,"boolean key"))}return e}function l(e){var t=i.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r=e.oneofsArray,n={};r.length&&t("var p={}");for(var l=0;l<e.fieldsArray.length;++l){var u=e._fieldsArray[l].resolve(),c="m"+i.safeProp(u.name);if(u.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",c,u.name),u.map)t("if(!util.isObject(%s))",c)("return%j",o(u,"object"))("var k=Object.keys(%s)",c)("for(var i=0;i<k.length;++i){"),a(t,u,"k[i]"),s(t,u,l,c+"[k[i]]")("}");else if(u.repeated)t("if(!Array.isArray(%s))",c)("return%j",o(u,"array"))("for(var i=0;i<%s.length;++i){",c),s(t,u,l,c+"[i]")("}");else{if(u.partOf){var d=i.safeProp(u.partOf.name);1===n[u.partOf.name]&&t("if(p%s===1)",d)("return%j",u.partOf.name+": multiple values"),n[u.partOf.name]=1,t("p%s=1",d)}s(t,u,l,c)}u.optional&&t("}")}return t("return null")}},39579:(e,t,r)=>{"use strict";var n=t,i=r(92936);n[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),r=this.lookup(t);if(r){var n="."===e["@type"].charAt(0)?e["@type"].slice(1):e["@type"];return -1===n.indexOf("/")&&(n="/"+n),this.create({type_url:n,value:r.encode(r.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var r="type.googleapis.com/",n="",o="";if(t&&t.json&&e.type_url&&e.value){o=e.type_url.substring(e.type_url.lastIndexOf("/")+1),n=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var s=this.lookup(o);s&&(e=s.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof i){var a=e.$type.toObject(e,t),l="."===e.$type.fullName[0]?e.$type.fullName.slice(1):e.$type.fullName;return""===n&&(n=r),o=n+l,a["@type"]=o,a}return this.toObject(e,t)}}},98458:(e,t,r)=>{"use strict";e.exports=d;var n,i=r(90745),o=i.LongBits,s=i.base64,a=i.utf8;function l(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function u(){}function c(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new l(u,0,0),this.tail=this.head,this.states=null}var h=function(){return i.Buffer?function(){return(d.create=function(){return new n})()}:function(){return new d}};function p(e,t,r){t[r]=255&e}function f(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e}function m(e,t){this.len=e,this.next=void 0,this.val=t}function g(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function y(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}d.create=h(),d.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(d.alloc=i.pool(d.alloc,i.Array.prototype.subarray)),d.prototype._push=function(e,t,r){return this.tail=this.tail.next=new l(e,t,r),this.len+=t,this},m.prototype=Object.create(l.prototype),m.prototype.fn=f,d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new m((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(g,10,o.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=o.from(e);return this._push(g,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(g,t.length(),t)},d.prototype.bool=function(e){return this._push(p,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(y,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=o.from(e);return this._push(y,4,t.lo)._push(y,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var v=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(i.isString(e)){var r=d.alloc(t=s.length(e));s.decode(e,r,0),e=r}return this.uint32(t)._push(v,t,e)},d.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(p,1,0)},d.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new l(u,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(u,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},d._configure=function(e){n=e,d.create=h(),n._configure()}},68386:(e,t,r)=>{"use strict";e.exports=o;var n=r(98458);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(90745);function o(){n.call(this)}function s(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},o._configure()},59157:(e,t,r)=>{var n;let i=r(91817),o=r(18895),s=r(93162),a=r(975);function l(e,t,r,n,s){let a=[].slice.call(arguments,1),l=a.length,u="function"==typeof a[l-1];if(!u&&!i())throw Error("Callback required as last argument");if(u){if(l<2)throw Error("Too few arguments provided");2===l?(s=r,r=t,t=n=void 0):3===l&&(t.getContext&&void 0===s?(s=n,n=void 0):(s=n,n=r,r=t,t=void 0))}else{if(l<1)throw Error("Too few arguments provided");return 1===l?(r=t,t=n=void 0):2!==l||t.getContext||(n=r,r=t,t=void 0),new Promise(function(i,s){try{let s=o.create(r,n);i(e(s,t,n))}catch(e){s(e)}})}try{let i=o.create(r,n);s(null,e(i,t,n))}catch(e){s(e)}}n=o.create,t.toCanvas=l.bind(null,s.render),n=l.bind(null,s.renderToDataURL),n=l.bind(null,function(e,t,r){return a.render(e,r)})},91817:e=>{e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},40731:(e,t,r)=>{let n=r(2540).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];let t=Math.floor(e/7)+2,r=n(e),i=145===r?26:2*Math.ceil((r-13)/(2*t-2)),o=[r-7];for(let e=1;e<t-1;e++)o[e]=o[e-1]-i;return o.push(6),o.reverse()},t.getPositions=function(e){let r=[],n=t.getRowColCoords(e),i=n.length;for(let e=0;e<i;e++)for(let t=0;t<i;t++)(0!==e||0!==t)&&(0!==e||t!==i-1)&&(e!==i-1||0!==t)&&r.push([n[e],n[t]]);return r}},52307:(e,t,r)=>{let n=r(97798),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(e){this.mode=n.ALPHANUMERIC,this.data=e}o.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let r=45*i.indexOf(this.data[t]);r+=i.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(i.indexOf(this.data[t]),6)},e.exports=o},76730:e=>{function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){let t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){let t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},94638:e=>{function t(e){if(!e||e<1)throw Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}t.prototype.set=function(e,t,r,n){let i=e*this.size+t;this.data[i]=r,n&&(this.reservedBit[i]=!0)},t.prototype.get=function(e,t){return this.data[e*this.size+t]},t.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},t.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=t},20592:(e,t,r)=>{let n=r(55402),i=r(97798);function o(e){this.mode=i.BYTE,"string"==typeof e&&(e=n(e)),this.data=new Uint8Array(e)}o.getBitsLength=function(e){return 8*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)},e.exports=o},14134:(e,t,r)=>{let n=r(78431),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case n.L:return i[(e-1)*4+0];case n.M:return i[(e-1)*4+1];case n.Q:return i[(e-1)*4+2];case n.H:return i[(e-1)*4+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case n.L:return o[(e-1)*4+0];case n.M:return o[(e-1)*4+1];case n.Q:return o[(e-1)*4+2];case n.H:return o[(e-1)*4+3];default:return}}},78431:(e,t)=>{function r(e){if("string"!=typeof e)throw Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw Error("Unknown EC Level: "+e)}}t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,n){if(t.isValid(e))return e;try{return r(e)}catch(e){return n}}},77422:(e,t,r)=>{let n=r(2540).getSymbolSize,i=7;t.getPositions=function(e){let t=n(e);return[[0,0],[t-i,0],[0,t-i]]}},26445:(e,t,r)=>{let n=r(2540),i=1335,o=21522,s=n.getBCHDigit(i);t.getEncodedBits=function(e,t){let r=e.bit<<3|t,a=r<<10;for(;n.getBCHDigit(a)-s>=0;)a^=i<<n.getBCHDigit(a)-s;return(r<<10|a)^o}},12959:(e,t)=>{let r=new Uint8Array(512),n=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)r[t]=e,n[e]=t,256&(e<<=1)&&(e^=285);for(let e=255;e<512;e++)r[e]=r[e-255]})(),t.log=function(e){if(e<1)throw Error("log("+e+")");return n[e]},t.exp=function(e){return r[e]},t.mul=function(e,t){return 0===e||0===t?0:r[n[e]+n[t]]}},3616:(e,t,r)=>{let n=r(97798),i=r(2540);function o(e){this.mode=n.KANJI,this.data=e}o.getBitsLength=function(e){return 13*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=i.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");r=(r>>>8&255)*192+(255&r),e.put(r,13)}},e.exports=o},6754:(e,t)=>{t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};let r={N1:3,N2:3,N3:40,N4:10};function n(e,r,n){switch(e){case t.Patterns.PATTERN000:return(r+n)%2==0;case t.Patterns.PATTERN001:return r%2==0;case t.Patterns.PATTERN010:return n%3==0;case t.Patterns.PATTERN011:return(r+n)%3==0;case t.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(n/3))%2==0;case t.Patterns.PATTERN101:return r*n%2+r*n%3==0;case t.Patterns.PATTERN110:return(r*n%2+r*n%3)%2==0;case t.Patterns.PATTERN111:return(r*n%3+(r+n)%2)%2==0;default:throw Error("bad maskPattern:"+e)}}t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){let t=e.size,n=0,i=0,o=0,s=null,a=null;for(let l=0;l<t;l++){i=o=0,s=a=null;for(let u=0;u<t;u++){let t=e.get(l,u);t===s?i++:(i>=5&&(n+=r.N1+(i-5)),s=t,i=1),(t=e.get(u,l))===a?o++:(o>=5&&(n+=r.N1+(o-5)),a=t,o=1)}i>=5&&(n+=r.N1+(i-5)),o>=5&&(n+=r.N1+(o-5))}return n},t.getPenaltyN2=function(e){let t=e.size,n=0;for(let r=0;r<t-1;r++)for(let i=0;i<t-1;i++){let t=e.get(r,i)+e.get(r,i+1)+e.get(r+1,i)+e.get(r+1,i+1);(4===t||0===t)&&n++}return n*r.N2},t.getPenaltyN3=function(e){let t=e.size,n=0,i=0,o=0;for(let r=0;r<t;r++){i=o=0;for(let s=0;s<t;s++)i=i<<1&2047|e.get(r,s),s>=10&&(1488===i||93===i)&&n++,o=o<<1&2047|e.get(s,r),s>=10&&(1488===o||93===o)&&n++}return n*r.N3},t.getPenaltyN4=function(e){let t=0,n=e.data.length;for(let r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(100*t/n/5)-10)*r.N4},t.applyMask=function(e,t){let r=t.size;for(let i=0;i<r;i++)for(let o=0;o<r;o++)t.isReserved(o,i)||t.xor(o,i,n(e,o,i))},t.getBestMask=function(e,r){let n=Object.keys(t.Patterns).length,i=0,o=1/0;for(let s=0;s<n;s++){r(s),t.applyMask(s,e);let n=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(s,e),n<o&&(o=n,i=s)}return i}},97798:(e,t,r)=>{let n=r(18517),i=r(70232);function o(e){if("string"!=typeof e)throw Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw Error("Unknown mode: "+e)}}t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw Error("Invalid mode: "+e);if(!n.isValid(t))throw Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return i.testNumeric(e)?t.NUMERIC:i.testAlphanumeric(e)?t.ALPHANUMERIC:i.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,r){if(t.isValid(e))return e;try{return o(e)}catch(e){return r}}},54790:(e,t,r)=>{let n=r(97798);function i(e){this.mode=n.NUMERIC,this.data=e.toString()}i.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let t,r,n;for(t=0;t+3<=this.data.length;t+=3)n=parseInt(r=this.data.substr(t,3),10),e.put(n,10);let i=this.data.length-t;i>0&&(n=parseInt(r=this.data.substr(t),10),e.put(n,3*i+1))},e.exports=i},56686:(e,t,r)=>{let n=r(12959);t.mul=function(e,t){let r=new Uint8Array(e.length+t.length-1);for(let i=0;i<e.length;i++)for(let o=0;o<t.length;o++)r[i+o]^=n.mul(e[i],t[o]);return r},t.mod=function(e,t){let r=new Uint8Array(e);for(;r.length-t.length>=0;){let e=r[0];for(let i=0;i<t.length;i++)r[i]^=n.mul(t[i],e);let i=0;for(;i<r.length&&0===r[i];)i++;r=r.slice(i)}return r},t.generateECPolynomial=function(e){let r=new Uint8Array([1]);for(let i=0;i<e;i++)r=t.mul(r,new Uint8Array([1,n.exp(i)]));return r}},18895:(e,t,r)=>{let n=r(2540),i=r(78431),o=r(76730),s=r(94638),a=r(40731),l=r(77422),u=r(6754),c=r(14134),d=r(19444),h=r(75463),p=r(26445),f=r(97798),m=r(76485);function g(e,t){let r=e.size,n=l.getPositions(t);for(let t=0;t<n.length;t++){let i=n[t][0],o=n[t][1];for(let t=-1;t<=7;t++)if(!(i+t<=-1)&&!(r<=i+t))for(let n=-1;n<=7;n++)o+n<=-1||r<=o+n||(t>=0&&t<=6&&(0===n||6===n)||n>=0&&n<=6&&(0===t||6===t)||t>=2&&t<=4&&n>=2&&n<=4?e.set(i+t,o+n,!0,!0):e.set(i+t,o+n,!1,!0))}}function y(e){let t=e.size;for(let r=8;r<t-8;r++){let t=r%2==0;e.set(r,6,t,!0),e.set(6,r,t,!0)}}function v(e,t){let r=a.getPositions(t);for(let t=0;t<r.length;t++){let n=r[t][0],i=r[t][1];for(let t=-2;t<=2;t++)for(let r=-2;r<=2;r++)-2===t||2===t||-2===r||2===r||0===t&&0===r?e.set(n+t,i+r,!0,!0):e.set(n+t,i+r,!1,!0)}}function b(e,t){let r,n,i;let o=e.size,s=h.getEncodedBits(t);for(let t=0;t<18;t++)r=Math.floor(t/3),n=t%3+o-8-3,i=(s>>t&1)==1,e.set(r,n,i,!0),e.set(n,r,i,!0)}function E(e,t,r){let n,i;let o=e.size,s=p.getEncodedBits(t,r);for(n=0;n<15;n++)i=(s>>n&1)==1,n<6?e.set(n,8,i,!0):n<8?e.set(n+1,8,i,!0):e.set(o-15+n,8,i,!0),n<8?e.set(8,o-n-1,i,!0):n<9?e.set(8,15-n-1+1,i,!0):e.set(8,15-n-1,i,!0);e.set(o-8,8,1,!0)}function S(e,t){let r=e.size,n=-1,i=r-1,o=7,s=0;for(let a=r-1;a>0;a-=2)for(6===a&&a--;;){for(let r=0;r<2;r++)if(!e.isReserved(i,a-r)){let n=!1;s<t.length&&(n=(t[s]>>>o&1)==1),e.set(i,a-r,n),-1==--o&&(s++,o=7)}if((i+=n)<0||r<=i){i-=n,n=-n;break}}}function _(e,t,r){let i=new o;r.forEach(function(t){i.put(t.mode.bit,4),i.put(t.getLength(),f.getCharCountIndicator(t.mode,e)),t.write(i)});let s=(n.getSymbolTotalCodewords(e)-c.getTotalCodewordsCount(e,t))*8;for(i.getLengthInBits()+4<=s&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);let a=(s-i.getLengthInBits())/8;for(let e=0;e<a;e++)i.put(e%2?17:236,8);return T(i,e,t)}function T(e,t,r){let i,o;let s=n.getSymbolTotalCodewords(t),a=s-c.getTotalCodewordsCount(t,r),l=c.getBlocksCount(t,r),u=s%l,h=l-u,p=Math.floor(s/l),f=Math.floor(a/l),m=f+1,g=p-f,y=new d(g),v=0,b=Array(l),E=Array(l),S=0,_=new Uint8Array(e.buffer);for(let e=0;e<l;e++){let t=e<h?f:m;b[e]=_.slice(v,v+t),E[e]=y.encode(b[e]),v+=t,S=Math.max(S,t)}let T=new Uint8Array(s),A=0;for(i=0;i<S;i++)for(o=0;o<l;o++)i<b[o].length&&(T[A++]=b[o][i]);for(i=0;i<g;i++)for(o=0;o<l;o++)T[A++]=E[o][i];return T}function A(e,t,r,i){let o;if(Array.isArray(e))o=m.fromArray(e);else if("string"==typeof e){let n=t;if(!n){let t=m.rawSplit(e);n=h.getBestVersionForData(t,r)}o=m.fromString(e,n||40)}else throw Error("Invalid data");let a=h.getBestVersionForData(o,r);if(!a)throw Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<a)throw Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+a+".\n")}else t=a;let l=_(t,r,o),c=new s(n.getSymbolSize(t));return g(c,t),y(c),v(c,t),E(c,r,0),t>=7&&b(c,t),S(c,l),isNaN(i)&&(i=u.getBestMask(c,E.bind(null,c,r))),u.applyMask(i,c),E(c,r,i),{modules:c,version:t,errorCorrectionLevel:r,maskPattern:i,segments:o}}t.create=function(e,t){let r,o;if(void 0===e||""===e)throw Error("No input text");let s=i.M;return void 0!==t&&(s=i.from(t.errorCorrectionLevel,i.M),r=h.from(t.version),o=u.from(t.maskPattern),t.toSJISFunc&&n.setToSJISFunction(t.toSJISFunc)),A(e,r,s,o)}},19444:(e,t,r)=>{let n=r(56686);function i(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(e){this.degree=e,this.genPoly=n.generateECPolynomial(this.degree)},i.prototype.encode=function(e){if(!this.genPoly)throw Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let r=n.mod(t,this.genPoly),i=this.degree-r.length;if(i>0){let e=new Uint8Array(this.degree);return e.set(r,i),e}return r},e.exports=i},70232:(e,t)=>{let r="[0-9]+",n="[A-Z $%*+\\-./:]+",i="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",o="(?:(?![A-Z0-9 $%*+\\-./:]|"+(i=i.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";t.KANJI=RegExp(i,"g"),t.BYTE_KANJI=RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=RegExp(o,"g"),t.NUMERIC=RegExp(r,"g"),t.ALPHANUMERIC=RegExp(n,"g");let s=RegExp("^"+i+"$"),a=RegExp("^"+r+"$"),l=RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return s.test(e)},t.testNumeric=function(e){return a.test(e)},t.testAlphanumeric=function(e){return l.test(e)}},76485:(e,t,r)=>{let n=r(97798),i=r(54790),o=r(52307),s=r(20592),a=r(3616),l=r(70232),u=r(2540),c=r(24414);function d(e){return unescape(encodeURIComponent(e)).length}function h(e,t,r){let n;let i=[];for(;null!==(n=e.exec(r));)i.push({data:n[0],index:n.index,mode:t,length:n[0].length});return i}function p(e){let t,r;let i=h(l.NUMERIC,n.NUMERIC,e),o=h(l.ALPHANUMERIC,n.ALPHANUMERIC,e);return u.isKanjiModeEnabled()?(t=h(l.BYTE,n.BYTE,e),r=h(l.KANJI,n.KANJI,e)):(t=h(l.BYTE_KANJI,n.BYTE,e),r=[]),i.concat(o,t,r).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function f(e,t){switch(t){case n.NUMERIC:return i.getBitsLength(e);case n.ALPHANUMERIC:return o.getBitsLength(e);case n.KANJI:return a.getBitsLength(e);case n.BYTE:return s.getBitsLength(e)}}function m(e){return e.reduce(function(e,t){let r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===t.mode?e[e.length-1].data+=t.data:e.push(t),e},[])}function g(e){let t=[];for(let r=0;r<e.length;r++){let i=e[r];switch(i.mode){case n.NUMERIC:t.push([i,{data:i.data,mode:n.ALPHANUMERIC,length:i.length},{data:i.data,mode:n.BYTE,length:i.length}]);break;case n.ALPHANUMERIC:t.push([i,{data:i.data,mode:n.BYTE,length:i.length}]);break;case n.KANJI:t.push([i,{data:i.data,mode:n.BYTE,length:d(i.data)}]);break;case n.BYTE:t.push([{data:i.data,mode:n.BYTE,length:d(i.data)}])}}return t}function y(e,t){let r={},i={start:{}},o=["start"];for(let s=0;s<e.length;s++){let a=e[s],l=[];for(let e=0;e<a.length;e++){let u=a[e],c=""+s+e;l.push(c),r[c]={node:u,lastCount:0},i[c]={};for(let e=0;e<o.length;e++){let s=o[e];r[s]&&r[s].node.mode===u.mode?(i[s][c]=f(r[s].lastCount+u.length,u.mode)-f(r[s].lastCount,u.mode),r[s].lastCount+=u.length):(r[s]&&(r[s].lastCount=u.length),i[s][c]=f(u.length,u.mode)+4+n.getCharCountIndicator(u.mode,t))}}o=l}for(let e=0;e<o.length;e++)i[o[e]].end=0;return{map:i,table:r}}function v(e,t){let r;let l=n.getBestModeForData(e);if((r=n.from(t,l))!==n.BYTE&&r.bit<l.bit)throw Error('"'+e+'" cannot be encoded with mode '+n.toString(r)+".\n Suggested mode is: "+n.toString(l));switch(r!==n.KANJI||u.isKanjiModeEnabled()||(r=n.BYTE),r){case n.NUMERIC:return new i(e);case n.ALPHANUMERIC:return new o(e);case n.KANJI:return new a(e);case n.BYTE:return new s(e)}}t.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(v(t,null)):t.data&&e.push(v(t.data,t.mode)),e},[])},t.fromString=function(e,r){let n=y(g(p(e,u.isKanjiModeEnabled())),r),i=c.find_path(n.map,"start","end"),o=[];for(let e=1;e<i.length-1;e++)o.push(n.table[i[e]].node);return t.fromArray(m(o))},t.rawSplit=function(e){return t.fromArray(p(e,u.isKanjiModeEnabled()))}},2540:(e,t)=>{let r;let n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw Error('"version" cannot be null or undefined');if(e<1||e>40)throw Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return n[e]},t.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw Error('"toSJISFunc" is not a valid function.');r=e},t.isKanjiModeEnabled=function(){return void 0!==r},t.toSJIS=function(e){return r(e)}},18517:(e,t)=>{t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},75463:(e,t,r)=>{let n=r(2540),i=r(14134),o=r(78431),s=r(97798),a=r(18517),l=7973,u=n.getBCHDigit(l);function c(e,r,n){for(let i=1;i<=40;i++)if(r<=t.getCapacity(i,n,e))return i}function d(e,t){return s.getCharCountIndicator(e,t)+4}function h(e,t){let r=0;return e.forEach(function(e){let n=d(e.mode,t);r+=n+e.getBitsLength()}),r}function p(e,r){for(let n=1;n<=40;n++)if(h(e,n)<=t.getCapacity(n,r,s.MIXED))return n}t.from=function(e,t){return a.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,r){if(!a.isValid(e))throw Error("Invalid QR Code version");void 0===r&&(r=s.BYTE);let o=(n.getSymbolTotalCodewords(e)-i.getTotalCodewordsCount(e,t))*8;if(r===s.MIXED)return o;let l=o-d(r,e);switch(r){case s.NUMERIC:return Math.floor(l/10*3);case s.ALPHANUMERIC:return Math.floor(l/11*2);case s.KANJI:return Math.floor(l/13);case s.BYTE:default:return Math.floor(l/8)}},t.getBestVersionForData=function(e,t){let r;let n=o.from(t,o.M);if(Array.isArray(e)){if(e.length>1)return p(e,n);if(0===e.length)return 1;r=e[0]}else r=e;return c(r.mode,r.getLength(),n)},t.getEncodedBits=function(e){if(!a.isValid(e)||e<7)throw Error("Invalid QR Code version");let t=e<<12;for(;n.getBCHDigit(t)-u>=0;)t^=l<<n.getBCHDigit(t)-u;return e<<12|t}},31270:(e,t,r)=>{"use strict";e.exports=r(5570)},93162:(e,t,r)=>{let n=r(20802);function i(e,t,r){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=r,t.width=r,t.style.height=r+"px",t.style.width=r+"px"}function o(){try{return document.createElement("canvas")}catch(e){throw Error("You need to specify a canvas element")}}t.render=function(e,t,r){let s=r,a=t;void 0!==s||t&&t.getContext||(s=t,t=void 0),t||(a=o()),s=n.getOptions(s);let l=n.getImageWidth(e.modules.size,s),u=a.getContext("2d"),c=u.createImageData(l,l);return n.qrToImageData(c.data,e,s),i(u,a,l),u.putImageData(c,0,0),a},t.renderToDataURL=function(e,r,n){let i=n;void 0!==i||r&&r.getContext||(i=r,r=void 0),i||(i={});let o=t.render(e,r,i),s=i.type||"image/png",a=i.rendererOpts||{};return o.toDataURL(s,a.quality)}},8276:(e,t,r)=>{let n=r(57147),i=r(81687).y,o=r(20802);t.render=function(e,t){let r=o.getOptions(t),n=r.rendererOpts,s=o.getImageWidth(e.modules.size,r);n.width=s,n.height=s;let a=new i(n);return o.qrToImageData(a.data,e,r),a},t.renderToDataURL=function(e,r,n){void 0===n&&(n=r,r=void 0),t.renderToBuffer(e,r,function(e,t){e&&n(e);let r="data:image/png;base64,";r+=t.toString("base64"),n(null,r)})},t.renderToBuffer=function(e,r,n){void 0===n&&(n=r,r=void 0);let i=t.render(e,r),o=[];i.on("error",n),i.on("data",function(e){o.push(e)}),i.on("end",function(){n(null,Buffer.concat(o))}),i.pack()},t.renderToFile=function(e,r,i,o){void 0===o&&(o=i,i=void 0);let s=!1,a=(...e)=>{s||(s=!0,o.apply(null,e))},l=n.createWriteStream(e);l.on("error",a),l.on("close",a),t.renderToFileStream(l,r,i)},t.renderToFileStream=function(e,r,n){t.render(r,n).pack().pipe(e)}},975:(e,t,r)=>{let n=r(20802);function i(e,t){let r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function o(e,t,r){let n=e+t;return void 0!==r&&(n+=" "+r),n}function s(e,t,r){let n="",i=0,s=!1,a=0;for(let l=0;l<e.length;l++){let u=Math.floor(l%t),c=Math.floor(l/t);u||s||(s=!0),e[l]?(a++,l>0&&u>0&&e[l-1]||(n+=s?o("M",u+r,.5+c+r):o("m",i,0),i=0,s=!1),u+1<t&&e[l+1]||(n+=o("h",a),a=0)):i++}return n}t.render=function(e,t,r){let o=n.getOptions(t),a=e.modules.size,l=e.modules.data,u=a+2*o.margin,c=o.color.light.a?"<path "+i(o.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",d="<path "+i(o.color.dark,"stroke")+' d="'+s(l,a,o.margin)+'"/>',h='viewBox="0 0 '+u+" "+u+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+h+' shape-rendering="crispEdges">'+c+d+"</svg>\n";return"function"==typeof r&&r(null,p),p}},47979:(e,t,r)=>{let n=r(975);t.render=n.render,t.renderToFile=function(e,n,i,o){void 0===o&&(o=i,i=void 0);let s=r(57147),a='<?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'+t.render(n,i);s.writeFile(e,a,o)}},73678:(e,t,r)=>{let n=r(28821),i=r(53853);t.render=function(e,t,r){return t&&t.small?i.render(e,t,r):n.render(e,t,r)}},53853:(e,t)=>{let r="\x1b[37m",n="\x1b[30m",i="\x1b[0m",o="\x1b[47m"+n,s="\x1b[40m"+r,a=function(e,t,r){return{"00":i+" "+e,"01":i+t+""+e,"02":i+r+""+e,10:i+t+""+e,11:" ",12:"",20:i+r+""+e,21:"",22:""}},l=function(e,t,r,n){let i=t+1;return r>=i||n>=i||n<-1||r<-1?"0":r>=t||n>=t||n<0||r<0?"1":e[n*t+r]?"2":"1"},u=function(e,t,r,n){return l(e,t,r,n)+l(e,t,r,n+1)};t.render=function(e,t,l){let c=e.modules.size,d=e.modules.data,h=!!(t&&t.inverse),p=t&&t.inverse?s:o,f=a(p,h?n:r,h?r:n),m=i+"\n"+p,g=p;for(let e=-1;e<c+1;e+=2){for(let t=-1;t<c;t++)g+=f[u(d,c,t,e)];g+=f[u(d,c,c,e)]+m}return g+=i,"function"==typeof l&&l(null,g),g}},28821:(e,t)=>{t.render=function(e,t,r){let n=e.modules.size,i=e.modules.data,o="\x1b[40m  \x1b[0m",s="\x1b[47m  \x1b[0m",a="",l=Array(n+3).join(s),u=[,,].join(s);a+=l+"\n";for(let e=0;e<n;++e){a+=s;for(let t=0;t<n;t++)a+=i[e*n+t]?o:s;a+=u+"\n"}return a+=l+"\n","function"==typeof r&&r(null,a),a}},86318:(e,t,r)=>{let n=r(20802),i={WW:" ",WB:"",BB:"",BW:""},o={BB:" ",BW:"",WW:"",WB:""};function s(e,t,r){return e&&t?r.BB:e&&!t?r.BW:!e&&t?r.WB:r.WW}t.render=function(e,t,r){let a=n.getOptions(t),l=i;("#ffffff"===a.color.dark.hex||"#000000"===a.color.light.hex)&&(l=o);let u=e.modules.size,c=e.modules.data,d="",h=Array(u+2*a.margin+1).join(l.WW);h=Array(a.margin/2+1).join(h+"\n");let p=Array(a.margin+1).join(l.WW);d+=h;for(let e=0;e<u;e+=2){d+=p;for(let t=0;t<u;t++)d+=s(c[e*u+t],c[(e+1)*u+t],l);d+=p+"\n"}return d+=h.slice(0,-1),"function"==typeof r&&r(null,d),d},t.renderToFile=function(e,n,i,o){void 0===o&&(o=i,i=void 0);let s=r(57147),a=t.render(n,i);s.writeFile(e,a,o)}},20802:(e,t)=>{function r(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw Error("Invalid hex color: "+e);(3===t.length||4===t.length)&&(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");let r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:n,scale:n?4:i,margin:t,color:{dark:r(e.color.dark||"#000000ff"),light:r(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,r){let n=t.getScale(e,r);return Math.floor((e+2*r.margin)*n)},t.qrToImageData=function(e,r,n){let i=r.modules.size,o=r.modules.data,s=t.getScale(i,n),a=Math.floor((i+2*n.margin)*s),l=n.margin*s,u=[n.color.light,n.color.dark];for(let t=0;t<a;t++)for(let r=0;r<a;r++){let c=(t*a+r)*4,d=n.color.light;t>=l&&r>=l&&t<a-l&&r<a-l&&(d=u[o[Math.floor((t-l)/s)*i+Math.floor((r-l)/s)]?1:0]),e[c++]=d.r,e[c++]=d.g,e[c++]=d.b,e[c]=d.a}}},5570:(e,t,r)=>{let n=r(91817),i=r(18895),o=r(8276),s=r(86318),a=r(73678),l=r(47979);function u(e,t,r){if(void 0===e)throw Error("String required as first argument");if(void 0===r&&(r=t,t={}),"function"!=typeof r){if(n())t=r||{},r=null;else throw Error("Callback required as last argument")}return{opts:t,cb:r}}function c(e){return e.slice((e.lastIndexOf(".")-1>>>0)+2).toLowerCase()}function d(e){switch(e){case"svg":return l;case"txt":case"utf8":return s;default:return o}}function h(e){switch(e){case"svg":return l;case"terminal":return a;default:return s}}function p(e,t,r){if(!r.cb)return new Promise(function(n,o){try{let s=i.create(t,r.opts);return e(s,r.opts,function(e,t){return e?o(e):n(t)})}catch(e){o(e)}});try{let n=i.create(t,r.opts);return e(n,r.opts,r.cb)}catch(e){r.cb(e)}}t.create=i.create,t.toCanvas=r(59157).toCanvas,t.toString=function(e,t,r){let n=u(e,t,r);return p(h(n.opts?n.opts.type:void 0).render,e,n)},t.toDataURL=function(e,t,r){let n=u(e,t,r);return p(d(n.opts.type).renderToDataURL,e,n)},t.toBuffer=function(e,t,r){let n=u(e,t,r);return p(d(n.opts.type).renderToBuffer,e,n)},t.toFile=function(e,t,r,i){if("string"!=typeof e||!("string"==typeof t||"object"==typeof t))throw Error("Invalid argument");if(arguments.length<3&&!n())throw Error("Too few arguments provided");let o=u(t,r,i);return p(d(o.opts.type||c(e)).renderToFile.bind(null,e),t,o)},t.toFileStream=function(e,t,r){if(arguments.length<2)throw Error("Too few arguments provided");let n=u(t,r,e.emit.bind(e,"error"));p(d("png").renderToFileStream.bind(null,e),t,n)}},32064:(e,t,r)=>{"use strict";r.d(t,{Av:()=>s,pF:()=>n,xv:()=>o,zi:()=>i});var n="right-scroll-bar-position",i="width-before-scroll-bar",o="with-scroll-bars-hidden",s="--removed-body-scroll-bar-size"},3566:(e,t,r)=>{"use strict";r.d(t,{jp:()=>m});var n=r(17577),i=r(98848),o=r(32064),s={left:0,top:0,right:0,gap:0},a=function(e){return parseInt(e||"",10)||0},l=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[a(r),a(n),a(i)]},u=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return s;var t=l(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},c=(0,i.Ws)(),d="data-scroll-locked",h=function(e,t,r,n){var i=e.left,s=e.top,a=e.right,l=e.gap;return void 0===r&&(r="margin"),"\n  .".concat(o.xv," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(l,"px ").concat(n,";\n  }\n  body[").concat(d,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===r&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(l,"px ").concat(n,";\n    "),"padding"===r&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(o.pF," {\n    right: ").concat(l,"px ").concat(n,";\n  }\n  \n  .").concat(o.zi," {\n    margin-right: ").concat(l,"px ").concat(n,";\n  }\n  \n  .").concat(o.pF," .").concat(o.pF," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(o.zi," .").concat(o.zi," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(d,"] {\n    ").concat(o.Av,": ").concat(l,"px;\n  }\n")},p=function(){var e=parseInt(document.body.getAttribute(d)||"0",10);return isFinite(e)?e:0},f=function(){n.useEffect(function(){return document.body.setAttribute(d,(p()+1).toString()),function(){var e=p()-1;e<=0?document.body.removeAttribute(d):document.body.setAttribute(d,e.toString())}},[])},m=function(e){var t=e.noRelative,r=e.noImportant,i=e.gapMode,o=void 0===i?"margin":i;f();var s=n.useMemo(function(){return u(o)},[o]);return n.createElement(c,{styles:h(s,!t,o,r?"":"!important")})}},17397:(e,t,r)=>{"use strict";r.d(t,{Z:()=>j});var n=r(65826),i=r(17577),o=r(32064),s=r(55745),a=(0,r(45305)._)(),l=function(){},u=i.forwardRef(function(e,t){var r=i.useRef(null),o=i.useState({onScrollCapture:l,onWheelCapture:l,onTouchMoveCapture:l}),u=o[0],c=o[1],d=e.forwardProps,h=e.children,p=e.className,f=e.removeScrollBar,m=e.enabled,g=e.shards,y=e.sideCar,v=e.noIsolation,b=e.inert,E=e.allowPinchZoom,S=e.as,_=void 0===S?"div":S,T=e.gapMode,A=(0,n.__rest)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=y,w=(0,s.q)([r,t]),O=(0,n.__assign)((0,n.__assign)({},A),u);return i.createElement(i.Fragment,null,m&&i.createElement(C,{sideCar:a,removeScrollBar:f,shards:g,noIsolation:v,inert:b,setCallbacks:c,allowPinchZoom:!!E,lockRef:r,gapMode:T}),d?i.cloneElement(i.Children.only(h),(0,n.__assign)((0,n.__assign)({},O),{ref:w})):i.createElement(_,(0,n.__assign)({},O,{className:p,ref:w}),h))});u.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},u.classNames={fullWidth:o.zi,zeroRight:o.pF};var c=r(73943),d=r(3566),h=r(98848),p=!1;if("undefined"!=typeof window)try{var f=Object.defineProperty({},"passive",{get:function(){return p=!0,!0}});window.addEventListener("test",f,f),window.removeEventListener("test",f,f)}catch(e){p=!1}var m=!!p&&{passive:!1},g=function(e){return"TEXTAREA"===e.tagName},y=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&!(r.overflowY===r.overflowX&&!g(e)&&"visible"===r[t])},v=function(e){return y(e,"overflowY")},b=function(e){return y(e,"overflowX")},E=function(e,t){var r=t.ownerDocument,n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),T(e,n)){var i=A(e,n);if(i[1]>i[2])return!0}n=n.parentNode}while(n&&n!==r.body);return!1},S=function(e){return[e.scrollTop,e.scrollHeight,e.clientHeight]},_=function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]},T=function(e,t){return"v"===e?v(t):b(t)},A=function(e,t){return"v"===e?S(t):_(t)},C=function(e,t){return"h"===e&&"rtl"===t?-1:1},w=function(e,t,r,n,i){var o=C(e,window.getComputedStyle(t).direction),s=o*n,a=r.target,l=t.contains(a),u=!1,c=s>0,d=0,h=0;do{var p=A(e,a),f=p[0],m=p[1]-p[2]-o*f;(f||m)&&T(e,a)&&(d+=m,h+=f),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return c&&(i&&1>Math.abs(d)||!i&&s>d)?u=!0:!c&&(i&&1>Math.abs(h)||!i&&-s>h)&&(u=!0),u},O=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},R=function(e){return[e.deltaX,e.deltaY]},x=function(e){return e&&"current"in e?e.current:e},I=function(e,t){return e[0]===t[0]&&e[1]===t[1]},D=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},P=0,N=[];function k(e){var t=i.useRef([]),r=i.useRef([0,0]),o=i.useRef(),s=i.useState(P++)[0],a=i.useState(h.Ws)[0],l=i.useRef(e);i.useEffect(function(){l.current=e},[e]),i.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var t=(0,n.__spreadArray)([e.lockRef.current],(e.shards||[]).map(x),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var u=i.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!l.current.allowPinchZoom;var n,i=O(e),s=r.current,a="deltaX"in e?e.deltaX:s[0]-i[0],u="deltaY"in e?e.deltaY:s[1]-i[1],c=e.target,d=Math.abs(a)>Math.abs(u)?"h":"v";if("touches"in e&&"h"===d&&"range"===c.type)return!1;var h=E(d,c);if(!h)return!0;if(h?n=d:(n="v"===d?"h":"v",h=E(d,c)),!h)return!1;if(!o.current&&"changedTouches"in e&&(a||u)&&(o.current=n),!n)return!0;var p=o.current||n;return w(p,t,e,"h"===p?a:u,!0)},[]),c=i.useCallback(function(e){var r=e;if(N.length&&N[N.length-1]===a){var n="deltaY"in r?R(r):O(r),i=t.current.filter(function(e){return e.name===r.type&&(e.target===r.target||r.target===e.shadowParent)&&I(e.delta,n)})[0];if(i&&i.should){r.cancelable&&r.preventDefault();return}if(!i){var o=(l.current.shards||[]).map(x).filter(Boolean).filter(function(e){return e.contains(r.target)});(o.length>0?u(r,o[0]):!l.current.noIsolation)&&r.cancelable&&r.preventDefault()}}},[]),p=i.useCallback(function(e,r,n,i){var o={name:e,delta:r,target:n,should:i,shadowParent:M(n)};t.current.push(o),setTimeout(function(){t.current=t.current.filter(function(e){return e!==o})},1)},[]),f=i.useCallback(function(e){r.current=O(e),o.current=void 0},[]),g=i.useCallback(function(t){p(t.type,R(t),t.target,u(t,e.lockRef.current))},[]),y=i.useCallback(function(t){p(t.type,O(t),t.target,u(t,e.lockRef.current))},[]);i.useEffect(function(){return N.push(a),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:y}),document.addEventListener("wheel",c,m),document.addEventListener("touchmove",c,m),document.addEventListener("touchstart",f,m),function(){N=N.filter(function(e){return e!==a}),document.removeEventListener("wheel",c,m),document.removeEventListener("touchmove",c,m),document.removeEventListener("touchstart",f,m)}},[]);var v=e.removeScrollBar,b=e.inert;return i.createElement(i.Fragment,null,b?i.createElement(a,{styles:D(s)}):null,v?i.createElement(d.jp,{gapMode:e.gapMode}):null)}function M(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}let L=(0,c.L)(a,k);var B=i.forwardRef(function(e,t){return i.createElement(u,(0,n.__assign)({},e,{ref:t,sideCar:L}))});B.classNames=u.classNames;let j=B},98848:(e,t,r)=>{"use strict";r.d(t,{Ws:()=>d});var n,i=r(17577),o=function(){return n||r.nc};function s(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=o();return t&&e.setAttribute("nonce",t),e}function a(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function l(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}var u=function(){var e=0,t=null;return{add:function(r){0==e&&(t=s())&&(a(t,r),l(t)),e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},c=function(){var e=u();return function(t,r){i.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},d=function(){var e=c();return function(t){return e(t.styles,t.dynamic),null}}},53557:function(e,t,r){var n;!function(i,o){"use strict";var s="1.0.41",a="",l="?",u="function",c="undefined",d="object",h="string",p="major",f="model",m="name",g="type",y="vendor",v="version",b="architecture",E="console",S="mobile",_="tablet",T="smarttv",A="wearable",C="embedded",w=500,O="Amazon",R="Apple",x="ASUS",I="BlackBerry",D="Browser",P="Chrome",N="Firefox",k="Google",M="Honor",L="Huawei",B="LG",j="Microsoft",F="Motorola",U="Nvidia",V="OnePlus",z="Opera",G="OPPO",$="Samsung",H="Sharp",q="Sony",W="Xiaomi",K="Zebra",Y="Facebook",Z="Chromium OS",J="Mac OS",Q=" Browser",X=function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},ee=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},et=function(e,t){return typeof e===h&&-1!==er(t).indexOf(er(e))},er=function(e){return e.toLowerCase()},en=function(e){return typeof e===h?e.replace(/[^\d\.]/g,a).split(".")[0]:void 0},ei=function(e,t){if(typeof e===h)return e=e.replace(/^\s\s*/,a),typeof t===c?e:e.substring(0,w)},eo=function(e,t){for(var r,n,i,s,a,l,c=0;c<t.length&&!a;){var h=t[c],p=t[c+1];for(r=n=0;r<h.length&&!a&&h[r];)if(a=h[r++].exec(e))for(i=0;i<p.length;i++)l=a[++n],typeof(s=p[i])===d&&s.length>0?2===s.length?typeof s[1]==u?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==u||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):void 0:this[s[0]]=l?s[1].call(this,l,s[2]):void 0:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):o):this[s]=l||o;c+=2}},es=function(e,t){for(var r in t)if(typeof t[r]===d&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(et(t[r][n],e))return r===l?o:r}else if(et(t[r],e))return r===l?o:r;return t.hasOwnProperty("*")?t["*"]:e},ea={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},el={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[m,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[m,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[m,v],[/opios[\/ ]+([\w\.]+)/i],[v,[m,z+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[v,[m,z+" GX"]],[/\bopr\/([\w\.]+)/i],[v,[m,z]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[v,[m,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[v,[m,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[m,v],[/quark(?:pc)?\/([-\w\.]+)/i],[v,[m,"Quark"]],[/\bddg\/([\w\.]+)/i],[v,[m,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[m,"UC"+D]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[v,[m,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[m,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[m,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[m,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[v,[m,"Smart Lenovo "+D]],[/(avast|avg)\/([\w\.]+)/i],[[m,/(.+)/,"$1 Secure "+D],v],[/\bfocus\/([\w\.]+)/i],[v,[m,N+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[m,z+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[m,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[m,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[m,z+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[m,"MIUI"+Q]],[/fxios\/([\w\.-]+)/i],[v,[m,N]],[/\bqihoobrowser\/?([\w\.]*)/i],[v,[m,"360"]],[/\b(qq)\/([\w\.]+)/i],[[m,/(.+)/,"$1Browser"],v],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[m,/(.+)/,"$1"+Q],v],[/samsungbrowser\/([\w\.]+)/i],[v,[m,$+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[v,[m,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[m,"Sogou Mobile"],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[m,v],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[m],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[v,m],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[m,Y],v],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[m,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[m,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[m,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[m,P+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[m,P+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[m,"Android "+D]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[m,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[m,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,m],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[m,[v,es,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[m,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[m,"Netscape"],v],[/(wolvic|librewolf)\/([\w\.]+)/i],[m,v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[m,N+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[m,[v,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[m,[v,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[b,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[b,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[b,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[b,/ower/,a,er]],[/ sun4\w[;\)]/i],[[b,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[b,er]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[y,$],[g,_]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[y,$],[g,S]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[y,R],[g,S]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[y,R],[g,_]],[/(macintosh);/i],[f,[y,R]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[y,H],[g,S]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[f,[y,M],[g,_]],[/honor([-\w ]+)[;\)]/i],[f,[y,M],[g,S]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[f,[y,L],[g,_]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[y,L],[g,S]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[f,/_/g," "],[y,W],[g,_]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[f,/_/g," "],[y,W],[g,S]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[y,G],[g,S]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[f,[y,es,{OnePlus:["304","403","203"],"*":G}],[g,_]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[y,"Vivo"],[g,S]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[y,"Realme"],[g,S]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[y,F],[g,S]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[y,F],[g,_]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[y,B],[g,_]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[y,B],[g,S]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[f,[y,"Lenovo"],[g,_]],[/(nokia) (t[12][01])/i],[y,f,[g,_]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[f,/_/g," "],[g,S],[y,"Nokia"]],[/(pixel (c|tablet))\b/i],[f,[y,k],[g,_]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[y,k],[g,S]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[y,q],[g,S]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[y,q],[g,_]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[y,V],[g,S]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[y,O],[g,_]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[y,O],[g,S]],[/(playbook);[-\w\),; ]+(rim)/i],[f,y,[g,_]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[y,I],[g,S]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[y,x],[g,_]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[y,x],[g,S]],[/(nexus 9)/i],[f,[y,"HTC"],[g,_]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[y,[f,/_/g," "],[g,S]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[y,"TCL"],[g,_]],[/(itel) ((\w+))/i],[[y,er],f,[g,es,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[y,"Acer"],[g,_]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[y,"Meizu"],[g,S]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[y,"Ulefone"],[g,S]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[f,[y,"Energizer"],[g,S]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[f,[y,"Cat"],[g,S]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[f,[y,"Smartfren"],[g,S]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[y,"Nothing"],[g,S]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[f,[y,"Archos"],[g,_]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[f,[y,"Archos"],[g,S]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[y,f,[g,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[y,f,[g,S]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[y,f,[g,_]],[/(surface duo)/i],[f,[y,j],[g,_]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[y,"Fairphone"],[g,S]],[/(u304aa)/i],[f,[y,"AT&T"],[g,S]],[/\bsie-(\w*)/i],[f,[y,"Siemens"],[g,S]],[/\b(rct\w+) b/i],[f,[y,"RCA"],[g,_]],[/\b(venue[\d ]{2,7}) b/i],[f,[y,"Dell"],[g,_]],[/\b(q(?:mv|ta)\w+) b/i],[f,[y,"Verizon"],[g,_]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[y,"Barnes & Noble"],[g,_]],[/\b(tm\d{3}\w+) b/i],[f,[y,"NuVision"],[g,_]],[/\b(k88) b/i],[f,[y,"ZTE"],[g,_]],[/\b(nx\d{3}j) b/i],[f,[y,"ZTE"],[g,S]],[/\b(gen\d{3}) b.+49h/i],[f,[y,"Swiss"],[g,S]],[/\b(zur\d{3}) b/i],[f,[y,"Swiss"],[g,_]],[/\b((zeki)?tb.*\b) b/i],[f,[y,"Zeki"],[g,_]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[y,"Dragon Touch"],f,[g,_]],[/\b(ns-?\w{0,9}) b/i],[f,[y,"Insignia"],[g,_]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[y,"NextBook"],[g,_]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[y,"Voice"],f,[g,S]],[/\b(lvtel\-)?(v1[12]) b/i],[[y,"LvTel"],f,[g,S]],[/\b(ph-1) /i],[f,[y,"Essential"],[g,S]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[y,"Envizen"],[g,_]],[/\b(trio[-\w\. ]+) b/i],[f,[y,"MachSpeed"],[g,_]],[/\btu_(1491) b/i],[f,[y,"Rotor"],[g,_]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[f,[y,U],[g,_]],[/(sprint) (\w+)/i],[y,f,[g,S]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[y,j],[g,S]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[y,K],[g,_]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[y,K],[g,S]],[/smart-tv.+(samsung)/i],[y,[g,T]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[y,$],[g,T]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[y,B],[g,T]],[/(apple) ?tv/i],[y,[f,R+" TV"],[g,T]],[/crkey/i],[[f,P+"cast"],[y,k],[g,T]],[/droid.+aft(\w+)( bui|\))/i],[f,[y,O],[g,T]],[/(shield \w+ tv)/i],[f,[y,U],[g,T]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[y,H],[g,T]],[/(bravia[\w ]+)( bui|\))/i],[f,[y,q],[g,T]],[/(mi(tv|box)-?\w+) bui/i],[f,[y,W],[g,T]],[/Hbbtv.*(technisat) (.*);/i],[y,f,[g,T]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[y,ei],[f,ei],[g,T]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[f,[g,T]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,T]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[y,f,[g,E]],[/droid.+; (shield)( bui|\))/i],[f,[y,U],[g,E]],[/(playstation \w+)/i],[f,[y,q],[g,E]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[y,j],[g,E]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[f,[y,$],[g,A]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[y,f,[g,A]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[f,[y,G],[g,A]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[y,R],[g,A]],[/(opwwe\d{3})/i],[f,[y,V],[g,A]],[/(moto 360)/i],[f,[y,F],[g,A]],[/(smartwatch 3)/i],[f,[y,q],[g,A]],[/(g watch r)/i],[f,[y,B],[g,A]],[/droid.+; (wt63?0{2,3})\)/i],[f,[y,K],[g,A]],[/droid.+; (glass) \d/i],[f,[y,k],[g,A]],[/(pico) (4|neo3(?: link|pro)?)/i],[y,f,[g,A]],[/; (quest( \d| pro)?)/i],[f,[y,Y],[g,A]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[y,[g,C]],[/(aeobc)\b/i],[f,[y,O],[g,C]],[/(homepod).+mac os/i],[f,[y,R],[g,C]],[/windows iot/i],[[g,C]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[g,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[g,_]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,_]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,S]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[f,[y,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[m,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[m,v],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[m,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[m,v],[/ladybird\//i],[[m,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,m]],os:[[/microsoft (windows) (vista|xp)/i],[m,v],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[m,[v,es,ea]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,es,ea],[m,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[m,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[m,J],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,m],[/(ubuntu) ([\w\.]+) like android/i],[[m,/(.+)/,"$1 Touch"],v],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[m,v],[/\(bb(10);/i],[v,[m,I]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[v,[m,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[m,N+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[m,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[m,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[m,P+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[m,Z],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[m,v],[/(sunos) ?([\w\.\d]*)/i],[[m,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[m,v]]},eu=function(e,t){if(typeof e===d&&(t=e,e=o),!(this instanceof eu))return new eu(e,t).getResult();var r=typeof i!==c&&i.navigator?i.navigator:o,n=e||(r&&r.userAgent?r.userAgent:a),s=r&&r.userAgentData?r.userAgentData:o,l=t?X(el,t):el,E=r&&r.userAgent==n;return this.getBrowser=function(){var e={};return e[m]=o,e[v]=o,eo.call(e,n,l.browser),e[p]=en(e[v]),E&&r&&r.brave&&typeof r.brave.isBrave==u&&(e[m]="Brave"),e},this.getCPU=function(){var e={};return e[b]=o,eo.call(e,n,l.cpu),e},this.getDevice=function(){var e={};return e[y]=o,e[f]=o,e[g]=o,eo.call(e,n,l.device),E&&!e[g]&&s&&s.mobile&&(e[g]=S),E&&"Macintosh"==e[f]&&r&&typeof r.standalone!==c&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[f]="iPad",e[g]=_),e},this.getEngine=function(){var e={};return e[m]=o,e[v]=o,eo.call(e,n,l.engine),e},this.getOS=function(){var e={};return e[m]=o,e[v]=o,eo.call(e,n,l.os),E&&!e[m]&&s&&s.platform&&"Unknown"!=s.platform&&(e[m]=s.platform.replace(/chrome os/i,Z).replace(/macos/i,J)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===h&&e.length>w?ei(e,w):e,this},this.setUA(n),this};eu.VERSION=s,eu.BROWSER=ee([m,v,p]),eu.CPU=ee([b]),eu.DEVICE=ee([f,y,g,E,S,T,_,A,C]),eu.ENGINE=eu.OS=ee([m,v]),typeof t!==c?("object"!==c&&e.exports&&(t=e.exports=eu),t.UAParser=eu):"function"===u&&r.amdO?o!==(n=(function(){return eu}).call(t,r,t,e))&&(e.exports=n):typeof i!==c&&(i.UAParser=eu);var ec=typeof i!==c&&(i.jQuery||i.Zepto);if(ec&&!ec.ua){var ed=new eu;ec.ua=ed.getResult(),ec.ua.get=function(){return ed.getUA()},ec.ua.set=function(e){ed.setUA(e);var t=ed.getResult();for(var r in t)ec.ua[r]=t[r]}}}("object"==typeof window?window:this)},55745:(e,t,r)=>{"use strict";r.d(t,{q:()=>l});var n=r(17577);function i(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}function o(e,t){var r=(0,n.useState)(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(value){var n=r.value;n!==value&&(r.value=value,r.callback(value,n))}}}})[0];return r.callback=t,r.facade}var s="undefined"!=typeof window?n.useLayoutEffect:n.useEffect,a=new WeakMap;function l(e,t){var r=o(t||null,function(t){return e.forEach(function(e){return i(e,t)})});return s(function(){var t=a.get(r);if(t){var n=new Set(t),o=new Set(e),s=r.current;n.forEach(function(e){o.has(e)||i(e,null)}),o.forEach(function(e){n.has(e)||i(e,s)})}a.set(r,e)},[e]),r}},73943:(e,t,r)=>{"use strict";r.d(t,{L:()=>s});var n=r(65826),i=r(17577),o=function(e){var t=e.sideCar,r=(0,n.__rest)(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var o=t.read();if(!o)throw Error("Sidecar medium not found");return i.createElement(o,(0,n.__assign)({},r))};function s(e,t){return e.useMedium(t),o}o.isSideCarExport=!0},45305:(e,t,r)=>{"use strict";r.d(t,{_:()=>s});var n=r(65826);function i(e){return e}function o(e,t){void 0===t&&(t=i);var r=[],n=!1;return{read:function(){if(n)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(e){var i=t(e,n);return r.push(i),function(){r=r.filter(function(e){return e!==i})}},assignSyncMedium:function(e){for(n=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){n=!0;var t=[];if(r.length){var i=r;r=[],i.forEach(e),t=r}var o=function(){var r=t;t=[],r.forEach(e)},s=function(){return Promise.resolve().then(o)};s(),r={push:function(e){t.push(e),s()},filter:function(e){return t=t.filter(e),r}}}}}function s(e){void 0===e&&(e={});var t=o(null);return t.options=(0,n.__assign)({async:!0,ssr:!1},e),t}},69856:(e,t,r)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(17577);function i(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var o="function"==typeof Object.is?Object.is:i,s=n.useState,a=n.useEffect,l=n.useLayoutEffect,u=n.useDebugValue;function c(e,t){var r=t(),n=s({inst:{value:r,getSnapshot:t}}),i=n[0].inst,o=n[1];return l(function(){i.value=r,i.getSnapshot=t,d(i)&&o({inst:i})},[e,r,t]),a(function(){return d(i)&&o({inst:i}),e(function(){d(i)&&o({inst:i})})},[e]),u(r),r}function d(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!o(e,r)}catch(e){return!0}}function h(e,t){return t()}var p="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?h:c;t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:p},77513:(e,t,r)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(17577),i=r(94095);function o(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var s="function"==typeof Object.is?Object.is:o,a=i.useSyncExternalStore,l=n.useRef,u=n.useEffect,c=n.useMemo,d=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var o=l(null);if(null===o.current){var h={hasValue:!1,value:null};o.current=h}else h=o.current;var p=a(e,(o=c(function(){function e(e){if(!l){if(l=!0,o=e,e=n(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return a=t}return a=e}if(t=a,s(o,e))return t;var r=n(e);return void 0!==i&&i(t,r)?t:(o=e,a=r)}var o,a,l=!1,u=void 0===r?null:r;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,r,n,i]))[0],o[1]);return u(function(){h.hasValue=!0,h.value=p},[p]),d(p),p}},94095:(e,t,r)=>{"use strict";e.exports=r(69856)},21508:(e,t,r)=>{"use strict";e.exports=r(77513)},79200:(e,t)=>{"use strict";var r;t.SchemaType=void 0,function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"}(t.SchemaType||(t.SchemaType={})),/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t.ExecutableCodeLanguage=void 0,function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"}(t.ExecutableCodeLanguage||(t.ExecutableCodeLanguage={})),t.Outcome=void 0,function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"}(t.Outcome||(t.Outcome={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n=["user","model","function","system"];t.HarmCategory=void 0,function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"}(t.HarmCategory||(t.HarmCategory={})),t.HarmBlockThreshold=void 0,function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"}(t.HarmBlockThreshold||(t.HarmBlockThreshold={})),t.HarmProbability=void 0,function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"}(t.HarmProbability||(t.HarmProbability={})),t.BlockReason=void 0,function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"}(t.BlockReason||(t.BlockReason={})),t.FinishReason=void 0,function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"}(t.FinishReason||(t.FinishReason={})),t.TaskType=void 0,function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"}(t.TaskType||(t.TaskType={})),t.FunctionCallingMode=void 0,function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"}(t.FunctionCallingMode||(t.FunctionCallingMode={})),t.DynamicRetrievalMode=void 0,function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(t.DynamicRetrievalMode||(t.DynamicRetrievalMode={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class o extends i{constructor(e,t){super(e),this.response=t}}class s extends i{constructor(e,t,r,n){super(e),this.status=t,this.statusText=r,this.errorDetails=n}}class a extends i{}class l extends i{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u="https://generativelanguage.googleapis.com",c="v1beta",d="0.24.0",h="genai-js";!function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"}(r||(r={}));class p{constructor(e,t,r,n,i){this.model=e,this.task=t,this.apiKey=r,this.stream=n,this.requestOptions=i}toString(){var e,t;let r=(null===(e=this.requestOptions)||void 0===e?void 0:e.apiVersion)||c,n=(null===(t=this.requestOptions)||void 0===t?void 0:t.baseUrl)||u,i=`${n}/${r}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function f(e){let t=[];return(null==e?void 0:e.apiClient)&&t.push(e.apiClient),t.push(`${h}/${d}`),t.join(" ")}async function m(e){var t;let r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",f(e.requestOptions)),r.append("x-goog-api-key",e.apiKey);let n=null===(t=e.requestOptions)||void 0===t?void 0:t.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(e){throw new a(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${e.message}`)}for(let[e,t]of n.entries()){if("x-goog-api-key"===e)throw new a(`Cannot set reserved header name ${e}`);if("x-goog-api-client"===e)throw new a(`Header name ${e} can only be set using the apiClient field`);r.append(e,t)}}return r}async function g(e,t,r,n,i,o){let s=new p(e,t,r,n,o);return{url:s.toString(),fetchOptions:Object.assign(Object.assign({},S(o)),{method:"POST",headers:await m(s),body:i})}}async function y(e,t,r,n,i,o={},s=fetch){let{url:a,fetchOptions:l}=await g(e,t,r,n,i,o);return v(a,l,s)}async function v(e,t,r=fetch){let n;try{n=await r(e,t)}catch(t){b(t,e)}return n.ok||await E(n,e),n}function b(e,t){let r=e;throw"AbortError"===r.name?(r=new l(`Request aborted when fetching ${t.toString()}: ${e.message}`)).stack=e.stack:e instanceof s||e instanceof a||((r=new i(`Error fetching from ${t.toString()}: ${e.message}`)).stack=e.stack),r}async function E(e,t){let r,n="";try{let t=await e.json();n=t.error.message,t.error.details&&(n+=` ${JSON.stringify(t.error.details)}`,r=t.error.details)}catch(e){}throw new s(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,r)}function S(e){let t={};if((null==e?void 0:e.signal)!==void 0||(null==e?void 0:e.timeout)>=0){let r=new AbortController;(null==e?void 0:e.timeout)>=0&&setTimeout(()=>r.abort(),e.timeout),(null==e?void 0:e.signal)&&e.signal.addEventListener("abort",()=>{r.abort()}),t.signal=r.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),w(e.candidates[0]))throw new o(`${O(e)}`,e);return T(e)}if(e.promptFeedback)throw new o(`Text not available. ${O(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),w(e.candidates[0]))throw new o(`${O(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),A(e)[0]}if(e.promptFeedback)throw new o(`Function call not available. ${O(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),w(e.candidates[0]))throw new o(`${O(e)}`,e);return A(e)}if(e.promptFeedback)throw new o(`Function call not available. ${O(e)}`,e)},e}function T(e){var t,r,n,i;let o=[];if(null===(r=null===(t=e.candidates)||void 0===t?void 0:t[0].content)||void 0===r?void 0:r.parts)for(let t of null===(i=null===(n=e.candidates)||void 0===n?void 0:n[0].content)||void 0===i?void 0:i.parts)t.text&&o.push(t.text),t.executableCode&&o.push("\n```"+t.executableCode.language+"\n"+t.executableCode.code+"\n```\n"),t.codeExecutionResult&&o.push("\n```\n"+t.codeExecutionResult.output+"\n```\n");return o.length>0?o.join(""):""}function A(e){var t,r,n,i;let o=[];if(null===(r=null===(t=e.candidates)||void 0===t?void 0:t[0].content)||void 0===r?void 0:r.parts)for(let t of null===(i=null===(n=e.candidates)||void 0===n?void 0:n[0].content)||void 0===i?void 0:i.parts)t.functionCall&&o.push(t.functionCall);return o.length>0?o:void 0}let C=[t.FinishReason.RECITATION,t.FinishReason.SAFETY,t.FinishReason.LANGUAGE];function w(e){return!!e.finishReason&&C.includes(e.finishReason)}function O(e){var t,r,n;let i="";if((!e.candidates||0===e.candidates.length)&&e.promptFeedback)i+="Response was blocked",(null===(t=e.promptFeedback)||void 0===t?void 0:t.blockReason)&&(i+=` due to ${e.promptFeedback.blockReason}`),(null===(r=e.promptFeedback)||void 0===r?void 0:r.blockReasonMessage)&&(i+=`: ${e.promptFeedback.blockReasonMessage}`);else if(null===(n=e.candidates)||void 0===n?void 0:n[0]){let t=e.candidates[0];w(t)&&(i+=`Candidate was blocked due to ${t.finishReason}`,t.finishMessage&&(i+=`: ${t.finishMessage}`))}return i}function R(e){return this instanceof R?(this.v=e,this):new R(e)}function x(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{l(i[e](t))}catch(e){d(o[0][3],e)}}function l(e){e.value instanceof R?Promise.resolve(e.value.v).then(u,c):d(o[0][2],e)}function u(e){a("next",e)}function c(e){a("throw",e)}function d(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}"function"==typeof SuppressedError&&SuppressedError;/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function D(e){let[t,r]=k(e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0}))).tee();return{stream:N(t),response:P(r)}}async function P(e){let t=[],r=e.getReader();for(;;){let{done:e,value:n}=await r.read();if(e)return _(M(t));t.push(n)}}function N(e){return x(this,arguments,function*(){let t=e.getReader();for(;;){let{value:e,done:r}=yield R(t.read());if(r)break;yield yield R(_(e))}})}function k(e){let t=e.getReader();return new ReadableStream({start(e){let r="";return n();function n(){return t.read().then(({value:t,done:o})=>{let s;if(o){if(r.trim()){e.error(new i("Failed to parse stream"));return}e.close();return}let a=(r+=t).match(I);for(;a;){try{s=JSON.parse(a[1])}catch(t){e.error(new i(`Error parsing JSON response: "${a[1]}"`));return}e.enqueue(s),a=(r=r.substring(a[0].length)).match(I)}return n()}).catch(e=>{let t=e;throw t.stack=e.stack,t="AbortError"===t.name?new l("Request aborted when reading from the stream"):new i("Error reading from the stream")})}}})}function M(e){let t=e[e.length-1],r={promptFeedback:null==t?void 0:t.promptFeedback};for(let t of e){if(t.candidates){let e=0;for(let n of t.candidates)if(r.candidates||(r.candidates=[]),r.candidates[e]||(r.candidates[e]={index:e}),r.candidates[e].citationMetadata=n.citationMetadata,r.candidates[e].groundingMetadata=n.groundingMetadata,r.candidates[e].finishReason=n.finishReason,r.candidates[e].finishMessage=n.finishMessage,r.candidates[e].safetyRatings=n.safetyRatings,n.content&&n.content.parts){r.candidates[e].content||(r.candidates[e].content={role:n.content.role||"user",parts:[]});let t={};for(let i of n.content.parts)i.text&&(t.text=i.text),i.functionCall&&(t.functionCall=i.functionCall),i.executableCode&&(t.executableCode=i.executableCode),i.codeExecutionResult&&(t.codeExecutionResult=i.codeExecutionResult),0===Object.keys(t).length&&(t.text=""),r.candidates[e].content.parts.push(t)}e++}t.usageMetadata&&(r.usageMetadata=t.usageMetadata)}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L(e,t,n,i){return D(await y(t,r.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),i))}async function B(e,t,n,i){let o=await y(t,r.GENERATE_CONTENT,e,!1,JSON.stringify(n),i);return{response:_(await o.json())}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(e){if(null!=e){if("string"==typeof e)return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function F(e){let t=[];if("string"==typeof e)t=[{text:e}];else for(let r of e)"string"==typeof r?t.push({text:r}):t.push(r);return U(t)}function U(e){let t={role:"user",parts:[]},r={role:"function",parts:[]},n=!1,o=!1;for(let i of e)"functionResponse"in i?(r.parts.push(i),o=!0):(t.parts.push(i),n=!0);if(n&&o)throw new i("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!n&&!o)throw new i("No content is provided for sending chat message.");return n?t:r}function V(e,t){var r;let n={model:null==t?void 0:t.model,generationConfig:null==t?void 0:t.generationConfig,safetySettings:null==t?void 0:t.safetySettings,tools:null==t?void 0:t.tools,toolConfig:null==t?void 0:t.toolConfig,systemInstruction:null==t?void 0:t.systemInstruction,cachedContent:null===(r=null==t?void 0:t.cachedContent)||void 0===r?void 0:r.name,contents:[]},i=null!=e.generateContentRequest;if(e.contents){if(i)throw new a("CountTokensRequest must have one of contents or generateContentRequest, not both.");n.contents=e.contents}else if(i)n=Object.assign(Object.assign({},n),e.generateContentRequest);else{let t=F(e);n.contents=[t]}return{generateContentRequest:n}}function z(e){let t;return t=e.contents?e:{contents:[F(e)]},e.systemInstruction&&(t.systemInstruction=j(e.systemInstruction)),t}function G(e){return"string"==typeof e||Array.isArray(e)?{content:F(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],H={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function q(e){let t=!1;for(let r of e){let{role:e,parts:o}=r;if(!t&&"user"!==e)throw new i(`First content should be with role 'user', got ${e}`);if(!n.includes(e))throw new i(`Each item should include role field. Got ${e} but valid roles are: ${JSON.stringify(n)}`);if(!Array.isArray(o))throw new i("Content should have 'parts' property with an array of Parts");if(0===o.length)throw new i("Each Content should have at least one part");let s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(let e of o)for(let t of $)t in e&&(s[t]+=1);let a=H[e];for(let t of $)if(!a.includes(t)&&s[t]>0)throw new i(`Content with role '${e}' can't contain '${t}' part`);t=!0}}function W(e){var t;if(void 0===e.candidates||0===e.candidates.length)return!1;let r=null===(t=e.candidates[0])||void 0===t?void 0:t.content;if(void 0===r||void 0===r.parts||0===r.parts.length)return!1;for(let e of r.parts)if(void 0===e||0===Object.keys(e).length||void 0!==e.text&&""===e.text)return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K="SILENT_ERROR";class Y{constructor(e,t,r,n={}){this.model=t,this.params=r,this._requestOptions=n,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,(null==r?void 0:r.history)&&(q(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,t={}){var r,n,i,o,s,a;let l;await this._sendPromise;let u=F(e),c={safetySettings:null===(r=this.params)||void 0===r?void 0:r.safetySettings,generationConfig:null===(n=this.params)||void 0===n?void 0:n.generationConfig,tools:null===(i=this.params)||void 0===i?void 0:i.tools,toolConfig:null===(o=this.params)||void 0===o?void 0:o.toolConfig,systemInstruction:null===(s=this.params)||void 0===s?void 0:s.systemInstruction,cachedContent:null===(a=this.params)||void 0===a?void 0:a.cachedContent,contents:[...this._history,u]},d=Object.assign(Object.assign({},this._requestOptions),t);return this._sendPromise=this._sendPromise.then(()=>B(this._apiKey,this.model,c,d)).then(e=>{var t;if(W(e.response)){this._history.push(u);let r=Object.assign({parts:[],role:"model"},null===(t=e.response.candidates)||void 0===t?void 0:t[0].content);this._history.push(r)}else{let t=O(e.response);t&&console.warn(`sendMessage() was unsuccessful. ${t}. Inspect response object for details.`)}l=e}),await this._sendPromise,l}async sendMessageStream(e,t={}){var r,n,i,o,s,a;await this._sendPromise;let l=F(e),u={safetySettings:null===(r=this.params)||void 0===r?void 0:r.safetySettings,generationConfig:null===(n=this.params)||void 0===n?void 0:n.generationConfig,tools:null===(i=this.params)||void 0===i?void 0:i.tools,toolConfig:null===(o=this.params)||void 0===o?void 0:o.toolConfig,systemInstruction:null===(s=this.params)||void 0===s?void 0:s.systemInstruction,cachedContent:null===(a=this.params)||void 0===a?void 0:a.cachedContent,contents:[...this._history,l]},c=Object.assign(Object.assign({},this._requestOptions),t),d=L(this._apiKey,this.model,u,c);return this._sendPromise=this._sendPromise.then(()=>d).catch(e=>{throw Error(K)}).then(e=>e.response).then(e=>{if(W(e)){this._history.push(l);let t=Object.assign({},e.candidates[0].content);t.role||(t.role="model"),this._history.push(t)}else{let t=O(e);t&&console.warn(`sendMessageStream() was unsuccessful. ${t}. Inspect response object for details.`)}}).catch(e=>{e.message!==K&&console.error(e)}),d}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z(e,t,n,i){return(await y(t,r.COUNT_TOKENS,e,!1,JSON.stringify(n),i)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J(e,t,n,i){return(await y(t,r.EMBED_CONTENT,e,!1,JSON.stringify(n),i)).json()}async function Q(e,t,n,i){let o=n.requests.map(e=>Object.assign(Object.assign({},e),{model:t}));return(await y(t,r.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:o}),i)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e,t,r={}){this.apiKey=e,this._requestOptions=r,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=j(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(e,t={}){var r;let n=z(e),i=Object.assign(Object.assign({},this._requestOptions),t);return B(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(r=this.cachedContent)||void 0===r?void 0:r.name},n),i)}async generateContentStream(e,t={}){var r;let n=z(e),i=Object.assign(Object.assign({},this._requestOptions),t);return L(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(r=this.cachedContent)||void 0===r?void 0:r.name},n),i)}startChat(e){var t;return new Y(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null===(t=this.cachedContent)||void 0===t?void 0:t.name},e),this._requestOptions)}async countTokens(e,t={}){let r=V(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),n=Object.assign(Object.assign({},this._requestOptions),t);return Z(this.apiKey,this.model,r,n)}async embedContent(e,t={}){let r=G(e),n=Object.assign(Object.assign({},this._requestOptions),t);return J(this.apiKey,this.model,r,n)}async batchEmbedContents(e,t={}){let r=Object.assign(Object.assign({},this._requestOptions),t);return Q(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new i("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new X(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,r){if(!e.name)throw new a("Cached content must contain a `name` field.");if(!e.model)throw new a("Cached content must contain a `model` field.");for(let r of["model","systemInstruction"])if((null==t?void 0:t[r])&&e[r]&&(null==t?void 0:t[r])!==e[r]){if("model"===r&&(t.model.startsWith("models/")?t.model.replace("models/",""):t.model)===(e.model.startsWith("models/")?e.model.replace("models/",""):e.model))continue;throw new a(`Different value for "${r}" specified in modelParams (${t[r]}) and cachedContent (${e[r]})`)}let n=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new X(this.apiKey,n,r)}}t.ChatSession=Y,t.GenerativeModel=X,t.GoogleGenerativeAI=ee,t.GoogleGenerativeAIAbortError=l,t.GoogleGenerativeAIError=i,t.GoogleGenerativeAIFetchError=s,t.GoogleGenerativeAIRequestInputError=a,t.GoogleGenerativeAIResponseError=o,t.POSSIBLE_ROLES=n},99697:(e,t,r)=>{"use strict";var n,i,o,s,a,l,u,c,d,h=r(57147);/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class f extends p{constructor(e,t,r,n){super(e),this.status=t,this.statusText=r,this.errorDetails=n}}class m extends p{}class g extends p{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y="https://generativelanguage.googleapis.com",v="v1beta",b="0.24.0",E="genai-js";function S(e){let t=[];return(null==e?void 0:e.apiClient)&&t.push(e.apiClient),t.push(`${E}/${b}`),t.join(" ")}async function _(e,t,r=fetch){let n;try{n=await r(e,t)}catch(t){T(t,e)}return n.ok||await A(n,e),n}function T(e,t){let r=e;throw"AbortError"===r.name?(r=new g(`Request aborted when fetching ${t.toString()}: ${e.message}`)).stack=e.stack:e instanceof f||e instanceof m||((r=new p(`Error fetching from ${t.toString()}: ${e.message}`)).stack=e.stack),r}async function A(e,t){let r,n="";try{let t=await e.json();n=t.error.message,t.error.details&&(n+=` ${JSON.stringify(t.error.details)}`,r=t.error.details)}catch(e){}throw new f(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,r)}(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(n||(n={})),function(e){e.UPLOAD="upload",e.LIST="list",e.GET="get",e.DELETE="delete",e.UPDATE="update",e.CREATE="create"}(i||(i={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C={[i.UPLOAD]:"POST",[i.LIST]:"GET",[i.GET]:"GET",[i.DELETE]:"DELETE",[i.UPDATE]:"PATCH",[i.CREATE]:"POST"};class w{constructor(e,t,r){this.task=e,this.apiKey=t,this.requestOptions=r}appendPath(e){this._url.pathname=this._url.pathname+`/${e}`}appendParam(e,t){this._url.searchParams.append(e,t)}toString(){return this._url.toString()}}class O extends w{constructor(e,t,r){var n,i;super(e,t,r),this.task=e,this.apiKey=t,this.requestOptions=r;let o=(null===(n=this.requestOptions)||void 0===n?void 0:n.apiVersion)||v,s=(null===(i=this.requestOptions)||void 0===i?void 0:i.baseUrl)||y;s+=`/${o}/cachedContents`,this._url=new URL(s)}}class R extends w{constructor(e,t,r){var n,o;super(e,t,r),this.task=e,this.apiKey=t,this.requestOptions=r;let s=(null===(n=this.requestOptions)||void 0===n?void 0:n.apiVersion)||v,a=(null===(o=this.requestOptions)||void 0===o?void 0:o.baseUrl)||y;this.task===i.UPLOAD&&(a+="/upload"),a+=`/${s}/files`,this._url=new URL(a)}}function x(e){var t;let r=new Headers;r.append("x-goog-api-client",S(e.requestOptions)),r.append("x-goog-api-key",e.apiKey);let n=null===(t=e.requestOptions)||void 0===t?void 0:t.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(e){throw new m(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${e.message}`)}for(let[e,t]of n.entries()){if("x-goog-api-key"===e)throw new m(`Cannot set reserved header name ${e}`);if("x-goog-api-client"===e)throw new m(`Header name ${e} can only be set using the apiClient field`);r.append(e,t)}}return r}async function I(e,t,r,n=fetch){let i={method:C[e.task],headers:t};r&&(i.body=r);let o=D(e.requestOptions);return o&&(i.signal=o),_(e.toString(),i,n)}function D(e){if((null==e?void 0:e.signal)!==void 0||(null==e?void 0:e.timeout)>=0){let t=new AbortController;return(null==e?void 0:e.timeout)>=0&&setTimeout(()=>t.abort(),e.timeout),e.signal&&e.signal.addEventListener("abort",()=>{t.abort()}),t.signal}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e,t={}){this.apiKey=e,this._requestOptions=t}async uploadFile(e,t){let r=e instanceof Buffer?e:h.readFileSync(e),n=new R(i.UPLOAD,this.apiKey,this._requestOptions),o=x(n),s=k();o.append("X-Goog-Upload-Protocol","multipart"),o.append("Content-Type",`multipart/related; boundary=${s}`);let a=new Blob(["--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+JSON.stringify({file:M(t)})+"\r\n--"+s+"\r\nContent-Type: "+t.mimeType+"\r\n\r\n",r,"\r\n--"+s+"--"]);return(await I(n,o,a)).json()}async listFiles(e,t={}){let r=Object.assign(Object.assign({},this._requestOptions),t),n=new R(i.LIST,this.apiKey,r);(null==e?void 0:e.pageSize)&&n.appendParam("pageSize",e.pageSize.toString()),(null==e?void 0:e.pageToken)&&n.appendParam("pageToken",e.pageToken);let o=x(n);return(await I(n,o)).json()}async getFile(e,t={}){let r=Object.assign(Object.assign({},this._requestOptions),t),n=new R(i.GET,this.apiKey,r);n.appendPath(N(e));let o=x(n);return(await I(n,o)).json()}async deleteFile(e){let t=new R(i.DELETE,this.apiKey,this._requestOptions);t.appendPath(N(e));let r=x(t);await I(t,r)}}function N(e){if(e.startsWith("files/"))return e.split("files/")[1];if(!e)throw new p(`Invalid fileId ${e}. Must be in the format "files/filename" or "filename"`);return e}function k(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}function M(e){if(!e.mimeType)throw new m("Must provide a mimeType.");let t={mimeType:e.mimeType,displayName:e.displayName};return e.name&&(t.name=e.name.includes("/")?e.name:`files/${e.name}`),t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(e){if(null!=e){if("string"==typeof e)return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e,t){this.apiKey=e,this._requestOptions=t}async create(e){let t=Object.assign({},e);if(e.ttlSeconds){if(e.expireTime)throw new m("You cannot specify both `ttlSeconds` and `expireTime` when creating a content cache. You must choose one.");t.ttl=e.ttlSeconds.toString()+"s",delete t.ttlSeconds}if(e.systemInstruction&&(t.systemInstruction=L(e.systemInstruction)),!t.model)throw new m("Cached content must contain a `model` field.");t.model.includes("/")||(t.model=`models/${t.model}`);let r=new O(i.CREATE,this.apiKey,this._requestOptions),n=x(r);return(await I(r,n,JSON.stringify(t))).json()}async list(e){let t=new O(i.LIST,this.apiKey,this._requestOptions);(null==e?void 0:e.pageSize)&&t.appendParam("pageSize",e.pageSize.toString()),(null==e?void 0:e.pageToken)&&t.appendParam("pageToken",e.pageToken);let r=x(t);return(await I(t,r)).json()}async get(e){let t=new O(i.GET,this.apiKey,this._requestOptions);t.appendPath(j(e));let r=x(t);return(await I(t,r)).json()}async update(e,t){let r=new O(i.UPDATE,this.apiKey,this._requestOptions);r.appendPath(j(e));let n=x(r),o=Object.assign({},t.cachedContent);return t.cachedContent.ttlSeconds&&(o.ttl=t.cachedContent.ttlSeconds.toString()+"s",delete o.ttlSeconds),t.updateMask&&r.appendParam("update_mask",t.updateMask.map(e=>F(e)).join(",")),(await I(r,n,JSON.stringify(o))).json()}async delete(e){let t=new O(i.DELETE,this.apiKey,this._requestOptions);t.appendPath(j(e));let r=x(t);await I(t,r)}}function j(e){if(e.startsWith("cachedContents/"))return e.split("cachedContents/")[1];if(!e)throw new p(`Invalid name ${e}. Must be in the format "cachedContents/name" or "name"`);return e}function F(e){return e.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}t.FileState=void 0,function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"}(t.FileState||(t.FileState={})),t.SchemaType=void 0,function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"}(t.SchemaType||(t.SchemaType={})),/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */t.ExecutableCodeLanguage=void 0,function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"}(t.ExecutableCodeLanguage||(t.ExecutableCodeLanguage={})),t.Outcome=void 0,function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"}(t.Outcome||(t.Outcome={})),function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"}(o||(o={})),function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"}(s||(s={})),function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"}(a||(a={})),function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"}(l||(l={})),function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"}(u||(u={})),function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"}(c||(c={})),t.FunctionCallingMode=void 0,function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"}(t.FunctionCallingMode||(t.FunctionCallingMode={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(d||(d={})),t.GoogleAICacheManager=B,t.GoogleAIFileManager=P},31921:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addAdminServicesToServer=t.registerAdminService=void 0;let r=[];function n(e,t){r.push({getServiceDefinition:e,getHandlers:t})}function i(e){for(let{getServiceDefinition:t,getHandlers:n}of r)e.addService(t(),n())}t.registerAdminService=n,t.addAdminServicesToServer=i},87537:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackoffTimeout=void 0;let r=1e3,n=1.6,i=12e4,o=.2;function s(e,t){return Math.random()*(t-e)+e}class a{constructor(e,t){this.callback=e,this.initialDelay=r,this.multiplier=n,this.maxDelay=i,this.jitter=o,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,t&&(t.initialDelay&&(this.initialDelay=t.initialDelay),t.multiplier&&(this.multiplier=t.multiplier),t.jitter&&(this.jitter=t.jitter),t.maxDelay&&(this.maxDelay=t.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runTimer(e){var t,r;this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.callback(),this.running=!1},e),this.hasRef||null===(r=(t=this.timerId).unref)||void 0===r||r.call(t)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let e=Math.min(this.nextDelay*this.multiplier,this.maxDelay),t=e*this.jitter;this.nextDelay=e+s(-t,t)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){let e=new Date,t=this.startTime;t.setMilliseconds(t.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),e<t?this.runTimer(t.getTime()-e.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var e,t;this.hasRef=!0,null===(t=(e=this.timerId).ref)||void 0===t||t.call(e)}unref(){var e,t;this.hasRef=!1,null===(t=(e=this.timerId).unref)||void 0===t||t.call(e)}getEndTime(){return this.endTime}}t.BackoffTimeout=a},82106:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallCredentials=void 0;let n=r(65829);function i(e){return"getRequestHeaders"in e&&"function"==typeof e.getRequestHeaders}class o{static createFromMetadataGenerator(e){return new a(e)}static createFromGoogleCredential(e){return o.createFromMetadataGenerator((t,r)=>{let o;(o=i(e)?e.getRequestHeaders(t.service_url):new Promise((r,n)=>{e.getRequestMetadata(t.service_url,(e,t)=>{if(e){n(e);return}if(!t){n(Error("Headers not set by metadata plugin"));return}r(t)})})).then(e=>{let t=new n.Metadata;for(let r of Object.keys(e))t.add(r,e[r]);r(null,t)},e=>{r(e)})})}static createEmpty(){return new l}}t.CallCredentials=o;class s extends o{constructor(e){super(),this.creds=e}async generateMetadata(e){let t=new n.Metadata;for(let r of(await Promise.all(this.creds.map(t=>t.generateMetadata(e)))))t.merge(r);return t}compose(e){return new s(this.creds.concat([e]))}_equals(e){return this===e||e instanceof s&&this.creds.every((t,r)=>t._equals(e.creds[r]))}}class a extends o{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise((t,r)=>{this.metadataGenerator(e,(e,n)=>{void 0!==n?t(n):r(e)})})}compose(e){return new s([this,e])}_equals(e){return this===e||e instanceof a&&this.metadataGenerator===e.metadataGenerator}}class l extends o{generateMetadata(e){return Promise.resolve(new n.Metadata)}compose(e){return e}_equals(e){return e instanceof l}}},45944:(e,t)=>{"use strict";function r(e){return void 0!==e.onReceiveMetadata&&1===e.onReceiveMetadata.length}Object.defineProperty(t,"__esModule",{value:!0}),t.InterceptingListenerImpl=t.isInterceptingListener=void 0,t.isInterceptingListener=r;class n{constructor(e,t){this.listener=e,this.nextListener=t,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(e){this.processingMetadata=!0,this.listener.onReceiveMetadata(e,e=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(e),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(e){this.processingMessage=!0,this.listener.onReceiveMessage(e,e=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=e,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(e),this.processPendingStatus())})}onReceiveStatus(e){this.listener.onReceiveStatus(e,e=>{this.processingMetadata||this.processingMessage?this.pendingStatus=e:this.nextListener.onReceiveStatus(e)})}}t.InterceptingListenerImpl=n},66404:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNextCallNumber=void 0;let r=0;function n(){return r++}t.getNextCallNumber=n},65509:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientDuplexStreamImpl=t.ClientWritableStreamImpl=t.ClientReadableStreamImpl=t.ClientUnaryCallImpl=t.callErrorFromStatus=void 0;let n=r(82361),i=r(12781),o=r(50551);function s(e,t){let r=`${e.code} ${o.Status[e.code]}: ${e.details}`,n=Error(r),i=`${n.stack}
for call at
${t}`;return Object.assign(Error(r),e,{stack:i})}t.callErrorFromStatus=s;class a extends n.EventEmitter{constructor(){super()}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(o.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}}t.ClientUnaryCallImpl=a;class l extends i.Readable{constructor(e){super({objectMode:!0}),this.deserialize=e}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(o.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_read(e){var t;null===(t=this.call)||void 0===t||t.startRead()}}t.ClientReadableStreamImpl=l;class u extends i.Writable{constructor(e){super({objectMode:!0}),this.serialize=e}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(o.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_write(e,t,r){var n;let i={callback:r},o=Number(t);Number.isNaN(o)||(i.flags=o),null===(n=this.call)||void 0===n||n.sendMessageWithContext(i,e)}_final(e){var t;null===(t=this.call)||void 0===t||t.halfClose(),e()}}t.ClientWritableStreamImpl=u;class c extends i.Duplex{constructor(e,t){super({objectMode:!0}),this.serialize=e,this.deserialize=t}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(o.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_read(e){var t;null===(t=this.call)||void 0===t||t.startRead()}_write(e,t,r){var n;let i={callback:r},o=Number(t);Number.isNaN(o)||(i.flags=o),null===(n=this.call)||void 0===n||n.sendMessageWithContext(i,e)}_final(e){var t;null===(t=this.call)||void 0===t||t.halfClose(),e()}}t.ClientDuplexStreamImpl=c},21604:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelCredentials=void 0;let n=r(24404),i=r(82106),o=r(65321);function s(e,t){if(e&&!(e instanceof Buffer))throw TypeError(`${t}, if provided, must be a Buffer.`)}class a{constructor(e){this.callCredentials=e||i.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(e,t,r,i){var a;if(s(e,"Root certificate"),s(t,"Private key"),s(r,"Certificate chain"),t&&!r)throw Error("Private key must be given with accompanying certificate chain");if(!t&&r)throw Error("Certificate chain must be given with accompanying private key");return new u((0,n.createSecureContext)({ca:null!==(a=null!=e?e:(0,o.getDefaultRootsData)())&&void 0!==a?a:void 0,key:null!=t?t:void 0,cert:null!=r?r:void 0,ciphers:o.CIPHER_SUITES}),null!=i?i:{})}static createFromSecureContext(e,t){return new u(e,null!=t?t:{})}static createInsecure(){return new l}}t.ChannelCredentials=a;class l extends a{constructor(e){super(e)}compose(e){throw Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(e){return e instanceof l}}class u extends a{constructor(e,t){super(),this.secureContext=e,this.verifyOptions=t,this.connectionOptions={secureContext:e},(null==t?void 0:t.checkServerIdentity)&&(this.connectionOptions.checkServerIdentity=t.checkServerIdentity)}compose(e){return new c(this,this.callCredentials.compose(e))}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(e){return this===e||e instanceof u&&this.secureContext===e.secureContext&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity}}class c extends a{constructor(e,t){super(t),this.channelCredentials=e}compose(e){let t=this.callCredentials.compose(e);return new c(this.channelCredentials,t)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(e){return this===e||e instanceof c&&this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials)}}},78917:(e,t)=>{"use strict";function r(e,t){let r=Object.keys(e).sort(),n=Object.keys(t).sort();if(r.length!==n.length)return!1;for(let i=0;i<r.length;i+=1)if(r[i]!==n[i]||e[r[i]]!==t[n[i]])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.channelOptionsEqual=t.recognizedOptions=void 0,t.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0},t.channelOptionsEqual=r},48271:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelImplementation=void 0;let n=r(21604),i=r(54705);class o{constructor(e,t,r){if("string"!=typeof e)throw TypeError("Channel target must be a string");if(!(t instanceof n.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(r&&"object"!=typeof r)throw TypeError("Channel options must be an object");this.internalChannel=new i.InternalChannel(e,t,r)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(e){return this.internalChannel.getConnectivityState(e)}watchConnectivityState(e,t,r){this.internalChannel.watchConnectivityState(e,t,r)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(e,t,r,n,i){if("string"!=typeof e)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof t||t instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(e,t,r,n,i)}}t.ChannelImplementation=o},11461:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.getChannelzServiceDefinition=t.getChannelzHandlers=t.unregisterChannelzRef=t.registerChannelzSocket=t.registerChannelzServer=t.registerChannelzSubchannel=t.registerChannelzChannel=t.ChannelzCallTracker=t.ChannelzChildrenTracker=t.ChannelzTrace=void 0;let n=r(41808),i=r(36863),o=r(50551),s=r(68914),a=r(31921),l=r(67561);function u(e){return{channel_id:e.id,name:e.name}}function c(e){return{subchannel_id:e.id,name:e.name}}function d(e){return{server_id:e.id}}function h(e){return{socket_id:e.id,name:e.name}}let p=32;class f{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(e,t,r){let n=new Date;this.events.push({description:t,severity:e,timestamp:n,childChannel:(null==r?void 0:r.kind)==="channel"?r:void 0,childSubchannel:(null==r?void 0:r.kind)==="subchannel"?r:void 0}),this.events.length>=2*p&&(this.events=this.events.slice(p)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:P(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(e=>({description:e.description,severity:e.severity,timestamp:P(e.timestamp),channel_ref:e.childChannel?u(e.childChannel):null,subchannel_ref:e.childSubchannel?c(e.childSubchannel):null}))}}}t.ChannelzTrace=f;class m{constructor(){this.channelChildren=new Map,this.subchannelChildren=new Map,this.socketChildren=new Map}refChild(e){var t,r,n;switch(e.kind){case"channel":{let r=null!==(t=this.channelChildren.get(e.id))&&void 0!==t?t:{ref:e,count:0};r.count+=1,this.channelChildren.set(e.id,r);break}case"subchannel":{let t=null!==(r=this.subchannelChildren.get(e.id))&&void 0!==r?r:{ref:e,count:0};t.count+=1,this.subchannelChildren.set(e.id,t);break}case"socket":{let t=null!==(n=this.socketChildren.get(e.id))&&void 0!==n?n:{ref:e,count:0};t.count+=1,this.socketChildren.set(e.id,t)}}}unrefChild(e){switch(e.kind){case"channel":{let t=this.channelChildren.get(e.id);void 0!==t&&(t.count-=1,0===t.count?this.channelChildren.delete(e.id):this.channelChildren.set(e.id,t));break}case"subchannel":{let t=this.subchannelChildren.get(e.id);void 0!==t&&(t.count-=1,0===t.count?this.subchannelChildren.delete(e.id):this.subchannelChildren.set(e.id,t));break}case"socket":{let t=this.socketChildren.get(e.id);void 0!==t&&(t.count-=1,0===t.count?this.socketChildren.delete(e.id):this.socketChildren.set(e.id,t))}}}getChildLists(){let e=[];for(let{ref:t}of this.channelChildren.values())e.push(t);let t=[];for(let{ref:e}of this.subchannelChildren.values())t.push(e);let r=[];for(let{ref:e}of this.socketChildren.values())r.push(e);return{channels:e,subchannels:t,sockets:r}}}t.ChannelzChildrenTracker=m;class g{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}}t.ChannelzCallTracker=g;let y=1;function v(){return y++}let b=[],E=[],S=[],_=[];function T(e,t,r){let n=v(),i={id:n,name:e,kind:"channel"};return r&&(b[n]={ref:i,getInfo:t}),i}function A(e,t,r){let n=v(),i={id:n,name:e,kind:"subchannel"};return r&&(E[n]={ref:i,getInfo:t}),i}function C(e,t){let r=v(),n={id:r,kind:"server"};return t&&(S[r]={ref:n,getInfo:e}),n}function w(e,t,r){let n=v(),i={id:n,name:e,kind:"socket"};return r&&(_[n]={ref:i,getInfo:t}),i}function O(e){switch(e.kind){case"channel":delete b[e.id];return;case"subchannel":delete E[e.id];return;case"server":delete S[e.id];return;case"socket":delete _[e.id];return}}function R(e){let t=Number.parseInt(e,16);return[t/256|0,t%256]}function x(e){return""===e?[]:[].concat(...e.split(":").map(e=>R(e)))}function I(e){if((0,n.isIPv4)(e))return Buffer.from(Uint8Array.from(e.split(".").map(e=>Number.parseInt(e))));if(!(0,n.isIPv6)(e))return null;{let t,r;let n=e.indexOf("::");-1===n?(t=e,r=""):(t=e.substring(0,n),r=e.substring(n+2));let i=Buffer.from(x(t)),o=Buffer.from(x(r)),s=Buffer.alloc(16-i.length-o.length,0);return Buffer.concat([i,s,o])}}function D(e){switch(e){case i.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case i.ConnectivityState.IDLE:return{state:"IDLE"};case i.ConnectivityState.READY:return{state:"READY"};case i.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case i.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function P(e){if(!e)return null;let t=e.getTime();return{seconds:t/1e3|0,nanos:t%1e3*1e6}}function N(e){let t=e.getInfo();return{ref:u(e.ref),data:{target:t.target,state:D(t.state),calls_started:t.callTracker.callsStarted,calls_succeeded:t.callTracker.callsSucceeded,calls_failed:t.callTracker.callsFailed,last_call_started_timestamp:P(t.callTracker.lastCallStartedTimestamp),trace:t.trace.getTraceMessage()},channel_ref:t.children.channels.map(e=>u(e)),subchannel_ref:t.children.subchannels.map(e=>c(e))}}function k(e,t){let r=Number.parseInt(e.request.channel_id),n=b[r];if(void 0===n){t({code:o.Status.NOT_FOUND,details:"No channel data found for id "+r});return}t(null,{channel:N(n)})}function M(e,t){let r=Number.parseInt(e.request.max_results),n=[],i=Number.parseInt(e.request.start_channel_id);for(;i<b.length;i++){let e=b[i];if(void 0!==e&&(n.push(N(e)),n.length>=r))break}t(null,{channel:n,end:i>=S.length})}function L(e){let t=e.getInfo();return{ref:d(e.ref),data:{calls_started:t.callTracker.callsStarted,calls_succeeded:t.callTracker.callsSucceeded,calls_failed:t.callTracker.callsFailed,last_call_started_timestamp:P(t.callTracker.lastCallStartedTimestamp),trace:t.trace.getTraceMessage()},listen_socket:t.listenerChildren.sockets.map(e=>h(e))}}function B(e,t){let r=Number.parseInt(e.request.server_id),n=S[r];if(void 0===n){t({code:o.Status.NOT_FOUND,details:"No server data found for id "+r});return}t(null,{server:L(n)})}function j(e,t){let r=Number.parseInt(e.request.max_results),n=[],i=Number.parseInt(e.request.start_server_id);for(;i<S.length;i++){let e=S[i];if(void 0!==e&&(n.push(L(e)),n.length>=r))break}t(null,{server:n,end:i>=S.length})}function F(e,t){let r=Number.parseInt(e.request.subchannel_id),n=E[r];if(void 0===n){t({code:o.Status.NOT_FOUND,details:"No subchannel data found for id "+r});return}let i=n.getInfo();t(null,{subchannel:{ref:c(n.ref),data:{target:i.target,state:D(i.state),calls_started:i.callTracker.callsStarted,calls_succeeded:i.callTracker.callsSucceeded,calls_failed:i.callTracker.callsFailed,last_call_started_timestamp:P(i.callTracker.lastCallStartedTimestamp),trace:i.trace.getTraceMessage()},socket_ref:i.children.sockets.map(e=>h(e))}})}function U(e){var t;return(0,s.isTcpSubchannelAddress)(e)?{address:"tcpip_address",tcpip_address:{ip_address:null!==(t=I(e.host))&&void 0!==t?t:void 0,port:e.port}}:{address:"uds_address",uds_address:{filename:e.path}}}function V(e,t){var r,n,i,s,a;let l=Number.parseInt(e.request.socket_id),u=_[l];if(void 0===u){t({code:o.Status.NOT_FOUND,details:"No socket data found for id "+l});return}let c=u.getInfo(),d=c.security?{model:"tls",tls:{cipher_suite:c.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:null!==(r=c.security.cipherSuiteStandardName)&&void 0!==r?r:void 0,other_name:null!==(n=c.security.cipherSuiteOtherName)&&void 0!==n?n:void 0,local_certificate:null!==(i=c.security.localCertificate)&&void 0!==i?i:void 0,remote_certificate:null!==(s=c.security.remoteCertificate)&&void 0!==s?s:void 0}}:null;t(null,{socket:{ref:h(u.ref),local:c.localAddress?U(c.localAddress):null,remote:c.remoteAddress?U(c.remoteAddress):null,remote_name:null!==(a=c.remoteName)&&void 0!==a?a:void 0,security:d,data:{keep_alives_sent:c.keepAlivesSent,streams_started:c.streamsStarted,streams_succeeded:c.streamsSucceeded,streams_failed:c.streamsFailed,last_local_stream_created_timestamp:P(c.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:P(c.lastRemoteStreamCreatedTimestamp),messages_received:c.messagesReceived,messages_sent:c.messagesSent,last_message_received_timestamp:P(c.lastMessageReceivedTimestamp),last_message_sent_timestamp:P(c.lastMessageSentTimestamp),local_flow_control_window:c.localFlowControlWindow?{value:c.localFlowControlWindow}:null,remote_flow_control_window:c.remoteFlowControlWindow?{value:c.remoteFlowControlWindow}:null}}})}function z(e,t){let r=Number.parseInt(e.request.server_id),n=S[r];if(void 0===n){t({code:o.Status.NOT_FOUND,details:"No server data found for id "+r});return}let i=Number.parseInt(e.request.start_socket_id),s=Number.parseInt(e.request.max_results),a=n.getInfo().sessionChildren.sockets.sort((e,t)=>e.id-t.id),l=[],u=0;for(;u<a.length&&(!(a[u].id>=i)||(l.push(h(a[u])),!(l.length>=s)));u++);t(null,{socket_ref:l,end:u>=a.length})}function G(){return{GetChannel:k,GetTopChannels:M,GetServer:B,GetServers:j,GetSubchannel:F,GetSocket:V,GetServerSockets:z}}t.registerChannelzChannel=T,t.registerChannelzSubchannel=A,t.registerChannelzServer=C,t.registerChannelzSocket=w,t.unregisterChannelzRef=O,t.getChannelzHandlers=G;let $=null;function H(){if($)return $;let e=(0,r(48530).loadSync)("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return $=(0,l.loadPackageDefinition)(e).grpc.channelz.v1.Channelz.service}function q(){(0,a.registerAdminService)(H,G)}t.getChannelzServiceDefinition=H,t.setup=q},44279:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInterceptingCall=t.InterceptingCall=t.RequesterBuilder=t.ListenerBuilder=t.InterceptorConfigurationError=void 0;let n=r(65829),i=r(45944),o=r(50551),s=r(16708);class a extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,a)}}t.InterceptorConfigurationError=a;class l{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}}t.ListenerBuilder=l;class u{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}}t.RequesterBuilder=u;let c={onReceiveMetadata:(e,t)=>{t(e)},onReceiveMessage:(e,t)=>{t(e)},onReceiveStatus:(e,t)=>{t(e)}},d={start:(e,t,r)=>{r(e,t)},sendMessage:(e,t)=>{t(e)},halfClose:e=>{e()},cancel:e=>{e()}};class h{constructor(e,t){var r,n,i,o;this.nextCall=e,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,t?this.requester={start:null!==(r=t.start)&&void 0!==r?r:d.start,sendMessage:null!==(n=t.sendMessage)&&void 0!==n?n:d.sendMessage,halfClose:null!==(i=t.halfClose)&&void 0!==i?i:d.halfClose,cancel:null!==(o=t.cancel)&&void 0!==o?o:d.cancel}:this.requester=d}cancelWithStatus(e,t){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(e,t)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(e,t){var r,n,o,s,a,l;let u={onReceiveMetadata:null!==(n=null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r?void 0:r.bind(t))&&void 0!==n?n:e=>{},onReceiveMessage:null!==(s=null===(o=null==t?void 0:t.onReceiveMessage)||void 0===o?void 0:o.bind(t))&&void 0!==s?s:e=>{},onReceiveStatus:null!==(l=null===(a=null==t?void 0:t.onReceiveStatus)||void 0===a?void 0:a.bind(t))&&void 0!==l?l:e=>{}};this.processingMetadata=!0,this.requester.start(e,u,(e,t)=>{var r,n,o;let s;if(this.processingMetadata=!1,(0,i.isInterceptingListener)(t))s=t;else{let e={onReceiveMetadata:null!==(r=t.onReceiveMetadata)&&void 0!==r?r:c.onReceiveMetadata,onReceiveMessage:null!==(n=t.onReceiveMessage)&&void 0!==n?n:c.onReceiveMessage,onReceiveStatus:null!==(o=t.onReceiveStatus)&&void 0!==o?o:c.onReceiveStatus};s=new i.InterceptingListenerImpl(e,u)}this.nextCall.start(e,s),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(e,t){this.processingMessage=!0,this.requester.sendMessage(t,r=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=e,this.pendingMessage=t):(this.nextCall.sendMessageWithContext(e,r),this.processPendingHalfClose())})}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}}function p(e,t,r){var n,i;let o=null!==(n=r.deadline)&&void 0!==n?n:1/0,s=r.host,a=null!==(i=r.parent)&&void 0!==i?i:null,l=r.propagate_flags,u=r.credentials,c=e.createCall(t,o,s,a,l);return u&&c.setCredentials(u),c}t.InterceptingCall=h;class f{constructor(e,t){this.call=e,this.methodDefinition=t}cancelWithStatus(e,t){this.call.cancelWithStatus(e,t)}getPeer(){return this.call.getPeer()}sendMessageWithContext(e,t){let r;try{r=this.methodDefinition.requestSerialize(t)}catch(e){this.call.cancelWithStatus(o.Status.INTERNAL,`Request message serialization failure: ${(0,s.getErrorMessage)(e)}`);return}this.call.sendMessageWithContext(e,r)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,t){let r=null;this.call.start(e,{onReceiveMetadata:e=>{var r;null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r||r.call(t,e)},onReceiveMessage:e=>{var i;let a;try{a=this.methodDefinition.responseDeserialize(e)}catch(e){r={code:o.Status.INTERNAL,details:`Response message parsing error: ${(0,s.getErrorMessage)(e)}`,metadata:new n.Metadata},this.call.cancelWithStatus(r.code,r.details);return}null===(i=null==t?void 0:t.onReceiveMessage)||void 0===i||i.call(t,a)},onReceiveStatus:e=>{var n,i;r?null===(n=null==t?void 0:t.onReceiveStatus)||void 0===n||n.call(t,r):null===(i=null==t?void 0:t.onReceiveStatus)||void 0===i||i.call(t,e)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}}class m extends f{constructor(e,t){super(e,t)}start(e,t){var r,n;let i=!1,o={onReceiveMetadata:null!==(n=null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r?void 0:r.bind(t))&&void 0!==n?n:e=>{},onReceiveMessage:e=>{var r;i=!0,null===(r=null==t?void 0:t.onReceiveMessage)||void 0===r||r.call(t,e)},onReceiveStatus:e=>{var r,n;i||null===(r=null==t?void 0:t.onReceiveMessage)||void 0===r||r.call(t,null),null===(n=null==t?void 0:t.onReceiveStatus)||void 0===n||n.call(t,e)}};super.start(e,o),this.call.startRead()}}class g extends f{}function y(e,t,r){let n=p(e,r.path,t);return r.responseStream?new g(n,r):new m(n,r)}function v(e,t,r,n){if(e.clientInterceptors.length>0&&e.clientInterceptorProviders.length>0)throw new a("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(e.callInterceptors.length>0&&e.callInterceptorProviders.length>0)throw new a("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let i=[];i=e.callInterceptors.length>0||e.callInterceptorProviders.length>0?[].concat(e.callInterceptors,e.callInterceptorProviders.map(e=>e(t))).filter(e=>e):[].concat(e.clientInterceptors,e.clientInterceptorProviders.map(e=>e(t))).filter(e=>e);let o=Object.assign({},r,{method_definition:t});return i.reduceRight((e,t)=>r=>t(r,e),e=>y(n,e,t))(o)}t.getInterceptingCall=v},98801:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;let n=r(65509),i=r(48271),o=r(36863),s=r(50551),a=r(65829),l=r(44279),u=Symbol(),c=Symbol(),d=Symbol(),h=Symbol();function p(e){return"function"==typeof e}function f(e){return e.stack.split("\n").slice(1).join("\n")}class m{constructor(e,t,r={}){var n,o;if(r=Object.assign({},r),this[c]=null!==(n=r.interceptors)&&void 0!==n?n:[],delete r.interceptors,this[d]=null!==(o=r.interceptor_providers)&&void 0!==o?o:[],delete r.interceptor_providers,this[c].length>0&&this[d].length>0)throw Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[h]=r.callInvocationTransformer,delete r.callInvocationTransformer,r.channelOverride)this[u]=r.channelOverride;else if(r.channelFactoryOverride){let n=r.channelFactoryOverride;delete r.channelFactoryOverride,this[u]=n(e,t,r)}else this[u]=new i.ChannelImplementation(e,t,r)}close(){this[u].close()}getChannel(){return this[u]}waitForReady(e,t){let r=n=>{let i;if(n){t(Error("Failed to connect before the deadline"));return}try{i=this[u].getConnectivityState(!0)}catch(e){t(Error("The channel has been closed"));return}if(i===o.ConnectivityState.READY)t();else try{this[u].watchConnectivityState(i,e,r)}catch(e){t(Error("The channel has been closed"))}};setImmediate(r)}checkOptionalUnaryResponseArguments(e,t,r){if(p(e))return{metadata:new a.Metadata,options:{},callback:e};if(p(t))return e instanceof a.Metadata?{metadata:e,options:{},callback:t}:{metadata:new a.Metadata,options:e,callback:t};if(!(e instanceof a.Metadata&&t instanceof Object&&p(r)))throw Error("Incorrect arguments passed");return{metadata:e,options:t,callback:r}}makeUnaryRequest(e,t,r,i,o,a,p){var m,g;let y=this.checkOptionalUnaryResponseArguments(o,a,p),v={path:e,requestStream:!1,responseStream:!1,requestSerialize:t,responseDeserialize:r},b={argument:i,metadata:y.metadata,call:new n.ClientUnaryCallImpl,channel:this[u],methodDefinition:v,callOptions:y.options,callback:y.callback};this[h]&&(b=this[h](b));let E=b.call,S={clientInterceptors:this[c],clientInterceptorProviders:this[d],callInterceptors:null!==(m=b.callOptions.interceptors)&&void 0!==m?m:[],callInterceptorProviders:null!==(g=b.callOptions.interceptor_providers)&&void 0!==g?g:[]},_=(0,l.getInterceptingCall)(S,b.methodDefinition,b.callOptions,b.channel);E.call=_;let T=null,A=!1,C=Error();return _.start(b.metadata,{onReceiveMetadata:e=>{E.emit("metadata",e)},onReceiveMessage(e){null!==T&&_.cancelWithStatus(s.Status.INTERNAL,"Too many responses received"),T=e},onReceiveStatus(e){if(!A){if(A=!0,e.code===s.Status.OK){if(null===T){let t=f(C);b.callback((0,n.callErrorFromStatus)({code:s.Status.INTERNAL,details:"No message received",metadata:e.metadata},t))}else b.callback(null,T)}else{let t=f(C);b.callback((0,n.callErrorFromStatus)(e,t))}C=null,E.emit("status",e)}}}),_.sendMessage(i),_.halfClose(),E}makeClientStreamRequest(e,t,r,i,o,a){var p,m;let g=this.checkOptionalUnaryResponseArguments(i,o,a),y={path:e,requestStream:!0,responseStream:!1,requestSerialize:t,responseDeserialize:r},v={metadata:g.metadata,call:new n.ClientWritableStreamImpl(t),channel:this[u],methodDefinition:y,callOptions:g.options,callback:g.callback};this[h]&&(v=this[h](v));let b=v.call,E={clientInterceptors:this[c],clientInterceptorProviders:this[d],callInterceptors:null!==(p=v.callOptions.interceptors)&&void 0!==p?p:[],callInterceptorProviders:null!==(m=v.callOptions.interceptor_providers)&&void 0!==m?m:[]},S=(0,l.getInterceptingCall)(E,v.methodDefinition,v.callOptions,v.channel);b.call=S;let _=null,T=!1,A=Error();return S.start(v.metadata,{onReceiveMetadata:e=>{b.emit("metadata",e)},onReceiveMessage(e){null!==_&&S.cancelWithStatus(s.Status.INTERNAL,"Too many responses received"),_=e},onReceiveStatus(e){if(!T){if(T=!0,e.code===s.Status.OK){if(null===_){let t=f(A);v.callback((0,n.callErrorFromStatus)({code:s.Status.INTERNAL,details:"No message received",metadata:e.metadata},t))}else v.callback(null,_)}else{let t=f(A);v.callback((0,n.callErrorFromStatus)(e,t))}A=null,b.emit("status",e)}}}),b}checkMetadataAndOptions(e,t){let r,n;return e instanceof a.Metadata?(r=e,n=t||{}):(n=e||{},r=new a.Metadata),{metadata:r,options:n}}makeServerStreamRequest(e,t,r,i,o,a){var p,m;let g=this.checkMetadataAndOptions(o,a),y={path:e,requestStream:!1,responseStream:!0,requestSerialize:t,responseDeserialize:r},v={argument:i,metadata:g.metadata,call:new n.ClientReadableStreamImpl(r),channel:this[u],methodDefinition:y,callOptions:g.options};this[h]&&(v=this[h](v));let b=v.call,E={clientInterceptors:this[c],clientInterceptorProviders:this[d],callInterceptors:null!==(p=v.callOptions.interceptors)&&void 0!==p?p:[],callInterceptorProviders:null!==(m=v.callOptions.interceptor_providers)&&void 0!==m?m:[]},S=(0,l.getInterceptingCall)(E,v.methodDefinition,v.callOptions,v.channel);b.call=S;let _=!1,T=Error();return S.start(v.metadata,{onReceiveMetadata(e){b.emit("metadata",e)},onReceiveMessage(e){b.push(e)},onReceiveStatus(e){if(!_){if(_=!0,b.push(null),e.code!==s.Status.OK){let t=f(T);b.emit("error",(0,n.callErrorFromStatus)(e,t))}T=null,b.emit("status",e)}}}),S.sendMessage(i),S.halfClose(),b}makeBidiStreamRequest(e,t,r,i,o){var a,p;let m=this.checkMetadataAndOptions(i,o),g={path:e,requestStream:!0,responseStream:!0,requestSerialize:t,responseDeserialize:r},y={metadata:m.metadata,call:new n.ClientDuplexStreamImpl(t,r),channel:this[u],methodDefinition:g,callOptions:m.options};this[h]&&(y=this[h](y));let v=y.call,b={clientInterceptors:this[c],clientInterceptorProviders:this[d],callInterceptors:null!==(a=y.callOptions.interceptors)&&void 0!==a?a:[],callInterceptorProviders:null!==(p=y.callOptions.interceptor_providers)&&void 0!==p?p:[]},E=(0,l.getInterceptingCall)(b,y.methodDefinition,y.callOptions,y.channel);v.call=E;let S=!1,_=Error();return E.start(y.metadata,{onReceiveMetadata(e){v.emit("metadata",e)},onReceiveMessage(e){v.push(e)},onReceiveStatus(e){if(!S){if(S=!0,v.push(null),e.code!==s.Status.OK){let t=f(_);v.emit("error",(0,n.callErrorFromStatus)(e,t))}_=null,v.emit("status",e)}}}),v}}t.Client=m},542:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CompressionAlgorithms=void 0,function(e){e[e.identity=0]="identity",e[e.deflate=1]="deflate",e[e.gzip=2]="gzip"}(r||(t.CompressionAlgorithms=r={}))},30956:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompressionFilterFactory=t.CompressionFilter=void 0;let n=r(59796),i=r(542),o=r(50551),s=r(10152),a=r(4788),l=e=>"number"==typeof e&&"string"==typeof i.CompressionAlgorithms[e];class u{async writeMessage(e,t){let r=e;t&&(r=await this.compressMessage(r));let n=Buffer.allocUnsafe(r.length+5);return n.writeUInt8(t?1:0,0),n.writeUInt32BE(r.length,1),r.copy(n,5),n}async readMessage(e){let t=1===e.readUInt8(0),r=e.slice(5);return t&&(r=await this.decompressMessage(r)),r}}class c extends u{async compressMessage(e){return e}async writeMessage(e,t){let r=Buffer.allocUnsafe(e.length+5);return r.writeUInt8(0,0),r.writeUInt32BE(e.length,1),e.copy(r,5),r}decompressMessage(e){return Promise.reject(Error('Received compressed message but "grpc-encoding" header was identity'))}}class d extends u{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,r)=>{n.deflate(e,(e,n)=>{e?r(e):t(n)})})}decompressMessage(e){return new Promise((t,r)=>{let i=0,s=[],a=n.createInflate();a.on("data",e=>{s.push(e),i+=e.byteLength,-1!==this.maxRecvMessageLength&&i>this.maxRecvMessageLength&&(a.destroy(),r({code:o.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),a.on("end",()=>{t(Buffer.concat(s))}),a.write(e),a.end()})}}class h extends u{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise((t,r)=>{n.gzip(e,(e,n)=>{e?r(e):t(n)})})}decompressMessage(e){return new Promise((t,r)=>{let i=0,s=[],a=n.createGunzip();a.on("data",e=>{s.push(e),i+=e.byteLength,-1!==this.maxRecvMessageLength&&i>this.maxRecvMessageLength&&(a.destroy(),r({code:o.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),a.on("end",()=>{t(Buffer.concat(s))}),a.write(e),a.end()})}}class p extends u{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(Error(`Compression method not supported: ${this.compressionName}`))}}function f(e,t){switch(e){case"identity":return new c;case"deflate":return new d(t);case"gzip":return new h(t);default:return new p(e)}}class m extends s.BaseFilter{constructor(e,t){var r,n;super(),this.sharedFilterConfig=t,this.sendCompression=new c,this.receiveCompression=new c,this.currentCompressionAlgorithm="identity";let s=e["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=null!==(r=e["grpc.max_receive_message_length"])&&void 0!==r?r:o.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,void 0!==s){if(l(s)){let e=i.CompressionAlgorithms[s],r=null===(n=t.serverSupportedEncodingHeader)||void 0===n?void 0:n.split(",");(!r||r.includes(e))&&(this.currentCompressionAlgorithm=e,this.sendCompression=f(this.currentCompressionAlgorithm,-1))}else a.log(o.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${s}`)}}async sendMetadata(e){let t=await e;return t.set("grpc-accept-encoding","identity,deflate,gzip"),t.set("accept-encoding","identity"),"identity"===this.currentCompressionAlgorithm?t.remove("grpc-encoding"):t.set("grpc-encoding",this.currentCompressionAlgorithm),t}receiveMetadata(e){let t=e.get("grpc-encoding");if(t.length>0){let e=t[0];"string"==typeof e&&(this.receiveCompression=f(e,this.maxReceiveMessageLength))}e.remove("grpc-encoding");let r=e.get("grpc-accept-encoding")[0];return r&&(this.sharedFilterConfig.serverSupportedEncodingHeader=r,r.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new c,this.currentCompressionAlgorithm="identity")),e.remove("grpc-accept-encoding"),e}async sendMessage(e){var t;let r;let n=await e;return r=!(this.sendCompression instanceof c)&&((null!==(t=n.flags)&&void 0!==t?t:0)&2)==0,{message:await this.sendCompression.writeMessage(n.message,r),flags:n.flags}}async receiveMessage(e){return this.receiveCompression.readMessage(await e)}}t.CompressionFilter=m;class g{constructor(e,t){this.options=t,this.sharedFilterConfig={}}createFilter(){return new m(this.options,this.sharedFilterConfig)}}t.CompressionFilterFactory=g},36863:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectivityState=void 0,function(e){e[e.IDLE=0]="IDLE",e[e.CONNECTING=1]="CONNECTING",e[e.READY=2]="READY",e[e.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",e[e.SHUTDOWN=4]="SHUTDOWN"}(r||(t.ConnectivityState=r={}))},50551:(e,t)=>{"use strict";var r,n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=t.Propagate=t.LogVerbosity=t.Status=void 0,function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(r||(t.Status=r={})),function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.ERROR=2]="ERROR",e[e.NONE=3]="NONE"}(n||(t.LogVerbosity=n={})),function(e){e[e.DEADLINE=1]="DEADLINE",e[e.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",e[e.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",e[e.CANCELLATION=8]="CANCELLATION",e[e.DEFAULTS=65535]="DEFAULTS"}(i||(t.Propagate=i={})),t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1,t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4194304},16007:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.restrictControlPlaneStatusCode=void 0;let n=r(50551),i=[n.Status.OK,n.Status.INVALID_ARGUMENT,n.Status.NOT_FOUND,n.Status.ALREADY_EXISTS,n.Status.FAILED_PRECONDITION,n.Status.ABORTED,n.Status.OUT_OF_RANGE,n.Status.DATA_LOSS];function o(e,t){return i.includes(e)?{code:n.Status.INTERNAL,details:`Invalid status from control plane: ${e} ${n.Status[e]} ${t}`}:{code:e,details:t}}t.restrictControlPlaneStatusCode=o},46212:(e,t)=>{"use strict";function r(...e){let t=1/0;for(let r of e){let e=r instanceof Date?r.getTime():r;e<t&&(t=e)}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.deadlineToString=t.getRelativeTimeout=t.getDeadlineTimeoutString=t.minDeadline=void 0,t.minDeadline=r;let n=[["m",1],["S",1e3],["M",6e4],["H",36e5]];function i(e){let t=new Date().getTime();e instanceof Date&&(e=e.getTime());let r=Math.max(e-t,0);for(let[e,t]of n){let n=r/t;if(n<1e8)return String(Math.ceil(n))+e}throw Error("Deadline is too far in the future")}t.getDeadlineTimeoutString=i;let o=2147483647;function s(e){let t=(e instanceof Date?e.getTime():e)-new Date().getTime();return t<0?0:t>o?1/0:t}function a(e){if(e instanceof Date)return e.toISOString();{let t=new Date(e);return Number.isNaN(t.getTime())?""+e:t.toISOString()}}t.getRelativeTimeout=s,t.deadlineToString=a},22250:(e,t)=>{"use strict";function r(e){return{seconds:e/1e3|0,nanos:e%1e3*1e6|0}}function n(e){return 1e3*e.seconds+e.nanos/1e6|0}function i(e){return"number"==typeof e.seconds&&"number"==typeof e.nanos}Object.defineProperty(t,"__esModule",{value:!0}),t.isDuration=t.durationToMs=t.msToDuration=void 0,t.msToDuration=r,t.durationToMs=n,t.isDuration=i},16708:(e,t)=>{"use strict";function r(e){return e instanceof Error?e.message:String(e)}function n(e){return"object"==typeof e&&null!==e&&"code"in e&&"number"==typeof e.code?e.code:null}Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.getErrorMessage=void 0,t.getErrorMessage=r,t.getErrorCode=n},4458:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutlierDetectionLoadBalancingConfig=t.BaseSubchannelWrapper=t.registerAdminService=t.FilterStackFactory=t.BaseFilter=t.PickResultType=t.QueuePicker=t.UnavailablePicker=t.ChildLoadBalancerHandler=t.subchannelAddressToString=t.validateLoadBalancingConfig=t.getFirstUsableConfig=t.registerLoadBalancerType=t.createChildChannelControlHelper=t.BackoffTimeout=t.durationToMs=t.uriToString=t.createResolver=t.registerResolver=t.log=t.trace=void 0;var n=r(4788);Object.defineProperty(t,"trace",{enumerable:!0,get:function(){return n.trace}}),Object.defineProperty(t,"log",{enumerable:!0,get:function(){return n.log}});var i=r(84445);Object.defineProperty(t,"registerResolver",{enumerable:!0,get:function(){return i.registerResolver}}),Object.defineProperty(t,"createResolver",{enumerable:!0,get:function(){return i.createResolver}});var o=r(67969);Object.defineProperty(t,"uriToString",{enumerable:!0,get:function(){return o.uriToString}});var s=r(22250);Object.defineProperty(t,"durationToMs",{enumerable:!0,get:function(){return s.durationToMs}});var a=r(87537);Object.defineProperty(t,"BackoffTimeout",{enumerable:!0,get:function(){return a.BackoffTimeout}});var l=r(53979);Object.defineProperty(t,"createChildChannelControlHelper",{enumerable:!0,get:function(){return l.createChildChannelControlHelper}}),Object.defineProperty(t,"registerLoadBalancerType",{enumerable:!0,get:function(){return l.registerLoadBalancerType}}),Object.defineProperty(t,"getFirstUsableConfig",{enumerable:!0,get:function(){return l.getFirstUsableConfig}}),Object.defineProperty(t,"validateLoadBalancingConfig",{enumerable:!0,get:function(){return l.validateLoadBalancingConfig}});var u=r(68914);Object.defineProperty(t,"subchannelAddressToString",{enumerable:!0,get:function(){return u.subchannelAddressToString}});var c=r(12224);Object.defineProperty(t,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return c.ChildLoadBalancerHandler}});var d=r(60471);Object.defineProperty(t,"UnavailablePicker",{enumerable:!0,get:function(){return d.UnavailablePicker}}),Object.defineProperty(t,"QueuePicker",{enumerable:!0,get:function(){return d.QueuePicker}}),Object.defineProperty(t,"PickResultType",{enumerable:!0,get:function(){return d.PickResultType}});var h=r(10152);Object.defineProperty(t,"BaseFilter",{enumerable:!0,get:function(){return h.BaseFilter}});var p=r(5389);Object.defineProperty(t,"FilterStackFactory",{enumerable:!0,get:function(){return p.FilterStackFactory}});var f=r(31921);Object.defineProperty(t,"registerAdminService",{enumerable:!0,get:function(){return f.registerAdminService}});var m=r(68414);Object.defineProperty(t,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return m.BaseSubchannelWrapper}});var g=r(46405);Object.defineProperty(t,"OutlierDetectionLoadBalancingConfig",{enumerable:!0,get:function(){return g.OutlierDetectionLoadBalancingConfig}})},5389:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilterStackFactory=t.FilterStack=void 0;class r{constructor(e){this.filters=e}sendMetadata(e){let t=e;for(let e=0;e<this.filters.length;e++)t=this.filters[e].sendMetadata(t);return t}receiveMetadata(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveMetadata(t);return t}sendMessage(e){let t=e;for(let e=0;e<this.filters.length;e++)t=this.filters[e].sendMessage(t);return t}receiveMessage(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveMessage(t);return t}receiveTrailers(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveTrailers(t);return t}push(e){this.filters.unshift(...e)}getFilters(){return this.filters}}t.FilterStack=r;class n{constructor(e){this.factories=e}push(e){this.factories.unshift(...e)}clone(){return new n([...this.factories])}createFilter(){return new r(this.factories.map(e=>e.createFilter()))}}t.FilterStackFactory=n},10152:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseFilter=void 0;class r{async sendMetadata(e){return e}receiveMetadata(e){return e}async sendMessage(e){return e}async receiveMessage(e){return e}receiveTrailers(e){return e}}t.BaseFilter=r},77029:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProxiedConnection=t.mapProxyName=void 0;let n=r(4788),i=r(50551),o=r(84445),s=r(13685),a=r(24404),l=r(4788),u=r(68914),c=r(67969),d=r(57310),h=r(38145),p="proxy";function f(e){l.trace(i.LogVerbosity.DEBUG,p,e)}function m(){let e,t="",r="";if(process.env.grpc_proxy)r="grpc_proxy",t=process.env.grpc_proxy;else if(process.env.https_proxy)r="https_proxy",t=process.env.https_proxy;else{if(!process.env.http_proxy)return{};r="http_proxy",t=process.env.http_proxy}try{e=new d.URL(t)}catch(e){return(0,n.log)(i.LogVerbosity.ERROR,`cannot parse value of "${r}" env var`),{}}if("http:"!==e.protocol)return(0,n.log)(i.LogVerbosity.ERROR,`"${e.protocol}" scheme not supported in proxy URI`),{};let o=null;e.username&&(e.password?((0,n.log)(i.LogVerbosity.INFO,"userinfo found in proxy URI"),o=`${e.username}:${e.password}`):o=e.username);let s=e.hostname,a=e.port;""===a&&(a="80");let l={address:`${s}:${a}`};return o&&(l.creds=o),f("Proxy server "+l.address+" set by environment variable "+r),l}function g(){let e=process.env.no_grpc_proxy,t="no_grpc_proxy";return(e||(e=process.env.no_proxy,t="no_proxy"),e)?(f("No proxy server list set by environment variable "+t),e.split(",")):[]}function y(e,t){var r;let n={target:e,extraOptions:{}};if((null!==(r=t["grpc.enable_http_proxy"])&&void 0!==r?r:1)===0||"unix"===e.scheme)return n;let i=m();if(!i.address)return n;let o=(0,c.splitHostPort)(e.path);if(!o)return n;let s=o.host;for(let t of g())if(t===s)return f("Not using proxy for target in no_proxy list: "+(0,c.uriToString)(e)),n;let a={"grpc.http_connect_target":(0,c.uriToString)(e)};return i.creds&&(a["grpc.http_connect_creds"]=i.creds),{target:{scheme:"dns",path:i.address},extraOptions:a}}function v(e,t,r){var l;if(!("grpc.http_connect_target"in t))return Promise.resolve({});let d=t["grpc.http_connect_target"],p=(0,c.parseUri)(d);if(null===p)return Promise.resolve({});let m=(0,c.splitHostPort)(p.path);if(null===m)return Promise.resolve({});let g=`${m.host}:${null!==(l=m.port)&&void 0!==l?l:h.DEFAULT_PORT}`,y={method:"CONNECT",path:g},v={Host:g};(0,u.isTcpSubchannelAddress)(e)?(y.host=e.host,y.port=e.port):y.socketPath=e.path,"grpc.http_connect_creds"in t&&(v["Proxy-Authorization"]="Basic "+Buffer.from(t["grpc.http_connect_creds"]).toString("base64")),y.headers=v;let b=(0,u.subchannelAddressToString)(e);return f("Using proxy "+b+" to connect to "+y.path),new Promise((e,t)=>{let l=s.request(y);l.once("connect",(s,u,d)=>{var h;if(l.removeAllListeners(),u.removeAllListeners(),200===s.statusCode){if(f("Successfully connected to "+y.path+" through proxy "+b),"secureContext"in r){let n=(0,o.getDefaultAuthority)(p),i=(0,c.splitHostPort)(n),s=null!==(h=null==i?void 0:i.host)&&void 0!==h?h:n,l=a.connect(Object.assign({host:s,servername:s,socket:u},r),()=>{f("Successfully established a TLS connection to "+y.path+" through proxy "+b),e({socket:l,realTarget:p})});l.on("error",e=>{f("Failed to establish a TLS connection to "+y.path+" through proxy "+b+" with error "+e.message),t()})}else f("Successfully established a plaintext connection to "+y.path+" through proxy "+b),e({socket:u,realTarget:p})}else(0,n.log)(i.LogVerbosity.ERROR,"Failed to connect to "+y.path+" through proxy "+b+" with status "+s.statusCode),t()}),l.once("error",e=>{l.removeAllListeners(),(0,n.log)(i.LogVerbosity.ERROR,"Failed to connect to proxy "+b+" with error "+e.message),t()}),l.end()})}t.mapProxyName=y,t.getProxiedConnection=v},31239:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.experimental=t.addAdminServicesToServer=t.getChannelzHandlers=t.getChannelzServiceDefinition=t.InterceptorConfigurationError=t.InterceptingCall=t.RequesterBuilder=t.ListenerBuilder=t.StatusBuilder=t.getClientChannel=t.ServerCredentials=t.Server=t.setLogVerbosity=t.setLogger=t.load=t.loadObject=t.CallCredentials=t.ChannelCredentials=t.waitForClientReady=t.closeClient=t.Channel=t.makeGenericClientConstructor=t.makeClientConstructor=t.loadPackageDefinition=t.Client=t.compressionAlgorithms=t.propagate=t.connectivityState=t.status=t.logVerbosity=t.Metadata=t.credentials=void 0;let n=r(82106);Object.defineProperty(t,"CallCredentials",{enumerable:!0,get:function(){return n.CallCredentials}});let i=r(48271);Object.defineProperty(t,"Channel",{enumerable:!0,get:function(){return i.ChannelImplementation}});let o=r(542);Object.defineProperty(t,"compressionAlgorithms",{enumerable:!0,get:function(){return o.CompressionAlgorithms}});let s=r(36863);Object.defineProperty(t,"connectivityState",{enumerable:!0,get:function(){return s.ConnectivityState}});let a=r(21604);Object.defineProperty(t,"ChannelCredentials",{enumerable:!0,get:function(){return a.ChannelCredentials}});let l=r(98801);Object.defineProperty(t,"Client",{enumerable:!0,get:function(){return l.Client}});let u=r(50551);Object.defineProperty(t,"logVerbosity",{enumerable:!0,get:function(){return u.LogVerbosity}}),Object.defineProperty(t,"status",{enumerable:!0,get:function(){return u.Status}}),Object.defineProperty(t,"propagate",{enumerable:!0,get:function(){return u.Propagate}});let c=r(4788),d=r(67561);Object.defineProperty(t,"loadPackageDefinition",{enumerable:!0,get:function(){return d.loadPackageDefinition}}),Object.defineProperty(t,"makeClientConstructor",{enumerable:!0,get:function(){return d.makeClientConstructor}}),Object.defineProperty(t,"makeGenericClientConstructor",{enumerable:!0,get:function(){return d.makeClientConstructor}});let h=r(65829);Object.defineProperty(t,"Metadata",{enumerable:!0,get:function(){return h.Metadata}});let p=r(48451);Object.defineProperty(t,"Server",{enumerable:!0,get:function(){return p.Server}});let f=r(73393);Object.defineProperty(t,"ServerCredentials",{enumerable:!0,get:function(){return f.ServerCredentials}});let m=r(56163);Object.defineProperty(t,"StatusBuilder",{enumerable:!0,get:function(){return m.StatusBuilder}}),t.credentials={combineChannelCredentials:(e,...t)=>t.reduce((e,t)=>e.compose(t),e),combineCallCredentials:(e,...t)=>t.reduce((e,t)=>e.compose(t),e),createInsecure:a.ChannelCredentials.createInsecure,createSsl:a.ChannelCredentials.createSsl,createFromSecureContext:a.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:n.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:n.CallCredentials.createFromGoogleCredential,createEmpty:n.CallCredentials.createEmpty};let g=e=>e.close();t.closeClient=g;let y=(e,t,r)=>e.waitForReady(t,r);t.waitForClientReady=y;let v=(e,t)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};t.loadObject=v;let b=(e,t,r)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};t.load=b;let E=e=>{c.setLogger(e)};t.setLogger=E;let S=e=>{c.setLoggerVerbosity(e)};t.setLogVerbosity=S;let _=e=>l.Client.prototype.getChannel.call(e);t.getClientChannel=_;var T=r(44279);Object.defineProperty(t,"ListenerBuilder",{enumerable:!0,get:function(){return T.ListenerBuilder}}),Object.defineProperty(t,"RequesterBuilder",{enumerable:!0,get:function(){return T.RequesterBuilder}}),Object.defineProperty(t,"InterceptingCall",{enumerable:!0,get:function(){return T.InterceptingCall}}),Object.defineProperty(t,"InterceptorConfigurationError",{enumerable:!0,get:function(){return T.InterceptorConfigurationError}});var A=r(11461);Object.defineProperty(t,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return A.getChannelzServiceDefinition}}),Object.defineProperty(t,"getChannelzHandlers",{enumerable:!0,get:function(){return A.getChannelzHandlers}});var C=r(31921);Object.defineProperty(t,"addAdminServicesToServer",{enumerable:!0,get:function(){return C.addAdminServicesToServer}});let w=r(4458);t.experimental=w;let O=r(38145),R=r(33459),x=r(33557),I=r(5791),D=r(56145),P=r(46405),N=r(11461);(()=>{O.setup(),R.setup(),x.setup(),I.setup(),D.setup(),P.setup(),N.setup()})()},54705:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InternalChannel=void 0;let n=r(21604),i=r(92940),o=r(8170),s=r(60471),a=r(50551),l=r(5389),u=r(30956),c=r(84445),d=r(4788),h=r(77029),p=r(67969),f=r(36863),m=r(11461),g=r(52835),y=r(46212),v=r(47902),b=r(66404),E=r(16007),S=r(35470),_=r(68414),T=2147483647,A=1e3,C=18e5,w=new Map,O=16777216,R=1048576;class x extends _.BaseSubchannelWrapper{constructor(e,t){super(e),this.channel=t,this.refCount=0,this.subchannelStateListener=(e,r,n,i)=>{t.throttleKeepalive(i)},e.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}}class I{constructor(e,t,r){var g,y,v,b,_,I,D,P;if(this.credentials=t,this.options=r,this.connectivityState=f.ConnectivityState.IDLE,this.currentPicker=new s.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.callTracker=new m.ChannelzCallTracker,this.childrenTracker=new m.ChannelzChildrenTracker,"string"!=typeof e)throw TypeError("Channel target must be a string");if(!(t instanceof n.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(r&&"object"!=typeof r)throw TypeError("Channel options must be an object");this.originalTarget=e;let N=(0,p.parseUri)(e);if(null===N)throw Error(`Could not parse target name "${e}"`);let k=(0,c.mapUriDefaultScheme)(N);if(null===k)throw Error(`Could not find a default scheme for target name "${e}"`);this.callRefTimer=setInterval(()=>{},T),null===(y=(g=this.callRefTimer).unref)||void 0===y||y.call(g),0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzTrace=new m.ChannelzTrace,this.channelzRef=(0,m.registerChannelzChannel)(e,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,c.getDefaultAuthority)(k);let M=(0,h.mapProxyName)(k,r);this.target=M.target,this.options=Object.assign({},this.options,M.extraOptions),this.subchannelPool=(0,o.getSubchannelPool)((null!==(v=r["grpc.use_local_subchannel_pool"])&&void 0!==v?v:0)===0),this.retryBufferTracker=new S.MessageBufferTracker(null!==(b=r["grpc.retry_buffer_size"])&&void 0!==b?b:O,null!==(_=r["grpc.per_rpc_retry_buffer_size"])&&void 0!==_?_:R),this.keepaliveTime=null!==(I=r["grpc.keepalive_time_ms"])&&void 0!==I?I:-1,this.idleTimeoutMs=Math.max(null!==(D=r["grpc.client_idle_timeout_ms"])&&void 0!==D?D:C,A);let L={createSubchannel:(e,t)=>{let r=this.subchannelPool.getOrCreateSubchannel(this.target,e,Object.assign({},this.options,t),this.credentials);r.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",r.getChannelzRef());let n=new x(r,this);return this.wrappedSubchannels.add(n),n},updateState:(e,t)=>{this.currentPicker=t;let r=this.pickQueue.slice();for(let e of(this.pickQueue=[],r.length>0&&this.callRefTimerUnref(),r))e.doPick();this.updateState(e)},requestReresolution:()=>{throw Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:e=>{this.channelzEnabled&&this.childrenTracker.refChild(e)},removeChannelzChild:e=>{this.channelzEnabled&&this.childrenTracker.unrefChild(e)}};this.resolvingLoadBalancer=new i.ResolvingLoadBalancer(this.target,L,r,(e,t)=>{e.retryThrottling?w.set(this.getTarget(),new S.RetryThrottler(e.retryThrottling.maxTokens,e.retryThrottling.tokenRatio,w.get(this.getTarget()))):w.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=t,this.currentResolutionError=null,process.nextTick(()=>{let e=this.configSelectionQueue;for(let t of(this.configSelectionQueue=[],e.length>0&&this.callRefTimerUnref(),e))t.getConfig()})},e=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+e.code+' and details "'+e.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),null===this.configSelector&&(this.currentResolutionError=Object.assign(Object.assign({},(0,E.restrictControlPlaneStatusCode)(e.code,e.details)),{metadata:e.metadata}));let t=this.configSelectionQueue;for(let r of(this.configSelectionQueue=[],t.length>0&&this.callRefTimerUnref(),t))r.reportResolverError(e)}),this.filterStackFactory=new l.FilterStackFactory([new u.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(r,void 0,2));let B=Error();(0,d.trace)(a.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+") Channel constructed \n"+(null===(P=B.stack)||void 0===P?void 0:P.substring(B.stack.indexOf("\n")+1))),this.lastActivityTimestamp=new Date}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(e,t){(0,d.trace)(null!=t?t:a.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,p.uriToString)(this.target)+" "+e)}callRefTimerRef(){var e,t,r,n;(null===(t=(e=this.callRefTimer).hasRef)||void 0===t?void 0:t.call(e))||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(n=(r=this.callRefTimer).ref)||void 0===n||n.call(r))}callRefTimerUnref(){var e,t;(!this.callRefTimer.hasRef||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(t=(e=this.callRefTimer).unref)||void 0===t||t.call(e))}removeConnectivityStateWatcher(e){let t=this.connectivityStateWatchers.findIndex(t=>t===e);t>=0&&this.connectivityStateWatchers.splice(t,1)}updateState(e){for(let t of((0,d.trace)(a.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,p.uriToString)(this.target)+" "+f.ConnectivityState[this.connectivityState]+" -> "+f.ConnectivityState[e]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+f.ConnectivityState[e]),this.connectivityState=e,this.connectivityStateWatchers.slice()))e!==t.currentState&&(t.timer&&clearTimeout(t.timer),this.removeConnectivityStateWatcher(t),t.callback());e!==f.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(e){if(e>this.keepaliveTime)for(let t of(this.keepaliveTime=e,this.wrappedSubchannels))t.throttleKeepalive(e)}removeWrappedSubchannel(e){this.wrappedSubchannels.delete(e)}doPick(e,t){return this.currentPicker.pick({metadata:e,extraPickInfo:t})}queueCallForPick(e){this.pickQueue.push(e),this.callRefTimerRef()}getConfig(e,t){return(this.resolvingLoadBalancer.exitIdle(),this.configSelector)?{type:"SUCCESS",config:this.configSelector(e,t)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(e){this.configSelectionQueue.push(e),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(f.ConnectivityState.IDLE),this.currentPicker=new s.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null)}startIdleTimeout(e){var t,r;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}let e=new Date().valueOf()-this.lastActivityTimestamp.valueOf();e>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-e)},e),null===(r=(t=this.idleTimer).unref)||void 0===r||r.call(t)}maybeStartIdleTimer(){this.connectivityState===f.ConnectivityState.SHUTDOWN||this.idleTimer||this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(e){this.channelzEnabled&&(e.code===a.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(e,t,r,n,i){let o=(0,b.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+o+'] method="'+t+'"'),new g.LoadBalancingCall(this,e,t,r,n,i,o)}createRetryingCall(e,t,r,n,i){let o=(0,b.getNextCallNumber)();return this.trace("createRetryingCall ["+o+'] method="'+t+'"'),new S.RetryingCall(this,e,t,r,n,i,o,this.retryBufferTracker,w.get(this.getTarget()))}createInnerCall(e,t,r,n,i){return 0===this.options["grpc.enable_retries"]?this.createLoadBalancingCall(e,t,r,n,i):this.createRetryingCall(e,t,r,n,i)}createResolvingCall(e,t,r,n,i){let o=(0,b.getNextCallNumber)();this.trace("createResolvingCall ["+o+'] method="'+e+'", deadline='+(0,y.deadlineToString)(t));let s={deadline:t,flags:null!=i?i:a.Propagate.DEFAULTS,host:null!=r?r:this.defaultAuthority,parentCall:n},l=new v.ResolvingCall(this,e,s,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),o);return this.onCallStart(),l.addStatusWatcher(e=>{this.onCallEnd(e)}),l}close(){this.resolvingLoadBalancer.destroy(),this.updateState(f.ConnectivityState.SHUTDOWN),clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,m.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,p.uriToString)(this.target)}getConnectivityState(e){let t=this.connectivityState;return e&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),t}watchConnectivityState(e,t,r){if(this.connectivityState===f.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");let n=null;if(t!==1/0){let e=t instanceof Date?t:new Date(t),o=new Date;if(t===-1/0||e<=o){process.nextTick(r,Error("Deadline passed without connectivity state change"));return}n=setTimeout(()=>{this.removeConnectivityStateWatcher(i),r(Error("Deadline passed without connectivity state change"))},e.getTime()-o.getTime())}let i={currentState:e,callback:r,timer:n};this.connectivityStateWatchers.push(i)}getChannelzRef(){return this.channelzRef}createCall(e,t,r,n,i){if("string"!=typeof e)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof t||t instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===f.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");return this.createResolvingCall(e,t,r,n,i)}}t.InternalChannel=I},12224:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChildLoadBalancerHandler=void 0;let n=r(53979),i=r(36863),o="child_load_balancer_helper";class s{constructor(e){this.channelControlHelper=e,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(e){this.parent=e,this.child=null}createSubchannel(e,t){return this.parent.channelControlHelper.createSubchannel(e,t)}updateState(e,t){var r;if(this.calledByPendingChild()){if(e===i.ConnectivityState.CONNECTING)return;null===(r=this.parent.currentChild)||void 0===r||r.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(e,t)}requestReresolution(){var e;let t=null!==(e=this.parent.pendingChild)&&void 0!==e?e:this.parent.currentChild;this.child===t&&this.parent.channelControlHelper.requestReresolution()}setChild(e){this.child=e}addChannelzChild(e){this.parent.channelControlHelper.addChannelzChild(e)}removeChannelzChild(e){this.parent.channelControlHelper.removeChannelzChild(e)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(e,t){return e.getLoadBalancerName()!==t.getLoadBalancerName()}updateAddressList(e,t,r){let i;if(null===this.currentChild||null===this.latestConfig||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,t)){let e=new this.ChildPolicyHelper(this),r=(0,n.createLoadBalancer)(t,e);e.setChild(r),null===this.currentChild?(this.currentChild=r,i=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=r,i=this.pendingChild)}else i=null===this.pendingChild?this.currentChild:this.pendingChild;this.latestConfig=t,i.updateAddressList(e,t,r)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return o}}t.ChildLoadBalancerHandler=s},46405:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.OutlierDetectionLoadBalancer=t.OutlierDetectionLoadBalancingConfig=void 0;let i=r(36863),o=r(50551),s=r(22250),a=r(4458),l=r(53979),u=r(12224),c=r(60471),d=r(68914),h=r(68414),p=r(4788),f="outlier_detection";function m(e){p.trace(o.LogVerbosity.DEBUG,f,e)}let g="outlier_detection",y=(null!==(n=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)&&void 0!==n?n:"true")==="true",v={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},b={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function E(e,t,r,n){if(t in e&&typeof e[t]!==r){let i=n?`${n}.${t}`:t;throw Error(`outlier detection config ${i} parse error: expected ${r}, got ${typeof e[t]}`)}}function S(e,t,r){let n=r?`${r}.${t}`:t;if(t in e){if(!(0,s.isDuration)(e[t]))throw Error(`outlier detection config ${n} parse error: expected Duration, got ${typeof e[t]}`);if(!(e[t].seconds>=0&&e[t].seconds<=315576e6&&e[t].nanos>=0&&e[t].nanos<=999999999))throw Error(`outlier detection config ${n} parse error: values out of range for non-negative Duaration`)}}function _(e,t,r){let n=r?`${r}.${t}`:t;if(E(e,t,"number",r),t in e&&!(e[t]>=0&&e[t]<=100))throw Error(`outlier detection config ${n} parse error: value out of range for percentage (0-100)`)}class T{constructor(e,t,r,n,i,o,s){if(this.childPolicy=s,s.length>0&&"pick_first"===s[0].getLoadBalancerName())throw Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=null!=e?e:1e4,this.baseEjectionTimeMs=null!=t?t:3e4,this.maxEjectionTimeMs=null!=r?r:3e5,this.maxEjectionPercent=null!=n?n:10,this.successRateEjection=i?Object.assign(Object.assign({},v),i):null,this.failurePercentageEjection=o?Object.assign(Object.assign({},b),o):null}getLoadBalancerName(){return g}toJsonObject(){return{interval:(0,s.msToDuration)(this.intervalMs),base_ejection_time:(0,s.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,s.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:this.successRateEjection,failure_percentage_ejection:this.failurePercentageEjection,child_policy:this.childPolicy.map(e=>e.toJsonObject())}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}copyWithChildPolicy(e){return new T(this.intervalMs,this.baseEjectionTimeMs,this.maxEjectionTimeMs,this.maxEjectionPercent,this.successRateEjection,this.failurePercentageEjection,e)}static createFromJson(e){var t;if(S(e,"interval"),S(e,"base_ejection_time"),S(e,"max_ejection_time"),_(e,"max_ejection_percent"),"success_rate_ejection"in e){if("object"!=typeof e.success_rate_ejection)throw Error("outlier detection config success_rate_ejection must be an object");E(e.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),_(e.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),E(e.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),E(e.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in e){if("object"!=typeof e.failure_percentage_ejection)throw Error("outlier detection config failure_percentage_ejection must be an object");_(e.failure_percentage_ejection,"threshold","failure_percentage_ejection"),_(e.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),E(e.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),E(e.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}return new T(e.interval?(0,s.durationToMs)(e.interval):null,e.base_ejection_time?(0,s.durationToMs)(e.base_ejection_time):null,e.max_ejection_time?(0,s.durationToMs)(e.max_ejection_time):null,null!==(t=e.max_ejection_percent)&&void 0!==t?t:null,e.success_rate_ejection,e.failure_percentage_ejection,e.child_policy.map(l.validateLoadBalancingConfig))}}t.OutlierDetectionLoadBalancingConfig=T;class A extends h.BaseSubchannelWrapper{constructor(e,t){super(e),this.mapEntry=t,this.stateListeners=[],this.ejected=!1,this.refCount=0,this.childSubchannelState=e.getConnectivityState(),e.addConnectivityStateListener((e,t,r,n)=>{if(this.childSubchannelState=r,!this.ejected)for(let e of this.stateListeners)e(this,t,r,n)})}getConnectivityState(){return this.ejected?i.ConnectivityState.TRANSIENT_FAILURE:this.childSubchannelState}addConnectivityStateListener(e){this.stateListeners.push(e)}removeConnectivityStateListener(e){let t=this.stateListeners.indexOf(e);t>-1&&this.stateListeners.splice(t,1)}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let e=this.mapEntry.subchannelWrappers.indexOf(this);e>=0&&this.mapEntry.subchannelWrappers.splice(e,1)}}eject(){for(let e of(this.ejected=!0,this.stateListeners))e(this,this.childSubchannelState,i.ConnectivityState.TRANSIENT_FAILURE,-1)}uneject(){for(let e of(this.ejected=!1,this.stateListeners))e(this,i.ConnectivityState.TRANSIENT_FAILURE,this.childSubchannelState,-1)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}}function C(){return{success:0,failure:0}}class w{constructor(){this.activeBucket=C(),this.inactiveBucket=C()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=C()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}}class O{constructor(e,t){this.wrappedPicker=e,this.countCalls=t}pick(e){let t=this.wrappedPicker.pick(e);if(t.pickResultType!==c.PickResultType.COMPLETE)return t;{let e=t.subchannel,r=e.getMapEntry();if(!r)return Object.assign(Object.assign({},t),{subchannel:e.getWrappedSubchannel()});{let n=t.onCallEnded;return this.countCalls&&(n=e=>{var n;e===o.Status.OK?r.counter.addSuccess():r.counter.addFailure(),null===(n=t.onCallEnded)||void 0===n||n.call(t,e)}),Object.assign(Object.assign({},t),{subchannel:e.getWrappedSubchannel(),onCallEnded:n})}}}}class R{constructor(e){this.addressMap=new Map,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new u.ChildLoadBalancerHandler((0,a.createChildChannelControlHelper)(e,{createSubchannel:(t,r)=>{let n=e.createSubchannel(t,r),i=this.addressMap.get((0,d.subchannelAddressToString)(t)),o=new A(n,i);return(null==i?void 0:i.currentEjectionTimestamp)!==null&&o.eject(),null==i||i.subchannelWrappers.push(o),o},updateState:(t,r)=>{t===i.ConnectivityState.READY?e.updateState(t,new O(r,this.isCountingEnabled())):e.updateState(t,r)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return null!==this.latestConfig&&(null!==this.latestConfig.getSuccessRateEjectionConfig()||null!==this.latestConfig.getFailurePercentageEjectionConfig())}getCurrentEjectionPercent(){let e=0;for(let t of this.addressMap.values())null!==t.currentEjectionTimestamp&&(e+=1);return 100*e/this.addressMap.size}runSuccessRateCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getSuccessRateEjectionConfig();if(!t)return;m("Running success rate check");let r=t.request_volume,n=0,i=[];for(let[e,t]of this.addressMap){let o=t.counter.getLastSuccesses(),s=t.counter.getLastFailures();m("Stats for "+e+": successes="+o+" failures="+s+" targetRequestVolume="+r),o+s>=r&&(n+=1,i.push(o/(o+s)))}if(m("Found "+n+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+i+"]"),n<t.minimum_hosts)return;let o=i.reduce((e,t)=>e+t)/i.length,s=0;for(let e of i){let t=e-o;s+=t*t}let a=Math.sqrt(s/i.length),l=o-t.stdev_factor/1e3*a;for(let[n,i]of(m("stdev="+a+" ejectionThreshold="+l),this.addressMap.entries())){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let o=i.counter.getLastSuccesses(),s=i.counter.getLastFailures();if(o+s<r)continue;let a=o/(o+s);if(m("Checking candidate "+n+" successRate="+a),a<l){let r=100*Math.random();m("Candidate "+n+" randomNumber="+r+" enforcement_percentage="+t.enforcement_percentage),r<t.enforcement_percentage&&(m("Ejecting candidate "+n),this.eject(i,e))}}}runFailurePercentageCheck(e){if(!this.latestConfig)return;let t=this.latestConfig.getFailurePercentageEjectionConfig();if(!t)return;m("Running failure percentage check. threshold="+t.threshold+" request volume threshold="+t.request_volume);let r=0;for(let e of this.addressMap.values())e.counter.getLastSuccesses()+e.counter.getLastFailures()>=t.request_volume&&(r+=1);if(!(r<t.minimum_hosts))for(let[r,n]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let i=n.counter.getLastSuccesses(),o=n.counter.getLastFailures();if(m("Candidate successes="+i+" failures="+o),!(i+o<t.request_volume)&&100*o/(o+i)>t.threshold){let i=100*Math.random();m("Candidate "+r+" randomNumber="+i+" enforcement_percentage="+t.enforcement_percentage),i<t.enforcement_percentage&&(m("Ejecting candidate "+r),this.eject(n,e))}}}eject(e,t){for(let t of(e.currentEjectionTimestamp=new Date,e.ejectionTimeMultiplier+=1,e.subchannelWrappers))t.eject()}uneject(e){for(let t of(e.currentEjectionTimestamp=null,e.subchannelWrappers))t.uneject()}switchAllBuckets(){for(let e of this.addressMap.values())e.counter.switchBuckets()}startTimer(e){var t,r;this.ejectionTimer=setTimeout(()=>this.runChecks(),e),null===(r=(t=this.ejectionTimer).unref)||void 0===r||r.call(t)}runChecks(){let e=new Date;if(m("Ejection timer running"),this.switchAllBuckets(),this.latestConfig)for(let[t,r]of(this.timerStartTime=e,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(e),this.runFailurePercentageCheck(e),this.addressMap.entries()))if(null===r.currentEjectionTimestamp)r.ejectionTimeMultiplier>0&&(r.ejectionTimeMultiplier-=1);else{let e=this.latestConfig.getBaseEjectionTimeMs(),n=this.latestConfig.getMaxEjectionTimeMs(),i=new Date(r.currentEjectionTimestamp.getTime());i.setMilliseconds(i.getMilliseconds()+Math.min(e*r.ejectionTimeMultiplier,Math.max(e,n))),i<new Date&&(m("Unejecting "+t),this.uneject(r))}}updateAddressList(e,t,r){if(!(t instanceof T))return;let n=new Set;for(let t of e)n.add((0,d.subchannelAddressToString)(t));for(let e of n)this.addressMap.has(e)||(m("Adding map entry for "+e),this.addressMap.set(e,{counter:new w,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));for(let e of this.addressMap.keys())n.has(e)||(m("Removing map entry for "+e),this.addressMap.delete(e));let i=(0,l.getFirstUsableConfig)(t.getChildPolicy(),!0);if(this.childBalancer.updateAddressList(e,i,r),t.getSuccessRateEjectionConfig()||t.getFailurePercentageEjectionConfig()){if(this.timerStartTime){m("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let e=t.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(e)}else m("Starting new timer"),this.timerStartTime=new Date,this.startTimer(t.getIntervalMs()),this.switchAllBuckets()}else for(let e of(m("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer),this.addressMap.values()))this.uneject(e),e.ejectionTimeMultiplier=0;this.latestConfig=t}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return g}}function x(){y&&(0,a.registerLoadBalancerType)(g,R,T)}t.OutlierDetectionLoadBalancer=R,t.setup=x},5791:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.PickFirstLoadBalancer=t.shuffled=t.PickFirstLoadBalancingConfig=void 0;let n=r(53979),i=r(36863),o=r(60471),s=r(4788),a=r(50551),l="pick_first";function u(e){s.trace(a.LogVerbosity.DEBUG,l,e)}let c="pick_first",d=250;class h{constructor(e){this.shuffleAddressList=e}getLoadBalancerName(){return c}toJsonObject(){return{[c]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(e){if("shuffleAddressList"in e&&"boolean"!=typeof e.shuffleAddressList)throw Error("pick_first config field shuffleAddressList must be a boolean if provided");return new h(!0===e.shuffleAddressList)}}t.PickFirstLoadBalancingConfig=h;class p{constructor(e){this.subchannel=e}pick(e){return{pickResultType:o.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}}function f(e){let t=e.slice();for(let e=t.length-1;e>1;e--){let r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}t.shuffled=f;class m{constructor(e){this.channelControlHelper=e,this.children=[],this.currentState=i.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(e,t,r,n,i)=>{this.onSubchannelStateUpdate(e,t,r,i)},this.triedAllSubchannels=!1,this.stickyTransientFailureMode=!1,this.requestedResolutionSinceLastUpdate=!1,this.lastError=null,this.latestAddressList=null,this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(e=>e.hasReportedTransientFailure)}calculateAndReportNewState(){this.currentPick?this.updateState(i.ConnectivityState.READY,new p(this.currentPick)):0===this.children.length?this.updateState(i.ConnectivityState.IDLE,new o.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(i.ConnectivityState.TRANSIENT_FAILURE,new o.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(i.ConnectivityState.CONNECTING,new o.QueuePicker(this))}requestReresolution(){this.requestedResolutionSinceLastUpdate=!0,this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()&&(this.requestedResolutionSinceLastUpdate||this.requestReresolution(),!this.stickyTransientFailureMode)){for(let{subchannel:e}of(this.stickyTransientFailureMode=!0,this.children))e.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){if(null!==this.currentPick){let e=this.currentPick;this.currentPick=null,e.unref(),e.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(e.getChannelzRef())}}onSubchannelStateUpdate(e,t,r,n){var o;if(null===(o=this.currentPick)||void 0===o?void 0:o.realSubchannelEquals(e)){r!==i.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState(),this.requestReresolution());return}for(let[t,o]of this.children.entries())if(e.realSubchannelEquals(o.subchannel)){r===i.ConnectivityState.READY&&this.pickSubchannel(o.subchannel),r===i.ConnectivityState.TRANSIENT_FAILURE&&(o.hasReportedTransientFailure=!0,n&&(this.lastError=n),this.maybeEnterStickyTransientFailureMode(),t===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(t+1)),o.subchannel.startConnecting();return}}startNextSubchannelConnecting(e){if(clearTimeout(this.connectionDelayTimeout),!this.triedAllSubchannels){for(let[t,r]of this.children.entries())if(t>=e){let e=r.subchannel.getConnectivityState();if(e===i.ConnectivityState.IDLE||e===i.ConnectivityState.CONNECTING){this.startConnecting(t);return}}this.triedAllSubchannels=!0,this.maybeEnterStickyTransientFailureMode()}}startConnecting(e){var t,r;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.children[e].subchannel.getConnectivityState()===i.ConnectivityState.IDLE&&(u("Start connecting to subchannel with address "+this.children[e].subchannel.getAddress()),process.nextTick(()=>{var t;null===(t=this.children[e])||void 0===t||t.subchannel.startConnecting()})),this.connectionDelayTimeout=null===(r=(t=setTimeout(()=>{this.startNextSubchannelConnecting(e+1)},d)).unref)||void 0===r?void 0:r.call(t)}pickSubchannel(e){this.currentPick&&e.realSubchannelEquals(this.currentPick)||(u("Pick subchannel with address "+e.getAddress()),this.stickyTransientFailureMode=!1,null!==this.currentPick&&(this.currentPick.unref(),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeConnectivityStateListener(this.subchannelStateListener)),this.currentPick=e,e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState())}updateState(e,t){u(i.ConnectivityState[this.currentState]+" -> "+i.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(let e of this.children)this.currentPick&&e.subchannel.realSubchannelEquals(this.currentPick)||e.subchannel.removeConnectivityStateListener(this.subchannelStateListener),e.subchannel.unref(),this.channelControlHelper.removeChannelzChild(e.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[],this.triedAllSubchannels=!1,this.requestedResolutionSinceLastUpdate=!1}connectToAddressList(e){let t=e.map(e=>({subchannel:this.channelControlHelper.createSubchannel(e,{}),hasReportedTransientFailure:!1}));for(let{subchannel:e}of t)e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef());for(let{subchannel:e}of(this.resetSubchannelList(),this.children=t,this.children))if(e.addConnectivityStateListener(this.subchannelStateListener),e.getConnectivityState()===i.ConnectivityState.READY){this.pickSubchannel(e);return}for(let e of this.children)e.subchannel.getConnectivityState()===i.ConnectivityState.TRANSIENT_FAILURE&&(e.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(e,t){t instanceof h&&(t.getShuffleAddressList()&&(e=f(e)),this.latestAddressList=e,this.connectToAddressList(e))}exitIdle(){this.currentState===i.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return c}}function g(){(0,n.registerLoadBalancerType)(c,m,h),(0,n.registerDefaultLoadBalancerType)(c)}t.PickFirstLoadBalancer=m,t.setup=g},56145:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.RoundRobinLoadBalancer=void 0;let n=r(53979),i=r(36863),o=r(60471),s=r(68914),a=r(4788),l=r(50551),u="round_robin";function c(e){a.trace(l.LogVerbosity.DEBUG,u,e)}let d="round_robin";class h{getLoadBalancerName(){return d}constructor(){}toJsonObject(){return{[d]:{}}}static createFromJson(e){return new h}}class p{constructor(e,t=0){this.subchannelList=e,this.nextIndex=t}pick(e){let t=this.subchannelList[this.nextIndex];return this.nextIndex=(this.nextIndex+1)%this.subchannelList.length,{pickResultType:o.PickResultType.COMPLETE,subchannel:t,status:null,onCallStarted:null,onCallEnded:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}}class f{constructor(e){this.channelControlHelper=e,this.subchannels=[],this.currentState=i.ConnectivityState.IDLE,this.currentReadyPicker=null,this.lastError=null,this.subchannelStateListener=(e,t,r,n,o)=>{this.calculateAndUpdateState(),(r===i.ConnectivityState.TRANSIENT_FAILURE||r===i.ConnectivityState.IDLE)&&(o&&(this.lastError=o),this.channelControlHelper.requestReresolution(),e.startConnecting())}}countSubchannelsWithState(e){return this.subchannels.filter(t=>t.getConnectivityState()===e).length}calculateAndUpdateState(){if(this.countSubchannelsWithState(i.ConnectivityState.READY)>0){let e=this.subchannels.filter(e=>e.getConnectivityState()===i.ConnectivityState.READY),t=0;null!==this.currentReadyPicker&&(t=e.indexOf(this.currentReadyPicker.peekNextSubchannel()))<0&&(t=0),this.updateState(i.ConnectivityState.READY,new p(e,t))}else this.countSubchannelsWithState(i.ConnectivityState.CONNECTING)>0?this.updateState(i.ConnectivityState.CONNECTING,new o.QueuePicker(this)):this.countSubchannelsWithState(i.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState(i.ConnectivityState.TRANSIENT_FAILURE,new o.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(i.ConnectivityState.IDLE,new o.QueuePicker(this))}updateState(e,t){c(i.ConnectivityState[this.currentState]+" -> "+i.ConnectivityState[e]),e===i.ConnectivityState.READY?this.currentReadyPicker=t:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(let e of this.subchannels)e.removeConnectivityStateListener(this.subchannelStateListener),e.unref(),this.channelControlHelper.removeChannelzChild(e.getChannelzRef());this.subchannels=[]}updateAddressList(e,t){for(let t of(this.resetSubchannelList(),c("Connect to address list "+e.map(e=>(0,s.subchannelAddressToString)(e))),this.subchannels=e.map(e=>this.channelControlHelper.createSubchannel(e,{})),this.subchannels)){t.ref(),t.addConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.addChannelzChild(t.getChannelzRef());let e=t.getConnectivityState();(e===i.ConnectivityState.IDLE||e===i.ConnectivityState.TRANSIENT_FAILURE)&&t.startConnecting()}this.calculateAndUpdateState()}exitIdle(){for(let e of this.subchannels)e.startConnecting()}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return d}}function m(){(0,n.registerLoadBalancerType)(d,f,h)}t.RoundRobinLoadBalancer=f,t.setup=m},53979:(e,t)=>{"use strict";function r(e,t){var r,n,i,o,s,a,l,u,c,d;return{createSubchannel:null!==(n=null===(r=t.createSubchannel)||void 0===r?void 0:r.bind(t))&&void 0!==n?n:e.createSubchannel.bind(e),updateState:null!==(o=null===(i=t.updateState)||void 0===i?void 0:i.bind(t))&&void 0!==o?o:e.updateState.bind(e),requestReresolution:null!==(a=null===(s=t.requestReresolution)||void 0===s?void 0:s.bind(t))&&void 0!==a?a:e.requestReresolution.bind(e),addChannelzChild:null!==(u=null===(l=t.addChannelzChild)||void 0===l?void 0:l.bind(t))&&void 0!==u?u:e.addChannelzChild.bind(e),removeChannelzChild:null!==(d=null===(c=t.removeChannelzChild)||void 0===c?void 0:c.bind(t))&&void 0!==d?d:e.removeChannelzChild.bind(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.validateLoadBalancingConfig=t.getFirstUsableConfig=t.isLoadBalancerNameRegistered=t.createLoadBalancer=t.registerDefaultLoadBalancerType=t.registerLoadBalancerType=t.createChildChannelControlHelper=void 0,t.createChildChannelControlHelper=r;let n={},i=null;function o(e,t,r){n[e]={LoadBalancer:t,LoadBalancingConfig:r}}function s(e){i=e}function a(e,t){let r=e.getLoadBalancerName();return r in n?new n[r].LoadBalancer(t):null}function l(e){return e in n}function u(e,t=!1){for(let t of e)if(t.getLoadBalancerName() in n)return t;return t&&i?new n[i].LoadBalancingConfig:null}function c(e){if(!(null!==e&&"object"==typeof e))throw Error("Load balancing config must be an object");let t=Object.keys(e);if(1!==t.length)throw Error("Provided load balancing config has multiple conflicting entries");let r=t[0];if(r in n)return n[r].LoadBalancingConfig.createFromJson(e[r]);throw Error(`Unrecognized load balancing config name ${r}`)}t.registerLoadBalancerType=o,t.registerDefaultLoadBalancerType=s,t.createLoadBalancer=a,t.isLoadBalancerNameRegistered=l,t.getFirstUsableConfig=u,t.validateLoadBalancingConfig=c},52835:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadBalancingCall=void 0;let n=r(36863),i=r(50551),o=r(46212),s=r(65829),a=r(60471),l=r(67969),u=r(4788),c=r(16007),d=r(85158),h="load_balancing_call";class p{constructor(e,t,r,n,i,o,s){var a,u;this.channel=e,this.callConfig=t,this.methodName=r,this.host=n,this.credentials=i,this.deadline=o,this.callNumber=s,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null;let c=this.methodName.split("/"),d="";c.length>=2&&(d=c[1]);let h=null!==(u=null===(a=(0,l.splitHostPort)(this.host))||void 0===a?void 0:a.host)&&void 0!==u?u:"localhost";this.serviceUrl=`https://${h}/${d}`}trace(e){u.trace(i.LogVerbosity.DEBUG,h,"["+this.callNumber+"] "+e)}outputStatus(e,t){var r,n;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+e.code+' details="'+e.details+'"');let i=Object.assign(Object.assign({},e),{progress:t});null===(r=this.listener)||void 0===r||r.onReceiveStatus(i),null===(n=this.onCallEnded)||void 0===n||n.call(this,i.code)}}doPick(){var e,t;if(this.ended)return;if(!this.metadata)throw Error("doPick called before start");this.trace("Pick called");let r=this.channel.doPick(this.metadata,this.callConfig.pickInformation),l=r.subchannel?"("+r.subchannel.getChannelzRef().id+") "+r.subchannel.getAddress():""+r.subchannel;switch(this.trace("Pick result: "+a.PickResultType[r.pickResultType]+" subchannel: "+l+" status: "+(null===(e=r.status)||void 0===e?void 0:e.code)+" "+(null===(t=r.status)||void 0===t?void 0:t.details)),r.pickResultType){case a.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then(e=>{var t,a,u;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}let c=this.metadata.clone();if(c.merge(e),c.get("authorization").length>1&&this.outputStatus({code:i.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new s.Metadata},"PROCESSED"),r.subchannel.getConnectivityState()!==n.ConnectivityState.READY){this.trace("Picked subchannel "+l+" has state "+n.ConnectivityState[r.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&c.set("grpc-timeout",(0,o.getDeadlineTimeoutString)(this.deadline));try{this.child=r.subchannel.getRealSubchannel().createCall(c,this.host,this.methodName,{onReceiveMetadata:e=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(e)},onReceiveMessage:e=>{this.trace("Received message"),this.listener.onReceiveMessage(e)},onReceiveStatus:e=>{this.trace("Received status"),e.rstCode===d.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(e,"REFUSED"):this.outputStatus(e,"PROCESSED")}})}catch(e){this.trace("Failed to start call on picked subchannel "+l+" with error "+e.message),this.outputStatus({code:i.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+e.message,metadata:new s.Metadata},"NOT_STARTED");return}null===(a=(t=this.callConfig).onCommitted)||void 0===a||a.call(t),null===(u=r.onCallStarted)||void 0===u||u.call(r),this.onCallEnded=r.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},e=>{let{code:t,details:r}=(0,c.restrictControlPlaneStatusCode)("number"==typeof e.code?e.code:i.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${e.message}`);this.outputStatus({code:t,details:r,metadata:new s.Metadata},"PROCESSED")});break;case a.PickResultType.DROP:let{code:u,details:h}=(0,c.restrictControlPlaneStatusCode)(r.status.code,r.status.details);setImmediate(()=>{this.outputStatus({code:u,details:h,metadata:r.status.metadata},"DROP")});break;case a.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:e,details:t}=(0,c.restrictControlPlaneStatusCode)(r.status.code,r.status.details);setImmediate(()=>{this.outputStatus({code:e,details:t,metadata:r.status.metadata},"PROCESSED")})}break;case a.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),null===(r=this.child)||void 0===r||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new s.Metadata},"PROCESSED")}getPeer(){var e,t;return null!==(t=null===(e=this.child)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.listener=t,this.metadata=e,this.doPick()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.child.sendMessageWithContext(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){throw Error("Method not implemented.")}getCallNumber(){return this.callNumber}}t.LoadBalancingCall=p},4788:(e,t,r)=>{"use strict";var n,i,o,s;Object.defineProperty(t,"__esModule",{value:!0}),t.isTracerEnabled=t.trace=t.log=t.setLoggerVerbosity=t.setLogger=t.getLogger=void 0;let a=r(50551),l=r(77282),u=r(47390).version,c={error:(e,...t)=>{console.error("E "+e,...t)},info:(e,...t)=>{console.error("I "+e,...t)},debug:(e,...t)=>{console.error("D "+e,...t)}},d=a.LogVerbosity.ERROR;switch((null!==(i=null!==(n=process.env.GRPC_NODE_VERBOSITY)&&void 0!==n?n:process.env.GRPC_VERBOSITY)&&void 0!==i?i:"").toUpperCase()){case"DEBUG":d=a.LogVerbosity.DEBUG;break;case"INFO":d=a.LogVerbosity.INFO;break;case"ERROR":d=a.LogVerbosity.ERROR;break;case"NONE":d=a.LogVerbosity.NONE}let h=()=>c;t.getLogger=h;let p=e=>{c=e};t.setLogger=p;let f=e=>{d=e};t.setLoggerVerbosity=f;let m=(e,...t)=>{let r;if(e>=d){switch(e){case a.LogVerbosity.DEBUG:r=c.debug;break;case a.LogVerbosity.INFO:r=c.info;break;case a.LogVerbosity.ERROR:r=c.error}r||(r=c.error),r&&r.bind(c)(...t)}};t.log=m;let g=null!==(s=null!==(o=process.env.GRPC_NODE_TRACE)&&void 0!==o?o:process.env.GRPC_TRACE)&&void 0!==s?s:"",y=new Set,v=new Set;for(let e of g.split(","))e.startsWith("-")?v.add(e.substring(1)):y.add(e);let b=y.has("all");function E(e,r,n){S(r)&&(0,t.log)(e,new Date().toISOString()+" | v"+u+" "+l.pid+" | "+r+" | "+n)}function S(e){return!v.has(e)&&(b||y.has(e))}t.trace=E,t.isTracerEnabled=S},67561:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadPackageDefinition=t.makeClientConstructor=void 0;let n=r(98801),i={unary:n.Client.prototype.makeUnaryRequest,server_stream:n.Client.prototype.makeServerStreamRequest,client_stream:n.Client.prototype.makeClientStreamRequest,bidi:n.Client.prototype.makeBidiStreamRequest};function o(e){return["__proto__","prototype","constructor"].includes(e)}function s(e,t,r){r||(r={});class s extends n.Client{}return Object.keys(e).forEach(t=>{let r;if(o(t))return;let n=e[t];if("string"==typeof t&&"$"===t.charAt(0))throw Error("Method names cannot start with $");r=n.requestStream?n.responseStream?"bidi":"client_stream":n.responseStream?"server_stream":"unary";let l=n.requestSerialize,u=n.responseDeserialize,c=a(i[r],n.path,l,u);s.prototype[t]=c,Object.assign(s.prototype[t],n),n.originalName&&!o(n.originalName)&&(s.prototype[n.originalName]=s.prototype[t])}),s.service=e,s.serviceName=t,s}function a(e,t,r,n){return function(...i){return e.call(this,t,r,n,...i)}}function l(e){return"format"in e}function u(e){let t={};for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)){let n=e[r],i=r.split(".");if(i.some(e=>o(e)))continue;let a=i[i.length-1],u=t;for(let e of i.slice(0,-1))u[e]||(u[e]={}),u=u[e];l(n)?u[a]=n:u[a]=s(n,a,{})}return t}t.makeClientConstructor=s,t.loadPackageDefinition=u},65829:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;let n=r(4788),i=r(50551),o=r(16708),s=/^[0-9a-z_.-]+$/,a=/^[ -~]*$/;function l(e){return s.test(e)}function u(e){return a.test(e)}function c(e){return e.endsWith("-bin")}function d(e){return!e.startsWith("grpc-")}function h(e){return e.toLowerCase()}function p(e,t){if(!l(e))throw Error('Metadata key "'+e+'" contains illegal characters');if(null!=t){if(c(e)){if(!Buffer.isBuffer(t))throw Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(t))throw Error("keys that don't end with '-bin' must have String values");if(!u(t))throw Error('Metadata string value "'+t+'" contains illegal characters')}}}class f{constructor(e={}){this.internalRepr=new Map,this.options=e}set(e,t){p(e=h(e),t),this.internalRepr.set(e,[t])}add(e,t){p(e=h(e),t);let r=this.internalRepr.get(e);void 0===r?this.internalRepr.set(e,[t]):r.push(t)}remove(e){e=h(e),this.internalRepr.delete(e)}get(e){return e=h(e),this.internalRepr.get(e)||[]}getMap(){let e={};for(let[t,r]of this.internalRepr)if(r.length>0){let n=r[0];e[t]=Buffer.isBuffer(n)?Buffer.from(n):n}return e}clone(){let e=new f(this.options),t=e.internalRepr;for(let[e,r]of this.internalRepr){let n=r.map(e=>Buffer.isBuffer(e)?Buffer.from(e):e);t.set(e,n)}return e}merge(e){for(let[t,r]of e.internalRepr){let e=(this.internalRepr.get(t)||[]).concat(r);this.internalRepr.set(t,e)}}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){let e={};for(let[t,r]of this.internalRepr)e[t]=r.map(m);return e}toJSON(){let e={};for(let[t,r]of this.internalRepr)e[t]=r;return e}static fromHttp2Headers(e){let t=new f;for(let r of Object.keys(e)){if(":"===r.charAt(0))continue;let s=e[r];try{c(r)?Array.isArray(s)?s.forEach(e=>{t.add(r,Buffer.from(e,"base64"))}):void 0!==s&&(d(r)?s.split(",").forEach(e=>{t.add(r,Buffer.from(e.trim(),"base64"))}):t.add(r,Buffer.from(s,"base64"))):Array.isArray(s)?s.forEach(e=>{t.add(r,e)}):void 0!==s&&t.add(r,s)}catch(t){let e=`Failed to add metadata entry ${r}: ${s}. ${(0,o.getErrorMessage)(t)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,n.log)(i.LogVerbosity.ERROR,e)}}return t}}t.Metadata=f;let m=e=>Buffer.isBuffer(e)?e.toString("base64"):e},60471:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.QueuePicker=t.UnavailablePicker=t.PickResultType=void 0;let i=r(65829),o=r(50551);!function(e){e[e.COMPLETE=0]="COMPLETE",e[e.QUEUE=1]="QUEUE",e[e.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",e[e.DROP=3]="DROP"}(n||(t.PickResultType=n={}));class s{constructor(e){this.status=Object.assign({code:o.Status.UNAVAILABLE,details:"No connection established",metadata:new i.Metadata},e)}pick(e){return{pickResultType:n.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}}t.UnavailablePicker=s;class a{constructor(e){this.loadBalancer=e,this.calledExitIdle=!1}pick(e){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),{pickResultType:n.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}}t.QueuePicker=a},38145:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.DEFAULT_PORT=void 0;let n=r(84445),i=r(9523),o=r(73837),s=r(92251),a=r(50551),l=r(65829),u=r(4788),c=r(50551),d=r(67969),h=r(41808),p=r(87537),f="dns_resolver";function m(e){u.trace(c.LogVerbosity.DEBUG,f,e)}t.DEFAULT_PORT=443;let g=3e4,y=o.promisify(i.resolveTxt),v=o.promisify(i.lookup);function b(...e){let t=[];for(let r=0;r<Math.max.apply(null,e.map(e=>e.length));r++)for(let n of e)r<n.length&&t.push(n[r]);return t}class E{constructor(e,r,n){var i,o,s;this.target=e,this.listener=r,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,m("Resolver constructed for target "+(0,d.uriToString)(e));let u=(0,d.splitHostPort)(e.path);null===u?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,h.isIPv4)(u.host)||(0,h.isIPv6)(u.host)?(this.ipResult=[{host:u.host,port:null!==(i=u.port)&&void 0!==i?i:t.DEFAULT_PORT}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=u.host,this.port=null!==(o=u.port)&&void 0!==o?o:t.DEFAULT_PORT),this.percentage=100*Math.random(),1===n["grpc.service_config_disable_resolution"]&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:a.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,d.uriToString)(this.target)}`,metadata:new l.Metadata};let c={initialDelay:n["grpc.initial_reconnect_backoff_ms"],maxDelay:n["grpc.max_reconnect_backoff_ms"]};this.backoff=new p.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},c),this.backoff.unref(),this.minTimeBetweenResolutionsMs=null!==(s=n["grpc.dns_min_time_between_resolutions_ms"])&&void 0!==s?s:g,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(null!==this.ipResult){this.returnedIpResult||(m("Returning IP address for target "+(0,d.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(null===this.dnsHostname)m("Failed to parse DNS address "+(0,d.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:a.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,d.uriToString)(this.target)}`,metadata:new l.Metadata})}),this.stopNextResolutionTimer();else{if(null!==this.pendingLookupPromise)return;m("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let e=this.dnsHostname;this.pendingLookupPromise=v(e,{all:!0}),this.pendingLookupPromise.then(e=>{if(null===this.pendingLookupPromise)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop();let t=e.filter(e=>4===e.family),r=e.filter(e=>6===e.family);this.latestLookupResult=b(r,t).map(e=>({host:e.address,port:+this.port}));let n="["+this.latestLookupResult.map(e=>e.host+":"+e.port).join(",")+"]";if(m("Resolved addresses for target "+(0,d.uriToString)(this.target)+": "+n),0===this.latestLookupResult.length){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},e=>{null!==this.pendingLookupPromise&&(m("Resolution error for target "+(0,d.uriToString)(this.target)+": "+e.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&null===this.pendingTxtPromise&&(this.pendingTxtPromise=y(e),this.pendingTxtPromise.then(e=>{if(null!==this.pendingTxtPromise){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,s.extractAndSelectServiceConfig)(e,this.percentage)}catch(e){this.latestServiceConfigError={code:a.Status.UNAVAILABLE,details:`Parsing service config failed with error ${e.message}`,metadata:new l.Metadata}}null!==this.latestLookupResult&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},e=>{}))}}startNextResolutionTimer(){var e,t;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=null===(t=(e=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs)).unref)||void 0===t?void 0:t.call(e),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){null===this.pendingLookupPromise&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){null===this.pendingLookupPromise&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?m('resolution update delayed by "min time between resolutions" rate limit'):m("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(e){return e.path}}function S(){(0,n.registerResolver)("dns",E),(0,n.registerDefaultScheme)("dns")}t.setup=S},33557:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;let n=r(41808),i=r(50551),o=r(65829),s=r(84445),a=r(67969),l=r(4788),u="ip_resolver";function c(e){l.trace(i.LogVerbosity.DEBUG,u,e)}let d="ipv4",h="ipv6",p=443;class f{constructor(e,t,r){var s;this.listener=t,this.addresses=[],this.error=null,this.hasReturnedResult=!1,c("Resolver constructed for target "+(0,a.uriToString)(e));let l=[];if(!(e.scheme===d||e.scheme===h)){this.error={code:i.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new o.Metadata};return}for(let t of e.path.split(",")){let r=(0,a.splitHostPort)(t);if(null===r||e.scheme===d&&!(0,n.isIPv4)(r.host)||e.scheme===h&&!(0,n.isIPv6)(r.host)){this.error={code:i.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${t}`,metadata:new o.Metadata};return}l.push({host:r.host,port:null!==(s=r.port)&&void 0!==s?s:p})}this.addresses=l,c("Parsed "+e.scheme+" address list "+this.addresses)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.addresses,null,null,null,{})}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return e.path.split(",")[0]}}function m(){(0,s.registerResolver)(d,f),(0,s.registerResolver)(h,f)}t.setup=m},33459:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;let n=r(84445);class i{constructor(e,t,r){let n;this.listener=t,this.addresses=[],this.hasReturnedResult=!1,n=""===e.authority?"/"+e.path:e.path,this.addresses=[{path:n}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,null,{}))}destroy(){}static getDefaultAuthority(e){return"localhost"}}function o(){(0,n.registerResolver)("unix",i)}t.setup=o},84445:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapUriDefaultScheme=t.getDefaultAuthority=t.createResolver=t.registerDefaultScheme=t.registerResolver=void 0;let n=r(67969),i={},o=null;function s(e,t){i[e]=t}function a(e){o=e}function l(e,t,r){if(void 0!==e.scheme&&e.scheme in i)return new i[e.scheme](e,t,r);throw Error(`No resolver could be created for target ${(0,n.uriToString)(e)}`)}function u(e){if(void 0!==e.scheme&&e.scheme in i)return i[e.scheme].getDefaultAuthority(e);throw Error(`Invalid target ${(0,n.uriToString)(e)}`)}function c(e){return void 0!==e.scheme&&e.scheme in i?e:null!==o?{scheme:o,authority:void 0,path:(0,n.uriToString)(e)}:null}t.registerResolver=s,t.registerDefaultScheme=a,t.createResolver=l,t.getDefaultAuthority=u,t.mapUriDefaultScheme=c},47902:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResolvingCall=void 0;let n=r(50551),i=r(46212),o=r(65829),s=r(4788),a=r(16007),l="resolving_call";class u{constructor(e,t,r,o,s,a){this.channel=e,this.method=t,this.filterStackFactory=o,this.credentials=s,this.callNumber=a,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadline=r.deadline,this.host=r.host,r.parentCall&&(r.flags&n.Propagate.CANCELLATION&&r.parentCall.on("cancelled",()=>{this.cancelWithStatus(n.Status.CANCELLED,"Cancelled by parent call")}),r.flags&n.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+r.parentCall.getDeadline()),this.deadline=(0,i.minDeadline)(this.deadline,r.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(e){s.trace(n.LogVerbosity.DEBUG,l,"["+this.callNumber+"] "+e)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.trace("Deadline: "+(0,i.deadlineToString)(this.deadline));let e=(0,i.getRelativeTimeout)(this.deadline);if(e!==1/0){this.trace("Deadline will be reached in "+e+"ms");let t=()=>{this.cancelWithStatus(n.Status.DEADLINE_EXCEEDED,"Deadline exceeded")};e<=0?process.nextTick(t):this.deadlineTimer=setTimeout(t,e)}}outputStatus(e){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let t=this.filterStack.receiveTrailers(e);this.trace("ended with status: code="+t.code+' details="'+t.details+'"'),this.statusWatchers.forEach(e=>e(t)),process.nextTick(()=>{var e;null===(e=this.listener)||void 0===e||e.onReceiveStatus(t)})}}sendMessageOnChild(e,t){if(!this.child)throw Error("sendMessageonChild called with child not populated");let r=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:t,flags:e.flags})).then(t=>{this.writeFilterPending=!1,r.sendMessageWithContext(e,t.message),this.pendingHalfClose&&r.halfClose()},e=>{this.cancelWithStatus(e.code,e.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw Error("getConfig called before start");let e=this.channel.getConfig(this.method,this.metadata);if("NONE"===e.type){this.channel.queueCallForConfig(this);return}if("ERROR"===e.type){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e.error);return}let t=e.config;if(t.status!==n.Status.OK){let{code:e,details:r}=(0,a.restrictControlPlaneStatusCode)(t.status,"Failed to route call to method "+this.method);this.outputStatus({code:e,details:r,metadata:new o.Metadata});return}if(t.methodConfig.timeout){let e=new Date;e.setSeconds(e.getSeconds()+t.methodConfig.timeout.seconds),e.setMilliseconds(e.getMilliseconds()+t.methodConfig.timeout.nanos/1e6),this.deadline=(0,i.minDeadline)(this.deadline,e),this.runDeadlineTimer()}this.filterStackFactory.push(t.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(e=>{this.child=this.channel.createInnerCall(t,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.child.start(e,{onReceiveMetadata:e=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(e))},onReceiveMessage:e=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(e).then(e=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(e),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},e=>{this.cancelWithStatus(e.code,e.details)})},onReceiveStatus:e=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=e:this.outputStatus(e)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},e=>{this.outputStatus(e)})}reportResolverError(e){var t;(null===(t=this.metadata)||void 0===t?void 0:t.getOptions().waitForReady)?this.channel.queueCallForConfig(this):this.outputStatus(e)}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),null===(r=this.child)||void 0===r||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new o.Metadata})}getPeer(){var e,t;return null!==(t=null===(e=this.child)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.metadata=e.clone(),this.listener=t,this.getConfig()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.sendMessageOnChild(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){this.credentials=this.credentials.compose(e)}addStatusWatcher(e){this.statusWatchers.push(e)}getCallNumber(){return this.callNumber}}t.ResolvingCall=u},92940:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResolvingLoadBalancer=void 0;let n=r(53979),i=r(92251),o=r(36863),s=r(84445),a=r(60471),l=r(87537),u=r(50551),c=r(65829),d=r(4788),h=r(50551),p=r(67969),f=r(12224),m="resolving_load_balancer";function g(e){d.trace(h.LogVerbosity.DEBUG,m,e)}let y=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function v(e,t,r,n){for(let i of r.name)switch(n){case"EMPTY":if(!i.service&&!i.method)return!0;break;case"SERVICE":if(i.service===e&&!i.method)return!0;break;case"SERVICE_AND_METHOD":if(i.service===e&&i.method===t)return!0}return!1}function b(e,t,r,n){for(let i of r)if(v(e,t,i,n))return i;return null}function E(e){return function(t,r){var n,i;let o=t.split("/").filter(e=>e.length>0),s=null!==(n=o[0])&&void 0!==n?n:"",a=null!==(i=o[1])&&void 0!==i?i:"";if(e&&e.methodConfig)for(let t of y){let r=b(s,a,e.methodConfig,t);if(r)return{methodConfig:r,pickInformation:{},status:u.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:u.Status.OK,dynamicFilterFactories:[]}}}class S{constructor(e,t,r,d,h){this.target=e,this.channelControlHelper=t,this.onSuccessfulResolution=d,this.onFailedResolution=h,this.latestChildState=o.ConnectivityState.IDLE,this.latestChildPicker=new a.QueuePicker(this),this.currentState=o.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,r["grpc.service_config"]?this.defaultServiceConfig=(0,i.validateServiceConfig)(JSON.parse(r["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(o.ConnectivityState.IDLE,new a.QueuePicker(this)),this.childLoadBalancer=new f.ChildLoadBalancerHandler({createSubchannel:t.createSubchannel.bind(t),requestReresolution:()=>{this.backoffTimeout.isRunning()?(g("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(e,t)=>{this.latestChildState=e,this.latestChildPicker=t,this.updateState(e,t)},addChannelzChild:t.addChannelzChild.bind(t),removeChannelzChild:t.removeChannelzChild.bind(t)}),this.innerResolver=(0,s.createResolver)(e,{onSuccessfulResolution:(e,t,r,i,o)=>{var s;this.backoffTimeout.stop(),this.backoffTimeout.reset();let a=null;null===t?null===r?(this.previousServiceConfig=null,a=this.defaultServiceConfig):null===this.previousServiceConfig?this.handleResolutionFailure(r):a=this.previousServiceConfig:(a=t,this.previousServiceConfig=t);let l=null!==(s=null==a?void 0:a.loadBalancingConfig)&&void 0!==s?s:[],d=(0,n.getFirstUsableConfig)(l,!0);if(null===d){this.handleResolutionFailure({code:u.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new c.Metadata});return}this.childLoadBalancer.updateAddressList(e,d,o);let h=null!=a?a:this.defaultServiceConfig;this.onSuccessfulResolution(h,null!=i?i:E(h))},onError:e=>{this.handleResolutionFailure(e)}},r);let p={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new l.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)},p),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===o.ConnectivityState.IDLE&&this.updateState(o.ConnectivityState.CONNECTING,new a.QueuePicker(this)),this.backoffTimeout.runOnce()}updateState(e,t){g((0,p.uriToString)(this.target)+" "+o.ConnectivityState[this.currentState]+" -> "+o.ConnectivityState[e]),e===o.ConnectivityState.IDLE&&(t=new a.QueuePicker(this)),this.currentState=e,this.channelControlHelper.updateState(e,t)}handleResolutionFailure(e){this.latestChildState===o.ConnectivityState.IDLE&&(this.updateState(o.ConnectivityState.TRANSIENT_FAILURE,new a.UnavailablePicker(e)),this.onFailedResolution(e))}exitIdle(){(this.currentState===o.ConnectivityState.IDLE||this.currentState===o.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(e,t){throw Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=o.ConnectivityState.IDLE,this.latestChildPicker=new a.QueuePicker(this),this.currentState=o.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}}t.ResolvingLoadBalancer=S},35470:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RetryingCall=t.MessageBufferTracker=t.RetryThrottler=void 0;let n=r(50551),i=r(65829),o=r(4788),s="retrying_call";class a{constructor(e,t,r){this.maxTokens=e,this.tokenRatio=t,r?this.tokens=r.tokens*(e/r.maxTokens):this.tokens=e}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}}t.RetryThrottler=a;class l{constructor(e,t){this.totalLimit=e,this.limitPerCall=t,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(e,t){var r;let n=null!==(r=this.allocatedPerCall.get(t))&&void 0!==r?r:0;return!(this.limitPerCall-n<e)&&!(this.totalLimit-this.totalAllocated<e)&&(this.allocatedPerCall.set(t,n+e),this.totalAllocated+=e,!0)}free(e,t){var r;if(this.totalAllocated<e)throw Error(`Invalid buffer allocation state: call ${t} freed ${e} > total allocated ${this.totalAllocated}`);this.totalAllocated-=e;let n=null!==(r=this.allocatedPerCall.get(t))&&void 0!==r?r:0;if(n<e)throw Error(`Invalid buffer allocation state: call ${t} freed ${e} > allocated for call ${n}`);this.allocatedPerCall.set(t,n-e)}freeAll(e){var t;let r=null!==(t=this.allocatedPerCall.get(e))&&void 0!==t?t:0;if(this.totalAllocated<r)throw Error(`Invalid buffer allocation state: call ${e} allocated ${r} > total allocated ${this.totalAllocated}`);this.totalAllocated-=r,this.allocatedPerCall.delete(e)}}t.MessageBufferTracker=l;let u="grpc-previous-rpc-attempts";class c{constructor(e,t,r,n,i,o,s,a,l){if(this.channel=e,this.callConfig=t,this.methodName=r,this.host=n,this.credentials=i,this.deadline=o,this.callNumber=s,this.bufferTracker=a,this.retryThrottler=l,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0,t.methodConfig.retryPolicy){this.state="RETRY";let e=t.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(e.initialBackoff.substring(0,e.initialBackoff.length-1))}else t.methodConfig.hedgingPolicy?this.state="HEDGING":this.state="TRANSPARENT_ONLY"}getCallNumber(){return this.callNumber}trace(e){o.trace(n.LogVerbosity.DEBUG,s,"["+this.callNumber+"] "+e)}reportStatus(e){this.trace("ended with status: code="+e.code+' details="'+e.details+'"'),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var t;null===(t=this.listener)||void 0===t||t.onReceiveStatus({code:e.code,details:e.details,metadata:e.metadata})})}cancelWithStatus(e,t){for(let{call:r}of(this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.reportStatus({code:e,details:t,metadata:new i.Metadata}),this.underlyingCalls))r.cancelWithStatus(e,t)}getPeer(){return null!==this.committedCallIndex?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(e){var t;return null!==(t=this.writeBuffer[e-this.writeBufferOffset])&&void 0!==t?t:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if("COMMITTED"!==this.state)return;let e=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let t=this.writeBufferOffset;t<e;t++){let e=this.getBufferEntry(t);e.allocated&&this.bufferTracker.free(e.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(e-this.writeBufferOffset),this.writeBufferOffset=e}commitCall(e){if("COMMITTED"!==this.state&&"COMPLETED"!==this.underlyingCalls[e].state){this.trace("Committing call ["+this.underlyingCalls[e].call.getCallNumber()+"] at index "+e),this.state="COMMITTED",this.committedCallIndex=e;for(let t=0;t<this.underlyingCalls.length;t++)t!==e&&"COMPLETED"!==this.underlyingCalls[t].state&&(this.underlyingCalls[t].state="COMPLETED",this.underlyingCalls[t].call.cancelWithStatus(n.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if("COMMITTED"===this.state)return;let e=-1,t=-1;for(let[r,n]of this.underlyingCalls.entries())"ACTIVE"===n.state&&n.nextMessageToSend>e&&(e=n.nextMessageToSend,t=r);-1===t?this.state="TRANSPARENT_ONLY":this.commitCall(t)}isStatusCodeInList(e,t){return e.some(e=>e===t||e.toString().toLowerCase()===n.Status[t].toLowerCase())}getNextRetryBackoffMs(){var e;let t=null===(e=this.callConfig)||void 0===e?void 0:e.methodConfig.retryPolicy;if(!t)return 0;let r=Math.random()*this.nextRetryBackoffSec*1e3,n=Number(t.maxBackoff.substring(0,t.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*t.backoffMultiplier,n),r}maybeRetryCall(e,t){let r;if("RETRY"!==this.state){t(!1);return}let n=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(n.maxAttempts,5)){t(!1);return}if(null===e)r=this.getNextRetryBackoffMs();else if(e<0){this.state="TRANSPARENT_ONLY",t(!1);return}else r=e,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var e,r;if("RETRY"!==this.state){t(!1);return}(null===(r=null===(e=this.retryThrottler)||void 0===e?void 0:e.canRetryCall())||void 0===r||r)&&(t(!0),this.attempts+=1,this.startNewAttempt())},r)}countActiveCalls(){let e=0;for(let t of this.underlyingCalls)(null==t?void 0:t.state)==="ACTIVE"&&(e+=1);return e}handleProcessedStatus(e,t,r){var n,i,o;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(t),this.reportStatus(e);break;case"HEDGING":if(this.isStatusCodeInList(null!==(n=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)&&void 0!==n?n:[],e.code)){let n;if(null===(i=this.retryThrottler)||void 0===i||i.addCallFailed(),null===r)n=0;else if(r<0){this.state="TRANSPARENT_ONLY",this.commitCall(t),this.reportStatus(e);return}else n=r;setTimeout(()=>{this.maybeStartHedgingAttempt(),0===this.countActiveCalls()&&(this.commitCall(t),this.reportStatus(e))},n)}else this.commitCall(t),this.reportStatus(e);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,e.code)?(null===(o=this.retryThrottler)||void 0===o||o.addCallFailed(),this.maybeRetryCall(r,r=>{r||(this.commitCall(t),this.reportStatus(e))})):(this.commitCall(t),this.reportStatus(e))}}getPushback(e){let t=e.get("grpc-retry-pushback-ms");if(0===t.length)return null;try{return parseInt(t[0])}catch(e){return -1}}handleChildStatus(e,t){var r;if("COMPLETED"===this.underlyingCalls[t].state)return;if(this.trace("state="+this.state+" handling status with progress "+e.progress+" from child ["+this.underlyingCalls[t].call.getCallNumber()+"] in state "+this.underlyingCalls[t].state),this.underlyingCalls[t].state="COMPLETED",e.code===n.Status.OK){null===(r=this.retryThrottler)||void 0===r||r.addCallSucceeded(),this.commitCall(t),this.reportStatus(e);return}if("COMMITTED"===this.state){this.reportStatus(e);return}let i=this.getPushback(e.metadata);switch(e.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(e,t,i):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(t),this.reportStatus(e);break;case"PROCESSED":this.handleProcessedStatus(e,t,i)}}maybeStartHedgingAttempt(){if("HEDGING"!==this.state||!this.callConfig.methodConfig.hedgingPolicy)return;let e=this.callConfig.methodConfig.hedgingPolicy;this.attempts>=Math.min(e.maxAttempts,5)||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer())}maybeStartHedgingTimer(){var e,t,r;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),"HEDGING"!==this.state||!this.callConfig.methodConfig.hedgingPolicy)return;let n=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(n.maxAttempts,5))return;let i=null!==(e=n.hedgingDelay)&&void 0!==e?e:"0s",o=Number(i.substring(0,i.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},1e3*o),null===(r=(t=this.hedgingTimer).unref)||void 0===r||r.call(t)}startNewAttempt(){let e=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+e.getCallNumber()+"] for attempt "+this.attempts);let t=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:e,nextMessageToSend:0});let r=this.attempts-1,n=this.initialMetadata.clone();r>0&&n.set(u,`${r}`);let i=!1;e.start(n,{onReceiveMetadata:n=>{this.trace("Received metadata from child ["+e.getCallNumber()+"]"),this.commitCall(t),i=!0,r>0&&n.set(u,`${r}`),"ACTIVE"===this.underlyingCalls[t].state&&this.listener.onReceiveMetadata(n)},onReceiveMessage:r=>{this.trace("Received message from child ["+e.getCallNumber()+"]"),this.commitCall(t),"ACTIVE"===this.underlyingCalls[t].state&&this.listener.onReceiveMessage(r)},onReceiveStatus:n=>{this.trace("Received status from child ["+e.getCallNumber()+"]"),!i&&r>0&&n.metadata.set(u,`${r}`),this.handleChildStatus(n,t)}}),this.sendNextChildMessage(t),this.readStarted&&e.startRead()}start(e,t){this.trace("start called"),this.listener=t,this.initialMetadata=e,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(e){var t,r;let n=this.underlyingCalls[e],i=n.nextMessageToSend;null===(r=(t=this.getBufferEntry(i)).callback)||void 0===r||r.call(t),this.clearSentMessages(),n.nextMessageToSend+=1,this.sendNextChildMessage(e)}sendNextChildMessage(e){let t=this.underlyingCalls[e];if("COMPLETED"!==t.state&&this.getBufferEntry(t.nextMessageToSend)){let r=this.getBufferEntry(t.nextMessageToSend);switch(r.entryType){case"MESSAGE":t.call.sendMessageWithContext({callback:t=>{this.handleChildWriteCompleted(e)}},r.message.message);break;case"HALF_CLOSE":t.nextMessageToSend+=1,t.call.halfClose()}}}sendMessageWithContext(e,t){var r;this.trace("write() called with message of length "+t.length);let n={message:t,flags:e.flags},i=this.getNextBufferIndex(),o={entryType:"MESSAGE",message:n,allocated:this.bufferTracker.allocate(t.length,this.callNumber)};if(this.writeBuffer.push(o),o.allocated)for(let[n,o]of(null===(r=e.callback)||void 0===r||r.call(e),this.underlyingCalls.entries()))"ACTIVE"===o.state&&o.nextMessageToSend===i&&o.call.sendMessageWithContext({callback:e=>{this.handleChildWriteCompleted(n)}},t);else{if(this.commitCallWithMostMessages(),null===this.committedCallIndex)return;let r=this.underlyingCalls[this.committedCallIndex];o.callback=e.callback,"ACTIVE"===r.state&&r.nextMessageToSend===i&&r.call.sendMessageWithContext({callback:e=>{this.handleChildWriteCompleted(this.committedCallIndex)}},t)}}startRead(){for(let e of(this.trace("startRead called"),this.readStarted=!0,this.underlyingCalls))(null==e?void 0:e.state)==="ACTIVE"&&e.call.startRead()}halfClose(){this.trace("halfClose called");let e=this.getNextBufferIndex();for(let t of(this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1}),this.underlyingCalls))(null==t?void 0:t.state)==="ACTIVE"&&t.nextMessageToSend===e&&(t.nextMessageToSend+=1,t.call.halfClose())}setCredentials(e){throw Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}}t.RetryingCall=c},65237:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2ServerCallStream=t.ServerDuplexStreamImpl=t.ServerWritableStreamImpl=t.ServerReadableStreamImpl=t.ServerUnaryCallImpl=void 0;let n=r(82361),i=r(85158),o=r(12781),s=r(59796),a=r(50551),l=r(65829),u=r(64754),c=r(4788),d=r(16708),h="server_call";function p(e){c.trace(a.LogVerbosity.DEBUG,h,e)}let f="grpc-message",m="grpc-status",g="grpc-timeout",y=/(\d{1,8})\s*([HMSmun])/,v={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},b={"grpc-accept-encoding":"identity,deflate,gzip","grpc-encoding":"identity"},E={[i.constants.HTTP2_HEADER_STATUS]:i.constants.HTTP_STATUS_OK,[i.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},S={waitForTrailers:!0};class _ extends n.EventEmitter{constructor(e,t,r){super(),this.call=e,this.metadata=t,this.request=r,this.cancelled=!1,this.call.setupSurfaceCall(this)}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}}t.ServerUnaryCallImpl=_;class T extends o.Readable{constructor(e,t,r,n){super({objectMode:!0}),this.call=e,this.metadata=t,this.deserialize=r,this.cancelled=!1,this.call.setupSurfaceCall(this),this.call.setupReadable(this,n)}_read(e){this.call.consumeUnpushedMessages(this)&&this.call.resume()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}}t.ServerReadableStreamImpl=T;class A extends o.Writable{constructor(e,t,r,n){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.request=n,this.cancelled=!1,this.trailingMetadata=new l.Metadata,this.call.setupSurfaceCall(this),this.on("error",e=>{this.call.sendError(e),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}_write(e,t,r){try{let t=this.call.serializeMessage(e);if(!this.call.write(t)){this.call.once("drain",r);return}}catch(e){this.emit("error",{details:(0,d.getErrorMessage)(e),code:a.Status.INTERNAL})}r()}_final(e){this.call.sendStatus({code:a.Status.OK,details:"OK",metadata:this.trailingMetadata}),e(null)}end(e){return e&&(this.trailingMetadata=e),super.end()}}t.ServerWritableStreamImpl=A;class C extends o.Duplex{constructor(e,t,r,n,i){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.deserialize=n,this.cancelled=!1,this.trailingMetadata=new l.Metadata,this.call.setupSurfaceCall(this),this.call.setupReadable(this,i),this.on("error",e=>{this.call.sendError(e),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}end(e){return e&&(this.trailingMetadata=e),super.end()}}t.ServerDuplexStreamImpl=C,C.prototype._read=T.prototype._read,C.prototype._write=A.prototype._write,C.prototype._final=A.prototype._final;class w extends n.EventEmitter{constructor(e,t,r){super(),this.stream=e,this.handler=t,this.cancelled=!1,this.deadlineTimer=null,this.statusSent=!1,this.deadline=1/0,this.wantTrailers=!1,this.metadataSent=!1,this.canPush=!1,this.isPushPending=!1,this.bufferedMessages=[],this.messagesToPush=[],this.maxSendMessageSize=a.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=a.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.stream.once("error",e=>{}),this.stream.once("close",()=>{var e;p("Request to method "+(null===(e=this.handler)||void 0===e?void 0:e.path)+" stream closed with rstCode "+this.stream.rstCode),!this.statusSent&&(this.cancelled=!0,this.emit("cancelled","cancelled"),this.emit("streamEnd",!1),this.sendStatus({code:a.Status.CANCELLED,details:"Cancelled by client",metadata:null}),this.deadlineTimer&&clearTimeout(this.deadlineTimer))}),this.stream.on("drain",()=>{this.emit("drain")}),"grpc.max_send_message_length"in r&&(this.maxSendMessageSize=r["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in r&&(this.maxReceiveMessageSize=r["grpc.max_receive_message_length"])}checkCancelled(){return(this.stream.destroyed||this.stream.closed)&&(this.cancelled=!0),this.cancelled}getDecompressedMessage(e,t){let r=e.subarray(5);if("identity"===t)return r;if("deflate"!==t&&"gzip"!==t)return Promise.reject({code:a.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${t}"`});{let e;return e="deflate"===t?s.createInflate():s.createGunzip(),new Promise((t,n)=>{let i=0,o=[];e.on("data",t=>{o.push(t),i+=t.byteLength,-1!==this.maxReceiveMessageSize&&i>this.maxReceiveMessageSize&&(e.destroy(),n({code:a.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`}))}),e.on("end",()=>{t(Buffer.concat(o))}),e.write(r),e.end()})}}sendMetadata(e){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let t=e?e.toHttp2Headers():null,r=Object.assign(Object.assign(Object.assign({},E),b),t);this.stream.respond(r,S)}receiveMetadata(e){let t=l.Metadata.fromHttp2Headers(e);c.isTracerEnabled(h)&&p("Request to "+this.handler.path+" received headers "+JSON.stringify(t.toJSON()));let r=t.get(g);if(r.length>0){let e=r[0].toString().match(y);if(null===e){let e=Error("Invalid deadline");return e.code=a.Status.OUT_OF_RANGE,this.sendError(e),t}let n=+e[1]*v[e[2]]|0,i=new Date;this.deadline=i.setMilliseconds(i.getMilliseconds()+n),this.deadlineTimer=setTimeout(O,n,this),t.remove(g)}return t.remove(i.constants.HTTP2_HEADER_ACCEPT_ENCODING),t.remove(i.constants.HTTP2_HEADER_TE),t.remove(i.constants.HTTP2_HEADER_CONTENT_TYPE),t.remove("grpc-accept-encoding"),t}receiveUnaryMessage(e){return new Promise((t,r)=>{let{stream:n}=this,i=0,o=this,s=[],l=this.maxReceiveMessageSize;function u(e){if(i+=e.byteLength,-1!==l&&i>l){n.removeListener("data",u),n.removeListener("end",c),n.removeListener("error",c),r({code:a.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${i} vs. ${l})`});return}s.push(e)}function c(l){if(n.removeListener("data",u),n.removeListener("end",c),n.removeListener("error",c),void 0!==l){r({code:a.Status.INTERNAL,details:l.message});return}if(0===i){r({code:a.Status.INTERNAL,details:"received empty unary message"});return}o.emit("receiveMessage");let d=Buffer.concat(s,i),h=1===d.readUInt8(0)?e:"identity",p=o.getDecompressedMessage(d,h);if(Buffer.isBuffer(p)){t(o.deserializeMessageWithInternalError(p));return}p.then(e=>t(o.deserializeMessageWithInternalError(e)),t=>r(t.code?t:{code:a.Status.INTERNAL,details:`Received "grpc-encoding" header "${e}" but ${e} decompression failed`}))}this.stream.on("data",u),this.stream.on("end",c),this.stream.on("error",c)})}async deserializeMessageWithInternalError(e){try{return this.deserializeMessage(e)}catch(e){throw{details:(0,d.getErrorMessage)(e),code:a.Status.INTERNAL}}}serializeMessage(e){let t=this.handler.serialize(e),r=t.byteLength,n=Buffer.allocUnsafe(r+5);return n.writeUInt8(0,0),n.writeUInt32BE(r,1),t.copy(n,5),n}deserializeMessage(e){return this.handler.deserialize(e)}async sendUnaryMessage(e,t,r,n){if(!this.checkCancelled()){if(void 0===r&&(r=null),e){!Object.prototype.hasOwnProperty.call(e,"metadata")&&r&&(e.metadata=r),this.sendError(e);return}try{let e=this.serializeMessage(t);this.write(e),this.sendStatus({code:a.Status.OK,details:"OK",metadata:r})}catch(e){this.sendError({details:(0,d.getErrorMessage)(e),code:a.Status.INTERNAL})}}}sendStatus(e){var t,r;if(this.emit("callEnd",e.code),this.emit("streamEnd",e.code===a.Status.OK),!this.checkCancelled()){if(p("Request to method "+(null===(t=this.handler)||void 0===t?void 0:t.path)+" ended with status code: "+a.Status[e.code]+" details: "+e.details),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.headersSent)this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var t;let r=Object.assign({[m]:e.code,[f]:encodeURI(e.details)},null===(t=e.metadata)||void 0===t?void 0:t.toHttp2Headers());this.stream.sendTrailers(r),this.statusSent=!0}),this.stream.end());else{let t=Object.assign(Object.assign({[m]:e.code,[f]:encodeURI(e.details)},E),null===(r=e.metadata)||void 0===r?void 0:r.toHttp2Headers());this.stream.respond(t,{endStream:!0}),this.statusSent=!0}}}sendError(e){let t={code:a.Status.UNKNOWN,details:"message"in e?e.message:"Unknown Error",metadata:"metadata"in e&&void 0!==e.metadata?e.metadata:null};"code"in e&&"number"==typeof e.code&&Number.isInteger(e.code)&&(t.code=e.code,"details"in e&&"string"==typeof e.details&&(t.details=e.details)),this.sendStatus(t)}write(e){if(!this.checkCancelled()){if(-1!==this.maxSendMessageSize&&e.length>this.maxSendMessageSize){this.sendError({code:a.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${e.length} vs. ${this.maxSendMessageSize})`});return}return this.sendMetadata(),this.emit("sendMessage"),this.stream.write(e)}}resume(){this.stream.resume()}setupSurfaceCall(e){this.once("cancelled",t=>{e.cancelled=!0,e.emit("cancelled",t)}),this.once("callEnd",t=>e.emit("callEnd",t))}setupReadable(e,t){let r=new u.StreamDecoder(this.maxReceiveMessageSize),n=!1,i=!1,o=!1,s=async()=>{o||!n||i||(o=!0,await this.pushOrBufferMessage(e,null))};this.stream.on("data",async n=>{let o;try{o=r.write(n)}catch(e){this.sendError({code:a.Status.RESOURCE_EXHAUSTED,details:e.message});return}for(let r of(i=!0,this.stream.pause(),o)){let n;this.emit("receiveMessage");let i=1===r.readUInt8(0)?t:"identity";try{n=await this.getDecompressedMessage(r,i)}catch(e){this.sendError(e);return}if(!n)return;await this.pushOrBufferMessage(e,n)}i=!1,this.stream.resume(),await s()}),this.stream.once("end",async()=>{n=!0,await s()})}consumeUnpushedMessages(e){for(this.canPush=!0;this.messagesToPush.length>0;){let t=this.messagesToPush.shift(),r=e.push(t);if(null===t||!1===r){this.canPush=!1;break}}return this.canPush}async pushOrBufferMessage(e,t){this.isPushPending?this.bufferedMessages.push(t):await this.pushMessage(e,t)}async pushMessage(e,t){if(null===t){p("Received end of stream"),this.canPush?e.push(null):this.messagesToPush.push(null);return}p("Received message of length "+t.length),this.isPushPending=!0;try{let r=await this.deserializeMessage(t);this.canPush?e.push(r)||(this.canPush=!1,this.stream.pause()):this.messagesToPush.push(r)}catch(r){this.bufferedMessages.length=0;let t=(0,d.getErrorCode)(r);(null===t||t<a.Status.OK||t>a.Status.UNAUTHENTICATED)&&(t=a.Status.INTERNAL),e.emit("error",{details:(0,d.getErrorMessage)(r),code:t})}this.isPushPending=!1,this.bufferedMessages.length>0&&await this.pushMessage(e,this.bufferedMessages.shift())}getPeer(){var e;let t=null===(e=this.stream.session)||void 0===e?void 0:e.socket;return null!=t&&t.remoteAddress?t.remotePort?`${t.remoteAddress}:${t.remotePort}`:t.remoteAddress:"unknown"}getDeadline(){return this.deadline}getPath(){return this.handler.path}}function O(e){let t=Error("Deadline exceeded");t.code=a.Status.DEADLINE_EXCEEDED,e.sendError(t),e.cancelled=!0,e.emit("cancelled","deadline")}t.Http2ServerCallStream=w},73393:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerCredentials=void 0;let n=r(65321);class i{static createInsecure(){return new o}static createSsl(e,t,r=!1){if(null!==e&&!Buffer.isBuffer(e))throw TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(t))throw TypeError("keyCertPairs must be an array");if("boolean"!=typeof r)throw TypeError("checkClientCertificate must be a boolean");let i=[],o=[];for(let e=0;e<t.length;e++){let r=t[e];if(null===r||"object"!=typeof r)throw TypeError(`keyCertPair[${e}] must be an object`);if(!Buffer.isBuffer(r.private_key))throw TypeError(`keyCertPair[${e}].private_key must be a Buffer`);if(!Buffer.isBuffer(r.cert_chain))throw TypeError(`keyCertPair[${e}].cert_chain must be a Buffer`);i.push(r.cert_chain),o.push(r.private_key)}return new s({ca:e||(0,n.getDefaultRootsData)()||void 0,cert:i,key:o,requestCert:r,ciphers:n.CIPHER_SUITES})}}t.ServerCredentials=i;class o extends i{_isSecure(){return!1}_getSettings(){return null}}class s extends i{constructor(e){super(),this.options=e}_isSecure(){return!0}_getSettings(){return this.options}}},48451:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Server=void 0;let n=r(85158),i=r(50551),o=r(65237),s=r(73393),a=r(84445),l=r(4788),u=r(68914),c=r(67969),d=r(11461),h=2147483647,p=2147483647,f=2e4,{HTTP2_HEADER_PATH:m}=n.constants,g="server";function y(){}function v(e){return{code:i.Status.UNIMPLEMENTED,details:`The server does not implement the method ${e}`}}function b(e,t){let r=v(t);switch(e){case"unary":return(e,t)=>{t(r,null)};case"clientStream":return(e,t)=>{t(r,null)};case"serverStream":return e=>{e.emit("error",r)};case"bidi":return e=>{e.emit("error",r)};default:throw Error(`Invalid handlerType ${e}`)}}class E{constructor(e){var t,r,n,i;this.http2ServerList=[],this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.channelzTrace=new d.ChannelzTrace,this.callTracker=new d.ChannelzCallTracker,this.listenerChildrenTracker=new d.ChannelzChildrenTracker,this.sessionChildrenTracker=new d.ChannelzChildrenTracker,this.options=null!=e?e:{},0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,d.registerChannelzServer)(()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=null!==(t=this.options["grpc.max_connection_age_ms"])&&void 0!==t?t:h,this.maxConnectionAgeGraceMs=null!==(r=this.options["grpc.max_connection_age_grace_ms"])&&void 0!==r?r:h,this.keepaliveTimeMs=null!==(n=this.options["grpc.keepalive_time_ms"])&&void 0!==n?n:p,this.keepaliveTimeoutMs=null!==(i=this.options["grpc.keepalive_timeout_ms"])&&void 0!==i?i:f,this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfoGetter(e){return()=>{var t,r,n;let i;let o=this.sessions.get(e),s=e.socket,a=s.remoteAddress?(0,u.stringToSubchannelAddress)(s.remoteAddress,s.remotePort):null,l=s.localAddress?(0,u.stringToSubchannelAddress)(s.localAddress,s.localPort):null;if(e.encrypted){let e=s,r=e.getCipher(),n=e.getCertificate(),o=e.getPeerCertificate();i={cipherSuiteStandardName:null!==(t=r.standardName)&&void 0!==t?t:null,cipherSuiteOtherName:r.standardName?null:r.name,localCertificate:n&&"raw"in n?n.raw:null,remoteCertificate:o&&"raw"in o?o.raw:null}}else i=null;return{remoteAddress:a,localAddress:l,security:i,remoteName:null,streamsStarted:o.streamTracker.callsStarted,streamsSucceeded:o.streamTracker.callsSucceeded,streamsFailed:o.streamTracker.callsFailed,messagesSent:o.messagesSent,messagesReceived:o.messagesReceived,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:o.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:o.lastMessageSentTimestamp,lastMessageReceivedTimestamp:o.lastMessageReceivedTimestamp,localFlowControlWindow:null!==(r=e.state.localWindowSize)&&void 0!==r?r:null,remoteFlowControlWindow:null!==(n=e.state.remoteWindowSize)&&void 0!==n?n:null}}}trace(e){l.trace(i.LogVerbosity.DEBUG,g,"("+this.channelzRef.id+") "+e)}addProtoService(){throw Error("Not implemented. Use addService() instead")}addService(e,t){if(null===e||"object"!=typeof e||null===t||"object"!=typeof t)throw Error("addService() requires two objects as arguments");let r=Object.keys(e);if(0===r.length)throw Error("Cannot add an empty service to a server");r.forEach(r=>{let n,i;let o=e[r];n=o.requestStream?o.responseStream?"bidi":"clientStream":o.responseStream?"serverStream":"unary";let s=t[r];if(void 0===s&&"string"==typeof o.originalName&&(s=t[o.originalName]),i=void 0!==s?s.bind(t):b(n,r),!1===this.register(o.path,i,o.responseSerialize,o.requestDeserialize,n))throw Error(`Method handler for ${o.path} already provided.`)})}removeService(e){if(null===e||"object"!=typeof e)throw Error("removeService() requires object as argument");Object.keys(e).forEach(t=>{let r=e[t];this.unregister(r.path)})}bind(e,t){throw Error("Not implemented. Use bindAsync() instead")}bindAsync(e,t,r){if(!0===this.started)throw Error("server is already started");if(this.shutdown)throw Error("bindAsync called after shutdown");if("string"!=typeof e)throw TypeError("port must be a string");if(null===t||!(t instanceof s.ServerCredentials))throw TypeError("creds must be a ServerCredentials object");if("function"!=typeof r)throw TypeError("callback must be a function");let o=(0,c.parseUri)(e);if(null===o)throw Error(`Could not parse port "${e}"`);let h=(0,a.mapUriDefaultScheme)(o);if(null===h)throw Error(`Could not get a default scheme for port "${e}"`);let p={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER};"grpc-node.max_session_memory"in this.options?p.maxSessionMemory=this.options["grpc-node.max_session_memory"]:p.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(p.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]});let f=(e,t)=>{process.nextTick(()=>r(e,t))},m=()=>{let e;if(t._isSecure()){let r=Object.assign(p,t._getSettings());r.enableTrace=1===this.options["grpc-node.tls_enable_trace"],(e=n.createSecureServer(r)).on("secureConnection",e=>{e.on("error",e=>{this.trace("An incoming TLS connection closed with error: "+e.message)})})}else e=n.createServer(p);return e.setTimeout(0,y),this._setupHandlers(e),e},g=(e,t,r)=>0===e.length?Promise.resolve({port:t,count:r}):Promise.all(e.map(e=>{let r;this.trace("Attempting to bind "+(0,u.subchannelAddressToString)(e)),r=(0,u.isTcpSubchannelAddress)(e)?{host:e.host,port:t}:e;let n=m();return new Promise((i,o)=>{let s=t=>{this.trace("Failed to bind "+(0,u.subchannelAddressToString)(e)+" with error "+t.message),i(t)};n.once("error",s),n.listen(r,()=>{let e;if(this.shutdown){n.close(),i(Error("bindAsync failed because server is shutdown"));return}let r=n.address();e="string"==typeof r?{path:r}:{host:r.address,port:r.port};let o=(0,d.registerChannelzSocket)((0,u.subchannelAddressToString)(e),()=>({localAddress:e,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(o),this.http2ServerList.push({server:n,channelzRef:o}),this.trace("Successfully bound "+(0,u.subchannelAddressToString)(e)),i("port"in e?e.port:t),n.removeListener("error",s)})})})).then(e=>{let n=0;for(let r of e)if("number"==typeof r&&(n+=1,r!==t))throw Error("Invalid state: multiple port numbers added from single address");return{port:t,count:n+r}}),v=e=>{if(0===e.length)return Promise.resolve({port:0,count:0});let t=e[0],r=m();return new Promise((n,i)=>{let o=r=>{this.trace("Failed to bind "+(0,u.subchannelAddressToString)(t)+" with error "+r.message),n(v(e.slice(1)))};r.once("error",o),r.listen(t,()=>{if(this.shutdown){r.close(),n({port:0,count:0});return}let t=r.address(),i={host:t.address,port:t.port},s=(0,d.registerChannelzSocket)((0,u.subchannelAddressToString)(i),()=>({localAddress:i,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(s),this.http2ServerList.push({server:r,channelzRef:s}),this.trace("Successfully bound "+(0,u.subchannelAddressToString)(i)),n(g(e.slice(1),t.port,1)),r.removeListener("error",o)})})},b={onSuccessfulResolution:(t,r,n)=>{let o;if(b.onSuccessfulResolution=()=>{},this.shutdown&&f(Error("bindAsync failed because server is shutdown"),0),0===t.length){f(Error(`No addresses resolved for port ${e}`),0);return}(o=(0,u.isTcpSubchannelAddress)(t[0])?0===t[0].port?v(t):g(t,t[0].port,0):g(t,1,0)).then(e=>{if(0===e.count){let e=`No address added out of total ${t.length} resolved`;l.log(i.LogVerbosity.ERROR,e),f(Error(e),0)}else e.count<t.length&&l.log(i.LogVerbosity.INFO,`WARNING Only ${e.count} addresses added out of total ${t.length} resolved`),f(null,e.port)},e=>{let r=`No address added out of total ${t.length} resolved`;l.log(i.LogVerbosity.ERROR,r),f(Error(r),0)})},onError:e=>{f(Error(e.details),0)}};(0,a.createResolver)(h,b,this.options).updateResolution()}forceShutdown(){for(let{server:e,channelzRef:t}of this.http2ServerList)e.listening&&e.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(t),(0,d.unregisterChannelzRef)(t))});this.started=!1,this.shutdown=!0,this.sessions.forEach((e,t)=>{t.destroy(n.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),this.channelzEnabled&&(0,d.unregisterChannelzRef)(this.channelzRef)}register(e,t,r,n,i){return!this.handlers.has(e)&&(this.handlers.set(e,{func:t,serialize:r,deserialize:n,type:i,path:e}),!0)}unregister(e){return this.handlers.delete(e)}start(){if(0===this.http2ServerList.length||this.http2ServerList.every(({server:e})=>!0!==e.listening))throw Error("server must be bound in order to start");if(!0===this.started)throw Error("server is already started");this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Starting"),this.started=!0}tryShutdown(e){let t=t=>{this.channelzEnabled&&(0,d.unregisterChannelzRef)(this.channelzRef),e(t)},r=0;function n(){0==--r&&t()}for(let{server:e,channelzRef:t}of(this.started=!1,this.shutdown=!0,this.http2ServerList))e.listening&&(r++,e.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(t),(0,d.unregisterChannelzRef)(t)),n()}));this.sessions.forEach((e,t)=>{t.closed||(r+=1,t.close(n))}),0===r&&t()}addHttp2Port(){throw Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(e,t){let r=t[n.constants.HTTP2_HEADER_CONTENT_TYPE];return!!("string"==typeof r&&r.startsWith("application/grpc"))||(e.respond({[n.constants.HTTP2_HEADER_STATUS]:n.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1)}_retrieveHandler(e){this.trace("Received call to method "+e+" at address "+this.serverAddressString);let t=this.handlers.get(e);return void 0===t?(this.trace("No handler registered for method "+e+". Sending UNIMPLEMENTED status."),null):t}_respondWithError(e,t,r=null){let n=new o.Http2ServerCallStream(t,null,this.options);void 0===e.code&&(e.code=i.Status.INTERNAL),this.channelzEnabled&&(this.callTracker.addCallFailed(),null==r||r.streamTracker.addCallFailed()),n.sendError(e)}_channelzHandler(e,t){let r=this.sessions.get(e.session);if(this.callTracker.addCallStarted(),null==r||r.streamTracker.addCallStarted(),!this._verifyContentType(e,t)){this.callTracker.addCallFailed(),null==r||r.streamTracker.addCallFailed();return}let n=t[m],s=this._retrieveHandler(n);if(!s){this._respondWithError(v(n),e,r);return}let a=new o.Http2ServerCallStream(e,s,this.options);a.once("callEnd",e=>{e===i.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}),r&&(a.once("streamEnd",e=>{e?r.streamTracker.addCallSucceeded():r.streamTracker.addCallFailed()}),a.on("sendMessage",()=>{r.messagesSent+=1,r.lastMessageSentTimestamp=new Date}),a.on("receiveMessage",()=>{r.messagesReceived+=1,r.lastMessageReceivedTimestamp=new Date})),this._runHandlerForCall(a,s,t)||(this.callTracker.addCallFailed(),null==r||r.streamTracker.addCallFailed(),a.sendError({code:i.Status.INTERNAL,details:`Unknown handler type: ${s.type}`}))}_streamHandler(e,t){if(!0!==this._verifyContentType(e,t))return;let r=t[m],n=this._retrieveHandler(r);if(!n){this._respondWithError(v(r),e,null);return}let s=new o.Http2ServerCallStream(e,n,this.options);this._runHandlerForCall(s,n,t)||s.sendError({code:i.Status.INTERNAL,details:`Unknown handler type: ${n.type}`})}_runHandlerForCall(e,t,r){var n;let i=e.receiveMetadata(r),o=null!==(n=i.get("grpc-encoding")[0])&&void 0!==n?n:"identity";i.remove("grpc-encoding");let{type:s}=t;if("unary"===s)S(e,t,i,o);else if("clientStream"===s)_(e,t,i,o);else if("serverStream"===s)T(e,t,i,o);else{if("bidi"!==s)return!1;A(e,t,i,o)}return!0}_setupHandlers(e){if(null===e)return;let t=e.address(),r="null";t&&(r="string"==typeof t?t:t.address+":"+t.port),this.serverAddressString=r;let i=this.channelzEnabled?this._channelzHandler:this._streamHandler;e.on("stream",i.bind(this)),e.on("session",e=>{var t,r,i,o,s;if(!this.started){e.destroy();return}let a=(0,d.registerChannelzSocket)(null!==(t=e.socket.remoteAddress)&&void 0!==t?t:"unknown",this.getChannelzSessionInfoGetter(e),this.channelzEnabled),l={ref:a,streamTracker:new d.ChannelzCallTracker,messagesSent:0,messagesReceived:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};this.sessions.set(e,l);let u=e.socket.remoteAddress;this.channelzEnabled&&(this.channelzTrace.addTrace("CT_INFO","Connection established by client "+u),this.sessionChildrenTracker.refChild(a));let c=null,p=null,f=!1;if(this.maxConnectionAgeMs!==h){let t=this.maxConnectionAgeMs/10,o=Math.random()*t*2-t;c=null===(i=(r=setTimeout(()=>{var t,r;f=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+u);try{e.goaway(n.constants.NGHTTP2_NO_ERROR,2147483647,Buffer.from("max_age"))}catch(t){e.destroy();return}e.close(),this.maxConnectionAgeGraceMs!==h&&(p=null===(r=(t=setTimeout(()=>{e.destroy()},this.maxConnectionAgeGraceMs)).unref)||void 0===r?void 0:r.call(t))},this.maxConnectionAgeMs+o)).unref)||void 0===i?void 0:i.call(r)}let m=null===(s=(o=setInterval(()=>{var t,r;let n=null===(r=(t=setTimeout(()=>{f=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+u),e.close()},this.keepaliveTimeoutMs)).unref)||void 0===r?void 0:r.call(t);try{e.ping((e,t,r)=>{clearTimeout(n)})}catch(t){e.destroy()}},this.keepaliveTimeMs)).unref)||void 0===s?void 0:s.call(o);e.on("close",()=>{this.channelzEnabled&&(f||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+u),this.sessionChildrenTracker.unrefChild(a),(0,d.unregisterChannelzRef)(a)),c&&clearTimeout(c),p&&clearTimeout(p),m&&clearTimeout(m),this.sessions.delete(e)})})}}async function S(e,t,r,n){try{let i=await e.receiveUnaryMessage(n);if(void 0===i||e.cancelled)return;let s=new o.ServerUnaryCallImpl(e,r,i);t.func(s,(t,r,n,i)=>{e.sendUnaryMessage(t,r,n,i)})}catch(t){e.sendError(t)}}function _(e,t,r,n){let i=new o.ServerReadableStreamImpl(e,r,t.deserialize,n);function s(t,r,n,o){i.destroy(),e.sendUnaryMessage(t,r,n,o)}e.cancelled||(i.on("error",s),t.func(i,s))}async function T(e,t,r,n){try{let i=await e.receiveUnaryMessage(n);if(void 0===i||e.cancelled)return;let s=new o.ServerWritableStreamImpl(e,r,t.serialize,i);t.func(s)}catch(t){e.sendError(t)}}function A(e,t,r,n){let i=new o.ServerDuplexStreamImpl(e,r,t.serialize,t.deserialize,n);e.cancelled||t.func(i)}t.Server=E},92251:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractAndSelectServiceConfig=t.validateServiceConfig=t.validateRetryThrottling=void 0;let n=r(22037),i=r(50551),o=r(53979),s=/^\d+(\.\d{1,9})?s$/,a="node";function l(e){if("service"in e&&""!==e.service){if("string"!=typeof e.service)throw Error(`Invalid method config name: invalid service: expected type string, got ${typeof e.service}`);if(!("method"in e)||""===e.method)return{service:e.service};if("string"!=typeof e.method)throw Error(`Invalid method config name: invalid method: expected type string, got ${typeof e.service}`);return{service:e.service,method:e.method}}if("method"in e&&void 0!==e.method)throw Error("Invalid method config name: method set with empty or unset service");return{}}function u(e){if(!("maxAttempts"in e)||!Number.isInteger(e.maxAttempts)||e.maxAttempts<2)throw Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in e)||"string"!=typeof e.initialBackoff||!s.test(e.initialBackoff))throw Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s");if(!("maxBackoff"in e)||"string"!=typeof e.maxBackoff||!s.test(e.maxBackoff))throw Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s");if(!("backoffMultiplier"in e)||"number"!=typeof e.backoffMultiplier||e.backoffMultiplier<=0)throw Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in e&&Array.isArray(e.retryableStatusCodes)))throw Error("Invalid method config retry policy: retryableStatusCodes is required");if(0===e.retryableStatusCodes.length)throw Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let t of e.retryableStatusCodes)if("number"==typeof t){if(!Object.values(i.Status).includes(t))throw Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if("string"==typeof t){if(!Object.values(i.Status).includes(t.toUpperCase()))throw Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:e.maxAttempts,initialBackoff:e.initialBackoff,maxBackoff:e.maxBackoff,backoffMultiplier:e.backoffMultiplier,retryableStatusCodes:e.retryableStatusCodes}}function c(e){if(!("maxAttempts"in e)||!Number.isInteger(e.maxAttempts)||e.maxAttempts<2)throw Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in e&&("string"!=typeof e.hedgingDelay||!s.test(e.hedgingDelay)))throw Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in e&&Array.isArray(e.nonFatalStatusCodes))for(let t of e.nonFatalStatusCodes)if("number"==typeof t){if(!Object.values(i.Status).includes(t))throw Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if("string"==typeof t){if(!Object.values(i.Status).includes(t.toUpperCase()))throw Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number");let t={maxAttempts:e.maxAttempts};return e.hedgingDelay&&(t.hedgingDelay=e.hedgingDelay),e.nonFatalStatusCodes&&(t.nonFatalStatusCodes=e.nonFatalStatusCodes),t}function d(e){var t;let r={name:[]};if(!("name"in e)||!Array.isArray(e.name))throw Error("Invalid method config: invalid name array");for(let t of e.name)r.name.push(l(t));if("waitForReady"in e){if("boolean"!=typeof e.waitForReady)throw Error("Invalid method config: invalid waitForReady");r.waitForReady=e.waitForReady}if("timeout"in e){if("object"==typeof e.timeout){if(!("seconds"in e.timeout)||"number"!=typeof e.timeout.seconds)throw Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in e.timeout)||"number"!=typeof e.timeout.nanos)throw Error("Invalid method config: invalid timeout.nanos");r.timeout=e.timeout}else if("string"==typeof e.timeout&&s.test(e.timeout)){let n=e.timeout.substring(0,e.timeout.length-1).split(".");r.timeout={seconds:0|n[0],nanos:(null!==(t=n[1])&&void 0!==t?t:0)|0}}else throw Error("Invalid method config: invalid timeout")}if("maxRequestBytes"in e){if("number"!=typeof e.maxRequestBytes)throw Error("Invalid method config: invalid maxRequestBytes");r.maxRequestBytes=e.maxRequestBytes}if("maxResponseBytes"in e){if("number"!=typeof e.maxResponseBytes)throw Error("Invalid method config: invalid maxRequestBytes");r.maxResponseBytes=e.maxResponseBytes}if("retryPolicy"in e){if("hedgingPolicy"in e)throw Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");r.retryPolicy=u(e.retryPolicy)}else"hedgingPolicy"in e&&(r.hedgingPolicy=c(e.hedgingPolicy));return r}function h(e){if(!("maxTokens"in e)||"number"!=typeof e.maxTokens||e.maxTokens<=0||e.maxTokens>1e3)throw Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in e)||"number"!=typeof e.tokenRatio||e.tokenRatio<=0)throw Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+e.maxTokens.toFixed(3),tokenRatio:+e.tokenRatio.toFixed(3)}}function p(e){let t={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in e){if("string"==typeof e.loadBalancingPolicy)t.loadBalancingPolicy=e.loadBalancingPolicy;else throw Error("Invalid service config: invalid loadBalancingPolicy")}if("loadBalancingConfig"in e){if(Array.isArray(e.loadBalancingConfig))for(let r of e.loadBalancingConfig)t.loadBalancingConfig.push((0,o.validateLoadBalancingConfig)(r));else throw Error("Invalid service config: invalid loadBalancingConfig")}if("methodConfig"in e&&Array.isArray(e.methodConfig))for(let r of e.methodConfig)t.methodConfig.push(d(r));"retryThrottling"in e&&(t.retryThrottling=h(e.retryThrottling));let r=[];for(let e of t.methodConfig)for(let t of e.name){for(let e of r)if(t.service===e.service&&t.method===e.method)throw Error(`Invalid service config: duplicate name ${t.service}/${t.method}`);r.push(t)}return t}function f(e){if(!("serviceConfig"in e))throw Error("Invalid service config choice: missing service config");let t={serviceConfig:p(e.serviceConfig)};if("clientLanguage"in e){if(Array.isArray(e.clientLanguage))for(let r of(t.clientLanguage=[],e.clientLanguage))if("string"==typeof r)t.clientLanguage.push(r);else throw Error("Invalid service config choice: invalid clientLanguage");else throw Error("Invalid service config choice: invalid clientLanguage")}if("clientHostname"in e){if(Array.isArray(e.clientHostname))for(let r of(t.clientHostname=[],e.clientHostname))if("string"==typeof r)t.clientHostname.push(r);else throw Error("Invalid service config choice: invalid clientHostname");else throw Error("Invalid service config choice: invalid clientHostname")}if("percentage"in e){if("number"==typeof e.percentage&&0<=e.percentage&&e.percentage<=100)t.percentage=e.percentage;else throw Error("Invalid service config choice: invalid percentage")}let r=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let t in e)if(!r.includes(t))throw Error(`Invalid service config choice: unexpected field ${t}`);return t}function m(e,t){if(!Array.isArray(e))throw Error("Invalid service config list");for(let r of e){let e=f(r);if("number"!=typeof e.percentage||!(t>e.percentage)){if(Array.isArray(e.clientHostname)){let t=!1;for(let r of e.clientHostname)r===n.hostname()&&(t=!0);if(!t)continue}if(Array.isArray(e.clientLanguage)){let t=!1;for(let r of e.clientLanguage)r===a&&(t=!0);if(!t)continue}return e.serviceConfig}}throw Error("No matching service config found")}function g(e,t){for(let r of e)if(r.length>0&&r[0].startsWith("grpc_config="))return m(JSON.parse(r.join("").substring(12)),t);return null}t.validateRetryThrottling=h,t.validateServiceConfig=p,t.extractAndSelectServiceConfig=g},56163:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBuilder=void 0;class r{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){let e={};return null!==this.code&&(e.code=this.code),null!==this.details&&(e.details=this.details),null!==this.metadata&&(e.metadata=this.metadata),e}}t.StatusBuilder=r},64754:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.StreamDecoder=void 0,function(e){e[e.NO_DATA=0]="NO_DATA",e[e.READING_SIZE=1]="READING_SIZE",e[e.READING_MESSAGE=2]="READING_MESSAGE"}(r||(r={}));class n{constructor(e){this.maxReadMessageLength=e,this.readState=r.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(e){let t,n=0,i=[];for(;n<e.length;)switch(this.readState){case r.NO_DATA:this.readCompressFlag=e.slice(n,n+1),n+=1,this.readState=r.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case r.READING_SIZE:if(t=Math.min(e.length-n,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,n,n+t),this.readSizeRemaining-=t,n+=t,0===this.readSizeRemaining){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),-1!==this.maxReadMessageLength&&this.readMessageSize>this.maxReadMessageLength)throw Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=r.READING_MESSAGE;else{let e=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=r.NO_DATA,i.push(e)}}break;case r.READING_MESSAGE:if(t=Math.min(e.length-n,this.readMessageRemaining),this.readPartialMessage.push(e.slice(n,n+t)),this.readMessageRemaining-=t,n+=t,0===this.readMessageRemaining){let e=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),t=Buffer.concat(e,this.readMessageSize+5);this.readState=r.NO_DATA,i.push(t)}break;default:throw Error("Unexpected read state")}return i}}t.StreamDecoder=n},68914:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringToSubchannelAddress=t.subchannelAddressToString=t.subchannelAddressEqual=t.isTcpSubchannelAddress=void 0;let n=r(41808);function i(e){return"port"in e}function o(e,t){return!e&&!t||!!e&&!!t&&(i(e)?i(t)&&e.host===t.host&&e.port===t.port:!i(t)&&e.path===t.path)}function s(e){return i(e)?e.host+":"+e.port:e.path}t.isTcpSubchannelAddress=i,t.subchannelAddressEqual=o,t.subchannelAddressToString=s;let a=443;function l(e,t){return(0,n.isIP)(e)?{host:e,port:null!=t?t:a}:{path:e}}t.stringToSubchannelAddress=l},9109:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2SubchannelCall=void 0;let n=r(85158),i=r(22037),o=r(50551),s=r(65829),a=r(64754),l=r(4788),u=r(50551),c="subchannel_call";function d(e){for(let[t,r]of Object.entries(i.constants.errno))if(r===e)return t;return"Unknown system error "+e}class h{constructor(e,t,r,i,l){var u;this.http2Stream=e,this.callEventTracker=t,this.listener=r,this.transport=i,this.callId=l,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.mappedStatusCode=o.Status.UNKNOWN,this.finalStatus=null,this.internalError=null;let c=null!==(u=i.getOptions()["grpc.max_receive_message_length"])&&void 0!==u?u:o.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new a.StreamDecoder(c),e.on("response",(e,t)=>{let r="";for(let t of Object.keys(e))r+="		"+t+": "+e[t]+"\n";switch(this.trace("Received server headers:\n"+r),e[":status"]){case 400:this.mappedStatusCode=o.Status.INTERNAL;break;case 401:this.mappedStatusCode=o.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=o.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=o.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=o.Status.UNAVAILABLE;break;default:this.mappedStatusCode=o.Status.UNKNOWN}if(t&n.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(e);else{let t;try{t=s.Metadata.fromHttp2Headers(e)}catch(e){this.endCall({code:o.Status.UNKNOWN,details:e.message,metadata:new s.Metadata});return}this.listener.onReceiveMetadata(t)}}),e.on("trailers",e=>{this.handleTrailers(e)}),e.on("data",e=>{let t;if(!this.statusOutput){this.trace("receive HTTP/2 data frame of length "+e.length);try{t=this.decoder.write(e)}catch(e){this.cancelWithStatus(o.Status.RESOURCE_EXHAUSTED,e.message);return}for(let e of t)this.trace("parsed message of length "+e.length),this.callEventTracker.addMessageReceived(),this.tryPush(e)}}),e.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),e.on("close",()=>{process.nextTick(()=>{var t;let r;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),(null===(t=this.finalStatus)||void 0===t?void 0:t.code)===o.Status.OK)return;let i="";switch(e.rstCode){case n.constants.NGHTTP2_NO_ERROR:if(null!==this.finalStatus)return;r=o.Status.INTERNAL,i=`Received RST_STREAM with code ${e.rstCode}`;break;case n.constants.NGHTTP2_REFUSED_STREAM:r=o.Status.UNAVAILABLE,i="Stream refused by server";break;case n.constants.NGHTTP2_CANCEL:r=o.Status.CANCELLED,i="Call cancelled";break;case n.constants.NGHTTP2_ENHANCE_YOUR_CALM:r=o.Status.RESOURCE_EXHAUSTED,i="Bandwidth exhausted or memory limit exceeded";break;case n.constants.NGHTTP2_INADEQUATE_SECURITY:r=o.Status.PERMISSION_DENIED,i="Protocol not secure enough";break;case n.constants.NGHTTP2_INTERNAL_ERROR:r=o.Status.INTERNAL,null===this.internalError?i=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:"ECONNRESET"===this.internalError.code||"ETIMEDOUT"===this.internalError.code?(r=o.Status.UNAVAILABLE,i=this.internalError.message):i=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:r=o.Status.INTERNAL,i=`Received RST_STREAM with code ${e.rstCode}`}this.endCall({code:r,details:i,metadata:new s.Metadata,rstCode:e.rstCode})})}),e.on("error",e=>{"ERR_HTTP2_STREAM_ERROR"!==e.code&&(this.trace("Node error event: message="+e.message+" code="+e.code+" errno="+d(e.errno)+" syscall="+e.syscall),this.internalError=e),this.callEventTracker.onStreamEnd(!1)})}onDisconnect(){this.endCall({code:o.Status.UNAVAILABLE,details:"Connection dropped",metadata:new s.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(e){l.trace(u.LogVerbosity.DEBUG,c,"["+this.callId+"] "+e)}endCall(e){(null===this.finalStatus||this.finalStatus.code===o.Status.OK)&&(this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){null===this.finalStatus||this.finalStatus.code===o.Status.OK&&(!this.readsClosed||0!==this.unpushedReadMessages.length||this.isReadFilterPending||this.isPushPending)||this.outputStatus()}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,this.statusOutput||(this.listener.onReceiveMessage(e),this.maybeOutputStatus())})}tryPush(e){this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e))}handleTrailers(e){let t;this.callEventTracker.onStreamEnd(!0);let r="";for(let t of Object.keys(e))r+="		"+t+": "+e[t]+"\n";this.trace("Received server trailers:\n"+r);try{t=s.Metadata.fromHttp2Headers(e)}catch(e){t=new s.Metadata}let n=t.getMap(),i=this.mappedStatusCode;if(i===o.Status.UNKNOWN&&"string"==typeof n["grpc-status"]){let e=Number(n["grpc-status"]);e in o.Status&&(i=e,this.trace("received status code "+e+" from server")),t.remove("grpc-status")}let a="";if("string"==typeof n["grpc-message"]){try{a=decodeURI(n["grpc-message"])}catch(e){a=n["grpc-message"]}t.remove("grpc-message"),this.trace('received status details string "'+a+'" from server')}let l={code:i,details:a,metadata:t};this.endCall(l)}destroyHttp2Stream(){var e;if(!this.http2Stream.destroyed){let t;t=(null===(e=this.finalStatus)||void 0===e?void 0:e.code)===o.Status.OK?n.constants.NGHTTP2_NO_ERROR:n.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+t),this.http2Stream.close(t)}}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.endCall({code:e,details:t,metadata:new s.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(null!==this.finalStatus&&this.finalStatus.code!==o.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let e=this.unpushedReadMessages.shift();this.push(e);return}this.http2Stream.resume()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length);let r=t=>{process.nextTick(()=>{var r;let n=o.Status.UNAVAILABLE;(null==t?void 0:t.code)==="ERR_STREAM_WRITE_AFTER_END"&&(n=o.Status.INTERNAL),t&&this.cancelWithStatus(n,`Write error: ${t.message}`),null===(r=e.callback)||void 0===r||r.call(e)})};this.trace("sending data chunk of length "+t.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(t,r)}catch(e){this.endCall({code:o.Status.UNAVAILABLE,details:`Write failed with error ${e.message}`,metadata:new s.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}}t.Http2SubchannelCall=h},68414:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSubchannelWrapper=void 0;class r{constructor(e){this.child=e}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(e){this.child.addConnectivityStateListener(e)}removeConnectivityStateListener(e){this.child.removeConnectivityStateListener(e)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(e){this.child.throttleKeepalive(e)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(e){return this.getRealSubchannel()===e.getRealSubchannel()}}t.BaseSubchannelWrapper=r},8170:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSubchannelPool=t.SubchannelPool=void 0;let n=r(78917),i=r(18220),o=r(68914),s=r(67969),a=r(98616),l=1e4;class u{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let e=!0;for(let t in this.pool){let r=this.pool[t].filter(e=>!e.subchannel.unrefIfOneRef());r.length>0&&(e=!1),this.pool[t]=r}e&&null!==this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var e,t;null===this.cleanupTimer&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},l),null===(t=(e=this.cleanupTimer).unref)||void 0===t||t.call(e))}getOrCreateSubchannel(e,t,r,l){this.ensureCleanupTask();let u=(0,s.uriToString)(e);if(u in this.pool){for(let e of this.pool[u])if((0,o.subchannelAddressEqual)(t,e.subchannelAddress)&&(0,n.channelOptionsEqual)(r,e.channelArguments)&&l._equals(e.channelCredentials))return e.subchannel}let c=new i.Subchannel(e,t,r,l,new a.Http2SubchannelConnector(e));return u in this.pool||(this.pool[u]=[]),this.pool[u].push({subchannelAddress:t,channelArguments:r,channelCredentials:l,subchannel:c}),c.ref(),c}}t.SubchannelPool=u;let c=new u;function d(e){return e?c:new u}t.getSubchannelPool=d},18220:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Subchannel=void 0;let n=r(36863),i=r(87537),o=r(4788),s=r(50551),a=r(67969),l=r(68914),u=r(11461),c="subchannel",d=2147483647;class h{constructor(e,t,r,o,s){var a;this.channelTarget=e,this.subchannelAddress=t,this.options=r,this.credentials=o,this.connector=s,this.connectivityState=n.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0,this.callTracker=new u.ChannelzCallTracker,this.childrenTracker=new u.ChannelzChildrenTracker,this.streamTracker=new u.ChannelzCallTracker;let c={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new i.BackoffTimeout(()=>{this.handleBackoffTimer()},c),this.backoffTimeout.unref(),this.subchannelAddressString=(0,l.subchannelAddressToString)(t),this.keepaliveTime=null!==(a=r["grpc.keepalive_time_ms"])&&void 0!==a?a:-1,0===r["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzTrace=new u.ChannelzTrace,this.channelzRef=(0,u.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(r,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(e){o.trace(s.LogVerbosity.DEBUG,c,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}refTrace(e){o.trace(s.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([n.ConnectivityState.TRANSIENT_FAILURE],n.ConnectivityState.CONNECTING):this.transitionToState([n.ConnectivityState.TRANSIENT_FAILURE],n.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let e=this.options;if(e["grpc.keepalive_time_ms"]){let t=Math.min(this.keepaliveTime,d);e=Object.assign(Object.assign({},e),{"grpc.keepalive_time_ms":t})}this.connector.connect(this.subchannelAddress,this.credentials,e).then(e=>{this.transitionToState([n.ConnectivityState.CONNECTING],n.ConnectivityState.READY)?(this.transport=e,this.channelzEnabled&&this.childrenTracker.refChild(e.getChannelzRef()),e.addDisconnectListener(e=>{this.transitionToState([n.ConnectivityState.READY],n.ConnectivityState.IDLE),e&&this.keepaliveTime>0&&(this.keepaliveTime*=2,o.log(s.LogVerbosity.ERROR,`Connection to ${(0,a.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):e.shutdown()},e=>{this.transitionToState([n.ConnectivityState.CONNECTING],n.ConnectivityState.TRANSIENT_FAILURE,`${e}`)})}transitionToState(e,t,r){var i,o;if(-1===e.indexOf(this.connectivityState))return!1;this.trace(n.ConnectivityState[this.connectivityState]+" -> "+n.ConnectivityState[t]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+n.ConnectivityState[t]);let s=this.connectivityState;switch(this.connectivityState=t,t){case n.ConnectivityState.READY:this.stopBackoff();break;case n.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case n.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null===(i=this.transport)||void 0===i||i.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case n.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null===(o=this.transport)||void 0===o||o.shutdown(),this.transport=null;break;default:throw Error(`Invalid state: unknown ConnectivityState ${t}`)}for(let e of this.stateListeners)e(this,s,t,this.keepaliveTime,r);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,0===this.refcount&&(this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Shutting down"),this.channelzEnabled&&(0,u.unregisterChannelzRef)(this.channelzRef),process.nextTick(()=>{this.transitionToState([n.ConnectivityState.CONNECTING,n.ConnectivityState.READY],n.ConnectivityState.IDLE)}))}unrefIfOneRef(){return 1===this.refcount&&(this.unref(),!0)}createCall(e,t,r,n){let i;if(!this.transport)throw Error("Cannot create call, subchannel not READY");return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),i={onCallEnd:e=>{e.code===s.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):i={},this.transport.createCall(e,t,r,n,i)}startConnecting(){process.nextTick(()=>{this.transitionToState([n.ConnectivityState.IDLE],n.ConnectivityState.CONNECTING)||this.connectivityState!==n.ConnectivityState.TRANSIENT_FAILURE||(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.add(e)}removeConnectivityStateListener(e){this.stateListeners.delete(e)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([n.ConnectivityState.TRANSIENT_FAILURE],n.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}getRealSubchannel(){return this}realSubchannelEquals(e){return e.getRealSubchannel()===this}throttleKeepalive(e){e>this.keepaliveTime&&(this.keepaliveTime=e)}}t.Subchannel=h},65321:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultRootsData=t.CIPHER_SUITES=void 0;let n=r(57147);t.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;let i=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,o=null;function s(){return i?(null===o&&(o=n.readFileSync(i)),o):null}t.getDefaultRootsData=s},98616:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2SubchannelConnector=void 0;let n=r(85158),i=r(24404),o=r(11461),s=r(50551),a=r(77029),l=r(4788),u=r(84445),c=r(68914),d=r(67969),h=r(41808),p=r(9109),f=r(66404),m="transport",g="transport_flowctrl",y=r(47390).version,{HTTP2_HEADER_AUTHORITY:v,HTTP2_HEADER_CONTENT_TYPE:b,HTTP2_HEADER_METHOD:E,HTTP2_HEADER_PATH:S,HTTP2_HEADER_TE:_,HTTP2_HEADER_USER_AGENT:T}=n.constants,A=2e4,C=Buffer.from("too_many_pings","ascii");class w{constructor(e,t,r,i){this.session=e,this.options=r,this.remoteName=i,this.keepaliveTimeMs=-1,this.keepaliveTimeoutMs=A,this.keepaliveTimerId=null,this.pendingSendKeepalivePing=!1,this.keepaliveTimeoutId=null,this.keepaliveWithoutCalls=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.streamTracker=new o.ChannelzCallTracker,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,c.subchannelAddressToString)(t),0===r["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,o.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[r["grpc.primary_user_agent"],`grpc-node-js/${y}`,r["grpc.secondary_user_agent"]].filter(e=>e).join(" "),"grpc.keepalive_time_ms"in r&&(this.keepaliveTimeMs=r["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in r&&(this.keepaliveTimeoutMs=r["grpc.keepalive_timeout_ms"]),"grpc.keepalive_permit_without_calls"in r?this.keepaliveWithoutCalls=1===r["grpc.keepalive_permit_without_calls"]:this.keepaliveWithoutCalls=!1,e.once("close",()=>{this.trace("session closed"),this.stopKeepalivePings(),this.handleDisconnect()}),e.once("goaway",(e,t,r)=>{let i=!1;e===n.constants.NGHTTP2_ENHANCE_YOUR_CALM&&r&&r.equals(C)&&(i=!0),this.trace("connection closed by GOAWAY with code "+e+" and data "+(null==r?void 0:r.toString())),this.reportDisconnectToOwner(i)}),e.once("error",e=>{this.trace("connection closed with error "+e.message)}),l.isTracerEnabled(m)&&(e.on("remoteSettings",t=>{this.trace("new settings received"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(t))}),e.on("localSettings",t=>{this.trace("local settings acknowledged by remote"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(t))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var e,t,r;let n;let i=this.session.socket,o=i.remoteAddress?(0,c.stringToSubchannelAddress)(i.remoteAddress,i.remotePort):null,s=i.localAddress?(0,c.stringToSubchannelAddress)(i.localAddress,i.localPort):null;if(this.session.encrypted){let t=i,r=t.getCipher(),o=t.getCertificate(),s=t.getPeerCertificate();n={cipherSuiteStandardName:null!==(e=r.standardName)&&void 0!==e?e:null,cipherSuiteOtherName:r.standardName?null:r.name,localCertificate:o&&"raw"in o?o.raw:null,remoteCertificate:s&&"raw"in s?s.raw:null}}else n=null;return{remoteAddress:o,localAddress:s,security:n,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:null!==(t=this.session.state.localWindowSize)&&void 0!==t?t:null,remoteFlowControlWindow:null!==(r=this.session.state.remoteWindowSize)&&void 0!==r?r:null}}trace(e){l.trace(s.LogVerbosity.DEBUG,m,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}keepaliveTrace(e){l.trace(s.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}flowControlTrace(e){l.trace(s.LogVerbosity.DEBUG,g,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}internalsTrace(e){l.trace(s.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}reportDisconnectToOwner(e){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(t=>t(e)))}handleDisconnect(){this.reportDisconnectToOwner(!1),setImmediate(()=>{for(let e of this.activeCalls)e.onDisconnect()})}addDisconnectListener(e){this.disconnectListeners.push(e)}clearKeepaliveTimer(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null)}clearKeepaliveTimeout(){this.keepaliveTimeoutId&&(clearTimeout(this.keepaliveTimeoutId),this.keepaliveTimeoutId=null)}canSendPing(){return this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var e,t;if(this.clearKeepaliveTimer(),!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimeoutId||(this.keepaliveTimeoutId=setTimeout(()=>{this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),null===(t=(e=this.keepaliveTimeoutId).unref)||void 0===t||t.call(e));try{this.session.ping((e,t,r)=>{e&&(this.keepaliveTrace("Ping failed with error "+e.message),this.handleDisconnect()),this.keepaliveTrace("Received ping response"),this.clearKeepaliveTimeout(),this.maybeStartKeepalivePingTimer()})}catch(e){this.handleDisconnect()}}maybeStartKeepalivePingTimer(){var e,t;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):this.keepaliveTimerId||this.keepaliveTimeoutId||(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimerId=null===(t=(e=setTimeout(()=>{this.maybeSendPing()},this.keepaliveTimeMs)).unref)||void 0===t?void 0:t.call(e)))}stopKeepalivePings(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null),this.clearKeepaliveTimeout()}removeActiveCall(e){this.activeCalls.delete(e),0===this.activeCalls.size&&this.session.unref()}addActiveCall(e){this.activeCalls.add(e),1!==this.activeCalls.size||(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(e,t,r,n,i){let o,s,a;let l=e.toHttp2Headers();l[v]=t,l[T]=this.userAgent,l[b]="application/grpc",l[E]="POST",l[S]=r,l[_]="trailers";try{o=this.session.request(l)}catch(e){throw this.handleDisconnect(),e}return this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed),this.channelzEnabled?(this.streamTracker.addCallStarted(),s={addMessageSent:()=>{var e;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,null===(e=i.addMessageSent)||void 0===e||e.call(i)},addMessageReceived:()=>{var e;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,null===(e=i.addMessageReceived)||void 0===e||e.call(i)},onCallEnd:e=>{var t;null===(t=i.onCallEnd)||void 0===t||t.call(i,e),this.removeActiveCall(a)},onStreamEnd:e=>{var t;e?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),null===(t=i.onStreamEnd)||void 0===t||t.call(i,e)}}):s={addMessageSent:()=>{var e;null===(e=i.addMessageSent)||void 0===e||e.call(i)},addMessageReceived:()=>{var e;null===(e=i.addMessageReceived)||void 0===e||e.call(i)},onCallEnd:e=>{var t;null===(t=i.onCallEnd)||void 0===t||t.call(i,e),this.removeActiveCall(a)},onStreamEnd:e=>{var t;null===(t=i.onStreamEnd)||void 0===t||t.call(i,e)}},a=new p.Http2SubchannelCall(o,s,n,this,(0,f.getNextCallNumber)()),this.addActiveCall(a),a}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}shutdown(){this.session.close(),(0,o.unregisterChannelzRef)(this.channelzRef)}}class O{constructor(e){this.channelTarget=e,this.session=null,this.isShutdown=!1}trace(e){l.trace(s.LogVerbosity.DEBUG,m,(0,d.uriToString)(this.channelTarget)+" "+e)}createSession(e,t,r,o){return this.isShutdown?Promise.reject():new Promise((s,a)=>{var l,p,f;let m;o.realTarget?(m=(0,d.uriToString)(o.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,d.uriToString)(o.realTarget))):(m=null,this.trace("creating HTTP/2 session to "+(0,c.subchannelAddressToString)(e)));let g=(0,u.getDefaultAuthority)(null!==(l=o.realTarget)&&void 0!==l?l:this.channelTarget),y=t._getConnectionOptions()||{};y.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in r?y.maxSessionMemory=r["grpc-node.max_session_memory"]:y.maxSessionMemory=Number.MAX_SAFE_INTEGER;let v="http://";if("secureContext"in y){if(v="https://",r["grpc.ssl_target_name_override"]){let e=r["grpc.ssl_target_name_override"];y.checkServerIdentity=(t,r)=>(0,i.checkServerIdentity)(e,r),y.servername=e}else{let e=null!==(f=null===(p=(0,d.splitHostPort)(g))||void 0===p?void 0:p.host)&&void 0!==f?f:"localhost";y.servername=e}o.socket&&(y.createConnection=(e,t)=>o.socket)}else y.createConnection=(t,r)=>o.socket?o.socket:h.connect(e);y=Object.assign(Object.assign(Object.assign({},y),e),{enableTrace:1===r["grpc-node.tls_enable_trace"]});let b=n.connect(v+g,y);this.session=b;let E="Failed to connect";b.unref(),b.once("connect",()=>{b.removeAllListeners(),s(new w(b,e,r,m)),this.session=null}),b.once("close",()=>{this.session=null,setImmediate(()=>{a(`${E} (${new Date().toISOString()})`)})}),b.once("error",e=>{E=e.message,this.trace("connection failed with error "+E)})})}connect(e,t,r){var n,o;if(this.isShutdown)return Promise.reject();let s=t._getConnectionOptions()||{};if("secureContext"in s){if(s.ALPNProtocols=["h2"],r["grpc.ssl_target_name_override"]){let e=r["grpc.ssl_target_name_override"];s.checkServerIdentity=(t,r)=>(0,i.checkServerIdentity)(e,r),s.servername=e}else if("grpc.http_connect_target"in r){let e=(0,u.getDefaultAuthority)(null!==(n=(0,d.parseUri)(r["grpc.http_connect_target"]))&&void 0!==n?n:{path:"localhost"}),t=(0,d.splitHostPort)(e);s.servername=null!==(o=null==t?void 0:t.host)&&void 0!==o?o:e}r["grpc-node.tls_enable_trace"]&&(s.enableTrace=!0)}return(0,a.getProxiedConnection)(e,r,s).then(n=>this.createSession(e,t,r,n))}shutdown(){var e;this.isShutdown=!0,null===(e=this.session)||void 0===e||e.close(),this.session=null}}t.Http2SubchannelConnector=O},67969:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uriToString=t.splitHostPort=t.parseUri=void 0;let r=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function n(e){let t=r.exec(e);return null===t?null:{scheme:t[1],authority:t[2],path:t[3]}}t.parseUri=n;let i=/^\d+$/;function o(e){if(e.startsWith("[")){let t=e.indexOf("]");if(-1===t)return null;let r=e.substring(1,t);if(-1===r.indexOf(":"))return null;if(!(e.length>t+1))return{host:r};if(":"!==e[t+1])return null;{let n=e.substring(t+2);return i.test(n)?{host:r,port:+n}:null}}{let t=e.split(":");return 2!==t.length?{host:e}:i.test(t[1])?{host:t[0],port:+t[1]}:null}}function s(e){let t="";return void 0!==e.scheme&&(t+=e.scheme+":"),void 0!==e.authority&&(t+="//"+e.authority+"/"),t+=e.path}t.splitHostPort=o,t.uriToString=s},48530:(e,t,r)=>{"use strict";var n,i;/**
 * @license
 * Copyright 2018 gRPC authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */n={value:!0},n=n=n=t.loadSync=n=t.IdempotencyLevel=n=n=void 0;let o=r(66479),s=r(60394),a=r(78323),l=r(63967);n=r(75775),n=function(e){return"@type"in e&&"string"==typeof e["@type"]},function(e){e.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",e.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",e.IDEMPOTENT="IDEMPOTENT"}(i=t.IdempotencyLevel||(t.IdempotencyLevel={}));let u={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function c(e,t){return""===e?t:e+"."+t}function d(e){return e instanceof s.Service||e instanceof s.Type||e instanceof s.Enum}function h(e){return e instanceof s.Namespace||e instanceof s.Root}function p(e,t){let r=c(t,e.name);return d(e)?[[r,e]]:h(e)&&void 0!==e.nested?Object.keys(e.nested).map(t=>p(e.nested[t],r)).reduce((e,t)=>e.concat(t),[]):[]}function f(e,t){return function(r){return e.toObject(e.decode(r),t)}}function m(e){return function(t){if(Array.isArray(t))throw Error(`Failed to serialize message: expected object with ${e.name} structure, got array instead`);let r=e.fromObject(t);return e.encode(r).finish()}}function g(e){return(e||[]).reduce((e,t)=>{for(let[r,n]of Object.entries(t))"uninterpreted_option"===r?e.uninterpreted_option.push(t.uninterpreted_option):e[r]=n;return e},{deprecated:!1,idempotency_level:i.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function y(e,t,r,n){let i=e.resolvedRequestType,s=e.resolvedResponseType;return{path:"/"+t+"/"+e.name,requestStream:!!e.requestStream,responseStream:!!e.responseStream,requestSerialize:m(i),requestDeserialize:f(i,r),responseSerialize:m(s),responseDeserialize:f(s,r),originalName:o(e.name),requestType:b(i,n),responseType:b(s,n),options:g(e.parsedOptions)}}function v(e,t,r,n){let i={};for(let o of e.methodsArray)i[o.name]=y(o,t,r,n);return i}function b(e,t){let r=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:r.$type.toObject(r,u),fileDescriptorProtos:t}}function E(e,t){let r=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:r.$type.toObject(r,u),fileDescriptorProtos:t}}function S(e,t,r,n){if(e instanceof s.Service)return v(e,t,r,n);if(e instanceof s.Type)return b(e,n);if(e instanceof s.Enum)return E(e,n);throw Error("Type mismatch in reflection object handling")}function _(e,t){let r={};e.resolveAll();let n=e.toDescriptor("proto3").file.map(e=>Buffer.from(a.FileDescriptorProto.encode(e).finish()));for(let[i,o]of p(e,""))r[i]=S(o,i,t,n);return r}function T(e,t){t=t||{};let r=s.Root.fromDescriptor(e);return r.resolveAll(),_(r,t)}function A(e,t){return _((0,l.loadProtosWithOptionsSync)(e,t),t)}n=function(e,t){return(0,l.loadProtosWithOptions)(e,t).then(e=>_(e,t))},t.loadSync=A,n=function(e,t){t=t||{};let r=s.Root.fromJSON(e);return r.resolveAll(),_(r,t)},n=function(e,t){return T(a.FileDescriptorSet.decode(e),t)},n=function(e,t){return T(a.FileDescriptorSet.fromObject(e),t)},(0,l.addCommonProtos)()},63967:(e,t,r)=>{"use strict";/**
 * @license
 * Copyright 2018 gRPC authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */Object.defineProperty(t,"__esModule",{value:!0}),t.addCommonProtos=t.loadProtosWithOptionsSync=t.loadProtosWithOptions=void 0;let n=r(57147),i=r(71017),o=r(60394);function s(e,t){let r=e.resolvePath;e.resolvePath=(e,o)=>{if(i.isAbsolute(o))return o;for(let e of t){let t=i.join(e,o);try{return n.accessSync(t,n.constants.R_OK),t}catch(e){continue}}return process.emitWarning(`${o} not found in any of the include paths ${t}`),r(e,o)}}async function a(e,t){let r=new o.Root;if((t=t||{}).includeDirs){if(!Array.isArray(t.includeDirs))return Promise.reject(Error("The includeDirs option must be an array"));s(r,t.includeDirs)}let n=await r.load(e,t);return n.resolveAll(),n}function l(e,t){let r=new o.Root;if((t=t||{}).includeDirs){if(!Array.isArray(t.includeDirs))throw Error("The includeDirs option must be an array");s(r,t.includeDirs)}let n=r.loadSync(e,t);return n.resolveAll(),n}function u(){let e=r(56786),t=r(65061),n=r(95502),i=r(731);o.common("api",e.nested.google.nested.protobuf.nested),o.common("descriptor",t.nested.google.nested.protobuf.nested),o.common("source_context",n.nested.google.nested.protobuf.nested),o.common("type",i.nested.google.nested.protobuf.nested)}t.loadProtosWithOptions=a,t.loadProtosWithOptionsSync=l,t.addCommonProtos=u},10074:(e,t,r)=>{"use strict";r.r(t),r.d(t,{NOOP_LOGGER:()=>i,NoopLogger:()=>n});var n=function(){function e(){}return e.prototype.emit=function(e){},e}(),i=new n},75508:(e,t,r)=>{"use strict";r.r(t),r.d(t,{NOOP_LOGGER_PROVIDER:()=>o,NoopLoggerProvider:()=>i});var n=r(10074),i=function(){function e(){}return e.prototype.getLogger=function(e,t,r){return new n.NoopLogger},e}(),o=new i},8585:(e,t,r)=>{"use strict";r.d(t,{LogsAPI:()=>o});var n=r(39225),i=r(75508),o=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalLoggerProvider=function(e){return n._global[n.GLOBAL_LOGS_API_KEY]?this.getLoggerProvider():(n._global[n.GLOBAL_LOGS_API_KEY]=(0,n.makeGetter)(n.API_BACKWARDS_COMPATIBILITY_VERSION,e,i.NOOP_LOGGER_PROVIDER),e)},e.prototype.getLoggerProvider=function(){var e,t;return null!==(t=null===(e=n._global[n.GLOBAL_LOGS_API_KEY])||void 0===e?void 0:e.call(n._global,n.API_BACKWARDS_COMPATIBILITY_VERSION))&&void 0!==t?t:i.NOOP_LOGGER_PROVIDER},e.prototype.getLogger=function(e,t,r){return this.getLoggerProvider().getLogger(e,t,r)},e.prototype.disable=function(){delete n._global[n.GLOBAL_LOGS_API_KEY]},e}()},2110:(e,t,r)=>{"use strict";r.r(t),r.d(t,{logs:()=>d});var n=r(22453),i={};for(let e in n)0>["default","logs"].indexOf(e)&&(i[e]=()=>n[e]);r.d(t,i);var o=r(460),i={};for(let e in o)0>["default","logs"].indexOf(e)&&(i[e]=()=>o[e]);r.d(t,i);var s=r(54562),i={};for(let e in s)0>["default","logs"].indexOf(e)&&(i[e]=()=>s[e]);r.d(t,i);var a=r(41867),i={};for(let e in a)0>["default","logs"].indexOf(e)&&(i[e]=()=>a[e]);r.d(t,i);var l=r(56534),i={};for(let e in l)0>["default","logs"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);var u=r(10074),i={};for(let e in u)0>["default","logs"].indexOf(e)&&(i[e]=()=>u[e]);r.d(t,i);var c=r(75508),i={};for(let e in c)0>["default","logs"].indexOf(e)&&(i[e]=()=>c[e]);r.d(t,i);var d=r(8585).LogsAPI.getInstance()},39225:(e,t,r)=>{"use strict";r.d(t,{API_BACKWARDS_COMPATIBILITY_VERSION:()=>a,GLOBAL_LOGS_API_KEY:()=>i,_global:()=>o,makeGetter:()=>s});var n=r(56372),i=Symbol.for("io.opentelemetry.js.api.logs"),o=n._globalThis;function s(e,t,r){return function(n){return n===e?t:r}}var a=1},56372:(e,t,r)=>{"use strict";var n=r(84222);r.o(n,"_globalThis")&&r.d(t,{_globalThis:function(){return n._globalThis}})},78403:(e,t,r)=>{"use strict";r.d(t,{_globalThis:()=>n});var n="object"==typeof globalThis?globalThis:global},84222:(e,t,r)=>{"use strict";var n=r(78403);r.o(n,"_globalThis")&&r.d(t,{_globalThis:function(){return n._globalThis}})},56534:(e,t,r)=>{"use strict";r.r(t)},54562:(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{SeverityNumber:()=>n}),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.TRACE=1]="TRACE",e[e.TRACE2=2]="TRACE2",e[e.TRACE3=3]="TRACE3",e[e.TRACE4=4]="TRACE4",e[e.DEBUG=5]="DEBUG",e[e.DEBUG2=6]="DEBUG2",e[e.DEBUG3=7]="DEBUG3",e[e.DEBUG4=8]="DEBUG4",e[e.INFO=9]="INFO",e[e.INFO2=10]="INFO2",e[e.INFO3=11]="INFO3",e[e.INFO4=12]="INFO4",e[e.WARN=13]="WARN",e[e.WARN2=14]="WARN2",e[e.WARN3=15]="WARN3",e[e.WARN4=16]="WARN4",e[e.ERROR=17]="ERROR",e[e.ERROR2=18]="ERROR2",e[e.ERROR3=19]="ERROR3",e[e.ERROR4=20]="ERROR4",e[e.FATAL=21]="FATAL",e[e.FATAL2=22]="FATAL2",e[e.FATAL3=23]="FATAL3",e[e.FATAL4=24]="FATAL4"}(n||(n={}))},22453:(e,t,r)=>{"use strict";r.r(t)},41867:(e,t,r)=>{"use strict";r.r(t)},460:(e,t,r)=>{"use strict";r.r(t)},86094:(e,t,r)=>{"use strict";r.d(t,{ContextAPI:()=>c});var n=r(98580),i=r(8822),o=r(43400),s=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},a=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},l="context",u=new n.NoopContextManager,c=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return(0,i.registerGlobal)(l,e,o.DiagAPI.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,r){for(var n,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return(n=this._getContextManager()).with.apply(n,a([e,t,r],s(i),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return(0,i.getGlobal)(l)||u},e.prototype.disable=function(){this._getContextManager().disable(),(0,i.unregisterGlobal)(l,o.DiagAPI.instance())},e}()},43400:(e,t,r)=>{"use strict";r.d(t,{DiagAPI:()=>c});var n=r(70906),i=r(26537),o=r(94385),s=r(8822),a=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},l=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},u="diag",c=function(){function e(){function e(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=(0,s.getGlobal)("diag");if(n)return n[e].apply(n,l([],a(t),!1))}}var t=this,r=function(e,r){if(void 0===r&&(r={logLevel:o.DiagLogLevel.INFO}),e===t){var n,a,l,u=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(n=u.stack)&&void 0!==n?n:u.message),!1}"number"==typeof r&&(r={logLevel:r});var c=(0,s.getGlobal)("diag"),d=(0,i.createLogLevelDiagLogger)(null!==(a=r.logLevel)&&void 0!==a?a:o.DiagLogLevel.INFO,e);if(c&&!r.suppressOverrideMessage){var h=null!==(l=Error().stack)&&void 0!==l?l:"<failed to generate stacktrace>";c.warn("Current logger will be overwritten from "+h),d.warn("Current logger will overwrite one already registered from "+h)}return(0,s.registerGlobal)("diag",d,t,!0)};t.setLogger=r,t.disable=function(){(0,s.unregisterGlobal)(u,t)},t.createComponentLogger=function(e){return new n.DiagComponentLogger(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}()},60239:(e,t,r)=>{"use strict";r.d(t,{MetricsAPI:()=>a});var n=r(65333),i=r(8822),o=r(43400),s="metrics",a=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(e){return(0,i.registerGlobal)(s,e,o.DiagAPI.instance())},e.prototype.getMeterProvider=function(){return(0,i.getGlobal)(s)||n.NOOP_METER_PROVIDER},e.prototype.getMeter=function(e,t,r){return this.getMeterProvider().getMeter(e,t,r)},e.prototype.disable=function(){(0,i.unregisterGlobal)(s,o.DiagAPI.instance())},e}()},44747:(e,t,r)=>{"use strict";r.d(t,{PropagationAPI:()=>d});var n=r(8822),i=r(38742),o=r(25172),s=r(48954),a=r(40685),l=r(43400),u="propagation",c=new i.NoopTextMapPropagator,d=function(){function e(){this.createBaggage=a.createBaggage,this.getBaggage=s.getBaggage,this.getActiveBaggage=s.getActiveBaggage,this.setBaggage=s.setBaggage,this.deleteBaggage=s.deleteBaggage}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return(0,n.registerGlobal)(u,e,l.DiagAPI.instance())},e.prototype.inject=function(e,t,r){return void 0===r&&(r=o.defaultTextMapSetter),this._getGlobalPropagator().inject(e,t,r)},e.prototype.extract=function(e,t,r){return void 0===r&&(r=o.defaultTextMapGetter),this._getGlobalPropagator().extract(e,t,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){(0,n.unregisterGlobal)(u,l.DiagAPI.instance())},e.prototype._getGlobalPropagator=function(){return(0,n.getGlobal)(u)||c},e}()},82949:(e,t,r)=>{"use strict";r.d(t,{TraceAPI:()=>u});var n=r(8822),i=r(37418),o=r(25004),s=r(22421),a=r(43400),l="trace",u=function(){function e(){this._proxyTracerProvider=new i.ProxyTracerProvider,this.wrapSpanContext=o.wrapSpanContext,this.isSpanContextValid=o.isSpanContextValid,this.deleteSpan=s.deleteSpan,this.getSpan=s.getSpan,this.getActiveSpan=s.getActiveSpan,this.getSpanContext=s.getSpanContext,this.setSpan=s.setSpan,this.setSpanContext=s.setSpanContext}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=(0,n.registerGlobal)(l,this._proxyTracerProvider,a.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return(0,n.getGlobal)(l)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){(0,n.unregisterGlobal)(l,a.DiagAPI.instance()),this._proxyTracerProvider=new i.ProxyTracerProvider},e}()},48954:(e,t,r)=>{"use strict";r.d(t,{deleteBaggage:()=>l,getActiveBaggage:()=>s,getBaggage:()=>o,setBaggage:()=>a});var n=r(86094),i=(0,r(65194).createContextKey)("OpenTelemetry Baggage Key");function o(e){return e.getValue(i)||void 0}function s(){return o(n.ContextAPI.getInstance().active())}function a(e,t){return e.setValue(i,t)}function l(e){return e.deleteValue(i)}},82524:(e,t,r)=>{"use strict";r.d(t,{BaggageImpl:()=>o});var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var t=n(e,2);return[t[0],t[1]]})},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t,r,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var s=new e(this._entries);try{for(var a=i(n),l=a.next();!l.done;l=a.next()){var u=l.value;s._entries.delete(u)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return s},e.prototype.clear=function(){return new e},e}()},31918:(e,t,r)=>{"use strict";r.d(t,{baggageEntryMetadataSymbol:()=>n});var n=Symbol("BaggageEntryMetadata")},40685:(e,t,r)=>{"use strict";r.d(t,{baggageEntryMetadataFromString:()=>l,createBaggage:()=>a});var n=r(43400),i=r(82524),o=r(31918),s=n.DiagAPI.instance();function a(e){return void 0===e&&(e={}),new i.BaggageImpl(new Map(Object.entries(e)))}function l(e){return"string"!=typeof e&&(s.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:o.baggageEntryMetadataSymbol,toString:function(){return e}}}},87210:(e,t,r)=>{"use strict";r.d(t,{context:()=>n});var n=r(86094).ContextAPI.getInstance()},98580:(e,t,r)=>{"use strict";r.d(t,{NoopContextManager:()=>s});var n=r(65194),i=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},o=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},s=function(){function e(){}return e.prototype.active=function(){return n.ROOT_CONTEXT},e.prototype.with=function(e,t,r){for(var n=[],s=3;s<arguments.length;s++)n[s-3]=arguments[s];return t.call.apply(t,o([r],i(n),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}()},65194:(e,t,r)=>{"use strict";function n(e){return Symbol.for(e)}r.d(t,{ROOT_CONTEXT:()=>i,createContextKey:()=>n});var i=new(function(){function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(e){return r._currentContext.get(e)},r.setValue=function(t,n){var i=new e(r._currentContext);return i._currentContext.set(t,n),i},r.deleteValue=function(t){var n=new e(r._currentContext);return n._currentContext.delete(t),n}}return e}())},13444:(e,t,r)=>{"use strict";r.d(t,{diag:()=>n});var n=r(43400).DiagAPI.instance()},70906:(e,t,r)=>{"use strict";r.d(t,{DiagComponentLogger:()=>s});var n=r(8822),i=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},o=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},s=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("verbose",this._namespace,e)},e}();function a(e,t,r){var s=(0,n.getGlobal)("diag");if(s)return r.unshift(t),s[e].apply(s,o([],i(r),!1))}},49551:(e,t,r)=>{"use strict";r.d(t,{DiagConsoleLogger:()=>i});var n=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],i=function(){return function(){function e(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(console){var n=console[e];if("function"!=typeof n&&(n=console.log),"function"==typeof n)return n.apply(console,t)}}}for(var t=0;t<n.length;t++)this[n[t].n]=e(n[t].c)}}()},26537:(e,t,r)=>{"use strict";r.d(t,{createLogLevelDiagLogger:()=>i});var n=r(94385);function i(e,t){function r(r,n){var i=t[r];return"function"==typeof i&&e>=n?i.bind(t):function(){}}return e<n.DiagLogLevel.NONE?e=n.DiagLogLevel.NONE:e>n.DiagLogLevel.ALL&&(e=n.DiagLogLevel.ALL),t=t||{},{error:r("error",n.DiagLogLevel.ERROR),warn:r("warn",n.DiagLogLevel.WARN),info:r("info",n.DiagLogLevel.INFO),debug:r("debug",n.DiagLogLevel.DEBUG),verbose:r("verbose",n.DiagLogLevel.VERBOSE)}}},94385:(e,t,r)=>{"use strict";var n;r.d(t,{DiagLogLevel:()=>n}),function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(n||(n={}))},38626:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DiagConsoleLogger:()=>o.DiagConsoleLogger,DiagLogLevel:()=>s.DiagLogLevel,INVALID_SPANID:()=>v.INVALID_SPANID,INVALID_SPAN_CONTEXT:()=>v.INVALID_SPAN_CONTEXT,INVALID_TRACEID:()=>v.INVALID_TRACEID,ProxyTracer:()=>c.ProxyTracer,ProxyTracerProvider:()=>d.ProxyTracerProvider,ROOT_CONTEXT:()=>i.ROOT_CONTEXT,SamplingDecision:()=>h.SamplingDecision,SpanKind:()=>p.SpanKind,SpanStatusCode:()=>f.SpanStatusCode,TraceFlags:()=>m.TraceFlags,ValueType:()=>l.ValueType,baggageEntryMetadataFromString:()=>n.baggageEntryMetadataFromString,context:()=>b.context,createContextKey:()=>i.createContextKey,createNoopMeter:()=>a.createNoopMeter,createTraceState:()=>g.createTraceState,default:()=>A,defaultTextMapGetter:()=>u.defaultTextMapGetter,defaultTextMapSetter:()=>u.defaultTextMapSetter,diag:()=>E.diag,isSpanContextValid:()=>y.isSpanContextValid,isValidSpanId:()=>y.isValidSpanId,isValidTraceId:()=>y.isValidTraceId,metrics:()=>S.metrics,propagation:()=>_.propagation,trace:()=>T.trace});var n=r(40685),i=r(65194),o=r(49551),s=r(94385),a=r(3212),l=r(38719),u=r(25172),c=r(81327),d=r(37418),h=r(79813),p=r(57317),f=r(73701),m=r(95780),g=r(41154),y=r(25004),v=r(54556),b=r(87210),E=r(13444),S=r(16227),_=r(12228),T=r(67640);let A={context:b.context,diag:E.diag,metrics:S.metrics,propagation:_.propagation,trace:T.trace}},8822:(e,t,r)=>{"use strict";r.d(t,{getGlobal:()=>u,registerGlobal:()=>l,unregisterGlobal:()=>c});var n=r(4157),i=r(12207),o=r(43086),s=Symbol.for("opentelemetry.js.api."+i.VERSION.split(".")[0]),a=n._globalThis;function l(e,t,r,n){void 0===n&&(n=!1);var o,l=a[s]=null!==(o=a[s])&&void 0!==o?o:{version:i.VERSION};if(!n&&l[e]){var u=Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(u.stack||u.message),!1}if(l.version!==i.VERSION){var u=Error("@opentelemetry/api: Registration of version v"+l.version+" for "+e+" does not match previously registered API v"+i.VERSION);return r.error(u.stack||u.message),!1}return l[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+i.VERSION+"."),!0}function u(e){var t,r,n=null===(t=a[s])||void 0===t?void 0:t.version;if(n&&(0,o.isCompatible)(n))return null===(r=a[s])||void 0===r?void 0:r[e]}function c(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+i.VERSION+".");var r=a[s];r&&delete r[e]}},43086:(e,t,r)=>{"use strict";r.d(t,{isCompatible:()=>o});var n=r(12207),i=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,o=function(e){var t=new Set([e]),r=new Set,n=e.match(i);if(!n)return function(){return!1};var o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=o.prerelease)return function(t){return t===e};function s(e){return r.add(e),!1}function a(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;var n=e.match(i);if(!n)return s(e);var l={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};return null!=l.prerelease||o.major!==l.major?s(e):0===o.major?o.minor===l.minor&&o.patch<=l.patch?a(e):s(e):o.minor<=l.minor?a(e):s(e)}}(n.VERSION)},16227:(e,t,r)=>{"use strict";r.d(t,{metrics:()=>n});var n=r(60239).MetricsAPI.getInstance()},38719:(e,t,r)=>{"use strict";var n;r.d(t,{ValueType:()=>n}),function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(n||(n={}))},3212:(e,t,r)=>{"use strict";r.d(t,{NOOP_METER:()=>f,createNoopMeter:()=>_});var n=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=function(){function e(){}return e.prototype.createGauge=function(e,t){return g},e.prototype.createHistogram=function(e,t){return y},e.prototype.createCounter=function(e,t){return m},e.prototype.createUpDownCounter=function(e,t){return v},e.prototype.createObservableGauge=function(e,t){return E},e.prototype.createObservableCounter=function(e,t){return b},e.prototype.createObservableUpDownCounter=function(e,t){return S},e.prototype.addBatchObservableCallback=function(e,t){},e.prototype.removeBatchObservableCallback=function(e){},e}(),o=function(){return function(){}}(),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.add=function(e,t){},t}(o),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.add=function(e,t){},t}(o),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.record=function(e,t){},t}(o),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.record=function(e,t){},t}(o),c=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.removeCallback=function(e){},e}(),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(c),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(c),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(c),f=new i,m=new s,g=new l,y=new u,v=new a,b=new d,E=new h,S=new p;function _(){return f}},65333:(e,t,r)=>{"use strict";r.d(t,{NOOP_METER_PROVIDER:()=>i});var n=r(3212),i=new(function(){function e(){}return e.prototype.getMeter=function(e,t,r){return n.NOOP_METER},e}())},4157:(e,t,r)=>{"use strict";var n=r(78152);r.o(n,"_globalThis")&&r.d(t,{_globalThis:function(){return n._globalThis}})},25897:(e,t,r)=>{"use strict";r.d(t,{_globalThis:()=>n});var n="object"==typeof globalThis?globalThis:global},78152:(e,t,r)=>{"use strict";var n=r(25897);r.o(n,"_globalThis")&&r.d(t,{_globalThis:function(){return n._globalThis}})},12228:(e,t,r)=>{"use strict";r.d(t,{propagation:()=>n});var n=r(44747).PropagationAPI.getInstance()},38742:(e,t,r)=>{"use strict";r.d(t,{NoopTextMapPropagator:()=>n});var n=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}()},25172:(e,t,r)=>{"use strict";r.d(t,{defaultTextMapGetter:()=>n,defaultTextMapSetter:()=>i});var n={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},i={set:function(e,t,r){null!=e&&(e[t]=r)}}},67640:(e,t,r)=>{"use strict";r.d(t,{trace:()=>n});var n=r(82949).TraceAPI.getInstance()},1546:(e,t,r)=>{"use strict";r.d(t,{NonRecordingSpan:()=>i});var n=r(54556),i=function(){function e(e){void 0===e&&(e=n.INVALID_SPAN_CONTEXT),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.addLink=function(e){return this},e.prototype.addLinks=function(e){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}()},70730:(e,t,r)=>{"use strict";r.d(t,{NoopTracer:()=>l});var n=r(86094),i=r(22421),o=r(1546),s=r(25004),a=n.ContextAPI.getInstance(),l=function(){function e(){}return e.prototype.startSpan=function(e,t,r){if(void 0===r&&(r=a.active()),null==t?void 0:t.root)return new o.NonRecordingSpan;var n=r&&(0,i.getSpanContext)(r);return u(n)&&(0,s.isSpanContextValid)(n)?new o.NonRecordingSpan(n):new o.NonRecordingSpan},e.prototype.startActiveSpan=function(e,t,r,n){if(!(arguments.length<2)){2==arguments.length?l=t:3==arguments.length?(o=t,l=r):(o=t,s=r,l=n);var o,s,l,u=null!=s?s:a.active(),c=this.startSpan(e,o,u),d=(0,i.setSpan)(u,c);return a.with(d,l,void 0,c)}},e}();function u(e){return"object"==typeof e&&"string"==typeof e.spanId&&"string"==typeof e.traceId&&"number"==typeof e.traceFlags}},30259:(e,t,r)=>{"use strict";r.d(t,{NoopTracerProvider:()=>i});var n=r(70730),i=function(){function e(){}return e.prototype.getTracer=function(e,t,r){return new n.NoopTracer},e}()},81327:(e,t,r)=>{"use strict";r.d(t,{ProxyTracer:()=>i});var n=new(r(70730)).NoopTracer,i=function(){function e(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}return e.prototype.startSpan=function(e,t,r){return this._getTracer().startSpan(e,t,r)},e.prototype.startActiveSpan=function(e,t,r,n){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n},e}()},37418:(e,t,r)=>{"use strict";r.d(t,{ProxyTracerProvider:()=>o});var n=r(81327),i=new(r(30259)).NoopTracerProvider,o=function(){function e(){}return e.prototype.getTracer=function(e,t,r){var i;return null!==(i=this.getDelegateTracer(e,t,r))&&void 0!==i?i:new n.ProxyTracer(this,e,t,r)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:i},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t,r)},e}()},79813:(e,t,r)=>{"use strict";var n;r.d(t,{SamplingDecision:()=>n}),function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(n||(n={}))},22421:(e,t,r)=>{"use strict";r.d(t,{deleteSpan:()=>c,getActiveSpan:()=>l,getSpan:()=>a,getSpanContext:()=>h,setSpan:()=>u,setSpanContext:()=>d});var n=r(65194),i=r(1546),o=r(86094),s=(0,n.createContextKey)("OpenTelemetry Context Key SPAN");function a(e){return e.getValue(s)||void 0}function l(){return a(o.ContextAPI.getInstance().active())}function u(e,t){return e.setValue(s,t)}function c(e){return e.deleteValue(s)}function d(e,t){return u(e,new i.NonRecordingSpan(t))}function h(e){var t;return null===(t=a(e))||void 0===t?void 0:t.spanContext()}},59638:(e,t,r)=>{"use strict";r.d(t,{TraceStateImpl:()=>l});var n=r(70602),i=32,o=512,s=",",a="=",l=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce(function(t,r){return t.push(r+a+e.get(r)),t},[]).join(s)},e.prototype._parse=function(e){!(e.length>o)&&(this._internalState=e.split(s).reverse().reduce(function(e,t){var r=t.trim(),i=r.indexOf(a);if(-1!==i){var o=r.slice(0,i),s=r.slice(i+1,t.length);(0,n.validateKey)(o)&&(0,n.validateValue)(s)&&e.set(o,s)}return e},new Map),this._internalState.size>i&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,i))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}()},70602:(e,t,r)=>{"use strict";r.d(t,{validateKey:()=>a,validateValue:()=>l});var n="[_0-9a-z-*/]",i=RegExp("^(?:[a-z]"+n+"{0,255}|"+("[a-z0-9]"+n+"{0,240}@[a-z]")+n+"{0,13})$"),o=/^[ -~]{0,255}[!-~]$/,s=/,|=/;function a(e){return i.test(e)}function l(e){return o.test(e)&&!s.test(e)}},41154:(e,t,r)=>{"use strict";r.d(t,{createTraceState:()=>i});var n=r(59638);function i(e){return new n.TraceStateImpl(e)}},54556:(e,t,r)=>{"use strict";r.d(t,{INVALID_SPANID:()=>i,INVALID_SPAN_CONTEXT:()=>s,INVALID_TRACEID:()=>o});var n=r(95780),i="0000000000000000",o="00000000000000000000000000000000",s={traceId:o,spanId:i,traceFlags:n.TraceFlags.NONE}},57317:(e,t,r)=>{"use strict";var n;r.d(t,{SpanKind:()=>n}),function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(n||(n={}))},25004:(e,t,r)=>{"use strict";r.d(t,{isSpanContextValid:()=>u,isValidSpanId:()=>l,isValidTraceId:()=>a,wrapSpanContext:()=>c});var n=r(54556),i=r(1546),o=/^([0-9a-f]{32})$/i,s=/^[0-9a-f]{16}$/i;function a(e){return o.test(e)&&e!==n.INVALID_TRACEID}function l(e){return s.test(e)&&e!==n.INVALID_SPANID}function u(e){return a(e.traceId)&&l(e.spanId)}function c(e){return new i.NonRecordingSpan(e)}},73701:(e,t,r)=>{"use strict";var n;r.d(t,{SpanStatusCode:()=>n}),function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(n||(n={}))},95780:(e,t,r)=>{"use strict";var n;r.d(t,{TraceFlags:()=>n}),function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(n||(n={}))},12207:(e,t,r)=>{"use strict";r.d(t,{VERSION:()=>n});var n="1.9.0"},15253:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractAsyncHooksContextManager=void 0;let n=r(82361),i=["addListener","on","once","prependListener","prependOnceListener"];class o{constructor(){this._kOtListeners=Symbol("OtListeners"),this._wrapped=!1}bind(e,t){return t instanceof n.EventEmitter?this._bindEventEmitter(e,t):"function"==typeof t?this._bindFunction(e,t):t}_bindFunction(e,t){let r=this,n=function(...n){return r.with(e,()=>t.apply(this,n))};return Object.defineProperty(n,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),n}_bindEventEmitter(e,t){return void 0!==this._getPatchMap(t)||(this._createPatchMap(t),i.forEach(r=>{void 0!==t[r]&&(t[r]=this._patchAddListener(t,t[r],e))}),"function"==typeof t.removeListener&&(t.removeListener=this._patchRemoveListener(t,t.removeListener)),"function"==typeof t.off&&(t.off=this._patchRemoveListener(t,t.off)),"function"==typeof t.removeAllListeners&&(t.removeAllListeners=this._patchRemoveAllListeners(t,t.removeAllListeners))),t}_patchRemoveListener(e,t){let r=this;return function(n,i){var o;let s=null===(o=r._getPatchMap(e))||void 0===o?void 0:o[n];if(void 0===s)return t.call(this,n,i);let a=s.get(i);return t.call(this,n,a||i)}}_patchRemoveAllListeners(e,t){let r=this;return function(n){let i=r._getPatchMap(e);return void 0!==i&&(0==arguments.length?r._createPatchMap(e):void 0!==i[n]&&delete i[n]),t.apply(this,arguments)}}_patchAddListener(e,t,r){let n=this;return function(i,o){if(n._wrapped)return t.call(this,i,o);let s=n._getPatchMap(e);void 0===s&&(s=n._createPatchMap(e));let a=s[i];void 0===a&&(a=new WeakMap,s[i]=a);let l=n.bind(r,o);a.set(o,l),n._wrapped=!0;try{return t.call(this,i,l)}finally{n._wrapped=!1}}}_createPatchMap(e){let t=Object.create(null);return e[this._kOtListeners]=t,t}_getPatchMap(e){return e[this._kOtListeners]}}t.AbstractAsyncHooksContextManager=o},24175:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncHooksContextManager=void 0;let n=r(38626),i=r(50852),o=r(15253);class s extends o.AbstractAsyncHooksContextManager{constructor(){super(),this._contexts=new Map,this._stack=[],this._asyncHook=i.createHook({init:this._init.bind(this),before:this._before.bind(this),after:this._after.bind(this),destroy:this._destroy.bind(this),promiseResolve:this._destroy.bind(this)})}active(){var e;return null!==(e=this._stack[this._stack.length-1])&&void 0!==e?e:n.ROOT_CONTEXT}with(e,t,r,...n){this._enterContext(e);try{return t.call(r,...n)}finally{this._exitContext()}}enable(){return this._asyncHook.enable(),this}disable(){return this._asyncHook.disable(),this._contexts.clear(),this._stack=[],this}_init(e,t){if("TIMERWRAP"===t)return;let r=this._stack[this._stack.length-1];void 0!==r&&this._contexts.set(e,r)}_destroy(e){this._contexts.delete(e)}_before(e){let t=this._contexts.get(e);void 0!==t&&this._enterContext(t)}_after(){this._exitContext()}_enterContext(e){this._stack.push(e)}_exitContext(){this._stack.pop()}}t.AsyncHooksContextManager=s},55347:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncLocalStorageContextManager=void 0;let n=r(38626),i=r(50852),o=r(15253);class s extends o.AbstractAsyncHooksContextManager{constructor(){super(),this._asyncLocalStorage=new i.AsyncLocalStorage}active(){var e;return null!==(e=this._asyncLocalStorage.getStore())&&void 0!==e?e:n.ROOT_CONTEXT}with(e,t,r,...n){let i=null==r?t:t.bind(r);return this._asyncLocalStorage.run(e,i,...n)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}}t.AsyncLocalStorageContextManager=s},81789:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncLocalStorageContextManager=t.AsyncHooksContextManager=void 0;var n=r(24175);Object.defineProperty(t,"AsyncHooksContextManager",{enumerable:!0,get:function(){return n.AsyncHooksContextManager}});var i=r(55347);Object.defineProperty(t,"AsyncLocalStorageContextManager",{enumerable:!0,get:function(){return i.AsyncLocalStorageContextManager}})},80183:(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{ExportResultCode:()=>n}),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"}(n||(n={}))},40057:(e,t,r)=>{"use strict";r.d(t,{BAGGAGE_HEADER:()=>s,BAGGAGE_ITEMS_SEPARATOR:()=>o,BAGGAGE_KEY_PAIR_SEPARATOR:()=>n,BAGGAGE_MAX_NAME_VALUE_PAIRS:()=>a,BAGGAGE_MAX_PER_NAME_VALUE_PAIRS:()=>l,BAGGAGE_MAX_TOTAL_LENGTH:()=>u,BAGGAGE_PROPERTIES_SEPARATOR:()=>i});var n="=",i=";",o=",",s="baggage",a=180,l=4096,u=8192},47008:(e,t,r)=>{"use strict";r.r(t),r.d(t,{W3CBaggagePropagator:()=>a});var n=r(38626),i=r(82369),o=r(40057),s=r(57971),a=function(){function e(){}return e.prototype.inject=function(e,t,r){var a=n.propagation.getBaggage(e);if(!(!a||(0,i.isTracingSuppressed)(e))){var l=(0,s.getKeyPairs)(a).filter(function(e){return e.length<=o.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,o.BAGGAGE_MAX_NAME_VALUE_PAIRS),u=(0,s.serializeKeyPairs)(l);u.length>0&&r.set(t,o.BAGGAGE_HEADER,u)}},e.prototype.extract=function(e,t,r){var i=r.get(t,o.BAGGAGE_HEADER),a=Array.isArray(i)?i.join(o.BAGGAGE_ITEMS_SEPARATOR):i;if(!a)return e;var l={};return 0===a.length?e:(a.split(o.BAGGAGE_ITEMS_SEPARATOR).forEach(function(e){var t=(0,s.parsePairKeyValue)(e);if(t){var r={value:t.value};t.metadata&&(r.metadata=t.metadata),l[t.key]=r}}),0===Object.entries(l).length)?e:n.propagation.setBaggage(e,n.propagation.createBaggage(l))},e.prototype.fields=function(){return[o.BAGGAGE_HEADER]},e}()},57971:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getKeyPairs:()=>a,parseKeyPairsIntoRecord:()=>u,parsePairKeyValue:()=>l,serializeKeyPairs:()=>s});var n=r(38626),i=r(40057),o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};function s(e){return e.reduce(function(e,t){var r=""+e+(""!==e?i.BAGGAGE_ITEMS_SEPARATOR:"")+t;return r.length>i.BAGGAGE_MAX_TOTAL_LENGTH?e:r},"")}function a(e){return e.getAllEntries().map(function(e){var t=o(e,2),r=t[0],n=t[1],s=encodeURIComponent(r)+"="+encodeURIComponent(n.value);return void 0!==n.metadata&&(s+=i.BAGGAGE_PROPERTIES_SEPARATOR+n.metadata.toString()),s})}function l(e){var t,r=e.split(i.BAGGAGE_PROPERTIES_SEPARATOR);if(!(r.length<=0)){var o=r.shift();if(o){var s=o.indexOf(i.BAGGAGE_KEY_PAIR_SEPARATOR);if(!(s<=0)){var a=decodeURIComponent(o.substring(0,s).trim()),l=decodeURIComponent(o.substring(s+1).trim());return r.length>0&&(t=(0,n.baggageEntryMetadataFromString)(r.join(i.BAGGAGE_PROPERTIES_SEPARATOR))),{key:a,value:l,metadata:t}}}}}function u(e){return"string"!=typeof e||0===e.length?{}:e.split(i.BAGGAGE_ITEMS_SEPARATOR).map(function(e){return l(e)}).filter(function(e){return void 0!==e&&e.value.length>0}).reduce(function(e,t){return e[t.key]=t.value,e},{})}},51118:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AnchoredClock:()=>n});var n=function(){function e(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}return e.prototype.now=function(){var e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e},e}()},85134:(e,t,r)=>{"use strict";r.r(t),r.d(t,{isAttributeKey:()=>a,isAttributeValue:()=>l,sanitizeAttributes:()=>s});var n=r(38626),i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};function s(e){var t,r,s={};if("object"!=typeof e||null==e)return s;try{for(var u=i(Object.entries(e)),c=u.next();!c.done;c=u.next()){var d=o(c.value,2),h=d[0],p=d[1];if(!a(h)){n.diag.warn("Invalid attribute key: "+h);continue}if(!l(p)){n.diag.warn("Invalid attribute value set for key: "+h);continue}Array.isArray(p)?s[h]=p.slice():s[h]=p}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return s}function a(e){return"string"==typeof e&&e.length>0}function l(e){return null==e||(Array.isArray(e)?u(e):c(e))}function u(e){try{for(var t,r,n,o=i(e),s=o.next();!s.done;s=o.next()){var a=s.value;if(null!=a){if(!n){if(c(a)){n=typeof a;continue}return!1}if(typeof a===n)continue;return!1}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return!0}function c(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}},32354:(e,t,r)=>{"use strict";r.r(t),r.d(t,{globalErrorHandler:()=>o,setGlobalErrorHandler:()=>i});var n=(0,r(82776).loggingErrorHandler)();function i(e){n=e}function o(e){try{n(e)}catch(e){}}},92243:(e,t,r)=>{"use strict";function n(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}function i(e){for(var t=new Uint8Array(e.length/2),r=0,i=0;i<e.length;i+=2){var o=n(e.charCodeAt(i)),s=n(e.charCodeAt(i+1));t[r++]=o<<4|s}return t}r.r(t),r.d(t,{hexToBinary:()=>i})},82776:(e,t,r)=>{"use strict";r.r(t),r.d(t,{loggingErrorHandler:()=>i});var n=r(38626);function i(){return function(e){n.diag.error(o(e))}}function o(e){return"string"==typeof e?e:JSON.stringify(s(e))}function s(e){for(var t={},r=e;null!==r;)Object.getOwnPropertyNames(r).forEach(function(e){if(!t[e]){var n=r[e];n&&(t[e]=String(n))}}),r=Object.getPrototypeOf(r);return t}},82742:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addHrTimes:()=>v,getTimeOrigin:()=>l,hrTime:()=>u,hrTimeDuration:()=>d,hrTimeToMicroseconds:()=>m,hrTimeToMilliseconds:()=>f,hrTimeToNanoseconds:()=>p,hrTimeToTimeStamp:()=>h,isTimeInput:()=>y,isTimeInputHrTime:()=>g,millisToHrTime:()=>a,timeInputToHrTime:()=>c});var n=r(60842),i=9,o=1e6,s=1e9;function a(e){return[Math.trunc(e/1e3),Math.round(e%1e3*o)]}function l(){var e=n.otperformance.timeOrigin;if("number"!=typeof e){var t=n.otperformance;e=t.timing&&t.timing.fetchStart}return e}function u(e){return v(a(l()),a("number"==typeof e?e:n.otperformance.now()))}function c(e){if(g(e))return e;if("number"==typeof e)return e<l()?u(e):a(e);if(e instanceof Date)return a(e.getTime());throw TypeError("Invalid input type")}function d(e,t){var r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=s),[r,n]}function h(e){var t=i,r=""+"0".repeat(t)+e[1]+"Z",n=r.substr(r.length-t-1);return new Date(1e3*e[0]).toISOString().replace("000Z",n)}function p(e){return e[0]*s+e[1]}function f(e){return 1e3*e[0]+e[1]/1e6}function m(e){return 1e6*e[0]+e[1]/1e3}function g(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function y(e){return g(e)||"number"==typeof e||e instanceof Date}function v(e,t){var r=[e[0]+t[0],e[1]+t[1]];return r[1]>=s&&(r[1]-=s,r[0]+=1),r}},99052:(e,t,r)=>{"use strict";r.r(t)},4544:(e,t,r)=>{"use strict";r.r(t),r.d(t,{baggageUtils:()=>p,internal:()=>N});var n=r(47008),i={};for(let e in n)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>n[e]);r.d(t,i);var o=r(51118),i={};for(let e in o)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>o[e]);r.d(t,i);var s=r(85134),i={};for(let e in s)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>s[e]);r.d(t,i);var a=r(32354),i={};for(let e in a)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>a[e]);r.d(t,i);var l=r(82776),i={};for(let e in l)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);var u=r(82742),i={};for(let e in u)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>u[e]);r.d(t,i);var c=r(99052),i={};for(let e in c)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>c[e]);r.d(t,i);var d=r(92243),i={};for(let e in d)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>d[e]);r.d(t,i);var h=r(80183),i={};for(let e in h)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>h[e]);r.d(t,i);var p=r(57971),f=r(60842),i={};for(let e in f)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>f[e]);r.d(t,i);var m=r(18549),i={};for(let e in m)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>m[e]);r.d(t,i);var g=r(27086),i={};for(let e in g)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>g[e]);r.d(t,i);var y=r(84714),i={};for(let e in y)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>y[e]);r.d(t,i);var v=r(73060),i={};for(let e in v)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>v[e]);r.d(t,i);var b=r(57286),i={};for(let e in b)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>b[e]);r.d(t,i);var E=r(88156),i={};for(let e in E)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>E[e]);r.d(t,i);var S=r(46146),i={};for(let e in S)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>S[e]);r.d(t,i);var _=r(10306),i={};for(let e in _)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>_[e]);r.d(t,i);var T=r(82369),i={};for(let e in T)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>T[e]);r.d(t,i);var A=r(876),i={};for(let e in A)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>A[e]);r.d(t,i);var C=r(89272),i={};for(let e in C)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>C[e]);r.d(t,i);var w=r(46926),i={};for(let e in w)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>w[e]);r.d(t,i);var O=r(35364),i={};for(let e in O)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>O[e]);r.d(t,i);var R=r(72998),i={};for(let e in R)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>R[e]);r.d(t,i);var x=r(41770),i={};for(let e in x)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>x[e]);r.d(t,i);var I=r(42934),i={};for(let e in I)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>I[e]);r.d(t,i);var D=r(73810),i={};for(let e in D)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>D[e]);r.d(t,i);var P=r(53008),i={};for(let e in P)0>["default","baggageUtils","internal"].indexOf(e)&&(i[e]=()=>P[e]);r.d(t,i);var N={_export:r(81931)._export}},81931:(e,t,r)=>{"use strict";r.d(t,{_export:()=>o});var n=r(38626),i=r(82369);function o(e,t){return new Promise(function(r){n.context.with((0,i.suppressTracing)(n.context.active()),function(){e.export(t,function(e){r(e)})})})}},15276:(e,t,r)=>{"use strict";r.d(t,{validateKey:()=>a,validateValue:()=>l});var n="[_0-9a-z-*/]",i=RegExp("^(?:[a-z]"+n+"{0,255}|"+("[a-z0-9]"+n+"{0,240}@[a-z]")+n+"{0,13})$"),o=/^[ -~]{0,255}[!-~]$/,s=/,|=/;function a(e){return i.test(e)}function l(e){return o.test(e)&&!s.test(e)}},60842:(e,t,r)=>{"use strict";r.r(t);var n=r(46754),i={};for(let e in n)"default"!==e&&(i[e]=()=>n[e]);r.d(t,i)},21071:(e,t,r)=>{"use strict";r.r(t),r.d(t,{RandomIdGenerator:()=>o});var n=8,i=16,o=function(){return function(){this.generateTraceId=a(i),this.generateSpanId=a(n)}}(),s=Buffer.allocUnsafe(i);function a(e){return function(){for(var t=0;t<e/4;t++)s.writeUInt32BE(4294967296*Math.random()>>>0,4*t);for(var t=0;t<e&&!(s[t]>0);t++)t===e-1&&(s[e-1]=1);return s.toString("hex",0,e)}}},76807:(e,t,r)=>{"use strict";r.d(t,{getEnv:()=>i,getEnvWithoutDefaults:()=>o});var n=r(89272);function i(){var e=(0,n.parseEnvironment)(process.env);return Object.assign({},n.DEFAULT_ENVIRONMENT,e)}function o(){return(0,n.parseEnvironment)(process.env)}},16231:(e,t,r)=>{"use strict";r.r(t),r.d(t,{_globalThis:()=>n});var n="object"==typeof globalThis?globalThis:global},2194:(e,t,r)=>{"use strict";r.r(t),r.d(t,{hexToBase64:()=>i});var n=r(92243);function i(e){return Buffer.from((0,n.hexToBinary)(e)).toString("base64")}},46754:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getEnv:()=>n.getEnv,getEnvWithoutDefaults:()=>n.getEnvWithoutDefaults});var n=r(76807),i=r(16231),o={};for(let e in i)0>["default","getEnvWithoutDefaults","getEnv"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);var s=r(2194),o={};for(let e in s)0>["default","getEnvWithoutDefaults","getEnv"].indexOf(e)&&(o[e]=()=>s[e]);r.d(t,o);var a=r(21071),o={};for(let e in a)0>["default","getEnvWithoutDefaults","getEnv"].indexOf(e)&&(o[e]=()=>a[e]);r.d(t,o);var l=r(73248),o={};for(let e in l)0>["default","getEnvWithoutDefaults","getEnv"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);var u=r(5301),o={};for(let e in u)0>["default","getEnvWithoutDefaults","getEnv"].indexOf(e)&&(o[e]=()=>u[e]);r.d(t,o);var c=r(78844),o={};for(let e in c)0>["default","getEnvWithoutDefaults","getEnv"].indexOf(e)&&(o[e]=()=>c[e]);r.d(t,o)},73248:(e,t,r)=>{"use strict";r.r(t),r.d(t,{otperformance:()=>n});var n=r(4074).performance},5301:(e,t,r)=>{"use strict";r.r(t),r.d(t,{SDK_INFO:()=>s});var n,i=r(53008),o=r(67028),s=((n={})[o.SEMRESATTRS_TELEMETRY_SDK_NAME]="opentelemetry",n[o.SEMRESATTRS_PROCESS_RUNTIME_NAME]="node",n[o.SEMRESATTRS_TELEMETRY_SDK_LANGUAGE]=o.TELEMETRYSDKLANGUAGEVALUES_NODEJS,n[o.SEMRESATTRS_TELEMETRY_SDK_VERSION]=i.VERSION,n)},78844:(e,t,r)=>{"use strict";function n(e){e.unref()}r.r(t),r.d(t,{unrefTimer:()=>n})},18549:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CompositePropagator:()=>o});var n=r(38626),i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=function(){function e(e){var t;void 0===e&&(e={}),this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map(function(e){return"function"==typeof e.fields?e.fields():[]}).reduce(function(e,t){return e.concat(t)},[])))}return e.prototype.inject=function(e,t,r){var o,s;try{for(var a=i(this._propagators),l=a.next();!l.done;l=a.next()){var u=l.value;try{u.inject(e,t,r)}catch(e){n.diag.warn("Failed to inject with "+u.constructor.name+". Err: "+e.message)}}}catch(e){o={error:e}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}},e.prototype.extract=function(e,t,r){return this._propagators.reduce(function(e,i){try{return i.extract(e,t,r)}catch(e){n.diag.warn("Failed to inject with "+i.constructor.name+". Err: "+e.message)}return e},e)},e.prototype.fields=function(){return this._fields.slice()},e}()},84714:(e,t,r)=>{"use strict";r.r(t)},876:(e,t,r)=>{"use strict";r.r(t),r.d(t,{TraceState:()=>l});var n=r(15276),i=32,o=512,s=",",a="=",l=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce(function(t,r){return t.push(r+a+e.get(r)),t},[]).join(s)},e.prototype._parse=function(e){!(e.length>o)&&(this._internalState=e.split(s).reverse().reduce(function(e,t){var r=t.trim(),i=r.indexOf(a);if(-1!==i){var o=r.slice(0,i),s=r.slice(i+1,t.length);(0,n.validateKey)(o)&&(0,n.validateValue)(s)&&e.set(o,s)}return e},new Map),this._internalState.size>i&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,i))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}()},27086:(e,t,r)=>{"use strict";r.r(t),r.d(t,{TRACE_PARENT_HEADER:()=>s,TRACE_STATE_HEADER:()=>a,W3CTraceContextPropagator:()=>d,parseTraceParent:()=>c});var n=r(38626),i=r(82369),o=r(876),s="traceparent",a="tracestate",l="00",u=RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function c(e){var t=u.exec(e);return!t||"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}var d=function(){function e(){}return e.prototype.inject=function(e,t,r){var o=n.trace.getSpanContext(e);if(!(!o||(0,i.isTracingSuppressed)(e))&&(0,n.isSpanContextValid)(o)){var u=l+"-"+o.traceId+"-"+o.spanId+"-0"+Number(o.traceFlags||n.TraceFlags.NONE).toString(16);r.set(t,s,u),o.traceState&&r.set(t,a,o.traceState.serialize())}},e.prototype.extract=function(e,t,r){var i=r.get(t,s);if(!i)return e;var l=Array.isArray(i)?i[0]:i;if("string"!=typeof l)return e;var u=c(l);if(!u)return e;u.isRemote=!0;var d=r.get(t,a);if(d){var h=Array.isArray(d)?d.join(","):d;u.traceState=new o.TraceState("string"==typeof h?h:void 0)}return n.trace.setSpanContext(e,u)},e.prototype.fields=function(){return[s,a]},e}()},73060:(e,t,r)=>{"use strict";r.r(t),r.d(t,{RPCType:()=>n,deleteRPCMetadata:()=>s,getRPCMetadata:()=>a,setRPCMetadata:()=>o});var n,i=(0,r(38626).createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA");function o(e,t){return e.setValue(i,t)}function s(e){return e.deleteValue(i)}function a(e){return e.getValue(i)}!function(e){e.HTTP="http"}(n||(n={}))},57286:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AlwaysOffSampler:()=>i});var n=r(38626),i=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:n.SamplingDecision.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}()},88156:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AlwaysOnSampler:()=>i});var n=r(38626),i=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:n.SamplingDecision.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}()},46146:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ParentBasedSampler:()=>a});var n=r(38626),i=r(32354),o=r(57286),s=r(88156),a=function(){function e(e){var t,r,n,a;this._root=e.root,this._root||((0,i.globalErrorHandler)(Error("ParentBasedSampler must have a root sampler configured")),this._root=new s.AlwaysOnSampler),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new s.AlwaysOnSampler,this._remoteParentNotSampled=null!==(r=e.remoteParentNotSampled)&&void 0!==r?r:new o.AlwaysOffSampler,this._localParentSampled=null!==(n=e.localParentSampled)&&void 0!==n?n:new s.AlwaysOnSampler,this._localParentNotSampled=null!==(a=e.localParentNotSampled)&&void 0!==a?a:new o.AlwaysOffSampler}return e.prototype.shouldSample=function(e,t,r,i,o,s){var a=n.trace.getSpanContext(e);return a&&(0,n.isSpanContextValid)(a)?a.isRemote?a.traceFlags&n.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,r,i,o,s):this._remoteParentNotSampled.shouldSample(e,t,r,i,o,s):a.traceFlags&n.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,r,i,o,s):this._localParentNotSampled.shouldSample(e,t,r,i,o,s):this._root.shouldSample(e,t,r,i,o,s)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}()},10306:(e,t,r)=>{"use strict";r.r(t),r.d(t,{TraceIdRatioBasedSampler:()=>i});var n=r(38626),i=function(){function e(e){void 0===e&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}return e.prototype.shouldSample=function(e,t){return{decision:(0,n.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?n.SamplingDecision.RECORD_AND_SAMPLED:n.SamplingDecision.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e},e.prototype._accumulate=function(e){for(var t=0,r=0;r<e.length/8;r++){var n=8*r;t=(t^parseInt(e.slice(n,n+8),16))>>>0}return t},e}()},82369:(e,t,r)=>{"use strict";r.r(t),r.d(t,{isTracingSuppressed:()=>s,suppressTracing:()=>i,unsuppressTracing:()=>o});var n=(0,r(38626).createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function i(e){return e.setValue(n,!0)}function o(e){return e.deleteValue(n)}function s(e){return!0===e.getValue(n)}},73810:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BindOnceFuture:()=>s});var n=r(54259),i=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},o=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},s=function(){function e(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new n.Deferred}return Object.defineProperty(e.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),e.prototype.call=function(){for(var e,t=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((e=this._callback).call.apply(e,o([this._that],i(r),!1))).then(function(e){return t._deferred.resolve(e)},function(e){return t._deferred.reject(e)})}catch(e){this._deferred.reject(e)}}return this._deferred.promise},e}()},89272:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>p,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>h,DEFAULT_ENVIRONMENT:()=>g,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:()=>f,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:()=>m,parseEnvironment:()=>_});var n=r(38626),i=r(35364),o=",",s=["OTEL_SDK_DISABLED"];function a(e){return s.indexOf(e)>-1}var l=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function u(e){return l.indexOf(e)>-1}var c=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function d(e){return c.indexOf(e)>-1}var h=1/0,p=128,f=128,m=128,g={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:n.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:h,OTEL_ATTRIBUTE_COUNT_LIMIT:p,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:h,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:p,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:h,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:p,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:f,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:m,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:i.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function y(e,t,r){if(void 0!==r[e]){var n=String(r[e]);t[e]="true"===n.toLowerCase()}}function v(e,t,r,n,i){if(void 0===n&&(n=-1/0),void 0===i&&(i=1/0),void 0!==r[e]){var o=Number(r[e]);isNaN(o)||(o<n?t[e]=n:o>i?t[e]=i:t[e]=o)}}function b(e,t,r,n){void 0===n&&(n=o);var i=r[e];"string"==typeof i&&(t[e]=i.split(n).map(function(e){return e.trim()}))}var E={ALL:n.DiagLogLevel.ALL,VERBOSE:n.DiagLogLevel.VERBOSE,DEBUG:n.DiagLogLevel.DEBUG,INFO:n.DiagLogLevel.INFO,WARN:n.DiagLogLevel.WARN,ERROR:n.DiagLogLevel.ERROR,NONE:n.DiagLogLevel.NONE};function S(e,t,r){var n=r[e];if("string"==typeof n){var i=E[n.toUpperCase()];null!=i&&(t[e]=i)}}function _(e){var t={};for(var r in g){var n=r;if("OTEL_LOG_LEVEL"===n)S(n,t,e);else if(a(n))y(n,t,e);else if(u(n))v(n,t,e);else if(d(n))b(n,t,e);else{var i=e[n];null!=i&&(t[n]=String(i))}}return t}},44272:(e,t,r)=>{"use strict";r.d(t,{isPlainObject:()=>f});var n="[object Object]",i="[object Null]",o="[object Undefined]",s=Function.prototype.toString,a=s.call(Object),l=p(Object.getPrototypeOf,Object),u=Object.prototype,c=u.hasOwnProperty,d=Symbol?Symbol.toStringTag:void 0,h=u.toString;function p(e,t){return function(r){return e(t(r))}}function f(e){if(!m(e)||g(e)!==n)return!1;var t=l(e);if(null===t)return!0;var r=c.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&s.call(r)===a}function m(e){return null!=e&&"object"==typeof e}function g(e){return null==e?void 0===e?o:i:d&&d in Object(e)?y(e):v(e)}function y(e){var t=c.call(e,d),r=e[d],n=!1;try{e[d]=void 0,n=!0}catch(e){}var i=h.call(e);return n&&(t?e[d]=r:delete e[d]),i}function v(e){return h.call(e)}},46926:(e,t,r)=>{"use strict";r.r(t),r.d(t,{merge:()=>o});var n=r(44272),i=20;function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e.shift(),n=new WeakMap;e.length>0;)r=a(r,e.shift(),0,n);return r}function s(e){return u(e)?e.slice():e}function a(e,t,r,n){if(void 0===r&&(r=0),!(r>i)){if(r++,h(e)||h(t)||c(t))o=s(t);else if(u(e)){if(o=e.slice(),u(t))for(var o,f=0,m=t.length;f<m;f++)o.push(s(t[f]));else if(d(t))for(var g=Object.keys(t),f=0,m=g.length;f<m;f++){var y=g[f];o[y]=s(t[y])}}else if(d(e)){if(d(t)){if(!p(e,t))return t;o=Object.assign({},e);for(var g=Object.keys(t),f=0,m=g.length;f<m;f++){var y=g[f],v=t[y];if(h(v))void 0===v?delete o[y]:o[y]=v;else{var b=o[y],E=v;if(l(e,y,n)||l(t,y,n))delete o[y];else{if(d(b)&&d(E)){var S=n.get(b)||[],_=n.get(E)||[];S.push({obj:e,key:y}),_.push({obj:t,key:y}),n.set(b,S),n.set(E,_)}o[y]=a(o[y],v,r,n)}}}}else o=t}return o}}function l(e,t,r){for(var n=r.get(e[t])||[],i=0,o=n.length;i<o;i++){var s=n[i];if(s.key===t&&s.obj===e)return!0}return!1}function u(e){return Array.isArray(e)}function c(e){return"function"==typeof e}function d(e){return!h(e)&&!u(e)&&!c(e)&&"object"==typeof e}function h(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}function p(e,t){return!!((0,n.isPlainObject)(e)&&(0,n.isPlainObject)(t))}},54259:(e,t,r)=>{"use strict";r.d(t,{Deferred:()=>n});var n=function(){function e(){var e=this;this._promise=new Promise(function(t,r){e._resolve=t,e._reject=r})}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.resolve=function(e){this._resolve(e)},e.prototype.reject=function(e){this._reject(e)},e}()},35364:(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{TracesSamplerValues:()=>n}),function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"}(n||(n={}))},72998:(e,t,r)=>{"use strict";r.r(t),r.d(t,{TimeoutError:()=>i,callWithTimeout:()=>o});var n=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return n(t,e),t}(Error);function o(e,t){var r;return Promise.race([e,new Promise(function(e,n){r=setTimeout(function(){n(new i("Operation timed out."))},t)})]).then(function(e){return clearTimeout(r),e},function(e){throw clearTimeout(r),e})}},41770:(e,t,r)=>{"use strict";r.r(t),r.d(t,{isUrlIgnored:()=>o,urlMatches:()=>i});var n=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function i(e,t){return"string"==typeof t?e===t:!!e.match(t)}function o(e,t){var r,o;if(!t)return!1;try{for(var s=n(t),a=s.next();!a.done;a=s.next()){var l=a.value;if(i(e,l))return!0}}catch(e){r={error:e}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return!1}},42934:(e,t,r)=>{"use strict";function n(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}r.r(t),r.d(t,{isWrapped:()=>n})},53008:(e,t,r)=>{"use strict";r.r(t),r.d(t,{VERSION:()=>n});var n="1.25.1"},21938:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JaegerExporter=void 0;var n=r(68917);Object.defineProperty(t,"JaegerExporter",{enumerable:!0,get:function(){return n.JaegerExporter}})},68917:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JaegerExporter=void 0;let n=r(38626),i=r(81855),o=r(71891),s=r(20346),a=r(32540),l=r(31470);class u{constructor(e){let t=Object.assign({},e);this._onShutdownFlushTimeout="number"==typeof t.flushTimeout?t.flushTimeout:2e3;let r=(0,i.getEnv)();t.endpoint=t.endpoint||r.OTEL_EXPORTER_JAEGER_ENDPOINT,t.username=t.username||r.OTEL_EXPORTER_JAEGER_USER,t.password=t.password||r.OTEL_EXPORTER_JAEGER_PASSWORD,t.host=t.host||r.OTEL_EXPORTER_JAEGER_AGENT_HOST,t.port=t.port||r.OTEL_EXPORTER_JAEGER_AGENT_PORT,this._localConfig=t,this._shutdownOnce=new i.BindOnceFuture(this._shutdown,this)}export(e,t){if(!this._shutdownOnce.isCalled){if(0===e.length)return t({code:i.ExportResultCode.SUCCESS});n.diag.debug("Jaeger exporter export"),this._sendSpans(e,t).catch(e=>t({code:i.ExportResultCode.FAILED,error:e}))}}shutdown(){return this._shutdownOnce.call()}forceFlush(){return this._flush()}_shutdown(){return Promise.race([new Promise((e,t)=>{setTimeout(()=>t(Error("Flush timeout")),this._onShutdownFlushTimeout)}),this._flush()]).finally(()=>{var e;null===(e=this._sender)||void 0===e||e.close()})}async _sendSpans(e,t){let r=e.map(e=>(0,a.spanToThrift)(e));for(let e of r)try{await this._append(e)}catch(e){if(t)return t({code:i.ExportResultCode.FAILED,error:e})}if(n.diag.debug(`successful append for : ${r.length}`),await this._flush(),t)return process.nextTick(t,{code:i.ExportResultCode.SUCCESS})}async _append(e){return new Promise((t,r)=>{this._getSender(e).append(e,(e,n)=>{if(n)return r(Error(n));t(e)})})}_getSender(e){if(this._sender)return this._sender;let t=this._localConfig.endpoint?new l.HTTPSender(this._localConfig):new l.UDPSender(this._localConfig);t._client instanceof o.Socket&&t._client.unref();let r=e.tags.find(e=>e.key===s.SEMRESATTRS_SERVICE_NAME),n=(null==r?void 0:r.vStr)||"unknown_service";return t.setProcess({serviceName:n,tags:l.ThriftUtils.getThriftTags(this._localConfig.tags||[])}),this._sender=t,t}async _flush(){await new Promise((e,t)=>{if(!this._sender)return e();this._sender.flush((r,i)=>{if(i)return t(Error(i));n.diag.debug(`successful flush for ${r} spans`),e()})})}}t.JaegerExporter=u},32540:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spanToThrift=void 0;let n=r(38626),i=r(81855),o=r(31470),s=1;function a(e){let t=e.spanContext().traceId.padStart(32,"0"),r=t.slice(0,16),a=t.slice(16),c=e.parentSpanId?o.Utils.encodeInt64(e.parentSpanId):o.ThriftUtils.emptyBuffer,d=Object.keys(e.attributes).map(t=>({key:t,value:u(e.attributes[t])}));e.status.code!==n.SpanStatusCode.UNSET&&(d.push({key:"otel.status_code",value:n.SpanStatusCode[e.status.code]}),e.status.message&&d.push({key:"otel.status_description",value:e.status.message})),e.status.code===n.SpanStatusCode.ERROR&&d.push({key:"error",value:!0}),void 0!==e.kind&&e.kind!==n.SpanKind.INTERNAL&&d.push({key:"span.kind",value:n.SpanKind[e.kind].toLowerCase()}),Object.keys(e.resource.attributes).forEach(t=>d.push({key:t,value:u(e.resource.attributes[t])})),e.instrumentationLibrary&&(d.push({key:"otel.library.name",value:u(e.instrumentationLibrary.name)}),d.push({key:"otel.library.version",value:u(e.instrumentationLibrary.version)})),e.droppedAttributesCount&&d.push({key:"otel.dropped_attributes_count",value:u(e.droppedAttributesCount)}),e.droppedEventsCount&&d.push({key:"otel.dropped_events_count",value:u(e.droppedEventsCount)}),e.droppedLinksCount&&d.push({key:"otel.dropped_links_count",value:u(e.droppedLinksCount)});let h=o.ThriftUtils.getThriftTags(d),p=e.events.map(e=>{let t=[{key:"event",value:e.name}],r=e.attributes;return r&&Object.keys(r).forEach(e=>t.push({key:e,value:u(r[e])})),e.droppedAttributesCount&&t.push({key:"otel.event.dropped_attributes_count",value:e.droppedAttributesCount}),{timestamp:(0,i.hrTimeToMilliseconds)(e.time),fields:t}}),f=o.ThriftUtils.getThriftLogs(p);return{traceIdLow:o.Utils.encodeInt64(a),traceIdHigh:o.Utils.encodeInt64(r),spanId:o.Utils.encodeInt64(e.spanContext().spanId),parentSpanId:c,operationName:e.name,references:l(e.links),flags:e.spanContext().traceFlags||s,startTime:o.Utils.encodeInt64((0,i.hrTimeToMicroseconds)(e.startTime)),duration:o.Utils.encodeInt64((0,i.hrTimeToMicroseconds)(e.duration)),tags:h,logs:f}}function l(e){return e.map(e=>{let t=o.ThriftReferenceType.FOLLOWS_FROM,r=e.context.traceId,n=o.Utils.encodeInt64(r.slice(0,16));return{traceIdLow:o.Utils.encodeInt64(r.slice(16)),traceIdHigh:n,spanId:o.Utils.encodeInt64(e.context.spanId),refType:t}})}function u(e){let t=typeof e;return"boolean"===t?e:"number"===t?e:String(e)}t.spanToThrift=a},31470:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ThriftReferenceType=t.HTTPSender=t.ThriftUtils=t.Utils=t.UDPSender=void 0,t.UDPSender=r(71650).default,t.Utils=r(20012).default,t.ThriftUtils=r(39380).default,t.HTTPSender=r(44147).default,function(e){e.CHILD_OF="CHILD_OF",e.FOLLOWS_FROM="FOLLOWS_FROM"}(n=t.ThriftReferenceType||(t.ThriftReferenceType={}))},25338:(e,t,r)=>{"use strict";var n;r.d(t,{ExportResultCode:()=>n}),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"}(n||(n={}))},28354:(e,t,r)=>{"use strict";r.d(t,{BAGGAGE_HEADER:()=>s,BAGGAGE_ITEMS_SEPARATOR:()=>o,BAGGAGE_KEY_PAIR_SEPARATOR:()=>n,BAGGAGE_MAX_NAME_VALUE_PAIRS:()=>a,BAGGAGE_MAX_PER_NAME_VALUE_PAIRS:()=>l,BAGGAGE_MAX_TOTAL_LENGTH:()=>u,BAGGAGE_PROPERTIES_SEPARATOR:()=>i});var n="=",i=";",o=",",s="baggage",a=180,l=4096,u=8192},35956:(e,t,r)=>{"use strict";r.d(t,{W3CBaggagePropagator:()=>a});var n=r(38626),i=r(80461),o=r(28354),s=r(35101),a=function(){function e(){}return e.prototype.inject=function(e,t,r){var a=n.propagation.getBaggage(e);if(!(!a||(0,i.isTracingSuppressed)(e))){var l=(0,s.getKeyPairs)(a).filter(function(e){return e.length<=o.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS}).slice(0,o.BAGGAGE_MAX_NAME_VALUE_PAIRS),u=(0,s.serializeKeyPairs)(l);u.length>0&&r.set(t,o.BAGGAGE_HEADER,u)}},e.prototype.extract=function(e,t,r){var i=r.get(t,o.BAGGAGE_HEADER),a=Array.isArray(i)?i.join(o.BAGGAGE_ITEMS_SEPARATOR):i;if(!a)return e;var l={};return 0===a.length?e:(a.split(o.BAGGAGE_ITEMS_SEPARATOR).forEach(function(e){var t=(0,s.parsePairKeyValue)(e);if(t){var r={value:t.value};t.metadata&&(r.metadata=t.metadata),l[t.key]=r}}),0===Object.entries(l).length)?e:n.propagation.setBaggage(e,n.propagation.createBaggage(l))},e.prototype.fields=function(){return[o.BAGGAGE_HEADER]},e}()},35101:(e,t,r)=>{"use strict";r.d(t,{getKeyPairs:()=>a,parseKeyPairsIntoRecord:()=>u,parsePairKeyValue:()=>l,serializeKeyPairs:()=>s});var n=r(38626),i=r(28354),o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};function s(e){return e.reduce(function(e,t){var r=""+e+(""!==e?i.BAGGAGE_ITEMS_SEPARATOR:"")+t;return r.length>i.BAGGAGE_MAX_TOTAL_LENGTH?e:r},"")}function a(e){return e.getAllEntries().map(function(e){var t=o(e,2),r=t[0],n=t[1],s=encodeURIComponent(r)+"="+encodeURIComponent(n.value);return void 0!==n.metadata&&(s+=i.BAGGAGE_PROPERTIES_SEPARATOR+n.metadata.toString()),s})}function l(e){var t,r=e.split(i.BAGGAGE_PROPERTIES_SEPARATOR);if(!(r.length<=0)){var o=r.shift();if(o){var s=o.indexOf(i.BAGGAGE_KEY_PAIR_SEPARATOR);if(!(s<=0)){var a=decodeURIComponent(o.substring(0,s).trim()),l=decodeURIComponent(o.substring(s+1).trim());return r.length>0&&(t=(0,n.baggageEntryMetadataFromString)(r.join(i.BAGGAGE_PROPERTIES_SEPARATOR))),{key:a,value:l,metadata:t}}}}}function u(e){return"string"!=typeof e||0===e.length?{}:e.split(i.BAGGAGE_ITEMS_SEPARATOR).map(function(e){return l(e)}).filter(function(e){return void 0!==e&&e.value.length>0}).reduce(function(e,t){return e[t.key]=t.value,e},{})}},20380:(e,t,r)=>{"use strict";r.d(t,{AnchoredClock:()=>n});var n=function(){function e(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}return e.prototype.now=function(){var e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e},e}()},6898:(e,t,r)=>{"use strict";r.d(t,{isAttributeKey:()=>a,isAttributeValue:()=>l,sanitizeAttributes:()=>s});var n=r(38626),i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};function s(e){var t,r,s={};if("object"!=typeof e||null==e)return s;try{for(var u=i(Object.entries(e)),c=u.next();!c.done;c=u.next()){var d=o(c.value,2),h=d[0],p=d[1];if(!a(h)){n.diag.warn("Invalid attribute key: "+h);continue}if(!l(p)){n.diag.warn("Invalid attribute value set for key: "+h);continue}Array.isArray(p)?s[h]=p.slice():s[h]=p}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return s}function a(e){return"string"==typeof e&&e.length>0}function l(e){return null==e||(Array.isArray(e)?u(e):c(e))}function u(e){try{for(var t,r,n,o=i(e),s=o.next();!s.done;s=o.next()){var a=s.value;if(null!=a){if(!n){if(c(a)){n=typeof a;continue}return!1}if(typeof a===n)continue;return!1}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return!0}function c(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}},11821:(e,t,r)=>{"use strict";r.d(t,{globalErrorHandler:()=>o,setGlobalErrorHandler:()=>i});var n=(0,r(15541).loggingErrorHandler)();function i(e){n=e}function o(e){try{n(e)}catch(e){}}},38595:(e,t,r)=>{"use strict";function n(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}function i(e){for(var t=new Uint8Array(e.length/2),r=0,i=0;i<e.length;i+=2){var o=n(e.charCodeAt(i)),s=n(e.charCodeAt(i+1));t[r++]=o<<4|s}return t}r.d(t,{hexToBinary:()=>i})},15541:(e,t,r)=>{"use strict";r.d(t,{loggingErrorHandler:()=>i});var n=r(38626);function i(){return function(e){n.diag.error(o(e))}}function o(e){return"string"==typeof e?e:JSON.stringify(s(e))}function s(e){for(var t={},r=e;null!==r;)Object.getOwnPropertyNames(r).forEach(function(e){if(!t[e]){var n=r[e];n&&(t[e]=String(n))}}),r=Object.getPrototypeOf(r);return t}},13478:(e,t,r)=>{"use strict";r.d(t,{addHrTimes:()=>v,getTimeOrigin:()=>l,hrTime:()=>u,hrTimeDuration:()=>d,hrTimeToMicroseconds:()=>m,hrTimeToMilliseconds:()=>f,hrTimeToNanoseconds:()=>p,hrTimeToTimeStamp:()=>h,isTimeInput:()=>y,isTimeInputHrTime:()=>g,millisToHrTime:()=>a,timeInputToHrTime:()=>c});var n=r(89178),i=9,o=1e6,s=1e9;function a(e){return[Math.trunc(e/1e3),Math.round(e%1e3*o)]}function l(){var e=n.otperformance.timeOrigin;if("number"!=typeof e){var t=n.otperformance;e=t.timing&&t.timing.fetchStart}return e}function u(e){return v(a(l()),a("number"==typeof e?e:n.otperformance.now()))}function c(e){if(g(e))return e;if("number"==typeof e)return e<l()?u(e):a(e);if(e instanceof Date)return a(e.getTime());throw TypeError("Invalid input type")}function d(e,t){var r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=s),[r,n]}function h(e){var t=i,r=""+"0".repeat(t)+e[1]+"Z",n=r.substring(r.length-t-1);return new Date(1e3*e[0]).toISOString().replace("000Z",n)}function p(e){return e[0]*s+e[1]}function f(e){return 1e3*e[0]+e[1]/1e6}function m(e){return 1e6*e[0]+e[1]/1e3}function g(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function y(e){return g(e)||"number"==typeof e||e instanceof Date}function v(e,t){var r=[e[0]+t[0],e[1]+t[1]];return r[1]>=s&&(r[1]-=s,r[0]+=1),r}},81855:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AlwaysOffSampler:()=>g.AlwaysOffSampler,AlwaysOnSampler:()=>y.AlwaysOnSampler,AnchoredClock:()=>i.AnchoredClock,BindOnceFuture:()=>R.BindOnceFuture,CompositePropagator:()=>p.CompositePropagator,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>_.DEFAULT_ATTRIBUTE_COUNT_LIMIT,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>_.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,DEFAULT_ENVIRONMENT:()=>_.DEFAULT_ENVIRONMENT,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:()=>_.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:()=>_.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT,ExportResultCode:()=>c.ExportResultCode,ParentBasedSampler:()=>v.ParentBasedSampler,RPCType:()=>m.RPCType,RandomIdGenerator:()=>h.RandomIdGenerator,SDK_INFO:()=>h.SDK_INFO,TRACE_PARENT_HEADER:()=>f.TRACE_PARENT_HEADER,TRACE_STATE_HEADER:()=>f.TRACE_STATE_HEADER,TimeoutError:()=>C.TimeoutError,TraceIdRatioBasedSampler:()=>b.TraceIdRatioBasedSampler,TraceState:()=>S.TraceState,TracesSamplerValues:()=>A.TracesSamplerValues,VERSION:()=>x.VERSION,W3CBaggagePropagator:()=>n.W3CBaggagePropagator,W3CTraceContextPropagator:()=>f.W3CTraceContextPropagator,_globalThis:()=>h._globalThis,addHrTimes:()=>l.addHrTimes,baggageUtils:()=>D,callWithTimeout:()=>C.callWithTimeout,deleteRPCMetadata:()=>m.deleteRPCMetadata,getEnv:()=>h.getEnv,getEnvWithoutDefaults:()=>h.getEnvWithoutDefaults,getRPCMetadata:()=>m.getRPCMetadata,getTimeOrigin:()=>l.getTimeOrigin,globalErrorHandler:()=>s.globalErrorHandler,hexToBase64:()=>h.hexToBase64,hexToBinary:()=>u.hexToBinary,hrTime:()=>l.hrTime,hrTimeDuration:()=>l.hrTimeDuration,hrTimeToMicroseconds:()=>l.hrTimeToMicroseconds,hrTimeToMilliseconds:()=>l.hrTimeToMilliseconds,hrTimeToNanoseconds:()=>l.hrTimeToNanoseconds,hrTimeToTimeStamp:()=>l.hrTimeToTimeStamp,internal:()=>P,isAttributeKey:()=>o.isAttributeKey,isAttributeValue:()=>o.isAttributeValue,isTimeInput:()=>l.isTimeInput,isTimeInputHrTime:()=>l.isTimeInputHrTime,isTracingSuppressed:()=>E.isTracingSuppressed,isUrlIgnored:()=>w.isUrlIgnored,isWrapped:()=>O.isWrapped,loggingErrorHandler:()=>a.loggingErrorHandler,merge:()=>T.merge,millisToHrTime:()=>l.millisToHrTime,otperformance:()=>h.otperformance,parseEnvironment:()=>_.parseEnvironment,parseTraceParent:()=>f.parseTraceParent,sanitizeAttributes:()=>o.sanitizeAttributes,setGlobalErrorHandler:()=>s.setGlobalErrorHandler,setRPCMetadata:()=>m.setRPCMetadata,suppressTracing:()=>E.suppressTracing,timeInputToHrTime:()=>l.timeInputToHrTime,unrefTimer:()=>h.unrefTimer,unsuppressTracing:()=>E.unsuppressTracing,urlMatches:()=>w.urlMatches});var n=r(35956),i=r(20380),o=r(6898),s=r(11821),a=r(15541),l=r(13478),u=r(38595),c=r(25338),d=r(35101),h=r(89178),p=r(77656),f=r(14121),m=r(49913),g=r(13296),y=r(85065),v=r(76590),b=r(70909),E=r(80461),S=r(69838),_=r(58595),T=r(40406),A=r(32704),C=r(80238),w=r(97755),O=r(9741),R=r(60505),x=r(10319),I=r(21463),D={getKeyPairs:d.getKeyPairs,serializeKeyPairs:d.serializeKeyPairs,parseKeyPairsIntoRecord:d.parseKeyPairsIntoRecord,parsePairKeyValue:d.parsePairKeyValue},P={_export:I._export}},21463:(e,t,r)=>{"use strict";r.d(t,{_export:()=>o});var n=r(38626),i=r(80461);function o(e,t){return new Promise(function(r){n.context.with((0,i.suppressTracing)(n.context.active()),function(){e.export(t,function(e){r(e)})})})}},71962:(e,t,r)=>{"use strict";r.d(t,{validateKey:()=>a,validateValue:()=>l});var n="[_0-9a-z-*/]",i=RegExp("^(?:[a-z]"+n+"{0,255}|"+("[a-z0-9]"+n+"{0,240}@[a-z]")+n+"{0,13})$"),o=/^[ -~]{0,255}[!-~]$/,s=/,|=/;function a(e){return i.test(e)}function l(e){return o.test(e)&&!s.test(e)}},89178:(e,t,r)=>{"use strict";r.d(t,{RandomIdGenerator:()=>n.RandomIdGenerator,SDK_INFO:()=>n.SDK_INFO,_globalThis:()=>n._globalThis,getEnv:()=>n.getEnv,getEnvWithoutDefaults:()=>n.getEnvWithoutDefaults,hexToBase64:()=>n.hexToBase64,otperformance:()=>n.otperformance,unrefTimer:()=>n.unrefTimer});var n=r(49568)},85642:(e,t,r)=>{"use strict";r.d(t,{RandomIdGenerator:()=>o});var n=8,i=16,o=function(){return function(){this.generateTraceId=a(i),this.generateSpanId=a(n)}}(),s=Buffer.allocUnsafe(i);function a(e){return function(){for(var t=0;t<e/4;t++)s.writeUInt32BE(4294967296*Math.random()>>>0,4*t);for(var t=0;t<e&&!(s[t]>0);t++)t===e-1&&(s[e-1]=1);return s.toString("hex",0,e)}}},84789:(e,t,r)=>{"use strict";r.d(t,{getEnv:()=>i,getEnvWithoutDefaults:()=>o});var n=r(58595);function i(){var e=(0,n.parseEnvironment)(process.env);return Object.assign({},n.DEFAULT_ENVIRONMENT,e)}function o(){return(0,n.parseEnvironment)(process.env)}},15015:(e,t,r)=>{"use strict";r.d(t,{_globalThis:()=>n});var n="object"==typeof globalThis?globalThis:global},71665:(e,t,r)=>{"use strict";r.d(t,{hexToBase64:()=>i});var n=r(38595);function i(e){return Buffer.from((0,n.hexToBinary)(e)).toString("base64")}},49568:(e,t,r)=>{"use strict";r.d(t,{RandomIdGenerator:()=>s.RandomIdGenerator,SDK_INFO:()=>l.SDK_INFO,_globalThis:()=>i._globalThis,getEnv:()=>n.getEnv,getEnvWithoutDefaults:()=>n.getEnvWithoutDefaults,hexToBase64:()=>o.hexToBase64,otperformance:()=>a.otperformance,unrefTimer:()=>u.unrefTimer});var n=r(84789),i=r(15015),o=r(71665),s=r(85642),a=r(13981),l=r(98766),u=r(68259)},13981:(e,t,r)=>{"use strict";r.d(t,{otperformance:()=>n});var n=r(4074).performance},98766:(e,t,r)=>{"use strict";r.d(t,{SDK_INFO:()=>s});var n,i=r(10319),o=r(20346),s=((n={})[o.SEMRESATTRS_TELEMETRY_SDK_NAME]="opentelemetry",n[o.SEMRESATTRS_PROCESS_RUNTIME_NAME]="node",n[o.SEMRESATTRS_TELEMETRY_SDK_LANGUAGE]=o.TELEMETRYSDKLANGUAGEVALUES_NODEJS,n[o.SEMRESATTRS_TELEMETRY_SDK_VERSION]=i.VERSION,n)},68259:(e,t,r)=>{"use strict";function n(e){e.unref()}r.d(t,{unrefTimer:()=>n})},77656:(e,t,r)=>{"use strict";r.d(t,{CompositePropagator:()=>o});var n=r(38626),i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=function(){function e(e){var t;void 0===e&&(e={}),this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map(function(e){return"function"==typeof e.fields?e.fields():[]}).reduce(function(e,t){return e.concat(t)},[])))}return e.prototype.inject=function(e,t,r){var o,s;try{for(var a=i(this._propagators),l=a.next();!l.done;l=a.next()){var u=l.value;try{u.inject(e,t,r)}catch(e){n.diag.warn("Failed to inject with "+u.constructor.name+". Err: "+e.message)}}}catch(e){o={error:e}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}},e.prototype.extract=function(e,t,r){return this._propagators.reduce(function(e,i){try{return i.extract(e,t,r)}catch(e){n.diag.warn("Failed to extract with "+i.constructor.name+". Err: "+e.message)}return e},e)},e.prototype.fields=function(){return this._fields.slice()},e}()},69838:(e,t,r)=>{"use strict";r.d(t,{TraceState:()=>l});var n=r(71962),i=32,o=512,s=",",a="=",l=function(){function e(e){this._internalState=new Map,e&&this._parse(e)}return e.prototype.set=function(e,t){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r},e.prototype.unset=function(e){var t=this._clone();return t._internalState.delete(e),t},e.prototype.get=function(e){return this._internalState.get(e)},e.prototype.serialize=function(){var e=this;return this._keys().reduce(function(t,r){return t.push(r+a+e.get(r)),t},[]).join(s)},e.prototype._parse=function(e){!(e.length>o)&&(this._internalState=e.split(s).reverse().reduce(function(e,t){var r=t.trim(),i=r.indexOf(a);if(-1!==i){var o=r.slice(0,i),s=r.slice(i+1,t.length);(0,n.validateKey)(o)&&(0,n.validateValue)(s)&&e.set(o,s)}return e},new Map),this._internalState.size>i&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,i))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}()},14121:(e,t,r)=>{"use strict";r.d(t,{TRACE_PARENT_HEADER:()=>s,TRACE_STATE_HEADER:()=>a,W3CTraceContextPropagator:()=>d,parseTraceParent:()=>c});var n=r(38626),i=r(80461),o=r(69838),s="traceparent",a="tracestate",l="00",u=RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function c(e){var t=u.exec(e);return!t||"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}var d=function(){function e(){}return e.prototype.inject=function(e,t,r){var o=n.trace.getSpanContext(e);if(!(!o||(0,i.isTracingSuppressed)(e))&&(0,n.isSpanContextValid)(o)){var u=l+"-"+o.traceId+"-"+o.spanId+"-0"+Number(o.traceFlags||n.TraceFlags.NONE).toString(16);r.set(t,s,u),o.traceState&&r.set(t,a,o.traceState.serialize())}},e.prototype.extract=function(e,t,r){var i=r.get(t,s);if(!i)return e;var l=Array.isArray(i)?i[0]:i;if("string"!=typeof l)return e;var u=c(l);if(!u)return e;u.isRemote=!0;var d=r.get(t,a);if(d){var h=Array.isArray(d)?d.join(","):d;u.traceState=new o.TraceState("string"==typeof h?h:void 0)}return n.trace.setSpanContext(e,u)},e.prototype.fields=function(){return[s,a]},e}()},49913:(e,t,r)=>{"use strict";r.d(t,{RPCType:()=>n,deleteRPCMetadata:()=>s,getRPCMetadata:()=>a,setRPCMetadata:()=>o});var n,i=(0,r(38626).createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA");function o(e,t){return e.setValue(i,t)}function s(e){return e.deleteValue(i)}function a(e){return e.getValue(i)}!function(e){e.HTTP="http"}(n||(n={}))},13296:(e,t,r)=>{"use strict";r.d(t,{AlwaysOffSampler:()=>i});var n=r(38626),i=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:n.SamplingDecision.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}()},85065:(e,t,r)=>{"use strict";r.d(t,{AlwaysOnSampler:()=>i});var n=r(38626),i=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:n.SamplingDecision.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}()},76590:(e,t,r)=>{"use strict";r.d(t,{ParentBasedSampler:()=>a});var n=r(38626),i=r(11821),o=r(13296),s=r(85065),a=function(){function e(e){var t,r,n,a;this._root=e.root,this._root||((0,i.globalErrorHandler)(Error("ParentBasedSampler must have a root sampler configured")),this._root=new s.AlwaysOnSampler),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new s.AlwaysOnSampler,this._remoteParentNotSampled=null!==(r=e.remoteParentNotSampled)&&void 0!==r?r:new o.AlwaysOffSampler,this._localParentSampled=null!==(n=e.localParentSampled)&&void 0!==n?n:new s.AlwaysOnSampler,this._localParentNotSampled=null!==(a=e.localParentNotSampled)&&void 0!==a?a:new o.AlwaysOffSampler}return e.prototype.shouldSample=function(e,t,r,i,o,s){var a=n.trace.getSpanContext(e);return a&&(0,n.isSpanContextValid)(a)?a.isRemote?a.traceFlags&n.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,r,i,o,s):this._remoteParentNotSampled.shouldSample(e,t,r,i,o,s):a.traceFlags&n.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,r,i,o,s):this._localParentNotSampled.shouldSample(e,t,r,i,o,s):this._root.shouldSample(e,t,r,i,o,s)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}()},70909:(e,t,r)=>{"use strict";r.d(t,{TraceIdRatioBasedSampler:()=>i});var n=r(38626),i=function(){function e(e){void 0===e&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}return e.prototype.shouldSample=function(e,t){return{decision:(0,n.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?n.SamplingDecision.RECORD_AND_SAMPLED:n.SamplingDecision.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e},e.prototype._accumulate=function(e){for(var t=0,r=0;r<e.length/8;r++){var n=8*r;t=(t^parseInt(e.slice(n,n+8),16))>>>0}return t},e}()},80461:(e,t,r)=>{"use strict";r.d(t,{isTracingSuppressed:()=>s,suppressTracing:()=>i,unsuppressTracing:()=>o});var n=(0,r(38626).createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function i(e){return e.setValue(n,!0)}function o(e){return e.deleteValue(n)}function s(e){return!0===e.getValue(n)}},60505:(e,t,r)=>{"use strict";r.d(t,{BindOnceFuture:()=>s});var n=r(98917),i=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},o=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},s=function(){function e(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new n.Deferred}return Object.defineProperty(e.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),e.prototype.call=function(){for(var e,t=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((e=this._callback).call.apply(e,o([this._that],i(r),!1))).then(function(e){return t._deferred.resolve(e)},function(e){return t._deferred.reject(e)})}catch(e){this._deferred.reject(e)}}return this._deferred.promise},e}()},58595:(e,t,r)=>{"use strict";r.d(t,{DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>p,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>h,DEFAULT_ENVIRONMENT:()=>g,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:()=>f,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:()=>m,parseEnvironment:()=>_});var n=r(38626),i=r(32704),o=",",s=["OTEL_SDK_DISABLED"];function a(e){return s.indexOf(e)>-1}var l=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function u(e){return l.indexOf(e)>-1}var c=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS","OTEL_SEMCONV_STABILITY_OPT_IN"];function d(e){return c.indexOf(e)>-1}var h=1/0,p=128,f=128,m=128,g={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:n.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:h,OTEL_ATTRIBUTE_COUNT_LIMIT:p,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:h,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:p,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:h,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:p,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:f,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:m,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:i.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative",OTEL_SEMCONV_STABILITY_OPT_IN:[]};function y(e,t,r){if(void 0!==r[e]){var n=String(r[e]);t[e]="true"===n.toLowerCase()}}function v(e,t,r,n,i){if(void 0===n&&(n=-1/0),void 0===i&&(i=1/0),void 0!==r[e]){var o=Number(r[e]);isNaN(o)||(o<n?t[e]=n:o>i?t[e]=i:t[e]=o)}}function b(e,t,r,n){void 0===n&&(n=o);var i=r[e];"string"==typeof i&&(t[e]=i.split(n).map(function(e){return e.trim()}))}var E={ALL:n.DiagLogLevel.ALL,VERBOSE:n.DiagLogLevel.VERBOSE,DEBUG:n.DiagLogLevel.DEBUG,INFO:n.DiagLogLevel.INFO,WARN:n.DiagLogLevel.WARN,ERROR:n.DiagLogLevel.ERROR,NONE:n.DiagLogLevel.NONE};function S(e,t,r){var n=r[e];if("string"==typeof n){var i=E[n.toUpperCase()];null!=i&&(t[e]=i)}}function _(e){var t={};for(var r in g){var n=r;if("OTEL_LOG_LEVEL"===n)S(n,t,e);else if(a(n))y(n,t,e);else if(u(n))v(n,t,e);else if(d(n))b(n,t,e);else{var i=e[n];null!=i&&(t[n]=String(i))}}return t}},90208:(e,t,r)=>{"use strict";r.d(t,{isPlainObject:()=>f});var n="[object Object]",i="[object Null]",o="[object Undefined]",s=Function.prototype.toString,a=s.call(Object),l=p(Object.getPrototypeOf,Object),u=Object.prototype,c=u.hasOwnProperty,d=Symbol?Symbol.toStringTag:void 0,h=u.toString;function p(e,t){return function(r){return e(t(r))}}function f(e){if(!m(e)||g(e)!==n)return!1;var t=l(e);if(null===t)return!0;var r=c.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&s.call(r)===a}function m(e){return null!=e&&"object"==typeof e}function g(e){return null==e?void 0===e?o:i:d&&d in Object(e)?y(e):v(e)}function y(e){var t=c.call(e,d),r=e[d],n=!1;try{e[d]=void 0,n=!0}catch(e){}var i=h.call(e);return n&&(t?e[d]=r:delete e[d]),i}function v(e){return h.call(e)}},40406:(e,t,r)=>{"use strict";r.d(t,{merge:()=>o});var n=r(90208),i=20;function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e.shift(),n=new WeakMap;e.length>0;)r=a(r,e.shift(),0,n);return r}function s(e){return u(e)?e.slice():e}function a(e,t,r,n){if(void 0===r&&(r=0),!(r>i)){if(r++,h(e)||h(t)||c(t))o=s(t);else if(u(e)){if(o=e.slice(),u(t))for(var o,f=0,m=t.length;f<m;f++)o.push(s(t[f]));else if(d(t))for(var g=Object.keys(t),f=0,m=g.length;f<m;f++){var y=g[f];o[y]=s(t[y])}}else if(d(e)){if(d(t)){if(!p(e,t))return t;o=Object.assign({},e);for(var g=Object.keys(t),f=0,m=g.length;f<m;f++){var y=g[f],v=t[y];if(h(v))void 0===v?delete o[y]:o[y]=v;else{var b=o[y],E=v;if(l(e,y,n)||l(t,y,n))delete o[y];else{if(d(b)&&d(E)){var S=n.get(b)||[],_=n.get(E)||[];S.push({obj:e,key:y}),_.push({obj:t,key:y}),n.set(b,S),n.set(E,_)}o[y]=a(o[y],v,r,n)}}}}else o=t}return o}}function l(e,t,r){for(var n=r.get(e[t])||[],i=0,o=n.length;i<o;i++){var s=n[i];if(s.key===t&&s.obj===e)return!0}return!1}function u(e){return Array.isArray(e)}function c(e){return"function"==typeof e}function d(e){return!h(e)&&!u(e)&&!c(e)&&"object"==typeof e}function h(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}function p(e,t){return!!((0,n.isPlainObject)(e)&&(0,n.isPlainObject)(t))}},98917:(e,t,r)=>{"use strict";r.d(t,{Deferred:()=>n});var n=function(){function e(){var e=this;this._promise=new Promise(function(t,r){e._resolve=t,e._reject=r})}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.resolve=function(e){this._resolve(e)},e.prototype.reject=function(e){this._reject(e)},e}()},32704:(e,t,r)=>{"use strict";var n;r.d(t,{TracesSamplerValues:()=>n}),function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"}(n||(n={}))},80238:(e,t,r)=>{"use strict";r.d(t,{TimeoutError:()=>i,callWithTimeout:()=>o});var n=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return n(t,e),t}(Error);function o(e,t){var r;return Promise.race([e,new Promise(function(e,n){r=setTimeout(function(){n(new i("Operation timed out."))},t)})]).then(function(e){return clearTimeout(r),e},function(e){throw clearTimeout(r),e})}},97755:(e,t,r)=>{"use strict";r.d(t,{isUrlIgnored:()=>o,urlMatches:()=>i});var n=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function i(e,t){return"string"==typeof t?e===t:!!e.match(t)}function o(e,t){var r,o;if(!t)return!1;try{for(var s=n(t),a=s.next();!a.done;a=s.next()){var l=a.value;if(i(e,l))return!0}}catch(e){r={error:e}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return!1}},9741:(e,t,r)=>{"use strict";function n(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}r.d(t,{isWrapped:()=>n})},10319:(e,t,r)=>{"use strict";r.d(t,{VERSION:()=>n});var n="1.30.1"},20346:(e,t,r)=>{"use strict";r.r(t);var n=r(25706),i={};for(let e in n)"default"!==e&&(i[e]=()=>n[e]);r.d(t,i);var o=r(6307),i={};for(let e in o)"default"!==e&&(i[e]=()=>o[e]);r.d(t,i);var s=r(75141),i={};for(let e in s)"default"!==e&&(i[e]=()=>s[e]);r.d(t,i);var a=r(83596),i={};for(let e in a)"default"!==e&&(i[e]=()=>a[e]);r.d(t,i)},31615:(e,t,r)=>{"use strict";function n(e){for(var t={},r=e.length,n=0;n<r;n++){var i=e[n];i&&(t[String(i).toUpperCase().replace(/[-.]/g,"_")]=i)}return t}r.d(t,{createConstMap:()=>n})},61608:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AWSECSLAUNCHTYPEVALUES_EC2:()=>rD,AWSECSLAUNCHTYPEVALUES_FARGATE:()=>rP,AwsEcsLaunchtypeValues:()=>rN,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS:()=>rd,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC:()=>rh,CLOUDPLATFORMVALUES_AWS_EC2:()=>rp,CLOUDPLATFORMVALUES_AWS_ECS:()=>rf,CLOUDPLATFORMVALUES_AWS_EKS:()=>rm,CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK:()=>ry,CLOUDPLATFORMVALUES_AWS_LAMBDA:()=>rg,CLOUDPLATFORMVALUES_AZURE_AKS:()=>rE,CLOUDPLATFORMVALUES_AZURE_APP_SERVICE:()=>r_,CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES:()=>rb,CLOUDPLATFORMVALUES_AZURE_FUNCTIONS:()=>rS,CLOUDPLATFORMVALUES_AZURE_VM:()=>rv,CLOUDPLATFORMVALUES_GCP_APP_ENGINE:()=>rO,CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS:()=>rw,CLOUDPLATFORMVALUES_GCP_CLOUD_RUN:()=>rA,CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE:()=>rT,CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE:()=>rC,CLOUDPROVIDERVALUES_ALIBABA_CLOUD:()=>tX,CLOUDPROVIDERVALUES_AWS:()=>t0,CLOUDPROVIDERVALUES_AZURE:()=>t1,CLOUDPROVIDERVALUES_GCP:()=>t2,CloudPlatformValues:()=>rR,CloudProviderValues:()=>t3,HOSTARCHVALUES_AMD64:()=>rV,HOSTARCHVALUES_ARM32:()=>rz,HOSTARCHVALUES_ARM64:()=>rG,HOSTARCHVALUES_IA64:()=>r$,HOSTARCHVALUES_PPC32:()=>rH,HOSTARCHVALUES_PPC64:()=>rq,HOSTARCHVALUES_X86:()=>rW,HostArchValues:()=>rK,OSTYPEVALUES_AIX:()=>ni,OSTYPEVALUES_DARWIN:()=>r7,OSTYPEVALUES_DRAGONFLYBSD:()=>nr,OSTYPEVALUES_FREEBSD:()=>r9,OSTYPEVALUES_HPUX:()=>nn,OSTYPEVALUES_LINUX:()=>r8,OSTYPEVALUES_NETBSD:()=>ne,OSTYPEVALUES_OPENBSD:()=>nt,OSTYPEVALUES_SOLARIS:()=>no,OSTYPEVALUES_WINDOWS:()=>r5,OSTYPEVALUES_Z_OS:()=>ns,OsTypeValues:()=>na,SEMRESATTRS_AWS_ECS_CLUSTER_ARN:()=>eB,SEMRESATTRS_AWS_ECS_CONTAINER_ARN:()=>eL,SEMRESATTRS_AWS_ECS_LAUNCHTYPE:()=>ej,SEMRESATTRS_AWS_ECS_TASK_ARN:()=>eF,SEMRESATTRS_AWS_ECS_TASK_FAMILY:()=>eU,SEMRESATTRS_AWS_ECS_TASK_REVISION:()=>eV,SEMRESATTRS_AWS_EKS_CLUSTER_ARN:()=>ez,SEMRESATTRS_AWS_LOG_GROUP_ARNS:()=>e$,SEMRESATTRS_AWS_LOG_GROUP_NAMES:()=>eG,SEMRESATTRS_AWS_LOG_STREAM_ARNS:()=>eq,SEMRESATTRS_AWS_LOG_STREAM_NAMES:()=>eH,SEMRESATTRS_CLOUD_ACCOUNT_ID:()=>eP,SEMRESATTRS_CLOUD_AVAILABILITY_ZONE:()=>ek,SEMRESATTRS_CLOUD_PLATFORM:()=>eM,SEMRESATTRS_CLOUD_PROVIDER:()=>eD,SEMRESATTRS_CLOUD_REGION:()=>eN,SEMRESATTRS_CONTAINER_ID:()=>eK,SEMRESATTRS_CONTAINER_IMAGE_NAME:()=>eZ,SEMRESATTRS_CONTAINER_IMAGE_TAG:()=>eJ,SEMRESATTRS_CONTAINER_NAME:()=>eW,SEMRESATTRS_CONTAINER_RUNTIME:()=>eY,SEMRESATTRS_DEPLOYMENT_ENVIRONMENT:()=>eQ,SEMRESATTRS_DEVICE_ID:()=>eX,SEMRESATTRS_DEVICE_MODEL_IDENTIFIER:()=>e0,SEMRESATTRS_DEVICE_MODEL_NAME:()=>e1,SEMRESATTRS_FAAS_ID:()=>e3,SEMRESATTRS_FAAS_INSTANCE:()=>e4,SEMRESATTRS_FAAS_MAX_MEMORY:()=>e5,SEMRESATTRS_FAAS_NAME:()=>e2,SEMRESATTRS_FAAS_VERSION:()=>e6,SEMRESATTRS_HOST_ARCH:()=>te,SEMRESATTRS_HOST_ID:()=>e8,SEMRESATTRS_HOST_IMAGE_ID:()=>tr,SEMRESATTRS_HOST_IMAGE_NAME:()=>tt,SEMRESATTRS_HOST_IMAGE_VERSION:()=>tn,SEMRESATTRS_HOST_NAME:()=>e7,SEMRESATTRS_HOST_TYPE:()=>e9,SEMRESATTRS_K8S_CLUSTER_NAME:()=>ti,SEMRESATTRS_K8S_CONTAINER_NAME:()=>tc,SEMRESATTRS_K8S_CRONJOB_NAME:()=>t_,SEMRESATTRS_K8S_CRONJOB_UID:()=>tS,SEMRESATTRS_K8S_DAEMONSET_NAME:()=>tv,SEMRESATTRS_K8S_DAEMONSET_UID:()=>ty,SEMRESATTRS_K8S_DEPLOYMENT_NAME:()=>tf,SEMRESATTRS_K8S_DEPLOYMENT_UID:()=>tp,SEMRESATTRS_K8S_JOB_NAME:()=>tE,SEMRESATTRS_K8S_JOB_UID:()=>tb,SEMRESATTRS_K8S_NAMESPACE_NAME:()=>ta,SEMRESATTRS_K8S_NODE_NAME:()=>to,SEMRESATTRS_K8S_NODE_UID:()=>ts,SEMRESATTRS_K8S_POD_NAME:()=>tu,SEMRESATTRS_K8S_POD_UID:()=>tl,SEMRESATTRS_K8S_REPLICASET_NAME:()=>th,SEMRESATTRS_K8S_REPLICASET_UID:()=>td,SEMRESATTRS_K8S_STATEFULSET_NAME:()=>tg,SEMRESATTRS_K8S_STATEFULSET_UID:()=>tm,SEMRESATTRS_OS_DESCRIPTION:()=>tA,SEMRESATTRS_OS_NAME:()=>tC,SEMRESATTRS_OS_TYPE:()=>tT,SEMRESATTRS_OS_VERSION:()=>tw,SEMRESATTRS_PROCESS_COMMAND:()=>tI,SEMRESATTRS_PROCESS_COMMAND_ARGS:()=>tP,SEMRESATTRS_PROCESS_COMMAND_LINE:()=>tD,SEMRESATTRS_PROCESS_EXECUTABLE_NAME:()=>tR,SEMRESATTRS_PROCESS_EXECUTABLE_PATH:()=>tx,SEMRESATTRS_PROCESS_OWNER:()=>tN,SEMRESATTRS_PROCESS_PID:()=>tO,SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION:()=>tL,SEMRESATTRS_PROCESS_RUNTIME_NAME:()=>tk,SEMRESATTRS_PROCESS_RUNTIME_VERSION:()=>tM,SEMRESATTRS_SERVICE_INSTANCE_ID:()=>tF,SEMRESATTRS_SERVICE_NAME:()=>tB,SEMRESATTRS_SERVICE_NAMESPACE:()=>tj,SEMRESATTRS_SERVICE_VERSION:()=>tU,SEMRESATTRS_TELEMETRY_AUTO_VERSION:()=>t$,SEMRESATTRS_TELEMETRY_SDK_LANGUAGE:()=>tz,SEMRESATTRS_TELEMETRY_SDK_NAME:()=>tV,SEMRESATTRS_TELEMETRY_SDK_VERSION:()=>tG,SEMRESATTRS_WEBENGINE_DESCRIPTION:()=>tW,SEMRESATTRS_WEBENGINE_NAME:()=>tH,SEMRESATTRS_WEBENGINE_VERSION:()=>tq,SemanticResourceAttributes:()=>tK,TELEMETRYSDKLANGUAGEVALUES_CPP:()=>nv,TELEMETRYSDKLANGUAGEVALUES_DOTNET:()=>nb,TELEMETRYSDKLANGUAGEVALUES_ERLANG:()=>nE,TELEMETRYSDKLANGUAGEVALUES_GO:()=>nS,TELEMETRYSDKLANGUAGEVALUES_JAVA:()=>n_,TELEMETRYSDKLANGUAGEVALUES_NODEJS:()=>nT,TELEMETRYSDKLANGUAGEVALUES_PHP:()=>nA,TELEMETRYSDKLANGUAGEVALUES_PYTHON:()=>nC,TELEMETRYSDKLANGUAGEVALUES_RUBY:()=>nw,TELEMETRYSDKLANGUAGEVALUES_WEBJS:()=>nO,TelemetrySdkLanguageValues:()=>nR});var n=r(31615),i="cloud.provider",o="cloud.account.id",s="cloud.region",a="cloud.availability_zone",l="cloud.platform",u="aws.ecs.container.arn",c="aws.ecs.cluster.arn",d="aws.ecs.launchtype",h="aws.ecs.task.arn",p="aws.ecs.task.family",f="aws.ecs.task.revision",m="aws.eks.cluster.arn",g="aws.log.group.names",y="aws.log.group.arns",v="aws.log.stream.names",b="aws.log.stream.arns",E="container.name",S="container.id",_="container.runtime",T="container.image.name",A="container.image.tag",C="deployment.environment",w="device.id",O="device.model.identifier",R="device.model.name",x="faas.name",I="faas.id",D="faas.version",P="faas.instance",N="faas.max_memory",k="host.id",M="host.name",L="host.type",B="host.arch",j="host.image.name",F="host.image.id",U="host.image.version",V="k8s.cluster.name",z="k8s.node.name",G="k8s.node.uid",$="k8s.namespace.name",H="k8s.pod.uid",q="k8s.pod.name",W="k8s.container.name",K="k8s.replicaset.uid",Y="k8s.replicaset.name",Z="k8s.deployment.uid",J="k8s.deployment.name",Q="k8s.statefulset.uid",X="k8s.statefulset.name",ee="k8s.daemonset.uid",et="k8s.daemonset.name",er="k8s.job.uid",en="k8s.job.name",ei="k8s.cronjob.uid",eo="k8s.cronjob.name",es="os.type",ea="os.description",el="os.name",eu="os.version",ec="process.pid",ed="process.executable.name",eh="process.executable.path",ep="process.command",ef="process.command_line",em="process.command_args",eg="process.owner",ey="process.runtime.name",ev="process.runtime.version",eb="process.runtime.description",eE="service.name",eS="service.namespace",e_="service.instance.id",eT="service.version",eA="telemetry.sdk.name",eC="telemetry.sdk.language",ew="telemetry.sdk.version",eO="telemetry.auto.version",eR="webengine.name",ex="webengine.version",eI="webengine.description",eD=i,eP=o,eN=s,ek=a,eM=l,eL=u,eB=c,ej=d,eF=h,eU=p,eV=f,ez=m,eG=g,e$=y,eH=v,eq=b,eW=E,eK=S,eY=_,eZ=T,eJ=A,eQ=C,eX=w,e0=O,e1=R,e2=x,e3=I,e6=D,e4=P,e5=N,e8=k,e7=M,e9=L,te=B,tt=j,tr=F,tn=U,ti=V,to=z,ts=G,ta=$,tl=H,tu=q,tc=W,td=K,th=Y,tp=Z,tf=J,tm=Q,tg=X,ty=ee,tv=et,tb=er,tE=en,tS=ei,t_=eo,tT=es,tA=ea,tC=el,tw=eu,tO=ec,tR=ed,tx=eh,tI=ep,tD=ef,tP=em,tN=eg,tk=ey,tM=ev,tL=eb,tB=eE,tj=eS,tF=e_,tU=eT,tV=eA,tz=eC,tG=ew,t$=eO,tH=eR,tq=ex,tW=eI,tK=(0,n.createConstMap)([i,o,s,a,l,u,c,d,h,p,f,m,g,y,v,b,E,S,_,T,A,C,w,O,R,x,I,D,P,N,k,M,L,B,j,F,U,V,z,G,$,H,q,W,K,Y,Z,J,Q,X,ee,et,er,en,ei,eo,es,ea,el,eu,ec,ed,eh,ep,ef,em,eg,ey,ev,eb,eE,eS,e_,eT,eA,eC,ew,eO,eR,ex,eI]),tY="alibaba_cloud",tZ="aws",tJ="azure",tQ="gcp",tX=tY,t0=tZ,t1=tJ,t2=tQ,t3=(0,n.createConstMap)([tY,tZ,tJ,tQ]),t6="alibaba_cloud_ecs",t4="alibaba_cloud_fc",t5="aws_ec2",t8="aws_ecs",t7="aws_eks",t9="aws_lambda",re="aws_elastic_beanstalk",rt="azure_vm",rr="azure_container_instances",rn="azure_aks",ri="azure_functions",ro="azure_app_service",rs="gcp_compute_engine",ra="gcp_cloud_run",rl="gcp_kubernetes_engine",ru="gcp_cloud_functions",rc="gcp_app_engine",rd=t6,rh=t4,rp=t5,rf=t8,rm=t7,rg=t9,ry=re,rv=rt,rb=rr,rE=rn,rS=ri,r_=ro,rT=rs,rA=ra,rC=rl,rw=ru,rO=rc,rR=(0,n.createConstMap)([t6,t4,t5,t8,t7,t9,re,rt,rr,rn,ri,ro,rs,ra,rl,ru,rc]),rx="ec2",rI="fargate",rD=rx,rP=rI,rN=(0,n.createConstMap)([rx,rI]),rk="amd64",rM="arm32",rL="arm64",rB="ia64",rj="ppc32",rF="ppc64",rU="x86",rV=rk,rz=rM,rG=rL,r$=rB,rH=rj,rq=rF,rW=rU,rK=(0,n.createConstMap)([rk,rM,rL,rB,rj,rF,rU]),rY="windows",rZ="linux",rJ="darwin",rQ="freebsd",rX="netbsd",r0="openbsd",r1="dragonflybsd",r2="hpux",r3="aix",r6="solaris",r4="z_os",r5=rY,r8=rZ,r7=rJ,r9=rQ,ne=rX,nt=r0,nr=r1,nn=r2,ni=r3,no=r6,ns=r4,na=(0,n.createConstMap)([rY,rZ,rJ,rQ,rX,r0,r1,r2,r3,r6,r4]),nl="cpp",nu="dotnet",nc="erlang",nd="go",nh="java",np="nodejs",nf="php",nm="python",ng="ruby",ny="webjs",nv=nl,nb=nu,nE=nc,nS=nd,n_=nh,nT=np,nA=nf,nC=nm,nw=ng,nO=ny,nR=(0,n.createConstMap)([nl,nu,nc,nd,nh,np,nf,nm,ng,ny])},6307:(e,t,r)=>{"use strict";r.r(t);var n=r(61608),i={};for(let e in n)"default"!==e&&(i[e]=()=>n[e]);r.d(t,i)},75141:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_ABORTED:()=>C,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_HANDLED:()=>w,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_SKIPPED:()=>O,ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT_VALUE_UNHANDLED:()=>R,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ACQUIRED:()=>i,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_ENDPOINT_LIMITER:()=>o,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_GLOBAL_LIMITER:()=>s,ASPNETCORE_RATE_LIMITING_RESULT_VALUE_REQUEST_CANCELED:()=>a,ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_FAILURE:()=>N,ASPNETCORE_ROUTING_MATCH_STATUS_VALUE_SUCCESS:()=>k,ATTR_ASPNETCORE_DIAGNOSTICS_EXCEPTION_RESULT:()=>A,ATTR_ASPNETCORE_DIAGNOSTICS_HANDLER_TYPE:()=>T,ATTR_ASPNETCORE_RATE_LIMITING_POLICY:()=>x,ATTR_ASPNETCORE_RATE_LIMITING_RESULT:()=>n,ATTR_ASPNETCORE_REQUEST_IS_UNHANDLED:()=>I,ATTR_ASPNETCORE_ROUTING_IS_FALLBACK:()=>D,ATTR_ASPNETCORE_ROUTING_MATCH_STATUS:()=>P,ATTR_CLIENT_ADDRESS:()=>M,ATTR_CLIENT_PORT:()=>L,ATTR_ERROR_TYPE:()=>B,ATTR_EXCEPTION_ESCAPED:()=>F,ATTR_EXCEPTION_MESSAGE:()=>U,ATTR_EXCEPTION_STACKTRACE:()=>V,ATTR_EXCEPTION_TYPE:()=>z,ATTR_HTTP_REQUEST_HEADER:()=>G,ATTR_HTTP_REQUEST_METHOD:()=>$,ATTR_HTTP_REQUEST_METHOD_ORIGINAL:()=>et,ATTR_HTTP_REQUEST_RESEND_COUNT:()=>er,ATTR_HTTP_RESPONSE_HEADER:()=>en,ATTR_HTTP_RESPONSE_STATUS_CODE:()=>ei,ATTR_HTTP_ROUTE:()=>eo,ATTR_JVM_GC_ACTION:()=>es,ATTR_JVM_GC_NAME:()=>ea,ATTR_JVM_MEMORY_POOL_NAME:()=>el,ATTR_JVM_MEMORY_TYPE:()=>eu,ATTR_JVM_THREAD_DAEMON:()=>eh,ATTR_JVM_THREAD_STATE:()=>ep,ATTR_NETWORK_LOCAL_ADDRESS:()=>eE,ATTR_NETWORK_LOCAL_PORT:()=>eS,ATTR_NETWORK_PEER_ADDRESS:()=>e_,ATTR_NETWORK_PEER_PORT:()=>eT,ATTR_NETWORK_PROTOCOL_NAME:()=>eA,ATTR_NETWORK_PROTOCOL_VERSION:()=>eC,ATTR_NETWORK_TRANSPORT:()=>ew,ATTR_NETWORK_TYPE:()=>eP,ATTR_OTEL_SCOPE_NAME:()=>eM,ATTR_OTEL_SCOPE_VERSION:()=>eL,ATTR_OTEL_STATUS_CODE:()=>eB,ATTR_OTEL_STATUS_DESCRIPTION:()=>eU,ATTR_SERVER_ADDRESS:()=>eV,ATTR_SERVER_PORT:()=>ez,ATTR_SERVICE_NAME:()=>eG,ATTR_SERVICE_VERSION:()=>e$,ATTR_SIGNALR_CONNECTION_STATUS:()=>eH,ATTR_SIGNALR_TRANSPORT:()=>eY,ATTR_TELEMETRY_SDK_LANGUAGE:()=>l,ATTR_TELEMETRY_SDK_NAME:()=>S,ATTR_TELEMETRY_SDK_VERSION:()=>_,ATTR_URL_FRAGMENT:()=>eX,ATTR_URL_FULL:()=>e0,ATTR_URL_PATH:()=>e1,ATTR_URL_QUERY:()=>e2,ATTR_URL_SCHEME:()=>e3,ATTR_USER_AGENT_ORIGINAL:()=>e6,ERROR_TYPE_VALUE_OTHER:()=>j,HTTP_REQUEST_METHOD_VALUE_CONNECT:()=>q,HTTP_REQUEST_METHOD_VALUE_DELETE:()=>W,HTTP_REQUEST_METHOD_VALUE_GET:()=>K,HTTP_REQUEST_METHOD_VALUE_HEAD:()=>Y,HTTP_REQUEST_METHOD_VALUE_OPTIONS:()=>Z,HTTP_REQUEST_METHOD_VALUE_OTHER:()=>H,HTTP_REQUEST_METHOD_VALUE_PATCH:()=>J,HTTP_REQUEST_METHOD_VALUE_POST:()=>Q,HTTP_REQUEST_METHOD_VALUE_PUT:()=>X,HTTP_REQUEST_METHOD_VALUE_TRACE:()=>ee,JVM_MEMORY_TYPE_VALUE_HEAP:()=>ec,JVM_MEMORY_TYPE_VALUE_NON_HEAP:()=>ed,JVM_THREAD_STATE_VALUE_BLOCKED:()=>ef,JVM_THREAD_STATE_VALUE_NEW:()=>em,JVM_THREAD_STATE_VALUE_RUNNABLE:()=>eg,JVM_THREAD_STATE_VALUE_TERMINATED:()=>ey,JVM_THREAD_STATE_VALUE_TIMED_WAITING:()=>ev,JVM_THREAD_STATE_VALUE_WAITING:()=>eb,NETWORK_TRANSPORT_VALUE_PIPE:()=>eO,NETWORK_TRANSPORT_VALUE_QUIC:()=>eR,NETWORK_TRANSPORT_VALUE_TCP:()=>ex,NETWORK_TRANSPORT_VALUE_UDP:()=>eI,NETWORK_TRANSPORT_VALUE_UNIX:()=>eD,NETWORK_TYPE_VALUE_IPV4:()=>eN,NETWORK_TYPE_VALUE_IPV6:()=>ek,OTEL_STATUS_CODE_VALUE_ERROR:()=>ej,OTEL_STATUS_CODE_VALUE_OK:()=>eF,SIGNALR_CONNECTION_STATUS_VALUE_APP_SHUTDOWN:()=>eq,SIGNALR_CONNECTION_STATUS_VALUE_NORMAL_CLOSURE:()=>eW,SIGNALR_CONNECTION_STATUS_VALUE_TIMEOUT:()=>eK,SIGNALR_TRANSPORT_VALUE_LONG_POLLING:()=>eZ,SIGNALR_TRANSPORT_VALUE_SERVER_SENT_EVENTS:()=>eJ,SIGNALR_TRANSPORT_VALUE_WEB_SOCKETS:()=>eQ,TELEMETRY_SDK_LANGUAGE_VALUE_CPP:()=>u,TELEMETRY_SDK_LANGUAGE_VALUE_DOTNET:()=>c,TELEMETRY_SDK_LANGUAGE_VALUE_ERLANG:()=>d,TELEMETRY_SDK_LANGUAGE_VALUE_GO:()=>h,TELEMETRY_SDK_LANGUAGE_VALUE_JAVA:()=>p,TELEMETRY_SDK_LANGUAGE_VALUE_NODEJS:()=>f,TELEMETRY_SDK_LANGUAGE_VALUE_PHP:()=>m,TELEMETRY_SDK_LANGUAGE_VALUE_PYTHON:()=>g,TELEMETRY_SDK_LANGUAGE_VALUE_RUBY:()=>y,TELEMETRY_SDK_LANGUAGE_VALUE_RUST:()=>v,TELEMETRY_SDK_LANGUAGE_VALUE_SWIFT:()=>b,TELEMETRY_SDK_LANGUAGE_VALUE_WEBJS:()=>E});var n="aspnetcore.rate_limiting.result",i="acquired",o="endpoint_limiter",s="global_limiter",a="request_canceled",l="telemetry.sdk.language",u="cpp",c="dotnet",d="erlang",h="go",p="java",f="nodejs",m="php",g="python",y="ruby",v="rust",b="swift",E="webjs",S="telemetry.sdk.name",_="telemetry.sdk.version",T="aspnetcore.diagnostics.handler.type",A="aspnetcore.diagnostics.exception.result",C="aborted",w="handled",O="skipped",R="unhandled",x="aspnetcore.rate_limiting.policy",I="aspnetcore.request.is_unhandled",D="aspnetcore.routing.is_fallback",P="aspnetcore.routing.match_status",N="failure",k="success",M="client.address",L="client.port",B="error.type",j="_OTHER",F="exception.escaped",U="exception.message",V="exception.stacktrace",z="exception.type",G=function(e){return"http.request.header."+e},$="http.request.method",H="_OTHER",q="CONNECT",W="DELETE",K="GET",Y="HEAD",Z="OPTIONS",J="PATCH",Q="POST",X="PUT",ee="TRACE",et="http.request.method_original",er="http.request.resend_count",en=function(e){return"http.response.header."+e},ei="http.response.status_code",eo="http.route",es="jvm.gc.action",ea="jvm.gc.name",el="jvm.memory.pool.name",eu="jvm.memory.type",ec="heap",ed="non_heap",eh="jvm.thread.daemon",ep="jvm.thread.state",ef="blocked",em="new",eg="runnable",ey="terminated",ev="timed_waiting",eb="waiting",eE="network.local.address",eS="network.local.port",e_="network.peer.address",eT="network.peer.port",eA="network.protocol.name",eC="network.protocol.version",ew="network.transport",eO="pipe",eR="quic",ex="tcp",eI="udp",eD="unix",eP="network.type",eN="ipv4",ek="ipv6",eM="otel.scope.name",eL="otel.scope.version",eB="otel.status_code",ej="ERROR",eF="OK",eU="otel.status_description",eV="server.address",ez="server.port",eG="service.name",e$="service.version",eH="signalr.connection.status",eq="app_shutdown",eW="normal_closure",eK="timeout",eY="signalr.transport",eZ="long_polling",eJ="server_sent_events",eQ="web_sockets",eX="url.fragment",e0="url.full",e1="url.path",e2="url.query",e3="url.scheme",e6="user_agent.original"},83596:(e,t,r)=>{"use strict";r.r(t),r.d(t,{METRIC_ASPNETCORE_DIAGNOSTICS_EXCEPTIONS:()=>n,METRIC_ASPNETCORE_RATE_LIMITING_ACTIVE_REQUEST_LEASES:()=>i,METRIC_ASPNETCORE_RATE_LIMITING_QUEUED_REQUESTS:()=>o,METRIC_ASPNETCORE_RATE_LIMITING_REQUESTS:()=>l,METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_LEASE_DURATION:()=>a,METRIC_ASPNETCORE_RATE_LIMITING_REQUEST_TIME_IN_QUEUE:()=>s,METRIC_ASPNETCORE_ROUTING_MATCH_ATTEMPTS:()=>u,METRIC_HTTP_CLIENT_REQUEST_DURATION:()=>c,METRIC_HTTP_SERVER_REQUEST_DURATION:()=>d,METRIC_JVM_CLASS_COUNT:()=>h,METRIC_JVM_CLASS_LOADED:()=>p,METRIC_JVM_CLASS_UNLOADED:()=>f,METRIC_JVM_CPU_COUNT:()=>m,METRIC_JVM_CPU_RECENT_UTILIZATION:()=>g,METRIC_JVM_CPU_TIME:()=>y,METRIC_JVM_GC_DURATION:()=>v,METRIC_JVM_MEMORY_COMMITTED:()=>b,METRIC_JVM_MEMORY_LIMIT:()=>E,METRIC_JVM_MEMORY_USED:()=>S,METRIC_JVM_MEMORY_USED_AFTER_LAST_GC:()=>_,METRIC_JVM_THREAD_COUNT:()=>T,METRIC_KESTREL_ACTIVE_CONNECTIONS:()=>A,METRIC_KESTREL_ACTIVE_TLS_HANDSHAKES:()=>C,METRIC_KESTREL_CONNECTION_DURATION:()=>w,METRIC_KESTREL_QUEUED_CONNECTIONS:()=>O,METRIC_KESTREL_QUEUED_REQUESTS:()=>R,METRIC_KESTREL_REJECTED_CONNECTIONS:()=>x,METRIC_KESTREL_TLS_HANDSHAKE_DURATION:()=>I,METRIC_KESTREL_UPGRADED_CONNECTIONS:()=>D,METRIC_SIGNALR_SERVER_ACTIVE_CONNECTIONS:()=>P,METRIC_SIGNALR_SERVER_CONNECTION_DURATION:()=>N});var n="aspnetcore.diagnostics.exceptions",i="aspnetcore.rate_limiting.active_request_leases",o="aspnetcore.rate_limiting.queued_requests",s="aspnetcore.rate_limiting.request.time_in_queue",a="aspnetcore.rate_limiting.request_lease.duration",l="aspnetcore.rate_limiting.requests",u="aspnetcore.routing.match_attempts",c="http.client.request.duration",d="http.server.request.duration",h="jvm.class.count",p="jvm.class.loaded",f="jvm.class.unloaded",m="jvm.cpu.count",g="jvm.cpu.recent_utilization",y="jvm.cpu.time",v="jvm.gc.duration",b="jvm.memory.committed",E="jvm.memory.limit",S="jvm.memory.used",_="jvm.memory.used_after_last_gc",T="jvm.thread.count",A="kestrel.active_connections",C="kestrel.active_tls_handshakes",w="kestrel.connection.duration",O="kestrel.queued_connections",R="kestrel.queued_requests",x="kestrel.rejected_connections",I="kestrel.tls_handshake.duration",D="kestrel.upgraded_connections",P="signalr.server.active_connections",N="signalr.server.connection.duration"},97133:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DBCASSANDRACONSISTENCYLEVELVALUES_ALL:()=>i4,DBCASSANDRACONSISTENCYLEVELVALUES_ANY:()=>on,DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM:()=>i5,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE:()=>or,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM:()=>i7,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL:()=>oo,DBCASSANDRACONSISTENCYLEVELVALUES_ONE:()=>i9,DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM:()=>i8,DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL:()=>oi,DBCASSANDRACONSISTENCYLEVELVALUES_THREE:()=>ot,DBCASSANDRACONSISTENCYLEVELVALUES_TWO:()=>oe,DBSYSTEMVALUES_ADABAS:()=>iy,DBSYSTEMVALUES_CACHE:()=>ig,DBSYSTEMVALUES_CASSANDRA:()=>ik,DBSYSTEMVALUES_CLOUDSCAPE:()=>ia,DBSYSTEMVALUES_COCKROACHDB:()=>iq,DBSYSTEMVALUES_COLDFUSION:()=>iN,DBSYSTEMVALUES_COSMOSDB:()=>iU,DBSYSTEMVALUES_COUCHBASE:()=>ij,DBSYSTEMVALUES_COUCHDB:()=>iF,DBSYSTEMVALUES_DB2:()=>ir,DBSYSTEMVALUES_DERBY:()=>ib,DBSYSTEMVALUES_DYNAMODB:()=>iV,DBSYSTEMVALUES_EDB:()=>im,DBSYSTEMVALUES_ELASTICSEARCH:()=>i$,DBSYSTEMVALUES_FILEMAKER:()=>iE,DBSYSTEMVALUES_FIREBIRD:()=>iv,DBSYSTEMVALUES_FIRSTSQL:()=>ip,DBSYSTEMVALUES_GEODE:()=>iG,DBSYSTEMVALUES_H2:()=>iP,DBSYSTEMVALUES_HANADB:()=>id,DBSYSTEMVALUES_HBASE:()=>iM,DBSYSTEMVALUES_HIVE:()=>is,DBSYSTEMVALUES_HSQLDB:()=>il,DBSYSTEMVALUES_INFORMIX:()=>iS,DBSYSTEMVALUES_INGRES:()=>ih,DBSYSTEMVALUES_INSTANTDB:()=>i_,DBSYSTEMVALUES_INTERBASE:()=>iT,DBSYSTEMVALUES_MARIADB:()=>iA,DBSYSTEMVALUES_MAXDB:()=>ic,DBSYSTEMVALUES_MEMCACHED:()=>iH,DBSYSTEMVALUES_MONGODB:()=>iL,DBSYSTEMVALUES_MSSQL:()=>n9,DBSYSTEMVALUES_MYSQL:()=>ie,DBSYSTEMVALUES_NEO4J:()=>iz,DBSYSTEMVALUES_NETEZZA:()=>iC,DBSYSTEMVALUES_ORACLE:()=>it,DBSYSTEMVALUES_OTHER_SQL:()=>n7,DBSYSTEMVALUES_PERVASIVE:()=>iw,DBSYSTEMVALUES_POINTBASE:()=>iO,DBSYSTEMVALUES_POSTGRESQL:()=>ii,DBSYSTEMVALUES_PROGRESS:()=>iu,DBSYSTEMVALUES_REDIS:()=>iB,DBSYSTEMVALUES_REDSHIFT:()=>io,DBSYSTEMVALUES_SQLITE:()=>iR,DBSYSTEMVALUES_SYBASE:()=>ix,DBSYSTEMVALUES_TERADATA:()=>iI,DBSYSTEMVALUES_VERTICA:()=>iD,DbCassandraConsistencyLevelValues:()=>os,DbSystemValues:()=>iW,FAASDOCUMENTOPERATIONVALUES_DELETE:()=>oT,FAASDOCUMENTOPERATIONVALUES_EDIT:()=>o_,FAASDOCUMENTOPERATIONVALUES_INSERT:()=>oS,FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD:()=>ox,FAASINVOKEDPROVIDERVALUES_AWS:()=>oI,FAASINVOKEDPROVIDERVALUES_AZURE:()=>oD,FAASINVOKEDPROVIDERVALUES_GCP:()=>oP,FAASTRIGGERVALUES_DATASOURCE:()=>oh,FAASTRIGGERVALUES_HTTP:()=>op,FAASTRIGGERVALUES_OTHER:()=>og,FAASTRIGGERVALUES_PUBSUB:()=>of,FAASTRIGGERVALUES_TIMER:()=>om,FaasDocumentOperationValues:()=>oA,FaasInvokedProviderValues:()=>oN,FaasTriggerValues:()=>oy,HTTPFLAVORVALUES_HTTP_1_0:()=>s$,HTTPFLAVORVALUES_HTTP_1_1:()=>sH,HTTPFLAVORVALUES_HTTP_2_0:()=>sq,HTTPFLAVORVALUES_QUIC:()=>sK,HTTPFLAVORVALUES_SPDY:()=>sW,HttpFlavorValues:()=>sY,MESSAGETYPEVALUES_RECEIVED:()=>ay,MESSAGETYPEVALUES_SENT:()=>ag,MESSAGINGDESTINATIONKINDVALUES_QUEUE:()=>sQ,MESSAGINGDESTINATIONKINDVALUES_TOPIC:()=>sX,MESSAGINGOPERATIONVALUES_PROCESS:()=>s6,MESSAGINGOPERATIONVALUES_RECEIVE:()=>s3,MessageTypeValues:()=>av,MessagingDestinationKindValues:()=>s0,MessagingOperationValues:()=>s4,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA:()=>sE,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT:()=>sT,NETHOSTCONNECTIONSUBTYPEVALUES_EDGE:()=>sv,NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD:()=>sI,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0:()=>sS,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A:()=>s_,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B:()=>sR,NETHOSTCONNECTIONSUBTYPEVALUES_GPRS:()=>sy,NETHOSTCONNECTIONSUBTYPEVALUES_GSM:()=>sP,NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA:()=>sA,NETHOSTCONNECTIONSUBTYPEVALUES_HSPA:()=>sw,NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP:()=>sD,NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA:()=>sC,NETHOSTCONNECTIONSUBTYPEVALUES_IDEN:()=>sO,NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN:()=>sk,NETHOSTCONNECTIONSUBTYPEVALUES_LTE:()=>sx,NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA:()=>sB,NETHOSTCONNECTIONSUBTYPEVALUES_NR:()=>sM,NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA:()=>sL,NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA:()=>sN,NETHOSTCONNECTIONSUBTYPEVALUES_UMTS:()=>sb,NETHOSTCONNECTIONTYPEVALUES_CELL:()=>o2,NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE:()=>o3,NETHOSTCONNECTIONTYPEVALUES_UNKNOWN:()=>o6,NETHOSTCONNECTIONTYPEVALUES_WIFI:()=>o0,NETHOSTCONNECTIONTYPEVALUES_WIRED:()=>o1,NETTRANSPORTVALUES_INPROC:()=>oq,NETTRANSPORTVALUES_IP:()=>oG,NETTRANSPORTVALUES_IP_TCP:()=>oV,NETTRANSPORTVALUES_IP_UDP:()=>oz,NETTRANSPORTVALUES_OTHER:()=>oW,NETTRANSPORTVALUES_PIPE:()=>oH,NETTRANSPORTVALUES_UNIX:()=>o$,NetHostConnectionSubtypeValues:()=>sj,NetHostConnectionTypeValues:()=>o4,NetTransportValues:()=>oK,RPCGRPCSTATUSCODEVALUES_ABORTED:()=>as,RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS:()=>ar,RPCGRPCSTATUSCODEVALUES_CANCELLED:()=>s8,RPCGRPCSTATUSCODEVALUES_DATA_LOSS:()=>ad,RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED:()=>ae,RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION:()=>ao,RPCGRPCSTATUSCODEVALUES_INTERNAL:()=>au,RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT:()=>s9,RPCGRPCSTATUSCODEVALUES_NOT_FOUND:()=>at,RPCGRPCSTATUSCODEVALUES_OK:()=>s5,RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE:()=>aa,RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED:()=>an,RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED:()=>ai,RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED:()=>ah,RPCGRPCSTATUSCODEVALUES_UNAVAILABLE:()=>ac,RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED:()=>al,RPCGRPCSTATUSCODEVALUES_UNKNOWN:()=>s7,RpcGrpcStatusCodeValues:()=>ap,SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET:()=>rN,SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:()=>rH,SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ:()=>rI,SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY:()=>rw,SEMATTRS_AWS_DYNAMODB_COUNT:()=>rG,SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE:()=>rj,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:()=>rL,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:()=>rq,SEMATTRS_AWS_DYNAMODB_INDEX_NAME:()=>rk,SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS:()=>rO,SEMATTRS_AWS_DYNAMODB_LIMIT:()=>rP,SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:()=>rB,SEMATTRS_AWS_DYNAMODB_PROJECTION:()=>rD,SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:()=>rR,SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:()=>rx,SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT:()=>r$,SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD:()=>rU,SEMATTRS_AWS_DYNAMODB_SEGMENT:()=>rV,SEMATTRS_AWS_DYNAMODB_SELECT:()=>rM,SEMATTRS_AWS_DYNAMODB_TABLE_COUNT:()=>rF,SEMATTRS_AWS_DYNAMODB_TABLE_NAMES:()=>rC,SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS:()=>rz,SEMATTRS_AWS_LAMBDA_INVOKED_ARN:()=>tf,SEMATTRS_CODE_FILEPATH:()=>rl,SEMATTRS_CODE_FUNCTION:()=>rs,SEMATTRS_CODE_LINENO:()=>ru,SEMATTRS_CODE_NAMESPACE:()=>ra,SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL:()=>tC,SEMATTRS_DB_CASSANDRA_COORDINATOR_DC:()=>tI,SEMATTRS_DB_CASSANDRA_COORDINATOR_ID:()=>tx,SEMATTRS_DB_CASSANDRA_IDEMPOTENCE:()=>tO,SEMATTRS_DB_CASSANDRA_KEYSPACE:()=>tT,SEMATTRS_DB_CASSANDRA_PAGE_SIZE:()=>tA,SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:()=>tR,SEMATTRS_DB_CASSANDRA_TABLE:()=>tw,SEMATTRS_DB_CONNECTION_STRING:()=>tg,SEMATTRS_DB_HBASE_NAMESPACE:()=>tD,SEMATTRS_DB_JDBC_DRIVER_CLASSNAME:()=>tv,SEMATTRS_DB_MONGODB_COLLECTION:()=>tN,SEMATTRS_DB_MSSQL_INSTANCE_NAME:()=>t_,SEMATTRS_DB_NAME:()=>tb,SEMATTRS_DB_OPERATION:()=>tS,SEMATTRS_DB_REDIS_DATABASE_INDEX:()=>tP,SEMATTRS_DB_SQL_TABLE:()=>tk,SEMATTRS_DB_STATEMENT:()=>tE,SEMATTRS_DB_SYSTEM:()=>tm,SEMATTRS_DB_USER:()=>ty,SEMATTRS_ENDUSER_ID:()=>rt,SEMATTRS_ENDUSER_ROLE:()=>rr,SEMATTRS_ENDUSER_SCOPE:()=>rn,SEMATTRS_EXCEPTION_ESCAPED:()=>tj,SEMATTRS_EXCEPTION_MESSAGE:()=>tL,SEMATTRS_EXCEPTION_STACKTRACE:()=>tB,SEMATTRS_EXCEPTION_TYPE:()=>tM,SEMATTRS_FAAS_COLDSTART:()=>tW,SEMATTRS_FAAS_CRON:()=>tq,SEMATTRS_FAAS_DOCUMENT_COLLECTION:()=>tV,SEMATTRS_FAAS_DOCUMENT_NAME:()=>t$,SEMATTRS_FAAS_DOCUMENT_OPERATION:()=>tz,SEMATTRS_FAAS_DOCUMENT_TIME:()=>tG,SEMATTRS_FAAS_EXECUTION:()=>tU,SEMATTRS_FAAS_INVOKED_NAME:()=>tK,SEMATTRS_FAAS_INVOKED_PROVIDER:()=>tY,SEMATTRS_FAAS_INVOKED_REGION:()=>tZ,SEMATTRS_FAAS_TIME:()=>tH,SEMATTRS_FAAS_TRIGGER:()=>tF,SEMATTRS_HTTP_CLIENT_IP:()=>rA,SEMATTRS_HTTP_FLAVOR:()=>rg,SEMATTRS_HTTP_HOST:()=>rp,SEMATTRS_HTTP_METHOD:()=>rc,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH:()=>rv,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:()=>rb,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH:()=>rE,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:()=>rS,SEMATTRS_HTTP_ROUTE:()=>rT,SEMATTRS_HTTP_SCHEME:()=>rf,SEMATTRS_HTTP_SERVER_NAME:()=>r_,SEMATTRS_HTTP_STATUS_CODE:()=>rm,SEMATTRS_HTTP_TARGET:()=>rh,SEMATTRS_HTTP_URL:()=>rd,SEMATTRS_HTTP_USER_AGENT:()=>ry,SEMATTRS_MESSAGE_COMPRESSED_SIZE:()=>nh,SEMATTRS_MESSAGE_ID:()=>nd,SEMATTRS_MESSAGE_TYPE:()=>nc,SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE:()=>np,SEMATTRS_MESSAGING_CONSUMER_ID:()=>r4,SEMATTRS_MESSAGING_CONVERSATION_ID:()=>r1,SEMATTRS_MESSAGING_DESTINATION:()=>rK,SEMATTRS_MESSAGING_DESTINATION_KIND:()=>rY,SEMATTRS_MESSAGING_KAFKA_CLIENT_ID:()=>r9,SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP:()=>r7,SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY:()=>r8,SEMATTRS_MESSAGING_KAFKA_PARTITION:()=>ne,SEMATTRS_MESSAGING_KAFKA_TOMBSTONE:()=>nt,SEMATTRS_MESSAGING_MESSAGE_ID:()=>r0,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:()=>r3,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:()=>r2,SEMATTRS_MESSAGING_OPERATION:()=>r6,SEMATTRS_MESSAGING_PROTOCOL:()=>rJ,SEMATTRS_MESSAGING_PROTOCOL_VERSION:()=>rQ,SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY:()=>r5,SEMATTRS_MESSAGING_SYSTEM:()=>rW,SEMATTRS_MESSAGING_TEMP_DESTINATION:()=>rZ,SEMATTRS_MESSAGING_URL:()=>rX,SEMATTRS_NET_HOST_CARRIER_ICC:()=>t9,SEMATTRS_NET_HOST_CARRIER_MCC:()=>t8,SEMATTRS_NET_HOST_CARRIER_MNC:()=>t7,SEMATTRS_NET_HOST_CARRIER_NAME:()=>t5,SEMATTRS_NET_HOST_CONNECTION_SUBTYPE:()=>t4,SEMATTRS_NET_HOST_CONNECTION_TYPE:()=>t6,SEMATTRS_NET_HOST_IP:()=>t1,SEMATTRS_NET_HOST_NAME:()=>t3,SEMATTRS_NET_HOST_PORT:()=>t2,SEMATTRS_NET_PEER_IP:()=>tQ,SEMATTRS_NET_PEER_NAME:()=>t0,SEMATTRS_NET_PEER_PORT:()=>tX,SEMATTRS_NET_TRANSPORT:()=>tJ,SEMATTRS_PEER_SERVICE:()=>re,SEMATTRS_RPC_GRPC_STATUS_CODE:()=>no,SEMATTRS_RPC_JSONRPC_ERROR_CODE:()=>nl,SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE:()=>nu,SEMATTRS_RPC_JSONRPC_REQUEST_ID:()=>na,SEMATTRS_RPC_JSONRPC_VERSION:()=>ns,SEMATTRS_RPC_METHOD:()=>ni,SEMATTRS_RPC_SERVICE:()=>nn,SEMATTRS_RPC_SYSTEM:()=>nr,SEMATTRS_THREAD_ID:()=>ri,SEMATTRS_THREAD_NAME:()=>ro,SemanticAttributes:()=>nf});var n=r(31615),i="aws.lambda.invoked_arn",o="db.system",s="db.connection_string",a="db.user",l="db.jdbc.driver_classname",u="db.name",c="db.statement",d="db.operation",h="db.mssql.instance_name",p="db.cassandra.keyspace",f="db.cassandra.page_size",m="db.cassandra.consistency_level",g="db.cassandra.table",y="db.cassandra.idempotence",v="db.cassandra.speculative_execution_count",b="db.cassandra.coordinator.id",E="db.cassandra.coordinator.dc",S="db.hbase.namespace",_="db.redis.database_index",T="db.mongodb.collection",A="db.sql.table",C="exception.type",w="exception.message",O="exception.stacktrace",R="exception.escaped",x="faas.trigger",I="faas.execution",D="faas.document.collection",P="faas.document.operation",N="faas.document.time",k="faas.document.name",M="faas.time",L="faas.cron",B="faas.coldstart",j="faas.invoked_name",F="faas.invoked_provider",U="faas.invoked_region",V="net.transport",z="net.peer.ip",G="net.peer.port",$="net.peer.name",H="net.host.ip",q="net.host.port",W="net.host.name",K="net.host.connection.type",Y="net.host.connection.subtype",Z="net.host.carrier.name",J="net.host.carrier.mcc",Q="net.host.carrier.mnc",X="net.host.carrier.icc",ee="peer.service",et="enduser.id",er="enduser.role",en="enduser.scope",ei="thread.id",eo="thread.name",es="code.function",ea="code.namespace",el="code.filepath",eu="code.lineno",ec="http.method",ed="http.url",eh="http.target",ep="http.host",ef="http.scheme",em="http.status_code",eg="http.flavor",ey="http.user_agent",ev="http.request_content_length",eb="http.request_content_length_uncompressed",eE="http.response_content_length",eS="http.response_content_length_uncompressed",e_="http.server_name",eT="http.route",eA="http.client_ip",eC="aws.dynamodb.table_names",ew="aws.dynamodb.consumed_capacity",eO="aws.dynamodb.item_collection_metrics",eR="aws.dynamodb.provisioned_read_capacity",ex="aws.dynamodb.provisioned_write_capacity",eI="aws.dynamodb.consistent_read",eD="aws.dynamodb.projection",eP="aws.dynamodb.limit",eN="aws.dynamodb.attributes_to_get",ek="aws.dynamodb.index_name",eM="aws.dynamodb.select",eL="aws.dynamodb.global_secondary_indexes",eB="aws.dynamodb.local_secondary_indexes",ej="aws.dynamodb.exclusive_start_table",eF="aws.dynamodb.table_count",eU="aws.dynamodb.scan_forward",eV="aws.dynamodb.segment",ez="aws.dynamodb.total_segments",eG="aws.dynamodb.count",e$="aws.dynamodb.scanned_count",eH="aws.dynamodb.attribute_definitions",eq="aws.dynamodb.global_secondary_index_updates",eW="messaging.system",eK="messaging.destination",eY="messaging.destination_kind",eZ="messaging.temp_destination",eJ="messaging.protocol",eQ="messaging.protocol_version",eX="messaging.url",e0="messaging.message_id",e1="messaging.conversation_id",e2="messaging.message_payload_size_bytes",e3="messaging.message_payload_compressed_size_bytes",e6="messaging.operation",e4="messaging.consumer_id",e5="messaging.rabbitmq.routing_key",e8="messaging.kafka.message_key",e7="messaging.kafka.consumer_group",e9="messaging.kafka.client_id",te="messaging.kafka.partition",tt="messaging.kafka.tombstone",tr="rpc.system",tn="rpc.service",ti="rpc.method",to="rpc.grpc.status_code",ts="rpc.jsonrpc.version",ta="rpc.jsonrpc.request_id",tl="rpc.jsonrpc.error_code",tu="rpc.jsonrpc.error_message",tc="message.type",td="message.id",th="message.compressed_size",tp="message.uncompressed_size",tf=i,tm=o,tg=s,ty=a,tv=l,tb=u,tE=c,tS=d,t_=h,tT=p,tA=f,tC=m,tw=g,tO=y,tR=v,tx=b,tI=E,tD=S,tP=_,tN=T,tk=A,tM=C,tL=w,tB=O,tj=R,tF=x,tU=I,tV=D,tz=P,tG=N,t$=k,tH=M,tq=L,tW=B,tK=j,tY=F,tZ=U,tJ=V,tQ=z,tX=G,t0=$,t1=H,t2=q,t3=W,t6=K,t4=Y,t5=Z,t8=J,t7=Q,t9=X,re=ee,rt=et,rr=er,rn=en,ri=ei,ro=eo,rs=es,ra=ea,rl=el,ru=eu,rc=ec,rd=ed,rh=eh,rp=ep,rf=ef,rm=em,rg=eg,ry=ey,rv=ev,rb=eb,rE=eE,rS=eS,r_=e_,rT=eT,rA=eA,rC=eC,rw=ew,rO=eO,rR=eR,rx=ex,rI=eI,rD=eD,rP=eP,rN=eN,rk=ek,rM=eM,rL=eL,rB=eB,rj=ej,rF=eF,rU=eU,rV=eV,rz=ez,rG=eG,r$=e$,rH=eH,rq=eq,rW=eW,rK=eK,rY=eY,rZ=eZ,rJ=eJ,rQ=eQ,rX=eX,r0=e0,r1=e1,r2=e2,r3=e3,r6=e6,r4=e4,r5=e5,r8=e8,r7=e7,r9=e9,ne=te,nt=tt,nr=tr,nn=tn,ni=ti,no=to,ns=ts,na=ta,nl=tl,nu=tu,nc=tc,nd=td,nh=th,np=tp,nf=(0,n.createConstMap)([i,o,s,a,l,u,c,d,h,p,f,m,g,y,v,b,E,S,_,T,A,C,w,O,R,x,I,D,P,N,k,M,L,B,j,F,U,V,z,G,$,H,q,W,K,Y,Z,J,Q,X,ee,et,er,en,ei,eo,es,ea,el,eu,ec,ed,eh,ep,ef,em,eg,ey,ev,eb,eE,eS,e_,eT,eA,eC,ew,eO,eR,ex,eI,eD,eP,eN,ek,eM,eL,eB,ej,eF,eU,eV,ez,eG,e$,eH,eq,eW,eK,eY,eZ,eJ,eQ,eX,e0,e1,e2,e3,e6,e4,e5,e8,e7,e9,te,tt,tr,tn,ti,to,ts,ta,tl,tu,tc,td,th,tp]),nm="other_sql",ng="mssql",ny="mysql",nv="oracle",nb="db2",nE="postgresql",nS="redshift",n_="hive",nT="cloudscape",nA="hsqldb",nC="progress",nw="maxdb",nO="hanadb",nR="ingres",nx="firstsql",nI="edb",nD="cache",nP="adabas",nN="firebird",nk="derby",nM="filemaker",nL="informix",nB="instantdb",nj="interbase",nF="mariadb",nU="netezza",nV="pervasive",nz="pointbase",nG="sqlite",n$="sybase",nH="teradata",nq="vertica",nW="h2",nK="coldfusion",nY="cassandra",nZ="hbase",nJ="mongodb",nQ="redis",nX="couchbase",n0="couchdb",n1="cosmosdb",n2="dynamodb",n3="neo4j",n6="geode",n4="elasticsearch",n5="memcached",n8="cockroachdb",n7=nm,n9=ng,ie=ny,it=nv,ir=nb,ii=nE,io=nS,is=n_,ia=nT,il=nA,iu=nC,ic=nw,id=nO,ih=nR,ip=nx,im=nI,ig=nD,iy=nP,iv=nN,ib=nk,iE=nM,iS=nL,i_=nB,iT=nj,iA=nF,iC=nU,iw=nV,iO=nz,iR=nG,ix=n$,iI=nH,iD=nq,iP=nW,iN=nK,ik=nY,iM=nZ,iL=nJ,iB=nQ,ij=nX,iF=n0,iU=n1,iV=n2,iz=n3,iG=n6,i$=n4,iH=n5,iq=n8,iW=(0,n.createConstMap)([nm,ng,ny,nv,nb,nE,nS,n_,nT,nA,nC,nw,nO,nR,nx,nI,nD,nP,nN,nk,nM,nL,nB,nj,nF,nU,nV,nz,nG,n$,nH,nq,nW,nK,nY,nZ,nJ,nQ,nX,n0,n1,n2,n3,n6,n4,n5,n8]),iK="all",iY="each_quorum",iZ="quorum",iJ="local_quorum",iQ="one",iX="two",i0="three",i1="local_one",i2="any",i3="serial",i6="local_serial",i4=iK,i5=iY,i8=iZ,i7=iJ,i9=iQ,oe=iX,ot=i0,or=i1,on=i2,oi=i3,oo=i6,os=(0,n.createConstMap)([iK,iY,iZ,iJ,iQ,iX,i0,i1,i2,i3,i6]),oa="datasource",ol="http",ou="pubsub",oc="timer",od="other",oh=oa,op=ol,of=ou,om=oc,og=od,oy=(0,n.createConstMap)([oa,ol,ou,oc,od]),ov="insert",ob="edit",oE="delete",oS=ov,o_=ob,oT=oE,oA=(0,n.createConstMap)([ov,ob,oE]),oC="alibaba_cloud",ow="aws",oO="azure",oR="gcp",ox=oC,oI=ow,oD=oO,oP=oR,oN=(0,n.createConstMap)([oC,ow,oO,oR]),ok="ip_tcp",oM="ip_udp",oL="ip",oB="unix",oj="pipe",oF="inproc",oU="other",oV=ok,oz=oM,oG=oL,o$=oB,oH=oj,oq=oF,oW=oU,oK=(0,n.createConstMap)([ok,oM,oL,oB,oj,oF,oU]),oY="wifi",oZ="wired",oJ="cell",oQ="unavailable",oX="unknown",o0=oY,o1=oZ,o2=oJ,o3=oQ,o6=oX,o4=(0,n.createConstMap)([oY,oZ,oJ,oQ,oX]),o5="gprs",o8="edge",o7="umts",o9="cdma",se="evdo_0",st="evdo_a",sr="cdma2000_1xrtt",sn="hsdpa",si="hsupa",so="hspa",ss="iden",sa="evdo_b",sl="lte",su="ehrpd",sc="hspap",sd="gsm",sh="td_scdma",sp="iwlan",sf="nr",sm="nrnsa",sg="lte_ca",sy=o5,sv=o8,sb=o7,sE=o9,sS=se,s_=st,sT=sr,sA=sn,sC=si,sw=so,sO=ss,sR=sa,sx=sl,sI=su,sD=sc,sP=sd,sN=sh,sk=sp,sM=sf,sL=sm,sB=sg,sj=(0,n.createConstMap)([o5,o8,o7,o9,se,st,sr,sn,si,so,ss,sa,sl,su,sc,sd,sh,sp,sf,sm,sg]),sF="1.0",sU="1.1",sV="2.0",sz="SPDY",sG="QUIC",s$=sF,sH=sU,sq=sV,sW=sz,sK=sG,sY={HTTP_1_0:sF,HTTP_1_1:sU,HTTP_2_0:sV,SPDY:sz,QUIC:sG},sZ="queue",sJ="topic",sQ=sZ,sX=sJ,s0=(0,n.createConstMap)([sZ,sJ]),s1="receive",s2="process",s3=s1,s6=s2,s4=(0,n.createConstMap)([s1,s2]),s5=0,s8=1,s7=2,s9=3,ae=4,at=5,ar=6,an=7,ai=8,ao=9,as=10,aa=11,al=12,au=13,ac=14,ad=15,ah=16,ap={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16},af="SENT",am="RECEIVED",ag=af,ay=am,av=(0,n.createConstMap)([af,am])},25706:(e,t,r)=>{"use strict";r.r(t);var n=r(97133),i={};for(let e in n)"default"!==e&&(i[e]=()=>n[e]);r.d(t,i)},72722:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OTLPTraceExporter=void 0;let n=r(4544),i=r(33737),o=r(10751),s=r(99678),a={"User-Agent":`OTel-OTLP-Exporter-JavaScript/${s.VERSION}`};class l extends i.OTLPGRPCExporterNodeBase{constructor(e={}){super(e,Object.assign(Object.assign({},a),n.baggageUtils.parseKeyPairsIntoRecord((0,n.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS)),"TraceExportService","/opentelemetry.proto.collector.trace.v1.TraceService/Export",o.ProtobufTraceSerializer)}getDefaultUrl(e){return(0,i.validateAndNormalizeUrl)(this.getUrlFromConfig(e))}getUrlFromConfig(e){return"string"==typeof e.url?e.url:(0,n.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT||(0,n.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT||i.DEFAULT_COLLECTOR_URL}}t.OTLPTraceExporter=l},6500:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(72722),t)},99678:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="0.52.1"},71333:(e,t,r)=>{"use strict";r.r(t);var n=r(73044),i={};for(let e in n)"default"!==e&&(i[e]=()=>n[e]);r.d(t,i)},73044:(e,t,r)=>{"use strict";r.r(t);var n=r(89589),i={};for(let e in n)"default"!==e&&(i[e]=()=>n[e]);r.d(t,i)},74736:(e,t,r)=>{"use strict";r.r(t),r.d(t,{OTLPTraceExporter:()=>h});var n=r(4544),i=r(70399),o=r(63160),s=r(10751),a=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),l=function(){return(l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},u="v1/traces",c="http://localhost:4318/"+u,d={"User-Agent":"OTel-OTLP-Exporter-JavaScript/"+o.VERSION},h=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,t,s.JsonTraceSerializer,"application/json")||this;return r.headers=l(l(l(l({},r.headers),d),n.baggageUtils.parseKeyPairsIntoRecord((0,n.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS)),(0,i.parseHeaders)(null==t?void 0:t.headers)),r}return a(t,e),t.prototype.getDefaultUrl=function(e){return"string"==typeof e.url?e.url:(0,n.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,i.appendRootPathToUrlIfNeeded)((0,n.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):(0,n.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,i.appendResourcePathToUrl)((0,n.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT,u):c},t}(i.OTLPExporterNodeBase)},89589:(e,t,r)=>{"use strict";r.r(t);var n=r(74736),i={};for(let e in n)"default"!==e&&(i[e]=()=>n[e]);r.d(t,i)},63160:(e,t,r)=>{"use strict";r.d(t,{VERSION:()=>n});var n="0.52.1"},44006:(e,t,r)=>{"use strict";r.r(t),r.d(t,{OTLPTraceExporter:()=>n.OTLPTraceExporter});var n=r(87029)},87029:(e,t,r)=>{"use strict";r.d(t,{OTLPTraceExporter:()=>n.OTLPTraceExporter});var n=r(40501)},34993:(e,t,r)=>{"use strict";r.d(t,{OTLPTraceExporter:()=>h});var n=r(4544),i=r(70399),o=r(10751),s=r(50669),a=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),l=function(){return(l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},u="v1/traces",c="http://localhost:4318/"+u,d={"User-Agent":"OTel-OTLP-Exporter-JavaScript/"+s.VERSION},h=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,t,o.ProtobufTraceSerializer,"application/x-protobuf")||this;return r.headers=l(l(l(l({},r.headers),d),n.baggageUtils.parseKeyPairsIntoRecord((0,n.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS)),(0,i.parseHeaders)(null==t?void 0:t.headers)),r}return a(t,e),t.prototype.getDefaultUrl=function(e){return"string"==typeof e.url?e.url:(0,n.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,i.appendRootPathToUrlIfNeeded)((0,n.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):(0,n.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,i.appendResourcePathToUrl)((0,n.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT,u):c},t}(i.OTLPExporterNodeBase)},40501:(e,t,r)=>{"use strict";r.d(t,{OTLPTraceExporter:()=>n.OTLPTraceExporter});var n=r(34993)},50669:(e,t,r)=>{"use strict";r.d(t,{VERSION:()=>n});var n="0.52.1"},79511:(e,t,r)=>{"use strict";r.r(t);var n=r(20342),i={};for(let e in n)"default"!==e&&(i[e]=()=>n[e]);r.d(t,i);var o=r(64185),i={};for(let e in o)"default"!==e&&(i[e]=()=>o[e]);r.d(t,i)},20342:(e,t,r)=>{"use strict";r.r(t);var n=r(31159),i={};for(let e in n)"default"!==e&&(i[e]=()=>n[e]);r.d(t,i)},31159:(e,t,r)=>{"use strict";r.r(t);var n=r(99901),i={};for(let e in n)"default"!==e&&(i[e]=()=>n[e]);r.d(t,i)},99901:(e,t,r)=>{"use strict";r.r(t),r.d(t,{prepareSend:()=>u});var n=r(38626),i=r(4544),o=r(13685),s=r(95687),a=r(57310),l=function(){return(l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function u(e,t){var r=a.parse(e),u=Object.assign({method:"POST",headers:l({"Content-Type":"application/json"},t)},r);return function(e,t){if(0===e.length)return n.diag.debug("Zipkin send with empty spans"),t({code:i.ExportResultCode.SUCCESS});var r=(0,("http:"===u.protocol?o:s).request)(u,function(e){var r="";e.on("data",function(e){r+=e}),e.on("end",function(){var o=e.statusCode||0;return(n.diag.debug("Zipkin response status code: "+o+", body: "+r),o<400)?t({code:i.ExportResultCode.SUCCESS}):t({code:i.ExportResultCode.FAILED,error:Error("Got unexpected status code from zipkin: "+o)})})});r.on("error",function(e){return t({code:i.ExportResultCode.FAILED,error:e})});var a=JSON.stringify(e);n.diag.debug("Zipkin request payload: "+a),r.write(a,"utf8"),r.end()}}},65474:(e,t,r)=>{"use strict";r.d(t,{defaultStatusCodeTagName:()=>u,defaultStatusErrorTagName:()=>c,toZipkinSpan:()=>d});var n,i=r(38626),o=r(4544),s=r(40830),a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l=((n={})[i.SpanKind.CLIENT]=s.SpanKind.CLIENT,n[i.SpanKind.SERVER]=s.SpanKind.SERVER,n[i.SpanKind.CONSUMER]=s.SpanKind.CONSUMER,n[i.SpanKind.PRODUCER]=s.SpanKind.PRODUCER,n[i.SpanKind.INTERNAL]=void 0,n),u="otel.status_code",c="error";function d(e,t,r,n){return{traceId:e.spanContext().traceId,parentId:e.parentSpanId,name:e.name,id:e.spanContext().spanId,kind:l[e.kind],timestamp:(0,o.hrTimeToMicroseconds)(e.startTime),duration:Math.round((0,o.hrTimeToMicroseconds)(e.duration)),localEndpoint:{serviceName:t},tags:h(e,r,n),annotations:e.events.length?p(e.events):void 0}}function h(e,t,r){var n,o,s=e.attributes,l=e.resource,u=e.status,c=e.droppedAttributesCount,d=e.droppedEventsCount,h=e.droppedLinksCount,p={};try{for(var f=a(Object.keys(s)),m=f.next();!m.done;m=f.next()){var g=m.value;p[g]=String(s[g])}}catch(e){n={error:e}}finally{try{m&&!m.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}return u.code!==i.SpanStatusCode.UNSET&&(p[t]=String(i.SpanStatusCode[u.code])),u.code===i.SpanStatusCode.ERROR&&u.message&&(p[r]=u.message),c&&(p["otel.dropped_attributes_count"]=String(c)),d&&(p["otel.dropped_events_count"]=String(d)),h&&(p["otel.dropped_links_count"]=String(h)),Object.keys(l.attributes).forEach(function(e){return p[e]=String(l.attributes[e])}),p}function p(e){return e.map(function(e){return{timestamp:Math.round((0,o.hrTimeToMicroseconds)(e.time)),value:e.name}})}},40830:(e,t,r)=>{"use strict";var n;r.d(t,{SpanKind:()=>n}),function(e){e.CLIENT="CLIENT",e.SERVER="SERVER",e.CONSUMER="CONSUMER",e.PRODUCER="PRODUCER"}(n||(n={}))},40297:(e,t,r)=>{"use strict";function n(e){return function(){return e()}}r.d(t,{prepareGetHeaders:()=>n})},64185:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ZipkinExporter:()=>u});var n=r(38626),i=r(4544),o=r(20342),s=r(65474),a=r(67028),l=r(40297),u=function(){function e(e){void 0===e&&(e={}),this.DEFAULT_SERVICE_NAME="OpenTelemetry Service",this._sendingPromises=[],this._urlStr=e.url||(0,i.getEnv)().OTEL_EXPORTER_ZIPKIN_ENDPOINT,this._send=(0,o.prepareSend)(this._urlStr,e.headers),this._serviceName=e.serviceName,this._statusCodeTagName=e.statusCodeTagName||s.defaultStatusCodeTagName,this._statusDescriptionTagName=e.statusDescriptionTagName||s.defaultStatusErrorTagName,this._isShutdown=!1,"function"==typeof e.getExportRequestHeaders?this._getHeaders=(0,l.prepareGetHeaders)(e.getExportRequestHeaders):this._beforeSend=function(){}}return e.prototype.export=function(e,t){var r=this,o=String(this._serviceName||e[0].resource.attributes[a.SEMRESATTRS_SERVICE_NAME]||this.DEFAULT_SERVICE_NAME);if(n.diag.debug("Zipkin exporter export"),this._isShutdown){setTimeout(function(){return t({code:i.ExportResultCode.FAILED,error:Error("Exporter has been shutdown")})});return}var s=new Promise(function(n){r._sendSpans(e,o,function(e){n(),t(e)})});this._sendingPromises.push(s);var l=function(){var e=r._sendingPromises.indexOf(s);r._sendingPromises.splice(e,1)};s.then(l,l)},e.prototype.shutdown=function(){return n.diag.debug("Zipkin exporter shutdown"),this._isShutdown=!0,this.forceFlush()},e.prototype.forceFlush=function(){var e=this;return new Promise(function(t,r){Promise.all(e._sendingPromises).then(function(){t()},r)})},e.prototype._beforeSend=function(){this._getHeaders&&(this._send=(0,o.prepareSend)(this._urlStr,this._getHeaders()))},e.prototype._sendSpans=function(e,t,r){var n=this,i=e.map(function(e){return(0,s.toZipkinSpan)(e,String(e.attributes[a.SEMRESATTRS_SERVICE_NAME]||e.resource.attributes[a.SEMRESATTRS_SERVICE_NAME]||t),n._statusCodeTagName,n._statusDescriptionTagName)});return this._beforeSend(),this._send(i,function(e){if(r)return r(e)})},e}()},29154:(e,t,r)=>{"use strict";r.d(t,{registerInstrumentations:()=>s});var n=r(38626),i=r(2110),o=r(84135);function s(e){var t,r,s=e.tracerProvider||n.trace.getTracerProvider(),a=e.meterProvider||n.metrics.getMeterProvider(),l=e.loggerProvider||i.logs.getLoggerProvider(),u=null!==(r=null===(t=e.instrumentations)||void 0===t?void 0:t.flat())&&void 0!==r?r:[];return(0,o.enableInstrumentations)(u,s,a,l),function(){(0,o.disableInstrumentations)(u)}}},84135:(e,t,r)=>{"use strict";function n(e,t,r,n){for(var i=0,o=e.length;i<o;i++){var s=e[i];t&&s.setTracerProvider(t),r&&s.setMeterProvider(r),n&&s.setLoggerProvider&&s.setLoggerProvider(n),s.getConfig().enabled||s.enable()}}function i(e){e.forEach(function(e){return e.disable()})}r.d(t,{disableInstrumentations:()=>i,enableInstrumentations:()=>n})},13559:(e,t,r)=>{"use strict";r.r(t),r.d(t,{InstrumentationBase:()=>i.InstrumentationBase,InstrumentationNodeModuleDefinition:()=>o.InstrumentationNodeModuleDefinition,InstrumentationNodeModuleFile:()=>s.InstrumentationNodeModuleFile,registerInstrumentations:()=>n.registerInstrumentations});var n=r(29154),i=r(18838),o=r(54345),s=r(55654),a=r(30272),l={};for(let e in a)0>["default","registerInstrumentations","InstrumentationBase","InstrumentationNodeModuleDefinition","InstrumentationNodeModuleFile"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);var u=r(36517),l={};for(let e in u)0>["default","registerInstrumentations","InstrumentationBase","InstrumentationNodeModuleDefinition","InstrumentationNodeModuleFile"].indexOf(e)&&(l[e]=()=>u[e]);r.d(t,l);var c=r(37784),l={};for(let e in c)0>["default","registerInstrumentations","InstrumentationBase","InstrumentationNodeModuleDefinition","InstrumentationNodeModuleFile"].indexOf(e)&&(l[e]=()=>c[e]);r.d(t,l)},75507:(e,t,r)=>{"use strict";r.d(t,{InstrumentationAbstract:()=>a});var n=r(38626),i=r(2110),o=r(69887),s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=function(){function e(e,t,r){this.instrumentationName=e,this.instrumentationVersion=t,this._wrap=o.wrap,this._unwrap=o.unwrap,this._massWrap=o.massWrap,this._massUnwrap=o.massUnwrap,this._config=s({enabled:!0},r),this._diag=n.diag.createComponentLogger({namespace:e}),this._tracer=n.trace.getTracer(e,t),this._meter=n.metrics.getMeter(e,t),this._logger=i.logs.getLogger(e,t),this._updateMetricInstruments()}return Object.defineProperty(e.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),e.prototype.setMeterProvider=function(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!1,configurable:!0}),e.prototype.setLoggerProvider=function(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)},e.prototype.getModuleDefinitions=function(){var e,t=null!==(e=this.init())&&void 0!==e?e:[];return Array.isArray(t)?t:[t]},e.prototype._updateMetricInstruments=function(){},e.prototype.getConfig=function(){return this._config},e.prototype.setConfig=function(e){this._config=s({},e)},e.prototype.setTracerProvider=function(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(e.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),e.prototype._runSpanCustomizationHook=function(e,t,r,n){if(e)try{e(r,n)}catch(e){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:t},e)}},e}()},54345:(e,t,r)=>{"use strict";r.d(t,{InstrumentationNodeModuleDefinition:()=>n});var n=function(){return function(e,t,r,n,i){this.name=e,this.supportedVersions=t,this.patch=r,this.unpatch=n,this.files=i||[]}}()},55654:(e,t,r)=>{"use strict";r.d(t,{InstrumentationNodeModuleFile:()=>i});var n=r(18838),i=function(){return function(e,t,r,i){this.supportedVersions=t,this.patch=r,this.unpatch=i,this.name=(0,n.normalize)(e)}}()},18838:(e,t,r)=>{"use strict";r.d(t,{InstrumentationBase:()=>n.InstrumentationBase,normalize:()=>n.normalize});var n=r(76224)},47627:(e,t,r)=>{"use strict";r.d(t,{ModuleNameSeparator:()=>s,ModuleNameTrie:()=>l});var n=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},o=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},s="/",a=function(){return function(){this.hooks=[],this.children=new Map}}(),l=function(){function e(){this._trie=new a,this._counter=0}return e.prototype.insert=function(e){var t,r,i=this._trie;try{for(var o=n(e.moduleName.split(s)),l=o.next();!l.done;l=o.next()){var u=l.value,c=i.children.get(u);c||(c=new a,i.children.set(u,c)),i=c}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}i.hooks.push({hook:e,insertedId:this._counter++})},e.prototype.search=function(e,t){var r,a,l=void 0===t?{}:t,u=l.maintainInsertionOrder,c=l.fullOnly,d=this._trie,h=[],p=!0;try{for(var f=n(e.split(s)),m=f.next();!m.done;m=f.next()){var g=m.value,y=d.children.get(g);if(!y){p=!1;break}c||h.push.apply(h,o([],i(y.hooks),!1)),d=y}}catch(e){r={error:e}}finally{try{m&&!m.done&&(a=f.return)&&a.call(f)}finally{if(r)throw r.error}}return(c&&p&&h.push.apply(h,o([],i(d.hooks),!1)),0===h.length)?[]:1===h.length?[h[0].hook]:(u&&h.sort(function(e,t){return e.insertedId-t.insertedId}),h.map(function(e){return e.hook}))},e}()},67366:(e,t,r)=>{"use strict";r.d(t,{RequireInTheMiddleSingleton:()=>l});var n=r(92785),i=r(71017),o=r(47627),s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=["afterEach","after","beforeEach","before","describe","it"].every(function(e){return"function"==typeof global[e]}),l=function(){function e(){this._moduleNameTrie=new o.ModuleNameTrie,this._initialize()}return e.prototype._initialize=function(){var e=this;new n.Hook(null,{internals:!0},function(t,r,n){var i,o,a=u(r),l=e._moduleNameTrie.search(a,{maintainInsertionOrder:!0,fullOnly:void 0===n});try{for(var c=s(l),d=c.next();!d.done;d=c.next())t=(0,d.value.onRequire)(t,r,n)}catch(e){i={error:e}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return t})},e.prototype.register=function(e,t){var r={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(r),r},e.getInstance=function(){var t;return a?new e:this._instance=null!==(t=this._instance)&&void 0!==t?t:new e},e}();function u(e){return i.sep!==o.ModuleNameSeparator?e.split(i.sep).join(o.ModuleNameSeparator):e}},76224:(e,t,r)=>{"use strict";r.d(t,{InstrumentationBase:()=>n.InstrumentationBase,normalize:()=>i.normalize});var n=r(32671),i=r(14152)},32671:(e,t,r)=>{"use strict";r.d(t,{InstrumentationBase:()=>g});var n=r(71017),i=r(73837),o=r(17140),s=r(69887),a=r(75507),l=r(67366),u=r(28826),c=r(38626),d=r(92785),h=r(57147),p=r(37784),f=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),m=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},g=function(e){function t(t,r,n){var o=e.call(this,t,r,n)||this;o._hooks=[],o._requireInTheMiddleSingleton=l.RequireInTheMiddleSingleton.getInstance(),o._enabled=!1,o._wrap=function(e,t,r){if((0,p.isWrapped)(e[t])&&o._unwrap(e,t),!i.types.isProxy(e))return(0,s.wrap)(e,t,r);var n=(0,s.wrap)(Object.assign({},e),t,r);return Object.defineProperty(e,t,{value:n})},o._unwrap=function(e,t){return i.types.isProxy(e)?Object.defineProperty(e,t,{value:e[t]}):(0,s.unwrap)(e,t)},o._massWrap=function(e,t,r){if(e)Array.isArray(e)||(e=[e]);else{c.diag.error("must provide one or more modules to patch");return}if(!(t&&Array.isArray(t))){c.diag.error("must provide one or more functions to wrap on modules");return}e.forEach(function(e){t.forEach(function(t){o._wrap(e,t,r)})})},o._massUnwrap=function(e,t){if(e)Array.isArray(e)||(e=[e]);else{c.diag.error("must provide one or more modules to patch");return}if(!(t&&Array.isArray(t))){c.diag.error("must provide one or more functions to wrap on modules");return}e.forEach(function(e){t.forEach(function(t){o._unwrap(e,t)})})};var a=o.init();return a&&!Array.isArray(a)&&(a=[a]),o._modules=a||[],0===o._modules.length&&c.diag.debug("No modules instrumentation has been defined for '"+o.instrumentationName+"@"+o.instrumentationVersion+"', nothing will be patched"),o._config.enabled&&o.enable(),o}return f(t,e),t.prototype._warnOnPreloadedModules=function(){var e=this;this._modules.forEach(function(t){var n=t.name;try{var i=r(27439).resolve(n);r.c[i]&&e._diag.warn("Module "+n+" has been loaded before "+e.instrumentationName+" so it might not work, please initialize it before requiring "+n)}catch(e){}})},t.prototype._extractPackageVersion=function(e){try{var t=(0,h.readFileSync)(n.join(e,"package.json"),{encoding:"utf8"}),r=JSON.parse(t).version;return"string"==typeof r?r:void 0}catch(t){c.diag.warn("Failed extracting version",e)}},t.prototype._onRequire=function(e,t,r,i){var o,s=this;if(!i)return"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for nodejs core module on require hook",{module:e.name}),e.patch(t)):t;var a=this._extractPackageVersion(i);if(e.moduleVersion=a,e.name===r)return y(e.supportedVersions,a,e.includePrerelease)&&"function"==typeof e.patch&&(e.moduleExports=t,this._enabled)?(this._diag.debug("Applying instrumentation patch for module on require hook",{module:e.name,version:e.moduleVersion,baseDir:i}),e.patch(t,e.moduleVersion)):t;var l=null!==(o=e.files)&&void 0!==o?o:[],u=n.normalize(r);return l.filter(function(e){return e.name===u}).filter(function(t){return y(t.supportedVersions,a,e.includePrerelease)}).reduce(function(t,r){return(r.moduleExports=t,s._enabled)?(s._diag.debug("Applying instrumentation patch for nodejs module file on require hook",{module:e.name,version:e.moduleVersion,fileName:r.name,baseDir:i}),r.patch(t,e.moduleVersion)):t},t)},t.prototype.enable=function(){var e,t,r,i,o,s,a=this;if(!this._enabled){if(this._enabled=!0,this._hooks.length>0){try{for(var l=m(this._modules),c=l.next();!c.done;c=l.next()){var h=c.value;"function"==typeof h.patch&&h.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module on instrumentation enabled",{module:h.name,version:h.moduleVersion}),h.patch(h.moduleExports,h.moduleVersion));try{for(var p=(r=void 0,m(h.files)),f=p.next();!f.done;f=p.next()){var g=f.value;g.moduleExports&&(this._diag.debug("Applying instrumentation patch for nodejs module file on instrumentation enabled",{module:h.name,version:h.moduleVersion,fileName:g.name}),g.patch(g.moduleExports,h.moduleVersion))}}catch(e){r={error:e}}finally{try{f&&!f.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}return}this._warnOnPreloadedModules();var y=function(e){var t=function(t,r,n){return a._onRequire(e,t,r,n)},r=function(t,r,n){return a._onRequire(e,t,r,n)},i=n.isAbsolute(e.name)?new d.Hook([e.name],{internals:!0},r):v._requireInTheMiddleSingleton.register(e.name,r);v._hooks.push(i);var o=new u.Hook([e.name],{internals:!1},t);v._hooks.push(o)},v=this;try{for(var b=m(this._modules),E=b.next();!E.done;E=b.next()){var S=E.value;y(S)}}catch(e){o={error:e}}finally{try{E&&!E.done&&(s=b.return)&&s.call(b)}finally{if(o)throw o.error}}}},t.prototype.disable=function(){var e,t,r,n;if(this._enabled){this._enabled=!1;try{for(var i=m(this._modules),o=i.next();!o.done;o=i.next()){var s=o.value;"function"==typeof s.unpatch&&s.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module on instrumentation disabled",{module:s.name,version:s.moduleVersion}),s.unpatch(s.moduleExports,s.moduleVersion));try{for(var a=(r=void 0,m(s.files)),l=a.next();!l.done;l=a.next()){var u=l.value;u.moduleExports&&(this._diag.debug("Removing instrumentation patch for nodejs module file on instrumentation disabled",{module:s.name,version:s.moduleVersion,fileName:u.name}),u.unpatch(u.moduleExports,s.moduleVersion))}}catch(e){r={error:e}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}}},t.prototype.isEnabled=function(){return this._enabled},t}(a.InstrumentationAbstract);function y(e,t,r){return void 0===t?e.includes("*"):e.some(function(e){return(0,o.satisfies)(t,e,{includePrerelease:r})})}},14152:(e,t,r)=>{"use strict";r.d(t,{normalize:()=>n.normalize});var n=r(71017)},30272:(e,t,r)=>{"use strict";r.r(t)},36517:(e,t,r)=>{"use strict";r.r(t)},37784:(e,t,r)=>{"use strict";r.r(t),r.d(t,{isWrapped:()=>a,safeExecuteInTheMiddle:()=>o,safeExecuteInTheMiddleAsync:()=>s});var n=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},i=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return l([e,t])}}function l(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};function o(e,t,r){var n,i;try{i=e()}catch(e){n=e}finally{if(t(n,i),n&&!r)throw n;return i}}function s(e,t,r){return n(this,void 0,void 0,function(){var n,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),[4,e()];case 1:return o=i.sent(),[3,4];case 2:return n=i.sent(),[3,4];case 3:if(t(n,o),n&&!r)throw n;return[2,o];case 4:return[2]}})})}function a(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}},81911:(e,t,r)=>{"use strict";r.d(t,{OTLPExporterBase:()=>s});var n=r(38626),i=r(4544),o=r(42129),s=function(){function e(e){void 0===e&&(e={}),this._sendingPromises=[],this.url=this.getDefaultUrl(e),"string"==typeof e.hostname&&(this.hostname=e.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new i.BindOnceFuture(this._shutdown,this),this._concurrencyLimit="number"==typeof e.concurrencyLimit?e.concurrencyLimit:30,this.timeoutMillis=(0,o.configureExporterTimeout)(e.timeoutMillis),this.onInit(e)}return e.prototype.export=function(e,t){if(this._shutdownOnce.isCalled){t({code:i.ExportResultCode.FAILED,error:Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){t({code:i.ExportResultCode.FAILED,error:Error("Concurrent export limit reached")});return}this._export(e).then(function(){t({code:i.ExportResultCode.SUCCESS})}).catch(function(e){t({code:i.ExportResultCode.FAILED,error:e})})},e.prototype._export=function(e){var t=this;return new Promise(function(r,i){try{n.diag.debug("items to be sent",e),t.send(e,r,i)}catch(e){i(e)}})},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype.forceFlush=function(){return Promise.all(this._sendingPromises).then(function(){})},e.prototype._shutdown=function(){return n.diag.debug("shutdown started"),this.onShutdown(),this.forceFlush()},e}()},70399:(e,t,r)=>{"use strict";r.r(t),r.d(t,{OTLPExporterBase:()=>o.OTLPExporterBase,OTLPExporterError:()=>s.OTLPExporterError,appendResourcePathToUrl:()=>a.appendResourcePathToUrl,appendRootPathToUrlIfNeeded:()=>a.appendRootPathToUrlIfNeeded,configureExporterTimeout:()=>a.configureExporterTimeout,invalidTimeout:()=>a.invalidTimeout,parseHeaders:()=>a.parseHeaders});var n=r(67346),i={};for(let e in n)0>["default","OTLPExporterBase","OTLPExporterError","parseHeaders","appendResourcePathToUrl","appendRootPathToUrlIfNeeded","configureExporterTimeout","invalidTimeout"].indexOf(e)&&(i[e]=()=>n[e]);r.d(t,i);var o=r(81911),s=r(7633),a=r(42129)},71886:(e,t,r)=>{"use strict";r.d(t,{OTLPExporterBrowserBase:()=>c});var n=r(81911),i=r(42129),o=r(92102),s=r(38626),a=r(4544),l=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),u=function(){return(u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},c=function(e){function t(t,r,n){void 0===t&&(t={});var o=e.call(this,t)||this;return o._useXHR=!1,o._serializer=r,o._contentType=n,o._useXHR=!!t.headers||"function"!=typeof navigator.sendBeacon,o._useXHR?o._headers=Object.assign({},(0,i.parseHeaders)(t.headers),a.baggageUtils.parseKeyPairsIntoRecord((0,a.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)):o._headers={},o}return l(t,e),t.prototype.onInit=function(){},t.prototype.onShutdown=function(){},t.prototype.send=function(e,t,r){var n,i=this;if(this._shutdownOnce.isCalled){s.diag.debug("Shutdown already started. Cannot send objects");return}var a=null!==(n=this._serializer.serializeRequest(e))&&void 0!==n?n:new Uint8Array,l=new Promise(function(e,t){i._useXHR?(0,o.sendWithXhr)(a,i.url,u(u({},i._headers),{"Content-Type":i._contentType}),i.timeoutMillis,e,t):(0,o.sendWithBeacon)(a,i.url,{type:i._contentType},e,t)}).then(t,r);this._sendingPromises.push(l);var c=function(){var e=i._sendingPromises.indexOf(l);i._sendingPromises.splice(e,1)};l.then(c,c)},t}(n.OTLPExporterBase)},3098:(e,t,r)=>{"use strict";r.d(t,{OTLPExporterBrowserBase:()=>n.OTLPExporterBrowserBase,sendWithXhr:()=>i.sendWithXhr});var n=r(71886),i=r(92102)},92102:(e,t,r)=>{"use strict";r.d(t,{sendWithBeacon:()=>l,sendWithXhr:()=>u});var n=r(38626),i=r(7633),o=r(42129),s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};function l(e,t,r,o,s){navigator.sendBeacon(t,new Blob([e],r))?(n.diag.debug("sendBeacon - can send",e),o()):s(new i.OTLPExporterError("sendBeacon - cannot send "+e))}function u(e,t,r,l,u,c){var d,h,p=!1,f=setTimeout(function(){clearTimeout(d),p=!0,h.readyState===XMLHttpRequest.DONE?c(new i.OTLPExporterError("Request Timeout")):h.abort()},l),m=function(l,g){void 0===l&&(l=o.DEFAULT_EXPORT_MAX_ATTEMPTS),void 0===g&&(g=o.DEFAULT_EXPORT_INITIAL_BACKOFF),(h=new XMLHttpRequest).open("POST",t),Object.entries(s(s({},{Accept:"application/json","Content-Type":"application/json"}),r)).forEach(function(e){var t=a(e,2),r=t[0],n=t[1];h.setRequestHeader(r,n)}),h.send(e),h.onreadystatechange=function(){if(h.readyState===XMLHttpRequest.DONE&&!1===p){if(h.status>=200&&h.status<=299)n.diag.debug("xhr success",e),u(),clearTimeout(f),clearTimeout(d);else if(h.status&&(0,o.isExportRetryable)(h.status)&&l>0){var t=void 0;g=o.DEFAULT_EXPORT_BACKOFF_MULTIPLIER*g,d=setTimeout(function(){m(l-1,g)},t=h.getResponseHeader("Retry-After")?(0,o.parseRetryAfterToMills)(h.getResponseHeader("Retry-After")):Math.round(Math.random()*(o.DEFAULT_EXPORT_MAX_BACKOFF-g)+g))}else c(new i.OTLPExporterError("Failed to export with XHR (status: "+h.status+")",h.status)),clearTimeout(f),clearTimeout(d)}},h.onabort=function(){p&&c(new i.OTLPExporterError("Request Timeout")),clearTimeout(f),clearTimeout(d)},h.onerror=function(){p&&c(new i.OTLPExporterError("Request Timeout")),clearTimeout(f),clearTimeout(d)}};m()}},67346:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CompressionAlgorithm:()=>n.CompressionAlgorithm,OTLPExporterBrowserBase:()=>i.OTLPExporterBrowserBase,OTLPExporterNodeBase:()=>n.OTLPExporterNodeBase,configureCompression:()=>n.configureCompression,createHttpAgent:()=>n.createHttpAgent,sendWithHttp:()=>n.sendWithHttp,sendWithXhr:()=>i.sendWithXhr});var n=r(71821),i=r(3098)},39975:(e,t,r)=>{"use strict";r.d(t,{OTLPExporterNodeBase:()=>u});var n=r(81911),i=r(42129),o=r(65107),s=r(38626),a=r(4544),l=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),u=function(e){function t(t,r,n){void 0===t&&(t={});var l=e.call(this,t)||this;return l.DEFAULT_HEADERS={},l._contentType=n,t.metadata&&s.diag.warn("Metadata cannot be set when using http"),l.headers=Object.assign(l.DEFAULT_HEADERS,(0,i.parseHeaders)(t.headers),a.baggageUtils.parseKeyPairsIntoRecord((0,a.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)),l.agent=(0,o.createHttpAgent)(t),l.compression=(0,o.configureCompression)(t.compression),l._serializer=r,l}return l(t,e),t.prototype.onInit=function(e){},t.prototype.send=function(e,t,r){var n=this;if(this._shutdownOnce.isCalled){s.diag.debug("Shutdown already started. Cannot send objects");return}var i=new Promise(function(t,r){var i;(0,o.sendWithHttp)(n,null!==(i=n._serializer.serializeRequest(e))&&void 0!==i?i:new Uint8Array,n._contentType,t,r)}).then(t,r);this._sendingPromises.push(i);var a=function(){var e=n._sendingPromises.indexOf(i);n._sendingPromises.splice(e,1)};i.then(a,a)},t.prototype.onShutdown=function(){},t}(n.OTLPExporterBase)},71821:(e,t,r)=>{"use strict";r.d(t,{CompressionAlgorithm:()=>o.CompressionAlgorithm,OTLPExporterNodeBase:()=>n.OTLPExporterNodeBase,configureCompression:()=>i.configureCompression,createHttpAgent:()=>i.createHttpAgent,sendWithHttp:()=>i.sendWithHttp});var n=r(39975),i=r(65107),o=r(46816)},46816:(e,t,r)=>{"use strict";var n;r.d(t,{CompressionAlgorithm:()=>n}),function(e){e.NONE="none",e.GZIP="gzip"}(n||(n={}))},65107:(e,t,r)=>{"use strict";r.d(t,{configureCompression:()=>y,createHttpAgent:()=>g,sendWithHttp:()=>f});var n=r(57310),i=r(13685),o=r(95687),s=r(59796),a=r(12781),l=r(38626),u=r(46816),c=r(4544),d=r(7633),h=r(42129),p=function(){return(p=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function f(e,t,r,a,c){var f,g,y=e.timeoutMillis,v=new n.URL(e.url),b=Number(process.versions.node.split(".")[0]),E=!1,S=setTimeout(function(){clearTimeout(f),E=!0,g.destroyed?c(new d.OTLPExporterError("Request Timeout")):b>=14?g.destroy():g.abort()},y),_={hostname:v.hostname,port:v.port,path:v.pathname,method:"POST",headers:p({"Content-Type":r},e.headers),agent:e.agent},T="http:"===v.protocol?i.request:o.request,A=function(r,n){(void 0===r&&(r=h.DEFAULT_EXPORT_MAX_ATTEMPTS),void 0===n&&(n=h.DEFAULT_EXPORT_INITIAL_BACKOFF),(g=T(_,function(e){var t="";e.on("data",function(e){return t+=e}),e.on("aborted",function(){E&&c(new d.OTLPExporterError("Request Timeout"))}),e.on("end",function(){if(!1===E){if(e.statusCode&&e.statusCode<299)l.diag.debug("statusCode: "+e.statusCode,t),a(),clearTimeout(S),clearTimeout(f);else if(e.statusCode&&(0,h.isExportRetryable)(e.statusCode)&&r>0){var i=void 0;n=h.DEFAULT_EXPORT_BACKOFF_MULTIPLIER*n,f=setTimeout(function(){A(r-1,n)},i=e.headers["retry-after"]?(0,h.parseRetryAfterToMills)(e.headers["retry-after"]):Math.round(Math.random()*(h.DEFAULT_EXPORT_MAX_BACKOFF-n)+n))}else c(new d.OTLPExporterError(e.statusMessage,e.statusCode,t)),clearTimeout(S),clearTimeout(f)}})})).on("error",function(e){E?c(new d.OTLPExporterError("Request Timeout",e.code)):c(e),clearTimeout(S),clearTimeout(f)}),g.on("abort",function(){E&&c(new d.OTLPExporterError("Request Timeout")),clearTimeout(S),clearTimeout(f)}),e.compression===u.CompressionAlgorithm.GZIP)?(g.setHeader("Content-Encoding","gzip"),m(t).on("error",c).pipe(s.createGzip()).on("error",c).pipe(g)):g.end(Buffer.from(t))};A()}function m(e){var t=new a.Readable;return t.push(e),t.push(null),t}function g(e){if(e.httpAgentOptions&&!1===e.keepAlive){l.diag.warn("httpAgentOptions is used only when keepAlive is true");return}if(!1!==e.keepAlive&&e.url)try{var t=new n.URL(e.url);return new("http:"===t.protocol?i.Agent:o.Agent)(p({keepAlive:!0},e.httpAgentOptions))}catch(e){l.diag.error("collector exporter failed to create http agent. err: "+e.message);return}}function y(e){return e||(((0,c.getEnv)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,c.getEnv)().OTEL_EXPORTER_OTLP_COMPRESSION)===u.CompressionAlgorithm.GZIP?u.CompressionAlgorithm.GZIP:u.CompressionAlgorithm.NONE)}},7633:(e,t,r)=>{"use strict";r.d(t,{OTLPExporterError:()=>i});var n=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.name="OTLPExporterError",i.data=n,i.code=r,i}return n(t,e),t}(Error)},42129:(e,t,r)=>{"use strict";r.d(t,{DEFAULT_EXPORT_BACKOFF_MULTIPLIER:()=>c,DEFAULT_EXPORT_INITIAL_BACKOFF:()=>l,DEFAULT_EXPORT_MAX_ATTEMPTS:()=>a,DEFAULT_EXPORT_MAX_BACKOFF:()=>u,appendResourcePathToUrl:()=>h,appendRootPathToUrlIfNeeded:()=>p,configureExporterTimeout:()=>f,invalidTimeout:()=>g,isExportRetryable:()=>y,parseHeaders:()=>d,parseRetryAfterToMills:()=>v});var n=r(38626),i=r(4544),o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},s=1e4,a=5,l=1e3,u=5e3,c=1.5;function d(e){void 0===e&&(e={});var t={};return Object.entries(e).forEach(function(e){var r=o(e,2),i=r[0],s=r[1];void 0!==s?t[i]=String(s):n.diag.warn('Header "'+i+'" has invalid value ('+s+") and will be ignored")}),t}function h(e,t){return e.endsWith("/")||(e+="/"),e+t}function p(e){try{var t=new URL(e);return""===t.pathname&&(t.pathname=t.pathname+"/"),t.toString()}catch(t){return n.diag.warn("Could not parse export URL: '"+e+"'"),e}}function f(e){return"number"!=typeof e?m():e<=0?g(e,s):e}function m(){var e,t=Number(null!==(e=(0,i.getEnv)().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)&&void 0!==e?e:(0,i.getEnv)().OTEL_EXPORTER_OTLP_TIMEOUT);return t<=0?g(t,s):t}function g(e,t){return n.diag.warn("Timeout must be greater than 0",e),t}function y(e){return[429,502,503,504].includes(e)}function v(e){if(null==e)return -1;var t=Number.parseInt(e,10);if(Number.isInteger(t))return t>0?1e3*t:-1;var r=new Date(e).getTime()-Date.now();return r>=0?r:0}},20336:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OTLPGRPCExporterNodeBase=void 0;let n=r(38626),i=r(4544),o=r(70399),s=r(32367),a=r(88349);class l extends o.OTLPExporterBase{constructor(e={},t,r,o,l){var u;super(e),this.grpcQueue=[],this._serializer=l,e.headers&&n.diag.warn("Headers cannot be set when using grpc");let c=Object.assign({},i.baggageUtils.parseKeyPairsIntoRecord((0,i.getEnv)().OTEL_EXPORTER_OTLP_HEADERS),t),d=()=>(0,a.configureCredentials)(void 0,this.getUrlFromConfig(e));if(null!=e.credentials){let t=e.credentials;d=()=>t}let h=null===(u=e.metadata)||void 0===u?void 0:u.clone(),p=()=>{let e=null!=h?h:(0,s.createEmptyMetadata)();for(let[t,r]of Object.entries(c))e.get(t).length<1&&e.set(t,r);return e};this.compression=(0,a.configureCompression)(e.compression),this._transport=new s.GrpcExporterTransport({address:this.getDefaultUrl(e),compression:this.compression,credentials:d,grpcName:r,grpcPath:o,metadata:p,timeoutMillis:this.timeoutMillis})}onInit(){}onShutdown(){this._transport.shutdown()}send(e,t,r){if(this._shutdownOnce.isCalled){n.diag.debug("Shutdown already started. Cannot send objects");return}let i=this._serializer.serializeRequest(e);if(null==i){r(Error("Could not serialize message"));return}let s=this._transport.send(i).then(e=>{if("success"===e.status){t();return}"failure"===e.status&&e.error&&r(e.error),r(new o.OTLPExporterError("Export failed with unknown error"))},r);this._sendingPromises.push(s);let a=()=>{let e=this._sendingPromises.indexOf(s);this._sendingPromises.splice(e,1)};s.then(a,a)}}t.OTLPGRPCExporterNodeBase=l},93735:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createServiceClientConstructor=void 0;let n=r(31239);function i(e,t){let r={export:{path:e,requestStream:!1,responseStream:!1,requestSerialize:e=>e,requestDeserialize:e=>e,responseSerialize:e=>e,responseDeserialize:e=>e}};return n.makeGenericClientConstructor(r,t)}t.createServiceClientConstructor=i},32367:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GrpcExporterTransport=t.createEmptyMetadata=t.createSslCredentials=t.createInsecureCredentials=void 0;let n=0,i=2;function o(e){return"gzip"===e?i:n}function s(){let{credentials:e}=r(31239);return e.createInsecure()}function a(e,t,n){let{credentials:i}=r(31239);return i.createSsl(e,t,n)}function l(){let{Metadata:e}=r(31239);return new e}t.createInsecureCredentials=s,t.createSslCredentials=a,t.createEmptyMetadata=l;class u{constructor(e){this._parameters=e}shutdown(){var e;null===(e=this._client)||void 0===e||e.close()}send(e){let t=Buffer.from(e);if(null==this._client){let{createServiceClientConstructor:e}=r(93735);try{this._metadata=this._parameters.metadata()}catch(e){return Promise.resolve({status:"failure",error:e})}let t=e(this._parameters.grpcPath,this._parameters.grpcName);try{this._client=new t(this._parameters.address,this._parameters.credentials(),{"grpc.default_compression_algorithm":o(this._parameters.compression)})}catch(e){return Promise.resolve({status:"failure",error:e})}}return new Promise(e=>{let r=Date.now()+this._parameters.timeoutMillis;if(null==this._metadata)return e({error:Error("metadata was null"),status:"failure"});this._client.export(t,this._metadata,{deadline:r},(t,r)=>{t?e({status:"failure",error:t}):e({data:r,status:"success"})})})}}t.GrpcExporterTransport=u},33737:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAndNormalizeUrl=t.DEFAULT_COLLECTOR_URL=t.OTLPGRPCExporterNodeBase=void 0;var n=r(20336);Object.defineProperty(t,"OTLPGRPCExporterNodeBase",{enumerable:!0,get:function(){return n.OTLPGRPCExporterNodeBase}});var i=r(88349);Object.defineProperty(t,"DEFAULT_COLLECTOR_URL",{enumerable:!0,get:function(){return i.DEFAULT_COLLECTOR_URL}}),Object.defineProperty(t,"validateAndNormalizeUrl",{enumerable:!0,get:function(){return i.validateAndNormalizeUrl}})},88349:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configureCompression=t.getCredentialsFromEnvironment=t.configureCredentials=t.validateAndNormalizeUrl=t.DEFAULT_COLLECTOR_URL=void 0;let n=r(38626),i=r(4544),o=r(71017),s=r(57310),a=r(57147),l=r(70399),u=r(32367);function c(e){var t;e.match(/^([\w]{1,8}):\/\//)||(e=`https://${e}`);let r=new s.URL(e);return"unix:"===r.protocol?e:(r.pathname&&"/"!==r.pathname&&n.diag.warn("URL path should not be set when using grpc, the path part of the URL will be ignored."),""===r.protocol||(null===(t=r.protocol)||void 0===t?void 0:t.match(/^(http)s?:$/))||n.diag.warn("URL protocol should be http(s)://. Using http://."),r.host)}function d(e,r){let n;return e||((n=!r.startsWith("https://")&&(!!r.startsWith("http://")||r===t.DEFAULT_COLLECTOR_URL||h()))?(0,u.createInsecureCredentials)():p())}function h(){let e=(0,i.getEnv)().OTEL_EXPORTER_OTLP_TRACES_INSECURE||(0,i.getEnv)().OTEL_EXPORTER_OTLP_INSECURE;return!!e&&"true"===e.toLowerCase()}function p(){let e=f(),t=m(),r=g();return(0,u.createSslCredentials)(e,t,r)}function f(){let e=(0,i.getEnv)().OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE||(0,i.getEnv)().OTEL_EXPORTER_OTLP_CERTIFICATE;if(e)try{return a.readFileSync(o.resolve(process.cwd(),e))}catch(e){n.diag.warn("Failed to read root certificate file");return}}function m(){let e=(0,i.getEnv)().OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY||(0,i.getEnv)().OTEL_EXPORTER_OTLP_CLIENT_KEY;if(e)try{return a.readFileSync(o.resolve(process.cwd(),e))}catch(e){n.diag.warn("Failed to read client certificate private key file");return}}function g(){let e=(0,i.getEnv)().OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE||(0,i.getEnv)().OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE;if(e)try{return a.readFileSync(o.resolve(process.cwd(),e))}catch(e){n.diag.warn("Failed to read client certificate chain file");return}}function y(e){if(null!=e)return e;let t=(0,i.getEnv)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,i.getEnv)().OTEL_EXPORTER_OTLP_COMPRESSION;return"gzip"===t?l.CompressionAlgorithm.GZIP:("none"===t||n.diag.warn('Unknown compression "'+t+'", falling back to "none"'),l.CompressionAlgorithm.NONE)}t.DEFAULT_COLLECTOR_URL="http://localhost:4317",t.validateAndNormalizeUrl=c,t.configureCredentials=d,t.getCredentialsFromEnvironment=p,t.configureCompression=y},16527:(e,t,r)=>{"use strict";r.d(t,{encodeAsLongBits:()=>s,encodeAsString:()=>a,getOtlpEncoder:()=>h,hrTimeToNanos:()=>i,toLongBits:()=>o});var n=r(4544);function i(e){var t=BigInt(1e9);return BigInt(e[0])*t+BigInt(e[1])}function o(e){return{low:Number(BigInt.asUintN(32,e)),high:Number(BigInt.asUintN(32,e>>BigInt(32)))}}function s(e){return o(i(e))}function a(e){return i(e).toString()}var l="undefined"!=typeof BigInt?a:n.hrTimeToNanoseconds;function u(e){return e}function c(e){if(void 0!==e)return(0,n.hexToBinary)(e)}var d={encodeHrTime:s,encodeSpanContext:n.hexToBinary,encodeOptionalSpanContext:c};function h(e){if(void 0===e)return d;var t,r,i=null===(t=e.useLongBits)||void 0===t||t,o=null!==(r=e.useHex)&&void 0!==r&&r;return{encodeHrTime:i?s:l,encodeSpanContext:o?u:n.hexToBinary,encodeOptionalSpanContext:o?u:c}}},58014:(e,t,r)=>{"use strict";r.d(t,{createInstrumentationScope:()=>i,toAnyValue:()=>a,toAttributes:()=>o,toKeyValue:()=>s});var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};function i(e){return{name:e.name,version:e.version}}function o(e){return Object.keys(e).map(function(t){return s(t,e[t])})}function s(e,t){return{key:e,value:a(t)}}function a(e){var t=typeof e;return"string"===t?{stringValue:e}:"number"===t?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:"boolean"===t?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(a)}}:"object"===t&&null!=e?{kvlistValue:{values:Object.entries(e).map(function(e){var t=n(e,2);return s(t[0],t[1])})}}:{}}},14906:(e,t,r)=>{"use strict";var n=r(75335),i=n.Reader,o=n.Writer,s=n.util,a=n.roots.default||(n.roots.default={});a.opentelemetry=function(){var e={};return e.proto=function(){var e={};return e.common=function(){var e={};return e.v1=function(){var e={};return e.AnyValue=function(){var e;function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.stringValue=null,t.prototype.boolValue=null,t.prototype.intValue=null,t.prototype.doubleValue=null,t.prototype.arrayValue=null,t.prototype.kvlistValue=null,t.prototype.bytesValue=null,Object.defineProperty(t.prototype,"value",{get:s.oneOfGetter(e=["stringValue","boolValue","intValue","doubleValue","arrayValue","kvlistValue","bytesValue"]),set:s.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=o.create()),null!=e.stringValue&&Object.hasOwnProperty.call(e,"stringValue")&&t.uint32(10).string(e.stringValue),null!=e.boolValue&&Object.hasOwnProperty.call(e,"boolValue")&&t.uint32(16).bool(e.boolValue),null!=e.intValue&&Object.hasOwnProperty.call(e,"intValue")&&t.uint32(24).int64(e.intValue),null!=e.doubleValue&&Object.hasOwnProperty.call(e,"doubleValue")&&t.uint32(33).double(e.doubleValue),null!=e.arrayValue&&Object.hasOwnProperty.call(e,"arrayValue")&&a.opentelemetry.proto.common.v1.ArrayValue.encode(e.arrayValue,t.uint32(42).fork()).ldelim(),null!=e.kvlistValue&&Object.hasOwnProperty.call(e,"kvlistValue")&&a.opentelemetry.proto.common.v1.KeyValueList.encode(e.kvlistValue,t.uint32(50).fork()).ldelim(),null!=e.bytesValue&&Object.hasOwnProperty.call(e,"bytesValue")&&t.uint32(58).bytes(e.bytesValue),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.common.v1.AnyValue;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.stringValue=e.string();break;case 2:n.boolValue=e.bool();break;case 3:n.intValue=e.int64();break;case 4:n.doubleValue=e.double();break;case 5:n.arrayValue=a.opentelemetry.proto.common.v1.ArrayValue.decode(e,e.uint32());break;case 6:n.kvlistValue=a.opentelemetry.proto.common.v1.KeyValueList.decode(e,e.uint32());break;case 7:n.bytesValue=e.bytes();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.stringValue&&e.hasOwnProperty("stringValue")&&(t.value=1,!s.isString(e.stringValue)))return"stringValue: string expected";if(null!=e.boolValue&&e.hasOwnProperty("boolValue")){if(1===t.value)return"value: multiple values";if(t.value=1,"boolean"!=typeof e.boolValue)return"boolValue: boolean expected"}if(null!=e.intValue&&e.hasOwnProperty("intValue")){if(1===t.value)return"value: multiple values";if(t.value=1,!s.isInteger(e.intValue)&&!(e.intValue&&s.isInteger(e.intValue.low)&&s.isInteger(e.intValue.high)))return"intValue: integer|Long expected"}if(null!=e.doubleValue&&e.hasOwnProperty("doubleValue")){if(1===t.value)return"value: multiple values";if(t.value=1,"number"!=typeof e.doubleValue)return"doubleValue: number expected"}if(null!=e.arrayValue&&e.hasOwnProperty("arrayValue")){if(1===t.value)return"value: multiple values";t.value=1;var r=a.opentelemetry.proto.common.v1.ArrayValue.verify(e.arrayValue);if(r)return"arrayValue."+r}if(null!=e.kvlistValue&&e.hasOwnProperty("kvlistValue")){if(1===t.value)return"value: multiple values";t.value=1;var r=a.opentelemetry.proto.common.v1.KeyValueList.verify(e.kvlistValue);if(r)return"kvlistValue."+r}if(null!=e.bytesValue&&e.hasOwnProperty("bytesValue")){if(1===t.value)return"value: multiple values";if(t.value=1,!(e.bytesValue&&"number"==typeof e.bytesValue.length||s.isString(e.bytesValue)))return"bytesValue: buffer expected"}return null},t.fromObject=function(e){if(e instanceof a.opentelemetry.proto.common.v1.AnyValue)return e;var t=new a.opentelemetry.proto.common.v1.AnyValue;if(null!=e.stringValue&&(t.stringValue=String(e.stringValue)),null!=e.boolValue&&(t.boolValue=!!e.boolValue),null!=e.intValue&&(s.Long?(t.intValue=s.Long.fromValue(e.intValue)).unsigned=!1:"string"==typeof e.intValue?t.intValue=parseInt(e.intValue,10):"number"==typeof e.intValue?t.intValue=e.intValue:"object"==typeof e.intValue&&(t.intValue=new s.LongBits(e.intValue.low>>>0,e.intValue.high>>>0).toNumber())),null!=e.doubleValue&&(t.doubleValue=Number(e.doubleValue)),null!=e.arrayValue){if("object"!=typeof e.arrayValue)throw TypeError(".opentelemetry.proto.common.v1.AnyValue.arrayValue: object expected");t.arrayValue=a.opentelemetry.proto.common.v1.ArrayValue.fromObject(e.arrayValue)}if(null!=e.kvlistValue){if("object"!=typeof e.kvlistValue)throw TypeError(".opentelemetry.proto.common.v1.AnyValue.kvlistValue: object expected");t.kvlistValue=a.opentelemetry.proto.common.v1.KeyValueList.fromObject(e.kvlistValue)}return null!=e.bytesValue&&("string"==typeof e.bytesValue?s.base64.decode(e.bytesValue,t.bytesValue=s.newBuffer(s.base64.length(e.bytesValue)),0):e.bytesValue.length>=0&&(t.bytesValue=e.bytesValue)),t},t.toObject=function(e,t){t||(t={});var r={};return null!=e.stringValue&&e.hasOwnProperty("stringValue")&&(r.stringValue=e.stringValue,t.oneofs&&(r.value="stringValue")),null!=e.boolValue&&e.hasOwnProperty("boolValue")&&(r.boolValue=e.boolValue,t.oneofs&&(r.value="boolValue")),null!=e.intValue&&e.hasOwnProperty("intValue")&&("number"==typeof e.intValue?r.intValue=t.longs===String?String(e.intValue):e.intValue:r.intValue=t.longs===String?s.Long.prototype.toString.call(e.intValue):t.longs===Number?new s.LongBits(e.intValue.low>>>0,e.intValue.high>>>0).toNumber():e.intValue,t.oneofs&&(r.value="intValue")),null!=e.doubleValue&&e.hasOwnProperty("doubleValue")&&(r.doubleValue=t.json&&!isFinite(e.doubleValue)?String(e.doubleValue):e.doubleValue,t.oneofs&&(r.value="doubleValue")),null!=e.arrayValue&&e.hasOwnProperty("arrayValue")&&(r.arrayValue=a.opentelemetry.proto.common.v1.ArrayValue.toObject(e.arrayValue,t),t.oneofs&&(r.value="arrayValue")),null!=e.kvlistValue&&e.hasOwnProperty("kvlistValue")&&(r.kvlistValue=a.opentelemetry.proto.common.v1.KeyValueList.toObject(e.kvlistValue,t),t.oneofs&&(r.value="kvlistValue")),null!=e.bytesValue&&e.hasOwnProperty("bytesValue")&&(r.bytesValue=t.bytes===String?s.base64.encode(e.bytesValue,0,e.bytesValue.length):t.bytes===Array?Array.prototype.slice.call(e.bytesValue):e.bytesValue,t.oneofs&&(r.value="bytesValue")),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},t.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.common.v1.AnyValue"},t}(),e.ArrayValue=function(){function e(e){if(this.values=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.values=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.values&&e.values.length)for(var r=0;r<e.values.length;++r)a.opentelemetry.proto.common.v1.AnyValue.encode(e.values[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.common.v1.ArrayValue;e.pos<r;){var o=e.uint32();o>>>3==1?(n.values&&n.values.length||(n.values=[]),n.values.push(a.opentelemetry.proto.common.v1.AnyValue.decode(e,e.uint32()))):e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.values&&e.hasOwnProperty("values")){if(!Array.isArray(e.values))return"values: array expected";for(var t=0;t<e.values.length;++t){var r=a.opentelemetry.proto.common.v1.AnyValue.verify(e.values[t]);if(r)return"values."+r}}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.common.v1.ArrayValue)return e;var t=new a.opentelemetry.proto.common.v1.ArrayValue;if(e.values){if(!Array.isArray(e.values))throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: array expected");t.values=[];for(var r=0;r<e.values.length;++r){if("object"!=typeof e.values[r])throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: object expected");t.values[r]=a.opentelemetry.proto.common.v1.AnyValue.fromObject(e.values[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.values=[]),e.values&&e.values.length){r.values=[];for(var n=0;n<e.values.length;++n)r.values[n]=a.opentelemetry.proto.common.v1.AnyValue.toObject(e.values[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.common.v1.ArrayValue"},e}(),e.KeyValueList=function(){function e(e){if(this.values=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.values=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.values&&e.values.length)for(var r=0;r<e.values.length;++r)a.opentelemetry.proto.common.v1.KeyValue.encode(e.values[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.common.v1.KeyValueList;e.pos<r;){var o=e.uint32();o>>>3==1?(n.values&&n.values.length||(n.values=[]),n.values.push(a.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()))):e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.values&&e.hasOwnProperty("values")){if(!Array.isArray(e.values))return"values: array expected";for(var t=0;t<e.values.length;++t){var r=a.opentelemetry.proto.common.v1.KeyValue.verify(e.values[t]);if(r)return"values."+r}}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.common.v1.KeyValueList)return e;var t=new a.opentelemetry.proto.common.v1.KeyValueList;if(e.values){if(!Array.isArray(e.values))throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: array expected");t.values=[];for(var r=0;r<e.values.length;++r){if("object"!=typeof e.values[r])throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: object expected");t.values[r]=a.opentelemetry.proto.common.v1.KeyValue.fromObject(e.values[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.values=[]),e.values&&e.values.length){r.values=[];for(var n=0;n<e.values.length;++n)r.values[n]=a.opentelemetry.proto.common.v1.KeyValue.toObject(e.values[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.common.v1.KeyValueList"},e}(),e.KeyValue=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.key=null,e.prototype.value=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).string(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&a.opentelemetry.proto.common.v1.AnyValue.encode(e.value,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.common.v1.KeyValue;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.key=e.string();break;case 2:n.value=a.opentelemetry.proto.common.v1.AnyValue.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.key&&e.hasOwnProperty("key")&&!s.isString(e.key))return"key: string expected";if(null!=e.value&&e.hasOwnProperty("value")){var t=a.opentelemetry.proto.common.v1.AnyValue.verify(e.value);if(t)return"value."+t}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.common.v1.KeyValue)return e;var t=new a.opentelemetry.proto.common.v1.KeyValue;if(null!=e.key&&(t.key=String(e.key)),null!=e.value){if("object"!=typeof e.value)throw TypeError(".opentelemetry.proto.common.v1.KeyValue.value: object expected");t.value=a.opentelemetry.proto.common.v1.AnyValue.fromObject(e.value)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.key="",r.value=null),null!=e.key&&e.hasOwnProperty("key")&&(r.key=e.key),null!=e.value&&e.hasOwnProperty("value")&&(r.value=a.opentelemetry.proto.common.v1.AnyValue.toObject(e.value,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.common.v1.KeyValue"},e}(),e.InstrumentationScope=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.name=null,e.prototype.version=null,e.prototype.attributes=s.emptyArray,e.prototype.droppedAttributesCount=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(18).string(e.version),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)a.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(26).fork()).ldelim();return null!=e.droppedAttributesCount&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&t.uint32(32).uint32(e.droppedAttributesCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.common.v1.InstrumentationScope;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.version=e.string();break;case 3:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(a.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 4:n.droppedAttributesCount=e.uint32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name))return"name: string expected";if(null!=e.version&&e.hasOwnProperty("version")&&!s.isString(e.version))return"version: string expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t){var r=a.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[t]);if(r)return"attributes."+r}}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&!s.isInteger(e.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.common.v1.InstrumentationScope)return e;var t=new a.opentelemetry.proto.common.v1.InstrumentationScope;if(null!=e.name&&(t.name=String(e.name)),null!=e.version&&(t.version=String(e.version)),e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: object expected");t.attributes[r]=a.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}return null!=e.droppedAttributesCount&&(t.droppedAttributesCount=e.droppedAttributesCount>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[]),t.defaults&&(r.name="",r.version="",r.droppedAttributesCount=0),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.version&&e.hasOwnProperty("version")&&(r.version=e.version),e.attributes&&e.attributes.length){r.attributes=[];for(var n=0;n<e.attributes.length;++n)r.attributes[n]=a.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[n],t)}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&(r.droppedAttributesCount=e.droppedAttributesCount),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.common.v1.InstrumentationScope"},e}(),e}(),e}(),e.resource=function(){var e={};return e.v1=function(){var e={};return e.Resource=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.attributes=s.emptyArray,e.prototype.droppedAttributesCount=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)a.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(10).fork()).ldelim();return null!=e.droppedAttributesCount&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&t.uint32(16).uint32(e.droppedAttributesCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.resource.v1.Resource;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(a.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 2:n.droppedAttributesCount=e.uint32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t){var r=a.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[t]);if(r)return"attributes."+r}}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&!s.isInteger(e.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.resource.v1.Resource)return e;var t=new a.opentelemetry.proto.resource.v1.Resource;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: object expected");t.attributes[r]=a.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}return null!=e.droppedAttributesCount&&(t.droppedAttributesCount=e.droppedAttributesCount>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[]),t.defaults&&(r.droppedAttributesCount=0),e.attributes&&e.attributes.length){r.attributes=[];for(var n=0;n<e.attributes.length;++n)r.attributes[n]=a.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[n],t)}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&(r.droppedAttributesCount=e.droppedAttributesCount),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.resource.v1.Resource"},e}(),e}(),e}(),e.trace=function(){var e={};return e.v1=function(){var e={};return e.TracesData=function(){function e(e){if(this.resourceSpans=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resourceSpans=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.resourceSpans&&e.resourceSpans.length)for(var r=0;r<e.resourceSpans.length;++r)a.opentelemetry.proto.trace.v1.ResourceSpans.encode(e.resourceSpans[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.trace.v1.TracesData;e.pos<r;){var o=e.uint32();o>>>3==1?(n.resourceSpans&&n.resourceSpans.length||(n.resourceSpans=[]),n.resourceSpans.push(a.opentelemetry.proto.trace.v1.ResourceSpans.decode(e,e.uint32()))):e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resourceSpans&&e.hasOwnProperty("resourceSpans")){if(!Array.isArray(e.resourceSpans))return"resourceSpans: array expected";for(var t=0;t<e.resourceSpans.length;++t){var r=a.opentelemetry.proto.trace.v1.ResourceSpans.verify(e.resourceSpans[t]);if(r)return"resourceSpans."+r}}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.trace.v1.TracesData)return e;var t=new a.opentelemetry.proto.trace.v1.TracesData;if(e.resourceSpans){if(!Array.isArray(e.resourceSpans))throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: array expected");t.resourceSpans=[];for(var r=0;r<e.resourceSpans.length;++r){if("object"!=typeof e.resourceSpans[r])throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: object expected");t.resourceSpans[r]=a.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(e.resourceSpans[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.resourceSpans=[]),e.resourceSpans&&e.resourceSpans.length){r.resourceSpans=[];for(var n=0;n<e.resourceSpans.length;++n)r.resourceSpans[n]=a.opentelemetry.proto.trace.v1.ResourceSpans.toObject(e.resourceSpans[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.TracesData"},e}(),e.ResourceSpans=function(){function e(e){if(this.scopeSpans=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resource=null,e.prototype.scopeSpans=s.emptyArray,e.prototype.schemaUrl=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&a.opentelemetry.proto.resource.v1.Resource.encode(e.resource,t.uint32(10).fork()).ldelim(),null!=e.scopeSpans&&e.scopeSpans.length)for(var r=0;r<e.scopeSpans.length;++r)a.opentelemetry.proto.trace.v1.ScopeSpans.encode(e.scopeSpans[r],t.uint32(18).fork()).ldelim();return null!=e.schemaUrl&&Object.hasOwnProperty.call(e,"schemaUrl")&&t.uint32(26).string(e.schemaUrl),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.trace.v1.ResourceSpans;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.resource=a.opentelemetry.proto.resource.v1.Resource.decode(e,e.uint32());break;case 2:n.scopeSpans&&n.scopeSpans.length||(n.scopeSpans=[]),n.scopeSpans.push(a.opentelemetry.proto.trace.v1.ScopeSpans.decode(e,e.uint32()));break;case 3:n.schemaUrl=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resource&&e.hasOwnProperty("resource")){var t=a.opentelemetry.proto.resource.v1.Resource.verify(e.resource);if(t)return"resource."+t}if(null!=e.scopeSpans&&e.hasOwnProperty("scopeSpans")){if(!Array.isArray(e.scopeSpans))return"scopeSpans: array expected";for(var r=0;r<e.scopeSpans.length;++r){var t=a.opentelemetry.proto.trace.v1.ScopeSpans.verify(e.scopeSpans[r]);if(t)return"scopeSpans."+t}}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&!s.isString(e.schemaUrl)?"schemaUrl: string expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.trace.v1.ResourceSpans)return e;var t=new a.opentelemetry.proto.trace.v1.ResourceSpans;if(null!=e.resource){if("object"!=typeof e.resource)throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.resource: object expected");t.resource=a.opentelemetry.proto.resource.v1.Resource.fromObject(e.resource)}if(e.scopeSpans){if(!Array.isArray(e.scopeSpans))throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: array expected");t.scopeSpans=[];for(var r=0;r<e.scopeSpans.length;++r){if("object"!=typeof e.scopeSpans[r])throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: object expected");t.scopeSpans[r]=a.opentelemetry.proto.trace.v1.ScopeSpans.fromObject(e.scopeSpans[r])}}return null!=e.schemaUrl&&(t.schemaUrl=String(e.schemaUrl)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.scopeSpans=[]),t.defaults&&(r.resource=null,r.schemaUrl=""),null!=e.resource&&e.hasOwnProperty("resource")&&(r.resource=a.opentelemetry.proto.resource.v1.Resource.toObject(e.resource,t)),e.scopeSpans&&e.scopeSpans.length){r.scopeSpans=[];for(var n=0;n<e.scopeSpans.length;++n)r.scopeSpans[n]=a.opentelemetry.proto.trace.v1.ScopeSpans.toObject(e.scopeSpans[n],t)}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&(r.schemaUrl=e.schemaUrl),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.ResourceSpans"},e}(),e.ScopeSpans=function(){function e(e){if(this.spans=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.scope=null,e.prototype.spans=s.emptyArray,e.prototype.schemaUrl=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.scope&&Object.hasOwnProperty.call(e,"scope")&&a.opentelemetry.proto.common.v1.InstrumentationScope.encode(e.scope,t.uint32(10).fork()).ldelim(),null!=e.spans&&e.spans.length)for(var r=0;r<e.spans.length;++r)a.opentelemetry.proto.trace.v1.Span.encode(e.spans[r],t.uint32(18).fork()).ldelim();return null!=e.schemaUrl&&Object.hasOwnProperty.call(e,"schemaUrl")&&t.uint32(26).string(e.schemaUrl),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.trace.v1.ScopeSpans;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.scope=a.opentelemetry.proto.common.v1.InstrumentationScope.decode(e,e.uint32());break;case 2:n.spans&&n.spans.length||(n.spans=[]),n.spans.push(a.opentelemetry.proto.trace.v1.Span.decode(e,e.uint32()));break;case 3:n.schemaUrl=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.scope&&e.hasOwnProperty("scope")){var t=a.opentelemetry.proto.common.v1.InstrumentationScope.verify(e.scope);if(t)return"scope."+t}if(null!=e.spans&&e.hasOwnProperty("spans")){if(!Array.isArray(e.spans))return"spans: array expected";for(var r=0;r<e.spans.length;++r){var t=a.opentelemetry.proto.trace.v1.Span.verify(e.spans[r]);if(t)return"spans."+t}}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&!s.isString(e.schemaUrl)?"schemaUrl: string expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.trace.v1.ScopeSpans)return e;var t=new a.opentelemetry.proto.trace.v1.ScopeSpans;if(null!=e.scope){if("object"!=typeof e.scope)throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.scope: object expected");t.scope=a.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(e.scope)}if(e.spans){if(!Array.isArray(e.spans))throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: array expected");t.spans=[];for(var r=0;r<e.spans.length;++r){if("object"!=typeof e.spans[r])throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: object expected");t.spans[r]=a.opentelemetry.proto.trace.v1.Span.fromObject(e.spans[r])}}return null!=e.schemaUrl&&(t.schemaUrl=String(e.schemaUrl)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.spans=[]),t.defaults&&(r.scope=null,r.schemaUrl=""),null!=e.scope&&e.hasOwnProperty("scope")&&(r.scope=a.opentelemetry.proto.common.v1.InstrumentationScope.toObject(e.scope,t)),e.spans&&e.spans.length){r.spans=[];for(var n=0;n<e.spans.length;++n)r.spans[n]=a.opentelemetry.proto.trace.v1.Span.toObject(e.spans[n],t)}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&(r.schemaUrl=e.schemaUrl),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.ScopeSpans"},e}(),e.Span=function(){function e(e){if(this.attributes=[],this.events=[],this.links=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.traceId=null,e.prototype.spanId=null,e.prototype.traceState=null,e.prototype.parentSpanId=null,e.prototype.name=null,e.prototype.kind=null,e.prototype.startTimeUnixNano=null,e.prototype.endTimeUnixNano=null,e.prototype.attributes=s.emptyArray,e.prototype.droppedAttributesCount=null,e.prototype.events=s.emptyArray,e.prototype.droppedEventsCount=null,e.prototype.links=s.emptyArray,e.prototype.droppedLinksCount=null,e.prototype.status=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.traceId&&Object.hasOwnProperty.call(e,"traceId")&&t.uint32(10).bytes(e.traceId),null!=e.spanId&&Object.hasOwnProperty.call(e,"spanId")&&t.uint32(18).bytes(e.spanId),null!=e.traceState&&Object.hasOwnProperty.call(e,"traceState")&&t.uint32(26).string(e.traceState),null!=e.parentSpanId&&Object.hasOwnProperty.call(e,"parentSpanId")&&t.uint32(34).bytes(e.parentSpanId),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(42).string(e.name),null!=e.kind&&Object.hasOwnProperty.call(e,"kind")&&t.uint32(48).int32(e.kind),null!=e.startTimeUnixNano&&Object.hasOwnProperty.call(e,"startTimeUnixNano")&&t.uint32(57).fixed64(e.startTimeUnixNano),null!=e.endTimeUnixNano&&Object.hasOwnProperty.call(e,"endTimeUnixNano")&&t.uint32(65).fixed64(e.endTimeUnixNano),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)a.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(74).fork()).ldelim();if(null!=e.droppedAttributesCount&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&t.uint32(80).uint32(e.droppedAttributesCount),null!=e.events&&e.events.length)for(var r=0;r<e.events.length;++r)a.opentelemetry.proto.trace.v1.Span.Event.encode(e.events[r],t.uint32(90).fork()).ldelim();if(null!=e.droppedEventsCount&&Object.hasOwnProperty.call(e,"droppedEventsCount")&&t.uint32(96).uint32(e.droppedEventsCount),null!=e.links&&e.links.length)for(var r=0;r<e.links.length;++r)a.opentelemetry.proto.trace.v1.Span.Link.encode(e.links[r],t.uint32(106).fork()).ldelim();return null!=e.droppedLinksCount&&Object.hasOwnProperty.call(e,"droppedLinksCount")&&t.uint32(112).uint32(e.droppedLinksCount),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&a.opentelemetry.proto.trace.v1.Status.encode(e.status,t.uint32(122).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.trace.v1.Span;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.traceId=e.bytes();break;case 2:n.spanId=e.bytes();break;case 3:n.traceState=e.string();break;case 4:n.parentSpanId=e.bytes();break;case 5:n.name=e.string();break;case 6:n.kind=e.int32();break;case 7:n.startTimeUnixNano=e.fixed64();break;case 8:n.endTimeUnixNano=e.fixed64();break;case 9:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(a.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 10:n.droppedAttributesCount=e.uint32();break;case 11:n.events&&n.events.length||(n.events=[]),n.events.push(a.opentelemetry.proto.trace.v1.Span.Event.decode(e,e.uint32()));break;case 12:n.droppedEventsCount=e.uint32();break;case 13:n.links&&n.links.length||(n.links=[]),n.links.push(a.opentelemetry.proto.trace.v1.Span.Link.decode(e,e.uint32()));break;case 14:n.droppedLinksCount=e.uint32();break;case 15:n.status=a.opentelemetry.proto.trace.v1.Status.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.traceId&&e.hasOwnProperty("traceId")&&!(e.traceId&&"number"==typeof e.traceId.length||s.isString(e.traceId)))return"traceId: buffer expected";if(null!=e.spanId&&e.hasOwnProperty("spanId")&&!(e.spanId&&"number"==typeof e.spanId.length||s.isString(e.spanId)))return"spanId: buffer expected";if(null!=e.traceState&&e.hasOwnProperty("traceState")&&!s.isString(e.traceState))return"traceState: string expected";if(null!=e.parentSpanId&&e.hasOwnProperty("parentSpanId")&&!(e.parentSpanId&&"number"==typeof e.parentSpanId.length||s.isString(e.parentSpanId)))return"parentSpanId: buffer expected";if(null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name))return"name: string expected";if(null!=e.kind&&e.hasOwnProperty("kind"))switch(e.kind){default:return"kind: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&!s.isInteger(e.startTimeUnixNano)&&!(e.startTimeUnixNano&&s.isInteger(e.startTimeUnixNano.low)&&s.isInteger(e.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=e.endTimeUnixNano&&e.hasOwnProperty("endTimeUnixNano")&&!s.isInteger(e.endTimeUnixNano)&&!(e.endTimeUnixNano&&s.isInteger(e.endTimeUnixNano.low)&&s.isInteger(e.endTimeUnixNano.high)))return"endTimeUnixNano: integer|Long expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t){var r=a.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[t]);if(r)return"attributes."+r}}if(null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&!s.isInteger(e.droppedAttributesCount))return"droppedAttributesCount: integer expected";if(null!=e.events&&e.hasOwnProperty("events")){if(!Array.isArray(e.events))return"events: array expected";for(var t=0;t<e.events.length;++t){var r=a.opentelemetry.proto.trace.v1.Span.Event.verify(e.events[t]);if(r)return"events."+r}}if(null!=e.droppedEventsCount&&e.hasOwnProperty("droppedEventsCount")&&!s.isInteger(e.droppedEventsCount))return"droppedEventsCount: integer expected";if(null!=e.links&&e.hasOwnProperty("links")){if(!Array.isArray(e.links))return"links: array expected";for(var t=0;t<e.links.length;++t){var r=a.opentelemetry.proto.trace.v1.Span.Link.verify(e.links[t]);if(r)return"links."+r}}if(null!=e.droppedLinksCount&&e.hasOwnProperty("droppedLinksCount")&&!s.isInteger(e.droppedLinksCount))return"droppedLinksCount: integer expected";if(null!=e.status&&e.hasOwnProperty("status")){var r=a.opentelemetry.proto.trace.v1.Status.verify(e.status);if(r)return"status."+r}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.trace.v1.Span)return e;var t=new a.opentelemetry.proto.trace.v1.Span;switch(null!=e.traceId&&("string"==typeof e.traceId?s.base64.decode(e.traceId,t.traceId=s.newBuffer(s.base64.length(e.traceId)),0):e.traceId.length>=0&&(t.traceId=e.traceId)),null!=e.spanId&&("string"==typeof e.spanId?s.base64.decode(e.spanId,t.spanId=s.newBuffer(s.base64.length(e.spanId)),0):e.spanId.length>=0&&(t.spanId=e.spanId)),null!=e.traceState&&(t.traceState=String(e.traceState)),null!=e.parentSpanId&&("string"==typeof e.parentSpanId?s.base64.decode(e.parentSpanId,t.parentSpanId=s.newBuffer(s.base64.length(e.parentSpanId)),0):e.parentSpanId.length>=0&&(t.parentSpanId=e.parentSpanId)),null!=e.name&&(t.name=String(e.name)),e.kind){default:"number"==typeof e.kind&&(t.kind=e.kind);break;case"SPAN_KIND_UNSPECIFIED":case 0:t.kind=0;break;case"SPAN_KIND_INTERNAL":case 1:t.kind=1;break;case"SPAN_KIND_SERVER":case 2:t.kind=2;break;case"SPAN_KIND_CLIENT":case 3:t.kind=3;break;case"SPAN_KIND_PRODUCER":case 4:t.kind=4;break;case"SPAN_KIND_CONSUMER":case 5:t.kind=5}if(null!=e.startTimeUnixNano&&(s.Long?(t.startTimeUnixNano=s.Long.fromValue(e.startTimeUnixNano)).unsigned=!1:"string"==typeof e.startTimeUnixNano?t.startTimeUnixNano=parseInt(e.startTimeUnixNano,10):"number"==typeof e.startTimeUnixNano?t.startTimeUnixNano=e.startTimeUnixNano:"object"==typeof e.startTimeUnixNano&&(t.startTimeUnixNano=new s.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber())),null!=e.endTimeUnixNano&&(s.Long?(t.endTimeUnixNano=s.Long.fromValue(e.endTimeUnixNano)).unsigned=!1:"string"==typeof e.endTimeUnixNano?t.endTimeUnixNano=parseInt(e.endTimeUnixNano,10):"number"==typeof e.endTimeUnixNano?t.endTimeUnixNano=e.endTimeUnixNano:"object"==typeof e.endTimeUnixNano&&(t.endTimeUnixNano=new s.LongBits(e.endTimeUnixNano.low>>>0,e.endTimeUnixNano.high>>>0).toNumber())),e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: object expected");t.attributes[r]=a.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}if(null!=e.droppedAttributesCount&&(t.droppedAttributesCount=e.droppedAttributesCount>>>0),e.events){if(!Array.isArray(e.events))throw TypeError(".opentelemetry.proto.trace.v1.Span.events: array expected");t.events=[];for(var r=0;r<e.events.length;++r){if("object"!=typeof e.events[r])throw TypeError(".opentelemetry.proto.trace.v1.Span.events: object expected");t.events[r]=a.opentelemetry.proto.trace.v1.Span.Event.fromObject(e.events[r])}}if(null!=e.droppedEventsCount&&(t.droppedEventsCount=e.droppedEventsCount>>>0),e.links){if(!Array.isArray(e.links))throw TypeError(".opentelemetry.proto.trace.v1.Span.links: array expected");t.links=[];for(var r=0;r<e.links.length;++r){if("object"!=typeof e.links[r])throw TypeError(".opentelemetry.proto.trace.v1.Span.links: object expected");t.links[r]=a.opentelemetry.proto.trace.v1.Span.Link.fromObject(e.links[r])}}if(null!=e.droppedLinksCount&&(t.droppedLinksCount=e.droppedLinksCount>>>0),null!=e.status){if("object"!=typeof e.status)throw TypeError(".opentelemetry.proto.trace.v1.Span.status: object expected");t.status=a.opentelemetry.proto.trace.v1.Status.fromObject(e.status)}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[],r.events=[],r.links=[]),t.defaults){if(t.bytes===String?r.traceId="":(r.traceId=[],t.bytes!==Array&&(r.traceId=s.newBuffer(r.traceId))),t.bytes===String?r.spanId="":(r.spanId=[],t.bytes!==Array&&(r.spanId=s.newBuffer(r.spanId))),r.traceState="",t.bytes===String?r.parentSpanId="":(r.parentSpanId=[],t.bytes!==Array&&(r.parentSpanId=s.newBuffer(r.parentSpanId))),r.name="",r.kind=t.enums===String?"SPAN_KIND_UNSPECIFIED":0,s.Long){var n=new s.Long(0,0,!1);r.startTimeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.startTimeUnixNano=t.longs===String?"0":0;if(s.Long){var n=new s.Long(0,0,!1);r.endTimeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.endTimeUnixNano=t.longs===String?"0":0;r.droppedAttributesCount=0,r.droppedEventsCount=0,r.droppedLinksCount=0,r.status=null}if(null!=e.traceId&&e.hasOwnProperty("traceId")&&(r.traceId=t.bytes===String?s.base64.encode(e.traceId,0,e.traceId.length):t.bytes===Array?Array.prototype.slice.call(e.traceId):e.traceId),null!=e.spanId&&e.hasOwnProperty("spanId")&&(r.spanId=t.bytes===String?s.base64.encode(e.spanId,0,e.spanId.length):t.bytes===Array?Array.prototype.slice.call(e.spanId):e.spanId),null!=e.traceState&&e.hasOwnProperty("traceState")&&(r.traceState=e.traceState),null!=e.parentSpanId&&e.hasOwnProperty("parentSpanId")&&(r.parentSpanId=t.bytes===String?s.base64.encode(e.parentSpanId,0,e.parentSpanId.length):t.bytes===Array?Array.prototype.slice.call(e.parentSpanId):e.parentSpanId),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.kind&&e.hasOwnProperty("kind")&&(r.kind=t.enums===String?void 0===a.opentelemetry.proto.trace.v1.Span.SpanKind[e.kind]?e.kind:a.opentelemetry.proto.trace.v1.Span.SpanKind[e.kind]:e.kind),null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&("number"==typeof e.startTimeUnixNano?r.startTimeUnixNano=t.longs===String?String(e.startTimeUnixNano):e.startTimeUnixNano:r.startTimeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.startTimeUnixNano):t.longs===Number?new s.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber():e.startTimeUnixNano),null!=e.endTimeUnixNano&&e.hasOwnProperty("endTimeUnixNano")&&("number"==typeof e.endTimeUnixNano?r.endTimeUnixNano=t.longs===String?String(e.endTimeUnixNano):e.endTimeUnixNano:r.endTimeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.endTimeUnixNano):t.longs===Number?new s.LongBits(e.endTimeUnixNano.low>>>0,e.endTimeUnixNano.high>>>0).toNumber():e.endTimeUnixNano),e.attributes&&e.attributes.length){r.attributes=[];for(var i=0;i<e.attributes.length;++i)r.attributes[i]=a.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[i],t)}if(null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&(r.droppedAttributesCount=e.droppedAttributesCount),e.events&&e.events.length){r.events=[];for(var i=0;i<e.events.length;++i)r.events[i]=a.opentelemetry.proto.trace.v1.Span.Event.toObject(e.events[i],t)}if(null!=e.droppedEventsCount&&e.hasOwnProperty("droppedEventsCount")&&(r.droppedEventsCount=e.droppedEventsCount),e.links&&e.links.length){r.links=[];for(var i=0;i<e.links.length;++i)r.links[i]=a.opentelemetry.proto.trace.v1.Span.Link.toObject(e.links[i],t)}return null!=e.droppedLinksCount&&e.hasOwnProperty("droppedLinksCount")&&(r.droppedLinksCount=e.droppedLinksCount),null!=e.status&&e.hasOwnProperty("status")&&(r.status=a.opentelemetry.proto.trace.v1.Status.toObject(e.status,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.Span"},e.SpanKind=function(){var e={},t=Object.create(e);return t[e[0]="SPAN_KIND_UNSPECIFIED"]=0,t[e[1]="SPAN_KIND_INTERNAL"]=1,t[e[2]="SPAN_KIND_SERVER"]=2,t[e[3]="SPAN_KIND_CLIENT"]=3,t[e[4]="SPAN_KIND_PRODUCER"]=4,t[e[5]="SPAN_KIND_CONSUMER"]=5,t}(),e.Event=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.timeUnixNano=null,e.prototype.name=null,e.prototype.attributes=s.emptyArray,e.prototype.droppedAttributesCount=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(9).fixed64(e.timeUnixNano),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)a.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(26).fork()).ldelim();return null!=e.droppedAttributesCount&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&t.uint32(32).uint32(e.droppedAttributesCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.trace.v1.Span.Event;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.timeUnixNano=e.fixed64();break;case 2:n.name=e.string();break;case 3:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(a.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 4:n.droppedAttributesCount=e.uint32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!s.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&s.isInteger(e.timeUnixNano.low)&&s.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name))return"name: string expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t){var r=a.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[t]);if(r)return"attributes."+r}}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&!s.isInteger(e.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.trace.v1.Span.Event)return e;var t=new a.opentelemetry.proto.trace.v1.Span.Event;if(null!=e.timeUnixNano&&(s.Long?(t.timeUnixNano=s.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.name&&(t.name=String(e.name)),e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: object expected");t.attributes[r]=a.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}return null!=e.droppedAttributesCount&&(t.droppedAttributesCount=e.droppedAttributesCount>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[]),t.defaults){if(s.Long){var n=new s.Long(0,0,!1);r.timeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.timeUnixNano=t.longs===String?"0":0;r.name="",r.droppedAttributesCount=0}if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),e.attributes&&e.attributes.length){r.attributes=[];for(var i=0;i<e.attributes.length;++i)r.attributes[i]=a.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[i],t)}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&(r.droppedAttributesCount=e.droppedAttributesCount),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.Span.Event"},e}(),e.Link=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.traceId=null,e.prototype.spanId=null,e.prototype.traceState=null,e.prototype.attributes=s.emptyArray,e.prototype.droppedAttributesCount=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.traceId&&Object.hasOwnProperty.call(e,"traceId")&&t.uint32(10).bytes(e.traceId),null!=e.spanId&&Object.hasOwnProperty.call(e,"spanId")&&t.uint32(18).bytes(e.spanId),null!=e.traceState&&Object.hasOwnProperty.call(e,"traceState")&&t.uint32(26).string(e.traceState),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)a.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(34).fork()).ldelim();return null!=e.droppedAttributesCount&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&t.uint32(40).uint32(e.droppedAttributesCount),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.trace.v1.Span.Link;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.traceId=e.bytes();break;case 2:n.spanId=e.bytes();break;case 3:n.traceState=e.string();break;case 4:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(a.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 5:n.droppedAttributesCount=e.uint32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.traceId&&e.hasOwnProperty("traceId")&&!(e.traceId&&"number"==typeof e.traceId.length||s.isString(e.traceId)))return"traceId: buffer expected";if(null!=e.spanId&&e.hasOwnProperty("spanId")&&!(e.spanId&&"number"==typeof e.spanId.length||s.isString(e.spanId)))return"spanId: buffer expected";if(null!=e.traceState&&e.hasOwnProperty("traceState")&&!s.isString(e.traceState))return"traceState: string expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t){var r=a.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[t]);if(r)return"attributes."+r}}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&!s.isInteger(e.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.trace.v1.Span.Link)return e;var t=new a.opentelemetry.proto.trace.v1.Span.Link;if(null!=e.traceId&&("string"==typeof e.traceId?s.base64.decode(e.traceId,t.traceId=s.newBuffer(s.base64.length(e.traceId)),0):e.traceId.length>=0&&(t.traceId=e.traceId)),null!=e.spanId&&("string"==typeof e.spanId?s.base64.decode(e.spanId,t.spanId=s.newBuffer(s.base64.length(e.spanId)),0):e.spanId.length>=0&&(t.spanId=e.spanId)),null!=e.traceState&&(t.traceState=String(e.traceState)),e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: object expected");t.attributes[r]=a.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}return null!=e.droppedAttributesCount&&(t.droppedAttributesCount=e.droppedAttributesCount>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[]),t.defaults&&(t.bytes===String?r.traceId="":(r.traceId=[],t.bytes!==Array&&(r.traceId=s.newBuffer(r.traceId))),t.bytes===String?r.spanId="":(r.spanId=[],t.bytes!==Array&&(r.spanId=s.newBuffer(r.spanId))),r.traceState="",r.droppedAttributesCount=0),null!=e.traceId&&e.hasOwnProperty("traceId")&&(r.traceId=t.bytes===String?s.base64.encode(e.traceId,0,e.traceId.length):t.bytes===Array?Array.prototype.slice.call(e.traceId):e.traceId),null!=e.spanId&&e.hasOwnProperty("spanId")&&(r.spanId=t.bytes===String?s.base64.encode(e.spanId,0,e.spanId.length):t.bytes===Array?Array.prototype.slice.call(e.spanId):e.spanId),null!=e.traceState&&e.hasOwnProperty("traceState")&&(r.traceState=e.traceState),e.attributes&&e.attributes.length){r.attributes=[];for(var n=0;n<e.attributes.length;++n)r.attributes[n]=a.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[n],t)}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&(r.droppedAttributesCount=e.droppedAttributesCount),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.Span.Link"},e}(),e}(),e.Status=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.message=null,e.prototype.code=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(24).int32(e.code),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.trace.v1.Status;e.pos<r;){var o=e.uint32();switch(o>>>3){case 2:n.message=e.string();break;case 3:n.code=e.int32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.message&&e.hasOwnProperty("message")&&!s.isString(e.message))return"message: string expected";if(null!=e.code&&e.hasOwnProperty("code"))switch(e.code){default:return"code: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.trace.v1.Status)return e;var t=new a.opentelemetry.proto.trace.v1.Status;switch(null!=e.message&&(t.message=String(e.message)),e.code){default:"number"==typeof e.code&&(t.code=e.code);break;case"STATUS_CODE_UNSET":case 0:t.code=0;break;case"STATUS_CODE_OK":case 1:t.code=1;break;case"STATUS_CODE_ERROR":case 2:t.code=2}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.message="",r.code=t.enums===String?"STATUS_CODE_UNSET":0),null!=e.message&&e.hasOwnProperty("message")&&(r.message=e.message),null!=e.code&&e.hasOwnProperty("code")&&(r.code=t.enums===String?void 0===a.opentelemetry.proto.trace.v1.Status.StatusCode[e.code]?e.code:a.opentelemetry.proto.trace.v1.Status.StatusCode[e.code]:e.code),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.trace.v1.Status"},e.StatusCode=function(){var e={},t=Object.create(e);return t[e[0]="STATUS_CODE_UNSET"]=0,t[e[1]="STATUS_CODE_OK"]=1,t[e[2]="STATUS_CODE_ERROR"]=2,t}(),e}(),e}(),e}(),e.collector=function(){var e={};return e.trace=function(){var e={};return e.v1=function(){var e={};return e.TraceService=function(){function e(e,t,r){n.rpc.Service.call(this,e,t,r)}return(e.prototype=Object.create(n.rpc.Service.prototype)).constructor=e,e.create=function(e,t,r){return new this(e,t,r)},Object.defineProperty(e.prototype.export=function e(t,r){return this.rpcCall(e,a.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,a.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,t,r)},"name",{value:"Export"}),e}(),e.ExportTraceServiceRequest=function(){function e(e){if(this.resourceSpans=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resourceSpans=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.resourceSpans&&e.resourceSpans.length)for(var r=0;r<e.resourceSpans.length;++r)a.opentelemetry.proto.trace.v1.ResourceSpans.encode(e.resourceSpans[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;e.pos<r;){var o=e.uint32();o>>>3==1?(n.resourceSpans&&n.resourceSpans.length||(n.resourceSpans=[]),n.resourceSpans.push(a.opentelemetry.proto.trace.v1.ResourceSpans.decode(e,e.uint32()))):e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resourceSpans&&e.hasOwnProperty("resourceSpans")){if(!Array.isArray(e.resourceSpans))return"resourceSpans: array expected";for(var t=0;t<e.resourceSpans.length;++t){var r=a.opentelemetry.proto.trace.v1.ResourceSpans.verify(e.resourceSpans[t]);if(r)return"resourceSpans."+r}}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest)return e;var t=new a.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;if(e.resourceSpans){if(!Array.isArray(e.resourceSpans))throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: array expected");t.resourceSpans=[];for(var r=0;r<e.resourceSpans.length;++r){if("object"!=typeof e.resourceSpans[r])throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: object expected");t.resourceSpans[r]=a.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(e.resourceSpans[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.resourceSpans=[]),e.resourceSpans&&e.resourceSpans.length){r.resourceSpans=[];for(var n=0;n<e.resourceSpans.length;++n)r.resourceSpans[n]=a.opentelemetry.proto.trace.v1.ResourceSpans.toObject(e.resourceSpans[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest"},e}(),e.ExportTraceServiceResponse=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.partialSuccess=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.partialSuccess&&Object.hasOwnProperty.call(e,"partialSuccess")&&a.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.encode(e.partialSuccess,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;e.pos<r;){var o=e.uint32();o>>>3==1?n.partialSuccess=a.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.decode(e,e.uint32()):e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.partialSuccess&&e.hasOwnProperty("partialSuccess")){var t=a.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.verify(e.partialSuccess);if(t)return"partialSuccess."+t}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse)return e;var t=new a.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;if(null!=e.partialSuccess){if("object"!=typeof e.partialSuccess)throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse.partialSuccess: object expected");t.partialSuccess=a.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.fromObject(e.partialSuccess)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.partialSuccess=null),null!=e.partialSuccess&&e.hasOwnProperty("partialSuccess")&&(r.partialSuccess=a.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.toObject(e.partialSuccess,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse"},e}(),e.ExportTracePartialSuccess=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.rejectedSpans=null,e.prototype.errorMessage=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.rejectedSpans&&Object.hasOwnProperty.call(e,"rejectedSpans")&&t.uint32(8).int64(e.rejectedSpans),null!=e.errorMessage&&Object.hasOwnProperty.call(e,"errorMessage")&&t.uint32(18).string(e.errorMessage),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.rejectedSpans=e.int64();break;case 2:n.errorMessage=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.rejectedSpans&&e.hasOwnProperty("rejectedSpans")&&!s.isInteger(e.rejectedSpans)&&!(e.rejectedSpans&&s.isInteger(e.rejectedSpans.low)&&s.isInteger(e.rejectedSpans.high))?"rejectedSpans: integer|Long expected":null!=e.errorMessage&&e.hasOwnProperty("errorMessage")&&!s.isString(e.errorMessage)?"errorMessage: string expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess)return e;var t=new a.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;return null!=e.rejectedSpans&&(s.Long?(t.rejectedSpans=s.Long.fromValue(e.rejectedSpans)).unsigned=!1:"string"==typeof e.rejectedSpans?t.rejectedSpans=parseInt(e.rejectedSpans,10):"number"==typeof e.rejectedSpans?t.rejectedSpans=e.rejectedSpans:"object"==typeof e.rejectedSpans&&(t.rejectedSpans=new s.LongBits(e.rejectedSpans.low>>>0,e.rejectedSpans.high>>>0).toNumber())),null!=e.errorMessage&&(t.errorMessage=String(e.errorMessage)),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(s.Long){var n=new s.Long(0,0,!1);r.rejectedSpans=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.rejectedSpans=t.longs===String?"0":0;r.errorMessage=""}return null!=e.rejectedSpans&&e.hasOwnProperty("rejectedSpans")&&("number"==typeof e.rejectedSpans?r.rejectedSpans=t.longs===String?String(e.rejectedSpans):e.rejectedSpans:r.rejectedSpans=t.longs===String?s.Long.prototype.toString.call(e.rejectedSpans):t.longs===Number?new s.LongBits(e.rejectedSpans.low>>>0,e.rejectedSpans.high>>>0).toNumber():e.rejectedSpans),null!=e.errorMessage&&e.hasOwnProperty("errorMessage")&&(r.errorMessage=e.errorMessage),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess"},e}(),e}(),e}(),e.metrics=function(){var e={};return e.v1=function(){var e={};return e.MetricsService=function(){function e(e,t,r){n.rpc.Service.call(this,e,t,r)}return(e.prototype=Object.create(n.rpc.Service.prototype)).constructor=e,e.create=function(e,t,r){return new this(e,t,r)},Object.defineProperty(e.prototype.export=function e(t,r){return this.rpcCall(e,a.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,a.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,t,r)},"name",{value:"Export"}),e}(),e.ExportMetricsServiceRequest=function(){function e(e){if(this.resourceMetrics=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resourceMetrics=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.resourceMetrics&&e.resourceMetrics.length)for(var r=0;r<e.resourceMetrics.length;++r)a.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(e.resourceMetrics[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;e.pos<r;){var o=e.uint32();o>>>3==1?(n.resourceMetrics&&n.resourceMetrics.length||(n.resourceMetrics=[]),n.resourceMetrics.push(a.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(e,e.uint32()))):e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resourceMetrics&&e.hasOwnProperty("resourceMetrics")){if(!Array.isArray(e.resourceMetrics))return"resourceMetrics: array expected";for(var t=0;t<e.resourceMetrics.length;++t){var r=a.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(e.resourceMetrics[t]);if(r)return"resourceMetrics."+r}}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest)return e;var t=new a.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;if(e.resourceMetrics){if(!Array.isArray(e.resourceMetrics))throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: array expected");t.resourceMetrics=[];for(var r=0;r<e.resourceMetrics.length;++r){if("object"!=typeof e.resourceMetrics[r])throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: object expected");t.resourceMetrics[r]=a.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(e.resourceMetrics[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.resourceMetrics=[]),e.resourceMetrics&&e.resourceMetrics.length){r.resourceMetrics=[];for(var n=0;n<e.resourceMetrics.length;++n)r.resourceMetrics[n]=a.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(e.resourceMetrics[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest"},e}(),e.ExportMetricsServiceResponse=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.partialSuccess=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.partialSuccess&&Object.hasOwnProperty.call(e,"partialSuccess")&&a.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.encode(e.partialSuccess,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;e.pos<r;){var o=e.uint32();o>>>3==1?n.partialSuccess=a.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.decode(e,e.uint32()):e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.partialSuccess&&e.hasOwnProperty("partialSuccess")){var t=a.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.verify(e.partialSuccess);if(t)return"partialSuccess."+t}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse)return e;var t=new a.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;if(null!=e.partialSuccess){if("object"!=typeof e.partialSuccess)throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse.partialSuccess: object expected");t.partialSuccess=a.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.fromObject(e.partialSuccess)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.partialSuccess=null),null!=e.partialSuccess&&e.hasOwnProperty("partialSuccess")&&(r.partialSuccess=a.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.toObject(e.partialSuccess,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse"},e}(),e.ExportMetricsPartialSuccess=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.rejectedDataPoints=null,e.prototype.errorMessage=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.rejectedDataPoints&&Object.hasOwnProperty.call(e,"rejectedDataPoints")&&t.uint32(8).int64(e.rejectedDataPoints),null!=e.errorMessage&&Object.hasOwnProperty.call(e,"errorMessage")&&t.uint32(18).string(e.errorMessage),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.rejectedDataPoints=e.int64();break;case 2:n.errorMessage=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.rejectedDataPoints&&e.hasOwnProperty("rejectedDataPoints")&&!s.isInteger(e.rejectedDataPoints)&&!(e.rejectedDataPoints&&s.isInteger(e.rejectedDataPoints.low)&&s.isInteger(e.rejectedDataPoints.high))?"rejectedDataPoints: integer|Long expected":null!=e.errorMessage&&e.hasOwnProperty("errorMessage")&&!s.isString(e.errorMessage)?"errorMessage: string expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess)return e;var t=new a.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;return null!=e.rejectedDataPoints&&(s.Long?(t.rejectedDataPoints=s.Long.fromValue(e.rejectedDataPoints)).unsigned=!1:"string"==typeof e.rejectedDataPoints?t.rejectedDataPoints=parseInt(e.rejectedDataPoints,10):"number"==typeof e.rejectedDataPoints?t.rejectedDataPoints=e.rejectedDataPoints:"object"==typeof e.rejectedDataPoints&&(t.rejectedDataPoints=new s.LongBits(e.rejectedDataPoints.low>>>0,e.rejectedDataPoints.high>>>0).toNumber())),null!=e.errorMessage&&(t.errorMessage=String(e.errorMessage)),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(s.Long){var n=new s.Long(0,0,!1);r.rejectedDataPoints=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.rejectedDataPoints=t.longs===String?"0":0;r.errorMessage=""}return null!=e.rejectedDataPoints&&e.hasOwnProperty("rejectedDataPoints")&&("number"==typeof e.rejectedDataPoints?r.rejectedDataPoints=t.longs===String?String(e.rejectedDataPoints):e.rejectedDataPoints:r.rejectedDataPoints=t.longs===String?s.Long.prototype.toString.call(e.rejectedDataPoints):t.longs===Number?new s.LongBits(e.rejectedDataPoints.low>>>0,e.rejectedDataPoints.high>>>0).toNumber():e.rejectedDataPoints),null!=e.errorMessage&&e.hasOwnProperty("errorMessage")&&(r.errorMessage=e.errorMessage),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess"},e}(),e}(),e}(),e.logs=function(){var e={};return e.v1=function(){var e={};return e.LogsService=function(){function e(e,t,r){n.rpc.Service.call(this,e,t,r)}return(e.prototype=Object.create(n.rpc.Service.prototype)).constructor=e,e.create=function(e,t,r){return new this(e,t,r)},Object.defineProperty(e.prototype.export=function e(t,r){return this.rpcCall(e,a.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,a.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,t,r)},"name",{value:"Export"}),e}(),e.ExportLogsServiceRequest=function(){function e(e){if(this.resourceLogs=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resourceLogs=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.resourceLogs&&e.resourceLogs.length)for(var r=0;r<e.resourceLogs.length;++r)a.opentelemetry.proto.logs.v1.ResourceLogs.encode(e.resourceLogs[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;e.pos<r;){var o=e.uint32();o>>>3==1?(n.resourceLogs&&n.resourceLogs.length||(n.resourceLogs=[]),n.resourceLogs.push(a.opentelemetry.proto.logs.v1.ResourceLogs.decode(e,e.uint32()))):e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resourceLogs&&e.hasOwnProperty("resourceLogs")){if(!Array.isArray(e.resourceLogs))return"resourceLogs: array expected";for(var t=0;t<e.resourceLogs.length;++t){var r=a.opentelemetry.proto.logs.v1.ResourceLogs.verify(e.resourceLogs[t]);if(r)return"resourceLogs."+r}}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest)return e;var t=new a.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;if(e.resourceLogs){if(!Array.isArray(e.resourceLogs))throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: array expected");t.resourceLogs=[];for(var r=0;r<e.resourceLogs.length;++r){if("object"!=typeof e.resourceLogs[r])throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: object expected");t.resourceLogs[r]=a.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(e.resourceLogs[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.resourceLogs=[]),e.resourceLogs&&e.resourceLogs.length){r.resourceLogs=[];for(var n=0;n<e.resourceLogs.length;++n)r.resourceLogs[n]=a.opentelemetry.proto.logs.v1.ResourceLogs.toObject(e.resourceLogs[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest"},e}(),e.ExportLogsServiceResponse=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.partialSuccess=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.partialSuccess&&Object.hasOwnProperty.call(e,"partialSuccess")&&a.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.encode(e.partialSuccess,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;e.pos<r;){var o=e.uint32();o>>>3==1?n.partialSuccess=a.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.decode(e,e.uint32()):e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.partialSuccess&&e.hasOwnProperty("partialSuccess")){var t=a.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.verify(e.partialSuccess);if(t)return"partialSuccess."+t}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse)return e;var t=new a.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;if(null!=e.partialSuccess){if("object"!=typeof e.partialSuccess)throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse.partialSuccess: object expected");t.partialSuccess=a.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.fromObject(e.partialSuccess)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.partialSuccess=null),null!=e.partialSuccess&&e.hasOwnProperty("partialSuccess")&&(r.partialSuccess=a.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.toObject(e.partialSuccess,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse"},e}(),e.ExportLogsPartialSuccess=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.rejectedLogRecords=null,e.prototype.errorMessage=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.rejectedLogRecords&&Object.hasOwnProperty.call(e,"rejectedLogRecords")&&t.uint32(8).int64(e.rejectedLogRecords),null!=e.errorMessage&&Object.hasOwnProperty.call(e,"errorMessage")&&t.uint32(18).string(e.errorMessage),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.rejectedLogRecords=e.int64();break;case 2:n.errorMessage=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.rejectedLogRecords&&e.hasOwnProperty("rejectedLogRecords")&&!s.isInteger(e.rejectedLogRecords)&&!(e.rejectedLogRecords&&s.isInteger(e.rejectedLogRecords.low)&&s.isInteger(e.rejectedLogRecords.high))?"rejectedLogRecords: integer|Long expected":null!=e.errorMessage&&e.hasOwnProperty("errorMessage")&&!s.isString(e.errorMessage)?"errorMessage: string expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess)return e;var t=new a.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;return null!=e.rejectedLogRecords&&(s.Long?(t.rejectedLogRecords=s.Long.fromValue(e.rejectedLogRecords)).unsigned=!1:"string"==typeof e.rejectedLogRecords?t.rejectedLogRecords=parseInt(e.rejectedLogRecords,10):"number"==typeof e.rejectedLogRecords?t.rejectedLogRecords=e.rejectedLogRecords:"object"==typeof e.rejectedLogRecords&&(t.rejectedLogRecords=new s.LongBits(e.rejectedLogRecords.low>>>0,e.rejectedLogRecords.high>>>0).toNumber())),null!=e.errorMessage&&(t.errorMessage=String(e.errorMessage)),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(s.Long){var n=new s.Long(0,0,!1);r.rejectedLogRecords=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.rejectedLogRecords=t.longs===String?"0":0;r.errorMessage=""}return null!=e.rejectedLogRecords&&e.hasOwnProperty("rejectedLogRecords")&&("number"==typeof e.rejectedLogRecords?r.rejectedLogRecords=t.longs===String?String(e.rejectedLogRecords):e.rejectedLogRecords:r.rejectedLogRecords=t.longs===String?s.Long.prototype.toString.call(e.rejectedLogRecords):t.longs===Number?new s.LongBits(e.rejectedLogRecords.low>>>0,e.rejectedLogRecords.high>>>0).toNumber():e.rejectedLogRecords),null!=e.errorMessage&&e.hasOwnProperty("errorMessage")&&(r.errorMessage=e.errorMessage),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess"},e}(),e}(),e}(),e}(),e.metrics=function(){var e={};return e.v1=function(){var e={};return e.MetricsData=function(){function e(e){if(this.resourceMetrics=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resourceMetrics=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.resourceMetrics&&e.resourceMetrics.length)for(var r=0;r<e.resourceMetrics.length;++r)a.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(e.resourceMetrics[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.metrics.v1.MetricsData;e.pos<r;){var o=e.uint32();o>>>3==1?(n.resourceMetrics&&n.resourceMetrics.length||(n.resourceMetrics=[]),n.resourceMetrics.push(a.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(e,e.uint32()))):e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resourceMetrics&&e.hasOwnProperty("resourceMetrics")){if(!Array.isArray(e.resourceMetrics))return"resourceMetrics: array expected";for(var t=0;t<e.resourceMetrics.length;++t){var r=a.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(e.resourceMetrics[t]);if(r)return"resourceMetrics."+r}}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.MetricsData)return e;var t=new a.opentelemetry.proto.metrics.v1.MetricsData;if(e.resourceMetrics){if(!Array.isArray(e.resourceMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: array expected");t.resourceMetrics=[];for(var r=0;r<e.resourceMetrics.length;++r){if("object"!=typeof e.resourceMetrics[r])throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: object expected");t.resourceMetrics[r]=a.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(e.resourceMetrics[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.resourceMetrics=[]),e.resourceMetrics&&e.resourceMetrics.length){r.resourceMetrics=[];for(var n=0;n<e.resourceMetrics.length;++n)r.resourceMetrics[n]=a.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(e.resourceMetrics[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.MetricsData"},e}(),e.ResourceMetrics=function(){function e(e){if(this.scopeMetrics=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resource=null,e.prototype.scopeMetrics=s.emptyArray,e.prototype.schemaUrl=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&a.opentelemetry.proto.resource.v1.Resource.encode(e.resource,t.uint32(10).fork()).ldelim(),null!=e.scopeMetrics&&e.scopeMetrics.length)for(var r=0;r<e.scopeMetrics.length;++r)a.opentelemetry.proto.metrics.v1.ScopeMetrics.encode(e.scopeMetrics[r],t.uint32(18).fork()).ldelim();return null!=e.schemaUrl&&Object.hasOwnProperty.call(e,"schemaUrl")&&t.uint32(26).string(e.schemaUrl),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.metrics.v1.ResourceMetrics;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.resource=a.opentelemetry.proto.resource.v1.Resource.decode(e,e.uint32());break;case 2:n.scopeMetrics&&n.scopeMetrics.length||(n.scopeMetrics=[]),n.scopeMetrics.push(a.opentelemetry.proto.metrics.v1.ScopeMetrics.decode(e,e.uint32()));break;case 3:n.schemaUrl=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resource&&e.hasOwnProperty("resource")){var t=a.opentelemetry.proto.resource.v1.Resource.verify(e.resource);if(t)return"resource."+t}if(null!=e.scopeMetrics&&e.hasOwnProperty("scopeMetrics")){if(!Array.isArray(e.scopeMetrics))return"scopeMetrics: array expected";for(var r=0;r<e.scopeMetrics.length;++r){var t=a.opentelemetry.proto.metrics.v1.ScopeMetrics.verify(e.scopeMetrics[r]);if(t)return"scopeMetrics."+t}}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&!s.isString(e.schemaUrl)?"schemaUrl: string expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.ResourceMetrics)return e;var t=new a.opentelemetry.proto.metrics.v1.ResourceMetrics;if(null!=e.resource){if("object"!=typeof e.resource)throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.resource: object expected");t.resource=a.opentelemetry.proto.resource.v1.Resource.fromObject(e.resource)}if(e.scopeMetrics){if(!Array.isArray(e.scopeMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: array expected");t.scopeMetrics=[];for(var r=0;r<e.scopeMetrics.length;++r){if("object"!=typeof e.scopeMetrics[r])throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: object expected");t.scopeMetrics[r]=a.opentelemetry.proto.metrics.v1.ScopeMetrics.fromObject(e.scopeMetrics[r])}}return null!=e.schemaUrl&&(t.schemaUrl=String(e.schemaUrl)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.scopeMetrics=[]),t.defaults&&(r.resource=null,r.schemaUrl=""),null!=e.resource&&e.hasOwnProperty("resource")&&(r.resource=a.opentelemetry.proto.resource.v1.Resource.toObject(e.resource,t)),e.scopeMetrics&&e.scopeMetrics.length){r.scopeMetrics=[];for(var n=0;n<e.scopeMetrics.length;++n)r.scopeMetrics[n]=a.opentelemetry.proto.metrics.v1.ScopeMetrics.toObject(e.scopeMetrics[n],t)}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&(r.schemaUrl=e.schemaUrl),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.ResourceMetrics"},e}(),e.ScopeMetrics=function(){function e(e){if(this.metrics=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.scope=null,e.prototype.metrics=s.emptyArray,e.prototype.schemaUrl=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.scope&&Object.hasOwnProperty.call(e,"scope")&&a.opentelemetry.proto.common.v1.InstrumentationScope.encode(e.scope,t.uint32(10).fork()).ldelim(),null!=e.metrics&&e.metrics.length)for(var r=0;r<e.metrics.length;++r)a.opentelemetry.proto.metrics.v1.Metric.encode(e.metrics[r],t.uint32(18).fork()).ldelim();return null!=e.schemaUrl&&Object.hasOwnProperty.call(e,"schemaUrl")&&t.uint32(26).string(e.schemaUrl),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.metrics.v1.ScopeMetrics;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.scope=a.opentelemetry.proto.common.v1.InstrumentationScope.decode(e,e.uint32());break;case 2:n.metrics&&n.metrics.length||(n.metrics=[]),n.metrics.push(a.opentelemetry.proto.metrics.v1.Metric.decode(e,e.uint32()));break;case 3:n.schemaUrl=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.scope&&e.hasOwnProperty("scope")){var t=a.opentelemetry.proto.common.v1.InstrumentationScope.verify(e.scope);if(t)return"scope."+t}if(null!=e.metrics&&e.hasOwnProperty("metrics")){if(!Array.isArray(e.metrics))return"metrics: array expected";for(var r=0;r<e.metrics.length;++r){var t=a.opentelemetry.proto.metrics.v1.Metric.verify(e.metrics[r]);if(t)return"metrics."+t}}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&!s.isString(e.schemaUrl)?"schemaUrl: string expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.ScopeMetrics)return e;var t=new a.opentelemetry.proto.metrics.v1.ScopeMetrics;if(null!=e.scope){if("object"!=typeof e.scope)throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.scope: object expected");t.scope=a.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(e.scope)}if(e.metrics){if(!Array.isArray(e.metrics))throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: array expected");t.metrics=[];for(var r=0;r<e.metrics.length;++r){if("object"!=typeof e.metrics[r])throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: object expected");t.metrics[r]=a.opentelemetry.proto.metrics.v1.Metric.fromObject(e.metrics[r])}}return null!=e.schemaUrl&&(t.schemaUrl=String(e.schemaUrl)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.metrics=[]),t.defaults&&(r.scope=null,r.schemaUrl=""),null!=e.scope&&e.hasOwnProperty("scope")&&(r.scope=a.opentelemetry.proto.common.v1.InstrumentationScope.toObject(e.scope,t)),e.metrics&&e.metrics.length){r.metrics=[];for(var n=0;n<e.metrics.length;++n)r.metrics[n]=a.opentelemetry.proto.metrics.v1.Metric.toObject(e.metrics[n],t)}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&(r.schemaUrl=e.schemaUrl),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.ScopeMetrics"},e}(),e.Metric=function(){var e;function t(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.name=null,t.prototype.description=null,t.prototype.unit=null,t.prototype.gauge=null,t.prototype.sum=null,t.prototype.histogram=null,t.prototype.exponentialHistogram=null,t.prototype.summary=null,Object.defineProperty(t.prototype,"data",{get:s.oneOfGetter(e=["gauge","sum","histogram","exponentialHistogram","summary"]),set:s.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=o.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(18).string(e.description),null!=e.unit&&Object.hasOwnProperty.call(e,"unit")&&t.uint32(26).string(e.unit),null!=e.gauge&&Object.hasOwnProperty.call(e,"gauge")&&a.opentelemetry.proto.metrics.v1.Gauge.encode(e.gauge,t.uint32(42).fork()).ldelim(),null!=e.sum&&Object.hasOwnProperty.call(e,"sum")&&a.opentelemetry.proto.metrics.v1.Sum.encode(e.sum,t.uint32(58).fork()).ldelim(),null!=e.histogram&&Object.hasOwnProperty.call(e,"histogram")&&a.opentelemetry.proto.metrics.v1.Histogram.encode(e.histogram,t.uint32(74).fork()).ldelim(),null!=e.exponentialHistogram&&Object.hasOwnProperty.call(e,"exponentialHistogram")&&a.opentelemetry.proto.metrics.v1.ExponentialHistogram.encode(e.exponentialHistogram,t.uint32(82).fork()).ldelim(),null!=e.summary&&Object.hasOwnProperty.call(e,"summary")&&a.opentelemetry.proto.metrics.v1.Summary.encode(e.summary,t.uint32(90).fork()).ldelim(),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.metrics.v1.Metric;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.name=e.string();break;case 2:n.description=e.string();break;case 3:n.unit=e.string();break;case 5:n.gauge=a.opentelemetry.proto.metrics.v1.Gauge.decode(e,e.uint32());break;case 7:n.sum=a.opentelemetry.proto.metrics.v1.Sum.decode(e,e.uint32());break;case 9:n.histogram=a.opentelemetry.proto.metrics.v1.Histogram.decode(e,e.uint32());break;case 10:n.exponentialHistogram=a.opentelemetry.proto.metrics.v1.ExponentialHistogram.decode(e,e.uint32());break;case 11:n.summary=a.opentelemetry.proto.metrics.v1.Summary.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.name&&e.hasOwnProperty("name")&&!s.isString(e.name))return"name: string expected";if(null!=e.description&&e.hasOwnProperty("description")&&!s.isString(e.description))return"description: string expected";if(null!=e.unit&&e.hasOwnProperty("unit")&&!s.isString(e.unit))return"unit: string expected";if(null!=e.gauge&&e.hasOwnProperty("gauge")){t.data=1;var r=a.opentelemetry.proto.metrics.v1.Gauge.verify(e.gauge);if(r)return"gauge."+r}if(null!=e.sum&&e.hasOwnProperty("sum")){if(1===t.data)return"data: multiple values";t.data=1;var r=a.opentelemetry.proto.metrics.v1.Sum.verify(e.sum);if(r)return"sum."+r}if(null!=e.histogram&&e.hasOwnProperty("histogram")){if(1===t.data)return"data: multiple values";t.data=1;var r=a.opentelemetry.proto.metrics.v1.Histogram.verify(e.histogram);if(r)return"histogram."+r}if(null!=e.exponentialHistogram&&e.hasOwnProperty("exponentialHistogram")){if(1===t.data)return"data: multiple values";t.data=1;var r=a.opentelemetry.proto.metrics.v1.ExponentialHistogram.verify(e.exponentialHistogram);if(r)return"exponentialHistogram."+r}if(null!=e.summary&&e.hasOwnProperty("summary")){if(1===t.data)return"data: multiple values";t.data=1;var r=a.opentelemetry.proto.metrics.v1.Summary.verify(e.summary);if(r)return"summary."+r}return null},t.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.Metric)return e;var t=new a.opentelemetry.proto.metrics.v1.Metric;if(null!=e.name&&(t.name=String(e.name)),null!=e.description&&(t.description=String(e.description)),null!=e.unit&&(t.unit=String(e.unit)),null!=e.gauge){if("object"!=typeof e.gauge)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.gauge: object expected");t.gauge=a.opentelemetry.proto.metrics.v1.Gauge.fromObject(e.gauge)}if(null!=e.sum){if("object"!=typeof e.sum)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.sum: object expected");t.sum=a.opentelemetry.proto.metrics.v1.Sum.fromObject(e.sum)}if(null!=e.histogram){if("object"!=typeof e.histogram)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.histogram: object expected");t.histogram=a.opentelemetry.proto.metrics.v1.Histogram.fromObject(e.histogram)}if(null!=e.exponentialHistogram){if("object"!=typeof e.exponentialHistogram)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.exponentialHistogram: object expected");t.exponentialHistogram=a.opentelemetry.proto.metrics.v1.ExponentialHistogram.fromObject(e.exponentialHistogram)}if(null!=e.summary){if("object"!=typeof e.summary)throw TypeError(".opentelemetry.proto.metrics.v1.Metric.summary: object expected");t.summary=a.opentelemetry.proto.metrics.v1.Summary.fromObject(e.summary)}return t},t.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.name="",r.description="",r.unit=""),null!=e.name&&e.hasOwnProperty("name")&&(r.name=e.name),null!=e.description&&e.hasOwnProperty("description")&&(r.description=e.description),null!=e.unit&&e.hasOwnProperty("unit")&&(r.unit=e.unit),null!=e.gauge&&e.hasOwnProperty("gauge")&&(r.gauge=a.opentelemetry.proto.metrics.v1.Gauge.toObject(e.gauge,t),t.oneofs&&(r.data="gauge")),null!=e.sum&&e.hasOwnProperty("sum")&&(r.sum=a.opentelemetry.proto.metrics.v1.Sum.toObject(e.sum,t),t.oneofs&&(r.data="sum")),null!=e.histogram&&e.hasOwnProperty("histogram")&&(r.histogram=a.opentelemetry.proto.metrics.v1.Histogram.toObject(e.histogram,t),t.oneofs&&(r.data="histogram")),null!=e.exponentialHistogram&&e.hasOwnProperty("exponentialHistogram")&&(r.exponentialHistogram=a.opentelemetry.proto.metrics.v1.ExponentialHistogram.toObject(e.exponentialHistogram,t),t.oneofs&&(r.data="exponentialHistogram")),null!=e.summary&&e.hasOwnProperty("summary")&&(r.summary=a.opentelemetry.proto.metrics.v1.Summary.toObject(e.summary,t),t.oneofs&&(r.data="summary")),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},t.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Metric"},t}(),e.Gauge=function(){function e(e){if(this.dataPoints=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dataPoints=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.dataPoints&&e.dataPoints.length)for(var r=0;r<e.dataPoints.length;++r)a.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(e.dataPoints[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.metrics.v1.Gauge;e.pos<r;){var o=e.uint32();o>>>3==1?(n.dataPoints&&n.dataPoints.length||(n.dataPoints=[]),n.dataPoints.push(a.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(e,e.uint32()))):e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dataPoints&&e.hasOwnProperty("dataPoints")){if(!Array.isArray(e.dataPoints))return"dataPoints: array expected";for(var t=0;t<e.dataPoints.length;++t){var r=a.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(e.dataPoints[t]);if(r)return"dataPoints."+r}}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.Gauge)return e;var t=new a.opentelemetry.proto.metrics.v1.Gauge;if(e.dataPoints){if(!Array.isArray(e.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: array expected");t.dataPoints=[];for(var r=0;r<e.dataPoints.length;++r){if("object"!=typeof e.dataPoints[r])throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: object expected");t.dataPoints[r]=a.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(e.dataPoints[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.dataPoints=[]),e.dataPoints&&e.dataPoints.length){r.dataPoints=[];for(var n=0;n<e.dataPoints.length;++n)r.dataPoints[n]=a.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(e.dataPoints[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Gauge"},e}(),e.Sum=function(){function e(e){if(this.dataPoints=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dataPoints=s.emptyArray,e.prototype.aggregationTemporality=null,e.prototype.isMonotonic=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.dataPoints&&e.dataPoints.length)for(var r=0;r<e.dataPoints.length;++r)a.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(e.dataPoints[r],t.uint32(10).fork()).ldelim();return null!=e.aggregationTemporality&&Object.hasOwnProperty.call(e,"aggregationTemporality")&&t.uint32(16).int32(e.aggregationTemporality),null!=e.isMonotonic&&Object.hasOwnProperty.call(e,"isMonotonic")&&t.uint32(24).bool(e.isMonotonic),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.metrics.v1.Sum;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.dataPoints&&n.dataPoints.length||(n.dataPoints=[]),n.dataPoints.push(a.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(e,e.uint32()));break;case 2:n.aggregationTemporality=e.int32();break;case 3:n.isMonotonic=e.bool();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dataPoints&&e.hasOwnProperty("dataPoints")){if(!Array.isArray(e.dataPoints))return"dataPoints: array expected";for(var t=0;t<e.dataPoints.length;++t){var r=a.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(e.dataPoints[t]);if(r)return"dataPoints."+r}}if(null!=e.aggregationTemporality&&e.hasOwnProperty("aggregationTemporality"))switch(e.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:}return null!=e.isMonotonic&&e.hasOwnProperty("isMonotonic")&&"boolean"!=typeof e.isMonotonic?"isMonotonic: boolean expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.Sum)return e;var t=new a.opentelemetry.proto.metrics.v1.Sum;if(e.dataPoints){if(!Array.isArray(e.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: array expected");t.dataPoints=[];for(var r=0;r<e.dataPoints.length;++r){if("object"!=typeof e.dataPoints[r])throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: object expected");t.dataPoints[r]=a.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(e.dataPoints[r])}}switch(e.aggregationTemporality){default:"number"==typeof e.aggregationTemporality&&(t.aggregationTemporality=e.aggregationTemporality);break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:t.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:t.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:t.aggregationTemporality=2}return null!=e.isMonotonic&&(t.isMonotonic=!!e.isMonotonic),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.dataPoints=[]),t.defaults&&(r.aggregationTemporality=t.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0,r.isMonotonic=!1),e.dataPoints&&e.dataPoints.length){r.dataPoints=[];for(var n=0;n<e.dataPoints.length;++n)r.dataPoints[n]=a.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(e.dataPoints[n],t)}return null!=e.aggregationTemporality&&e.hasOwnProperty("aggregationTemporality")&&(r.aggregationTemporality=t.enums===String?void 0===a.opentelemetry.proto.metrics.v1.AggregationTemporality[e.aggregationTemporality]?e.aggregationTemporality:a.opentelemetry.proto.metrics.v1.AggregationTemporality[e.aggregationTemporality]:e.aggregationTemporality),null!=e.isMonotonic&&e.hasOwnProperty("isMonotonic")&&(r.isMonotonic=e.isMonotonic),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Sum"},e}(),e.Histogram=function(){function e(e){if(this.dataPoints=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dataPoints=s.emptyArray,e.prototype.aggregationTemporality=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.dataPoints&&e.dataPoints.length)for(var r=0;r<e.dataPoints.length;++r)a.opentelemetry.proto.metrics.v1.HistogramDataPoint.encode(e.dataPoints[r],t.uint32(10).fork()).ldelim();return null!=e.aggregationTemporality&&Object.hasOwnProperty.call(e,"aggregationTemporality")&&t.uint32(16).int32(e.aggregationTemporality),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.metrics.v1.Histogram;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.dataPoints&&n.dataPoints.length||(n.dataPoints=[]),n.dataPoints.push(a.opentelemetry.proto.metrics.v1.HistogramDataPoint.decode(e,e.uint32()));break;case 2:n.aggregationTemporality=e.int32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dataPoints&&e.hasOwnProperty("dataPoints")){if(!Array.isArray(e.dataPoints))return"dataPoints: array expected";for(var t=0;t<e.dataPoints.length;++t){var r=a.opentelemetry.proto.metrics.v1.HistogramDataPoint.verify(e.dataPoints[t]);if(r)return"dataPoints."+r}}if(null!=e.aggregationTemporality&&e.hasOwnProperty("aggregationTemporality"))switch(e.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.Histogram)return e;var t=new a.opentelemetry.proto.metrics.v1.Histogram;if(e.dataPoints){if(!Array.isArray(e.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: array expected");t.dataPoints=[];for(var r=0;r<e.dataPoints.length;++r){if("object"!=typeof e.dataPoints[r])throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: object expected");t.dataPoints[r]=a.opentelemetry.proto.metrics.v1.HistogramDataPoint.fromObject(e.dataPoints[r])}}switch(e.aggregationTemporality){default:"number"==typeof e.aggregationTemporality&&(t.aggregationTemporality=e.aggregationTemporality);break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:t.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:t.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:t.aggregationTemporality=2}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.dataPoints=[]),t.defaults&&(r.aggregationTemporality=t.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),e.dataPoints&&e.dataPoints.length){r.dataPoints=[];for(var n=0;n<e.dataPoints.length;++n)r.dataPoints[n]=a.opentelemetry.proto.metrics.v1.HistogramDataPoint.toObject(e.dataPoints[n],t)}return null!=e.aggregationTemporality&&e.hasOwnProperty("aggregationTemporality")&&(r.aggregationTemporality=t.enums===String?void 0===a.opentelemetry.proto.metrics.v1.AggregationTemporality[e.aggregationTemporality]?e.aggregationTemporality:a.opentelemetry.proto.metrics.v1.AggregationTemporality[e.aggregationTemporality]:e.aggregationTemporality),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Histogram"},e}(),e.ExponentialHistogram=function(){function e(e){if(this.dataPoints=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dataPoints=s.emptyArray,e.prototype.aggregationTemporality=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.dataPoints&&e.dataPoints.length)for(var r=0;r<e.dataPoints.length;++r)a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.encode(e.dataPoints[r],t.uint32(10).fork()).ldelim();return null!=e.aggregationTemporality&&Object.hasOwnProperty.call(e,"aggregationTemporality")&&t.uint32(16).int32(e.aggregationTemporality),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.metrics.v1.ExponentialHistogram;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.dataPoints&&n.dataPoints.length||(n.dataPoints=[]),n.dataPoints.push(a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.decode(e,e.uint32()));break;case 2:n.aggregationTemporality=e.int32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dataPoints&&e.hasOwnProperty("dataPoints")){if(!Array.isArray(e.dataPoints))return"dataPoints: array expected";for(var t=0;t<e.dataPoints.length;++t){var r=a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.verify(e.dataPoints[t]);if(r)return"dataPoints."+r}}if(null!=e.aggregationTemporality&&e.hasOwnProperty("aggregationTemporality"))switch(e.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.ExponentialHistogram)return e;var t=new a.opentelemetry.proto.metrics.v1.ExponentialHistogram;if(e.dataPoints){if(!Array.isArray(e.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: array expected");t.dataPoints=[];for(var r=0;r<e.dataPoints.length;++r){if("object"!=typeof e.dataPoints[r])throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: object expected");t.dataPoints[r]=a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.fromObject(e.dataPoints[r])}}switch(e.aggregationTemporality){default:"number"==typeof e.aggregationTemporality&&(t.aggregationTemporality=e.aggregationTemporality);break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:t.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:t.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:t.aggregationTemporality=2}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.dataPoints=[]),t.defaults&&(r.aggregationTemporality=t.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),e.dataPoints&&e.dataPoints.length){r.dataPoints=[];for(var n=0;n<e.dataPoints.length;++n)r.dataPoints[n]=a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.toObject(e.dataPoints[n],t)}return null!=e.aggregationTemporality&&e.hasOwnProperty("aggregationTemporality")&&(r.aggregationTemporality=t.enums===String?void 0===a.opentelemetry.proto.metrics.v1.AggregationTemporality[e.aggregationTemporality]?e.aggregationTemporality:a.opentelemetry.proto.metrics.v1.AggregationTemporality[e.aggregationTemporality]:e.aggregationTemporality),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.ExponentialHistogram"},e}(),e.Summary=function(){function e(e){if(this.dataPoints=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.dataPoints=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.dataPoints&&e.dataPoints.length)for(var r=0;r<e.dataPoints.length;++r)a.opentelemetry.proto.metrics.v1.SummaryDataPoint.encode(e.dataPoints[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.metrics.v1.Summary;e.pos<r;){var o=e.uint32();o>>>3==1?(n.dataPoints&&n.dataPoints.length||(n.dataPoints=[]),n.dataPoints.push(a.opentelemetry.proto.metrics.v1.SummaryDataPoint.decode(e,e.uint32()))):e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.dataPoints&&e.hasOwnProperty("dataPoints")){if(!Array.isArray(e.dataPoints))return"dataPoints: array expected";for(var t=0;t<e.dataPoints.length;++t){var r=a.opentelemetry.proto.metrics.v1.SummaryDataPoint.verify(e.dataPoints[t]);if(r)return"dataPoints."+r}}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.Summary)return e;var t=new a.opentelemetry.proto.metrics.v1.Summary;if(e.dataPoints){if(!Array.isArray(e.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: array expected");t.dataPoints=[];for(var r=0;r<e.dataPoints.length;++r){if("object"!=typeof e.dataPoints[r])throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: object expected");t.dataPoints[r]=a.opentelemetry.proto.metrics.v1.SummaryDataPoint.fromObject(e.dataPoints[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.dataPoints=[]),e.dataPoints&&e.dataPoints.length){r.dataPoints=[];for(var n=0;n<e.dataPoints.length;++n)r.dataPoints[n]=a.opentelemetry.proto.metrics.v1.SummaryDataPoint.toObject(e.dataPoints[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Summary"},e}(),e.AggregationTemporality=function(){var e={},t=Object.create(e);return t[e[0]="AGGREGATION_TEMPORALITY_UNSPECIFIED"]=0,t[e[1]="AGGREGATION_TEMPORALITY_DELTA"]=1,t[e[2]="AGGREGATION_TEMPORALITY_CUMULATIVE"]=2,t}(),e.DataPointFlags=function(){var e={},t=Object.create(e);return t[e[0]="DATA_POINT_FLAGS_DO_NOT_USE"]=0,t[e[1]="DATA_POINT_FLAGS_NO_RECORDED_VALUE_MASK"]=1,t}(),e.NumberDataPoint=function(){var e;function t(e){if(this.attributes=[],this.exemplars=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.attributes=s.emptyArray,t.prototype.startTimeUnixNano=null,t.prototype.timeUnixNano=null,t.prototype.asDouble=null,t.prototype.asInt=null,t.prototype.exemplars=s.emptyArray,t.prototype.flags=null,Object.defineProperty(t.prototype,"value",{get:s.oneOfGetter(e=["asDouble","asInt"]),set:s.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=o.create()),null!=e.startTimeUnixNano&&Object.hasOwnProperty.call(e,"startTimeUnixNano")&&t.uint32(17).fixed64(e.startTimeUnixNano),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(25).fixed64(e.timeUnixNano),null!=e.asDouble&&Object.hasOwnProperty.call(e,"asDouble")&&t.uint32(33).double(e.asDouble),null!=e.exemplars&&e.exemplars.length)for(var r=0;r<e.exemplars.length;++r)a.opentelemetry.proto.metrics.v1.Exemplar.encode(e.exemplars[r],t.uint32(42).fork()).ldelim();if(null!=e.asInt&&Object.hasOwnProperty.call(e,"asInt")&&t.uint32(49).sfixed64(e.asInt),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)a.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(58).fork()).ldelim();return null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(64).uint32(e.flags),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.metrics.v1.NumberDataPoint;e.pos<r;){var o=e.uint32();switch(o>>>3){case 7:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(a.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 2:n.startTimeUnixNano=e.fixed64();break;case 3:n.timeUnixNano=e.fixed64();break;case 4:n.asDouble=e.double();break;case 6:n.asInt=e.sfixed64();break;case 5:n.exemplars&&n.exemplars.length||(n.exemplars=[]),n.exemplars.push(a.opentelemetry.proto.metrics.v1.Exemplar.decode(e,e.uint32()));break;case 8:n.flags=e.uint32();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var r=0;r<e.attributes.length;++r){var n=a.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[r]);if(n)return"attributes."+n}}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&!s.isInteger(e.startTimeUnixNano)&&!(e.startTimeUnixNano&&s.isInteger(e.startTimeUnixNano.low)&&s.isInteger(e.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!s.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&s.isInteger(e.timeUnixNano.low)&&s.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.asDouble&&e.hasOwnProperty("asDouble")&&(t.value=1,"number"!=typeof e.asDouble))return"asDouble: number expected";if(null!=e.asInt&&e.hasOwnProperty("asInt")){if(1===t.value)return"value: multiple values";if(t.value=1,!s.isInteger(e.asInt)&&!(e.asInt&&s.isInteger(e.asInt.low)&&s.isInteger(e.asInt.high)))return"asInt: integer|Long expected"}if(null!=e.exemplars&&e.hasOwnProperty("exemplars")){if(!Array.isArray(e.exemplars))return"exemplars: array expected";for(var r=0;r<e.exemplars.length;++r){var n=a.opentelemetry.proto.metrics.v1.Exemplar.verify(e.exemplars[r]);if(n)return"exemplars."+n}}return null!=e.flags&&e.hasOwnProperty("flags")&&!s.isInteger(e.flags)?"flags: integer expected":null},t.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.NumberDataPoint)return e;var t=new a.opentelemetry.proto.metrics.v1.NumberDataPoint;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: object expected");t.attributes[r]=a.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}if(null!=e.startTimeUnixNano&&(s.Long?(t.startTimeUnixNano=s.Long.fromValue(e.startTimeUnixNano)).unsigned=!1:"string"==typeof e.startTimeUnixNano?t.startTimeUnixNano=parseInt(e.startTimeUnixNano,10):"number"==typeof e.startTimeUnixNano?t.startTimeUnixNano=e.startTimeUnixNano:"object"==typeof e.startTimeUnixNano&&(t.startTimeUnixNano=new s.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber())),null!=e.timeUnixNano&&(s.Long?(t.timeUnixNano=s.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.asDouble&&(t.asDouble=Number(e.asDouble)),null!=e.asInt&&(s.Long?(t.asInt=s.Long.fromValue(e.asInt)).unsigned=!1:"string"==typeof e.asInt?t.asInt=parseInt(e.asInt,10):"number"==typeof e.asInt?t.asInt=e.asInt:"object"==typeof e.asInt&&(t.asInt=new s.LongBits(e.asInt.low>>>0,e.asInt.high>>>0).toNumber())),e.exemplars){if(!Array.isArray(e.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: array expected");t.exemplars=[];for(var r=0;r<e.exemplars.length;++r){if("object"!=typeof e.exemplars[r])throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: object expected");t.exemplars[r]=a.opentelemetry.proto.metrics.v1.Exemplar.fromObject(e.exemplars[r])}}return null!=e.flags&&(t.flags=e.flags>>>0),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.exemplars=[],r.attributes=[]),t.defaults){if(s.Long){var n=new s.Long(0,0,!1);r.startTimeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.startTimeUnixNano=t.longs===String?"0":0;if(s.Long){var n=new s.Long(0,0,!1);r.timeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.timeUnixNano=t.longs===String?"0":0;r.flags=0}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&("number"==typeof e.startTimeUnixNano?r.startTimeUnixNano=t.longs===String?String(e.startTimeUnixNano):e.startTimeUnixNano:r.startTimeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.startTimeUnixNano):t.longs===Number?new s.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber():e.startTimeUnixNano),null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.asDouble&&e.hasOwnProperty("asDouble")&&(r.asDouble=t.json&&!isFinite(e.asDouble)?String(e.asDouble):e.asDouble,t.oneofs&&(r.value="asDouble")),e.exemplars&&e.exemplars.length){r.exemplars=[];for(var i=0;i<e.exemplars.length;++i)r.exemplars[i]=a.opentelemetry.proto.metrics.v1.Exemplar.toObject(e.exemplars[i],t)}if(null!=e.asInt&&e.hasOwnProperty("asInt")&&("number"==typeof e.asInt?r.asInt=t.longs===String?String(e.asInt):e.asInt:r.asInt=t.longs===String?s.Long.prototype.toString.call(e.asInt):t.longs===Number?new s.LongBits(e.asInt.low>>>0,e.asInt.high>>>0).toNumber():e.asInt,t.oneofs&&(r.value="asInt")),e.attributes&&e.attributes.length){r.attributes=[];for(var i=0;i<e.attributes.length;++i)r.attributes[i]=a.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[i],t)}return null!=e.flags&&e.hasOwnProperty("flags")&&(r.flags=e.flags),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},t.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.NumberDataPoint"},t}(),e.HistogramDataPoint=function(){var e;function t(e){if(this.attributes=[],this.bucketCounts=[],this.explicitBounds=[],this.exemplars=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.attributes=s.emptyArray,t.prototype.startTimeUnixNano=null,t.prototype.timeUnixNano=null,t.prototype.count=null,t.prototype.sum=null,t.prototype.bucketCounts=s.emptyArray,t.prototype.explicitBounds=s.emptyArray,t.prototype.exemplars=s.emptyArray,t.prototype.flags=null,t.prototype.min=null,t.prototype.max=null,Object.defineProperty(t.prototype,"_sum",{get:s.oneOfGetter(e=["sum"]),set:s.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_min",{get:s.oneOfGetter(e=["min"]),set:s.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_max",{get:s.oneOfGetter(e=["max"]),set:s.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=o.create()),null!=e.startTimeUnixNano&&Object.hasOwnProperty.call(e,"startTimeUnixNano")&&t.uint32(17).fixed64(e.startTimeUnixNano),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(25).fixed64(e.timeUnixNano),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(33).fixed64(e.count),null!=e.sum&&Object.hasOwnProperty.call(e,"sum")&&t.uint32(41).double(e.sum),null!=e.bucketCounts&&e.bucketCounts.length){t.uint32(50).fork();for(var r=0;r<e.bucketCounts.length;++r)t.fixed64(e.bucketCounts[r]);t.ldelim()}if(null!=e.explicitBounds&&e.explicitBounds.length){t.uint32(58).fork();for(var r=0;r<e.explicitBounds.length;++r)t.double(e.explicitBounds[r]);t.ldelim()}if(null!=e.exemplars&&e.exemplars.length)for(var r=0;r<e.exemplars.length;++r)a.opentelemetry.proto.metrics.v1.Exemplar.encode(e.exemplars[r],t.uint32(66).fork()).ldelim();if(null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)a.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(74).fork()).ldelim();return null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(80).uint32(e.flags),null!=e.min&&Object.hasOwnProperty.call(e,"min")&&t.uint32(89).double(e.min),null!=e.max&&Object.hasOwnProperty.call(e,"max")&&t.uint32(97).double(e.max),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.metrics.v1.HistogramDataPoint;e.pos<r;){var o=e.uint32();switch(o>>>3){case 9:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(a.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 2:n.startTimeUnixNano=e.fixed64();break;case 3:n.timeUnixNano=e.fixed64();break;case 4:n.count=e.fixed64();break;case 5:n.sum=e.double();break;case 6:if(n.bucketCounts&&n.bucketCounts.length||(n.bucketCounts=[]),(7&o)==2)for(var s=e.uint32()+e.pos;e.pos<s;)n.bucketCounts.push(e.fixed64());else n.bucketCounts.push(e.fixed64());break;case 7:if(n.explicitBounds&&n.explicitBounds.length||(n.explicitBounds=[]),(7&o)==2)for(var s=e.uint32()+e.pos;e.pos<s;)n.explicitBounds.push(e.double());else n.explicitBounds.push(e.double());break;case 8:n.exemplars&&n.exemplars.length||(n.exemplars=[]),n.exemplars.push(a.opentelemetry.proto.metrics.v1.Exemplar.decode(e,e.uint32()));break;case 10:n.flags=e.uint32();break;case 11:n.min=e.double();break;case 12:n.max=e.double();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var r=0;r<e.attributes.length;++r){var n=a.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[r]);if(n)return"attributes."+n}}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&!s.isInteger(e.startTimeUnixNano)&&!(e.startTimeUnixNano&&s.isInteger(e.startTimeUnixNano.low)&&s.isInteger(e.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!s.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&s.isInteger(e.timeUnixNano.low)&&s.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.count&&e.hasOwnProperty("count")&&!s.isInteger(e.count)&&!(e.count&&s.isInteger(e.count.low)&&s.isInteger(e.count.high)))return"count: integer|Long expected";if(null!=e.sum&&e.hasOwnProperty("sum")&&(t._sum=1,"number"!=typeof e.sum))return"sum: number expected";if(null!=e.bucketCounts&&e.hasOwnProperty("bucketCounts")){if(!Array.isArray(e.bucketCounts))return"bucketCounts: array expected";for(var r=0;r<e.bucketCounts.length;++r)if(!s.isInteger(e.bucketCounts[r])&&!(e.bucketCounts[r]&&s.isInteger(e.bucketCounts[r].low)&&s.isInteger(e.bucketCounts[r].high)))return"bucketCounts: integer|Long[] expected"}if(null!=e.explicitBounds&&e.hasOwnProperty("explicitBounds")){if(!Array.isArray(e.explicitBounds))return"explicitBounds: array expected";for(var r=0;r<e.explicitBounds.length;++r)if("number"!=typeof e.explicitBounds[r])return"explicitBounds: number[] expected"}if(null!=e.exemplars&&e.hasOwnProperty("exemplars")){if(!Array.isArray(e.exemplars))return"exemplars: array expected";for(var r=0;r<e.exemplars.length;++r){var n=a.opentelemetry.proto.metrics.v1.Exemplar.verify(e.exemplars[r]);if(n)return"exemplars."+n}}return null!=e.flags&&e.hasOwnProperty("flags")&&!s.isInteger(e.flags)?"flags: integer expected":null!=e.min&&e.hasOwnProperty("min")&&(t._min=1,"number"!=typeof e.min)?"min: number expected":null!=e.max&&e.hasOwnProperty("max")&&(t._max=1,"number"!=typeof e.max)?"max: number expected":null},t.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.HistogramDataPoint)return e;var t=new a.opentelemetry.proto.metrics.v1.HistogramDataPoint;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: object expected");t.attributes[r]=a.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}if(null!=e.startTimeUnixNano&&(s.Long?(t.startTimeUnixNano=s.Long.fromValue(e.startTimeUnixNano)).unsigned=!1:"string"==typeof e.startTimeUnixNano?t.startTimeUnixNano=parseInt(e.startTimeUnixNano,10):"number"==typeof e.startTimeUnixNano?t.startTimeUnixNano=e.startTimeUnixNano:"object"==typeof e.startTimeUnixNano&&(t.startTimeUnixNano=new s.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber())),null!=e.timeUnixNano&&(s.Long?(t.timeUnixNano=s.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.count&&(s.Long?(t.count=s.Long.fromValue(e.count)).unsigned=!1:"string"==typeof e.count?t.count=parseInt(e.count,10):"number"==typeof e.count?t.count=e.count:"object"==typeof e.count&&(t.count=new s.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber())),null!=e.sum&&(t.sum=Number(e.sum)),e.bucketCounts){if(!Array.isArray(e.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.bucketCounts: array expected");t.bucketCounts=[];for(var r=0;r<e.bucketCounts.length;++r)s.Long?(t.bucketCounts[r]=s.Long.fromValue(e.bucketCounts[r])).unsigned=!1:"string"==typeof e.bucketCounts[r]?t.bucketCounts[r]=parseInt(e.bucketCounts[r],10):"number"==typeof e.bucketCounts[r]?t.bucketCounts[r]=e.bucketCounts[r]:"object"==typeof e.bucketCounts[r]&&(t.bucketCounts[r]=new s.LongBits(e.bucketCounts[r].low>>>0,e.bucketCounts[r].high>>>0).toNumber())}if(e.explicitBounds){if(!Array.isArray(e.explicitBounds))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.explicitBounds: array expected");t.explicitBounds=[];for(var r=0;r<e.explicitBounds.length;++r)t.explicitBounds[r]=Number(e.explicitBounds[r])}if(e.exemplars){if(!Array.isArray(e.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: array expected");t.exemplars=[];for(var r=0;r<e.exemplars.length;++r){if("object"!=typeof e.exemplars[r])throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: object expected");t.exemplars[r]=a.opentelemetry.proto.metrics.v1.Exemplar.fromObject(e.exemplars[r])}}return null!=e.flags&&(t.flags=e.flags>>>0),null!=e.min&&(t.min=Number(e.min)),null!=e.max&&(t.max=Number(e.max)),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.bucketCounts=[],r.explicitBounds=[],r.exemplars=[],r.attributes=[]),t.defaults){if(s.Long){var n=new s.Long(0,0,!1);r.startTimeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.startTimeUnixNano=t.longs===String?"0":0;if(s.Long){var n=new s.Long(0,0,!1);r.timeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.timeUnixNano=t.longs===String?"0":0;if(s.Long){var n=new s.Long(0,0,!1);r.count=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.count=t.longs===String?"0":0;r.flags=0}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&("number"==typeof e.startTimeUnixNano?r.startTimeUnixNano=t.longs===String?String(e.startTimeUnixNano):e.startTimeUnixNano:r.startTimeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.startTimeUnixNano):t.longs===Number?new s.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber():e.startTimeUnixNano),null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.count&&e.hasOwnProperty("count")&&("number"==typeof e.count?r.count=t.longs===String?String(e.count):e.count:r.count=t.longs===String?s.Long.prototype.toString.call(e.count):t.longs===Number?new s.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber():e.count),null!=e.sum&&e.hasOwnProperty("sum")&&(r.sum=t.json&&!isFinite(e.sum)?String(e.sum):e.sum,t.oneofs&&(r._sum="sum")),e.bucketCounts&&e.bucketCounts.length){r.bucketCounts=[];for(var i=0;i<e.bucketCounts.length;++i)"number"==typeof e.bucketCounts[i]?r.bucketCounts[i]=t.longs===String?String(e.bucketCounts[i]):e.bucketCounts[i]:r.bucketCounts[i]=t.longs===String?s.Long.prototype.toString.call(e.bucketCounts[i]):t.longs===Number?new s.LongBits(e.bucketCounts[i].low>>>0,e.bucketCounts[i].high>>>0).toNumber():e.bucketCounts[i]}if(e.explicitBounds&&e.explicitBounds.length){r.explicitBounds=[];for(var i=0;i<e.explicitBounds.length;++i)r.explicitBounds[i]=t.json&&!isFinite(e.explicitBounds[i])?String(e.explicitBounds[i]):e.explicitBounds[i]}if(e.exemplars&&e.exemplars.length){r.exemplars=[];for(var i=0;i<e.exemplars.length;++i)r.exemplars[i]=a.opentelemetry.proto.metrics.v1.Exemplar.toObject(e.exemplars[i],t)}if(e.attributes&&e.attributes.length){r.attributes=[];for(var i=0;i<e.attributes.length;++i)r.attributes[i]=a.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[i],t)}return null!=e.flags&&e.hasOwnProperty("flags")&&(r.flags=e.flags),null!=e.min&&e.hasOwnProperty("min")&&(r.min=t.json&&!isFinite(e.min)?String(e.min):e.min,t.oneofs&&(r._min="min")),null!=e.max&&e.hasOwnProperty("max")&&(r.max=t.json&&!isFinite(e.max)?String(e.max):e.max,t.oneofs&&(r._max="max")),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},t.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.HistogramDataPoint"},t}(),e.ExponentialHistogramDataPoint=function(){var e;function t(e){if(this.attributes=[],this.exemplars=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.attributes=s.emptyArray,t.prototype.startTimeUnixNano=null,t.prototype.timeUnixNano=null,t.prototype.count=null,t.prototype.sum=null,t.prototype.scale=null,t.prototype.zeroCount=null,t.prototype.positive=null,t.prototype.negative=null,t.prototype.flags=null,t.prototype.exemplars=s.emptyArray,t.prototype.min=null,t.prototype.max=null,t.prototype.zeroThreshold=null,Object.defineProperty(t.prototype,"_sum",{get:s.oneOfGetter(e=["sum"]),set:s.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_min",{get:s.oneOfGetter(e=["min"]),set:s.oneOfSetter(e)}),Object.defineProperty(t.prototype,"_max",{get:s.oneOfGetter(e=["max"]),set:s.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=o.create()),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)a.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(10).fork()).ldelim();if(null!=e.startTimeUnixNano&&Object.hasOwnProperty.call(e,"startTimeUnixNano")&&t.uint32(17).fixed64(e.startTimeUnixNano),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(25).fixed64(e.timeUnixNano),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(33).fixed64(e.count),null!=e.sum&&Object.hasOwnProperty.call(e,"sum")&&t.uint32(41).double(e.sum),null!=e.scale&&Object.hasOwnProperty.call(e,"scale")&&t.uint32(48).sint32(e.scale),null!=e.zeroCount&&Object.hasOwnProperty.call(e,"zeroCount")&&t.uint32(57).fixed64(e.zeroCount),null!=e.positive&&Object.hasOwnProperty.call(e,"positive")&&a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(e.positive,t.uint32(66).fork()).ldelim(),null!=e.negative&&Object.hasOwnProperty.call(e,"negative")&&a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(e.negative,t.uint32(74).fork()).ldelim(),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(80).uint32(e.flags),null!=e.exemplars&&e.exemplars.length)for(var r=0;r<e.exemplars.length;++r)a.opentelemetry.proto.metrics.v1.Exemplar.encode(e.exemplars[r],t.uint32(90).fork()).ldelim();return null!=e.min&&Object.hasOwnProperty.call(e,"min")&&t.uint32(97).double(e.min),null!=e.max&&Object.hasOwnProperty.call(e,"max")&&t.uint32(105).double(e.max),null!=e.zeroThreshold&&Object.hasOwnProperty.call(e,"zeroThreshold")&&t.uint32(113).double(e.zeroThreshold),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(a.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 2:n.startTimeUnixNano=e.fixed64();break;case 3:n.timeUnixNano=e.fixed64();break;case 4:n.count=e.fixed64();break;case 5:n.sum=e.double();break;case 6:n.scale=e.sint32();break;case 7:n.zeroCount=e.fixed64();break;case 8:n.positive=a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(e,e.uint32());break;case 9:n.negative=a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(e,e.uint32());break;case 10:n.flags=e.uint32();break;case 11:n.exemplars&&n.exemplars.length||(n.exemplars=[]),n.exemplars.push(a.opentelemetry.proto.metrics.v1.Exemplar.decode(e,e.uint32()));break;case 12:n.min=e.double();break;case 13:n.max=e.double();break;case 14:n.zeroThreshold=e.double();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var r=0;r<e.attributes.length;++r){var n=a.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[r]);if(n)return"attributes."+n}}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&!s.isInteger(e.startTimeUnixNano)&&!(e.startTimeUnixNano&&s.isInteger(e.startTimeUnixNano.low)&&s.isInteger(e.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!s.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&s.isInteger(e.timeUnixNano.low)&&s.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.count&&e.hasOwnProperty("count")&&!s.isInteger(e.count)&&!(e.count&&s.isInteger(e.count.low)&&s.isInteger(e.count.high)))return"count: integer|Long expected";if(null!=e.sum&&e.hasOwnProperty("sum")&&(t._sum=1,"number"!=typeof e.sum))return"sum: number expected";if(null!=e.scale&&e.hasOwnProperty("scale")&&!s.isInteger(e.scale))return"scale: integer expected";if(null!=e.zeroCount&&e.hasOwnProperty("zeroCount")&&!s.isInteger(e.zeroCount)&&!(e.zeroCount&&s.isInteger(e.zeroCount.low)&&s.isInteger(e.zeroCount.high)))return"zeroCount: integer|Long expected";if(null!=e.positive&&e.hasOwnProperty("positive")){var n=a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(e.positive);if(n)return"positive."+n}if(null!=e.negative&&e.hasOwnProperty("negative")){var n=a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(e.negative);if(n)return"negative."+n}if(null!=e.flags&&e.hasOwnProperty("flags")&&!s.isInteger(e.flags))return"flags: integer expected";if(null!=e.exemplars&&e.hasOwnProperty("exemplars")){if(!Array.isArray(e.exemplars))return"exemplars: array expected";for(var r=0;r<e.exemplars.length;++r){var n=a.opentelemetry.proto.metrics.v1.Exemplar.verify(e.exemplars[r]);if(n)return"exemplars."+n}}return null!=e.min&&e.hasOwnProperty("min")&&(t._min=1,"number"!=typeof e.min)?"min: number expected":null!=e.max&&e.hasOwnProperty("max")&&(t._max=1,"number"!=typeof e.max)?"max: number expected":null!=e.zeroThreshold&&e.hasOwnProperty("zeroThreshold")&&"number"!=typeof e.zeroThreshold?"zeroThreshold: number expected":null},t.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint)return e;var t=new a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: object expected");t.attributes[r]=a.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}if(null!=e.startTimeUnixNano&&(s.Long?(t.startTimeUnixNano=s.Long.fromValue(e.startTimeUnixNano)).unsigned=!1:"string"==typeof e.startTimeUnixNano?t.startTimeUnixNano=parseInt(e.startTimeUnixNano,10):"number"==typeof e.startTimeUnixNano?t.startTimeUnixNano=e.startTimeUnixNano:"object"==typeof e.startTimeUnixNano&&(t.startTimeUnixNano=new s.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber())),null!=e.timeUnixNano&&(s.Long?(t.timeUnixNano=s.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.count&&(s.Long?(t.count=s.Long.fromValue(e.count)).unsigned=!1:"string"==typeof e.count?t.count=parseInt(e.count,10):"number"==typeof e.count?t.count=e.count:"object"==typeof e.count&&(t.count=new s.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber())),null!=e.sum&&(t.sum=Number(e.sum)),null!=e.scale&&(t.scale=0|e.scale),null!=e.zeroCount&&(s.Long?(t.zeroCount=s.Long.fromValue(e.zeroCount)).unsigned=!1:"string"==typeof e.zeroCount?t.zeroCount=parseInt(e.zeroCount,10):"number"==typeof e.zeroCount?t.zeroCount=e.zeroCount:"object"==typeof e.zeroCount&&(t.zeroCount=new s.LongBits(e.zeroCount.low>>>0,e.zeroCount.high>>>0).toNumber())),null!=e.positive){if("object"!=typeof e.positive)throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.positive: object expected");t.positive=a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(e.positive)}if(null!=e.negative){if("object"!=typeof e.negative)throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.negative: object expected");t.negative=a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(e.negative)}if(null!=e.flags&&(t.flags=e.flags>>>0),e.exemplars){if(!Array.isArray(e.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: array expected");t.exemplars=[];for(var r=0;r<e.exemplars.length;++r){if("object"!=typeof e.exemplars[r])throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: object expected");t.exemplars[r]=a.opentelemetry.proto.metrics.v1.Exemplar.fromObject(e.exemplars[r])}}return null!=e.min&&(t.min=Number(e.min)),null!=e.max&&(t.max=Number(e.max)),null!=e.zeroThreshold&&(t.zeroThreshold=Number(e.zeroThreshold)),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[],r.exemplars=[]),t.defaults){if(s.Long){var n=new s.Long(0,0,!1);r.startTimeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.startTimeUnixNano=t.longs===String?"0":0;if(s.Long){var n=new s.Long(0,0,!1);r.timeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.timeUnixNano=t.longs===String?"0":0;if(s.Long){var n=new s.Long(0,0,!1);r.count=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.count=t.longs===String?"0":0;if(r.scale=0,s.Long){var n=new s.Long(0,0,!1);r.zeroCount=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.zeroCount=t.longs===String?"0":0;r.positive=null,r.negative=null,r.flags=0,r.zeroThreshold=0}if(e.attributes&&e.attributes.length){r.attributes=[];for(var i=0;i<e.attributes.length;++i)r.attributes[i]=a.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[i],t)}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&("number"==typeof e.startTimeUnixNano?r.startTimeUnixNano=t.longs===String?String(e.startTimeUnixNano):e.startTimeUnixNano:r.startTimeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.startTimeUnixNano):t.longs===Number?new s.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber():e.startTimeUnixNano),null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.count&&e.hasOwnProperty("count")&&("number"==typeof e.count?r.count=t.longs===String?String(e.count):e.count:r.count=t.longs===String?s.Long.prototype.toString.call(e.count):t.longs===Number?new s.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber():e.count),null!=e.sum&&e.hasOwnProperty("sum")&&(r.sum=t.json&&!isFinite(e.sum)?String(e.sum):e.sum,t.oneofs&&(r._sum="sum")),null!=e.scale&&e.hasOwnProperty("scale")&&(r.scale=e.scale),null!=e.zeroCount&&e.hasOwnProperty("zeroCount")&&("number"==typeof e.zeroCount?r.zeroCount=t.longs===String?String(e.zeroCount):e.zeroCount:r.zeroCount=t.longs===String?s.Long.prototype.toString.call(e.zeroCount):t.longs===Number?new s.LongBits(e.zeroCount.low>>>0,e.zeroCount.high>>>0).toNumber():e.zeroCount),null!=e.positive&&e.hasOwnProperty("positive")&&(r.positive=a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(e.positive,t)),null!=e.negative&&e.hasOwnProperty("negative")&&(r.negative=a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(e.negative,t)),null!=e.flags&&e.hasOwnProperty("flags")&&(r.flags=e.flags),e.exemplars&&e.exemplars.length){r.exemplars=[];for(var i=0;i<e.exemplars.length;++i)r.exemplars[i]=a.opentelemetry.proto.metrics.v1.Exemplar.toObject(e.exemplars[i],t)}return null!=e.min&&e.hasOwnProperty("min")&&(r.min=t.json&&!isFinite(e.min)?String(e.min):e.min,t.oneofs&&(r._min="min")),null!=e.max&&e.hasOwnProperty("max")&&(r.max=t.json&&!isFinite(e.max)?String(e.max):e.max,t.oneofs&&(r._max="max")),null!=e.zeroThreshold&&e.hasOwnProperty("zeroThreshold")&&(r.zeroThreshold=t.json&&!isFinite(e.zeroThreshold)?String(e.zeroThreshold):e.zeroThreshold),r},t.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},t.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint"},t.Buckets=function(){function e(e){if(this.bucketCounts=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.offset=null,e.prototype.bucketCounts=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.offset&&Object.hasOwnProperty.call(e,"offset")&&t.uint32(8).sint32(e.offset),null!=e.bucketCounts&&e.bucketCounts.length){t.uint32(18).fork();for(var r=0;r<e.bucketCounts.length;++r)t.uint64(e.bucketCounts[r]);t.ldelim()}return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.offset=e.sint32();break;case 2:if(n.bucketCounts&&n.bucketCounts.length||(n.bucketCounts=[]),(7&o)==2)for(var s=e.uint32()+e.pos;e.pos<s;)n.bucketCounts.push(e.uint64());else n.bucketCounts.push(e.uint64());break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.offset&&e.hasOwnProperty("offset")&&!s.isInteger(e.offset))return"offset: integer expected";if(null!=e.bucketCounts&&e.hasOwnProperty("bucketCounts")){if(!Array.isArray(e.bucketCounts))return"bucketCounts: array expected";for(var t=0;t<e.bucketCounts.length;++t)if(!s.isInteger(e.bucketCounts[t])&&!(e.bucketCounts[t]&&s.isInteger(e.bucketCounts[t].low)&&s.isInteger(e.bucketCounts[t].high)))return"bucketCounts: integer|Long[] expected"}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets)return e;var t=new a.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;if(null!=e.offset&&(t.offset=0|e.offset),e.bucketCounts){if(!Array.isArray(e.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.bucketCounts: array expected");t.bucketCounts=[];for(var r=0;r<e.bucketCounts.length;++r)s.Long?(t.bucketCounts[r]=s.Long.fromValue(e.bucketCounts[r])).unsigned=!0:"string"==typeof e.bucketCounts[r]?t.bucketCounts[r]=parseInt(e.bucketCounts[r],10):"number"==typeof e.bucketCounts[r]?t.bucketCounts[r]=e.bucketCounts[r]:"object"==typeof e.bucketCounts[r]&&(t.bucketCounts[r]=new s.LongBits(e.bucketCounts[r].low>>>0,e.bucketCounts[r].high>>>0).toNumber(!0))}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.bucketCounts=[]),t.defaults&&(r.offset=0),null!=e.offset&&e.hasOwnProperty("offset")&&(r.offset=e.offset),e.bucketCounts&&e.bucketCounts.length){r.bucketCounts=[];for(var n=0;n<e.bucketCounts.length;++n)"number"==typeof e.bucketCounts[n]?r.bucketCounts[n]=t.longs===String?String(e.bucketCounts[n]):e.bucketCounts[n]:r.bucketCounts[n]=t.longs===String?s.Long.prototype.toString.call(e.bucketCounts[n]):t.longs===Number?new s.LongBits(e.bucketCounts[n].low>>>0,e.bucketCounts[n].high>>>0).toNumber(!0):e.bucketCounts[n]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets"},e}(),t}(),e.SummaryDataPoint=function(){function e(e){if(this.attributes=[],this.quantileValues=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.attributes=s.emptyArray,e.prototype.startTimeUnixNano=null,e.prototype.timeUnixNano=null,e.prototype.count=null,e.prototype.sum=null,e.prototype.quantileValues=s.emptyArray,e.prototype.flags=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.startTimeUnixNano&&Object.hasOwnProperty.call(e,"startTimeUnixNano")&&t.uint32(17).fixed64(e.startTimeUnixNano),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(25).fixed64(e.timeUnixNano),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(33).fixed64(e.count),null!=e.sum&&Object.hasOwnProperty.call(e,"sum")&&t.uint32(41).double(e.sum),null!=e.quantileValues&&e.quantileValues.length)for(var r=0;r<e.quantileValues.length;++r)a.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.encode(e.quantileValues[r],t.uint32(50).fork()).ldelim();if(null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)a.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(58).fork()).ldelim();return null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(64).uint32(e.flags),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.metrics.v1.SummaryDataPoint;e.pos<r;){var o=e.uint32();switch(o>>>3){case 7:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(a.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 2:n.startTimeUnixNano=e.fixed64();break;case 3:n.timeUnixNano=e.fixed64();break;case 4:n.count=e.fixed64();break;case 5:n.sum=e.double();break;case 6:n.quantileValues&&n.quantileValues.length||(n.quantileValues=[]),n.quantileValues.push(a.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.decode(e,e.uint32()));break;case 8:n.flags=e.uint32();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var t=0;t<e.attributes.length;++t){var r=a.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[t]);if(r)return"attributes."+r}}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&!s.isInteger(e.startTimeUnixNano)&&!(e.startTimeUnixNano&&s.isInteger(e.startTimeUnixNano.low)&&s.isInteger(e.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!s.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&s.isInteger(e.timeUnixNano.low)&&s.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.count&&e.hasOwnProperty("count")&&!s.isInteger(e.count)&&!(e.count&&s.isInteger(e.count.low)&&s.isInteger(e.count.high)))return"count: integer|Long expected";if(null!=e.sum&&e.hasOwnProperty("sum")&&"number"!=typeof e.sum)return"sum: number expected";if(null!=e.quantileValues&&e.hasOwnProperty("quantileValues")){if(!Array.isArray(e.quantileValues))return"quantileValues: array expected";for(var t=0;t<e.quantileValues.length;++t){var r=a.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.verify(e.quantileValues[t]);if(r)return"quantileValues."+r}}return null!=e.flags&&e.hasOwnProperty("flags")&&!s.isInteger(e.flags)?"flags: integer expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.SummaryDataPoint)return e;var t=new a.opentelemetry.proto.metrics.v1.SummaryDataPoint;if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: object expected");t.attributes[r]=a.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}if(null!=e.startTimeUnixNano&&(s.Long?(t.startTimeUnixNano=s.Long.fromValue(e.startTimeUnixNano)).unsigned=!1:"string"==typeof e.startTimeUnixNano?t.startTimeUnixNano=parseInt(e.startTimeUnixNano,10):"number"==typeof e.startTimeUnixNano?t.startTimeUnixNano=e.startTimeUnixNano:"object"==typeof e.startTimeUnixNano&&(t.startTimeUnixNano=new s.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber())),null!=e.timeUnixNano&&(s.Long?(t.timeUnixNano=s.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.count&&(s.Long?(t.count=s.Long.fromValue(e.count)).unsigned=!1:"string"==typeof e.count?t.count=parseInt(e.count,10):"number"==typeof e.count?t.count=e.count:"object"==typeof e.count&&(t.count=new s.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber())),null!=e.sum&&(t.sum=Number(e.sum)),e.quantileValues){if(!Array.isArray(e.quantileValues))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: array expected");t.quantileValues=[];for(var r=0;r<e.quantileValues.length;++r){if("object"!=typeof e.quantileValues[r])throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: object expected");t.quantileValues[r]=a.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.fromObject(e.quantileValues[r])}}return null!=e.flags&&(t.flags=e.flags>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.quantileValues=[],r.attributes=[]),t.defaults){if(s.Long){var n=new s.Long(0,0,!1);r.startTimeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.startTimeUnixNano=t.longs===String?"0":0;if(s.Long){var n=new s.Long(0,0,!1);r.timeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.timeUnixNano=t.longs===String?"0":0;if(s.Long){var n=new s.Long(0,0,!1);r.count=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.count=t.longs===String?"0":0;r.sum=0,r.flags=0}if(null!=e.startTimeUnixNano&&e.hasOwnProperty("startTimeUnixNano")&&("number"==typeof e.startTimeUnixNano?r.startTimeUnixNano=t.longs===String?String(e.startTimeUnixNano):e.startTimeUnixNano:r.startTimeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.startTimeUnixNano):t.longs===Number?new s.LongBits(e.startTimeUnixNano.low>>>0,e.startTimeUnixNano.high>>>0).toNumber():e.startTimeUnixNano),null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.count&&e.hasOwnProperty("count")&&("number"==typeof e.count?r.count=t.longs===String?String(e.count):e.count:r.count=t.longs===String?s.Long.prototype.toString.call(e.count):t.longs===Number?new s.LongBits(e.count.low>>>0,e.count.high>>>0).toNumber():e.count),null!=e.sum&&e.hasOwnProperty("sum")&&(r.sum=t.json&&!isFinite(e.sum)?String(e.sum):e.sum),e.quantileValues&&e.quantileValues.length){r.quantileValues=[];for(var i=0;i<e.quantileValues.length;++i)r.quantileValues[i]=a.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.toObject(e.quantileValues[i],t)}if(e.attributes&&e.attributes.length){r.attributes=[];for(var i=0;i<e.attributes.length;++i)r.attributes[i]=a.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[i],t)}return null!=e.flags&&e.hasOwnProperty("flags")&&(r.flags=e.flags),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.SummaryDataPoint"},e.ValueAtQuantile=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.quantile=null,e.prototype.value=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=o.create()),null!=e.quantile&&Object.hasOwnProperty.call(e,"quantile")&&t.uint32(9).double(e.quantile),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(17).double(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.quantile=e.double();break;case 2:n.value=e.double();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.quantile&&e.hasOwnProperty("quantile")&&"number"!=typeof e.quantile?"quantile: number expected":null!=e.value&&e.hasOwnProperty("value")&&"number"!=typeof e.value?"value: number expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile)return e;var t=new a.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;return null!=e.quantile&&(t.quantile=Number(e.quantile)),null!=e.value&&(t.value=Number(e.value)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.quantile=0,r.value=0),null!=e.quantile&&e.hasOwnProperty("quantile")&&(r.quantile=t.json&&!isFinite(e.quantile)?String(e.quantile):e.quantile),null!=e.value&&e.hasOwnProperty("value")&&(r.value=t.json&&!isFinite(e.value)?String(e.value):e.value),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile"},e}(),e}(),e.Exemplar=function(){var e;function t(e){if(this.filteredAttributes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return t.prototype.filteredAttributes=s.emptyArray,t.prototype.timeUnixNano=null,t.prototype.asDouble=null,t.prototype.asInt=null,t.prototype.spanId=null,t.prototype.traceId=null,Object.defineProperty(t.prototype,"value",{get:s.oneOfGetter(e=["asDouble","asInt"]),set:s.oneOfSetter(e)}),t.create=function(e){return new t(e)},t.encode=function(e,t){if(t||(t=o.create()),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(17).fixed64(e.timeUnixNano),null!=e.asDouble&&Object.hasOwnProperty.call(e,"asDouble")&&t.uint32(25).double(e.asDouble),null!=e.spanId&&Object.hasOwnProperty.call(e,"spanId")&&t.uint32(34).bytes(e.spanId),null!=e.traceId&&Object.hasOwnProperty.call(e,"traceId")&&t.uint32(42).bytes(e.traceId),null!=e.asInt&&Object.hasOwnProperty.call(e,"asInt")&&t.uint32(49).sfixed64(e.asInt),null!=e.filteredAttributes&&e.filteredAttributes.length)for(var r=0;r<e.filteredAttributes.length;++r)a.opentelemetry.proto.common.v1.KeyValue.encode(e.filteredAttributes[r],t.uint32(58).fork()).ldelim();return t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.metrics.v1.Exemplar;e.pos<r;){var o=e.uint32();switch(o>>>3){case 7:n.filteredAttributes&&n.filteredAttributes.length||(n.filteredAttributes=[]),n.filteredAttributes.push(a.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 2:n.timeUnixNano=e.fixed64();break;case 3:n.asDouble=e.double();break;case 6:n.asInt=e.sfixed64();break;case 4:n.spanId=e.bytes();break;case 5:n.traceId=e.bytes();break;default:e.skipType(7&o)}}return n},t.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},t.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.filteredAttributes&&e.hasOwnProperty("filteredAttributes")){if(!Array.isArray(e.filteredAttributes))return"filteredAttributes: array expected";for(var r=0;r<e.filteredAttributes.length;++r){var n=a.opentelemetry.proto.common.v1.KeyValue.verify(e.filteredAttributes[r]);if(n)return"filteredAttributes."+n}}if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!s.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&s.isInteger(e.timeUnixNano.low)&&s.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.asDouble&&e.hasOwnProperty("asDouble")&&(t.value=1,"number"!=typeof e.asDouble))return"asDouble: number expected";if(null!=e.asInt&&e.hasOwnProperty("asInt")){if(1===t.value)return"value: multiple values";if(t.value=1,!s.isInteger(e.asInt)&&!(e.asInt&&s.isInteger(e.asInt.low)&&s.isInteger(e.asInt.high)))return"asInt: integer|Long expected"}return null!=e.spanId&&e.hasOwnProperty("spanId")&&!(e.spanId&&"number"==typeof e.spanId.length||s.isString(e.spanId))?"spanId: buffer expected":null!=e.traceId&&e.hasOwnProperty("traceId")&&!(e.traceId&&"number"==typeof e.traceId.length||s.isString(e.traceId))?"traceId: buffer expected":null},t.fromObject=function(e){if(e instanceof a.opentelemetry.proto.metrics.v1.Exemplar)return e;var t=new a.opentelemetry.proto.metrics.v1.Exemplar;if(e.filteredAttributes){if(!Array.isArray(e.filteredAttributes))throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: array expected");t.filteredAttributes=[];for(var r=0;r<e.filteredAttributes.length;++r){if("object"!=typeof e.filteredAttributes[r])throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: object expected");t.filteredAttributes[r]=a.opentelemetry.proto.common.v1.KeyValue.fromObject(e.filteredAttributes[r])}}return null!=e.timeUnixNano&&(s.Long?(t.timeUnixNano=s.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.asDouble&&(t.asDouble=Number(e.asDouble)),null!=e.asInt&&(s.Long?(t.asInt=s.Long.fromValue(e.asInt)).unsigned=!1:"string"==typeof e.asInt?t.asInt=parseInt(e.asInt,10):"number"==typeof e.asInt?t.asInt=e.asInt:"object"==typeof e.asInt&&(t.asInt=new s.LongBits(e.asInt.low>>>0,e.asInt.high>>>0).toNumber())),null!=e.spanId&&("string"==typeof e.spanId?s.base64.decode(e.spanId,t.spanId=s.newBuffer(s.base64.length(e.spanId)),0):e.spanId.length>=0&&(t.spanId=e.spanId)),null!=e.traceId&&("string"==typeof e.traceId?s.base64.decode(e.traceId,t.traceId=s.newBuffer(s.base64.length(e.traceId)),0):e.traceId.length>=0&&(t.traceId=e.traceId)),t},t.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.filteredAttributes=[]),t.defaults){if(s.Long){var n=new s.Long(0,0,!1);r.timeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.timeUnixNano=t.longs===String?"0":0;t.bytes===String?r.spanId="":(r.spanId=[],t.bytes!==Array&&(r.spanId=s.newBuffer(r.spanId))),t.bytes===String?r.traceId="":(r.traceId=[],t.bytes!==Array&&(r.traceId=s.newBuffer(r.traceId)))}if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.asDouble&&e.hasOwnProperty("asDouble")&&(r.asDouble=t.json&&!isFinite(e.asDouble)?String(e.asDouble):e.asDouble,t.oneofs&&(r.value="asDouble")),null!=e.spanId&&e.hasOwnProperty("spanId")&&(r.spanId=t.bytes===String?s.base64.encode(e.spanId,0,e.spanId.length):t.bytes===Array?Array.prototype.slice.call(e.spanId):e.spanId),null!=e.traceId&&e.hasOwnProperty("traceId")&&(r.traceId=t.bytes===String?s.base64.encode(e.traceId,0,e.traceId.length):t.bytes===Array?Array.prototype.slice.call(e.traceId):e.traceId),null!=e.asInt&&e.hasOwnProperty("asInt")&&("number"==typeof e.asInt?r.asInt=t.longs===String?String(e.asInt):e.asInt:r.asInt=t.longs===String?s.Long.prototype.toString.call(e.asInt):t.longs===Number?new s.LongBits(e.asInt.low>>>0,e.asInt.high>>>0).toNumber():e.asInt,t.oneofs&&(r.value="asInt")),e.filteredAttributes&&e.filteredAttributes.length){r.filteredAttributes=[];for(var i=0;i<e.filteredAttributes.length;++i)r.filteredAttributes[i]=a.opentelemetry.proto.common.v1.KeyValue.toObject(e.filteredAttributes[i],t)}return r},t.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},t.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.metrics.v1.Exemplar"},t}(),e}(),e}(),e.logs=function(){var e={};return e.v1=function(){var e={};return e.LogsData=function(){function e(e){if(this.resourceLogs=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resourceLogs=s.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.resourceLogs&&e.resourceLogs.length)for(var r=0;r<e.resourceLogs.length;++r)a.opentelemetry.proto.logs.v1.ResourceLogs.encode(e.resourceLogs[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.logs.v1.LogsData;e.pos<r;){var o=e.uint32();o>>>3==1?(n.resourceLogs&&n.resourceLogs.length||(n.resourceLogs=[]),n.resourceLogs.push(a.opentelemetry.proto.logs.v1.ResourceLogs.decode(e,e.uint32()))):e.skipType(7&o)}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resourceLogs&&e.hasOwnProperty("resourceLogs")){if(!Array.isArray(e.resourceLogs))return"resourceLogs: array expected";for(var t=0;t<e.resourceLogs.length;++t){var r=a.opentelemetry.proto.logs.v1.ResourceLogs.verify(e.resourceLogs[t]);if(r)return"resourceLogs."+r}}return null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.logs.v1.LogsData)return e;var t=new a.opentelemetry.proto.logs.v1.LogsData;if(e.resourceLogs){if(!Array.isArray(e.resourceLogs))throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: array expected");t.resourceLogs=[];for(var r=0;r<e.resourceLogs.length;++r){if("object"!=typeof e.resourceLogs[r])throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: object expected");t.resourceLogs[r]=a.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(e.resourceLogs[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.resourceLogs=[]),e.resourceLogs&&e.resourceLogs.length){r.resourceLogs=[];for(var n=0;n<e.resourceLogs.length;++n)r.resourceLogs[n]=a.opentelemetry.proto.logs.v1.ResourceLogs.toObject(e.resourceLogs[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.logs.v1.LogsData"},e}(),e.ResourceLogs=function(){function e(e){if(this.scopeLogs=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resource=null,e.prototype.scopeLogs=s.emptyArray,e.prototype.schemaUrl=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&a.opentelemetry.proto.resource.v1.Resource.encode(e.resource,t.uint32(10).fork()).ldelim(),null!=e.scopeLogs&&e.scopeLogs.length)for(var r=0;r<e.scopeLogs.length;++r)a.opentelemetry.proto.logs.v1.ScopeLogs.encode(e.scopeLogs[r],t.uint32(18).fork()).ldelim();return null!=e.schemaUrl&&Object.hasOwnProperty.call(e,"schemaUrl")&&t.uint32(26).string(e.schemaUrl),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.logs.v1.ResourceLogs;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.resource=a.opentelemetry.proto.resource.v1.Resource.decode(e,e.uint32());break;case 2:n.scopeLogs&&n.scopeLogs.length||(n.scopeLogs=[]),n.scopeLogs.push(a.opentelemetry.proto.logs.v1.ScopeLogs.decode(e,e.uint32()));break;case 3:n.schemaUrl=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resource&&e.hasOwnProperty("resource")){var t=a.opentelemetry.proto.resource.v1.Resource.verify(e.resource);if(t)return"resource."+t}if(null!=e.scopeLogs&&e.hasOwnProperty("scopeLogs")){if(!Array.isArray(e.scopeLogs))return"scopeLogs: array expected";for(var r=0;r<e.scopeLogs.length;++r){var t=a.opentelemetry.proto.logs.v1.ScopeLogs.verify(e.scopeLogs[r]);if(t)return"scopeLogs."+t}}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&!s.isString(e.schemaUrl)?"schemaUrl: string expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.logs.v1.ResourceLogs)return e;var t=new a.opentelemetry.proto.logs.v1.ResourceLogs;if(null!=e.resource){if("object"!=typeof e.resource)throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.resource: object expected");t.resource=a.opentelemetry.proto.resource.v1.Resource.fromObject(e.resource)}if(e.scopeLogs){if(!Array.isArray(e.scopeLogs))throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: array expected");t.scopeLogs=[];for(var r=0;r<e.scopeLogs.length;++r){if("object"!=typeof e.scopeLogs[r])throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: object expected");t.scopeLogs[r]=a.opentelemetry.proto.logs.v1.ScopeLogs.fromObject(e.scopeLogs[r])}}return null!=e.schemaUrl&&(t.schemaUrl=String(e.schemaUrl)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.scopeLogs=[]),t.defaults&&(r.resource=null,r.schemaUrl=""),null!=e.resource&&e.hasOwnProperty("resource")&&(r.resource=a.opentelemetry.proto.resource.v1.Resource.toObject(e.resource,t)),e.scopeLogs&&e.scopeLogs.length){r.scopeLogs=[];for(var n=0;n<e.scopeLogs.length;++n)r.scopeLogs[n]=a.opentelemetry.proto.logs.v1.ScopeLogs.toObject(e.scopeLogs[n],t)}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&(r.schemaUrl=e.schemaUrl),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.logs.v1.ResourceLogs"},e}(),e.ScopeLogs=function(){function e(e){if(this.logRecords=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.scope=null,e.prototype.logRecords=s.emptyArray,e.prototype.schemaUrl=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.scope&&Object.hasOwnProperty.call(e,"scope")&&a.opentelemetry.proto.common.v1.InstrumentationScope.encode(e.scope,t.uint32(10).fork()).ldelim(),null!=e.logRecords&&e.logRecords.length)for(var r=0;r<e.logRecords.length;++r)a.opentelemetry.proto.logs.v1.LogRecord.encode(e.logRecords[r],t.uint32(18).fork()).ldelim();return null!=e.schemaUrl&&Object.hasOwnProperty.call(e,"schemaUrl")&&t.uint32(26).string(e.schemaUrl),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.logs.v1.ScopeLogs;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.scope=a.opentelemetry.proto.common.v1.InstrumentationScope.decode(e,e.uint32());break;case 2:n.logRecords&&n.logRecords.length||(n.logRecords=[]),n.logRecords.push(a.opentelemetry.proto.logs.v1.LogRecord.decode(e,e.uint32()));break;case 3:n.schemaUrl=e.string();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.scope&&e.hasOwnProperty("scope")){var t=a.opentelemetry.proto.common.v1.InstrumentationScope.verify(e.scope);if(t)return"scope."+t}if(null!=e.logRecords&&e.hasOwnProperty("logRecords")){if(!Array.isArray(e.logRecords))return"logRecords: array expected";for(var r=0;r<e.logRecords.length;++r){var t=a.opentelemetry.proto.logs.v1.LogRecord.verify(e.logRecords[r]);if(t)return"logRecords."+t}}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&!s.isString(e.schemaUrl)?"schemaUrl: string expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.logs.v1.ScopeLogs)return e;var t=new a.opentelemetry.proto.logs.v1.ScopeLogs;if(null!=e.scope){if("object"!=typeof e.scope)throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.scope: object expected");t.scope=a.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(e.scope)}if(e.logRecords){if(!Array.isArray(e.logRecords))throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: array expected");t.logRecords=[];for(var r=0;r<e.logRecords.length;++r){if("object"!=typeof e.logRecords[r])throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: object expected");t.logRecords[r]=a.opentelemetry.proto.logs.v1.LogRecord.fromObject(e.logRecords[r])}}return null!=e.schemaUrl&&(t.schemaUrl=String(e.schemaUrl)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.logRecords=[]),t.defaults&&(r.scope=null,r.schemaUrl=""),null!=e.scope&&e.hasOwnProperty("scope")&&(r.scope=a.opentelemetry.proto.common.v1.InstrumentationScope.toObject(e.scope,t)),e.logRecords&&e.logRecords.length){r.logRecords=[];for(var n=0;n<e.logRecords.length;++n)r.logRecords[n]=a.opentelemetry.proto.logs.v1.LogRecord.toObject(e.logRecords[n],t)}return null!=e.schemaUrl&&e.hasOwnProperty("schemaUrl")&&(r.schemaUrl=e.schemaUrl),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.logs.v1.ScopeLogs"},e}(),e.SeverityNumber=function(){var e={},t=Object.create(e);return t[e[0]="SEVERITY_NUMBER_UNSPECIFIED"]=0,t[e[1]="SEVERITY_NUMBER_TRACE"]=1,t[e[2]="SEVERITY_NUMBER_TRACE2"]=2,t[e[3]="SEVERITY_NUMBER_TRACE3"]=3,t[e[4]="SEVERITY_NUMBER_TRACE4"]=4,t[e[5]="SEVERITY_NUMBER_DEBUG"]=5,t[e[6]="SEVERITY_NUMBER_DEBUG2"]=6,t[e[7]="SEVERITY_NUMBER_DEBUG3"]=7,t[e[8]="SEVERITY_NUMBER_DEBUG4"]=8,t[e[9]="SEVERITY_NUMBER_INFO"]=9,t[e[10]="SEVERITY_NUMBER_INFO2"]=10,t[e[11]="SEVERITY_NUMBER_INFO3"]=11,t[e[12]="SEVERITY_NUMBER_INFO4"]=12,t[e[13]="SEVERITY_NUMBER_WARN"]=13,t[e[14]="SEVERITY_NUMBER_WARN2"]=14,t[e[15]="SEVERITY_NUMBER_WARN3"]=15,t[e[16]="SEVERITY_NUMBER_WARN4"]=16,t[e[17]="SEVERITY_NUMBER_ERROR"]=17,t[e[18]="SEVERITY_NUMBER_ERROR2"]=18,t[e[19]="SEVERITY_NUMBER_ERROR3"]=19,t[e[20]="SEVERITY_NUMBER_ERROR4"]=20,t[e[21]="SEVERITY_NUMBER_FATAL"]=21,t[e[22]="SEVERITY_NUMBER_FATAL2"]=22,t[e[23]="SEVERITY_NUMBER_FATAL3"]=23,t[e[24]="SEVERITY_NUMBER_FATAL4"]=24,t}(),e.LogRecordFlags=function(){var e={},t=Object.create(e);return t[e[0]="LOG_RECORD_FLAGS_DO_NOT_USE"]=0,t[e[255]="LOG_RECORD_FLAGS_TRACE_FLAGS_MASK"]=255,t}(),e.LogRecord=function(){function e(e){if(this.attributes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.timeUnixNano=null,e.prototype.observedTimeUnixNano=null,e.prototype.severityNumber=null,e.prototype.severityText=null,e.prototype.body=null,e.prototype.attributes=s.emptyArray,e.prototype.droppedAttributesCount=null,e.prototype.flags=null,e.prototype.traceId=null,e.prototype.spanId=null,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=o.create()),null!=e.timeUnixNano&&Object.hasOwnProperty.call(e,"timeUnixNano")&&t.uint32(9).fixed64(e.timeUnixNano),null!=e.severityNumber&&Object.hasOwnProperty.call(e,"severityNumber")&&t.uint32(16).int32(e.severityNumber),null!=e.severityText&&Object.hasOwnProperty.call(e,"severityText")&&t.uint32(26).string(e.severityText),null!=e.body&&Object.hasOwnProperty.call(e,"body")&&a.opentelemetry.proto.common.v1.AnyValue.encode(e.body,t.uint32(42).fork()).ldelim(),null!=e.attributes&&e.attributes.length)for(var r=0;r<e.attributes.length;++r)a.opentelemetry.proto.common.v1.KeyValue.encode(e.attributes[r],t.uint32(50).fork()).ldelim();return null!=e.droppedAttributesCount&&Object.hasOwnProperty.call(e,"droppedAttributesCount")&&t.uint32(56).uint32(e.droppedAttributesCount),null!=e.flags&&Object.hasOwnProperty.call(e,"flags")&&t.uint32(69).fixed32(e.flags),null!=e.traceId&&Object.hasOwnProperty.call(e,"traceId")&&t.uint32(74).bytes(e.traceId),null!=e.spanId&&Object.hasOwnProperty.call(e,"spanId")&&t.uint32(82).bytes(e.spanId),null!=e.observedTimeUnixNano&&Object.hasOwnProperty.call(e,"observedTimeUnixNano")&&t.uint32(89).fixed64(e.observedTimeUnixNano),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new a.opentelemetry.proto.logs.v1.LogRecord;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.timeUnixNano=e.fixed64();break;case 11:n.observedTimeUnixNano=e.fixed64();break;case 2:n.severityNumber=e.int32();break;case 3:n.severityText=e.string();break;case 5:n.body=a.opentelemetry.proto.common.v1.AnyValue.decode(e,e.uint32());break;case 6:n.attributes&&n.attributes.length||(n.attributes=[]),n.attributes.push(a.opentelemetry.proto.common.v1.KeyValue.decode(e,e.uint32()));break;case 7:n.droppedAttributesCount=e.uint32();break;case 8:n.flags=e.fixed32();break;case 9:n.traceId=e.bytes();break;case 10:n.spanId=e.bytes();break;default:e.skipType(7&o)}}return n},e.decodeDelimited=function(e){return e instanceof i||(e=new i(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&!s.isInteger(e.timeUnixNano)&&!(e.timeUnixNano&&s.isInteger(e.timeUnixNano.low)&&s.isInteger(e.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(null!=e.observedTimeUnixNano&&e.hasOwnProperty("observedTimeUnixNano")&&!s.isInteger(e.observedTimeUnixNano)&&!(e.observedTimeUnixNano&&s.isInteger(e.observedTimeUnixNano.low)&&s.isInteger(e.observedTimeUnixNano.high)))return"observedTimeUnixNano: integer|Long expected";if(null!=e.severityNumber&&e.hasOwnProperty("severityNumber"))switch(e.severityNumber){default:return"severityNumber: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:}if(null!=e.severityText&&e.hasOwnProperty("severityText")&&!s.isString(e.severityText))return"severityText: string expected";if(null!=e.body&&e.hasOwnProperty("body")){var t=a.opentelemetry.proto.common.v1.AnyValue.verify(e.body);if(t)return"body."+t}if(null!=e.attributes&&e.hasOwnProperty("attributes")){if(!Array.isArray(e.attributes))return"attributes: array expected";for(var r=0;r<e.attributes.length;++r){var t=a.opentelemetry.proto.common.v1.KeyValue.verify(e.attributes[r]);if(t)return"attributes."+t}}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&!s.isInteger(e.droppedAttributesCount)?"droppedAttributesCount: integer expected":null!=e.flags&&e.hasOwnProperty("flags")&&!s.isInteger(e.flags)?"flags: integer expected":null!=e.traceId&&e.hasOwnProperty("traceId")&&!(e.traceId&&"number"==typeof e.traceId.length||s.isString(e.traceId))?"traceId: buffer expected":null!=e.spanId&&e.hasOwnProperty("spanId")&&!(e.spanId&&"number"==typeof e.spanId.length||s.isString(e.spanId))?"spanId: buffer expected":null},e.fromObject=function(e){if(e instanceof a.opentelemetry.proto.logs.v1.LogRecord)return e;var t=new a.opentelemetry.proto.logs.v1.LogRecord;switch(null!=e.timeUnixNano&&(s.Long?(t.timeUnixNano=s.Long.fromValue(e.timeUnixNano)).unsigned=!1:"string"==typeof e.timeUnixNano?t.timeUnixNano=parseInt(e.timeUnixNano,10):"number"==typeof e.timeUnixNano?t.timeUnixNano=e.timeUnixNano:"object"==typeof e.timeUnixNano&&(t.timeUnixNano=new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber())),null!=e.observedTimeUnixNano&&(s.Long?(t.observedTimeUnixNano=s.Long.fromValue(e.observedTimeUnixNano)).unsigned=!1:"string"==typeof e.observedTimeUnixNano?t.observedTimeUnixNano=parseInt(e.observedTimeUnixNano,10):"number"==typeof e.observedTimeUnixNano?t.observedTimeUnixNano=e.observedTimeUnixNano:"object"==typeof e.observedTimeUnixNano&&(t.observedTimeUnixNano=new s.LongBits(e.observedTimeUnixNano.low>>>0,e.observedTimeUnixNano.high>>>0).toNumber())),e.severityNumber){default:"number"==typeof e.severityNumber&&(t.severityNumber=e.severityNumber);break;case"SEVERITY_NUMBER_UNSPECIFIED":case 0:t.severityNumber=0;break;case"SEVERITY_NUMBER_TRACE":case 1:t.severityNumber=1;break;case"SEVERITY_NUMBER_TRACE2":case 2:t.severityNumber=2;break;case"SEVERITY_NUMBER_TRACE3":case 3:t.severityNumber=3;break;case"SEVERITY_NUMBER_TRACE4":case 4:t.severityNumber=4;break;case"SEVERITY_NUMBER_DEBUG":case 5:t.severityNumber=5;break;case"SEVERITY_NUMBER_DEBUG2":case 6:t.severityNumber=6;break;case"SEVERITY_NUMBER_DEBUG3":case 7:t.severityNumber=7;break;case"SEVERITY_NUMBER_DEBUG4":case 8:t.severityNumber=8;break;case"SEVERITY_NUMBER_INFO":case 9:t.severityNumber=9;break;case"SEVERITY_NUMBER_INFO2":case 10:t.severityNumber=10;break;case"SEVERITY_NUMBER_INFO3":case 11:t.severityNumber=11;break;case"SEVERITY_NUMBER_INFO4":case 12:t.severityNumber=12;break;case"SEVERITY_NUMBER_WARN":case 13:t.severityNumber=13;break;case"SEVERITY_NUMBER_WARN2":case 14:t.severityNumber=14;break;case"SEVERITY_NUMBER_WARN3":case 15:t.severityNumber=15;break;case"SEVERITY_NUMBER_WARN4":case 16:t.severityNumber=16;break;case"SEVERITY_NUMBER_ERROR":case 17:t.severityNumber=17;break;case"SEVERITY_NUMBER_ERROR2":case 18:t.severityNumber=18;break;case"SEVERITY_NUMBER_ERROR3":case 19:t.severityNumber=19;break;case"SEVERITY_NUMBER_ERROR4":case 20:t.severityNumber=20;break;case"SEVERITY_NUMBER_FATAL":case 21:t.severityNumber=21;break;case"SEVERITY_NUMBER_FATAL2":case 22:t.severityNumber=22;break;case"SEVERITY_NUMBER_FATAL3":case 23:t.severityNumber=23;break;case"SEVERITY_NUMBER_FATAL4":case 24:t.severityNumber=24}if(null!=e.severityText&&(t.severityText=String(e.severityText)),null!=e.body){if("object"!=typeof e.body)throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.body: object expected");t.body=a.opentelemetry.proto.common.v1.AnyValue.fromObject(e.body)}if(e.attributes){if(!Array.isArray(e.attributes))throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: array expected");t.attributes=[];for(var r=0;r<e.attributes.length;++r){if("object"!=typeof e.attributes[r])throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: object expected");t.attributes[r]=a.opentelemetry.proto.common.v1.KeyValue.fromObject(e.attributes[r])}}return null!=e.droppedAttributesCount&&(t.droppedAttributesCount=e.droppedAttributesCount>>>0),null!=e.flags&&(t.flags=e.flags>>>0),null!=e.traceId&&("string"==typeof e.traceId?s.base64.decode(e.traceId,t.traceId=s.newBuffer(s.base64.length(e.traceId)),0):e.traceId.length>=0&&(t.traceId=e.traceId)),null!=e.spanId&&("string"==typeof e.spanId?s.base64.decode(e.spanId,t.spanId=s.newBuffer(s.base64.length(e.spanId)),0):e.spanId.length>=0&&(t.spanId=e.spanId)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.attributes=[]),t.defaults){if(s.Long){var n=new s.Long(0,0,!1);r.timeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.timeUnixNano=t.longs===String?"0":0;if(r.severityNumber=t.enums===String?"SEVERITY_NUMBER_UNSPECIFIED":0,r.severityText="",r.body=null,r.droppedAttributesCount=0,r.flags=0,t.bytes===String?r.traceId="":(r.traceId=[],t.bytes!==Array&&(r.traceId=s.newBuffer(r.traceId))),t.bytes===String?r.spanId="":(r.spanId=[],t.bytes!==Array&&(r.spanId=s.newBuffer(r.spanId))),s.Long){var n=new s.Long(0,0,!1);r.observedTimeUnixNano=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.observedTimeUnixNano=t.longs===String?"0":0}if(null!=e.timeUnixNano&&e.hasOwnProperty("timeUnixNano")&&("number"==typeof e.timeUnixNano?r.timeUnixNano=t.longs===String?String(e.timeUnixNano):e.timeUnixNano:r.timeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.timeUnixNano):t.longs===Number?new s.LongBits(e.timeUnixNano.low>>>0,e.timeUnixNano.high>>>0).toNumber():e.timeUnixNano),null!=e.severityNumber&&e.hasOwnProperty("severityNumber")&&(r.severityNumber=t.enums===String?void 0===a.opentelemetry.proto.logs.v1.SeverityNumber[e.severityNumber]?e.severityNumber:a.opentelemetry.proto.logs.v1.SeverityNumber[e.severityNumber]:e.severityNumber),null!=e.severityText&&e.hasOwnProperty("severityText")&&(r.severityText=e.severityText),null!=e.body&&e.hasOwnProperty("body")&&(r.body=a.opentelemetry.proto.common.v1.AnyValue.toObject(e.body,t)),e.attributes&&e.attributes.length){r.attributes=[];for(var i=0;i<e.attributes.length;++i)r.attributes[i]=a.opentelemetry.proto.common.v1.KeyValue.toObject(e.attributes[i],t)}return null!=e.droppedAttributesCount&&e.hasOwnProperty("droppedAttributesCount")&&(r.droppedAttributesCount=e.droppedAttributesCount),null!=e.flags&&e.hasOwnProperty("flags")&&(r.flags=e.flags),null!=e.traceId&&e.hasOwnProperty("traceId")&&(r.traceId=t.bytes===String?s.base64.encode(e.traceId,0,e.traceId.length):t.bytes===Array?Array.prototype.slice.call(e.traceId):e.traceId),null!=e.spanId&&e.hasOwnProperty("spanId")&&(r.spanId=t.bytes===String?s.base64.encode(e.spanId,0,e.spanId.length):t.bytes===Array?Array.prototype.slice.call(e.spanId):e.spanId),null!=e.observedTimeUnixNano&&e.hasOwnProperty("observedTimeUnixNano")&&("number"==typeof e.observedTimeUnixNano?r.observedTimeUnixNano=t.longs===String?String(e.observedTimeUnixNano):e.observedTimeUnixNano:r.observedTimeUnixNano=t.longs===String?s.Long.prototype.toString.call(e.observedTimeUnixNano):t.longs===Number?new s.LongBits(e.observedTimeUnixNano.low>>>0,e.observedTimeUnixNano.high>>>0).toNumber():e.observedTimeUnixNano),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,n.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/opentelemetry.proto.logs.v1.LogRecord"},e}(),e}(),e}(),e}(),e}(),e.exports=a},10751:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ESpanKind:()=>i.ESpanKind,JsonLogsSerializer:()=>u.JsonLogsSerializer,JsonMetricsSerializer:()=>u.JsonMetricsSerializer,JsonTraceSerializer:()=>u.JsonTraceSerializer,ProtobufLogsSerializer:()=>l.ProtobufLogsSerializer,ProtobufMetricsSerializer:()=>l.ProtobufMetricsSerializer,ProtobufTraceSerializer:()=>l.ProtobufTraceSerializer,createExportLogsServiceRequest:()=>a.createExportLogsServiceRequest,createExportMetricsServiceRequest:()=>s.createExportMetricsServiceRequest,createExportTraceServiceRequest:()=>o.createExportTraceServiceRequest,encodeAsLongBits:()=>n.encodeAsLongBits,encodeAsString:()=>n.encodeAsString,getOtlpEncoder:()=>n.getOtlpEncoder,hrTimeToNanos:()=>n.hrTimeToNanos,toLongBits:()=>n.toLongBits});var n=r(16527),i=r(18945),o=r(99862),s=r(41153),a=r(68951),l=r(51736),u=r(27455)},27455:(e,t,r)=>{"use strict";r.d(t,{JsonLogsSerializer:()=>l,JsonMetricsSerializer:()=>a,JsonTraceSerializer:()=>s});var n=r(99862),i=r(41153),o=r(68951),s={serializeRequest:function(e){var t=(0,n.createExportTraceServiceRequest)(e,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(t))},deserializeResponse:function(e){return JSON.parse(new TextDecoder().decode(e))}},a={serializeRequest:function(e){var t=(0,i.createExportMetricsServiceRequest)(e,{useLongBits:!1});return new TextEncoder().encode(JSON.stringify(t))},deserializeResponse:function(e){return JSON.parse(new TextDecoder().decode(e))}},l={serializeRequest:function(e){var t=(0,o.createExportLogsServiceRequest)(e,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(t))},deserializeResponse:function(e){return JSON.parse(new TextDecoder().decode(e))}}},68951:(e,t,r)=>{"use strict";r.d(t,{createExportLogsServiceRequest:()=>l});var n=r(16527),i=r(58014),o=r(33863),s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};function l(e,t){return{resourceLogs:c(e,(0,n.getOtlpEncoder)(t))}}function u(e){var t,r,n=new Map;try{for(var i=s(e),o=i.next();!o.done;o=i.next()){var a=o.value,l=a.resource,u=a.instrumentationScope,c=u.name,d=u.version,h=void 0===d?"":d,p=u.schemaUrl,f=void 0===p?"":p,m=n.get(l);m||(m=new Map,n.set(l,m));var g=c+"@"+h+":"+f,y=m.get(g);y||(y=[],m.set(g,y)),y.push(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n}function c(e,t){return Array.from(u(e),function(e){var r=a(e,2),n=r[0],s=r[1];return{resource:(0,o.createResource)(n),scopeLogs:Array.from(s,function(e){var r=a(e,2)[1];return{scope:(0,i.createInstrumentationScope)(r[0].instrumentationScope),logRecords:r.map(function(e){return d(e,t)}),schemaUrl:r[0].instrumentationScope.schemaUrl}}),schemaUrl:void 0}})}function d(e,t){var r,n,o;return{timeUnixNano:t.encodeHrTime(e.hrTime),observedTimeUnixNano:t.encodeHrTime(e.hrTimeObserved),severityNumber:h(e.severityNumber),severityText:e.severityText,body:(0,i.toAnyValue)(e.body),attributes:p(e.attributes),droppedAttributesCount:e.droppedAttributesCount,flags:null===(r=e.spanContext)||void 0===r?void 0:r.traceFlags,traceId:t.encodeOptionalSpanContext(null===(n=e.spanContext)||void 0===n?void 0:n.traceId),spanId:t.encodeOptionalSpanContext(null===(o=e.spanContext)||void 0===o?void 0:o.spanId)}}function h(e){return e}function p(e){return Object.keys(e).map(function(t){return(0,i.toKeyValue)(t,e[t])})}},41153:(e,t,r)=>{"use strict";r.d(t,{createExportMetricsServiceRequest:()=>i});var n=r(16460);function i(e,t){return{resourceMetrics:e.map(function(e){return(0,n.toResourceMetrics)(e,t)})}}},16460:(e,t,r)=>{"use strict";r.d(t,{toResourceMetrics:()=>l});var n=r(38626),i=r(53473),o=r(16527),s=r(58014),a=r(33863);function l(e,t){var r=(0,o.getOtlpEncoder)(t);return{resource:(0,a.createResource)(e.resource),schemaUrl:void 0,scopeMetrics:u(e.scopeMetrics,r)}}function u(e,t){return Array.from(e.map(function(e){return{scope:(0,s.createInstrumentationScope)(e.scope),metrics:e.metrics.map(function(e){return c(e,t)}),schemaUrl:e.scope.schemaUrl}}))}function c(e,t){var r={name:e.descriptor.name,description:e.descriptor.description,unit:e.descriptor.unit},n=m(e.aggregationTemporality);switch(e.dataPointType){case i.DataPointType.SUM:r.sum={aggregationTemporality:n,isMonotonic:e.isMonotonic,dataPoints:h(e,t)};break;case i.DataPointType.GAUGE:r.gauge={dataPoints:h(e,t)};break;case i.DataPointType.HISTOGRAM:r.histogram={aggregationTemporality:n,dataPoints:p(e,t)};break;case i.DataPointType.EXPONENTIAL_HISTOGRAM:r.exponentialHistogram={aggregationTemporality:n,dataPoints:f(e,t)}}return r}function d(e,t,r){var i={attributes:(0,s.toAttributes)(e.attributes),startTimeUnixNano:r.encodeHrTime(e.startTime),timeUnixNano:r.encodeHrTime(e.endTime)};switch(t){case n.ValueType.INT:i.asInt=e.value;break;case n.ValueType.DOUBLE:i.asDouble=e.value}return i}function h(e,t){return e.dataPoints.map(function(r){return d(r,e.descriptor.valueType,t)})}function p(e,t){return e.dataPoints.map(function(e){var r=e.value;return{attributes:(0,s.toAttributes)(e.attributes),bucketCounts:r.buckets.counts,explicitBounds:r.buckets.boundaries,count:r.count,sum:r.sum,min:r.min,max:r.max,startTimeUnixNano:t.encodeHrTime(e.startTime),timeUnixNano:t.encodeHrTime(e.endTime)}})}function f(e,t){return e.dataPoints.map(function(e){var r=e.value;return{attributes:(0,s.toAttributes)(e.attributes),count:r.count,min:r.min,max:r.max,sum:r.sum,positive:{offset:r.positive.offset,bucketCounts:r.positive.bucketCounts},negative:{offset:r.negative.offset,bucketCounts:r.negative.bucketCounts},scale:r.scale,zeroCount:r.zeroCount,startTimeUnixNano:t.encodeHrTime(e.startTime),timeUnixNano:t.encodeHrTime(e.endTime)}})}function m(e){switch(e){case i.AggregationTemporality.DELTA:return 1;case i.AggregationTemporality.CUMULATIVE:return 2}}},51736:(e,t,r)=>{"use strict";r.d(t,{ProtobufLogsSerializer:()=>p,ProtobufMetricsSerializer:()=>f,ProtobufTraceSerializer:()=>m});var n=r(14906),i=r(99862),o=r(41153),s=r(68951),a=n.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,l=n.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,u=n.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,c=n.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,d=n.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,h=n.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,p={serializeRequest:function(e){var t=(0,s.createExportLogsServiceRequest)(e);return l.encode(t).finish()},deserializeResponse:function(e){return a.decode(e)}},f={serializeRequest:function(e){var t=(0,o.createExportMetricsServiceRequest)(e);return c.encode(t).finish()},deserializeResponse:function(e){return u.decode(e)}},m={serializeRequest:function(e){var t=(0,i.createExportTraceServiceRequest)(e);return h.encode(t).finish()},deserializeResponse:function(e){return d.decode(e)}}},33863:(e,t,r)=>{"use strict";r.d(t,{createResource:()=>i});var n=r(58014);function i(e){return{attributes:(0,n.toAttributes)(e.attributes),droppedAttributesCount:0}}},99862:(e,t,r)=>{"use strict";r.d(t,{createExportTraceServiceRequest:()=>u});var n=r(33480),i=r(16527),o=r(58014),s=r(33863),a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};function u(e,t){return{resourceSpans:d(e,(0,i.getOtlpEncoder)(t))}}function c(e){var t,r,n=new Map;try{for(var i=a(e),o=i.next();!o.done;o=i.next()){var s=o.value,l=n.get(s.resource);l||(l=new Map,n.set(s.resource,l));var u=s.instrumentationLibrary.name+"@"+(s.instrumentationLibrary.version||"")+":"+(s.instrumentationLibrary.schemaUrl||""),c=l.get(u);c||(c=[],l.set(u,c)),c.push(s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n}function d(e,t){for(var r=c(e),i=[],a=r.entries(),u=a.next();!u.done;){for(var d=l(u.value,2),h=d[0],p=d[1],f=[],m=p.values(),g=m.next();!g.done;){var y=g.value;if(y.length>0){var v=y.map(function(e){return(0,n.sdkSpanToOtlpSpan)(e,t)});f.push({scope:(0,o.createInstrumentationScope)(y[0].instrumentationLibrary),spans:v,schemaUrl:y[0].instrumentationLibrary.schemaUrl})}g=m.next()}var b={resource:(0,s.createResource)(h),scopeSpans:f,schemaUrl:void 0};i.push(b),u=a.next()}return i}},33480:(e,t,r)=>{"use strict";r.d(t,{sdkSpanToOtlpSpan:()=>i});var n=r(58014);function i(e,t){var r,i=e.spanContext(),a=e.status;return{traceId:t.encodeSpanContext(i.traceId),spanId:t.encodeSpanContext(i.spanId),parentSpanId:t.encodeOptionalSpanContext(e.parentSpanId),traceState:null===(r=i.traceState)||void 0===r?void 0:r.serialize(),name:e.name,kind:null==e.kind?0:e.kind+1,startTimeUnixNano:t.encodeHrTime(e.startTime),endTimeUnixNano:t.encodeHrTime(e.endTime),attributes:(0,n.toAttributes)(e.attributes),droppedAttributesCount:e.droppedAttributesCount,events:e.events.map(function(e){return s(e,t)}),droppedEventsCount:e.droppedEventsCount,status:{code:a.code,message:a.message},links:e.links.map(function(e){return o(e,t)}),droppedLinksCount:e.droppedLinksCount}}function o(e,t){var r;return{attributes:e.attributes?(0,n.toAttributes)(e.attributes):[],spanId:t.encodeSpanContext(e.context.spanId),traceId:t.encodeSpanContext(e.context.traceId),traceState:null===(r=e.context.traceState)||void 0===r?void 0:r.serialize(),droppedAttributesCount:e.droppedAttributesCount||0}}function s(e,t){return{attributes:e.attributes?(0,n.toAttributes)(e.attributes):[],name:e.name,timeUnixNano:t.encodeHrTime(e.time),droppedAttributesCount:e.droppedAttributesCount||0}}},18945:(e,t,r)=>{"use strict";var n;r.d(t,{ESpanKind:()=>n}),function(e){e[e.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",e[e.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",e[e.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",e[e.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",e[e.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",e[e.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"}(n||(n={}))},33109:(e,t,r)=>{"use strict";r.d(t,{B3MultiPropagator:()=>g});var n=r(38626),i=r(4544),o=r(47919),s=r(71618),a=new Set([!0,"true","True","1",1]),l=new Set([!1,"false","False","0",0]);function u(e){return e===n.TraceFlags.SAMPLED||e===n.TraceFlags.NONE}function c(e){return Array.isArray(e)?e[0]:e}function d(e,t,r){return c(t.get(e,r))}function h(e,t){var r=d(e,t,s.X_B3_TRACE_ID);return"string"==typeof r?r.padStart(32,"0"):""}function p(e,t){var r=d(e,t,s.X_B3_SPAN_ID);return"string"==typeof r?r:""}function f(e,t){return"1"===d(e,t,s.X_B3_FLAGS)?"1":void 0}function m(e,t){var r=d(e,t,s.X_B3_SAMPLED);return"1"===f(e,t)||a.has(r)?n.TraceFlags.SAMPLED:void 0===r||l.has(r)?n.TraceFlags.NONE:void 0}var g=function(){function e(){}return e.prototype.inject=function(e,t,r){var a=n.trace.getSpanContext(e);if(!(!a||!(0,n.isSpanContextValid)(a)||(0,i.isTracingSuppressed)(e))){var l=e.getValue(o.B3_DEBUG_FLAG_KEY);r.set(t,s.X_B3_TRACE_ID,a.traceId),r.set(t,s.X_B3_SPAN_ID,a.spanId),"1"===l?r.set(t,s.X_B3_FLAGS,l):void 0!==a.traceFlags&&r.set(t,s.X_B3_SAMPLED,(n.TraceFlags.SAMPLED&a.traceFlags)===n.TraceFlags.SAMPLED?"1":"0")}},e.prototype.extract=function(e,t,r){var i=h(t,r),s=p(t,r),a=m(t,r),l=f(t,r);return(0,n.isValidTraceId)(i)&&(0,n.isValidSpanId)(s)&&u(a)?(e=e.setValue(o.B3_DEBUG_FLAG_KEY,l),n.trace.setSpanContext(e,{traceId:i,spanId:s,isRemote:!0,traceFlags:a})):e},e.prototype.fields=function(){return[s.X_B3_TRACE_ID,s.X_B3_SPAN_ID,s.X_B3_FLAGS,s.X_B3_SAMPLED,s.X_B3_PARENT_SPAN_ID]},e}()},67892:(e,t,r)=>{"use strict";r.r(t),r.d(t,{B3Propagator:()=>l});var n=r(4544),i=r(33109),o=r(31023),s=r(71618),a=r(916),l=function(){function e(e){void 0===e&&(e={}),this._b3MultiPropagator=new i.B3MultiPropagator,this._b3SinglePropagator=new o.B3SinglePropagator,e.injectEncoding===a.B3InjectEncoding.MULTI_HEADER?(this._inject=this._b3MultiPropagator.inject,this._fields=this._b3MultiPropagator.fields()):(this._inject=this._b3SinglePropagator.inject,this._fields=this._b3SinglePropagator.fields())}return e.prototype.inject=function(e,t,r){(0,n.isTracingSuppressed)(e)||this._inject(e,t,r)},e.prototype.extract=function(e,t,r){var n=r.get(t,s.B3_CONTEXT_HEADER);return(Array.isArray(n)?n[0]:n)?this._b3SinglePropagator.extract(e,t,r):this._b3MultiPropagator.extract(e,t,r)},e.prototype.fields=function(){return this._fields},e}()},31023:(e,t,r)=>{"use strict";r.d(t,{B3SinglePropagator:()=>f});var n=r(38626),i=r(4544),o=r(47919),s=r(71618),a=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},l=/((?:[0-9a-f]{16}){1,2})-([0-9a-f]{16})(?:-([01d](?![0-9a-f])))?(?:-([0-9a-f]{16}))?/,u="0".repeat(16),c=new Set(["d","1"]),d="d";function h(e){return 32===e.length?e:""+u+e}function p(e){return e&&c.has(e)?n.TraceFlags.SAMPLED:n.TraceFlags.NONE}var f=function(){function e(){}return e.prototype.inject=function(e,t,r){var a=n.trace.getSpanContext(e);if(!(!a||!(0,n.isSpanContextValid)(a)||(0,i.isTracingSuppressed)(e))){var l=e.getValue(o.B3_DEBUG_FLAG_KEY)||1&a.traceFlags,u=a.traceId+"-"+a.spanId+"-"+l;r.set(t,s.B3_CONTEXT_HEADER,u)}},e.prototype.extract=function(e,t,r){var i=r.get(t,s.B3_CONTEXT_HEADER),u=Array.isArray(i)?i[0]:i;if("string"!=typeof u)return e;var c=u.match(l);if(!c)return e;var f=a(c,4),m=f[1],g=f[2],y=f[3],v=h(m);if(!(0,n.isValidTraceId)(v)||!(0,n.isValidSpanId)(g))return e;var b=p(y);return y===d&&(e=e.setValue(o.B3_DEBUG_FLAG_KEY,y)),n.trace.setSpanContext(e,{traceId:v,spanId:g,isRemote:!0,traceFlags:b})},e.prototype.fields=function(){return[s.B3_CONTEXT_HEADER]},e}()},47919:(e,t,r)=>{"use strict";r.d(t,{B3_DEBUG_FLAG_KEY:()=>n});var n=(0,r(38626).createContextKey)("OpenTelemetry Context Key B3 Debug Flag")},71618:(e,t,r)=>{"use strict";r.r(t),r.d(t,{B3_CONTEXT_HEADER:()=>n,X_B3_FLAGS:()=>l,X_B3_PARENT_SPAN_ID:()=>a,X_B3_SAMPLED:()=>s,X_B3_SPAN_ID:()=>o,X_B3_TRACE_ID:()=>i});var n="b3",i="x-b3-traceid",o="x-b3-spanid",s="x-b3-sampled",a="x-b3-parentspanid",l="x-b3-flags"},54235:(e,t,r)=>{"use strict";r.r(t);var n=r(67892),i={};for(let e in n)"default"!==e&&(i[e]=()=>n[e]);r.d(t,i);var o=r(71618),i={};for(let e in o)"default"!==e&&(i[e]=()=>o[e]);r.d(t,i);var s=r(916),i={};for(let e in s)"default"!==e&&(i[e]=()=>s[e]);r.d(t,i)},916:(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{B3InjectEncoding:()=>n}),function(e){e[e.SINGLE_HEADER=0]="SINGLE_HEADER",e[e.MULTI_HEADER=1]="MULTI_HEADER"}(n||(n={}))},79031:(e,t,r)=>{"use strict";r.r(t),r.d(t,{JaegerPropagator:()=>u,UBER_BAGGAGE_HEADER_PREFIX:()=>l,UBER_TRACE_ID_HEADER:()=>a});var n=r(38626),i=r(4544),o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},a="uber-trace-id",l="uberctx",u=function(){function e(e){"string"==typeof e?(this._jaegerTraceHeader=e,this._jaegerBaggageHeaderPrefix=l):(this._jaegerTraceHeader=(null==e?void 0:e.customTraceHeader)||a,this._jaegerBaggageHeaderPrefix=(null==e?void 0:e.customBaggageHeaderPrefix)||l)}return e.prototype.inject=function(e,t,r){var a,l,u=n.trace.getSpanContext(e),c=n.propagation.getBaggage(e);if(u&&!1===(0,i.isTracingSuppressed)(e)){var d="0"+(u.traceFlags||n.TraceFlags.NONE).toString(16);r.set(t,this._jaegerTraceHeader,u.traceId+":"+u.spanId+":0:"+d)}if(c)try{for(var h=o(c.getAllEntries()),p=h.next();!p.done;p=h.next()){var f=s(p.value,2),m=f[0],g=f[1];r.set(t,this._jaegerBaggageHeaderPrefix+"-"+m,encodeURIComponent(g.value))}}catch(e){a={error:e}}finally{try{p&&!p.done&&(l=h.return)&&l.call(h)}finally{if(a)throw a.error}}},e.prototype.extract=function(e,t,r){var i,s,a,l=this,u=r.get(t,this._jaegerTraceHeader),c=Array.isArray(u)?u[0]:u,h=r.keys(t).filter(function(e){return e.startsWith(l._jaegerBaggageHeaderPrefix+"-")}).map(function(e){var n=r.get(t,e);return{key:e.substring(l._jaegerBaggageHeaderPrefix.length+1),value:Array.isArray(n)?n[0]:n}}),p=e;if("string"==typeof c){var f=d(c);f&&(p=n.trace.setSpanContext(p,f))}if(0===h.length)return p;var m=null!==(a=n.propagation.getBaggage(e))&&void 0!==a?a:n.propagation.createBaggage();try{for(var g=o(h),y=g.next();!y.done;y=g.next()){var v=y.value;void 0!==v.value&&(m=m.setEntry(v.key,{value:decodeURIComponent(v.value)}))}}catch(e){i={error:e}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(i)throw i.error}}return n.propagation.setBaggage(p,m)},e.prototype.fields=function(){return[this._jaegerTraceHeader]},e}(),c=/^[0-9a-f]{1,2}$/i;function d(e){var t=decodeURIComponent(e).split(":");if(4!==t.length)return null;var r=s(t,4),n=r[0],i=r[1],o=r[3];return{traceId:n.padStart(32,"0"),spanId:i.padStart(16,"0"),isRemote:!0,traceFlags:c.test(o)?1&parseInt(o,16):1}}},87891:(e,t,r)=>{"use strict";r.r(t);var n=r(79031),i={};for(let e in n)"default"!==e&&(i[e]=()=>n[e]);r.d(t,i)},40714:(e,t,r)=>{"use strict";r.d(t,{Resource:()=>d});var n=r(38626),i=r(67028),o=r(4544),s=r(94078),a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},l=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},u=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return l([e,t])}}function l(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},c=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},d=function(){function e(e,t){var r,i=this;this._attributes=e,this.asyncAttributesPending=null!=t,this._syncAttributes=null!==(r=this._attributes)&&void 0!==r?r:{},this._asyncAttributesPromise=null==t?void 0:t.then(function(e){return i._attributes=Object.assign({},i._attributes,e),i.asyncAttributesPending=!1,e},function(e){return n.diag.debug("a resource's async attributes promise rejected: %s",e),i.asyncAttributesPending=!1,{}})}return e.empty=function(){return e.EMPTY},e.default=function(){var t;return new e(((t={})[i.SEMRESATTRS_SERVICE_NAME]=(0,s.defaultServiceName)(),t[i.SEMRESATTRS_TELEMETRY_SDK_LANGUAGE]=o.SDK_INFO[i.SEMRESATTRS_TELEMETRY_SDK_LANGUAGE],t[i.SEMRESATTRS_TELEMETRY_SDK_NAME]=o.SDK_INFO[i.SEMRESATTRS_TELEMETRY_SDK_NAME],t[i.SEMRESATTRS_TELEMETRY_SDK_VERSION]=o.SDK_INFO[i.SEMRESATTRS_TELEMETRY_SDK_VERSION],t))},Object.defineProperty(e.prototype,"attributes",{get:function(){var e;return this.asyncAttributesPending&&n.diag.error("Accessing resource attributes before async attributes settled"),null!==(e=this._attributes)&&void 0!==e?e:{}},enumerable:!1,configurable:!0}),e.prototype.waitForAsyncAttributes=function(){return l(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:if(!this.asyncAttributesPending)return[3,2];return[4,this._asyncAttributesPromise];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.merge=function(t){var r,n=this;if(!t)return this;var i=a(a({},this._syncAttributes),null!==(r=t._syncAttributes)&&void 0!==r?r:t.attributes);return this._asyncAttributesPromise||t._asyncAttributesPromise?new e(i,Promise.all([this._asyncAttributesPromise,t._asyncAttributesPromise]).then(function(e){var r,i=c(e,2),o=i[0],s=i[1];return a(a(a(a({},n._syncAttributes),o),null!==(r=t._syncAttributes)&&void 0!==r?r:t.attributes),s)})):new e(i)},e.EMPTY=new e({}),e}()},59182:(e,t,r)=>{"use strict";r.d(t,{detectResources:()=>l,detectResourcesSync:()=>u});var n=r(40714),i=r(38626),o=r(69821),s=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},a=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return l([e,t])}}function l(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},l=function(e){return void 0===e&&(e={}),s(void 0,void 0,void 0,function(){var t;return a(this,function(r){switch(r.label){case 0:return[4,Promise.all((e.detectors||[]).map(function(t){return s(void 0,void 0,void 0,function(){var r,o;return a(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,t.detect(e)];case 1:return r=s.sent(),i.diag.debug(t.constructor.name+" found resource.",r),[2,r];case 2:return o=s.sent(),i.diag.debug(t.constructor.name+" failed: "+o.message),[2,n.Resource.empty()];case 3:return[2]}})})}))];case 1:return c(t=r.sent()),[2,t.reduce(function(e,t){return e.merge(t)},n.Resource.empty())]}})})},u=function(e){void 0===e&&(e={});var t,r=(null!==(t=e.detectors)&&void 0!==t?t:[]).map(function(t){try{var r,l=t.detect(e);if((0,o.isPromiseLike)(l)){var u=function(){return s(void 0,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,l];case 1:return e=t.sent(),[2,e.attributes]}})})};r=new n.Resource({},u())}else r=l;return r.waitForAsyncAttributes?r.waitForAsyncAttributes().then(function(){return i.diag.debug(t.constructor.name+" found resource.",r)}):i.diag.debug(t.constructor.name+" found resource.",r),r}catch(e){return i.diag.error(t.constructor.name+" failed: "+e.message),n.Resource.empty()}}),l=r.reduce(function(e,t){return e.merge(t)},n.Resource.empty());return l.waitForAsyncAttributes&&l.waitForAsyncAttributes().then(function(){c(r)}),l},c=function(e){e.forEach(function(e){if(Object.keys(e.attributes).length>0){var t=JSON.stringify(e.attributes,null,4);i.diag.verbose(t)}})}},66584:(e,t,r)=>{"use strict";r.d(t,{browserDetector:()=>i});var n=r(5390),i=new(function(){function e(){}return e.prototype.detect=function(e){return Promise.resolve(n.browserDetectorSync.detect(e))},e}())},5390:(e,t,r)=>{"use strict";r.d(t,{browserDetectorSync:()=>a});var n=r(67028),i=r(38626),o=r(40714),s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=new(function(){function e(){}return e.prototype.detect=function(e){if(!("undefined"!=typeof navigator&&(null===(i=null===(r=global.process)||void 0===r?void 0:r.versions)||void 0===i?void 0:i.node)===void 0&&(null===(s=global.Bun)||void 0===s?void 0:s.version)===void 0))return o.Resource.empty();var t,r,i,s,a=((t={})[n.SEMRESATTRS_PROCESS_RUNTIME_NAME]="browser",t[n.SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION]="Web Browser",t[n.SEMRESATTRS_PROCESS_RUNTIME_VERSION]=navigator.userAgent,t);return this._getResourceAttributes(a,e)},e.prototype._getResourceAttributes=function(e,t){return""===e[n.SEMRESATTRS_PROCESS_RUNTIME_VERSION]?(i.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),o.Resource.empty()):new o.Resource(s({},e))},e}())},9001:(e,t,r)=>{"use strict";r.d(t,{envDetector:()=>i});var n=r(25196),i=new(function(){function e(){}return e.prototype.detect=function(e){return Promise.resolve(n.envDetectorSync.detect(e))},e}())},25196:(e,t,r)=>{"use strict";r.d(t,{envDetectorSync:()=>u});var n=r(38626),i=r(4544),o=r(67028),s=r(40714),a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},u=new(function(){function e(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}return e.prototype.detect=function(e){var t={},r=(0,i.getEnv)(),a=r.OTEL_RESOURCE_ATTRIBUTES,l=r.OTEL_SERVICE_NAME;if(a)try{var u=this._parseResourceAttributes(a);Object.assign(t,u)}catch(e){n.diag.debug("EnvDetector failed: "+e.message)}return l&&(t[o.SEMRESATTRS_SERVICE_NAME]=l),new s.Resource(t)},e.prototype._parseResourceAttributes=function(e){if(!e)return{};var t,r,n={},i=e.split(this._COMMA_SEPARATOR,-1);try{for(var o=a(i),s=o.next();!s.done;s=o.next()){var u=s.value.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(2===u.length){var c=l(u,2),d=c[0],h=c[1];if(d=d.trim(),h=h.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(d))throw Error("Attribute key "+this._ERROR_MESSAGE_INVALID_CHARS);if(!this._isValid(h))throw Error("Attribute value "+this._ERROR_MESSAGE_INVALID_VALUE);n[d]=decodeURIComponent(h)}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n},e.prototype._isValid=function(e){return e.length<=this._MAX_LENGTH&&this._isBaggageOctetString(e)},e.prototype._isBaggageOctetString=function(e){for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(r<33||44===r||59===r||92===r||r>126)return!1}return!0},e.prototype._isValidAndNotEmpty=function(e){return e.length>0&&this._isValid(e)},e}())},28271:(e,t,r)=>{"use strict";r.d(t,{browserDetector:()=>i.browserDetector,browserDetectorSync:()=>s.browserDetectorSync,envDetector:()=>o.envDetector,envDetectorSync:()=>a.envDetectorSync,hostDetector:()=>n.hostDetector,hostDetectorSync:()=>n.hostDetectorSync,osDetector:()=>n.osDetector,osDetectorSync:()=>n.osDetectorSync,processDetector:()=>n.processDetector,processDetectorSync:()=>n.processDetectorSync,serviceInstanceIdDetectorSync:()=>n.serviceInstanceIdDetectorSync});var n=r(63921),i=r(66584),o=r(9001),s=r(5390),a=r(25196)},63921:(e,t,r)=>{"use strict";r.d(t,{hostDetector:()=>n.hostDetector,hostDetectorSync:()=>n.hostDetectorSync,osDetector:()=>n.osDetector,osDetectorSync:()=>n.osDetectorSync,processDetector:()=>n.processDetector,processDetectorSync:()=>n.processDetectorSync,serviceInstanceIdDetectorSync:()=>n.serviceInstanceIdDetectorSync});var n=r(92599)},11702:(e,t,r)=>{"use strict";r.d(t,{hostDetector:()=>i});var n=r(38871),i=new(function(){function e(){}return e.prototype.detect=function(e){return Promise.resolve(n.hostDetectorSync.detect(e))},e}())},38871:(e,t,r)=>{"use strict";r.d(t,{hostDetectorSync:()=>l});var n=r(67028),i=r(40714),o=r(22037),s=r(49276),a=r(61808),l=new(function(){function e(){}return e.prototype.detect=function(e){var t,r=((t={})[n.SEMRESATTRS_HOST_NAME]=(0,o.hostname)(),t[n.SEMRESATTRS_HOST_ARCH]=(0,s.normalizeArch)((0,o.arch)()),t);return new i.Resource(r,this._getAsyncAttributes())},e.prototype._getAsyncAttributes=function(){return(0,a.getMachineId)().then(function(e){var t={};return e&&(t[n.SEMRESATTRS_HOST_ID]=e),t})},e}())},38034:(e,t,r)=>{"use strict";r.d(t,{osDetector:()=>i});var n=r(79504),i=new(function(){function e(){}return e.prototype.detect=function(e){return Promise.resolve(n.osDetectorSync.detect(e))},e}())},79504:(e,t,r)=>{"use strict";r.d(t,{osDetectorSync:()=>a});var n=r(67028),i=r(40714),o=r(22037),s=r(49276),a=new(function(){function e(){}return e.prototype.detect=function(e){var t,r=((t={})[n.SEMRESATTRS_OS_TYPE]=(0,s.normalizeType)((0,o.platform)()),t[n.SEMRESATTRS_OS_VERSION]=(0,o.release)(),t);return new i.Resource(r)},e}())},15463:(e,t,r)=>{"use strict";r.d(t,{processDetector:()=>i});var n=r(55443),i=new(function(){function e(){}return e.prototype.detect=function(e){return Promise.resolve(n.processDetectorSync.detect(e))},e}())},55443:(e,t,r)=>{"use strict";r.d(t,{processDetectorSync:()=>u});var n=r(38626),i=r(67028),o=r(40714),s=r(22037),a=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},l=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},u=new(function(){function e(){}return e.prototype.detect=function(e){var t,r=((t={})[i.SEMRESATTRS_PROCESS_PID]=process.pid,t[i.SEMRESATTRS_PROCESS_EXECUTABLE_NAME]=process.title,t[i.SEMRESATTRS_PROCESS_EXECUTABLE_PATH]=process.execPath,t[i.SEMRESATTRS_PROCESS_COMMAND_ARGS]=l(l([process.argv[0]],a(process.execArgv),!1),a(process.argv.slice(1)),!1),t[i.SEMRESATTRS_PROCESS_RUNTIME_VERSION]=process.versions.node,t[i.SEMRESATTRS_PROCESS_RUNTIME_NAME]="nodejs",t[i.SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION]="Node.js",t);process.argv.length>1&&(r[i.SEMRESATTRS_PROCESS_COMMAND]=process.argv[1]);try{var u=s.userInfo();r[i.SEMRESATTRS_PROCESS_OWNER]=u.username}catch(e){n.diag.debug("error obtaining process owner: "+e)}return new o.Resource(r)},e}())},21187:(e,t,r)=>{"use strict";r.d(t,{serviceInstanceIdDetectorSync:()=>s});var n=r(67028),i=r(40714),o=r(6113),s=new(function(){function e(){}return e.prototype.detect=function(e){var t,r=((t={})[n.SEMRESATTRS_SERVICE_INSTANCE_ID]=(0,o.randomUUID)(),t);return new i.Resource(r)},e}())},92599:(e,t,r)=>{"use strict";r.d(t,{hostDetector:()=>n.hostDetector,hostDetectorSync:()=>i.hostDetectorSync,osDetector:()=>o.osDetector,osDetectorSync:()=>s.osDetectorSync,processDetector:()=>a.processDetector,processDetectorSync:()=>l.processDetectorSync,serviceInstanceIdDetectorSync:()=>u.serviceInstanceIdDetectorSync});var n=r(11702),i=r(38871),o=r(38034),s=r(79504),a=r(15463),l=r(55443),u=r(21187)},94039:(e,t,r)=>{"use strict";r.d(t,{execAsync:()=>i});var n=r(32081),i=r(73837).promisify(n.exec)},66857:(e,t,r)=>{"use strict";r.d(t,{getMachineId:()=>l});var n=r(57147),i=r(94039),o=r(38626),s=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},a=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return l([e,t])}}function l(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};function l(){return s(this,void 0,void 0,function(){var e,t,r;return a(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,n.promises.readFile("/etc/hostid",{encoding:"utf8"})];case 1:return[2,(e=s.sent()).trim()];case 2:return t=s.sent(),o.diag.debug("error reading machine id: "+t),[3,3];case 3:return s.trys.push([3,5,,6]),[4,(0,i.execAsync)("kenv -q smbios.system.uuid")];case 4:return[2,(e=s.sent()).stdout.trim()];case 5:return r=s.sent(),o.diag.debug("error reading machine id: "+r),[3,6];case 6:return[2,""]}})})}},64635:(e,t,r)=>{"use strict";r.d(t,{getMachineId:()=>a});var n=r(94039),i=r(38626),o=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},s=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return l([e,t])}}function l(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};function a(){return o(this,void 0,void 0,function(){var e,t,r;return s(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(0,n.execAsync)('ioreg -rd1 -c "IOPlatformExpertDevice"')];case 1:if(!(e=o.sent().stdout.split("\n").find(function(e){return e.includes("IOPlatformUUID")})))return[2,""];if(2===(t=e.split('" = "')).length)return[2,t[1].slice(0,-1)];return[3,3];case 2:return r=o.sent(),i.diag.debug("error reading machine id: "+r),[3,3];case 3:return[2,""]}})})}},45811:(e,t,r)=>{"use strict";r.d(t,{getMachineId:()=>l});var n=r(57147),i=r(38626),o=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},s=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return l([e,t])}}function l(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function l(){return o(this,void 0,void 0,function(){var e,t,r,o,l,u,c;return s(this,function(s){switch(s.label){case 0:e=["/etc/machine-id","/var/lib/dbus/machine-id"],s.label=1;case 1:s.trys.push([1,8,9,10]),r=(t=a(e)).next(),s.label=2;case 2:if(r.done)return[3,7];o=r.value,s.label=3;case 3:return s.trys.push([3,5,,6]),[4,n.promises.readFile(o,{encoding:"utf8"})];case 4:return[2,s.sent().trim()];case 5:return l=s.sent(),i.diag.debug("error reading machine id: "+l),[3,6];case 6:return r=t.next(),[3,2];case 7:return[3,10];case 8:return u={error:s.sent()},[3,10];case 9:try{r&&!r.done&&(c=t.return)&&c.call(t)}finally{if(u)throw u.error}return[7];case 10:return[2,""]}})})}},67750:(e,t,r)=>{"use strict";r.d(t,{getMachineId:()=>s});var n=r(38626),i=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},o=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return l([e,t])}}function l(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};function s(){return i(this,void 0,void 0,function(){return o(this,function(e){return n.diag.debug("could not read machine-id: unsupported platform"),[2,""]})})}},70278:(e,t,r)=>{"use strict";r.d(t,{getMachineId:()=>l});var n=r(77282),i=r(94039),o=r(38626),s=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},a=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return l([e,t])}}function l(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};function l(){return s(this,void 0,void 0,function(){var e,t,r,s;return a(this,function(a){switch(a.label){case 0:e="QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",t="%windir%\\System32\\REG.exe","ia32"===n.arch&&"PROCESSOR_ARCHITEW6432"in n.env&&(t="%windir%\\sysnative\\cmd.exe /c "+t),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(0,i.execAsync)(t+" "+e)];case 2:if(2===(r=a.sent().stdout.split("REG_SZ")).length)return[2,r[1].trim()];return[3,4];case 3:return s=a.sent(),o.diag.debug("error reading machine id: "+s),[3,4];case 4:return[2,""]}})})}},61808:(e,t,r)=>{"use strict";var n;switch(r.d(t,{getMachineId:()=>n}),r(77282).platform){case"darwin":n=r(64635).getMachineId;break;case"linux":n=r(45811).getMachineId;break;case"freebsd":n=r(66857).getMachineId;break;case"win32":n=r(70278).getMachineId;break;default:n=r(67750).getMachineId}},49276:(e,t,r)=>{"use strict";r.d(t,{normalizeArch:()=>n,normalizeType:()=>i});var n=function(e){switch(e){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return e}},i=function(e){switch(e){case"sunos":return"solaris";case"win32":return"windows";default:return e}}},75053:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Resource:()=>n.Resource,browserDetector:()=>o.browserDetector,browserDetectorSync:()=>o.browserDetectorSync,defaultServiceName:()=>i.defaultServiceName,detectResources:()=>s.detectResources,detectResourcesSync:()=>s.detectResourcesSync,envDetector:()=>o.envDetector,envDetectorSync:()=>o.envDetectorSync,hostDetector:()=>o.hostDetector,hostDetectorSync:()=>o.hostDetectorSync,osDetector:()=>o.osDetector,osDetectorSync:()=>o.osDetectorSync,processDetector:()=>o.processDetector,processDetectorSync:()=>o.processDetectorSync,serviceInstanceIdDetectorSync:()=>o.serviceInstanceIdDetectorSync});var n=r(40714),i=r(94078),o=r(28271),s=r(59182)},94078:(e,t,r)=>{"use strict";r.d(t,{defaultServiceName:()=>n.defaultServiceName});var n=r(53819)},73520:(e,t,r)=>{"use strict";function n(){return"unknown_service:"+process.argv0}r.d(t,{defaultServiceName:()=>n})},53819:(e,t,r)=>{"use strict";r.d(t,{defaultServiceName:()=>n.defaultServiceName});var n=r(73520)},69821:(e,t,r)=>{"use strict";r.d(t,{isPromiseLike:()=>n});var n=function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.then}},86377:(e,t,r)=>{"use strict";r.d(t,{LogRecord:()=>a});var n=r(38626),i=r(4544),o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},a=function(){function e(e,t,r){this.attributes={},this.totalAttributesCount=0,this._isReadonly=!1;var o=r.timestamp,s=r.observedTimestamp,a=r.severityNumber,l=r.severityText,u=r.body,c=r.attributes,d=void 0===c?{}:c,h=r.context,p=Date.now();if(this.hrTime=(0,i.timeInputToHrTime)(null!=o?o:p),this.hrTimeObserved=(0,i.timeInputToHrTime)(null!=s?s:p),h){var f=n.trace.getSpanContext(h);f&&n.isSpanContextValid(f)&&(this.spanContext=f)}this.severityNumber=a,this.severityText=l,this.body=u,this.resource=e.resource,this.instrumentationScope=t,this._logRecordLimits=e.logRecordLimits,this.setAttributes(d)}return Object.defineProperty(e.prototype,"severityText",{get:function(){return this._severityText},set:function(e){this._isLogRecordReadonly()||(this._severityText=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"severityNumber",{get:function(){return this._severityNumber},set:function(e){this._isLogRecordReadonly()||(this._severityNumber=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"body",{get:function(){return this._body},set:function(e){this._isLogRecordReadonly()||(this._body=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedAttributesCount",{get:function(){return this.totalAttributesCount-Object.keys(this.attributes).length},enumerable:!1,configurable:!0}),e.prototype.setAttribute=function(e,t){return this._isLogRecordReadonly()||null===t||(0===e.length?n.diag.warn("Invalid attribute key: "+e):(0,i.isAttributeValue)(t)||"object"==typeof t&&!Array.isArray(t)&&Object.keys(t).length>0?(this.totalAttributesCount+=1,Object.keys(this.attributes).length>=this._logRecordLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e))?1===this.droppedAttributesCount&&n.diag.warn("Dropping extra attributes."):(0,i.isAttributeValue)(t)?this.attributes[e]=this._truncateToSize(t):this.attributes[e]=t:n.diag.warn("Invalid attribute value set for key: "+e)),this},e.prototype.setAttributes=function(e){var t,r;try{for(var n=o(Object.entries(e)),i=n.next();!i.done;i=n.next()){var a=s(i.value,2),l=a[0],u=a[1];this.setAttribute(l,u)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return this},e.prototype.setBody=function(e){return this.body=e,this},e.prototype.setSeverityNumber=function(e){return this.severityNumber=e,this},e.prototype.setSeverityText=function(e){return this.severityText=e,this},e.prototype._makeReadonly=function(){this._isReadonly=!0},e.prototype._truncateToSize=function(e){var t=this,r=this._logRecordLimits.attributeValueLengthLimit;return r<=0?(n.diag.warn("Attribute value limit must be positive, got "+r),e):"string"==typeof e?this._truncateToLimitUtil(e,r):Array.isArray(e)?e.map(function(e){return"string"==typeof e?t._truncateToLimitUtil(e,r):e}):e},e.prototype._truncateToLimitUtil=function(e,t){return e.length<=t?e:e.substring(0,t)},e.prototype._isLogRecordReadonly=function(){return this._isReadonly&&n.diag.warn("Can not execute the operation on emitted log record"),this._isReadonly},e}()},12970:(e,t,r)=>{"use strict";r.d(t,{Logger:()=>s});var n=r(38626),i=r(86377),o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},s=function(){function e(e,t){this.instrumentationScope=e,this._sharedState=t}return e.prototype.emit=function(e){var t=e.context||n.context.active(),r=new i.LogRecord(this._sharedState,this.instrumentationScope,o({context:t},e));this._sharedState.activeProcessor.onEmit(r,t),r._makeReadonly()},e}()},25371:(e,t,r)=>{"use strict";r.d(t,{LoggerProvider:()=>h});var n=r(38626),i=r(2110),o=r(75053),s=r(4544),a=r(12970),l=r(43836),u=r(36619),c=r(68509),d="unknown",h=function(){function e(e){void 0===e&&(e={});var t,r=(0,s.merge)({},(0,l.loadDefaultConfig)(),e),n=o.Resource.default().merge(null!==(t=r.resource)&&void 0!==t?t:o.Resource.empty());this._sharedState=new c.LoggerProviderSharedState(n,r.forceFlushTimeoutMillis,(0,l.reconfigureLimits)(r.logRecordLimits)),this._shutdownOnce=new s.BindOnceFuture(this._shutdown,this)}return e.prototype.getLogger=function(e,t,r){if(this._shutdownOnce.isCalled)return n.diag.warn("A shutdown LoggerProvider cannot provide a Logger"),i.NOOP_LOGGER;e||n.diag.warn("Logger requested without instrumentation scope name.");var o=e||d,s=o+"@"+(t||"")+":"+((null==r?void 0:r.schemaUrl)||"");return this._sharedState.loggers.has(s)||this._sharedState.loggers.set(s,new a.Logger({name:o,version:t,schemaUrl:null==r?void 0:r.schemaUrl},this._sharedState)),this._sharedState.loggers.get(s)},e.prototype.addLogRecordProcessor=function(e){0===this._sharedState.registeredLogRecordProcessors.length&&this._sharedState.activeProcessor.shutdown().catch(function(e){return n.diag.error("Error while trying to shutdown current log record processor",e)}),this._sharedState.registeredLogRecordProcessors.push(e),this._sharedState.activeProcessor=new u.MultiLogRecordProcessor(this._sharedState.registeredLogRecordProcessors,this._sharedState.forceFlushTimeoutMillis)},e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?(n.diag.warn("invalid attempt to force flush after LoggerProvider shutdown"),this._shutdownOnce.promise):this._sharedState.activeProcessor.forceFlush()},e.prototype.shutdown=function(){return this._shutdownOnce.isCalled?(n.diag.warn("shutdown may only be called once per LoggerProvider"),this._shutdownOnce.promise):this._shutdownOnce.call()},e.prototype._shutdown=function(){return this._sharedState.activeProcessor.shutdown()},e}()},36619:(e,t,r)=>{"use strict";r.d(t,{MultiLogRecordProcessor:()=>s});var n=r(4544),i=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},o=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return l([e,t])}}function l(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},s=function(){function e(e,t){this.processors=e,this.forceFlushTimeoutMillis=t}return e.prototype.forceFlush=function(){return i(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return e=this.forceFlushTimeoutMillis,[4,Promise.all(this.processors.map(function(t){return(0,n.callWithTimeout)(t.forceFlush(),e)}))];case 1:return t.sent(),[2]}})})},e.prototype.onEmit=function(e,t){this.processors.forEach(function(r){return r.onEmit(e,t)})},e.prototype.shutdown=function(){return i(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,Promise.all(this.processors.map(function(e){return e.shutdown()}))];case 1:return e.sent(),[2]}})})},e}()},43836:(e,t,r)=>{"use strict";r.d(t,{loadDefaultConfig:()=>i,reconfigureLimits:()=>o});var n=r(4544);function i(){return{forceFlushTimeoutMillis:3e4,logRecordLimits:{attributeValueLengthLimit:(0,n.getEnv)().OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,n.getEnv)().OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT},includeTraceContext:!0}}function o(e){var t,r,i,o,s,a,l=(0,n.getEnvWithoutDefaults)();return{attributeCountLimit:null!==(i=null!==(r=null!==(t=e.attributeCountLimit)&&void 0!==t?t:l.OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT)&&void 0!==r?r:l.OTEL_ATTRIBUTE_COUNT_LIMIT)&&void 0!==i?i:n.DEFAULT_ATTRIBUTE_COUNT_LIMIT,attributeValueLengthLimit:null!==(a=null!==(s=null!==(o=e.attributeValueLengthLimit)&&void 0!==o?o:l.OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==s?s:l.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==a?a:n.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT}}},33640:(e,t,r)=>{"use strict";r.d(t,{BatchLogRecordProcessorBase:()=>a});var n=r(38626),i=r(4544),o=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},s=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return l([e,t])}}function l(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},a=function(){function e(e,t){this._exporter=e,this._finishedLogRecords=[];var r,o,s,a,l=(0,i.getEnv)();this._maxExportBatchSize=null!==(r=null==t?void 0:t.maxExportBatchSize)&&void 0!==r?r:l.OTEL_BLRP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=null!==(o=null==t?void 0:t.maxQueueSize)&&void 0!==o?o:l.OTEL_BLRP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=null!==(s=null==t?void 0:t.scheduledDelayMillis)&&void 0!==s?s:l.OTEL_BLRP_SCHEDULE_DELAY,this._exportTimeoutMillis=null!==(a=null==t?void 0:t.exportTimeoutMillis)&&void 0!==a?a:l.OTEL_BLRP_EXPORT_TIMEOUT,this._shutdownOnce=new i.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(n.diag.warn("BatchLogRecordProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return e.prototype.onEmit=function(e){this._shutdownOnce.isCalled||this._addToBuffer(e)},e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){return o(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return this.onShutdown(),[4,this._flushAll()];case 1:return e.sent(),[4,this._exporter.shutdown()];case 2:return e.sent(),[2]}})})},e.prototype._addToBuffer=function(e){this._finishedLogRecords.length>=this._maxQueueSize||(this._finishedLogRecords.push(e),this._maybeStartTimer())},e.prototype._flushAll=function(){var e=this;return new Promise(function(t,r){for(var n=[],i=Math.ceil(e._finishedLogRecords.length/e._maxExportBatchSize),o=0;o<i;o++)n.push(e._flushOneBatch());Promise.all(n).then(function(){t()}).catch(r)})},e.prototype._flushOneBatch=function(){var e=this;return(this._clearTimer(),0===this._finishedLogRecords.length)?Promise.resolve():new Promise(function(t,r){(0,i.callWithTimeout)(e._export(e._finishedLogRecords.splice(0,e._maxExportBatchSize)),e._exportTimeoutMillis).then(function(){return t()}).catch(r)})},e.prototype._maybeStartTimer=function(){var e=this;void 0===this._timer&&(this._timer=setTimeout(function(){e._flushOneBatch().then(function(){e._finishedLogRecords.length>0&&(e._clearTimer(),e._maybeStartTimer())}).catch(function(e){(0,i.globalErrorHandler)(e)})},this._scheduledDelayMillis),(0,i.unrefTimer)(this._timer))},e.prototype._clearTimer=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)},e.prototype._export=function(e){var t=this,r=function(){return i.internal._export(t._exporter,e).then(function(e){var t;e.code!==i.ExportResultCode.SUCCESS&&(0,i.globalErrorHandler)(null!==(t=e.error)&&void 0!==t?t:Error("BatchLogRecordProcessor: log record export failed (status "+e+")"))}).catch(i.globalErrorHandler)},n=e.map(function(e){return e.resource}).filter(function(e){return e.asyncAttributesPending});return 0===n.length?r():Promise.all(n.map(function(e){var t;return null===(t=e.waitForAsyncAttributes)||void 0===t?void 0:t.call(e)})).then(r,i.globalErrorHandler)},e}()},78355:(e,t,r)=>{"use strict";r.d(t,{ConsoleLogRecordExporter:()=>o});var n=r(4544),i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=function(){function e(){}return e.prototype.export=function(e,t){this._sendLogRecords(e,t)},e.prototype.shutdown=function(){return Promise.resolve()},e.prototype._exportInfo=function(e){var t,r,i;return{resource:{attributes:e.resource.attributes},timestamp:(0,n.hrTimeToMicroseconds)(e.hrTime),traceId:null===(t=e.spanContext)||void 0===t?void 0:t.traceId,spanId:null===(r=e.spanContext)||void 0===r?void 0:r.spanId,traceFlags:null===(i=e.spanContext)||void 0===i?void 0:i.traceFlags,severityText:e.severityText,severityNumber:e.severityNumber,body:e.body,attributes:e.attributes}},e.prototype._sendLogRecords=function(e,t){var r,o;try{for(var s=i(e),a=s.next();!a.done;a=s.next()){var l=a.value;console.dir(this._exportInfo(l),{depth:3})}}catch(e){r={error:e}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}null==t||t({code:n.ExportResultCode.SUCCESS})},e}()},97732:(e,t,r)=>{"use strict";r.d(t,{InMemoryLogRecordExporter:()=>s});var n=r(4544),i=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},o=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},s=function(){function e(){this._finishedLogRecords=[],this._stopped=!1}return e.prototype.export=function(e,t){var r;if(this._stopped)return t({code:n.ExportResultCode.FAILED,error:Error("Exporter has been stopped")});(r=this._finishedLogRecords).push.apply(r,o([],i(e),!1)),t({code:n.ExportResultCode.SUCCESS})},e.prototype.shutdown=function(){return this._stopped=!0,this.reset(),Promise.resolve()},e.prototype.getFinishedLogRecords=function(){return this._finishedLogRecords},e.prototype.reset=function(){this._finishedLogRecords=[]},e}()},28020:(e,t,r)=>{"use strict";r.d(t,{NoopLogRecordProcessor:()=>n});var n=function(){function e(){}return e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype.onEmit=function(e,t){},e.prototype.shutdown=function(){return Promise.resolve()},e}()},33960:(e,t,r)=>{"use strict";r.d(t,{SimpleLogRecordProcessor:()=>s});var n=r(4544),i=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},o=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return l([e,t])}}function l(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},s=function(){function e(e){this._exporter=e,this._shutdownOnce=new n.BindOnceFuture(this._shutdown,this),this._unresolvedExports=new Set}return e.prototype.onEmit=function(e){var t,r,i=this;if(!this._shutdownOnce.isCalled){var o=function(){return n.internal._export(i._exporter,[e]).then(function(e){var t;e.code!==n.ExportResultCode.SUCCESS&&(0,n.globalErrorHandler)(null!==(t=e.error)&&void 0!==t?t:Error("SimpleLogRecordProcessor: log record export failed (status "+e+")"))}).catch(n.globalErrorHandler)};if(e.resource.asyncAttributesPending){var s=null===(r=(t=e.resource).waitForAsyncAttributes)||void 0===r?void 0:r.call(t).then(function(){return i._unresolvedExports.delete(s),o()},n.globalErrorHandler);null!=s&&this._unresolvedExports.add(s)}else o()}},e.prototype.forceFlush=function(){return i(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,Promise.all(Array.from(this._unresolvedExports))];case 1:return e.sent(),[2]}})})},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){return this._exporter.shutdown()},e}()},55454:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BatchLogRecordProcessor:()=>u.BatchLogRecordProcessor,ConsoleLogRecordExporter:()=>s.ConsoleLogRecordExporter,InMemoryLogRecordExporter:()=>l.InMemoryLogRecordExporter,LogRecord:()=>i.LogRecord,LoggerProvider:()=>n.LoggerProvider,NoopLogRecordProcessor:()=>o.NoopLogRecordProcessor,SimpleLogRecordProcessor:()=>a.SimpleLogRecordProcessor});var n=r(25371),i=r(86377),o=r(28020),s=r(78355),a=r(33960),l=r(97732),u=r(47259)},68509:(e,t,r)=>{"use strict";r.d(t,{LoggerProviderSharedState:()=>i});var n=r(28020),i=function(){return function(e,t,r){this.resource=e,this.forceFlushTimeoutMillis=t,this.logRecordLimits=r,this.loggers=new Map,this.registeredLogRecordProcessors=[],this.activeProcessor=new n.NoopLogRecordProcessor}}()},47259:(e,t,r)=>{"use strict";r.d(t,{BatchLogRecordProcessor:()=>n.BatchLogRecordProcessor});var n=r(45879)},63687:(e,t,r)=>{"use strict";r.d(t,{BatchLogRecordProcessor:()=>o});var n=r(33640),i=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onShutdown=function(){},t}(n.BatchLogRecordProcessorBase)},45879:(e,t,r)=>{"use strict";r.d(t,{BatchLogRecordProcessor:()=>n.BatchLogRecordProcessor});var n=r(63687)},33917:(e,t,r)=>{"use strict";r.d(t,{InstrumentType:()=>n,createInstrumentDescriptor:()=>s,createInstrumentDescriptorWithView:()=>a,isDescriptorCompatibleWith:()=>l});var n,i=r(38626),o=r(56924);function s(e,t,r){var n,o,s,a;return c(e)||i.diag.warn('Invalid metric name: "'+e+'". The metric name should be a ASCII string with a length no greater than 255 characters.'),{name:e,type:t,description:null!==(n=null==r?void 0:r.description)&&void 0!==n?n:"",unit:null!==(o=null==r?void 0:r.unit)&&void 0!==o?o:"",valueType:null!==(s=null==r?void 0:r.valueType)&&void 0!==s?s:i.ValueType.DOUBLE,advice:null!==(a=null==r?void 0:r.advice)&&void 0!==a?a:{}}}function a(e,t){var r,n;return{name:null!==(r=e.name)&&void 0!==r?r:t.name,description:null!==(n=e.description)&&void 0!==n?n:t.description,type:t.type,unit:t.unit,valueType:t.valueType,advice:t.advice}}function l(e,t){return(0,o.equalsCaseInsensitive)(e.name,t.name)&&e.unit===t.unit&&e.type===t.type&&e.valueType===t.valueType}!function(e){e.COUNTER="COUNTER",e.GAUGE="GAUGE",e.HISTOGRAM="HISTOGRAM",e.UP_DOWN_COUNTER="UP_DOWN_COUNTER",e.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",e.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",e.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"}(n||(n={}));var u=/^[a-z][a-z0-9_.\-/]{0,254}$/i;function c(e){return null!=e.match(u)}},2199:(e,t,r)=>{"use strict";r.d(t,{CounterInstrument:()=>l,GaugeInstrument:()=>u,HistogramInstrument:()=>c,ObservableCounterInstrument:()=>h,ObservableGaugeInstrument:()=>p,ObservableUpDownCounterInstrument:()=>f,UpDownCounterInstrument:()=>a,isObservableInstrument:()=>m});var n=r(38626),i=r(4544),o=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),s=function(){function e(e,t){this._writableMetricStorage=e,this._descriptor=t}return e.prototype._record=function(e,t,r){if(void 0===t&&(t={}),void 0===r&&(r=n.context.active()),"number"!=typeof e){n.diag.warn("non-number value provided to metric "+this._descriptor.name+": "+e);return}(this._descriptor.valueType!==n.ValueType.INT||Number.isInteger(e)||(n.diag.warn("INT value type cannot accept a floating-point value for "+this._descriptor.name+", ignoring the fractional digits."),Number.isInteger(e=Math.trunc(e))))&&this._writableMetricStorage.record(e,t,r,(0,i.millisToHrTime)(Date.now()))},e}(),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.add=function(e,t,r){this._record(e,t,r)},t}(s),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.add=function(e,t,r){if(e<0){n.diag.warn("negative value provided to counter "+this._descriptor.name+": "+e);return}this._record(e,t,r)},t}(s),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.record=function(e,t,r){this._record(e,t,r)},t}(s),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.record=function(e,t,r){if(e<0){n.diag.warn("negative value provided to histogram "+this._descriptor.name+": "+e);return}this._record(e,t,r)},t}(s),d=function(){function e(e,t,r){this._observableRegistry=r,this._descriptor=e,this._metricStorages=t}return e.prototype.addCallback=function(e){this._observableRegistry.addCallback(e,this)},e.prototype.removeCallback=function(e){this._observableRegistry.removeCallback(e,this)},e}(),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(d),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(d),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(d);function m(e){return e instanceof d}},21449:(e,t,r)=>{"use strict";r.d(t,{Meter:()=>o});var n=r(33917),i=r(2199),o=function(){function e(e){this._meterSharedState=e}return e.prototype.createGauge=function(e,t){var r=(0,n.createInstrumentDescriptor)(e,n.InstrumentType.GAUGE,t),o=this._meterSharedState.registerMetricStorage(r);return new i.GaugeInstrument(o,r)},e.prototype.createHistogram=function(e,t){var r=(0,n.createInstrumentDescriptor)(e,n.InstrumentType.HISTOGRAM,t),o=this._meterSharedState.registerMetricStorage(r);return new i.HistogramInstrument(o,r)},e.prototype.createCounter=function(e,t){var r=(0,n.createInstrumentDescriptor)(e,n.InstrumentType.COUNTER,t),o=this._meterSharedState.registerMetricStorage(r);return new i.CounterInstrument(o,r)},e.prototype.createUpDownCounter=function(e,t){var r=(0,n.createInstrumentDescriptor)(e,n.InstrumentType.UP_DOWN_COUNTER,t),o=this._meterSharedState.registerMetricStorage(r);return new i.UpDownCounterInstrument(o,r)},e.prototype.createObservableGauge=function(e,t){var r=(0,n.createInstrumentDescriptor)(e,n.InstrumentType.OBSERVABLE_GAUGE,t),o=this._meterSharedState.registerAsyncMetricStorage(r);return new i.ObservableGaugeInstrument(r,o,this._meterSharedState.observableRegistry)},e.prototype.createObservableCounter=function(e,t){var r=(0,n.createInstrumentDescriptor)(e,n.InstrumentType.OBSERVABLE_COUNTER,t),o=this._meterSharedState.registerAsyncMetricStorage(r);return new i.ObservableCounterInstrument(r,o,this._meterSharedState.observableRegistry)},e.prototype.createObservableUpDownCounter=function(e,t){var r=(0,n.createInstrumentDescriptor)(e,n.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER,t),o=this._meterSharedState.registerAsyncMetricStorage(r);return new i.ObservableUpDownCounterInstrument(r,o,this._meterSharedState.observableRegistry)},e.prototype.addBatchObservableCallback=function(e,t){this._meterSharedState.observableRegistry.addBatchCallback(e,t)},e.prototype.removeBatchObservableCallback=function(e,t){this._meterSharedState.observableRegistry.removeBatchCallback(e,t)},e}()},29e3:(e,t,r)=>{"use strict";r.d(t,{MeterProvider:()=>c});var n=r(38626),i=r(75053),o=r(87628),s=r(57809),a=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},l=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return l([e,t])}}function l(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},u=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c=function(){function e(e){this._shutdown=!1;var t,r,n,s,a,l=i.Resource.default().merge(null!==(a=null==e?void 0:e.resource)&&void 0!==a?a:i.Resource.empty());if(this._sharedState=new o.MeterProviderSharedState(l),(null==e?void 0:e.views)!=null&&e.views.length>0)try{for(var c=u(e.views),d=c.next();!d.done;d=c.next()){var h=d.value;this._sharedState.viewRegistry.addView(h)}}catch(e){t={error:e}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}if((null==e?void 0:e.readers)!=null&&e.readers.length>0)try{for(var p=u(e.readers),f=p.next();!f.done;f=p.next()){var m=f.value;this.addMetricReader(m)}}catch(e){n={error:e}}finally{try{f&&!f.done&&(s=p.return)&&s.call(p)}finally{if(n)throw n.error}}}return e.prototype.getMeter=function(e,t,r){return(void 0===t&&(t=""),void 0===r&&(r={}),this._shutdown)?(n.diag.warn("A shutdown MeterProvider cannot provide a Meter"),(0,n.createNoopMeter)()):this._sharedState.getMeterSharedState({name:e,version:t,schemaUrl:r.schemaUrl}).meter},e.prototype.addMetricReader=function(e){var t=new s.MetricCollector(this._sharedState,e);e.setMetricProducer(t),this._sharedState.metricCollectors.push(t)},e.prototype.shutdown=function(e){return a(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:if(this._shutdown)return n.diag.warn("shutdown may only be called once per MeterProvider"),[2];return this._shutdown=!0,[4,Promise.all(this._sharedState.metricCollectors.map(function(t){return t.shutdown(e)}))];case 1:return t.sent(),[2]}})})},e.prototype.forceFlush=function(e){return a(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:if(this._shutdown)return n.diag.warn("invalid attempt to force flush after MeterProvider shutdown"),[2];return[4,Promise.all(this._sharedState.metricCollectors.map(function(t){return t.forceFlush(e)}))];case 1:return t.sent(),[2]}})})},e}()},94419:(e,t,r)=>{"use strict";r.d(t,{BatchObservableResultImpl:()=>a,ObservableResultImpl:()=>s});var n=r(38626),i=r(83443),o=r(2199),s=function(){function e(e,t){this._instrumentName=e,this._valueType=t,this._buffer=new i.AttributeHashMap}return e.prototype.observe=function(e,t){if(void 0===t&&(t={}),"number"!=typeof e){n.diag.warn("non-number value provided to metric "+this._instrumentName+": "+e);return}(this._valueType!==n.ValueType.INT||Number.isInteger(e)||(n.diag.warn("INT value type cannot accept a floating-point value for "+this._instrumentName+", ignoring the fractional digits."),Number.isInteger(e=Math.trunc(e))))&&this._buffer.set(t,e)},e}(),a=function(){function e(){this._buffer=new Map}return e.prototype.observe=function(e,t,r){if(void 0===r&&(r={}),(0,o.isObservableInstrument)(e)){var s=this._buffer.get(e);if(null==s&&(s=new i.AttributeHashMap,this._buffer.set(e,s)),"number"!=typeof t){n.diag.warn("non-number value provided to metric "+e._descriptor.name+": "+t);return}(e._descriptor.valueType!==n.ValueType.INT||Number.isInteger(t)||(n.diag.warn("INT value type cannot accept a floating-point value for "+e._descriptor.name+", ignoring the fractional digits."),Number.isInteger(t=Math.trunc(t))))&&s.set(r,t)}},e}()},52719:(e,t,r)=>{"use strict";r.d(t,{DropAggregator:()=>i});var n=r(21614),i=function(){function e(){this.kind=n.AggregatorKind.DROP}return e.prototype.createAccumulation=function(){},e.prototype.merge=function(e,t){},e.prototype.diff=function(e,t){},e.prototype.toMetricData=function(e,t,r,n){},e}()},59592:(e,t,r)=>{"use strict";r.d(t,{ExponentialHistogramAggregator:()=>g});var n=r(21614),i=r(86314),o=r(38626),s=r(33917),a=r(23603),l=r(46798),u=r(20748),c=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},d=function(){function e(e,t){this.low=e,this.high=t}return e.combine=function(t,r){return new e(Math.min(t.low,r.low),Math.max(t.high,r.high))},e}(),h=20,p=160,f=2,m=function(){function e(e,t,r,n,i,s,u,c,d,m,g){void 0===t&&(t=p),void 0===r&&(r=!0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===u&&(u=Number.POSITIVE_INFINITY),void 0===c&&(c=Number.NEGATIVE_INFINITY),void 0===d&&(d=new a.Buckets),void 0===m&&(m=new a.Buckets),void 0===g&&(g=(0,l.getMapping)(h)),this.startTime=e,this._maxSize=t,this._recordMinMax=r,this._sum=n,this._count=i,this._zeroCount=s,this._min=u,this._max=c,this._positive=d,this._negative=m,this._mapping=g,this._maxSize<f&&(o.diag.warn("Exponential Histogram Max Size set to "+this._maxSize+",                 changing to the minimum size of: "+f),this._maxSize=f)}return e.prototype.record=function(e){this.updateByIncrement(e,1)},e.prototype.setStartTime=function(e){this.startTime=e},e.prototype.toPointValue=function(){return{hasMinMax:this._recordMinMax,min:this.min,max:this.max,sum:this.sum,positive:{offset:this.positive.offset,bucketCounts:this.positive.counts()},negative:{offset:this.negative.offset,bucketCounts:this.negative.counts()},count:this.count,scale:this.scale,zeroCount:this.zeroCount}},Object.defineProperty(e.prototype,"sum",{get:function(){return this._sum},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._count},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zeroCount",{get:function(){return this._zeroCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this._count===this._zeroCount?0:this._mapping.scale},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"positive",{get:function(){return this._positive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"negative",{get:function(){return this._negative},enumerable:!1,configurable:!0}),e.prototype.updateByIncrement=function(e,t){if(!Number.isNaN(e)){if(e>this._max&&(this._max=e),e<this._min&&(this._min=e),this._count+=t,0===e){this._zeroCount+=t;return}this._sum+=e*t,e>0?this._updateBuckets(this._positive,e,t):this._updateBuckets(this._negative,-e,t)}},e.prototype.merge=function(e){0===this._count?(this._min=e.min,this._max=e.max):0!==e.count&&(e.min<this.min&&(this._min=e.min),e.max>this.max&&(this._max=e.max)),this.startTime=e.startTime,this._sum+=e.sum,this._count+=e.count,this._zeroCount+=e.zeroCount;var t=this._minScale(e);this._downscale(this.scale-t),this._mergeBuckets(this.positive,e,e.positive,t),this._mergeBuckets(this.negative,e,e.negative,t)},e.prototype.diff=function(e){this._min=1/0,this._max=-1/0,this._sum-=e.sum,this._count-=e.count,this._zeroCount-=e.zeroCount;var t=this._minScale(e);this._downscale(this.scale-t),this._diffBuckets(this.positive,e,e.positive,t),this._diffBuckets(this.negative,e,e.negative,t)},e.prototype.clone=function(){return new e(this.startTime,this._maxSize,this._recordMinMax,this._sum,this._count,this._zeroCount,this._min,this._max,this.positive.clone(),this.negative.clone(),this._mapping)},e.prototype._updateBuckets=function(e,t,r){var n=this._mapping.mapToIndex(t),i=!1,o=0,s=0;if(0===e.length?(e.indexStart=n,e.indexEnd=e.indexStart,e.indexBase=e.indexStart):n<e.indexStart&&e.indexEnd-n>=this._maxSize?(i=!0,s=n,o=e.indexEnd):n>e.indexEnd&&n-e.indexStart>=this._maxSize&&(i=!0,s=e.indexStart,o=n),i){var a=this._changeScale(o,s);this._downscale(a),n=this._mapping.mapToIndex(t)}this._incrementIndexBy(e,n,r)},e.prototype._incrementIndexBy=function(e,t,r){if(0!==r){if(0===e.length&&(e.indexStart=e.indexEnd=e.indexBase=t),t<e.indexStart){var n=e.indexEnd-t;n>=e.backing.length&&this._grow(e,n+1),e.indexStart=t}else if(t>e.indexEnd){var n=t-e.indexStart;n>=e.backing.length&&this._grow(e,n+1),e.indexEnd=t}var i=t-e.indexBase;i<0&&(i+=e.backing.length),e.incrementBucket(i,r)}},e.prototype._grow=function(e,t){var r=e.backing.length,n=e.indexBase-e.indexStart,i=r-n,o=(0,u.nextGreaterSquare)(t);o>this._maxSize&&(o=this._maxSize);var s=o-n;e.backing.growTo(o,i,s)},e.prototype._changeScale=function(e,t){for(var r=0;e-t>=this._maxSize;)e>>=1,t>>=1,r++;return r},e.prototype._downscale=function(e){if(0!==e){if(e<0)throw Error("impossible change of scale: "+this.scale);var t=this._mapping.scale-e;this._positive.downscale(e),this._negative.downscale(e),this._mapping=(0,l.getMapping)(t)}},e.prototype._minScale=function(e){var t=Math.min(this.scale,e.scale),r=d.combine(this._highLowAtScale(this.positive,this.scale,t),this._highLowAtScale(e.positive,e.scale,t)),n=d.combine(this._highLowAtScale(this.negative,this.scale,t),this._highLowAtScale(e.negative,e.scale,t));return Math.min(t-this._changeScale(r.high,r.low),t-this._changeScale(n.high,n.low))},e.prototype._highLowAtScale=function(e,t,r){if(0===e.length)return new d(0,-1);var n=t-r;return new d(e.indexStart>>n,e.indexEnd>>n)},e.prototype._mergeBuckets=function(e,t,r,n){for(var i=r.offset,o=t.scale-n,s=0;s<r.length;s++)this._incrementIndexBy(e,i+s>>o,r.at(s))},e.prototype._diffBuckets=function(e,t,r,n){for(var i=r.offset,o=t.scale-n,s=0;s<r.length;s++){var a=(i+s>>o)-e.indexBase;a<0&&(a+=e.backing.length),e.decrementBucket(a,r.at(s))}e.trim()},e}(),g=function(){function e(e,t){this._maxSize=e,this._recordMinMax=t,this.kind=n.AggregatorKind.EXPONENTIAL_HISTOGRAM}return e.prototype.createAccumulation=function(e){return new m(e,this._maxSize,this._recordMinMax)},e.prototype.merge=function(e,t){var r=t.clone();return r.merge(e),r},e.prototype.diff=function(e,t){var r=t.clone();return r.diff(e),r},e.prototype.toMetricData=function(e,t,r,n){return{descriptor:e,aggregationTemporality:t,dataPointType:i.DataPointType.EXPONENTIAL_HISTOGRAM,dataPoints:r.map(function(t){var r=c(t,2),i=r[0],o=r[1],a=o.toPointValue(),l=e.type===s.InstrumentType.GAUGE||e.type===s.InstrumentType.UP_DOWN_COUNTER||e.type===s.InstrumentType.OBSERVABLE_GAUGE||e.type===s.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:i,startTime:o.startTime,endTime:n,value:{min:a.hasMinMax?a.min:void 0,max:a.hasMinMax?a.max:void 0,sum:l?void 0:a.sum,positive:{offset:a.positive.offset,bucketCounts:a.positive.bucketCounts},negative:{offset:a.negative.offset,bucketCounts:a.negative.bucketCounts},count:a.count,scale:a.scale,zeroCount:a.zeroCount}}})}},e}()},4421:(e,t,r)=>{"use strict";r.d(t,{HistogramAggregator:()=>c});var n=r(21614),i=r(86314),o=r(33917),s=r(56924),a=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s};function l(e){var t=e.map(function(){return 0});return t.push(0),{buckets:{boundaries:e,counts:t},sum:0,count:0,hasMinMax:!1,min:1/0,max:-1/0}}var u=function(){function e(e,t,r,n){void 0===r&&(r=!0),void 0===n&&(n=l(t)),this.startTime=e,this._boundaries=t,this._recordMinMax=r,this._current=n}return e.prototype.record=function(e){if(!Number.isNaN(e)){this._current.count+=1,this._current.sum+=e,this._recordMinMax&&(this._current.min=Math.min(e,this._current.min),this._current.max=Math.max(e,this._current.max),this._current.hasMinMax=!0);var t=(0,s.binarySearchLB)(this._boundaries,e);this._current.buckets.counts[t+1]+=1}},e.prototype.setStartTime=function(e){this.startTime=e},e.prototype.toPointValue=function(){return this._current},e}(),c=function(){function e(e,t){this._boundaries=e,this._recordMinMax=t,this.kind=n.AggregatorKind.HISTOGRAM}return e.prototype.createAccumulation=function(e){return new u(e,this._boundaries,this._recordMinMax)},e.prototype.merge=function(e,t){for(var r=e.toPointValue(),n=t.toPointValue(),i=r.buckets.counts,o=n.buckets.counts,s=Array(i.length),a=0;a<i.length;a++)s[a]=i[a]+o[a];var l=1/0,c=-1/0;return this._recordMinMax&&(r.hasMinMax&&n.hasMinMax?(l=Math.min(r.min,n.min),c=Math.max(r.max,n.max)):r.hasMinMax?(l=r.min,c=r.max):n.hasMinMax&&(l=n.min,c=n.max)),new u(e.startTime,r.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:r.buckets.boundaries,counts:s},count:r.count+n.count,sum:r.sum+n.sum,hasMinMax:this._recordMinMax&&(r.hasMinMax||n.hasMinMax),min:l,max:c})},e.prototype.diff=function(e,t){for(var r=e.toPointValue(),n=t.toPointValue(),i=r.buckets.counts,o=n.buckets.counts,s=Array(i.length),a=0;a<i.length;a++)s[a]=o[a]-i[a];return new u(t.startTime,r.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:r.buckets.boundaries,counts:s},count:n.count-r.count,sum:n.sum-r.sum,hasMinMax:!1,min:1/0,max:-1/0})},e.prototype.toMetricData=function(e,t,r,n){return{descriptor:e,aggregationTemporality:t,dataPointType:i.DataPointType.HISTOGRAM,dataPoints:r.map(function(t){var r=a(t,2),i=r[0],s=r[1],l=s.toPointValue(),u=e.type===o.InstrumentType.GAUGE||e.type===o.InstrumentType.UP_DOWN_COUNTER||e.type===o.InstrumentType.OBSERVABLE_GAUGE||e.type===o.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:i,startTime:s.startTime,endTime:n,value:{min:l.hasMinMax?l.min:void 0,max:l.hasMinMax?l.max:void 0,sum:u?void 0:l.sum,buckets:l.buckets,count:l.count}}})}},e}()},92253:(e,t,r)=>{"use strict";r.d(t,{LastValueAggregator:()=>l});var n=r(21614),i=r(4544),o=r(86314),s=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},a=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=[0,0]),this.startTime=e,this._current=t,this.sampleTime=r}return e.prototype.record=function(e){this._current=e,this.sampleTime=(0,i.millisToHrTime)(Date.now())},e.prototype.setStartTime=function(e){this.startTime=e},e.prototype.toPointValue=function(){return this._current},e}(),l=function(){function e(){this.kind=n.AggregatorKind.LAST_VALUE}return e.prototype.createAccumulation=function(e){return new a(e)},e.prototype.merge=function(e,t){var r=(0,i.hrTimeToMicroseconds)(t.sampleTime)>=(0,i.hrTimeToMicroseconds)(e.sampleTime)?t:e;return new a(e.startTime,r.toPointValue(),r.sampleTime)},e.prototype.diff=function(e,t){var r=(0,i.hrTimeToMicroseconds)(t.sampleTime)>=(0,i.hrTimeToMicroseconds)(e.sampleTime)?t:e;return new a(t.startTime,r.toPointValue(),r.sampleTime)},e.prototype.toMetricData=function(e,t,r,n){return{descriptor:e,aggregationTemporality:t,dataPointType:o.DataPointType.GAUGE,dataPoints:r.map(function(e){var t=s(e,2),r=t[0],i=t[1];return{attributes:r,startTime:i.startTime,endTime:n,value:i.toPointValue()}})}},e}()},52642:(e,t,r)=>{"use strict";r.d(t,{SumAggregator:()=>a});var n=r(21614),i=r(86314),o=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},s=function(){function e(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=!1),this.startTime=e,this.monotonic=t,this._current=r,this.reset=n}return e.prototype.record=function(e){this.monotonic&&e<0||(this._current+=e)},e.prototype.setStartTime=function(e){this.startTime=e},e.prototype.toPointValue=function(){return this._current},e}(),a=function(){function e(e){this.monotonic=e,this.kind=n.AggregatorKind.SUM}return e.prototype.createAccumulation=function(e){return new s(e,this.monotonic)},e.prototype.merge=function(e,t){var r=e.toPointValue(),n=t.toPointValue();return t.reset?new s(t.startTime,this.monotonic,n,t.reset):new s(e.startTime,this.monotonic,r+n)},e.prototype.diff=function(e,t){var r=e.toPointValue(),n=t.toPointValue();return this.monotonic&&r>n?new s(t.startTime,this.monotonic,n,!0):new s(t.startTime,this.monotonic,n-r)},e.prototype.toMetricData=function(e,t,r,n){return{descriptor:e,aggregationTemporality:t,dataPointType:i.DataPointType.SUM,dataPoints:r.map(function(e){var t=o(e,2),r=t[0],i=t[1];return{attributes:r,startTime:i.startTime,endTime:n,value:i.toPointValue()}}),isMonotonic:this.monotonic}},e}()},23603:(e,t,r)=>{"use strict";r.d(t,{Buckets:()=>o});var n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},i=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},o=function(){function e(e,t,r,n){void 0===e&&(e=new s),void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=0),this.backing=e,this.indexBase=t,this.indexStart=r,this.indexEnd=n}return Object.defineProperty(e.prototype,"offset",{get:function(){return this.indexStart},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return 0===this.backing.length||this.indexEnd===this.indexStart&&0===this.at(0)?0:this.indexEnd-this.indexStart+1},enumerable:!1,configurable:!0}),e.prototype.counts=function(){var e=this;return Array.from({length:this.length},function(t,r){return e.at(r)})},e.prototype.at=function(e){var t=this.indexBase-this.indexStart;return e<t&&(e+=this.backing.length),e-=t,this.backing.countAt(e)},e.prototype.incrementBucket=function(e,t){this.backing.increment(e,t)},e.prototype.decrementBucket=function(e,t){this.backing.decrement(e,t)},e.prototype.trim=function(){for(var e=0;e<this.length;e++){if(0!==this.at(e)){this.indexStart+=e;break}if(e===this.length-1){this.indexStart=this.indexEnd=this.indexBase=0;return}}for(var e=this.length-1;e>=0;e--)if(0!==this.at(e)){this.indexEnd-=this.length-e-1;break}this._rotate()},e.prototype.downscale=function(e){this._rotate();for(var t=1+this.indexEnd-this.indexStart,r=1<<e,n=0,i=0,o=this.indexStart;o<=this.indexEnd;){var s=o%r;s<0&&(s+=r);for(var a=s;a<r&&n<t;a++)this._relocateBucket(i,n),n++,o++;i++}this.indexStart>>=e,this.indexEnd>>=e,this.indexBase=this.indexStart},e.prototype.clone=function(){return new e(this.backing.clone(),this.indexBase,this.indexStart,this.indexEnd)},e.prototype._rotate=function(){var e=this.indexBase-this.indexStart;0!==e&&(e>0?(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,e),this.backing.reverse(e,this.backing.length)):(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,this.backing.length+e)),this.indexBase=this.indexStart)},e.prototype._relocateBucket=function(e,t){e!==t&&this.incrementBucket(e,this.backing.emptyBucket(t))},e}(),s=function(){function e(e){void 0===e&&(e=[0]),this._counts=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this._counts.length},enumerable:!1,configurable:!0}),e.prototype.countAt=function(e){return this._counts[e]},e.prototype.growTo=function(e,t,r){var o=Array(e).fill(0);o.splice.apply(o,i([r,this._counts.length-t],n(this._counts.slice(t)),!1)),o.splice.apply(o,i([0,t],n(this._counts.slice(0,t)),!1)),this._counts=o},e.prototype.reverse=function(e,t){for(var r=Math.floor((e+t)/2)-e,n=0;n<r;n++){var i=this._counts[e+n];this._counts[e+n]=this._counts[t-n-1],this._counts[t-n-1]=i}},e.prototype.emptyBucket=function(e){var t=this._counts[e];return this._counts[e]=0,t},e.prototype.increment=function(e,t){this._counts[e]+=t},e.prototype.decrement=function(e,t){this._counts[e]>=t?this._counts[e]-=t:this._counts[e]=0},e.prototype.clone=function(){return new e(i([],n(this._counts),!1))},e}()},26210:(e,t,r)=>{"use strict";r.d(t,{ExponentMapping:()=>s});var n=r(65348),i=r(20748),o=r(78293),s=function(){function e(e){this._shift=-e}return e.prototype.mapToIndex=function(e){return e<n.MIN_VALUE?this._minNormalLowerBoundaryIndex():n.getNormalBase2(e)+this._rightShift(n.getSignificand(e)-1,n.SIGNIFICAND_WIDTH)>>this._shift},e.prototype.lowerBoundary=function(e){var t=this._minNormalLowerBoundaryIndex();if(e<t)throw new o.MappingError("underflow: "+e+" is < minimum lower boundary: "+t);var r=this._maxNormalLowerBoundaryIndex();if(e>r)throw new o.MappingError("overflow: "+e+" is > maximum lower boundary: "+r);return i.ldexp(1,e<<this._shift)},Object.defineProperty(e.prototype,"scale",{get:function(){return 0===this._shift?0:-this._shift},enumerable:!1,configurable:!0}),e.prototype._minNormalLowerBoundaryIndex=function(){var e=n.MIN_NORMAL_EXPONENT>>this._shift;return this._shift<2&&e--,e},e.prototype._maxNormalLowerBoundaryIndex=function(){return n.MAX_NORMAL_EXPONENT>>this._shift},e.prototype._rightShift=function(e,t){return Math.floor(e*Math.pow(2,-t))},e}()},49131:(e,t,r)=>{"use strict";r.d(t,{LogarithmMapping:()=>s});var n=r(65348),i=r(20748),o=r(78293),s=function(){function e(e){this._scale=e,this._scaleFactor=i.ldexp(Math.LOG2E,e),this._inverseFactor=i.ldexp(Math.LN2,-e)}return e.prototype.mapToIndex=function(e){if(e<=n.MIN_VALUE)return this._minNormalLowerBoundaryIndex()-1;if(0===n.getSignificand(e))return(n.getNormalBase2(e)<<this._scale)-1;var t=Math.floor(Math.log(e)*this._scaleFactor),r=this._maxNormalLowerBoundaryIndex();return t>=r?r:t},e.prototype.lowerBoundary=function(e){var t=this._maxNormalLowerBoundaryIndex();if(e>=t){if(e===t)return 2*Math.exp((e-(1<<this._scale))/this._scaleFactor);throw new o.MappingError("overflow: "+e+" is > maximum lower boundary: "+t)}var r=this._minNormalLowerBoundaryIndex();if(e<=r){if(e===r)return n.MIN_VALUE;if(e===r-1)return Math.exp((e+(1<<this._scale))/this._scaleFactor)/2;throw new o.MappingError("overflow: "+e+" is < minimum lower boundary: "+r)}return Math.exp(e*this._inverseFactor)},Object.defineProperty(e.prototype,"scale",{get:function(){return this._scale},enumerable:!1,configurable:!0}),e.prototype._minNormalLowerBoundaryIndex=function(){return n.MIN_NORMAL_EXPONENT<<this._scale},e.prototype._maxNormalLowerBoundaryIndex=function(){return(n.MAX_NORMAL_EXPONENT+1<<this._scale)-1},e}()},46798:(e,t,r)=>{"use strict";r.d(t,{getMapping:()=>u});var n=r(26210),i=r(49131),o=r(78293),s=-10,a=20,l=Array.from({length:31},function(e,t){return t>10?new i.LogarithmMapping(t-10):new n.ExponentMapping(t-10)});function u(e){if(e>a||e<s)throw new o.MappingError("expected scale >= "+s+" && <= "+a+", got: "+e);return l[e+10]}},65348:(e,t,r)=>{"use strict";r.d(t,{MAX_NORMAL_EXPONENT:()=>l,MIN_NORMAL_EXPONENT:()=>a,MIN_VALUE:()=>u,SIGNIFICAND_WIDTH:()=>n,getNormalBase2:()=>c,getSignificand:()=>d});var n=52,i=2146435072,o=1048575,s=1023,a=-1022,l=1023,u=22250738585072014e-324;function c(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e),((t.getUint32(0)&i)>>20)-s}function d(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e),(t.getUint32(0)&o)*4294967296+t.getUint32(4)}},78293:(e,t,r)=>{"use strict";r.d(t,{MappingError:()=>i});var n=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(Error)},20748:(e,t,r)=>{"use strict";function n(e,t){return 0===e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY||Number.isNaN(e)?e:e*Math.pow(2,t)}function i(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}r.d(t,{ldexp:()=>n,nextGreaterSquare:()=>i})},22016:(e,t,r)=>{"use strict";var n=r(52719);r.o(n,"DropAggregator")&&r.d(t,{DropAggregator:function(){return n.DropAggregator}}),r.o(n,"ExponentialHistogramAggregator")&&r.d(t,{ExponentialHistogramAggregator:function(){return n.ExponentialHistogramAggregator}}),r.o(n,"HistogramAggregator")&&r.d(t,{HistogramAggregator:function(){return n.HistogramAggregator}}),r.o(n,"LastValueAggregator")&&r.d(t,{LastValueAggregator:function(){return n.LastValueAggregator}}),r.o(n,"SumAggregator")&&r.d(t,{SumAggregator:function(){return n.SumAggregator}});var i=r(4421);r.o(i,"DropAggregator")&&r.d(t,{DropAggregator:function(){return i.DropAggregator}}),r.o(i,"ExponentialHistogramAggregator")&&r.d(t,{ExponentialHistogramAggregator:function(){return i.ExponentialHistogramAggregator}}),r.o(i,"HistogramAggregator")&&r.d(t,{HistogramAggregator:function(){return i.HistogramAggregator}}),r.o(i,"LastValueAggregator")&&r.d(t,{LastValueAggregator:function(){return i.LastValueAggregator}}),r.o(i,"SumAggregator")&&r.d(t,{SumAggregator:function(){return i.SumAggregator}});var o=r(59592);r.o(o,"DropAggregator")&&r.d(t,{DropAggregator:function(){return o.DropAggregator}}),r.o(o,"ExponentialHistogramAggregator")&&r.d(t,{ExponentialHistogramAggregator:function(){return o.ExponentialHistogramAggregator}}),r.o(o,"HistogramAggregator")&&r.d(t,{HistogramAggregator:function(){return o.HistogramAggregator}}),r.o(o,"LastValueAggregator")&&r.d(t,{LastValueAggregator:function(){return o.LastValueAggregator}}),r.o(o,"SumAggregator")&&r.d(t,{SumAggregator:function(){return o.SumAggregator}});var s=r(92253);r.o(s,"DropAggregator")&&r.d(t,{DropAggregator:function(){return s.DropAggregator}}),r.o(s,"ExponentialHistogramAggregator")&&r.d(t,{ExponentialHistogramAggregator:function(){return s.ExponentialHistogramAggregator}}),r.o(s,"HistogramAggregator")&&r.d(t,{HistogramAggregator:function(){return s.HistogramAggregator}}),r.o(s,"LastValueAggregator")&&r.d(t,{LastValueAggregator:function(){return s.LastValueAggregator}}),r.o(s,"SumAggregator")&&r.d(t,{SumAggregator:function(){return s.SumAggregator}});var a=r(52642);r.o(a,"DropAggregator")&&r.d(t,{DropAggregator:function(){return a.DropAggregator}}),r.o(a,"ExponentialHistogramAggregator")&&r.d(t,{ExponentialHistogramAggregator:function(){return a.ExponentialHistogramAggregator}}),r.o(a,"HistogramAggregator")&&r.d(t,{HistogramAggregator:function(){return a.HistogramAggregator}}),r.o(a,"LastValueAggregator")&&r.d(t,{LastValueAggregator:function(){return a.LastValueAggregator}}),r.o(a,"SumAggregator")&&r.d(t,{SumAggregator:function(){return a.SumAggregator}})},21614:(e,t,r)=>{"use strict";var n;r.d(t,{AggregatorKind:()=>n}),function(e){e[e.DROP=0]="DROP",e[e.SUM=1]="SUM",e[e.LAST_VALUE=2]="LAST_VALUE",e[e.HISTOGRAM=3]="HISTOGRAM",e[e.EXPONENTIAL_HISTOGRAM=4]="EXPONENTIAL_HISTOGRAM"}(n||(n={}))},46198:(e,t,r)=>{"use strict";r.d(t,{DEFAULT_AGGREGATION_SELECTOR:()=>o,DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR:()=>s});var n=r(84241),i=r(99757),o=function(e){return n.Aggregation.Default()},s=function(e){return i.AggregationTemporality.CUMULATIVE}},99757:(e,t,r)=>{"use strict";var n;r.d(t,{AggregationTemporality:()=>n}),function(e){e[e.DELTA=0]="DELTA",e[e.CUMULATIVE=1]="CUMULATIVE"}(n||(n={}))},18172:(e,t,r)=>{"use strict";r.d(t,{ConsoleMetricExporter:()=>s});var n=r(4544),i=r(46198),o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=function(){function e(e){var t;this._shutdown=!1,this._temporalitySelector=null!==(t=null==e?void 0:e.temporalitySelector)&&void 0!==t?t:i.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR}return e.prototype.export=function(t,r){if(this._shutdown){setImmediate(r,{code:n.ExportResultCode.FAILED});return}return e._sendMetrics(t,r)},e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype.selectAggregationTemporality=function(e){return this._temporalitySelector(e)},e.prototype.shutdown=function(){return this._shutdown=!0,Promise.resolve()},e._sendMetrics=function(e,t){var r,i,s,a;try{for(var l=o(e.scopeMetrics),u=l.next();!u.done;u=l.next()){var c=u.value;try{for(var d=(s=void 0,o(c.metrics)),h=d.next();!h.done;h=d.next()){var p=h.value;console.dir({descriptor:p.descriptor,dataPointType:p.dataPointType,dataPoints:p.dataPoints},{depth:null})}}catch(e){s={error:e}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(s)throw s.error}}}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}t({code:n.ExportResultCode.SUCCESS})},e}()},90460:(e,t,r)=>{"use strict";r.d(t,{InMemoryMetricExporter:()=>i});var n=r(4544),i=function(){function e(e){this._shutdown=!1,this._metrics=[],this._aggregationTemporality=e}return e.prototype.export=function(e,t){if(this._shutdown){setTimeout(function(){return t({code:n.ExportResultCode.FAILED})},0);return}this._metrics.push(e),setTimeout(function(){return t({code:n.ExportResultCode.SUCCESS})},0)},e.prototype.getMetrics=function(){return this._metrics},e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype.reset=function(){this._metrics=[]},e.prototype.selectAggregationTemporality=function(e){return this._aggregationTemporality},e.prototype.shutdown=function(){return this._shutdown=!0,Promise.resolve()},e}()},86314:(e,t,r)=>{"use strict";var n;r.d(t,{DataPointType:()=>n}),function(e){e[e.HISTOGRAM=0]="HISTOGRAM",e[e.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",e[e.GAUGE=2]="GAUGE",e[e.SUM=3]="SUM"}(n||(n={}))},10909:(e,t,r)=>{"use strict";r.d(t,{MetricReader:()=>c});var n=r(38626),i=r(56924),o=r(46198),s=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},a=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return l([e,t])}}function l(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},l=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},u=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},c=function(){function e(e){var t,r,n;this._shutdown=!1,this._aggregationSelector=null!==(t=null==e?void 0:e.aggregationSelector)&&void 0!==t?t:o.DEFAULT_AGGREGATION_SELECTOR,this._aggregationTemporalitySelector=null!==(r=null==e?void 0:e.aggregationTemporalitySelector)&&void 0!==r?r:o.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR,this._metricProducers=null!==(n=null==e?void 0:e.metricProducers)&&void 0!==n?n:[]}return e.prototype.setMetricProducer=function(e){if(this._sdkMetricProducer)throw Error("MetricReader can not be bound to a MeterProvider again.");this._sdkMetricProducer=e,this.onInitialized()},e.prototype.selectAggregation=function(e){return this._aggregationSelector(e)},e.prototype.selectAggregationTemporality=function(e){return this._aggregationTemporalitySelector(e)},e.prototype.onInitialized=function(){},e.prototype.collect=function(e){return s(this,void 0,void 0,function(){var t,r,n,o;return a(this,function(s){switch(s.label){case 0:if(void 0===this._sdkMetricProducer)throw Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw Error("MetricReader is shutdown");return[4,Promise.all(u([this._sdkMetricProducer.collect({timeoutMillis:null==e?void 0:e.timeoutMillis})],l(this._metricProducers.map(function(t){return t.collect({timeoutMillis:null==e?void 0:e.timeoutMillis})})),!1))];case 1:return r=(t=l.apply(void 0,[s.sent()]))[0],n=t.slice(1),o=r.errors.concat((0,i.FlatMap)(n,function(e){return e.errors})),[2,{resourceMetrics:{resource:r.resourceMetrics.resource,scopeMetrics:r.resourceMetrics.scopeMetrics.concat((0,i.FlatMap)(n,function(e){return e.resourceMetrics.scopeMetrics}))},errors:o}]}})})},e.prototype.shutdown=function(e){return s(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:if(this._shutdown)return n.diag.error("Cannot call shutdown twice."),[2];if((null==e?void 0:e.timeoutMillis)!=null)return[3,2];return[4,this.onShutdown()];case 1:return t.sent(),[3,4];case 2:return[4,(0,i.callWithTimeout)(this.onShutdown(),e.timeoutMillis)];case 3:t.sent(),t.label=4;case 4:return this._shutdown=!0,[2]}})})},e.prototype.forceFlush=function(e){return s(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:if(this._shutdown)return n.diag.warn("Cannot forceFlush on already shutdown MetricReader."),[2];if((null==e?void 0:e.timeoutMillis)!=null)return[3,2];return[4,this.onForceFlush()];case 1:case 3:return t.sent(),[2];case 2:return[4,(0,i.callWithTimeout)(this.onForceFlush(),e.timeoutMillis)]}})})},e}()},78547:(e,t,r)=>{"use strict";r.d(t,{PeriodicExportingMetricReader:()=>h});var n=r(38626),i=r(4544),o=r(10909),s=r(56924),a=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),l=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},u=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return l([e,t])}}function l(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},c=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},d=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},h=function(e){function t(t){var r,n,i,o,s=e.call(this,{aggregationSelector:null===(r=t.exporter.selectAggregation)||void 0===r?void 0:r.bind(t.exporter),aggregationTemporalitySelector:null===(n=t.exporter.selectAggregationTemporality)||void 0===n?void 0:n.bind(t.exporter),metricProducers:t.metricProducers})||this;if(void 0!==t.exportIntervalMillis&&t.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(void 0!==t.exportTimeoutMillis&&t.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(void 0!==t.exportTimeoutMillis&&void 0!==t.exportIntervalMillis&&t.exportIntervalMillis<t.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");return s._exportInterval=null!==(i=t.exportIntervalMillis)&&void 0!==i?i:6e4,s._exportTimeout=null!==(o=t.exportTimeoutMillis)&&void 0!==o?o:3e4,s._exporter=t.exporter,s}return a(t,e),t.prototype._runOnce=function(){return l(this,void 0,void 0,function(){var e;return u(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,s.callWithTimeout)(this._doRun(),this._exportTimeout)];case 1:return t.sent(),[3,3];case 2:if((e=t.sent())instanceof s.TimeoutError)return n.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout),[2];return(0,i.globalErrorHandler)(e),[3,3];case 3:return[2]}})})},t.prototype._doRun=function(){var e,t;return l(this,void 0,void 0,function(){var r,o,s,a,h,p=this;return u(this,function(f){switch(f.label){case 0:return[4,this.collect({timeoutMillis:this._exportTimeout})];case 1:if(o=(r=f.sent()).resourceMetrics,(s=r.errors).length>0&&(h=n.diag).error.apply(h,d(["PeriodicExportingMetricReader: metrics collection errors"],c(s),!1)),a=function(){return l(p,void 0,void 0,function(){var e;return u(this,function(t){switch(t.label){case 0:return[4,i.internal._export(this._exporter,o)];case 1:if((e=t.sent()).code!==i.ExportResultCode.SUCCESS)throw Error("PeriodicExportingMetricReader: metrics export failed (error "+e.error+")");return[2]}})})},!o.resource.asyncAttributesPending)return[3,2];return null===(t=(e=o.resource).waitForAsyncAttributes)||void 0===t||t.call(e).then(a,function(e){return n.diag.debug("Error while resolving async portion of resource: ",e)}),[3,4];case 2:return[4,a()];case 3:f.sent(),f.label=4;case 4:return[2]}})})},t.prototype.onInitialized=function(){var e=this;this._interval=setInterval(function(){e._runOnce()},this._exportInterval),(0,i.unrefTimer)(this._interval)},t.prototype.onForceFlush=function(){return l(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return[4,this._runOnce()];case 1:return e.sent(),[4,this._exporter.forceFlush()];case 2:return e.sent(),[2]}})})},t.prototype.onShutdown=function(){return l(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return this._interval&&clearInterval(this._interval),[4,this._exporter.shutdown()];case 1:return e.sent(),[2]}})})},t}(o.MetricReader)},53473:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Aggregation:()=>d.Aggregation,AggregationTemporality:()=>n.AggregationTemporality,ConsoleMetricExporter:()=>l.ConsoleMetricExporter,DataPointType:()=>i.DataPointType,DefaultAggregation:()=>d.DefaultAggregation,DropAggregation:()=>d.DropAggregation,ExplicitBucketHistogramAggregation:()=>d.ExplicitBucketHistogramAggregation,ExponentialHistogramAggregation:()=>d.ExponentialHistogramAggregation,HistogramAggregation:()=>d.HistogramAggregation,InMemoryMetricExporter:()=>a.InMemoryMetricExporter,InstrumentType:()=>u.InstrumentType,LastValueAggregation:()=>d.LastValueAggregation,MeterProvider:()=>c.MeterProvider,MetricReader:()=>o.MetricReader,PeriodicExportingMetricReader:()=>s.PeriodicExportingMetricReader,SumAggregation:()=>d.SumAggregation,TimeoutError:()=>p.TimeoutError,View:()=>h.View});var n=r(99757),i=r(86314),o=r(10909),s=r(78547),a=r(90460),l=r(18172),u=r(33917),c=r(29e3),d=r(84241),h=r(25576),p=r(56924)},49047:(e,t,r)=>{"use strict";r.d(t,{AsyncMetricStorage:()=>u});var n=r(30305),i=r(36404),o=r(76967),s=r(83443),a=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),l=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},u=function(e){function t(t,r,n,s){var a=e.call(this,t)||this;return a._attributesProcessor=n,a._deltaMetricStorage=new i.DeltaMetricProcessor(r),a._temporalMetricStorage=new o.TemporalMetricProcessor(r,s),a}return a(t,e),t.prototype.record=function(e,t){var r=this,n=new s.AttributeHashMap;Array.from(e.entries()).forEach(function(e){var t=l(e,2),i=t[0],o=t[1];n.set(r._attributesProcessor.process(i),o)}),this._deltaMetricStorage.batchCumulate(n,t)},t.prototype.collect=function(e,t){var r=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,this._instrumentDescriptor,r,t)},t}(n.MetricStorage)},36404:(e,t,r)=>{"use strict";r.d(t,{DeltaMetricProcessor:()=>o});var n=r(83443),i=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},o=function(){function e(e){this._aggregator=e,this._activeCollectionStorage=new n.AttributeHashMap,this._cumulativeMemoStorage=new n.AttributeHashMap}return e.prototype.record=function(e,t,r,n){var i=this,o=this._activeCollectionStorage.getOrDefault(t,function(){return i._aggregator.createAccumulation(n)});null==o||o.record(e)},e.prototype.batchCumulate=function(e,t){var r=this;Array.from(e.entries()).forEach(function(e){var n=i(e,3),o=n[0],s=n[1],a=n[2],l=r._aggregator.createAccumulation(t);null==l||l.record(s);var u=l;if(r._cumulativeMemoStorage.has(o,a)){var c=r._cumulativeMemoStorage.get(o,a);u=r._aggregator.diff(c,l)}if(r._activeCollectionStorage.has(o,a)){var d=r._activeCollectionStorage.get(o,a);u=r._aggregator.merge(d,u)}r._cumulativeMemoStorage.set(o,l,a),r._activeCollectionStorage.set(o,u,a)})},e.prototype.collect=function(){var e=this._activeCollectionStorage;return this._activeCollectionStorage=new n.AttributeHashMap,e},e}()},83443:(e,t,r)=>{"use strict";r.d(t,{AttributeHashMap:()=>s});var n=r(56924),i=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return l([e,t])}}function l(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},s=function(e){function t(){return e.call(this,n.hashAttributes)||this}return i(t,e),t}(function(){function e(e){this._hash=e,this._valueMap=new Map,this._keyMap=new Map}return e.prototype.get=function(e,t){return null!=t||(t=this._hash(e)),this._valueMap.get(t)},e.prototype.getOrDefault=function(e,t){var r=this._hash(e);if(this._valueMap.has(r))return this._valueMap.get(r);var n=t();return this._keyMap.has(r)||this._keyMap.set(r,e),this._valueMap.set(r,n),n},e.prototype.set=function(e,t,r){null!=r||(r=this._hash(e)),this._keyMap.has(r)||this._keyMap.set(r,e),this._valueMap.set(r,t)},e.prototype.has=function(e,t){return null!=t||(t=this._hash(e)),this._valueMap.has(t)},e.prototype.keys=function(){var e,t;return o(this,function(r){switch(r.label){case 0:t=(e=this._keyMap.entries()).next(),r.label=1;case 1:if(!(!0!==t.done))return[3,3];return[4,[t.value[1],t.value[0]]];case 2:return r.sent(),t=e.next(),[3,1];case 3:return[2]}})},e.prototype.entries=function(){var e,t;return o(this,function(r){switch(r.label){case 0:t=(e=this._valueMap.entries()).next(),r.label=1;case 1:if(!(!0!==t.done))return[3,3];return[4,[this._keyMap.get(t.value[0]),t.value[1],t.value[0]]];case 2:return r.sent(),t=e.next(),[3,1];case 3:return[2]}})},Object.defineProperty(e.prototype,"size",{get:function(){return this._valueMap.size},enumerable:!1,configurable:!0}),e}())},87628:(e,t,r)=>{"use strict";r.d(t,{MeterProviderSharedState:()=>a});var n=r(56924),i=r(79070),o=r(68611),s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=function(){function e(e){this.resource=e,this.viewRegistry=new i.ViewRegistry,this.metricCollectors=[],this.meterSharedStates=new Map}return e.prototype.getMeterSharedState=function(e){var t=(0,n.instrumentationScopeId)(e),r=this.meterSharedStates.get(t);return null==r&&(r=new o.MeterSharedState(this,e),this.meterSharedStates.set(t,r)),r},e.prototype.selectAggregations=function(e){var t,r,n=[];try{for(var i=s(this.metricCollectors),o=i.next();!o.done;o=i.next()){var a=o.value;n.push([a,a.selectAggregation(e)])}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n},e}()},68611:(e,t,r)=>{"use strict";r.d(t,{MeterSharedState:()=>m});var n=r(33917),i=r(21449),o=r(56924),s=r(49047),a=r(15473),l=r(76484),u=r(87729),c=r(31937),d=r(14496),h=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},p=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return l([e,t])}}function l(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},f=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},m=function(){function e(e,t){this._meterProviderSharedState=e,this._instrumentationScope=t,this.metricStorageRegistry=new a.MetricStorageRegistry,this.observableRegistry=new u.ObservableRegistry,this.meter=new i.Meter(this)}return e.prototype.registerMetricStorage=function(e){var t=this._registerMetricStorage(e,c.SyncMetricStorage);return 1===t.length?t[0]:new l.MultiMetricStorage(t)},e.prototype.registerAsyncMetricStorage=function(e){return this._registerMetricStorage(e,s.AsyncMetricStorage)},e.prototype.collect=function(e,t,r){return h(this,void 0,void 0,function(){var n,i,s;return p(this,function(a){switch(a.label){case 0:return[4,this.observableRegistry.observe(t,null==r?void 0:r.timeoutMillis)];case 1:if(n=a.sent(),0===(i=this.metricStorageRegistry.getStorages(e)).length)return[2,null];if(0===(s=i.map(function(r){return r.collect(e,t)}).filter(o.isNotNullish)).length)return[2,{errors:n}];return[2,{scopeMetrics:{scope:this._instrumentationScope,metrics:s},errors:n}]}})})},e.prototype._registerMetricStorage=function(e,t){var r=this,i=this._meterProviderSharedState.viewRegistry.findViews(e,this._instrumentationScope).map(function(i){var o=(0,n.createInstrumentDescriptorWithView)(i,e),s=r.metricStorageRegistry.findOrUpdateCompatibleStorage(o);if(null!=s)return s;var a=i.aggregation.createAggregator(o),l=new t(o,a,i.attributesProcessor,r._meterProviderSharedState.metricCollectors);return r.metricStorageRegistry.register(l),l});if(0===i.length){var o=this._meterProviderSharedState.selectAggregations(e.type).map(function(n){var i=f(n,2),o=i[0],s=i[1],a=r.metricStorageRegistry.findOrUpdateCompatibleCollectorStorage(o,e);if(null!=a)return a;var l=s.createAggregator(e),u=new t(e,l,d.AttributesProcessor.Noop(),[o]);return r.metricStorageRegistry.registerForCollector(o,u),u});i=i.concat(o)}return i},e}()},57809:(e,t,r)=>{"use strict";r.d(t,{MetricCollector:()=>l});var n=r(4544),i=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},o=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return l([e,t])}}function l(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},s=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},a=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},l=function(){function e(e,t){this._sharedState=e,this._metricReader=t}return e.prototype.collect=function(e){return i(this,void 0,void 0,function(){var t,r,l,u=this;return o(this,function(c){switch(c.label){case 0:return t=(0,n.millisToHrTime)(Date.now()),r=[],l=[],[4,Promise.all(Array.from(this._sharedState.meterSharedStates.values()).map(function(n){return i(u,void 0,void 0,function(){var i;return o(this,function(o){switch(o.label){case 0:return[4,n.collect(this,t,e)];case 1:return(null==(i=o.sent())?void 0:i.scopeMetrics)!=null&&r.push(i.scopeMetrics),(null==i?void 0:i.errors)!=null&&l.push.apply(l,a([],s(i.errors),!1)),[2]}})})}))];case 1:return c.sent(),[2,{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:r},errors:l}]}})})},e.prototype.forceFlush=function(e){return i(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,this._metricReader.forceFlush(e)];case 1:return t.sent(),[2]}})})},e.prototype.shutdown=function(e){return i(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,this._metricReader.shutdown(e)];case 1:return t.sent(),[2]}})})},e.prototype.selectAggregationTemporality=function(e){return this._metricReader.selectAggregationTemporality(e)},e.prototype.selectAggregation=function(e){return this._metricReader.selectAggregation(e)},e}()},30305:(e,t,r)=>{"use strict";r.d(t,{MetricStorage:()=>i});var n=r(33917),i=function(){function e(e){this._instrumentDescriptor=e}return e.prototype.getInstrumentDescriptor=function(){return this._instrumentDescriptor},e.prototype.updateDescription=function(e){this._instrumentDescriptor=(0,n.createInstrumentDescriptor)(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:e,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit,advice:this._instrumentDescriptor.advice})},e}()},15473:(e,t,r)=>{"use strict";r.d(t,{MetricStorageRegistry:()=>a});var n=r(33917),i=r(38626),o=r(55788),s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=function(){function e(){this._sharedRegistry=new Map,this._perCollectorRegistry=new Map}return e.create=function(){return new e},e.prototype.getStorages=function(e){var t,r,n,i,o=[];try{for(var a=s(this._sharedRegistry.values()),l=a.next();!l.done;l=a.next()){var u=l.value;o=o.concat(u)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}var c=this._perCollectorRegistry.get(e);if(null!=c)try{for(var d=s(c.values()),h=d.next();!h.done;h=d.next()){var u=h.value;o=o.concat(u)}}catch(e){n={error:e}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}return o},e.prototype.register=function(e){this._registerStorage(e,this._sharedRegistry)},e.prototype.registerForCollector=function(e,t){var r=this._perCollectorRegistry.get(e);null==r&&(r=new Map,this._perCollectorRegistry.set(e,r)),this._registerStorage(t,r)},e.prototype.findOrUpdateCompatibleStorage=function(e){var t=this._sharedRegistry.get(e.name);return void 0===t?null:this._findOrUpdateCompatibleStorage(e,t)},e.prototype.findOrUpdateCompatibleCollectorStorage=function(e,t){var r=this._perCollectorRegistry.get(e);if(void 0===r)return null;var n=r.get(t.name);return void 0===n?null:this._findOrUpdateCompatibleStorage(t,n)},e.prototype._registerStorage=function(e,t){var r=e.getInstrumentDescriptor(),n=t.get(r.name);if(void 0===n){t.set(r.name,[e]);return}n.push(e)},e.prototype._findOrUpdateCompatibleStorage=function(e,t){var r,a,l=null;try{for(var u=s(t),c=u.next();!c.done;c=u.next()){var d=c.value,h=d.getInstrumentDescriptor();(0,n.isDescriptorCompatibleWith)(h,e)?(h.description!==e.description&&(e.description.length>h.description.length&&d.updateDescription(e.description),i.diag.warn("A view or instrument with the name ",e.name," has already been registered, but has a different description and is incompatible with another registered view.\n","Details:\n",(0,o.getIncompatibilityDetails)(h,e),"The longer description will be used.\nTo resolve the conflict:",(0,o.getConflictResolutionRecipe)(h,e))),l=d):i.diag.warn("A view or instrument with the name ",e.name," has already been registered and is incompatible with another registered view.\n","Details:\n",(0,o.getIncompatibilityDetails)(h,e),"To resolve the conflict:\n",(0,o.getConflictResolutionRecipe)(h,e))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}return l},e}()},76484:(e,t,r)=>{"use strict";r.d(t,{MultiMetricStorage:()=>n});var n=function(){function e(e){this._backingStorages=e}return e.prototype.record=function(e,t,r,n){this._backingStorages.forEach(function(i){i.record(e,t,r,n)})},e}()},87729:(e,t,r)=>{"use strict";r.d(t,{ObservableRegistry:()=>d});var n=r(38626),i=r(2199),o=r(94419),s=r(56924),a=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},l=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return l([e,t])}}function l(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},u=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},c=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},d=function(){function e(){this._callbacks=[],this._batchCallbacks=[]}return e.prototype.addCallback=function(e,t){this._findCallback(e,t)>=0||this._callbacks.push({callback:e,instrument:t})},e.prototype.removeCallback=function(e,t){var r=this._findCallback(e,t);r<0||this._callbacks.splice(r,1)},e.prototype.addBatchCallback=function(e,t){var r=new Set(t.filter(i.isObservableInstrument));if(0===r.size){n.diag.error("BatchObservableCallback is not associated with valid instruments",t);return}this._findBatchCallback(e,r)>=0||this._batchCallbacks.push({callback:e,instruments:r})},e.prototype.removeBatchCallback=function(e,t){var r=new Set(t.filter(i.isObservableInstrument)),n=this._findBatchCallback(e,r);n<0||this._batchCallbacks.splice(n,1)},e.prototype.observe=function(e,t){return a(this,void 0,void 0,function(){var r,n;return l(this,function(i){switch(i.label){case 0:return r=this._observeCallbacks(e,t),n=this._observeBatchCallbacks(e,t),[4,(0,s.PromiseAllSettled)(c(c([],u(r),!1),u(n),!1))];case 1:return[2,i.sent().filter(s.isPromiseAllSettledRejectionResult).map(function(e){return e.reason})]}})})},e.prototype._observeCallbacks=function(e,t){var r=this;return this._callbacks.map(function(n){var i=n.callback,u=n.instrument;return a(r,void 0,void 0,function(){var r,n;return l(this,function(a){switch(a.label){case 0:return n=Promise.resolve(i(r=new o.ObservableResultImpl(u._descriptor.name,u._descriptor.valueType))),null!=t&&(n=(0,s.callWithTimeout)(n,t)),[4,n];case 1:return a.sent(),u._metricStorages.forEach(function(t){t.record(r._buffer,e)}),[2]}})})})},e.prototype._observeBatchCallbacks=function(e,t){var r=this;return this._batchCallbacks.map(function(n){var i=n.callback,u=n.instruments;return a(r,void 0,void 0,function(){var r,n;return l(this,function(a){switch(a.label){case 0:return n=Promise.resolve(i(r=new o.BatchObservableResultImpl)),null!=t&&(n=(0,s.callWithTimeout)(n,t)),[4,n];case 1:return a.sent(),u.forEach(function(t){var n=r._buffer.get(t);null!=n&&t._metricStorages.forEach(function(t){t.record(n,e)})}),[2]}})})})},e.prototype._findCallback=function(e,t){return this._callbacks.findIndex(function(r){return r.callback===e&&r.instrument===t})},e.prototype._findBatchCallback=function(e,t){return this._batchCallbacks.findIndex(function(r){return r.callback===e&&(0,s.setEquals)(r.instruments,t)})},e}()},31937:(e,t,r)=>{"use strict";r.d(t,{SyncMetricStorage:()=>a});var n=r(30305),i=r(36404),o=r(76967),s=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),a=function(e){function t(t,r,n,s){var a=e.call(this,t)||this;return a._attributesProcessor=n,a._deltaMetricStorage=new i.DeltaMetricProcessor(r),a._temporalMetricStorage=new o.TemporalMetricProcessor(r,s),a}return s(t,e),t.prototype.record=function(e,t,r,n){t=this._attributesProcessor.process(t,r),this._deltaMetricStorage.record(e,t,r,n)},t.prototype.collect=function(e,t){var r=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,this._instrumentDescriptor,r,t)},t}(n.MetricStorage)},76967:(e,t,r)=>{"use strict";r.d(t,{TemporalMetricProcessor:()=>a});var n=r(99757),i=r(83443),o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},a=function(){function e(e,t){var r=this;this._aggregator=e,this._unreportedAccumulations=new Map,this._reportHistory=new Map,t.forEach(function(e){r._unreportedAccumulations.set(e,[])})}return e.prototype.buildMetrics=function(t,r,i,o){this._stashAccumulations(i);var s,a=this._getMergedUnreportedAccumulations(t),u=a;if(this._reportHistory.has(t)){var c=this._reportHistory.get(t),d=c.collectionTime;u=(s=c.aggregationTemporality)===n.AggregationTemporality.CUMULATIVE?e.merge(c.accumulations,a,this._aggregator):e.calibrateStartTime(c.accumulations,a,d)}else s=t.selectAggregationTemporality(r.type);this._reportHistory.set(t,{accumulations:u,collectionTime:o,aggregationTemporality:s});var h=l(u);if(0!==h.length)return this._aggregator.toMetricData(r,s,h,o)},e.prototype._stashAccumulations=function(e){var t,r,n=this._unreportedAccumulations.keys();try{for(var i=o(n),s=i.next();!s.done;s=i.next()){var a=s.value,l=this._unreportedAccumulations.get(a);void 0===l&&(l=[],this._unreportedAccumulations.set(a,l)),l.push(e)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e.prototype._getMergedUnreportedAccumulations=function(t){var r,n,s=new i.AttributeHashMap,a=this._unreportedAccumulations.get(t);if(this._unreportedAccumulations.set(t,[]),void 0===a)return s;try{for(var l=o(a),u=l.next();!u.done;u=l.next()){var c=u.value;s=e.merge(s,c,this._aggregator)}}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return s},e.merge=function(e,t,r){for(var n=e,i=t.entries(),o=i.next();!0!==o.done;){var a=s(o.value,3),l=a[0],u=a[1],c=a[2];if(e.has(l,c)){var d=e.get(l,c),h=r.merge(d,u);n.set(l,h,c)}else n.set(l,u,c);o=i.next()}return n},e.calibrateStartTime=function(e,t,r){var n,i;try{for(var a=o(e.keys()),l=a.next();!l.done;l=a.next()){var u=s(l.value,2),c=u[0],d=u[1],h=t.get(c,d);null==h||h.setStartTime(r)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return t},e}();function l(e){return Array.from(e.entries())}},56924:(e,t,r)=>{"use strict";r.d(t,{FlatMap:()=>g,PromiseAllSettled:()=>f,TimeoutError:()=>h,binarySearchLB:()=>v,callWithTimeout:()=>p,equalsCaseInsensitive:()=>b,hashAttributes:()=>c,instrumentationScopeId:()=>d,isNotNullish:()=>u,isPromiseAllSettledRejectionResult:()=>m,setEquals:()=>y});var n=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},o=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return l([e,t])}}function l(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},s=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},a=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},l=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function u(e){return null!=e}function c(e){var t=Object.keys(e);return 0===t.length?"":JSON.stringify((t=t.sort()).map(function(t){return[t,e[t]]}))}function d(e){var t,r;return e.name+":"+(null!==(t=e.version)&&void 0!==t?t:"")+":"+(null!==(r=e.schemaUrl)&&void 0!==r?r:"")}var h=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n}return n(t,e),t}(Error);function p(e,t){var r;return Promise.race([e,new Promise(function(e,n){r=setTimeout(function(){n(new h("Operation timed out."))},t)})]).then(function(e){return clearTimeout(r),e},function(e){throw clearTimeout(r),e})}function f(e){return i(this,void 0,void 0,function(){var t=this;return o(this,function(r){return[2,Promise.all(e.map(function(e){return i(t,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e];case 1:return[2,{status:"fulfilled",value:t.sent()}];case 2:return[2,{status:"rejected",reason:t.sent()}];case 3:return[2]}})})}))]})})}function m(e){return"rejected"===e.status}function g(e,t){var r=[];return e.forEach(function(e){r.push.apply(r,a([],s(t(e)),!1))}),r}function y(e,t){var r,n;if(e.size!==t.size)return!1;try{for(var i=l(e),o=i.next();!o.done;o=i.next()){var s=o.value;if(!t.has(s))return!1}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return!0}function v(e,t){for(var r=0,n=e.length-1;n-r>1;){var i=Math.trunc((n+r)/2);e[i]<=t?r=i:n=i-1}return e[n]<=t?n:e[r]<=t?r:-1}function b(e,t){return e.toLowerCase()===t.toLowerCase()}},84241:(e,t,r)=>{"use strict";r.d(t,{Aggregation:()=>a,DefaultAggregation:()=>f,DropAggregation:()=>l,ExplicitBucketHistogramAggregation:()=>h,ExponentialHistogramAggregation:()=>p,HistogramAggregation:()=>d,LastValueAggregation:()=>c,SumAggregation:()=>u});var n=r(38626),i=r(22016),o=r(33917),s=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),a=function(){function e(){}return e.Drop=function(){return m},e.Sum=function(){return g},e.LastValue=function(){return y},e.Histogram=function(){return v},e.ExponentialHistogram=function(){return b},e.Default=function(){return E},e}(),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.createAggregator=function(e){return t.DEFAULT_INSTANCE},t.DEFAULT_INSTANCE=new i.DropAggregator,t}(a),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.createAggregator=function(e){switch(e.type){case o.InstrumentType.COUNTER:case o.InstrumentType.OBSERVABLE_COUNTER:case o.InstrumentType.HISTOGRAM:return t.MONOTONIC_INSTANCE;default:return t.NON_MONOTONIC_INSTANCE}},t.MONOTONIC_INSTANCE=new i.SumAggregator(!0),t.NON_MONOTONIC_INSTANCE=new i.SumAggregator(!1),t}(a),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.createAggregator=function(e){return t.DEFAULT_INSTANCE},t.DEFAULT_INSTANCE=new i.LastValueAggregator,t}(a),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.createAggregator=function(e){return t.DEFAULT_INSTANCE},t.DEFAULT_INSTANCE=new i.HistogramAggregator([0,5,10,25,50,75,100,250,500,750,1e3,2500,5e3,7500,1e4],!0),t}(a),h=function(e){function t(t,r){void 0===r&&(r=!0);var n=e.call(this)||this;if(n._recordMinMax=r,null==t)throw Error("ExplicitBucketHistogramAggregation should be created with explicit boundaries, if a single bucket histogram is required, please pass an empty array");var i=(t=(t=t.concat()).sort(function(e,t){return e-t})).lastIndexOf(-1/0),o=t.indexOf(1/0);return -1===o&&(o=void 0),n._boundaries=t.slice(i+1,o),n}return s(t,e),t.prototype.createAggregator=function(e){return new i.HistogramAggregator(this._boundaries,this._recordMinMax)},t}(a),p=function(e){function t(t,r){void 0===t&&(t=160),void 0===r&&(r=!0);var n=e.call(this)||this;return n._maxSize=t,n._recordMinMax=r,n}return s(t,e),t.prototype.createAggregator=function(e){return new i.ExponentialHistogramAggregator(this._maxSize,this._recordMinMax)},t}(a),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype._resolve=function(e){switch(e.type){case o.InstrumentType.COUNTER:case o.InstrumentType.UP_DOWN_COUNTER:case o.InstrumentType.OBSERVABLE_COUNTER:case o.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return g;case o.InstrumentType.GAUGE:case o.InstrumentType.OBSERVABLE_GAUGE:return y;case o.InstrumentType.HISTOGRAM:if(e.advice.explicitBucketBoundaries)return new h(e.advice.explicitBucketBoundaries);return v}return n.diag.warn("Unable to recognize instrument type: "+e.type),m},t.prototype.createAggregator=function(e){return this._resolve(e).createAggregator(e)},t}(a),m=new l,g=new u,y=new c,v=new d,b=new p,E=new f},14496:(e,t,r)=>{"use strict";r.d(t,{AttributesProcessor:()=>i,FilteringAttributesProcessor:()=>s});var n=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=function(){function e(){}return e.Noop=function(){return a},e}(),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.process=function(e,t){return e},t}(i),s=function(e){function t(t){var r=e.call(this)||this;return r._allowedAttributeNames=t,r}return n(t,e),t.prototype.process=function(e,t){var r=this,n={};return Object.keys(e).filter(function(e){return r._allowedAttributeNames.includes(e)}).forEach(function(t){return n[t]=e[t]}),n},t}(i),a=new o},24158:(e,t,r)=>{"use strict";r.d(t,{InstrumentSelector:()=>i});var n=r(50870),i=function(){function e(e){var t;this._nameFilter=new n.PatternPredicate(null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"*"),this._type=null==e?void 0:e.type,this._unitFilter=new n.ExactPredicate(null==e?void 0:e.unit)}return e.prototype.getType=function(){return this._type},e.prototype.getNameFilter=function(){return this._nameFilter},e.prototype.getUnitFilter=function(){return this._unitFilter},e}()},71901:(e,t,r)=>{"use strict";r.d(t,{MeterSelector:()=>i});var n=r(50870),i=function(){function e(e){this._nameFilter=new n.ExactPredicate(null==e?void 0:e.name),this._versionFilter=new n.ExactPredicate(null==e?void 0:e.version),this._schemaUrlFilter=new n.ExactPredicate(null==e?void 0:e.schemaUrl)}return e.prototype.getNameFilter=function(){return this._nameFilter},e.prototype.getVersionFilter=function(){return this._versionFilter},e.prototype.getSchemaUrlFilter=function(){return this._schemaUrlFilter},e}()},50870:(e,t,r)=>{"use strict";r.d(t,{ExactPredicate:()=>o,PatternPredicate:()=>i});var n=/[\^$\\.+?()[\]{}|]/g,i=function(){function e(t){"*"===t?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(e.escapePattern(t)))}return e.prototype.match=function(e){return!!this._matchAll||this._regexp.test(e)},e.escapePattern=function(e){return"^"+e.replace(n,"\\$&").replace("*",".*")+"$"},e.hasWildcard=function(e){return e.includes("*")},e}(),o=function(){function e(e){this._matchAll=void 0===e,this._pattern=e}return e.prototype.match=function(e){return!!this._matchAll||e===this._pattern},e}()},55788:(e,t,r)=>{"use strict";function n(e,t){var r="";return e.unit!==t.unit&&(r+="	- Unit '"+e.unit+"' does not match '"+t.unit+"'\n"),e.type!==t.type&&(r+="	- Type '"+e.type+"' does not match '"+t.type+"'\n"),e.valueType!==t.valueType&&(r+="	- Value Type '"+e.valueType+"' does not match '"+t.valueType+"'\n"),e.description!==t.description&&(r+="	- Description '"+e.description+"' does not match '"+t.description+"'\n"),r}function i(e,t){return"	- use valueType '"+e.valueType+"' on instrument creation or use an instrument name other than '"+t.name+"'"}function o(e,t){return"	- use unit '"+e.unit+"' on instrument creation or use an instrument name other than '"+t.name+"'"}function s(e,t){var r=JSON.stringify({name:t.name,type:t.type,unit:t.unit});return"	- create a new view with a name other than '"+e.name+"' and InstrumentSelector '"+r+"'"}function a(e,t){var r=JSON.stringify({name:t.name,type:t.type,unit:t.unit});return"	- create a new view with a name other than '"+e.name+"' and InstrumentSelector '"+r+"'\n    	- OR - create a new view with the name "+e.name+" and description '"+e.description+"' and InstrumentSelector "+r+"\n    	- OR - create a new view with the name "+t.name+" and description '"+e.description+"' and InstrumentSelector "+r}function l(e,t){return e.valueType!==t.valueType?i(e,t):e.unit!==t.unit?o(e,t):e.type!==t.type?s(e,t):e.description!==t.description?a(e,t):""}r.d(t,{getConflictResolutionRecipe:()=>l,getIncompatibilityDetails:()=>n})},25576:(e,t,r)=>{"use strict";r.d(t,{View:()=>u});var n=r(50870),i=r(14496),o=r(24158),s=r(71901),a=r(84241);function l(e){return null==e.instrumentName&&null==e.instrumentType&&null==e.instrumentUnit&&null==e.meterName&&null==e.meterVersion&&null==e.meterSchemaUrl}var u=function(){return function(e){var t;if(l(e))throw Error("Cannot create view with no selector arguments supplied");if(null!=e.name&&((null==e?void 0:e.instrumentName)==null||n.PatternPredicate.hasWildcard(e.instrumentName)))throw Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");null!=e.attributeKeys?this.attributesProcessor=new i.FilteringAttributesProcessor(e.attributeKeys):this.attributesProcessor=i.AttributesProcessor.Noop(),this.name=e.name,this.description=e.description,this.aggregation=null!==(t=e.aggregation)&&void 0!==t?t:a.Aggregation.Default(),this.instrumentSelector=new o.InstrumentSelector({name:e.instrumentName,type:e.instrumentType,unit:e.instrumentUnit}),this.meterSelector=new s.MeterSelector({name:e.meterName,version:e.meterVersion,schemaUrl:e.meterSchemaUrl})}}()},79070:(e,t,r)=>{"use strict";r.d(t,{ViewRegistry:()=>n});var n=function(){function e(){this._registeredViews=[]}return e.prototype.addView=function(e){this._registeredViews.push(e)},e.prototype.findViews=function(e,t){var r=this;return this._registeredViews.filter(function(n){return r._matchInstrument(n.instrumentSelector,e)&&r._matchMeter(n.meterSelector,t)})},e.prototype._matchInstrument=function(e,t){return(void 0===e.getType()||t.type===e.getType())&&e.getNameFilter().match(t.name)&&e.getUnitFilter().match(t.unit)},e.prototype._matchMeter=function(e,t){return e.getNameFilter().match(t.name)&&(void 0===t.version||e.getVersionFilter().match(t.version))&&(void 0===t.schemaUrl||e.getSchemaUrlFilter().match(t.schemaUrl))},e}()},51649:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TracerProviderWithEnvExporters=void 0;let i=r(38626),o=r(4544),s=r(19733),a=r(71711),l=r(44006),u=r(71333),c=r(6500),d=r(79511);class h extends a.NodeTracerProvider{constructor(e={}){super(e),this._configuredExporters=[],this._hasSpanProcessors=!1;let t=this.filterBlanksAndNulls(Array.from(new Set((0,o.getEnv)().OTEL_TRACES_EXPORTER.split(","))));"none"===t[0]?i.diag.warn('OTEL_TRACES_EXPORTER contains "none". SDK will not be initialized.'):0===t.length?(i.diag.warn("OTEL_TRACES_EXPORTER is empty. Using default otlp exporter."),t=["otlp"],this.createExportersFromList(t),this._spanProcessors=this.configureSpanProcessors(this._configuredExporters),this._spanProcessors.forEach(e=>{this.addSpanProcessor(e)})):(t.length>1&&t.includes("none")&&(i.diag.warn('OTEL_TRACES_EXPORTER contains "none" along with other exporters. Using default otlp exporter.'),t=["otlp"]),this.createExportersFromList(t),this._configuredExporters.length>0?(this._spanProcessors=this.configureSpanProcessors(this._configuredExporters),this._spanProcessors.forEach(e=>{this.addSpanProcessor(e)})):i.diag.warn("Unable to set up trace exporter(s) due to invalid exporter and/or protocol values."))}static configureOtlp(){let e=this.getOtlpProtocol();switch(e){case"grpc":return new c.OTLPTraceExporter;case"http/json":return new u.OTLPTraceExporter;case"http/protobuf":return new l.OTLPTraceExporter;default:return i.diag.warn(`Unsupported OTLP traces protocol: ${e}. Using http/protobuf.`),new l.OTLPTraceExporter}}static getOtlpProtocol(){var e,t,r;let n=(0,o.getEnvWithoutDefaults)();return null!==(r=null!==(t=null!==(e=n.OTEL_EXPORTER_OTLP_TRACES_PROTOCOL)&&void 0!==e?e:n.OTEL_EXPORTER_OTLP_PROTOCOL)&&void 0!==t?t:(0,o.getEnv)().OTEL_EXPORTER_OTLP_TRACES_PROTOCOL)&&void 0!==r?r:(0,o.getEnv)().OTEL_EXPORTER_OTLP_PROTOCOL}static configureJaeger(){try{let{JaegerExporter:e}=r(21938);return new e}catch(e){throw Error(`Could not instantiate JaegerExporter. This could be due to the JaegerExporter's lack of support for bundling. If possible, use @opentelemetry/exporter-trace-otlp-proto instead. Original Error: ${e}`)}}addSpanProcessor(e){super.addSpanProcessor(e),this._hasSpanProcessors=!0}register(e){this._hasSpanProcessors&&super.register(e)}createExportersFromList(e){e.forEach(e=>{let t=this._getSpanExporter(e);t?this._configuredExporters.push(t):i.diag.warn(`Unrecognized OTEL_TRACES_EXPORTER value: ${e}.`)})}configureSpanProcessors(e){return e.map(e=>e instanceof s.ConsoleSpanExporter?new s.SimpleSpanProcessor(e):new s.BatchSpanProcessor(e))}filterBlanksAndNulls(e){return e.map(e=>e.trim()).filter(e=>"null"!==e&&""!==e)}}t.TracerProviderWithEnvExporters=h,n=h,h._registeredExporters=new Map([["otlp",()=>n.configureOtlp()],["zipkin",()=>new d.ZipkinExporter],["jaeger",()=>n.configureJaeger()],["console",()=>new s.ConsoleSpanExporter]])},19982:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.tracing=t.resources=t.node=t.metrics=t.logs=t.core=t.contextBase=t.api=void 0,t.api=r(38626),t.contextBase=r(38626),t.core=r(4544),t.logs=r(55454),t.metrics=r(53473),t.node=r(71711),t.resources=r(75053),t.tracing=r(19733),i(r(27302),t),i(r(81061),t)},27302:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeSDK=void 0;let n=r(38626),i=r(2110),o=r(13559),s=r(75053),a=r(55454),l=r(53473),u=r(19733),c=r(71711),d=r(67028),h=r(51649),p=r(4544),f=r(38157);class m{constructor(e={}){var t,r,i,o,a,l,c;let d=(0,p.getEnv)(),h=(0,p.getEnvWithoutDefaults)();d.OTEL_SDK_DISABLED&&(this._disabled=!0),h.OTEL_LOG_LEVEL&&n.diag.setLogger(new n.DiagConsoleLogger,{logLevel:h.OTEL_LOG_LEVEL}),this._configuration=e,this._resource=null!==(t=e.resource)&&void 0!==t?t:new s.Resource({});let m=[];if(null!=process.env.OTEL_NODE_RESOURCE_DETECTORS?m=(0,f.getResourceDetectorsFromEnv)():m=[s.envDetector,s.processDetector,s.hostDetector],this._resourceDetectors=null!==(r=e.resourceDetectors)&&void 0!==r?r:m,this._serviceName=e.serviceName,this._autoDetectResources=null===(i=e.autoDetectResources)||void 0===i||i,e.traceExporter||e.spanProcessor||e.spanProcessors){let t={};e.sampler&&(t.sampler=e.sampler),e.spanLimits&&(t.spanLimits=e.spanLimits),e.idGenerator&&(t.idGenerator=e.idGenerator),e.spanProcessor&&n.diag.warn("The 'spanProcessor' option is deprecated. Please use 'spanProcessors' instead.");let r=null!==(o=e.spanProcessor)&&void 0!==o?o:new u.BatchSpanProcessor(e.traceExporter),i=null!==(a=e.spanProcessors)&&void 0!==a?a:[r];this._tracerProviderConfig={tracerConfig:t,spanProcessors:i,contextManager:e.contextManager,textMapPropagator:e.textMapPropagator}}if(e.logRecordProcessor&&(this._loggerProviderConfig={logRecordProcessor:e.logRecordProcessor}),e.metricReader||e.views){let t={};e.metricReader&&(t.reader=e.metricReader),e.views&&(t.views=e.views),this._meterProviderConfig=t}this._instrumentations=null!==(c=null===(l=e.instrumentations)||void 0===l?void 0:l.flat())&&void 0!==c?c:[]}start(){var e,t,r,u,p,f;if(this._disabled)return;if((0,o.registerInstrumentations)({instrumentations:this._instrumentations}),this._autoDetectResources){let e={detectors:this._resourceDetectors};this._resource=this._resource.merge((0,s.detectResourcesSync)(e))}this._resource=void 0===this._serviceName?this._resource:this._resource.merge(new s.Resource({[d.SEMRESATTRS_SERVICE_NAME]:this._serviceName}));let m=new(this._tracerProviderConfig?c.NodeTracerProvider:h.TracerProviderWithEnvExporters)(Object.assign(Object.assign({},this._configuration),{resource:this._resource}));if(this._tracerProvider=m,this._tracerProviderConfig)for(let e of this._tracerProviderConfig.spanProcessors)m.addSpanProcessor(e);if(m.register({contextManager:null!==(t=null===(e=this._tracerProviderConfig)||void 0===e?void 0:e.contextManager)&&void 0!==t?t:null===(r=this._configuration)||void 0===r?void 0:r.contextManager,propagator:null===(u=this._tracerProviderConfig)||void 0===u?void 0:u.textMapPropagator}),this._loggerProviderConfig){let e=new a.LoggerProvider({resource:this._resource});e.addLogRecordProcessor(this._loggerProviderConfig.logRecordProcessor),this._loggerProvider=e,i.logs.setGlobalLoggerProvider(e)}if(this._meterProviderConfig){let e=[];this._meterProviderConfig.reader&&e.push(this._meterProviderConfig.reader);let t=new l.MeterProvider({resource:this._resource,views:null!==(f=null===(p=this._meterProviderConfig)||void 0===p?void 0:p.views)&&void 0!==f?f:[],readers:e});for(let e of(this._meterProvider=t,n.metrics.setGlobalMeterProvider(t),this._instrumentations))e.setMeterProvider(n.metrics.getMeterProvider())}}shutdown(){let e=[];return this._tracerProvider&&e.push(this._tracerProvider.shutdown()),this._loggerProvider&&e.push(this._loggerProvider.shutdown()),this._meterProvider&&e.push(this._meterProvider.shutdown()),Promise.all(e).then(()=>{})}}t.NodeSDK=m},81061:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},38157:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getResourceDetectorsFromEnv=void 0;let n=r(38626),i=r(75053),o="env",s="host",a="os",l="process",u="serviceinstance";function c(){var e,t;let r=new Map([[o,i.envDetectorSync],[s,i.hostDetectorSync],[a,i.osDetectorSync],[u,i.serviceInstanceIdDetectorSync],[l,i.processDetectorSync]]),c=null!==(t=null===(e=process.env.OTEL_NODE_RESOURCE_DETECTORS)||void 0===e?void 0:e.split(","))&&void 0!==t?t:["all"];return c.includes("all")?[...r.values()].flat():c.includes("none")?[]:c.flatMap(e=>{let t=r.get(e);return t||n.diag.error(`Invalid resource detector "${e}" specified in the environment variable OTEL_NODE_RESOURCE_DETECTORS`),t||[]})}t.getResourceDetectorsFromEnv=c},17656:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BasicTracerProvider:()=>p,ForceFlushState:()=>n});var n,i=r(38626),o=r(4544),s=r(75053),a=r(19733),l=r(83086),u=r(87453),c=r(97537),d=r(74878),h=r(55016);!function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"}(n||(n={}));var p=function(){function e(e){void 0===e&&(e={}),this._registeredSpanProcessors=[],this._tracers=new Map;var t,r=(0,o.merge)({},(0,l.loadDefaultConfig)(),(0,h.reconfigureLimits)(e));this.resource=null!==(t=r.resource)&&void 0!==t?t:s.Resource.empty(),this.resource=s.Resource.default().merge(this.resource),this._config=Object.assign({},r,{resource:this.resource});var n=this._buildExporterFromEnv();if(void 0!==n){var i=new d.BatchSpanProcessor(n);this.activeSpanProcessor=i}else this.activeSpanProcessor=new c.NoopSpanProcessor}return e.prototype.getTracer=function(e,t,r){var n=e+"@"+(t||"")+":"+((null==r?void 0:r.schemaUrl)||"");return this._tracers.has(n)||this._tracers.set(n,new a.Tracer({name:e,version:t,schemaUrl:null==r?void 0:r.schemaUrl},this._config,this)),this._tracers.get(n)},e.prototype.addSpanProcessor=function(e){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch(function(e){return i.diag.error("Error while trying to shutdown current span processor",e)}),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new u.MultiSpanProcessor(this._registeredSpanProcessors)},e.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},e.prototype.register=function(e){void 0===e&&(e={}),i.trace.setGlobalTracerProvider(this),void 0===e.propagator&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&i.context.setGlobalContextManager(e.contextManager),e.propagator&&i.propagation.setGlobalPropagator(e.propagator)},e.prototype.forceFlush=function(){var e=this._config.forceFlushTimeoutMillis,t=this._registeredSpanProcessors.map(function(t){return new Promise(function(r){var i,o=setTimeout(function(){r(Error("Span processor did not completed within timeout period of "+e+" ms")),i=n.timeout},e);t.forceFlush().then(function(){clearTimeout(o),i!==n.timeout&&r(i=n.resolved)}).catch(function(e){clearTimeout(o),i=n.error,r(e)})})});return new Promise(function(e,r){Promise.all(t).then(function(t){var i=t.filter(function(e){return e!==n.resolved});i.length>0?r(i):e()}).catch(function(e){return r([e])})})},e.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},e.prototype._getPropagator=function(e){var t;return null===(t=this.constructor._registeredPropagators.get(e))||void 0===t?void 0:t()},e.prototype._getSpanExporter=function(e){var t;return null===(t=this.constructor._registeredExporters.get(e))||void 0===t?void 0:t()},e.prototype._buildPropagatorFromEnv=function(){var e=this,t=Array.from(new Set((0,o.getEnv)().OTEL_PROPAGATORS)),r=t.map(function(t){var r=e._getPropagator(t);return r||i.diag.warn('Propagator "'+t+'" requested through environment variable is unavailable.'),r}).reduce(function(e,t){return t&&e.push(t),e},[]);return 0===r.length?void 0:1===t.length?r[0]:new o.CompositePropagator({propagators:r})},e.prototype._buildExporterFromEnv=function(){var e=(0,o.getEnv)().OTEL_TRACES_EXPORTER;if("none"!==e&&""!==e){var t=this._getSpanExporter(e);return t||i.diag.error('Exporter "'+e+'" requested through environment variable is unavailable.'),t}},e._registeredPropagators=new Map([["tracecontext",function(){return new o.W3CTraceContextPropagator}],["baggage",function(){return new o.W3CBaggagePropagator}]]),e._registeredExporters=new Map,e}()},84162:(e,t,r)=>{"use strict";r.r(t)},87453:(e,t,r)=>{"use strict";r.d(t,{MultiSpanProcessor:()=>o});var n=r(4544),i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=function(){function e(e){this._spanProcessors=e}return e.prototype.forceFlush=function(){var e,t,r=[];try{for(var o=i(this._spanProcessors),s=o.next();!s.done;s=o.next()){var a=s.value;r.push(a.forceFlush())}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return new Promise(function(e){Promise.all(r).then(function(){e()}).catch(function(t){(0,n.globalErrorHandler)(t||Error("MultiSpanProcessor: forceFlush failed")),e()})})},e.prototype.onStart=function(e,t){var r,n;try{for(var o=i(this._spanProcessors),s=o.next();!s.done;s=o.next())s.value.onStart(e,t)}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},e.prototype.onEnd=function(e){var t,r;try{for(var n=i(this._spanProcessors),o=n.next();!o.done;o=n.next())o.value.onEnd(e)}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},e.prototype.shutdown=function(){var e,t,r=[];try{for(var n=i(this._spanProcessors),o=n.next();!o.done;o=n.next()){var s=o.value;r.push(s.shutdown())}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return new Promise(function(e,t){Promise.all(r).then(function(){e()},t)})},e}()},92943:(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{SamplingDecision:()=>n}),function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(n||(n={}))},56213:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Span:()=>c});var n=r(38626),i=r(4544),o=r(67028),s=r(67147),a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},u=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},c=function(){function e(e,t,r,o,s,a,l,u,c,d){void 0===l&&(l=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:n.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=r,this._spanContext=o,this.parentSpanId=a,this.kind=s,this.links=l;var h=Date.now();this._performanceStartTime=i.otperformance.now(),this._performanceOffset=h-(this._performanceStartTime+(0,i.getTimeOrigin)()),this._startTimeProvided=null!=u,this.startTime=this._getTime(null!=u?u:h),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,null!=d&&this.setAttributes(d),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,t)}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return null==t||this._isSpanEnded()||(0===e.length?n.diag.warn("Invalid attribute key: "+e):(0,i.isAttributeValue)(t)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?this._droppedAttributesCount++:this.attributes[e]=this._truncateToSize(t):n.diag.warn("Invalid attribute value set for key: "+e)),this},e.prototype.setAttributes=function(e){var t,r;try{for(var n=a(Object.entries(e)),i=n.next();!i.done;i=n.next()){var o=l(i.value,2),s=o[0],u=o[1];this.setAttribute(s,u)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return this},e.prototype.addEvent=function(e,t,r){if(this._isSpanEnded())return this;if(0===this._spanLimits.eventCountLimit)return n.diag.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(0===this._droppedEventsCount&&n.diag.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),(0,i.isTimeInput)(t)&&((0,i.isTimeInput)(r)||(r=t),t=void 0);var o=(0,i.sanitizeAttributes)(t);return this.events.push({name:e,attributes:o,time:this._getTime(r),droppedAttributesCount:0}),this},e.prototype.addLink=function(e){return this.links.push(e),this},e.prototype.addLinks=function(e){var t;return(t=this.links).push.apply(t,u([],l(e),!1)),this},e.prototype.setStatus=function(e){return this._isSpanEnded()||(this.status=e),this},e.prototype.updateName=function(e){return this._isSpanEnded()||(this.name=e),this},e.prototype.end=function(e){if(this._isSpanEnded()){n.diag.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once.");return}this._ended=!0,this.endTime=this._getTime(e),this._duration=(0,i.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&(n.diag.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&n.diag.warn("Dropped "+this._droppedEventsCount+" events because eventCountLimit reached"),this._spanProcessor.onEnd(this)},e.prototype._getTime=function(e){if("number"==typeof e&&e<i.otperformance.now())return(0,i.hrTime)(e+this._performanceOffset);if("number"==typeof e)return(0,i.millisToHrTime)(e);if(e instanceof Date)return(0,i.millisToHrTime)(e.getTime());if((0,i.isTimeInputHrTime)(e))return e;if(this._startTimeProvided)return(0,i.millisToHrTime)(Date.now());var t=i.otperformance.now()-this._performanceStartTime;return(0,i.addHrTimes)(this.startTime,(0,i.millisToHrTime)(t))},e.prototype.isRecording=function(){return!1===this._ended},e.prototype.recordException=function(e,t){var r={};"string"==typeof e?r[o.SEMATTRS_EXCEPTION_MESSAGE]=e:e&&(e.code?r[o.SEMATTRS_EXCEPTION_TYPE]=e.code.toString():e.name&&(r[o.SEMATTRS_EXCEPTION_TYPE]=e.name),e.message&&(r[o.SEMATTRS_EXCEPTION_MESSAGE]=e.message),e.stack&&(r[o.SEMATTRS_EXCEPTION_STACKTRACE]=e.stack)),r[o.SEMATTRS_EXCEPTION_TYPE]||r[o.SEMATTRS_EXCEPTION_MESSAGE]?this.addEvent(s.ExceptionEventName,r,t):n.diag.warn("Failed to record an exception "+e)},Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),e.prototype._isSpanEnded=function(){return this._ended&&n.diag.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},e.prototype._truncateToLimitUtil=function(e,t){return e.length<=t?e:e.substr(0,t)},e.prototype._truncateToSize=function(e){var t=this,r=this._attributeValueLengthLimit;return r<=0?(n.diag.warn("Attribute value limit must be positive, got "+r),e):"string"==typeof e?this._truncateToLimitUtil(e,r):Array.isArray(e)?e.map(function(e){return"string"==typeof e?t._truncateToLimitUtil(e,r):e}):e},e}()},49768:(e,t,r)=>{"use strict";r.r(t)},93862:(e,t,r)=>{"use strict";r.r(t)},77361:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Tracer:()=>l});var n=r(38626),i=r(4544),o=r(56213),s=r(55016),a=r(74878),l=function(){function e(e,t,r){this._tracerProvider=r;var n=(0,s.mergeConfig)(t);this._sampler=n.sampler,this._generalLimits=n.generalLimits,this._spanLimits=n.spanLimits,this._idGenerator=t.idGenerator||new a.RandomIdGenerator,this.resource=r.resource,this.instrumentationLibrary=e}return e.prototype.startSpan=function(e,t,r){void 0===t&&(t={}),void 0===r&&(r=n.context.active()),t.root&&(r=n.trace.deleteSpan(r));var s,a,l,u,c,d,h=n.trace.getSpan(r);if((0,i.isTracingSuppressed)(r)){n.diag.debug("Instrumentation suppressed, returning Noop Span");var p=n.trace.wrapSpanContext(n.INVALID_SPAN_CONTEXT);return p}var f=null==h?void 0:h.spanContext(),m=this._idGenerator.generateSpanId();f&&n.trace.isSpanContextValid(f)?(u=f.traceId,c=f.traceState,d=f.spanId):u=this._idGenerator.generateTraceId();var g=null!==(s=t.kind)&&void 0!==s?s:n.SpanKind.INTERNAL,y=(null!==(a=t.links)&&void 0!==a?a:[]).map(function(e){return{context:e.context,attributes:(0,i.sanitizeAttributes)(e.attributes)}}),v=(0,i.sanitizeAttributes)(t.attributes),b=this._sampler.shouldSample(r,u,e,g,v,y);c=null!==(l=b.traceState)&&void 0!==l?l:c;var E={traceId:u,spanId:m,traceFlags:b.decision===n.SamplingDecision.RECORD_AND_SAMPLED?n.TraceFlags.SAMPLED:n.TraceFlags.NONE,traceState:c};if(b.decision===n.SamplingDecision.NOT_RECORD){n.diag.debug("Recording is off, propagating context in a non-recording span");var p=n.trace.wrapSpanContext(E);return p}var S=(0,i.sanitizeAttributes)(Object.assign(v,b.attributes));return new o.Span(this,r,e,E,g,d,y,t.startTime,void 0,S)},e.prototype.startActiveSpan=function(e,t,r,i){if(!(arguments.length<2)){2==arguments.length?a=t:3==arguments.length?(o=t,a=r):(o=t,s=r,a=i);var o,s,a,l=null!=s?s:n.context.active(),u=this.startSpan(e,o,l),c=n.trace.setSpan(l,u);return n.context.with(c,a,void 0,u)}},e.prototype.getGeneralLimits=function(){return this._generalLimits},e.prototype.getSpanLimits=function(){return this._spanLimits},e.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},e}()},83086:(e,t,r)=>{"use strict";r.d(t,{buildSamplerFromEnv:()=>p,loadDefaultConfig:()=>h});var n=r(38626),i=r(4544),o=r(94942),s=r(52339),a=r(68246),l=r(71125),u=(0,i.getEnv)(),c=i.TracesSamplerValues.AlwaysOn,d=1;function h(){return{sampler:p(u),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,i.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,i.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,i.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,i.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,i.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,i.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:(0,i.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:(0,i.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}function p(e){switch(void 0===e&&(e=(0,i.getEnv)()),e.OTEL_TRACES_SAMPLER){case i.TracesSamplerValues.AlwaysOn:return new s.AlwaysOnSampler;case i.TracesSamplerValues.AlwaysOff:return new o.AlwaysOffSampler;case i.TracesSamplerValues.ParentBasedAlwaysOn:return new a.ParentBasedSampler({root:new s.AlwaysOnSampler});case i.TracesSamplerValues.ParentBasedAlwaysOff:return new a.ParentBasedSampler({root:new o.AlwaysOffSampler});case i.TracesSamplerValues.TraceIdRatio:return new l.TraceIdRatioBasedSampler(f(e));case i.TracesSamplerValues.ParentBasedTraceIdRatio:return new a.ParentBasedSampler({root:new l.TraceIdRatioBasedSampler(f(e))});default:return n.diag.error('OTEL_TRACES_SAMPLER value "'+e.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+c+'".'),new s.AlwaysOnSampler}}function f(e){if(void 0===e.OTEL_TRACES_SAMPLER_ARG||""===e.OTEL_TRACES_SAMPLER_ARG)return n.diag.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+d+"."),d;var t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(n.diag.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+d+"."),d):t<0||t>1?(n.diag.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+d+"."),d):t}},67147:(e,t,r)=>{"use strict";r.d(t,{ExceptionEventName:()=>n});var n="exception"},1592:(e,t,r)=>{"use strict";r.d(t,{BatchSpanProcessorBase:()=>o});var n=r(38626),i=r(4544),o=function(){function e(e,t){this._exporter=e,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;var r=(0,i.getEnv)();this._maxExportBatchSize="number"==typeof(null==t?void 0:t.maxExportBatchSize)?t.maxExportBatchSize:r.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==t?void 0:t.maxQueueSize)?t.maxQueueSize:r.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==t?void 0:t.scheduledDelayMillis)?t.scheduledDelayMillis:r.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==t?void 0:t.exportTimeoutMillis)?t.exportTimeoutMillis:r.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new i.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(n.diag.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){this._shutdownOnce.isCalled||(e.spanContext().traceFlags&n.TraceFlags.SAMPLED)==0||this._addToBuffer(e)},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){var e=this;return Promise.resolve().then(function(){return e.onShutdown()}).then(function(){return e._flushAll()}).then(function(){return e._exporter.shutdown()})},e.prototype._addToBuffer=function(e){if(this._finishedSpans.length>=this._maxQueueSize){0===this._droppedSpansCount&&n.diag.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(n.diag.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()},e.prototype._flushAll=function(){var e=this;return new Promise(function(t,r){for(var n=[],i=Math.ceil(e._finishedSpans.length/e._maxExportBatchSize),o=0,s=i;o<s;o++)n.push(e._flushOneBatch());Promise.all(n).then(function(){t()}).catch(r)})},e.prototype._flushOneBatch=function(){var e=this;return(this._clearTimer(),0===this._finishedSpans.length)?Promise.resolve():new Promise(function(t,r){var o=setTimeout(function(){r(Error("Timeout"))},e._exportTimeoutMillis);n.context.with((0,i.suppressTracing)(n.context.active()),function(){e._finishedSpans.length<=e._maxExportBatchSize?(n=e._finishedSpans,e._finishedSpans=[]):n=e._finishedSpans.splice(0,e._maxExportBatchSize);for(var n,s=function(){return e._exporter.export(n,function(e){var n;clearTimeout(o),e.code===i.ExportResultCode.SUCCESS?t():r(null!==(n=e.error)&&void 0!==n?n:Error("BatchSpanProcessor: span export failed"))})},a=null,l=0,u=n.length;l<u;l++){var c=n[l];c.resource.asyncAttributesPending&&c.resource.waitForAsyncAttributes&&(null!=a||(a=[]),a.push(c.resource.waitForAsyncAttributes()))}null===a?s():Promise.all(a).then(s,function(e){(0,i.globalErrorHandler)(e),r(e)})})})},e.prototype._maybeStartTimer=function(){var e=this;if(!this._isExporting){var t=function(){e._isExporting=!0,e._flushOneBatch().finally(function(){e._isExporting=!1,e._finishedSpans.length>0&&(e._clearTimer(),e._maybeStartTimer())}).catch(function(t){e._isExporting=!1,(0,i.globalErrorHandler)(t)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return t();void 0===this._timer&&(this._timer=setTimeout(function(){return t()},this._scheduledDelayMillis),(0,i.unrefTimer)(this._timer))}},e.prototype._clearTimer=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)},e}()},71231:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ConsoleSpanExporter:()=>o});var n=r(4544),i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=function(){function e(){}return e.prototype.export=function(e,t){return this._sendSpans(e,t)},e.prototype.shutdown=function(){return this._sendSpans([]),this.forceFlush()},e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype._exportInfo=function(e){var t;return{resource:{attributes:e.resource.attributes},traceId:e.spanContext().traceId,parentId:e.parentSpanId,traceState:null===(t=e.spanContext().traceState)||void 0===t?void 0:t.serialize(),name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:(0,n.hrTimeToMicroseconds)(e.startTime),duration:(0,n.hrTimeToMicroseconds)(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}},e.prototype._sendSpans=function(e,t){var r,o;try{for(var s=i(e),a=s.next();!a.done;a=s.next()){var l=a.value;console.dir(this._exportInfo(l),{depth:3})}}catch(e){r={error:e}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}if(t)return t({code:n.ExportResultCode.SUCCESS})},e}()},30023:(e,t,r)=>{"use strict";r.r(t),r.d(t,{InMemorySpanExporter:()=>s});var n=r(4544),i=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},o=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},s=function(){function e(){this._finishedSpans=[],this._stopped=!1}return e.prototype.export=function(e,t){var r;if(this._stopped)return t({code:n.ExportResultCode.FAILED,error:Error("Exporter has been stopped")});(r=this._finishedSpans).push.apply(r,o([],i(e),!1)),setTimeout(function(){return t({code:n.ExportResultCode.SUCCESS})},0)},e.prototype.shutdown=function(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()},e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype.reset=function(){this._finishedSpans=[]},e.prototype.getFinishedSpans=function(){return this._finishedSpans},e}()},97537:(e,t,r)=>{"use strict";r.r(t),r.d(t,{NoopSpanProcessor:()=>n});var n=function(){function e(){}return e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){},e.prototype.shutdown=function(){return Promise.resolve()},e.prototype.forceFlush=function(){return Promise.resolve()},e}()},51585:(e,t,r)=>{"use strict";r.r(t)},43088:(e,t,r)=>{"use strict";r.r(t),r.d(t,{SimpleSpanProcessor:()=>a});var n=r(38626),i=r(4544),o=function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})},s=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return l([e,t])}}function l(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},a=function(){function e(e){this._exporter=e,this._shutdownOnce=new i.BindOnceFuture(this._shutdown,this),this._unresolvedExports=new Set}return e.prototype.forceFlush=function(){return o(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,Promise.all(Array.from(this._unresolvedExports))];case 1:if(e.sent(),!this._exporter.forceFlush)return[3,3];return[4,this._exporter.forceFlush()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},e.prototype.onStart=function(e,t){},e.prototype.onEnd=function(e){var t,r,o=this;if(!this._shutdownOnce.isCalled&&(e.spanContext().traceFlags&n.TraceFlags.SAMPLED)!=0){var s=function(){return i.internal._export(o._exporter,[e]).then(function(e){var t;e.code!==i.ExportResultCode.SUCCESS&&(0,i.globalErrorHandler)(null!==(t=e.error)&&void 0!==t?t:Error("SimpleSpanProcessor: span export failed (status "+e+")"))}).catch(function(e){(0,i.globalErrorHandler)(e)})};if(e.resource.asyncAttributesPending){var a=null===(r=(t=e.resource).waitForAsyncAttributes)||void 0===r?void 0:r.call(t).then(function(){return null!=a&&o._unresolvedExports.delete(a),s()},function(e){return(0,i.globalErrorHandler)(e)});null!=a&&this._unresolvedExports.add(a)}else s()}},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){return this._exporter.shutdown()},e}()},61105:(e,t,r)=>{"use strict";r.r(t)},19733:(e,t,r)=>{"use strict";r.r(t);var n=r(77361),i={};for(let e in n)"default"!==e&&(i[e]=()=>n[e]);r.d(t,i);var o=r(17656),i={};for(let e in o)"default"!==e&&(i[e]=()=>o[e]);r.d(t,i);var s=r(74878),i={};for(let e in s)"default"!==e&&(i[e]=()=>s[e]);r.d(t,i);var a=r(71231),i={};for(let e in a)"default"!==e&&(i[e]=()=>a[e]);r.d(t,i);var l=r(30023),i={};for(let e in l)"default"!==e&&(i[e]=()=>l[e]);r.d(t,i);var u=r(51585),i={};for(let e in u)"default"!==e&&(i[e]=()=>u[e]);r.d(t,i);var c=r(43088),i={};for(let e in c)"default"!==e&&(i[e]=()=>c[e]);r.d(t,i);var d=r(61105),i={};for(let e in d)"default"!==e&&(i[e]=()=>d[e]);r.d(t,i);var h=r(97537),i={};for(let e in h)"default"!==e&&(i[e]=()=>h[e]);r.d(t,i);var p=r(94942),i={};for(let e in p)"default"!==e&&(i[e]=()=>p[e]);r.d(t,i);var f=r(52339),i={};for(let e in f)"default"!==e&&(i[e]=()=>f[e]);r.d(t,i);var m=r(68246),i={};for(let e in m)"default"!==e&&(i[e]=()=>m[e]);r.d(t,i);var g=r(71125),i={};for(let e in g)"default"!==e&&(i[e]=()=>g[e]);r.d(t,i);var y=r(92943),i={};for(let e in y)"default"!==e&&(i[e]=()=>y[e]);r.d(t,i);var v=r(56213),i={};for(let e in v)"default"!==e&&(i[e]=()=>v[e]);r.d(t,i);var b=r(49768),i={};for(let e in b)"default"!==e&&(i[e]=()=>b[e]);r.d(t,i);var E=r(93862),i={};for(let e in E)"default"!==e&&(i[e]=()=>E[e]);r.d(t,i);var S=r(89901),i={};for(let e in S)"default"!==e&&(i[e]=()=>S[e]);r.d(t,i);var _=r(84162),i={};for(let e in _)"default"!==e&&(i[e]=()=>_[e]);r.d(t,i)},74878:(e,t,r)=>{"use strict";r.r(t);var n=r(53917),i={};for(let e in n)"default"!==e&&(i[e]=()=>n[e]);r.d(t,i)},35503:(e,t,r)=>{"use strict";r.r(t),r.d(t,{RandomIdGenerator:()=>o});var n=8,i=16,o=function(){return function(){this.generateTraceId=a(i),this.generateSpanId=a(n)}}(),s=Buffer.allocUnsafe(i);function a(e){return function(){for(var t=0;t<e/4;t++)s.writeUInt32BE(4294967296*Math.random()>>>0,4*t);for(var t=0;t<e&&!(s[t]>0);t++)t===e-1&&(s[e-1]=1);return s.toString("hex",0,e)}}},35033:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BatchSpanProcessor:()=>o});var n=r(1592),i=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onShutdown=function(){},t}(n.BatchSpanProcessorBase)},53917:(e,t,r)=>{"use strict";r.r(t);var n=r(35033),i={};for(let e in n)"default"!==e&&(i[e]=()=>n[e]);r.d(t,i);var o=r(35503),i={};for(let e in o)"default"!==e&&(i[e]=()=>o[e]);r.d(t,i)},94942:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AlwaysOffSampler:()=>i});var n=r(92943),i=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:n.SamplingDecision.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}()},52339:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AlwaysOnSampler:()=>i});var n=r(92943),i=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:n.SamplingDecision.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}()},68246:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ParentBasedSampler:()=>a});var n=r(38626),i=r(4544),o=r(94942),s=r(52339),a=function(){function e(e){var t,r,n,a;this._root=e.root,this._root||((0,i.globalErrorHandler)(Error("ParentBasedSampler must have a root sampler configured")),this._root=new s.AlwaysOnSampler),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new s.AlwaysOnSampler,this._remoteParentNotSampled=null!==(r=e.remoteParentNotSampled)&&void 0!==r?r:new o.AlwaysOffSampler,this._localParentSampled=null!==(n=e.localParentSampled)&&void 0!==n?n:new s.AlwaysOnSampler,this._localParentNotSampled=null!==(a=e.localParentNotSampled)&&void 0!==a?a:new o.AlwaysOffSampler}return e.prototype.shouldSample=function(e,t,r,i,o,s){var a=n.trace.getSpanContext(e);return a&&(0,n.isSpanContextValid)(a)?a.isRemote?a.traceFlags&n.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,r,i,o,s):this._remoteParentNotSampled.shouldSample(e,t,r,i,o,s):a.traceFlags&n.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,r,i,o,s):this._localParentNotSampled.shouldSample(e,t,r,i,o,s):this._root.shouldSample(e,t,r,i,o,s)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}()},71125:(e,t,r)=>{"use strict";r.r(t),r.d(t,{TraceIdRatioBasedSampler:()=>o});var n=r(38626),i=r(92943),o=function(){function e(e){void 0===e&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}return e.prototype.shouldSample=function(e,t){return{decision:(0,n.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?i.SamplingDecision.RECORD_AND_SAMPLED:i.SamplingDecision.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e},e.prototype._accumulate=function(e){for(var t=0,r=0;r<e.length/8;r++){var n=8*r;t=(t^parseInt(e.slice(n,n+8),16))>>>0}return t},e}()},89901:(e,t,r)=>{"use strict";r.r(t)},55016:(e,t,r)=>{"use strict";r.d(t,{mergeConfig:()=>o,reconfigureLimits:()=>s});var n=r(83086),i=r(4544);function o(e){var t={sampler:(0,n.buildSamplerFromEnv)()},r=(0,n.loadDefaultConfig)(),i=Object.assign({},r,t,e);return i.generalLimits=Object.assign({},r.generalLimits,e.generalLimits||{}),i.spanLimits=Object.assign({},r.spanLimits,e.spanLimits||{}),i}function s(e){var t,r,n,o,s,a,l,u,c,d,h,p,f=Object.assign({},e.spanLimits),m=(0,i.getEnvWithoutDefaults)();return f.attributeCountLimit=null!==(a=null!==(s=null!==(o=null!==(r=null===(t=e.spanLimits)||void 0===t?void 0:t.attributeCountLimit)&&void 0!==r?r:null===(n=e.generalLimits)||void 0===n?void 0:n.attributeCountLimit)&&void 0!==o?o:m.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)&&void 0!==s?s:m.OTEL_ATTRIBUTE_COUNT_LIMIT)&&void 0!==a?a:i.DEFAULT_ATTRIBUTE_COUNT_LIMIT,f.attributeValueLengthLimit=null!==(p=null!==(h=null!==(d=null!==(u=null===(l=e.spanLimits)||void 0===l?void 0:l.attributeValueLengthLimit)&&void 0!==u?u:null===(c=e.generalLimits)||void 0===c?void 0:c.attributeValueLengthLimit)&&void 0!==d?d:m.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==h?h:m.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==p?p:i.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,Object.assign({},e,{spanLimits:f})}},13274:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeTracerProvider=void 0;let n=r(81789),i=r(54235),o=r(19733),s=r(17140),a=r(87891);class l extends o.BasicTracerProvider{constructor(e={}){super(e)}register(e={}){if(void 0===e.contextManager){let t=s.gte(process.version,"14.8.0")?n.AsyncLocalStorageContextManager:n.AsyncHooksContextManager;e.contextManager=new t,e.contextManager.enable()}super.register(e)}}t.NodeTracerProvider=l,l._registeredPropagators=new Map([...o.BasicTracerProvider._registeredPropagators,["b3",()=>new i.B3Propagator({injectEncoding:i.B3InjectEncoding.SINGLE_HEADER})],["b3multi",()=>new i.B3Propagator({injectEncoding:i.B3InjectEncoding.MULTI_HEADER})],["jaeger",()=>new a.JaegerPropagator]])},71711:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(13274),t),i(r(19733),t)},67028:(e,t,r)=>{"use strict";r.r(t);var n=r(43122),i={};for(let e in n)"default"!==e&&(i[e]=()=>n[e]);r.d(t,i);var o=r(68452),i={};for(let e in o)"default"!==e&&(i[e]=()=>o[e]);r.d(t,i)},99782:(e,t,r)=>{"use strict";function n(e){for(var t={},r=e.length,n=0;n<r;n++){var i=e[n];i&&(t[String(i).toUpperCase().replace(/[-.]/g,"_")]=i)}return t}r.d(t,{createConstMap:()=>n})},26413:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AWSECSLAUNCHTYPEVALUES_EC2:()=>rD,AWSECSLAUNCHTYPEVALUES_FARGATE:()=>rP,AwsEcsLaunchtypeValues:()=>rN,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS:()=>rd,CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC:()=>rh,CLOUDPLATFORMVALUES_AWS_EC2:()=>rp,CLOUDPLATFORMVALUES_AWS_ECS:()=>rf,CLOUDPLATFORMVALUES_AWS_EKS:()=>rm,CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK:()=>ry,CLOUDPLATFORMVALUES_AWS_LAMBDA:()=>rg,CLOUDPLATFORMVALUES_AZURE_AKS:()=>rE,CLOUDPLATFORMVALUES_AZURE_APP_SERVICE:()=>r_,CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES:()=>rb,CLOUDPLATFORMVALUES_AZURE_FUNCTIONS:()=>rS,CLOUDPLATFORMVALUES_AZURE_VM:()=>rv,CLOUDPLATFORMVALUES_GCP_APP_ENGINE:()=>rO,CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS:()=>rw,CLOUDPLATFORMVALUES_GCP_CLOUD_RUN:()=>rA,CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE:()=>rT,CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE:()=>rC,CLOUDPROVIDERVALUES_ALIBABA_CLOUD:()=>tX,CLOUDPROVIDERVALUES_AWS:()=>t0,CLOUDPROVIDERVALUES_AZURE:()=>t1,CLOUDPROVIDERVALUES_GCP:()=>t2,CloudPlatformValues:()=>rR,CloudProviderValues:()=>t3,HOSTARCHVALUES_AMD64:()=>rV,HOSTARCHVALUES_ARM32:()=>rz,HOSTARCHVALUES_ARM64:()=>rG,HOSTARCHVALUES_IA64:()=>r$,HOSTARCHVALUES_PPC32:()=>rH,HOSTARCHVALUES_PPC64:()=>rq,HOSTARCHVALUES_X86:()=>rW,HostArchValues:()=>rK,OSTYPEVALUES_AIX:()=>ni,OSTYPEVALUES_DARWIN:()=>r7,OSTYPEVALUES_DRAGONFLYBSD:()=>nr,OSTYPEVALUES_FREEBSD:()=>r9,OSTYPEVALUES_HPUX:()=>nn,OSTYPEVALUES_LINUX:()=>r8,OSTYPEVALUES_NETBSD:()=>ne,OSTYPEVALUES_OPENBSD:()=>nt,OSTYPEVALUES_SOLARIS:()=>no,OSTYPEVALUES_WINDOWS:()=>r5,OSTYPEVALUES_Z_OS:()=>ns,OsTypeValues:()=>na,SEMRESATTRS_AWS_ECS_CLUSTER_ARN:()=>eB,SEMRESATTRS_AWS_ECS_CONTAINER_ARN:()=>eL,SEMRESATTRS_AWS_ECS_LAUNCHTYPE:()=>ej,SEMRESATTRS_AWS_ECS_TASK_ARN:()=>eF,SEMRESATTRS_AWS_ECS_TASK_FAMILY:()=>eU,SEMRESATTRS_AWS_ECS_TASK_REVISION:()=>eV,SEMRESATTRS_AWS_EKS_CLUSTER_ARN:()=>ez,SEMRESATTRS_AWS_LOG_GROUP_ARNS:()=>e$,SEMRESATTRS_AWS_LOG_GROUP_NAMES:()=>eG,SEMRESATTRS_AWS_LOG_STREAM_ARNS:()=>eq,SEMRESATTRS_AWS_LOG_STREAM_NAMES:()=>eH,SEMRESATTRS_CLOUD_ACCOUNT_ID:()=>eP,SEMRESATTRS_CLOUD_AVAILABILITY_ZONE:()=>ek,SEMRESATTRS_CLOUD_PLATFORM:()=>eM,SEMRESATTRS_CLOUD_PROVIDER:()=>eD,SEMRESATTRS_CLOUD_REGION:()=>eN,SEMRESATTRS_CONTAINER_ID:()=>eK,SEMRESATTRS_CONTAINER_IMAGE_NAME:()=>eZ,SEMRESATTRS_CONTAINER_IMAGE_TAG:()=>eJ,SEMRESATTRS_CONTAINER_NAME:()=>eW,SEMRESATTRS_CONTAINER_RUNTIME:()=>eY,SEMRESATTRS_DEPLOYMENT_ENVIRONMENT:()=>eQ,SEMRESATTRS_DEVICE_ID:()=>eX,SEMRESATTRS_DEVICE_MODEL_IDENTIFIER:()=>e0,SEMRESATTRS_DEVICE_MODEL_NAME:()=>e1,SEMRESATTRS_FAAS_ID:()=>e3,SEMRESATTRS_FAAS_INSTANCE:()=>e4,SEMRESATTRS_FAAS_MAX_MEMORY:()=>e5,SEMRESATTRS_FAAS_NAME:()=>e2,SEMRESATTRS_FAAS_VERSION:()=>e6,SEMRESATTRS_HOST_ARCH:()=>te,SEMRESATTRS_HOST_ID:()=>e8,SEMRESATTRS_HOST_IMAGE_ID:()=>tr,SEMRESATTRS_HOST_IMAGE_NAME:()=>tt,SEMRESATTRS_HOST_IMAGE_VERSION:()=>tn,SEMRESATTRS_HOST_NAME:()=>e7,SEMRESATTRS_HOST_TYPE:()=>e9,SEMRESATTRS_K8S_CLUSTER_NAME:()=>ti,SEMRESATTRS_K8S_CONTAINER_NAME:()=>tc,SEMRESATTRS_K8S_CRONJOB_NAME:()=>t_,SEMRESATTRS_K8S_CRONJOB_UID:()=>tS,SEMRESATTRS_K8S_DAEMONSET_NAME:()=>tv,SEMRESATTRS_K8S_DAEMONSET_UID:()=>ty,SEMRESATTRS_K8S_DEPLOYMENT_NAME:()=>tf,SEMRESATTRS_K8S_DEPLOYMENT_UID:()=>tp,SEMRESATTRS_K8S_JOB_NAME:()=>tE,SEMRESATTRS_K8S_JOB_UID:()=>tb,SEMRESATTRS_K8S_NAMESPACE_NAME:()=>ta,SEMRESATTRS_K8S_NODE_NAME:()=>to,SEMRESATTRS_K8S_NODE_UID:()=>ts,SEMRESATTRS_K8S_POD_NAME:()=>tu,SEMRESATTRS_K8S_POD_UID:()=>tl,SEMRESATTRS_K8S_REPLICASET_NAME:()=>th,SEMRESATTRS_K8S_REPLICASET_UID:()=>td,SEMRESATTRS_K8S_STATEFULSET_NAME:()=>tg,SEMRESATTRS_K8S_STATEFULSET_UID:()=>tm,SEMRESATTRS_OS_DESCRIPTION:()=>tA,SEMRESATTRS_OS_NAME:()=>tC,SEMRESATTRS_OS_TYPE:()=>tT,SEMRESATTRS_OS_VERSION:()=>tw,SEMRESATTRS_PROCESS_COMMAND:()=>tI,SEMRESATTRS_PROCESS_COMMAND_ARGS:()=>tP,SEMRESATTRS_PROCESS_COMMAND_LINE:()=>tD,SEMRESATTRS_PROCESS_EXECUTABLE_NAME:()=>tR,SEMRESATTRS_PROCESS_EXECUTABLE_PATH:()=>tx,SEMRESATTRS_PROCESS_OWNER:()=>tN,SEMRESATTRS_PROCESS_PID:()=>tO,SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION:()=>tL,SEMRESATTRS_PROCESS_RUNTIME_NAME:()=>tk,SEMRESATTRS_PROCESS_RUNTIME_VERSION:()=>tM,SEMRESATTRS_SERVICE_INSTANCE_ID:()=>tF,SEMRESATTRS_SERVICE_NAME:()=>tB,SEMRESATTRS_SERVICE_NAMESPACE:()=>tj,SEMRESATTRS_SERVICE_VERSION:()=>tU,SEMRESATTRS_TELEMETRY_AUTO_VERSION:()=>t$,SEMRESATTRS_TELEMETRY_SDK_LANGUAGE:()=>tz,SEMRESATTRS_TELEMETRY_SDK_NAME:()=>tV,SEMRESATTRS_TELEMETRY_SDK_VERSION:()=>tG,SEMRESATTRS_WEBENGINE_DESCRIPTION:()=>tW,SEMRESATTRS_WEBENGINE_NAME:()=>tH,SEMRESATTRS_WEBENGINE_VERSION:()=>tq,SemanticResourceAttributes:()=>tK,TELEMETRYSDKLANGUAGEVALUES_CPP:()=>nv,TELEMETRYSDKLANGUAGEVALUES_DOTNET:()=>nb,TELEMETRYSDKLANGUAGEVALUES_ERLANG:()=>nE,TELEMETRYSDKLANGUAGEVALUES_GO:()=>nS,TELEMETRYSDKLANGUAGEVALUES_JAVA:()=>n_,TELEMETRYSDKLANGUAGEVALUES_NODEJS:()=>nT,TELEMETRYSDKLANGUAGEVALUES_PHP:()=>nA,TELEMETRYSDKLANGUAGEVALUES_PYTHON:()=>nC,TELEMETRYSDKLANGUAGEVALUES_RUBY:()=>nw,TELEMETRYSDKLANGUAGEVALUES_WEBJS:()=>nO,TelemetrySdkLanguageValues:()=>nR});var n=r(99782),i="cloud.provider",o="cloud.account.id",s="cloud.region",a="cloud.availability_zone",l="cloud.platform",u="aws.ecs.container.arn",c="aws.ecs.cluster.arn",d="aws.ecs.launchtype",h="aws.ecs.task.arn",p="aws.ecs.task.family",f="aws.ecs.task.revision",m="aws.eks.cluster.arn",g="aws.log.group.names",y="aws.log.group.arns",v="aws.log.stream.names",b="aws.log.stream.arns",E="container.name",S="container.id",_="container.runtime",T="container.image.name",A="container.image.tag",C="deployment.environment",w="device.id",O="device.model.identifier",R="device.model.name",x="faas.name",I="faas.id",D="faas.version",P="faas.instance",N="faas.max_memory",k="host.id",M="host.name",L="host.type",B="host.arch",j="host.image.name",F="host.image.id",U="host.image.version",V="k8s.cluster.name",z="k8s.node.name",G="k8s.node.uid",$="k8s.namespace.name",H="k8s.pod.uid",q="k8s.pod.name",W="k8s.container.name",K="k8s.replicaset.uid",Y="k8s.replicaset.name",Z="k8s.deployment.uid",J="k8s.deployment.name",Q="k8s.statefulset.uid",X="k8s.statefulset.name",ee="k8s.daemonset.uid",et="k8s.daemonset.name",er="k8s.job.uid",en="k8s.job.name",ei="k8s.cronjob.uid",eo="k8s.cronjob.name",es="os.type",ea="os.description",el="os.name",eu="os.version",ec="process.pid",ed="process.executable.name",eh="process.executable.path",ep="process.command",ef="process.command_line",em="process.command_args",eg="process.owner",ey="process.runtime.name",ev="process.runtime.version",eb="process.runtime.description",eE="service.name",eS="service.namespace",e_="service.instance.id",eT="service.version",eA="telemetry.sdk.name",eC="telemetry.sdk.language",ew="telemetry.sdk.version",eO="telemetry.auto.version",eR="webengine.name",ex="webengine.version",eI="webengine.description",eD=i,eP=o,eN=s,ek=a,eM=l,eL=u,eB=c,ej=d,eF=h,eU=p,eV=f,ez=m,eG=g,e$=y,eH=v,eq=b,eW=E,eK=S,eY=_,eZ=T,eJ=A,eQ=C,eX=w,e0=O,e1=R,e2=x,e3=I,e6=D,e4=P,e5=N,e8=k,e7=M,e9=L,te=B,tt=j,tr=F,tn=U,ti=V,to=z,ts=G,ta=$,tl=H,tu=q,tc=W,td=K,th=Y,tp=Z,tf=J,tm=Q,tg=X,ty=ee,tv=et,tb=er,tE=en,tS=ei,t_=eo,tT=es,tA=ea,tC=el,tw=eu,tO=ec,tR=ed,tx=eh,tI=ep,tD=ef,tP=em,tN=eg,tk=ey,tM=ev,tL=eb,tB=eE,tj=eS,tF=e_,tU=eT,tV=eA,tz=eC,tG=ew,t$=eO,tH=eR,tq=ex,tW=eI,tK=(0,n.createConstMap)([i,o,s,a,l,u,c,d,h,p,f,m,g,y,v,b,E,S,_,T,A,C,w,O,R,x,I,D,P,N,k,M,L,B,j,F,U,V,z,G,$,H,q,W,K,Y,Z,J,Q,X,ee,et,er,en,ei,eo,es,ea,el,eu,ec,ed,eh,ep,ef,em,eg,ey,ev,eb,eE,eS,e_,eT,eA,eC,ew,eO,eR,ex,eI]),tY="alibaba_cloud",tZ="aws",tJ="azure",tQ="gcp",tX=tY,t0=tZ,t1=tJ,t2=tQ,t3=(0,n.createConstMap)([tY,tZ,tJ,tQ]),t6="alibaba_cloud_ecs",t4="alibaba_cloud_fc",t5="aws_ec2",t8="aws_ecs",t7="aws_eks",t9="aws_lambda",re="aws_elastic_beanstalk",rt="azure_vm",rr="azure_container_instances",rn="azure_aks",ri="azure_functions",ro="azure_app_service",rs="gcp_compute_engine",ra="gcp_cloud_run",rl="gcp_kubernetes_engine",ru="gcp_cloud_functions",rc="gcp_app_engine",rd=t6,rh=t4,rp=t5,rf=t8,rm=t7,rg=t9,ry=re,rv=rt,rb=rr,rE=rn,rS=ri,r_=ro,rT=rs,rA=ra,rC=rl,rw=ru,rO=rc,rR=(0,n.createConstMap)([t6,t4,t5,t8,t7,t9,re,rt,rr,rn,ri,ro,rs,ra,rl,ru,rc]),rx="ec2",rI="fargate",rD=rx,rP=rI,rN=(0,n.createConstMap)([rx,rI]),rk="amd64",rM="arm32",rL="arm64",rB="ia64",rj="ppc32",rF="ppc64",rU="x86",rV=rk,rz=rM,rG=rL,r$=rB,rH=rj,rq=rF,rW=rU,rK=(0,n.createConstMap)([rk,rM,rL,rB,rj,rF,rU]),rY="windows",rZ="linux",rJ="darwin",rQ="freebsd",rX="netbsd",r0="openbsd",r1="dragonflybsd",r2="hpux",r3="aix",r6="solaris",r4="z_os",r5=rY,r8=rZ,r7=rJ,r9=rQ,ne=rX,nt=r0,nr=r1,nn=r2,ni=r3,no=r6,ns=r4,na=(0,n.createConstMap)([rY,rZ,rJ,rQ,rX,r0,r1,r2,r3,r6,r4]),nl="cpp",nu="dotnet",nc="erlang",nd="go",nh="java",np="nodejs",nf="php",nm="python",ng="ruby",ny="webjs",nv=nl,nb=nu,nE=nc,nS=nd,n_=nh,nT=np,nA=nf,nC=nm,nw=ng,nO=ny,nR=(0,n.createConstMap)([nl,nu,nc,nd,nh,np,nf,nm,ng,ny])},68452:(e,t,r)=>{"use strict";r.r(t);var n=r(26413),i={};for(let e in n)"default"!==e&&(i[e]=()=>n[e]);r.d(t,i)},2078:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DBCASSANDRACONSISTENCYLEVELVALUES_ALL:()=>i4,DBCASSANDRACONSISTENCYLEVELVALUES_ANY:()=>on,DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM:()=>i5,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE:()=>or,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM:()=>i7,DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL:()=>oo,DBCASSANDRACONSISTENCYLEVELVALUES_ONE:()=>i9,DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM:()=>i8,DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL:()=>oi,DBCASSANDRACONSISTENCYLEVELVALUES_THREE:()=>ot,DBCASSANDRACONSISTENCYLEVELVALUES_TWO:()=>oe,DBSYSTEMVALUES_ADABAS:()=>iy,DBSYSTEMVALUES_CACHE:()=>ig,DBSYSTEMVALUES_CASSANDRA:()=>ik,DBSYSTEMVALUES_CLOUDSCAPE:()=>ia,DBSYSTEMVALUES_COCKROACHDB:()=>iq,DBSYSTEMVALUES_COLDFUSION:()=>iN,DBSYSTEMVALUES_COSMOSDB:()=>iU,DBSYSTEMVALUES_COUCHBASE:()=>ij,DBSYSTEMVALUES_COUCHDB:()=>iF,DBSYSTEMVALUES_DB2:()=>ir,DBSYSTEMVALUES_DERBY:()=>ib,DBSYSTEMVALUES_DYNAMODB:()=>iV,DBSYSTEMVALUES_EDB:()=>im,DBSYSTEMVALUES_ELASTICSEARCH:()=>i$,DBSYSTEMVALUES_FILEMAKER:()=>iE,DBSYSTEMVALUES_FIREBIRD:()=>iv,DBSYSTEMVALUES_FIRSTSQL:()=>ip,DBSYSTEMVALUES_GEODE:()=>iG,DBSYSTEMVALUES_H2:()=>iP,DBSYSTEMVALUES_HANADB:()=>id,DBSYSTEMVALUES_HBASE:()=>iM,DBSYSTEMVALUES_HIVE:()=>is,DBSYSTEMVALUES_HSQLDB:()=>il,DBSYSTEMVALUES_INFORMIX:()=>iS,DBSYSTEMVALUES_INGRES:()=>ih,DBSYSTEMVALUES_INSTANTDB:()=>i_,DBSYSTEMVALUES_INTERBASE:()=>iT,DBSYSTEMVALUES_MARIADB:()=>iA,DBSYSTEMVALUES_MAXDB:()=>ic,DBSYSTEMVALUES_MEMCACHED:()=>iH,DBSYSTEMVALUES_MONGODB:()=>iL,DBSYSTEMVALUES_MSSQL:()=>n9,DBSYSTEMVALUES_MYSQL:()=>ie,DBSYSTEMVALUES_NEO4J:()=>iz,DBSYSTEMVALUES_NETEZZA:()=>iC,DBSYSTEMVALUES_ORACLE:()=>it,DBSYSTEMVALUES_OTHER_SQL:()=>n7,DBSYSTEMVALUES_PERVASIVE:()=>iw,DBSYSTEMVALUES_POINTBASE:()=>iO,DBSYSTEMVALUES_POSTGRESQL:()=>ii,DBSYSTEMVALUES_PROGRESS:()=>iu,DBSYSTEMVALUES_REDIS:()=>iB,DBSYSTEMVALUES_REDSHIFT:()=>io,DBSYSTEMVALUES_SQLITE:()=>iR,DBSYSTEMVALUES_SYBASE:()=>ix,DBSYSTEMVALUES_TERADATA:()=>iI,DBSYSTEMVALUES_VERTICA:()=>iD,DbCassandraConsistencyLevelValues:()=>os,DbSystemValues:()=>iW,FAASDOCUMENTOPERATIONVALUES_DELETE:()=>oT,FAASDOCUMENTOPERATIONVALUES_EDIT:()=>o_,FAASDOCUMENTOPERATIONVALUES_INSERT:()=>oS,FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD:()=>ox,FAASINVOKEDPROVIDERVALUES_AWS:()=>oI,FAASINVOKEDPROVIDERVALUES_AZURE:()=>oD,FAASINVOKEDPROVIDERVALUES_GCP:()=>oP,FAASTRIGGERVALUES_DATASOURCE:()=>oh,FAASTRIGGERVALUES_HTTP:()=>op,FAASTRIGGERVALUES_OTHER:()=>og,FAASTRIGGERVALUES_PUBSUB:()=>of,FAASTRIGGERVALUES_TIMER:()=>om,FaasDocumentOperationValues:()=>oA,FaasInvokedProviderValues:()=>oN,FaasTriggerValues:()=>oy,HTTPFLAVORVALUES_HTTP_1_0:()=>s$,HTTPFLAVORVALUES_HTTP_1_1:()=>sH,HTTPFLAVORVALUES_HTTP_2_0:()=>sq,HTTPFLAVORVALUES_QUIC:()=>sK,HTTPFLAVORVALUES_SPDY:()=>sW,HttpFlavorValues:()=>sY,MESSAGETYPEVALUES_RECEIVED:()=>ay,MESSAGETYPEVALUES_SENT:()=>ag,MESSAGINGDESTINATIONKINDVALUES_QUEUE:()=>sQ,MESSAGINGDESTINATIONKINDVALUES_TOPIC:()=>sX,MESSAGINGOPERATIONVALUES_PROCESS:()=>s6,MESSAGINGOPERATIONVALUES_RECEIVE:()=>s3,MessageTypeValues:()=>av,MessagingDestinationKindValues:()=>s0,MessagingOperationValues:()=>s4,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA:()=>sE,NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT:()=>sT,NETHOSTCONNECTIONSUBTYPEVALUES_EDGE:()=>sv,NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD:()=>sI,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0:()=>sS,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A:()=>s_,NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B:()=>sR,NETHOSTCONNECTIONSUBTYPEVALUES_GPRS:()=>sy,NETHOSTCONNECTIONSUBTYPEVALUES_GSM:()=>sP,NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA:()=>sA,NETHOSTCONNECTIONSUBTYPEVALUES_HSPA:()=>sw,NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP:()=>sD,NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA:()=>sC,NETHOSTCONNECTIONSUBTYPEVALUES_IDEN:()=>sO,NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN:()=>sk,NETHOSTCONNECTIONSUBTYPEVALUES_LTE:()=>sx,NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA:()=>sB,NETHOSTCONNECTIONSUBTYPEVALUES_NR:()=>sM,NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA:()=>sL,NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA:()=>sN,NETHOSTCONNECTIONSUBTYPEVALUES_UMTS:()=>sb,NETHOSTCONNECTIONTYPEVALUES_CELL:()=>o2,NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE:()=>o3,NETHOSTCONNECTIONTYPEVALUES_UNKNOWN:()=>o6,NETHOSTCONNECTIONTYPEVALUES_WIFI:()=>o0,NETHOSTCONNECTIONTYPEVALUES_WIRED:()=>o1,NETTRANSPORTVALUES_INPROC:()=>oq,NETTRANSPORTVALUES_IP:()=>oG,NETTRANSPORTVALUES_IP_TCP:()=>oV,NETTRANSPORTVALUES_IP_UDP:()=>oz,NETTRANSPORTVALUES_OTHER:()=>oW,NETTRANSPORTVALUES_PIPE:()=>oH,NETTRANSPORTVALUES_UNIX:()=>o$,NetHostConnectionSubtypeValues:()=>sj,NetHostConnectionTypeValues:()=>o4,NetTransportValues:()=>oK,RPCGRPCSTATUSCODEVALUES_ABORTED:()=>as,RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS:()=>ar,RPCGRPCSTATUSCODEVALUES_CANCELLED:()=>s8,RPCGRPCSTATUSCODEVALUES_DATA_LOSS:()=>ad,RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED:()=>ae,RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION:()=>ao,RPCGRPCSTATUSCODEVALUES_INTERNAL:()=>au,RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT:()=>s9,RPCGRPCSTATUSCODEVALUES_NOT_FOUND:()=>at,RPCGRPCSTATUSCODEVALUES_OK:()=>s5,RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE:()=>aa,RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED:()=>an,RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED:()=>ai,RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED:()=>ah,RPCGRPCSTATUSCODEVALUES_UNAVAILABLE:()=>ac,RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED:()=>al,RPCGRPCSTATUSCODEVALUES_UNKNOWN:()=>s7,RpcGrpcStatusCodeValues:()=>ap,SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET:()=>rN,SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:()=>rH,SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ:()=>rI,SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY:()=>rw,SEMATTRS_AWS_DYNAMODB_COUNT:()=>rG,SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE:()=>rj,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:()=>rL,SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:()=>rq,SEMATTRS_AWS_DYNAMODB_INDEX_NAME:()=>rk,SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS:()=>rO,SEMATTRS_AWS_DYNAMODB_LIMIT:()=>rP,SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:()=>rB,SEMATTRS_AWS_DYNAMODB_PROJECTION:()=>rD,SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:()=>rR,SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:()=>rx,SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT:()=>r$,SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD:()=>rU,SEMATTRS_AWS_DYNAMODB_SEGMENT:()=>rV,SEMATTRS_AWS_DYNAMODB_SELECT:()=>rM,SEMATTRS_AWS_DYNAMODB_TABLE_COUNT:()=>rF,SEMATTRS_AWS_DYNAMODB_TABLE_NAMES:()=>rC,SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS:()=>rz,SEMATTRS_AWS_LAMBDA_INVOKED_ARN:()=>tf,SEMATTRS_CODE_FILEPATH:()=>rl,SEMATTRS_CODE_FUNCTION:()=>rs,SEMATTRS_CODE_LINENO:()=>ru,SEMATTRS_CODE_NAMESPACE:()=>ra,SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL:()=>tC,SEMATTRS_DB_CASSANDRA_COORDINATOR_DC:()=>tI,SEMATTRS_DB_CASSANDRA_COORDINATOR_ID:()=>tx,SEMATTRS_DB_CASSANDRA_IDEMPOTENCE:()=>tO,SEMATTRS_DB_CASSANDRA_KEYSPACE:()=>tT,SEMATTRS_DB_CASSANDRA_PAGE_SIZE:()=>tA,SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:()=>tR,SEMATTRS_DB_CASSANDRA_TABLE:()=>tw,SEMATTRS_DB_CONNECTION_STRING:()=>tg,SEMATTRS_DB_HBASE_NAMESPACE:()=>tD,SEMATTRS_DB_JDBC_DRIVER_CLASSNAME:()=>tv,SEMATTRS_DB_MONGODB_COLLECTION:()=>tN,SEMATTRS_DB_MSSQL_INSTANCE_NAME:()=>t_,SEMATTRS_DB_NAME:()=>tb,SEMATTRS_DB_OPERATION:()=>tS,SEMATTRS_DB_REDIS_DATABASE_INDEX:()=>tP,SEMATTRS_DB_SQL_TABLE:()=>tk,SEMATTRS_DB_STATEMENT:()=>tE,SEMATTRS_DB_SYSTEM:()=>tm,SEMATTRS_DB_USER:()=>ty,SEMATTRS_ENDUSER_ID:()=>rt,SEMATTRS_ENDUSER_ROLE:()=>rr,SEMATTRS_ENDUSER_SCOPE:()=>rn,SEMATTRS_EXCEPTION_ESCAPED:()=>tj,SEMATTRS_EXCEPTION_MESSAGE:()=>tL,SEMATTRS_EXCEPTION_STACKTRACE:()=>tB,SEMATTRS_EXCEPTION_TYPE:()=>tM,SEMATTRS_FAAS_COLDSTART:()=>tW,SEMATTRS_FAAS_CRON:()=>tq,SEMATTRS_FAAS_DOCUMENT_COLLECTION:()=>tV,SEMATTRS_FAAS_DOCUMENT_NAME:()=>t$,SEMATTRS_FAAS_DOCUMENT_OPERATION:()=>tz,SEMATTRS_FAAS_DOCUMENT_TIME:()=>tG,SEMATTRS_FAAS_EXECUTION:()=>tU,SEMATTRS_FAAS_INVOKED_NAME:()=>tK,SEMATTRS_FAAS_INVOKED_PROVIDER:()=>tY,SEMATTRS_FAAS_INVOKED_REGION:()=>tZ,SEMATTRS_FAAS_TIME:()=>tH,SEMATTRS_FAAS_TRIGGER:()=>tF,SEMATTRS_HTTP_CLIENT_IP:()=>rA,SEMATTRS_HTTP_FLAVOR:()=>rg,SEMATTRS_HTTP_HOST:()=>rp,SEMATTRS_HTTP_METHOD:()=>rc,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH:()=>rv,SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:()=>rb,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH:()=>rE,SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:()=>rS,SEMATTRS_HTTP_ROUTE:()=>rT,SEMATTRS_HTTP_SCHEME:()=>rf,SEMATTRS_HTTP_SERVER_NAME:()=>r_,SEMATTRS_HTTP_STATUS_CODE:()=>rm,SEMATTRS_HTTP_TARGET:()=>rh,SEMATTRS_HTTP_URL:()=>rd,SEMATTRS_HTTP_USER_AGENT:()=>ry,SEMATTRS_MESSAGE_COMPRESSED_SIZE:()=>nh,SEMATTRS_MESSAGE_ID:()=>nd,SEMATTRS_MESSAGE_TYPE:()=>nc,SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE:()=>np,SEMATTRS_MESSAGING_CONSUMER_ID:()=>r4,SEMATTRS_MESSAGING_CONVERSATION_ID:()=>r1,SEMATTRS_MESSAGING_DESTINATION:()=>rK,SEMATTRS_MESSAGING_DESTINATION_KIND:()=>rY,SEMATTRS_MESSAGING_KAFKA_CLIENT_ID:()=>r9,SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP:()=>r7,SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY:()=>r8,SEMATTRS_MESSAGING_KAFKA_PARTITION:()=>ne,SEMATTRS_MESSAGING_KAFKA_TOMBSTONE:()=>nt,SEMATTRS_MESSAGING_MESSAGE_ID:()=>r0,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:()=>r3,SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:()=>r2,SEMATTRS_MESSAGING_OPERATION:()=>r6,SEMATTRS_MESSAGING_PROTOCOL:()=>rJ,SEMATTRS_MESSAGING_PROTOCOL_VERSION:()=>rQ,SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY:()=>r5,SEMATTRS_MESSAGING_SYSTEM:()=>rW,SEMATTRS_MESSAGING_TEMP_DESTINATION:()=>rZ,SEMATTRS_MESSAGING_URL:()=>rX,SEMATTRS_NET_HOST_CARRIER_ICC:()=>t9,SEMATTRS_NET_HOST_CARRIER_MCC:()=>t8,SEMATTRS_NET_HOST_CARRIER_MNC:()=>t7,SEMATTRS_NET_HOST_CARRIER_NAME:()=>t5,SEMATTRS_NET_HOST_CONNECTION_SUBTYPE:()=>t4,SEMATTRS_NET_HOST_CONNECTION_TYPE:()=>t6,SEMATTRS_NET_HOST_IP:()=>t1,SEMATTRS_NET_HOST_NAME:()=>t3,SEMATTRS_NET_HOST_PORT:()=>t2,SEMATTRS_NET_PEER_IP:()=>tQ,SEMATTRS_NET_PEER_NAME:()=>t0,SEMATTRS_NET_PEER_PORT:()=>tX,SEMATTRS_NET_TRANSPORT:()=>tJ,SEMATTRS_PEER_SERVICE:()=>re,SEMATTRS_RPC_GRPC_STATUS_CODE:()=>no,SEMATTRS_RPC_JSONRPC_ERROR_CODE:()=>nl,SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE:()=>nu,SEMATTRS_RPC_JSONRPC_REQUEST_ID:()=>na,SEMATTRS_RPC_JSONRPC_VERSION:()=>ns,SEMATTRS_RPC_METHOD:()=>ni,SEMATTRS_RPC_SERVICE:()=>nn,SEMATTRS_RPC_SYSTEM:()=>nr,SEMATTRS_THREAD_ID:()=>ri,SEMATTRS_THREAD_NAME:()=>ro,SemanticAttributes:()=>nf});var n=r(99782),i="aws.lambda.invoked_arn",o="db.system",s="db.connection_string",a="db.user",l="db.jdbc.driver_classname",u="db.name",c="db.statement",d="db.operation",h="db.mssql.instance_name",p="db.cassandra.keyspace",f="db.cassandra.page_size",m="db.cassandra.consistency_level",g="db.cassandra.table",y="db.cassandra.idempotence",v="db.cassandra.speculative_execution_count",b="db.cassandra.coordinator.id",E="db.cassandra.coordinator.dc",S="db.hbase.namespace",_="db.redis.database_index",T="db.mongodb.collection",A="db.sql.table",C="exception.type",w="exception.message",O="exception.stacktrace",R="exception.escaped",x="faas.trigger",I="faas.execution",D="faas.document.collection",P="faas.document.operation",N="faas.document.time",k="faas.document.name",M="faas.time",L="faas.cron",B="faas.coldstart",j="faas.invoked_name",F="faas.invoked_provider",U="faas.invoked_region",V="net.transport",z="net.peer.ip",G="net.peer.port",$="net.peer.name",H="net.host.ip",q="net.host.port",W="net.host.name",K="net.host.connection.type",Y="net.host.connection.subtype",Z="net.host.carrier.name",J="net.host.carrier.mcc",Q="net.host.carrier.mnc",X="net.host.carrier.icc",ee="peer.service",et="enduser.id",er="enduser.role",en="enduser.scope",ei="thread.id",eo="thread.name",es="code.function",ea="code.namespace",el="code.filepath",eu="code.lineno",ec="http.method",ed="http.url",eh="http.target",ep="http.host",ef="http.scheme",em="http.status_code",eg="http.flavor",ey="http.user_agent",ev="http.request_content_length",eb="http.request_content_length_uncompressed",eE="http.response_content_length",eS="http.response_content_length_uncompressed",e_="http.server_name",eT="http.route",eA="http.client_ip",eC="aws.dynamodb.table_names",ew="aws.dynamodb.consumed_capacity",eO="aws.dynamodb.item_collection_metrics",eR="aws.dynamodb.provisioned_read_capacity",ex="aws.dynamodb.provisioned_write_capacity",eI="aws.dynamodb.consistent_read",eD="aws.dynamodb.projection",eP="aws.dynamodb.limit",eN="aws.dynamodb.attributes_to_get",ek="aws.dynamodb.index_name",eM="aws.dynamodb.select",eL="aws.dynamodb.global_secondary_indexes",eB="aws.dynamodb.local_secondary_indexes",ej="aws.dynamodb.exclusive_start_table",eF="aws.dynamodb.table_count",eU="aws.dynamodb.scan_forward",eV="aws.dynamodb.segment",ez="aws.dynamodb.total_segments",eG="aws.dynamodb.count",e$="aws.dynamodb.scanned_count",eH="aws.dynamodb.attribute_definitions",eq="aws.dynamodb.global_secondary_index_updates",eW="messaging.system",eK="messaging.destination",eY="messaging.destination_kind",eZ="messaging.temp_destination",eJ="messaging.protocol",eQ="messaging.protocol_version",eX="messaging.url",e0="messaging.message_id",e1="messaging.conversation_id",e2="messaging.message_payload_size_bytes",e3="messaging.message_payload_compressed_size_bytes",e6="messaging.operation",e4="messaging.consumer_id",e5="messaging.rabbitmq.routing_key",e8="messaging.kafka.message_key",e7="messaging.kafka.consumer_group",e9="messaging.kafka.client_id",te="messaging.kafka.partition",tt="messaging.kafka.tombstone",tr="rpc.system",tn="rpc.service",ti="rpc.method",to="rpc.grpc.status_code",ts="rpc.jsonrpc.version",ta="rpc.jsonrpc.request_id",tl="rpc.jsonrpc.error_code",tu="rpc.jsonrpc.error_message",tc="message.type",td="message.id",th="message.compressed_size",tp="message.uncompressed_size",tf=i,tm=o,tg=s,ty=a,tv=l,tb=u,tE=c,tS=d,t_=h,tT=p,tA=f,tC=m,tw=g,tO=y,tR=v,tx=b,tI=E,tD=S,tP=_,tN=T,tk=A,tM=C,tL=w,tB=O,tj=R,tF=x,tU=I,tV=D,tz=P,tG=N,t$=k,tH=M,tq=L,tW=B,tK=j,tY=F,tZ=U,tJ=V,tQ=z,tX=G,t0=$,t1=H,t2=q,t3=W,t6=K,t4=Y,t5=Z,t8=J,t7=Q,t9=X,re=ee,rt=et,rr=er,rn=en,ri=ei,ro=eo,rs=es,ra=ea,rl=el,ru=eu,rc=ec,rd=ed,rh=eh,rp=ep,rf=ef,rm=em,rg=eg,ry=ey,rv=ev,rb=eb,rE=eE,rS=eS,r_=e_,rT=eT,rA=eA,rC=eC,rw=ew,rO=eO,rR=eR,rx=ex,rI=eI,rD=eD,rP=eP,rN=eN,rk=ek,rM=eM,rL=eL,rB=eB,rj=ej,rF=eF,rU=eU,rV=eV,rz=ez,rG=eG,r$=e$,rH=eH,rq=eq,rW=eW,rK=eK,rY=eY,rZ=eZ,rJ=eJ,rQ=eQ,rX=eX,r0=e0,r1=e1,r2=e2,r3=e3,r6=e6,r4=e4,r5=e5,r8=e8,r7=e7,r9=e9,ne=te,nt=tt,nr=tr,nn=tn,ni=ti,no=to,ns=ts,na=ta,nl=tl,nu=tu,nc=tc,nd=td,nh=th,np=tp,nf=(0,n.createConstMap)([i,o,s,a,l,u,c,d,h,p,f,m,g,y,v,b,E,S,_,T,A,C,w,O,R,x,I,D,P,N,k,M,L,B,j,F,U,V,z,G,$,H,q,W,K,Y,Z,J,Q,X,ee,et,er,en,ei,eo,es,ea,el,eu,ec,ed,eh,ep,ef,em,eg,ey,ev,eb,eE,eS,e_,eT,eA,eC,ew,eO,eR,ex,eI,eD,eP,eN,ek,eM,eL,eB,ej,eF,eU,eV,ez,eG,e$,eH,eq,eW,eK,eY,eZ,eJ,eQ,eX,e0,e1,e2,e3,e6,e4,e5,e8,e7,e9,te,tt,tr,tn,ti,to,ts,ta,tl,tu,tc,td,th,tp]),nm="other_sql",ng="mssql",ny="mysql",nv="oracle",nb="db2",nE="postgresql",nS="redshift",n_="hive",nT="cloudscape",nA="hsqldb",nC="progress",nw="maxdb",nO="hanadb",nR="ingres",nx="firstsql",nI="edb",nD="cache",nP="adabas",nN="firebird",nk="derby",nM="filemaker",nL="informix",nB="instantdb",nj="interbase",nF="mariadb",nU="netezza",nV="pervasive",nz="pointbase",nG="sqlite",n$="sybase",nH="teradata",nq="vertica",nW="h2",nK="coldfusion",nY="cassandra",nZ="hbase",nJ="mongodb",nQ="redis",nX="couchbase",n0="couchdb",n1="cosmosdb",n2="dynamodb",n3="neo4j",n6="geode",n4="elasticsearch",n5="memcached",n8="cockroachdb",n7=nm,n9=ng,ie=ny,it=nv,ir=nb,ii=nE,io=nS,is=n_,ia=nT,il=nA,iu=nC,ic=nw,id=nO,ih=nR,ip=nx,im=nI,ig=nD,iy=nP,iv=nN,ib=nk,iE=nM,iS=nL,i_=nB,iT=nj,iA=nF,iC=nU,iw=nV,iO=nz,iR=nG,ix=n$,iI=nH,iD=nq,iP=nW,iN=nK,ik=nY,iM=nZ,iL=nJ,iB=nQ,ij=nX,iF=n0,iU=n1,iV=n2,iz=n3,iG=n6,i$=n4,iH=n5,iq=n8,iW=(0,n.createConstMap)([nm,ng,ny,nv,nb,nE,nS,n_,nT,nA,nC,nw,nO,nR,nx,nI,nD,nP,nN,nk,nM,nL,nB,nj,nF,nU,nV,nz,nG,n$,nH,nq,nW,nK,nY,nZ,nJ,nQ,nX,n0,n1,n2,n3,n6,n4,n5,n8]),iK="all",iY="each_quorum",iZ="quorum",iJ="local_quorum",iQ="one",iX="two",i0="three",i1="local_one",i2="any",i3="serial",i6="local_serial",i4=iK,i5=iY,i8=iZ,i7=iJ,i9=iQ,oe=iX,ot=i0,or=i1,on=i2,oi=i3,oo=i6,os=(0,n.createConstMap)([iK,iY,iZ,iJ,iQ,iX,i0,i1,i2,i3,i6]),oa="datasource",ol="http",ou="pubsub",oc="timer",od="other",oh=oa,op=ol,of=ou,om=oc,og=od,oy=(0,n.createConstMap)([oa,ol,ou,oc,od]),ov="insert",ob="edit",oE="delete",oS=ov,o_=ob,oT=oE,oA=(0,n.createConstMap)([ov,ob,oE]),oC="alibaba_cloud",ow="aws",oO="azure",oR="gcp",ox=oC,oI=ow,oD=oO,oP=oR,oN=(0,n.createConstMap)([oC,ow,oO,oR]),ok="ip_tcp",oM="ip_udp",oL="ip",oB="unix",oj="pipe",oF="inproc",oU="other",oV=ok,oz=oM,oG=oL,o$=oB,oH=oj,oq=oF,oW=oU,oK=(0,n.createConstMap)([ok,oM,oL,oB,oj,oF,oU]),oY="wifi",oZ="wired",oJ="cell",oQ="unavailable",oX="unknown",o0=oY,o1=oZ,o2=oJ,o3=oQ,o6=oX,o4=(0,n.createConstMap)([oY,oZ,oJ,oQ,oX]),o5="gprs",o8="edge",o7="umts",o9="cdma",se="evdo_0",st="evdo_a",sr="cdma2000_1xrtt",sn="hsdpa",si="hsupa",so="hspa",ss="iden",sa="evdo_b",sl="lte",su="ehrpd",sc="hspap",sd="gsm",sh="td_scdma",sp="iwlan",sf="nr",sm="nrnsa",sg="lte_ca",sy=o5,sv=o8,sb=o7,sE=o9,sS=se,s_=st,sT=sr,sA=sn,sC=si,sw=so,sO=ss,sR=sa,sx=sl,sI=su,sD=sc,sP=sd,sN=sh,sk=sp,sM=sf,sL=sm,sB=sg,sj=(0,n.createConstMap)([o5,o8,o7,o9,se,st,sr,sn,si,so,ss,sa,sl,su,sc,sd,sh,sp,sf,sm,sg]),sF="1.0",sU="1.1",sV="2.0",sz="SPDY",sG="QUIC",s$=sF,sH=sU,sq=sV,sW=sz,sK=sG,sY={HTTP_1_0:sF,HTTP_1_1:sU,HTTP_2_0:sV,SPDY:sz,QUIC:sG},sZ="queue",sJ="topic",sQ=sZ,sX=sJ,s0=(0,n.createConstMap)([sZ,sJ]),s1="receive",s2="process",s3=s1,s6=s2,s4=(0,n.createConstMap)([s1,s2]),s5=0,s8=1,s7=2,s9=3,ae=4,at=5,ar=6,an=7,ai=8,ao=9,as=10,aa=11,al=12,au=13,ac=14,ad=15,ah=16,ap={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16},af="SENT",am="RECEIVED",ag=af,ay=am,av=(0,n.createConstMap)([af,am])},43122:(e,t,r)=>{"use strict";r.r(t);var n=r(2078),i={};for(let e in n)"default"!==e&&(i[e]=()=>n[e]);r.d(t,i)},3381:e=>{"use strict";function t(e,t){for(var r=Array(arguments.length-1),n=0,i=2,o=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(i,s){r[n]=function(e){if(o){if(o=!1,e)s(e);else{for(var t=Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}}};try{e.apply(t||null,r)}catch(e){o&&(o=!1,s(e))}})}e.exports=t},17938:(e,t)=>{"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=Array(64),i=Array(123),o=0;o<64;)i[n[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;r.encode=function(e,t,r){for(var i,o=null,s=[],a=0,l=0;t<r;){var u=e[t++];switch(l){case 0:s[a++]=n[u>>2],i=(3&u)<<4,l=1;break;case 1:s[a++]=n[i|u>>4],i=(15&u)<<2,l=2;break;case 2:s[a++]=n[i|u>>6],s[a++]=n[63&u],l=0}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0)}return(l&&(s[a++]=n[i],s[a++]=61,1===l&&(s[a++]=61)),o)?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var s="invalid encoding";r.decode=function(e,t,r){for(var n,o=r,a=0,l=0;l<e.length;){var u=e.charCodeAt(l++);if(61===u&&a>1)break;if(void 0===(u=i[u]))throw Error(s);switch(a){case 0:n=u,a=1;break;case 1:t[r++]=n<<2|(48&u)>>4,n=u,a=2;break;case 2:t[r++]=(15&n)<<4|(60&u)>>2,n=u,a=3;break;case 3:t[r++]=(3&n)<<6|u,a=0}}if(1===a)throw Error(s);return r-o},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},31948:e=>{"use strict";function t(e,r){"string"==typeof e&&(r=e,e=void 0);var n=[];function i(e){if("string"!=typeof e){var r=o();if(t.verbose&&console.log("codegen: "+r),r="return "+r,e){for(var s=Object.keys(e),a=Array(s.length+1),l=Array(s.length),u=0;u<s.length;)a[u]=s[u],l[u]=e[s[u++]];return a[u]=r,Function.apply(null,a).apply(null,l)}return Function(r)()}for(var c=Array(arguments.length-1),d=0;d<c.length;)c[d]=arguments[++d];if(d=0,e=e.replace(/%([%dfijs])/g,function(e,t){var r=c[d++];switch(t){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"}),d!==c.length)throw Error("parameter count mismatch");return n.push(e),i}function o(t){return"function "+(t||r||"")+"("+(e&&e.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return i.toString=o,i}e.exports=t,t.verbose=!1},9201:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},50474:(e,t,r)=>{"use strict";e.exports=o;var n=r(3381),i=r(18448)("fs");function o(e,t,r){return("function"==typeof t?(r=t,t={}):t||(t={}),r)?!t.xhr&&i&&i.readFile?i.readFile(e,function(n,i){return n&&"undefined"!=typeof XMLHttpRequest?o.xhr(e,t,r):n?r(n):r(null,t.binary?i:i.toString("utf8"))}):o.xhr(e,t,r):n(o,this,e,t)}o.xhr=function(e,t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){if(0!==n.status&&200!==n.status)return r(Error("status "+n.status));if(t.binary){var e=n.response;if(!e){e=[];for(var i=0;i<n.responseText.length;++i)e.push(255&n.responseText.charCodeAt(i))}return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return r(null,n.responseText)}},t.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",e),n.send()}},59014:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function o(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function a(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:o,e.writeFloatBE=n?o:i,e.readFloatLE=n?s:a,e.readFloatBE=n?a:s}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var o=Math.floor(Math.log(t)/Math.LN2),s=8388607&Math.round(t*Math.pow(2,-o)*8388608);e((i<<31|o+127<<23|s)>>>0,r,n)}}function s(e,t,r){var n=e(t,r),i=(n>>31)*2+1,o=n>>>23&255,s=8388607&n;return 255===o?s?NaN:1/0*i:0===o?1401298464324817e-60*i*s:i*Math.pow(2,o-150)*(s+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,n),e.readFloatLE=s.bind(null,i),e.readFloatBE=s.bind(null,o)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function o(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function a(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:o,e.writeDoubleBE=n?o:i,e.readDoubleLE=n?s:a,e.readDoubleBE=n?a:s}():function(){function t(e,t,r,n,i,o){var s,a=n<0?1:0;if(a&&(n=-n),0===n)e(0,i,o+t),e(1/n>0?0:2147483648,i,o+r);else if(isNaN(n))e(0,i,o+t),e(2146959360,i,o+r);else if(n>17976931348623157e292)e(0,i,o+t),e((a<<31|2146435072)>>>0,i,o+r);else if(n<22250738585072014e-324)e((s=n/5e-324)>>>0,i,o+t),e((a<<31|s/4294967296)>>>0,i,o+r);else{var l=Math.floor(Math.log(n)/Math.LN2);1024===l&&(l=1023),e(4503599627370496*(s=n*Math.pow(2,-l))>>>0,i,o+t),e((a<<31|l+1023<<20|1048576*s&1048575)>>>0,i,o+r)}}function s(e,t,r,n,i){var o=e(n,i+t),s=e(n,i+r),a=(s>>31)*2+1,l=s>>>20&2047,u=4294967296*(1048575&s)+o;return 2047===l?u?NaN:1/0*a:0===l?5e-324*a*u:a*Math.pow(2,l-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=s.bind(null,i,0,4),e.readDoubleBE=s.bind(null,o,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function o(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},18448:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},97602:(e,t)=>{"use strict";var r=t,n=r.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},i=r.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),r=n(e),i="";r&&(i=t.shift()+"/");for(var o=0;o<t.length;)".."===t[o]?o>0&&".."!==t[o-1]?t.splice(--o,2):r?t.splice(o,1):++o:"."===t[o]?t.splice(o,1):++o;return i+t.join("/")};r.resolve=function(e,t,r){return(r||(t=i(t)),n(t))?t:(r||(e=i(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?i(e+"/"+t):t)}},39781:e=>{"use strict";function t(e,t,r){var n=r||8192,i=n>>>1,o=null,s=n;return function(r){if(r<1||r>i)return e(r);s+r>n&&(o=e(n),s=0);var a=t.call(o,s,s+=r);return 7&s&&(s=(7|s)+1),a}}e.exports=t},4795:(e,t)=>{"use strict";var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:(64512&r)==55296&&(64512&e.charCodeAt(n+1))==56320?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,o=[],s=0;t<r;)(n=e[t++])<128?o[s++]=n:n>191&&n<224?o[s++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[s++]=55296+(n>>10),o[s++]=56320+(1023&n)):o[s++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0);return i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))},r.write=function(e,t,r){for(var n,i,o=r,s=0;s<e.length;++s)(n=e.charCodeAt(s))<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:((64512&n)==55296&&(64512&(i=e.charCodeAt(s+1)))==56320?(n=65536+((1023&n)<<10)+(1023&i),++s,t[r++]=n>>18|240,t[r++]=n>>12&63|128):t[r++]=n>>12|224,t[r++]=n>>6&63|128),t[r++]=63&n|128);return r-o}},31006:(e,t)=>{"use strict";function r(e,t){return{validate:e,compare:t}}function n(e){return e%4==0&&(e%100!=0||e%400==0)}Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0,t.fullFormats={date:r(s,a),time:r(u(!0),c),"date-time":r(p(!0),f),"iso-time":r(u(),d),"iso-date-time":r(p(),m),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:v,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:O,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:E,int32:{type:"number",validate:T},int64:{type:"number",validate:A},float:{type:"number",validate:C},double:{type:"number",validate:C},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:r(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,a),time:r(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,c),"date-time":r(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,f),"iso-time":r(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,d),"iso-date-time":r(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,m),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);let i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(e){let t=i.exec(e);if(!t)return!1;let r=+t[1],s=+t[2],a=+t[3];return s>=1&&s<=12&&a>=1&&a<=(2===s&&n(r)?29:o[s])}function a(e,t){if(e&&t)return e>t?1:e<t?-1:0}let l=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function u(e){return function(t){let r=l.exec(t);if(!r)return!1;let n=+r[1],i=+r[2],o=+r[3],s=r[4],a="-"===r[5]?-1:1,u=+(r[6]||0),c=+(r[7]||0);if(u>23||c>59||e&&!s)return!1;if(n<=23&&i<=59&&o<60)return!0;let d=i-c*a,h=n-u*a-(d<0?1:0);return(23===h||-1===h)&&(59===d||-1===d)&&o<61}}function c(e,t){if(!(e&&t))return;let r=new Date("2020-01-01T"+e).valueOf(),n=new Date("2020-01-01T"+t).valueOf();if(r&&n)return r-n}function d(e,t){if(!(e&&t))return;let r=l.exec(e),n=l.exec(t);if(r&&n)return(e=r[1]+r[2]+r[3])>(t=n[1]+n[2]+n[3])?1:e<t?-1:0}let h=/t|\s/i;function p(e){let t=u(e);return function(e){let r=e.split(h);return 2===r.length&&s(r[0])&&t(r[1])}}function f(e,t){if(!(e&&t))return;let r=new Date(e).valueOf(),n=new Date(t).valueOf();if(r&&n)return r-n}function m(e,t){if(!(e&&t))return;let[r,n]=e.split(h),[i,o]=t.split(h),s=a(r,i);if(void 0!==s)return s||c(n,o)}let g=/\/|:/,y=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function v(e){return g.test(e)&&y.test(e)}let b=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function E(e){return b.lastIndex=0,b.test(e)}let S=-2147483648,_=2147483648-1;function T(e){return Number.isInteger(e)&&e<=_&&e>=S}function A(e){return Number.isInteger(e)}function C(){return!0}let w=/[^\\]\\Z/;function O(e){if(w.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}},23291:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(31006),i=r(21717),o=r(59580),s=new o.Name("fullFormats"),a=new o.Name("fastFormats"),l=(e,t={keywords:!0})=>{if(Array.isArray(t))return u(e,t,n.fullFormats,s),e;let[r,o]="fast"===t.mode?[n.fastFormats,a]:[n.fullFormats,s];return u(e,t.formats||n.formatNames,r,o),t.keywords&&(0,i.default)(e),e};function u(e,t,r,n){var i,s;for(let a of(null!==(i=(s=e.opts.code).formats)&&void 0!==i||(s.formats=(0,o._)`require("ajv-formats/dist/formats").${n}`),t))e.addFormat(a,r[a])}l.get=(e,t="full")=>{let r=("fast"===t?n.fastFormats:n.fullFormats)[e];if(!r)throw Error(`Unknown format "${e}"`);return r},e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},21717:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;let n=r(9558),i=r(59580),o=i.operators,s={formatMaximum:{okStr:"<=",ok:o.LTE,fail:o.GT},formatMinimum:{okStr:">=",ok:o.GTE,fail:o.LT},formatExclusiveMaximum:{okStr:"<",ok:o.LT,fail:o.GTE},formatExclusiveMinimum:{okStr:">",ok:o.GT,fail:o.LTE}},a={message:({keyword:e,schemaCode:t})=>(0,i.str)`should be ${s[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,i._)`{comparison: ${s[e].okStr}, limit: ${t}}`};t.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:a,code(e){let{gen:t,data:r,schemaCode:o,keyword:a,it:l}=e,{opts:u,self:c}=l;if(!u.validateFormats)return;let d=new n.KeywordCxt(l,c.RULES.all.format.definition,"format");function h(){let r=t.scopeValue("formats",{ref:c.formats,code:u.code.formats}),n=t.const("fmt",(0,i._)`${r}[${d.schemaCode}]`);e.fail$data((0,i.or)((0,i._)`typeof ${n} != "object"`,(0,i._)`${n} instanceof RegExp`,(0,i._)`typeof ${n}.compare != "function"`,f(n)))}function p(){let r=d.schema,n=c.formats[r];if(!n||!0===n)return;if("object"!=typeof n||n instanceof RegExp||"function"!=typeof n.compare)throw Error(`"${a}": format "${r}" does not define "compare" function`);let o=t.scopeValue("formats",{key:r,ref:n,code:u.code.formats?(0,i._)`${u.code.formats}${(0,i.getProperty)(r)}`:void 0});e.fail$data(f(o))}function f(e){return(0,i._)`${e}.compare(${r}, ${o}) ${s[a].fail} 0`}d.$data?h():p()},dependencies:["format"]};let l=e=>(e.addKeyword(t.formatLimitDefinition),e);t.default=l},9558:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;let n=r(68008),i=r(40473),o=r(75322),s=r(56186),a=["/properties"],l="http://json-schema.org/draft-07/schema";class u extends n.default{_addVocabularies(){super._addVocabularies(),i.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(o.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(s,a):s;this.addMetaSchema(e,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}t.Ajv=u,e.exports=t=u,e.exports.Ajv=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var c=r(74653);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var d=r(59580);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var h=r(90364);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return h.default}});var p=r(53e3);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return p.default}})},69568:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class r{}t._CodeOrName=r,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends r{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=n;class i extends r{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce((e,t)=>`${e}${t}`,"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce((e,t)=>(t instanceof n&&(e[t.str]=(e[t.str]||0)+1),e),{})}}function o(e,...t){let r=[e[0]],n=0;for(;n<t.length;)l(r,t[n]),r.push(e[++n]);return new i(r)}t._Code=i,t.nil=new i(""),t._=o;let s=new i("+");function a(e,...t){let r=[f(e[0])],n=0;for(;n<t.length;)r.push(s),l(r,t[n]),r.push(s,f(e[++n]));return u(r),new i(r)}function l(e,t){t instanceof i?e.push(...t._items):t instanceof n?e.push(t):e.push(h(t))}function u(e){let t=1;for(;t<e.length-1;){if(e[t]===s){let r=c(e[t-1],e[t+1]);if(void 0!==r){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}function c(e,t){return'""'===t?e:'""'===e?t:"string"==typeof e?t instanceof n||'"'!==e[e.length-1]?void 0:"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0:"string"!=typeof t||'"'!==t[0]||e instanceof n?void 0:`"${e}${t.slice(1)}`}function d(e,t){return t.emptyStr()?e:e.emptyStr()?t:a`${e}${t}`}function h(e){return"number"==typeof e||"boolean"==typeof e||null===e?e:f(Array.isArray(e)?e.join(","):e)}function p(e){return new i(f(e))}function f(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function m(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new i(`.${e}`):o`[${e}]`}function g(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new i(`${e}`);throw Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)}function y(e){return new i(e.toString())}t.str=a,t.addCodeArg=l,t.strConcat=d,t.stringify=p,t.safeStringify=f,t.getProperty=m,t.getEsmExportName=g,t.regexpCode=y},59580:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;let n=r(69568),i=r(93214);var o=r(69568);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return o.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return o.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return o.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return o.Name}});var s=r(93214);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new n._Code(">"),GTE:new n._Code(">="),LT:new n._Code("<"),LTE:new n._Code("<="),EQ:new n._Code("==="),NEQ:new n._Code("!=="),NOT:new n._Code("!"),OR:new n._Code("||"),AND:new n._Code("&&"),ADD:new n._Code("+")};class a{optimizeNodes(){return this}optimizeNames(e,t){return this}}class l extends a{constructor(e,t,r){super(),this.varKind=e,this.name=t,this.rhs=r}render({es5:e,_n:t}){let r=e?i.varKinds.var:this.varKind,n=void 0===this.rhs?"":` = ${this.rhs}`;return`${r} ${this.name}${n};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=P(this.rhs,e,t)),this}get names(){return this.rhs instanceof n._CodeOrName?this.rhs.names:{}}}class u extends a{constructor(e,t,r){super(),this.lhs=e,this.rhs=t,this.sideEffects=r}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof n.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=P(this.rhs,e,t),this}get names(){return D(this.lhs instanceof n.Name?{}:{...this.lhs.names},this.rhs)}}class c extends u{constructor(e,t,r,n){super(e,r,n),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class d extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class h extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){let t=this.label?` ${this.label}`:"";return`break${t};`+e}}class p extends a{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class f extends a{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=P(this.code,e,t),this}get names(){return this.code instanceof n._CodeOrName?this.code.names:{}}}class m extends a{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((t,r)=>t+r.render(e),"")}optimizeNodes(){let{nodes:e}=this,t=e.length;for(;t--;){let r=e[t].optimizeNodes();Array.isArray(r)?e.splice(t,1,...r):r?e[t]=r:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){let{nodes:r}=this,n=r.length;for(;n--;){let i=r[n];i.optimizeNames(e,t)||(N(e,i.names),r.splice(n,1))}return r.length>0?this:void 0}get names(){return this.nodes.reduce((e,t)=>I(e,t.names),{})}}class g extends m{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class y extends m{}class v extends g{}v.kind="else";class b extends g{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){let e=t.optimizeNodes();t=this.else=Array.isArray(e)?new v(e):e}return t?!1===e?t instanceof b?t:t.nodes:this.nodes.length?this:new b(k(e),t instanceof b?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var r;if(this.else=null===(r=this.else)||void 0===r?void 0:r.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=P(this.condition,e,t),this}get names(){let e=super.names;return D(e,this.condition),this.else&&I(e,this.else.names),e}}b.kind="if";class E extends g{}E.kind="for";class S extends E{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=P(this.iteration,e,t),this}get names(){return I(super.names,this.iteration.names)}}class _ extends E{constructor(e,t,r,n){super(),this.varKind=e,this.name=t,this.from=r,this.to=n}render(e){let t=e.es5?i.varKinds.var:this.varKind,{name:r,from:n,to:o}=this;return`for(${t} ${r}=${n}; ${r}<${o}; ${r}++)`+super.render(e)}get names(){let e=D(super.names,this.from);return D(e,this.to)}}class T extends E{constructor(e,t,r,n){super(),this.loop=e,this.varKind=t,this.name=r,this.iterable=n}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=P(this.iterable,e,t),this}get names(){return I(super.names,this.iterable.names)}}class A extends g{constructor(e,t,r){super(),this.name=e,this.args=t,this.async=r}render(e){let t=this.async?"async ":"";return`${t}function ${this.name}(${this.args})`+super.render(e)}}A.kind="func";class C extends m{render(e){return"return "+super.render(e)}}C.kind="return";class w extends g{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var r,n;return super.optimizeNames(e,t),null===(r=this.catch)||void 0===r||r.optimizeNames(e,t),null===(n=this.finally)||void 0===n||n.optimizeNames(e,t),this}get names(){let e=super.names;return this.catch&&I(e,this.catch.names),this.finally&&I(e,this.finally.names),e}}class O extends g{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}O.kind="catch";class R extends g{render(e){return"finally"+super.render(e)}}R.kind="finally";class x{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new i.Scope({parent:e}),this._nodes=[new y]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){let r=this._extScope.value(e,t);return(this._values[r.prefix]||(this._values[r.prefix]=new Set)).add(r),r}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,r,n){let i=this._scope.toName(t);return void 0!==r&&n&&(this._constants[i.str]=r),this._leafNode(new l(e,i,r)),i}const(e,t,r){return this._def(i.varKinds.const,e,t,r)}let(e,t,r){return this._def(i.varKinds.let,e,t,r)}var(e,t,r){return this._def(i.varKinds.var,e,t,r)}assign(e,t,r){return this._leafNode(new u(e,t,r))}add(e,r){return this._leafNode(new c(e,t.operators.ADD,r))}code(e){return"function"==typeof e?e():e!==n.nil&&this._leafNode(new f(e)),this}object(...e){let t=["{"];for(let[r,i]of e)t.length>1&&t.push(","),t.push(r),(r!==i||this.opts.es5)&&(t.push(":"),(0,n.addCodeArg)(t,i));return t.push("}"),new n._Code(t)}if(e,t,r){if(this._blockNode(new b(e)),t&&r)this.code(t).else().code(r).endIf();else if(t)this.code(t).endIf();else if(r)throw Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new b(e))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(b,v)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new S(e),t)}forRange(e,t,r,n,o=this.opts.es5?i.varKinds.var:i.varKinds.let){let s=this._scope.toName(e);return this._for(new _(o,s,t,r),()=>n(s))}forOf(e,t,r,o=i.varKinds.const){let s=this._scope.toName(e);if(this.opts.es5){let e=t instanceof n.Name?t:this.var("_arr",t);return this.forRange("_i",0,(0,n._)`${e}.length`,t=>{this.var(s,(0,n._)`${e}[${t}]`),r(s)})}return this._for(new T("of",o,s,t),()=>r(s))}forIn(e,t,r,o=this.opts.es5?i.varKinds.var:i.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,n._)`Object.keys(${t})`,r);let s=this._scope.toName(e);return this._for(new T("in",o,s,t),()=>r(s))}endFor(){return this._endBlockNode(E)}label(e){return this._leafNode(new d(e))}break(e){return this._leafNode(new h(e))}return(e){let t=new C;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw Error('CodeGen: "return" should have one node');return this._endBlockNode(C)}try(e,t,r){if(!t&&!r)throw Error('CodeGen: "try" without "catch" and "finally"');let n=new w;if(this._blockNode(n),this.code(e),t){let e=this.name("e");this._currNode=n.catch=new O(e),t(e)}return r&&(this._currNode=n.finally=new R,this.code(r)),this._endBlockNode(O,R)}throw(e){return this._leafNode(new p(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){let t=this._blockStarts.pop();if(void 0===t)throw Error("CodeGen: not in self-balancing block");let r=this._nodes.length-t;if(r<0||void 0!==e&&r!==e)throw Error(`CodeGen: wrong number of nodes: ${r} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=n.nil,r,i){return this._blockNode(new A(e,t,r)),i&&this.code(i).endFunc(),this}endFunc(){return this._endBlockNode(A)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){let r=this._currNode;if(r instanceof e||t&&r instanceof t)return this._nodes.pop(),this;throw Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){let t=this._currNode;if(!(t instanceof b))throw Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let t=this._nodes;t[t.length-1]=e}}function I(e,t){for(let r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function D(e,t){return t instanceof n._CodeOrName?I(e,t.names):e}function P(e,t,r){if(e instanceof n.Name)return i(e);if(!o(e))return e;return new n._Code(e._items.reduce((e,t)=>(t instanceof n.Name&&(t=i(t)),t instanceof n._Code?e.push(...t._items):e.push(t),e),[]));function i(e){let n=r[e.str];return void 0===n||1!==t[e.str]?e:(delete t[e.str],n)}function o(e){return e instanceof n._Code&&e._items.some(e=>e instanceof n.Name&&1===t[e.str]&&void 0!==r[e.str])}}function N(e,t){for(let r in t)e[r]=(e[r]||0)-(t[r]||0)}function k(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:(0,n._)`!${U(e)}`}t.CodeGen=x,t.not=k;let M=F(t.operators.AND);function L(...e){return e.reduce(M)}t.and=L;let B=F(t.operators.OR);function j(...e){return e.reduce(B)}function F(e){return(t,r)=>t===n.nil?r:r===n.nil?t:(0,n._)`${U(t)} ${e} ${U(r)}`}function U(e){return e instanceof n.Name?e:(0,n._)`(${e})`}t.or=j},93214:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;let i=r(69568);class o extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}(function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"})(n||(t.UsedValueState=n={})),t.varKinds={const:new i.Name("const"),let:new i.Name("let"),var:new i.Name("var")};class s{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof i.Name?e:this.name(e)}name(e){return new i.Name(this._newName(e))}_newName(e){let t=this._names[e]||this._nameGroup(e);return`${e}${t.index++}`}_nameGroup(e){var t,r;if((null===(r=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===r?void 0:r.has(e))||this._prefixes&&!this._prefixes.has(e))throw Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=s;class a extends i.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:r}){this.value=e,this.scopePath=(0,i._)`.${new i.Name(t)}[${r}]`}}t.ValueScopeName=a;let l=(0,i._)`\n`;class u extends s{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?l:i.nil}}get(){return this._scope}name(e){return new a(e,this._newName(e))}value(e,t){var r;if(void 0===t.ref)throw Error("CodeGen: ref must be passed in value");let n=this.toName(e),{prefix:i}=n,o=null!==(r=t.key)&&void 0!==r?r:t.ref,s=this._values[i];if(s){let e=s.get(o);if(e)return e}else s=this._values[i]=new Map;s.set(o,n);let a=this._scope[i]||(this._scope[i]=[]),l=a.length;return a[l]=t.ref,n.setValue(t,{property:i,itemIndex:l}),n}getValue(e,t){let r=this._values[e];if(r)return r.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,t=>{if(void 0===t.scopePath)throw Error(`CodeGen: name "${t}" has no value`);return(0,i._)`${e}${t.scopePath}`})}scopeCode(e=this._values,t,r){return this._reduceValues(e,e=>{if(void 0===e.value)throw Error(`CodeGen: name "${e}" has no value`);return e.value.code},t,r)}_reduceValues(e,r,s={},a){let l=i.nil;for(let u in e){let c=e[u];if(!c)continue;let d=s[u]=s[u]||new Map;c.forEach(e=>{if(d.has(e))return;d.set(e,n.Started);let s=r(e);if(s){let r=this.opts.es5?t.varKinds.var:t.varKinds.const;l=(0,i._)`${l}${r} ${e} = ${s};${this.opts._n}`}else if(s=null==a?void 0:a(e))l=(0,i._)`${l}${s}${this.opts._n}`;else throw new o(e);d.set(e,n.Completed)})}return l}}t.ValueScope=u},57352:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;let n=r(59580),i=r(5762),o=r(59980);function s(e,r=t.keywordError,i,o){let{it:s}=e,{gen:a,compositeRule:l,allErrors:u}=s,h=p(e,r,i);(null!=o?o:l||u)?c(a,h):d(s,(0,n._)`[${h}]`)}function a(e,r=t.keywordError,n){let{it:i}=e,{gen:s,compositeRule:a,allErrors:l}=i;c(s,p(e,r,n)),a||l||d(i,o.default.vErrors)}function l(e,t){e.assign(o.default.errors,t),e.if((0,n._)`${o.default.vErrors} !== null`,()=>e.if(t,()=>e.assign((0,n._)`${o.default.vErrors}.length`,t),()=>e.assign(o.default.vErrors,null)))}function u({gen:e,keyword:t,schemaValue:r,data:i,errsCount:s,it:a}){if(void 0===s)throw Error("ajv implementation error");let l=e.name("err");e.forRange("i",s,o.default.errors,s=>{e.const(l,(0,n._)`${o.default.vErrors}[${s}]`),e.if((0,n._)`${l}.instancePath === undefined`,()=>e.assign((0,n._)`${l}.instancePath`,(0,n.strConcat)(o.default.instancePath,a.errorPath))),e.assign((0,n._)`${l}.schemaPath`,(0,n.str)`${a.errSchemaPath}/${t}`),a.opts.verbose&&(e.assign((0,n._)`${l}.schema`,r),e.assign((0,n._)`${l}.data`,i))})}function c(e,t){let r=e.const("err",t);e.if((0,n._)`${o.default.vErrors} === null`,()=>e.assign(o.default.vErrors,(0,n._)`[${r}]`),(0,n._)`${o.default.vErrors}.push(${r})`),e.code((0,n._)`${o.default.errors}++`)}function d(e,t){let{gen:r,validateName:i,schemaEnv:o}=e;o.$async?r.throw((0,n._)`new ${e.ValidationError}(${t})`):(r.assign((0,n._)`${i}.errors`,t),r.return(!1))}t.keywordError={message:({keyword:e})=>(0,n.str)`must pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,n.str)`"${e}" keyword must be ${t} ($data)`:(0,n.str)`"${e}" keyword is invalid ($data)`},t.reportError=s,t.reportExtraError=a,t.resetErrorsCount=l,t.extendErrors=u;let h={keyword:new n.Name("keyword"),schemaPath:new n.Name("schemaPath"),params:new n.Name("params"),propertyName:new n.Name("propertyName"),message:new n.Name("message"),schema:new n.Name("schema"),parentSchema:new n.Name("parentSchema")};function p(e,t,r){let{createErrors:i}=e.it;return!1===i?(0,n._)`{}`:f(e,t,r)}function f(e,t,r={}){let{gen:n,it:i}=e,o=[m(i,r),g(e,r)];return y(e,t,o),n.object(...o)}function m({errorPath:e},{instancePath:t}){let r=t?(0,n.str)`${e}${(0,i.getErrorPath)(t,i.Type.Str)}`:e;return[o.default.instancePath,(0,n.strConcat)(o.default.instancePath,r)]}function g({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:o}){let s=o?t:(0,n.str)`${t}/${e}`;return r&&(s=(0,n.str)`${s}${(0,i.getErrorPath)(r,i.Type.Str)}`),[h.schemaPath,s]}function y(e,{params:t,message:r},i){let{keyword:s,data:a,schemaValue:l,it:u}=e,{opts:c,propertyName:d,topSchemaRef:p,schemaPath:f}=u;i.push([h.keyword,s],[h.params,"function"==typeof t?t(e):t||(0,n._)`{}`]),c.messages&&i.push([h.message,"function"==typeof r?r(e):r]),c.verbose&&i.push([h.schema,l],[h.parentSchema,(0,n._)`${p}${f}`],[o.default.data,a]),d&&i.push([h.propertyName,d])}},3756:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;let n=r(59580),i=r(90364),o=r(59980),s=r(5717),a=r(5762),l=r(74653);class u{constructor(e){var t;let r;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,s.normalizeId)(null==r?void 0:r[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==r?void 0:r.$async,this.refs={}}}function c(e){let t,r;let a=p.call(this,e);if(a)return a;let u=(0,s.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:c,lines:d}=this.opts.code,{ownProperties:h}=this.opts,f=new n.CodeGen(this.scope,{es5:c,lines:d,ownProperties:h});e.$async&&(t=f.scopeValue("Error",{ref:i.default,code:(0,n._)`require("ajv/dist/runtime/validation_error").default`}));let m=f.scopeName("validate");e.validateName=m;let g={gen:f,allErrors:this.opts.allErrors,data:o.default.data,parentData:o.default.parentData,parentDataProperty:o.default.parentDataProperty,dataNames:[o.default.data],dataPathArr:[n.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:f.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,n.stringify)(e.schema)}:{ref:e.schema}),validateName:m,ValidationError:t,schema:e.schema,schemaEnv:e,rootId:u,baseId:e.baseId||u,schemaPath:n.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,n._)`""`,opts:this.opts,self:this};try{this._compilations.add(e),(0,l.validateFunctionCode)(g),f.optimize(this.opts.code.optimize);let t=f.toString();r=`${f.scopeRefs(o.default.scope)}return ${t}`,this.opts.code.process&&(r=this.opts.code.process(r,e));let i=Function(`${o.default.self}`,`${o.default.scope}`,r)(this,this.scope.get());if(this.scope.value(m,{ref:i}),i.errors=null,i.schema=e.schema,i.schemaEnv=e,e.$async&&(i.$async=!0),!0===this.opts.code.source&&(i.source={validateName:m,validateCode:t,scopeValues:f._values}),this.opts.unevaluated){let{props:e,items:t}=g;i.evaluated={props:e instanceof n.Name?void 0:e,items:t instanceof n.Name?void 0:t,dynamicProps:e instanceof n.Name,dynamicItems:t instanceof n.Name},i.source&&(i.source.evaluated=(0,n.stringify)(i.evaluated))}return e.validate=i,e}catch(t){throw delete e.validate,delete e.validateName,r&&this.logger.error("Error compiling schema, function code:",r),t}finally{this._compilations.delete(e)}}function d(e,t,r){var n;r=(0,s.resolveUrl)(this.opts.uriResolver,t,r);let i=e.refs[r];if(i)return i;let o=m.call(this,e,r);if(void 0===o){let i=null===(n=e.localRefs)||void 0===n?void 0:n[r],{schemaId:s}=this.opts;i&&(o=new u({schema:i,schemaId:s,root:e,baseId:t}))}if(void 0!==o)return e.refs[r]=h.call(this,o)}function h(e){return(0,s.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:c.call(this,e)}function p(e){for(let t of this._compilations)if(f(t,e))return t}function f(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function m(e,t){let r;for(;"string"==typeof(r=this.refs[t]);)t=r;return r||this.schemas[t]||g.call(this,e,t)}function g(e,t){let r=this.opts.uriResolver.parse(t),n=(0,s._getFullPath)(this.opts.uriResolver,r),i=(0,s.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===i)return v.call(this,r,e);let o=(0,s.normalizeId)(n),a=this.refs[o]||this.schemas[o];if("string"==typeof a){let t=g.call(this,e,a);if("object"!=typeof(null==t?void 0:t.schema))return;return v.call(this,r,t)}if("object"==typeof(null==a?void 0:a.schema)){if(a.validate||c.call(this,a),o===(0,s.normalizeId)(t)){let{schema:t}=a,{schemaId:r}=this.opts,n=t[r];return n&&(i=(0,s.resolveUrl)(this.opts.uriResolver,i,n)),new u({schema:t,schemaId:r,root:e,baseId:i})}return v.call(this,r,a)}}t.SchemaEnv=u,t.compileSchema=c,t.resolveRef=d,t.getCompilingSchema=p,t.resolveSchema=g;let y=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(e,{baseId:t,schema:r,root:n}){var i;let o;if((null===(i=e.fragment)||void 0===i?void 0:i[0])!=="/")return;for(let n of e.fragment.slice(1).split("/")){if("boolean"==typeof r)return;let e=r[(0,a.unescapeFragment)(n)];if(void 0===e)return;let i="object"==typeof(r=e)&&r[this.opts.schemaId];!y.has(n)&&i&&(t=(0,s.resolveUrl)(this.opts.uriResolver,t,i))}if("boolean"!=typeof r&&r.$ref&&!(0,a.schemaHasRulesButRef)(r,this.RULES)){let e=(0,s.resolveUrl)(this.opts.uriResolver,t,r.$ref);o=g.call(this,n,e)}let{schemaId:l}=this.opts;if((o=o||new u({schema:r,schemaId:l,root:n,baseId:t})).schema!==o.root.schema)return o}},59980:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(59580),i={data:new n.Name("data"),valCxt:new n.Name("valCxt"),instancePath:new n.Name("instancePath"),parentData:new n.Name("parentData"),parentDataProperty:new n.Name("parentDataProperty"),rootData:new n.Name("rootData"),dynamicAnchors:new n.Name("dynamicAnchors"),vErrors:new n.Name("vErrors"),errors:new n.Name("errors"),this:new n.Name("this"),self:new n.Name("self"),scope:new n.Name("scope"),json:new n.Name("json"),jsonPos:new n.Name("jsonPos"),jsonLen:new n.Name("jsonLen"),jsonPart:new n.Name("jsonPart")};t.default=i},53e3:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(5717);class i extends Error{constructor(e,t,r,i){super(i||`can't resolve reference ${r} from id ${t}`),this.missingRef=(0,n.resolveUrl)(e,t,r),this.missingSchema=(0,n.normalizeId)((0,n.getFullPath)(e,this.missingRef))}}t.default=i},5717:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;let n=r(5762),i=r(32977),o=r(29899),s=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function a(e,t=!0){return"boolean"==typeof e||(!0===t?!u(e):!!t&&c(e)<=t)}t.inlineRef=a;let l=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function u(e){for(let t in e){if(l.has(t))return!0;let r=e[t];if(Array.isArray(r)&&r.some(u)||"object"==typeof r&&u(r))return!0}return!1}function c(e){let t=0;for(let r in e)if("$ref"===r||(t++,!s.has(r)&&("object"==typeof e[r]&&(0,n.eachItem)(e[r],e=>t+=c(e)),t===1/0)))return 1/0;return t}function d(e,t="",r){!1!==r&&(t=f(t));let n=e.parse(t);return h(e,n)}function h(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=d,t._getFullPath=h;let p=/#\/?$/;function f(e){return e?e.replace(p,""):""}function m(e,t,r){return r=f(r),e.resolve(t,r)}t.normalizeId=f,t.resolveUrl=m;let g=/^[a-z_][-a-z0-9._]*$/i;function y(e,t){if("boolean"==typeof e)return{};let{schemaId:r,uriResolver:n}=this.opts,s=f(e[r]||t),a={"":s},l=d(n,s,!1),u={},c=new Set;return o(e,{allKeys:!0},(e,t,n,i)=>{if(void 0===i)return;let o=l+t,s=a[i];function d(t){let r=this.opts.uriResolver.resolve;if(t=f(s?r(s,t):t),c.has(t))throw p(t);c.add(t);let n=this.refs[t];return"string"==typeof n&&(n=this.refs[n]),"object"==typeof n?h(e,n.schema,t):t!==f(o)&&("#"===t[0]?(h(e,u[t],t),u[t]=e):this.refs[t]=o),t}function m(e){if("string"==typeof e){if(!g.test(e))throw Error(`invalid anchor "${e}"`);d.call(this,`#${e}`)}}"string"==typeof e[r]&&(s=d.call(this,e[r])),m.call(this,e.$anchor),m.call(this,e.$dynamicAnchor),a[t]=s}),u;function h(e,t,r){if(void 0!==t&&!i(e,t))throw p(r)}function p(e){return Error(`reference "${e}" resolves to more than one schema`)}}t.getSchemaRefs=y},23268:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;let r=new Set(["string","number","integer","boolean","null","object","array"]);function n(e){return"string"==typeof e&&r.has(e)}function i(){let e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}t.isJSONType=n,t.getRules=i},5762:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;let i=r(59580),o=r(69568);function s(e){let t={};for(let r of e)t[r]=!0;return t}function a(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(l(e,t),!u(t,e.self.RULES.all))}function l(e,t=e.schema){let{opts:r,self:n}=e;if(!r.strictSchema||"boolean"==typeof t)return;let i=n.RULES.keywords;for(let r in t)i[r]||T(e,`unknown keyword: "${r}"`)}function u(e,t){if("boolean"==typeof e)return!e;for(let r in e)if(t[r])return!0;return!1}function c(e,t){if("boolean"==typeof e)return!e;for(let r in e)if("$ref"!==r&&t.all[r])return!0;return!1}function d({topSchemaRef:e,schemaPath:t},r,n,o){if(!o){if("number"==typeof r||"boolean"==typeof r)return r;if("string"==typeof r)return(0,i._)`${r}`}return(0,i._)`${e}${t}${(0,i.getProperty)(n)}`}function h(e){return m(decodeURIComponent(e))}function p(e){return encodeURIComponent(f(e))}function f(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function m(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function g(e,t){if(Array.isArray(e))for(let r of e)t(r);else t(e)}function y({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(o,s,a,l)=>{let u=void 0===a?s:a instanceof i.Name?(s instanceof i.Name?e(o,s,a):t(o,s,a),a):s instanceof i.Name?(t(o,a,s),s):r(s,a);return l!==i.Name||u instanceof i.Name?u:n(o,u)}}function v(e,t){if(!0===t)return e.var("props",!0);let r=e.var("props",(0,i._)`{}`);return void 0!==t&&b(e,r,t),r}function b(e,t,r){Object.keys(r).forEach(r=>e.assign((0,i._)`${t}${(0,i.getProperty)(r)}`,!0))}t.toHash=s,t.alwaysValidSchema=a,t.checkUnknownRules=l,t.schemaHasRules=u,t.schemaHasRulesButRef=c,t.schemaRefOrVal=d,t.unescapeFragment=h,t.escapeFragment=p,t.escapeJsonPointer=f,t.unescapeJsonPointer=m,t.eachItem=g,t.mergeEvaluated={props:y({mergeNames:(e,t,r)=>e.if((0,i._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,i._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,i._)`${r} || {}`).code((0,i._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,i._)`${r} !== true`,()=>{!0===t?e.assign(r,!0):(e.assign(r,(0,i._)`${r} || {}`),b(e,r,t))}),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:v}),items:y({mergeNames:(e,t,r)=>e.if((0,i._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,i._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,i._)`${r} !== true`,()=>e.assign(r,!0===t||(0,i._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=v,t.setEvaluated=b;let E={};function S(e,t){return e.scopeValue("func",{ref:t,code:E[t.code]||(E[t.code]=new o._Code(t.code))})}function _(e,t,r){if(e instanceof i.Name){let o=t===n.Num;return r?o?(0,i._)`"[" + ${e} + "]"`:(0,i._)`"['" + ${e} + "']"`:o?(0,i._)`"/" + ${e}`:(0,i._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,i.getProperty)(e).toString():"/"+f(e)}function T(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,!0===r)throw Error(t);e.self.logger.warn(t)}}t.useFunc=S,function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(n||(t.Type=n={})),t.getErrorPath=_,t.checkStrictMode=T},3e4:(e,t)=>{"use strict";function r({schema:e,self:t},r){let i=t.RULES.types[r];return i&&!0!==i&&n(e,i)}function n(e,t){return t.rules.some(t=>i(e,t))}function i(e,t){var r;return void 0!==e[t.keyword]||(null===(r=t.definition.implements)||void 0===r?void 0:r.some(t=>void 0!==e[t]))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=r,t.shouldUseGroup=n,t.shouldUseRule=i},80394:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;let n=r(57352),i=r(59580),o=r(59980),s={message:"boolean schema is false"};function a(e){let{gen:t,schema:r,validateName:n}=e;!1===r?u(e,!1):"object"==typeof r&&!0===r.$async?t.return(o.default.data):(t.assign((0,i._)`${n}.errors`,null),t.return(!0))}function l(e,t){let{gen:r,schema:n}=e;!1===n?(r.var(t,!1),u(e)):r.var(t,!0)}function u(e,t){let{gen:r,data:i}=e,o={gen:r,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,n.reportError)(o,s,void 0,t)}t.topBoolOrEmptySchema=a,t.boolOrEmptySchema=l},11925:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;let i=r(23268),o=r(3e4),s=r(57352),a=r(59580),l=r(5762);function u(e){let t=c(e.type);if(t.includes("null")){if(!1===e.nullable)throw Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t}function c(e){let t=Array.isArray(e)?e:e?[e]:[];if(t.every(i.isJSONType))return t;throw Error("type must be JSONType or JSONType[]: "+t.join(","))}function d(e,t){let{gen:r,data:i,opts:s}=e,a=p(t,s.coerceTypes),l=t.length>0&&!(0===a.length&&1===t.length&&(0,o.schemaHasRulesForType)(e,t[0]));if(l){let o=y(t,i,s.strictNumbers,n.Wrong);r.if(o,()=>{a.length?f(e,t,a):b(e)})}return l}(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(n||(t.DataType=n={})),t.getSchemaTypes=u,t.getJSONTypes=c,t.coerceAndCheckDataType=d;let h=new Set(["string","number","integer","boolean","null"]);function p(e,t){return t?e.filter(e=>h.has(e)||"array"===t&&"array"===e):[]}function f(e,t,r){let{gen:n,data:i,opts:o}=e,s=n.let("dataType",(0,a._)`typeof ${i}`),l=n.let("coerced",(0,a._)`undefined`);for(let e of("array"===o.coerceTypes&&n.if((0,a._)`${s} == 'object' && Array.isArray(${i}) && ${i}.length == 1`,()=>n.assign(i,(0,a._)`${i}[0]`).assign(s,(0,a._)`typeof ${i}`).if(y(t,i,o.strictNumbers),()=>n.assign(l,i))),n.if((0,a._)`${l} !== undefined`),r))(h.has(e)||"array"===e&&"array"===o.coerceTypes)&&u(e);function u(e){switch(e){case"string":n.elseIf((0,a._)`${s} == "number" || ${s} == "boolean"`).assign(l,(0,a._)`"" + ${i}`).elseIf((0,a._)`${i} === null`).assign(l,(0,a._)`""`);return;case"number":n.elseIf((0,a._)`${s} == "boolean" || ${i} === null
              || (${s} == "string" && ${i} && ${i} == +${i})`).assign(l,(0,a._)`+${i}`);return;case"integer":n.elseIf((0,a._)`${s} === "boolean" || ${i} === null
              || (${s} === "string" && ${i} && ${i} == +${i} && !(${i} % 1))`).assign(l,(0,a._)`+${i}`);return;case"boolean":n.elseIf((0,a._)`${i} === "false" || ${i} === 0 || ${i} === null`).assign(l,!1).elseIf((0,a._)`${i} === "true" || ${i} === 1`).assign(l,!0);return;case"null":n.elseIf((0,a._)`${i} === "" || ${i} === 0 || ${i} === false`),n.assign(l,null);return;case"array":n.elseIf((0,a._)`${s} === "string" || ${s} === "number"
              || ${s} === "boolean" || ${i} === null`).assign(l,(0,a._)`[${i}]`)}}n.else(),b(e),n.endIf(),n.if((0,a._)`${l} !== undefined`,()=>{n.assign(i,l),m(e,l)})}function m({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,a._)`${t} !== undefined`,()=>e.assign((0,a._)`${t}[${r}]`,n))}function g(e,t,r,i=n.Correct){let o;let s=i===n.Correct?a.operators.EQ:a.operators.NEQ;switch(e){case"null":return(0,a._)`${t} ${s} null`;case"array":o=(0,a._)`Array.isArray(${t})`;break;case"object":o=(0,a._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":o=l((0,a._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":o=l();break;default:return(0,a._)`typeof ${t} ${s} ${e}`}return i===n.Correct?o:(0,a.not)(o);function l(e=a.nil){return(0,a.and)((0,a._)`typeof ${t} == "number"`,e,r?(0,a._)`isFinite(${t})`:a.nil)}}function y(e,t,r,n){let i;if(1===e.length)return g(e[0],t,r,n);let o=(0,l.toHash)(e);if(o.array&&o.object){let e=(0,a._)`typeof ${t} != "object"`;i=o.null?e:(0,a._)`!${t} || ${e}`,delete o.null,delete o.array,delete o.object}else i=a.nil;for(let e in o.number&&delete o.integer,o)i=(0,a.and)(i,g(e,t,r,n));return i}t.checkDataType=g,t.checkDataTypes=y;let v={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?(0,a._)`{type: ${e}}`:(0,a._)`{type: ${t}}`};function b(e){let t=E(e);(0,s.reportError)(t,v)}function E(e){let{gen:t,data:r,schema:n}=e,i=(0,l.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:i,schemaValue:i,parentSchema:n,params:{},it:e}}t.reportTypeError=b},42450:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;let n=r(59580),i=r(5762);function o(e,t){let{properties:r,items:n}=e.schema;if("object"===t&&r)for(let t in r)s(e,t,r[t].default);else"array"===t&&Array.isArray(n)&&n.forEach((t,r)=>s(e,r,t.default))}function s(e,t,r){let{gen:o,compositeRule:s,data:a,opts:l}=e;if(void 0===r)return;let u=(0,n._)`${a}${(0,n.getProperty)(t)}`;if(s){(0,i.checkStrictMode)(e,`default is ignored for: ${u}`);return}let c=(0,n._)`${u} === undefined`;"empty"===l.useDefaults&&(c=(0,n._)`${c} || ${u} === null || ${u} === ""`),o.if(c,(0,n._)`${u} = ${(0,n.stringify)(r)}`)}t.assignDefaults=o},74653:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;let n=r(80394),i=r(11925),o=r(3e4),s=r(11925),a=r(42450),l=r(67560),u=r(89080),c=r(59580),d=r(59980),h=r(5717),p=r(5762),f=r(57352);function m(e){if(A(e)&&(w(e),T(e))){b(e);return}g(e,()=>(0,n.topBoolOrEmptySchema)(e))}function g({gen:e,validateName:t,schema:r,schemaEnv:n,opts:i},o){i.code.es5?e.func(t,(0,c._)`${d.default.data}, ${d.default.valCxt}`,n.$async,()=>{e.code((0,c._)`"use strict"; ${S(r,i)}`),v(e,i),e.code(o)}):e.func(t,(0,c._)`${d.default.data}, ${y(i)}`,n.$async,()=>e.code(S(r,i)).code(o))}function y(e){return(0,c._)`{${d.default.instancePath}="", ${d.default.parentData}, ${d.default.parentDataProperty}, ${d.default.rootData}=${d.default.data}${e.dynamicRef?(0,c._)`, ${d.default.dynamicAnchors}={}`:c.nil}}={}`}function v(e,t){e.if(d.default.valCxt,()=>{e.var(d.default.instancePath,(0,c._)`${d.default.valCxt}.${d.default.instancePath}`),e.var(d.default.parentData,(0,c._)`${d.default.valCxt}.${d.default.parentData}`),e.var(d.default.parentDataProperty,(0,c._)`${d.default.valCxt}.${d.default.parentDataProperty}`),e.var(d.default.rootData,(0,c._)`${d.default.valCxt}.${d.default.rootData}`),t.dynamicRef&&e.var(d.default.dynamicAnchors,(0,c._)`${d.default.valCxt}.${d.default.dynamicAnchors}`)},()=>{e.var(d.default.instancePath,(0,c._)`""`),e.var(d.default.parentData,(0,c._)`undefined`),e.var(d.default.parentDataProperty,(0,c._)`undefined`),e.var(d.default.rootData,d.default.data),t.dynamicRef&&e.var(d.default.dynamicAnchors,(0,c._)`{}`)})}function b(e){let{schema:t,opts:r,gen:n}=e;g(e,()=>{r.$comment&&t.$comment&&P(e),x(e),n.let(d.default.vErrors,null),n.let(d.default.errors,0),r.unevaluated&&E(e),O(e),N(e)})}function E(e){let{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,c._)`${r}.evaluated`),t.if((0,c._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,c._)`${e.evaluated}.props`,(0,c._)`undefined`)),t.if((0,c._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,c._)`${e.evaluated}.items`,(0,c._)`undefined`))}function S(e,t){let r="object"==typeof e&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,c._)`/*# sourceURL=${r} */`:c.nil}function _(e,t){if(A(e)&&(w(e),T(e))){C(e,t);return}(0,n.boolOrEmptySchema)(e,t)}function T({schema:e,self:t}){if("boolean"==typeof e)return!e;for(let r in e)if(t.RULES.all[r])return!0;return!1}function A(e){return"boolean"!=typeof e.schema}function C(e,t){let{schema:r,gen:n,opts:i}=e;i.$comment&&r.$comment&&P(e),I(e),D(e);let o=n.const("_errs",d.default.errors);O(e,o),n.var(t,(0,c._)`${o} === ${d.default.errors}`)}function w(e){(0,p.checkUnknownRules)(e),R(e)}function O(e,t){if(e.opts.jtd)return M(e,[],!1,t);let r=(0,i.getSchemaTypes)(e.schema),n=(0,i.coerceAndCheckDataType)(e,r);M(e,r,!n,t)}function R(e){let{schema:t,errSchemaPath:r,opts:n,self:i}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,p.schemaHasRulesButRef)(t,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function x(e){let{schema:t,opts:r}=e;void 0!==t.default&&r.useDefaults&&r.strictSchema&&(0,p.checkStrictMode)(e,"default is ignored in the schema root")}function I(e){let t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,h.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function D(e){if(e.schema.$async&&!e.schemaEnv.$async)throw Error("async schema in sync schema")}function P({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:i}){let o=r.$comment;if(!0===i.$comment)e.code((0,c._)`${d.default.self}.logger.log(${o})`);else if("function"==typeof i.$comment){let r=(0,c.str)`${n}/$comment`,i=e.scopeValue("root",{ref:t.root});e.code((0,c._)`${d.default.self}.opts.$comment(${o}, ${r}, ${i}.schema)`)}}function N(e){let{gen:t,schemaEnv:r,validateName:n,ValidationError:i,opts:o}=e;r.$async?t.if((0,c._)`${d.default.errors} === 0`,()=>t.return(d.default.data),()=>t.throw((0,c._)`new ${i}(${d.default.vErrors})`)):(t.assign((0,c._)`${n}.errors`,d.default.vErrors),o.unevaluated&&k(e),t.return((0,c._)`${d.default.errors} === 0`))}function k({gen:e,evaluated:t,props:r,items:n}){r instanceof c.Name&&e.assign((0,c._)`${t}.props`,r),n instanceof c.Name&&e.assign((0,c._)`${t}.items`,n)}function M(e,t,r,n){let{gen:i,schema:a,data:l,allErrors:u,opts:h,self:f}=e,{RULES:m}=f;if(a.$ref&&(h.ignoreKeywordsWithRef||!(0,p.schemaHasRulesButRef)(a,m))){i.block(()=>q(e,"$ref",m.all.$ref.definition));return}function g(p){(0,o.shouldUseGroup)(a,p)&&(p.type?(i.if((0,s.checkDataType)(p.type,l,h.strictNumbers)),L(e,p),1===t.length&&t[0]===p.type&&r&&(i.else(),(0,s.reportTypeError)(e)),i.endIf()):L(e,p),u||i.if((0,c._)`${d.default.errors} === ${n||0}`))}h.jtd||B(e,t),i.block(()=>{for(let e of m.rules)g(e);g(m.post)})}function L(e,t){let{gen:r,schema:n,opts:{useDefaults:i}}=e;i&&(0,a.assignDefaults)(e,t.type),r.block(()=>{for(let r of t.rules)(0,o.shouldUseRule)(n,r)&&q(e,r.keyword,r.definition,t.type)})}function B(e,t){!e.schemaEnv.meta&&e.opts.strictTypes&&(j(e,t),e.opts.allowUnionTypes||F(e,t),U(e,e.dataTypes))}function j(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(t=>{z(e.dataTypes,t)||$(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)}),G(e,t)}}function F(e,t){t.length>1&&!(2===t.length&&t.includes("null"))&&$(e,"use allowUnionTypes to allow union type keyword")}function U(e,t){let r=e.self.RULES.all;for(let n in r){let i=r[n];if("object"==typeof i&&(0,o.shouldUseRule)(e.schema,i)){let{type:r}=i.definition;r.length&&!r.some(e=>V(t,e))&&$(e,`missing type "${r.join(",")}" for keyword "${n}"`)}}}function V(e,t){return e.includes(t)||"number"===t&&e.includes("integer")}function z(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function G(e,t){let r=[];for(let n of e.dataTypes)z(t,n)?r.push(n):t.includes("integer")&&"number"===n&&r.push("integer");e.dataTypes=r}function $(e,t){let r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,p.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=m;class H{constructor(e,t,r){if((0,l.validateKeywordUsage)(e,t,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,p.schemaRefOrVal)(e,this.schema,r,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",Y(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,l.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw Error(`${r} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",d.default.errors))}result(e,t,r){this.failResult((0,c.not)(e),t,r)}failResult(e,t,r){this.gen.if(e),r?r():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,c.not)(e),void 0,t)}fail(e){if(void 0===e){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:t}=this;this.fail((0,c._)`${t} !== undefined && (${(0,c.or)(this.invalid$data(),e)})`)}error(e,t,r){if(t){this.setParams(t),this._error(e,r),this.setParams({});return}this._error(e,r)}_error(e,t){(e?f.reportExtraError:f.reportError)(this,this.def.error,t)}$dataError(){(0,f.reportError)(this,this.def.$dataError||f.keyword$DataError)}reset(){if(void 0===this.errsCount)throw Error('add "trackErrors" to keyword definition');(0,f.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,r=c.nil){this.gen.block(()=>{this.check$data(e,r),t()})}check$data(e=c.nil,t=c.nil){if(!this.$data)return;let{gen:r,schemaCode:n,schemaType:i,def:o}=this;r.if((0,c.or)((0,c._)`${n} === undefined`,t)),e!==c.nil&&r.assign(e,!0),(i.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==c.nil&&r.assign(e,!1)),r.else()}invalid$data(){let{gen:e,schemaCode:t,schemaType:r,def:n,it:i}=this;return(0,c.or)(o(),a());function o(){if(r.length){if(!(t instanceof c.Name))throw Error("ajv implementation error");let e=Array.isArray(r)?r:[r];return(0,c._)`${(0,s.checkDataTypes)(e,t,i.opts.strictNumbers,s.DataType.Wrong)}`}return c.nil}function a(){if(n.validateSchema){let r=e.scopeValue("validate$data",{ref:n.validateSchema});return(0,c._)`!${r}(${t})`}return c.nil}}subschema(e,t){let r=(0,u.getSubschema)(this.it,e);(0,u.extendSubschemaData)(r,this.it,e),(0,u.extendSubschemaMode)(r,e);let n={...this.it,...r,items:void 0,props:void 0};return _(n,t),n}mergeEvaluated(e,t){let{it:r,gen:n}=this;r.opts.unevaluated&&(!0!==r.props&&void 0!==e.props&&(r.props=p.mergeEvaluated.props(n,e.props,r.props,t)),!0!==r.items&&void 0!==e.items&&(r.items=p.mergeEvaluated.items(n,e.items,r.items,t)))}mergeValidEvaluated(e,t){let{it:r,gen:n}=this;if(r.opts.unevaluated&&(!0!==r.props||!0!==r.items))return n.if(t,()=>this.mergeEvaluated(e,c.Name)),!0}}function q(e,t,r,n){let i=new H(e,r,t);"code"in r?r.code(i,n):i.$data&&r.validate?(0,l.funcKeywordCode)(i,r):"macro"in r?(0,l.macroKeywordCode)(i,r):(r.compile||r.validate)&&(0,l.funcKeywordCode)(i,r)}t.KeywordCxt=H;let W=/^\/(?:[^~]|~0|~1)*$/,K=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Y(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let i,o;if(""===e)return d.default.rootData;if("/"===e[0]){if(!W.test(e))throw Error(`Invalid JSON-pointer: ${e}`);i=e,o=d.default.rootData}else{let s=K.exec(e);if(!s)throw Error(`Invalid JSON-pointer: ${e}`);let l=+s[1];if("#"===(i=s[2])){if(l>=t)throw Error(a("property/index",l));return n[t-l]}if(l>t)throw Error(a("data",l));if(o=r[t-l],!i)return o}let s=o;for(let e of i.split("/"))e&&(o=(0,c._)`${o}${(0,c.getProperty)((0,p.unescapeJsonPointer)(e))}`,s=(0,c._)`${s} && ${o}`);return s;function a(e,r){return`Cannot access ${e} ${r} levels up, current level is ${t}`}}t.getData=Y},67560:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;let n=r(59580),i=r(59980),o=r(19952),s=r(57352);function a(e,t){let{gen:r,keyword:i,schema:o,parentSchema:s,it:a}=e,l=t.macro.call(a.self,o,s,a),u=h(r,i,l);!1!==a.opts.validateSchema&&a.self.validateSchema(l,!0);let c=r.name("valid");e.subschema({schema:l,schemaPath:n.nil,errSchemaPath:`${a.errSchemaPath}/${i}`,topSchemaRef:u,compositeRule:!0},c),e.pass(c,()=>e.error(!0))}function l(e,t){var r;let{gen:s,keyword:a,schema:l,parentSchema:p,$data:f,it:m}=e;d(m,t);let g=h(s,a,!f&&t.compile?t.compile.call(m.self,l,p,m):t.validate),y=s.let("valid");function v(){if(!1===t.errors)S(),t.modifying&&u(e),_(()=>e.error());else{let r=t.async?b():E();t.modifying&&u(e),_(()=>c(e,r))}}function b(){let e=s.let("ruleErrs",null);return s.try(()=>S((0,n._)`await `),t=>s.assign(y,!1).if((0,n._)`${t} instanceof ${m.ValidationError}`,()=>s.assign(e,(0,n._)`${t}.errors`),()=>s.throw(t))),e}function E(){let e=(0,n._)`${g}.errors`;return s.assign(e,null),S(n.nil),e}function S(r=t.async?(0,n._)`await `:n.nil){let a=m.opts.passContext?i.default.this:i.default.self,l=!("compile"in t&&!f||!1===t.schema);s.assign(y,(0,n._)`${r}${(0,o.callValidateCode)(e,g,a,l)}`,t.modifying)}function _(e){var r;s.if((0,n.not)(null!==(r=t.valid)&&void 0!==r?r:y),e)}e.block$data(y,v),e.ok(null!==(r=t.valid)&&void 0!==r?r:y)}function u(e){let{gen:t,data:r,it:i}=e;t.if(i.parentData,()=>t.assign(r,(0,n._)`${i.parentData}[${i.parentDataProperty}]`))}function c(e,t){let{gen:r}=e;r.if((0,n._)`Array.isArray(${t})`,()=>{r.assign(i.default.vErrors,(0,n._)`${i.default.vErrors} === null ? ${t} : ${i.default.vErrors}.concat(${t})`).assign(i.default.errors,(0,n._)`${i.default.vErrors}.length`),(0,s.extendErrors)(e)},()=>e.error())}function d({schemaEnv:e},t){if(t.async&&!e.$async)throw Error("async keyword in sync schema")}function h(e,t,r){if(void 0===r)throw Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof r?{ref:r}:{ref:r,code:(0,n.stringify)(r)})}function p(e,t,r=!1){return!t.length||t.some(t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||r&&void 0===e)}function f({schema:e,opts:t,self:r,errSchemaPath:n},i,o){if(Array.isArray(i.keyword)?!i.keyword.includes(o):i.keyword!==o)throw Error("ajv implementation error");let s=i.dependencies;if(null==s?void 0:s.some(t=>!Object.prototype.hasOwnProperty.call(e,t)))throw Error(`parent schema must have dependencies of ${o}: ${s.join(",")}`);if(i.validateSchema&&!i.validateSchema(e[o])){let e=`keyword "${o}" value is invalid at path "${n}": `+r.errorsText(i.validateSchema.errors);if("log"===t.validateSchema)r.logger.error(e);else throw Error(e)}}t.macroKeywordCode=a,t.funcKeywordCode=l,t.validSchemaType=p,t.validateKeywordUsage=f},89080:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;let n=r(59580),i=r(5762);function o(e,{keyword:t,schemaProp:r,schema:o,schemaPath:s,errSchemaPath:a,topSchemaRef:l}){if(void 0!==t&&void 0!==o)throw Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){let o=e.schema[t];return void 0===r?{schema:o,schemaPath:(0,n._)`${e.schemaPath}${(0,n.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:o[r],schemaPath:(0,n._)`${e.schemaPath}${(0,n.getProperty)(t)}${(0,n.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,i.escapeFragment)(r)}`}}if(void 0!==o){if(void 0===s||void 0===a||void 0===l)throw Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:o,schemaPath:s,topSchemaRef:l,errSchemaPath:a}}throw Error('either "keyword" or "schema" must be passed')}function s(e,t,{dataProp:r,dataPropType:o,data:s,dataTypes:a,propertyName:l}){if(void 0!==s&&void 0!==r)throw Error('both "data" and "dataProp" passed, only one allowed');let{gen:u}=t;if(void 0!==r){let{errorPath:s,dataPathArr:a,opts:l}=t;c(u.let("data",(0,n._)`${t.data}${(0,n.getProperty)(r)}`,!0)),e.errorPath=(0,n.str)`${s}${(0,i.getErrorPath)(r,o,l.jsPropertySyntax)}`,e.parentDataProperty=(0,n._)`${r}`,e.dataPathArr=[...a,e.parentDataProperty]}function c(r){e.data=r,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,r]}void 0!==s&&(c(s instanceof n.Name?s:u.let("data",s,!0)),void 0!==l&&(e.propertyName=l)),a&&(e.dataTypes=a)}function a(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:i,allErrors:o}){void 0!==n&&(e.compositeRule=n),void 0!==i&&(e.createErrors=i),void 0!==o&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=r}t.getSubschema=o,t.extendSubschemaData=s,t.extendSubschemaMode=a},68008:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var n=r(74653);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return n.KeywordCxt}});var i=r(59580);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return i.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return i.CodeGen}});let o=r(90364),s=r(53e3),a=r(23268),l=r(3756),u=r(59580),c=r(5717),d=r(11925),h=r(5762),p=r(80812),f=r(39172),m=(e,t)=>new RegExp(e,t);m.code="new RegExp";let g=["removeAdditional","useDefaults","coerceTypes"],y=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function S(e){var t,r,n,i,o,s,a,l,u,c,d,h,p,g,y,v,b,S,_,T,A,C,w,O,R;let x=e.strict,I=null===(t=e.code)||void 0===t?void 0:t.optimize,D=!0===I||void 0===I?1:I||0,P=null!==(n=null===(r=e.code)||void 0===r?void 0:r.regExp)&&void 0!==n?n:m,N=null!==(i=e.uriResolver)&&void 0!==i?i:f.default;return{strictSchema:null===(s=null!==(o=e.strictSchema)&&void 0!==o?o:x)||void 0===s||s,strictNumbers:null===(l=null!==(a=e.strictNumbers)&&void 0!==a?a:x)||void 0===l||l,strictTypes:null!==(c=null!==(u=e.strictTypes)&&void 0!==u?u:x)&&void 0!==c?c:"log",strictTuples:null!==(h=null!==(d=e.strictTuples)&&void 0!==d?d:x)&&void 0!==h?h:"log",strictRequired:null!==(g=null!==(p=e.strictRequired)&&void 0!==p?p:x)&&void 0!==g&&g,code:e.code?{...e.code,optimize:D,regExp:P}:{optimize:D,regExp:P},loopRequired:null!==(y=e.loopRequired)&&void 0!==y?y:E,loopEnum:null!==(v=e.loopEnum)&&void 0!==v?v:E,meta:null===(b=e.meta)||void 0===b||b,messages:null===(S=e.messages)||void 0===S||S,inlineRefs:null===(_=e.inlineRefs)||void 0===_||_,schemaId:null!==(T=e.schemaId)&&void 0!==T?T:"$id",addUsedSchema:null===(A=e.addUsedSchema)||void 0===A||A,validateSchema:null===(C=e.validateSchema)||void 0===C||C,validateFormats:null===(w=e.validateFormats)||void 0===w||w,unicodeRegExp:null===(O=e.unicodeRegExp)||void 0===O||O,int32range:null===(R=e.int32range)||void 0===R||R,uriResolver:N}}class _{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...S(e)};let{es5:t,lines:r}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:y,es5:t,lines:r}),this.logger=I(e.logger);let n=e.validateFormats;e.validateFormats=!1,this.RULES=(0,a.getRules)(),T.call(this,v,e,"NOT SUPPORTED"),T.call(this,b,e,"DEPRECATED","warn"),this._metaOpts=R.call(this),e.formats&&w.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&O.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),C.call(this),e.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:t,schemaId:r}=this.opts,n=p;"id"===r&&((n={...p}).id=n.$id,delete n.$id),t&&e&&this.addMetaSchema(n,n[r],!1)}defaultMeta(){let{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw Error(`no schema with key or ref "${e}"`)}else r=this.compile(e);let n=r(t);return"$async"in r||(this.errors=r.errors),n}compile(e,t){let r=this._addSchema(e,t);return r.validate||this._compileSchemaEnv(r)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw Error("options.loadSchema should be a function");let{loadSchema:r}=this.opts;return n.call(this,e,t);async function n(e,t){await i.call(this,e.$schema);let r=this._addSchema(e,t);return r.validate||o.call(this,r)}async function i(e){e&&!this.getSchema(e)&&await n.call(this,{$ref:e},!0)}async function o(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof s.default))throw t;return a.call(this,t),await l.call(this,t.missingSchema),o.call(this,e)}}function a({missingSchema:e,missingRef:t}){if(this.refs[e])throw Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function l(e){let r=await u.call(this,e);this.refs[e]||await i.call(this,r.$schema),this.refs[e]||this.addSchema(r,e,t)}async function u(e){let t=this._loading[e];if(t)return t;try{return await (this._loading[e]=r(e))}finally{delete this._loading[e]}}}addSchema(e,t,r,n=this.opts.validateSchema){let i;if(Array.isArray(e)){for(let t of e)this.addSchema(t,void 0,r,n);return this}if("object"==typeof e){let{schemaId:t}=this.opts;if(void 0!==(i=e[t])&&"string"!=typeof i)throw Error(`schema ${t} must be string`)}return t=(0,c.normalizeId)(t||i),this._checkUnique(t),this.schemas[t]=this._addSchema(e,r,t,n,!0),this}addMetaSchema(e,t,r=this.opts.validateSchema){return this.addSchema(e,t,!0,r),this}validateSchema(e,t){let r;if("boolean"==typeof e)return!0;if(void 0!==(r=e.$schema)&&"string"!=typeof r)throw Error("$schema must be a string");if(!(r=r||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),this.errors=null,!0;let n=this.validate(r,e);if(!n&&t){let e="schema is invalid: "+this.errorsText();if("log"===this.opts.validateSchema)this.logger.error(e);else throw Error(e)}return n}getSchema(e){let t;for(;"string"==typeof(t=A.call(this,e));)e=t;if(void 0===t){let{schemaId:r}=this.opts,n=new l.SchemaEnv({schema:{},schemaId:r});if(!(t=l.resolveSchema.call(this,n,e)))return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let t=A.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let t=e;this._cache.delete(t);let r=e[this.opts.schemaId];return r&&(r=(0,c.normalizeId)(r),delete this.schemas[r],delete this.refs[r]),this}default:throw Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let t of e)this.addKeyword(t);return this}addKeyword(e,t){let r;if("string"==typeof e)r=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=r);else if("object"==typeof e&&void 0===t){if(Array.isArray(r=(t=e).keyword)&&!r.length)throw Error("addKeywords: keyword must be string or non-empty array")}else throw Error("invalid addKeywords parameters");if(P.call(this,r,t),!t)return(0,h.eachItem)(r,e=>N.call(this,e)),this;M.call(this,t);let n={...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)};return(0,h.eachItem)(r,0===n.type.length?e=>N.call(this,e,n):e=>n.type.forEach(t=>N.call(this,e,n,t))),this}getKeyword(e){let t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){let{RULES:t}=this;for(let r of(delete t.keywords[e],delete t.all[e],t.rules)){let t=r.rules.findIndex(t=>t.keyword===e);t>=0&&r.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:r="data"}={}){return e&&0!==e.length?e.map(e=>`${r}${e.instancePath} ${e.message}`).reduce((e,r)=>e+t+r):"No errors"}$dataMetaSchema(e,t){let r=this.RULES.all;for(let n of(e=JSON.parse(JSON.stringify(e)),t)){let t=n.split("/").slice(1),i=e;for(let e of t)i=i[e];for(let e in r){let t=r[e];if("object"!=typeof t)continue;let{$data:n}=t.definition,o=i[e];n&&o&&(i[e]=B(o))}}return e}_removeAllSchemas(e,t){for(let r in e){let n=e[r];(!t||t.test(r))&&("string"==typeof n?delete e[r]:n&&!n.meta&&(this._cache.delete(n.schema),delete e[r]))}}_addSchema(e,t,r,n=this.opts.validateSchema,i=this.opts.addUsedSchema){let o;let{schemaId:s}=this.opts;if("object"==typeof e)o=e[s];else{if(this.opts.jtd)throw Error("schema must be object");if("boolean"!=typeof e)throw Error("schema must be object or boolean")}let a=this._cache.get(e);if(void 0!==a)return a;r=(0,c.normalizeId)(o||r);let u=c.getSchemaRefs.call(this,e,r);return a=new l.SchemaEnv({schema:e,schemaId:s,meta:t,baseId:r,localRefs:u}),this._cache.set(a.schema,a),i&&!r.startsWith("#")&&(r&&this._checkUnique(r),this.refs[r]=a),n&&this.validateSchema(e,!0),a}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):l.compileSchema.call(this,e),!e.validate)throw Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let t=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,e)}finally{this.opts=t}}}function T(e,t,r,n="error"){for(let i in e){let o=i;o in t&&this.logger[n](`${r}: option ${i}. ${e[o]}`)}}function A(e){return e=(0,c.normalizeId)(e),this.schemas[e]||this.refs[e]}function C(){let e=this.opts.schemas;if(e){if(Array.isArray(e))this.addSchema(e);else for(let t in e)this.addSchema(e[t],t)}}function w(){for(let e in this.opts.formats){let t=this.opts.formats[e];t&&this.addFormat(e,t)}}function O(e){if(Array.isArray(e)){this.addVocabulary(e);return}for(let t in this.logger.warn("keywords option as map is deprecated, pass array"),e){let r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}function R(){let e={...this.opts};for(let t of g)delete e[t];return e}_.ValidationError=o.default,_.MissingRefError=s.default,t.default=_;let x={log(){},warn(){},error(){}};function I(e){if(!1===e)return x;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw Error("logger must implement log, warn and error methods")}let D=/^[a-z_$][a-z0-9_$:-]*$/i;function P(e,t){let{RULES:r}=this;if((0,h.eachItem)(e,e=>{if(r.keywords[e])throw Error(`Keyword ${e} is already defined`);if(!D.test(e))throw Error(`Keyword ${e} has invalid name`)}),t&&t.$data&&!("code"in t||"validate"in t))throw Error('$data keyword must have "code" or "validate" function')}function N(e,t,r){var n;let i=null==t?void 0:t.post;if(r&&i)throw Error('keyword with "post" flag cannot have "type"');let{RULES:o}=this,s=i?o.post:o.rules.find(({type:e})=>e===r);if(s||(s={type:r,rules:[]},o.rules.push(s)),o.keywords[e]=!0,!t)return;let a={keyword:e,definition:{...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)}};t.before?k.call(this,s,a,t.before):s.rules.push(a),o.all[e]=a,null===(n=t.implements)||void 0===n||n.forEach(e=>this.addKeyword(e))}function k(e,t,r){let n=e.rules.findIndex(e=>e.keyword===r);n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function M(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=B(t)),e.validateSchema=this.compile(t,!0))}let L={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function B(e){return{anyOf:[e,L]}}},62038:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(32977);n.code='require("ajv/dist/runtime/equal").default',t.default=n},54219:(e,t)=>{"use strict";function r(e){let t;let r=e.length,n=0,i=0;for(;i<r;)n++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<r&&(64512&(t=e.charCodeAt(i)))==56320&&i++;return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,r.code='require("ajv/dist/runtime/ucs2length").default'},39172:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(54618);n.code='require("ajv/dist/runtime/uri").default',t.default=n},90364:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.default=r},44878:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;let n=r(59580),i=r(5762),o={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,n.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,n._)`{limit: ${e}}`},code(e){let{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,i.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}s(e,n)}};function s(e,t){let{gen:r,schema:o,data:s,keyword:a,it:l}=e;l.items=!0;let u=r.const("len",(0,n._)`${s}.length`);if(!1===o)e.setParams({len:t.length}),e.pass((0,n._)`${u} <= ${t.length}`);else if("object"==typeof o&&!(0,i.alwaysValidSchema)(l,o)){let i=r.var("valid",(0,n._)`${u} <= ${t.length}`);r.if((0,n.not)(i),()=>c(i)),e.ok(i)}function c(o){r.forRange("i",t.length,u,t=>{e.subschema({keyword:a,dataProp:t,dataPropType:i.Type.Num},o),l.allErrors||r.if((0,n.not)(o),()=>r.break())})}}t.validateAdditionalItems=s,t.default=o},327:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(19952),i=r(59580),o=r(59980),s=r(5762),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>(0,i._)`{additionalProperty: ${e.additionalProperty}}`},code(e){let{gen:t,schema:r,parentSchema:a,data:l,errsCount:u,it:c}=e;if(!u)throw Error("ajv implementation error");let{allErrors:d,opts:h}=c;if(c.props=!0,"all"!==h.removeAdditional&&(0,s.alwaysValidSchema)(c,r))return;let p=(0,n.allSchemaProperties)(a.properties),f=(0,n.allSchemaProperties)(a.patternProperties);function m(r){let o;if(p.length>8){let e=(0,s.schemaRefOrVal)(c,a.properties,"properties");o=(0,n.isOwnProperty)(t,e,r)}else o=p.length?(0,i.or)(...p.map(e=>(0,i._)`${r} === ${e}`)):i.nil;return f.length&&(o=(0,i.or)(o,...f.map(t=>(0,i._)`${(0,n.usePattern)(e,t)}.test(${r})`))),(0,i.not)(o)}function g(e){t.code((0,i._)`delete ${l}[${e}]`)}function y(n){if("all"===h.removeAdditional||h.removeAdditional&&!1===r){g(n);return}if(!1===r){e.setParams({additionalProperty:n}),e.error(),d||t.break();return}if("object"==typeof r&&!(0,s.alwaysValidSchema)(c,r)){let r=t.name("valid");"failing"===h.removeAdditional?(v(n,r,!1),t.if((0,i.not)(r),()=>{e.reset(),g(n)})):(v(n,r),d||t.if((0,i.not)(r),()=>t.break()))}}function v(t,r,n){let i={keyword:"additionalProperties",dataProp:t,dataPropType:s.Type.Str};!1===n&&Object.assign(i,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(i,r)}(function(){t.forIn("key",l,e=>{p.length||f.length?t.if(m(e),()=>y(e)):y(e)})})(),e.ok((0,i._)`${u} === ${o.default.errors}`)}};t.default=a},28827:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(5762),i={keyword:"allOf",schemaType:"array",code(e){let{gen:t,schema:r,it:i}=e;if(!Array.isArray(r))throw Error("ajv implementation error");let o=t.name("valid");r.forEach((t,r)=>{if((0,n.alwaysValidSchema)(i,t))return;let s=e.subschema({keyword:"allOf",schemaProp:r},o);e.ok(o),e.mergeEvaluated(s)})}};t.default=i},80586:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:r(19952).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=n},40990:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(59580),i=r(5762),o={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?(0,n.str)`must contain at least ${e} valid item(s)`:(0,n.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?(0,n._)`{minContains: ${e}}`:(0,n._)`{minContains: ${e}, maxContains: ${t}}`},code(e){let t,r;let{gen:o,schema:s,parentSchema:a,data:l,it:u}=e,{minContains:c,maxContains:d}=a;u.opts.next?(t=void 0===c?1:c,r=d):t=1;let h=o.const("len",(0,n._)`${l}.length`);if(e.setParams({min:t,max:r}),void 0===r&&0===t){(0,i.checkStrictMode)(u,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(void 0!==r&&t>r){(0,i.checkStrictMode)(u,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,i.alwaysValidSchema)(u,s)){let i=(0,n._)`${h} >= ${t}`;void 0!==r&&(i=(0,n._)`${i} && ${h} <= ${r}`),e.pass(i);return}u.items=!0;let p=o.name("valid");function f(){let e=o.name("_valid"),t=o.let("count",0);m(e,()=>o.if(e,()=>g(t)))}function m(t,r){o.forRange("i",0,h,n=>{e.subschema({keyword:"contains",dataProp:n,dataPropType:i.Type.Num,compositeRule:!0},t),r()})}function g(e){o.code((0,n._)`${e}++`),void 0===r?o.if((0,n._)`${e} >= ${t}`,()=>o.assign(p,!0).break()):(o.if((0,n._)`${e} > ${r}`,()=>o.assign(p,!1).break()),1===t?o.assign(p,!0):o.if((0,n._)`${e} >= ${t}`,()=>o.assign(p,!0)))}void 0===r&&1===t?m(p,()=>o.if(p,()=>o.break())):0===t?(o.let(p,!0),void 0!==r&&o.if((0,n._)`${l}.length > 0`,f)):(o.let(p,!1),f()),e.result(p,()=>e.reset())}};t.default=o},53519:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;let n=r(59580),i=r(5762),o=r(19952);t.error={message:({params:{property:e,depsCount:t,deps:r}})=>{let i=1===t?"property":"properties";return(0,n.str)`must have ${i} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:i}})=>(0,n._)`{property: ${e},
    missingProperty: ${i},
    depsCount: ${t},
    deps: ${r}}`};let s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){let[t,r]=a(e);l(e,t),u(e,r)}};function a({schema:e}){let t={},r={};for(let n in e)"__proto__"!==n&&((Array.isArray(e[n])?t:r)[n]=e[n]);return[t,r]}function l(e,t=e.schema){let{gen:r,data:i,it:s}=e;if(0===Object.keys(t).length)return;let a=r.let("missing");for(let l in t){let u=t[l];if(0===u.length)continue;let c=(0,o.propertyInData)(r,i,l,s.opts.ownProperties);e.setParams({property:l,depsCount:u.length,deps:u.join(", ")}),s.allErrors?r.if(c,()=>{for(let t of u)(0,o.checkReportMissingProp)(e,t)}):(r.if((0,n._)`${c} && (${(0,o.checkMissingProp)(e,u,a)})`),(0,o.reportMissingProp)(e,a),r.else())}}function u(e,t=e.schema){let{gen:r,data:n,keyword:s,it:a}=e,l=r.name("valid");for(let u in t)(0,i.alwaysValidSchema)(a,t[u])||(r.if((0,o.propertyInData)(r,n,u,a.opts.ownProperties),()=>{let t=e.subschema({keyword:s,schemaProp:u},l);e.mergeValidEvaluated(t,l)},()=>r.var(l,!0)),e.ok(l))}t.validatePropertyDeps=l,t.validateSchemaDeps=u,t.default=s},45760:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(59580),i=r(5762),o={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>(0,n.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,n._)`{failingKeyword: ${e.ifClause}}`},code(e){let{gen:t,parentSchema:r,it:o}=e;void 0===r.then&&void 0===r.else&&(0,i.checkStrictMode)(o,'"if" without "then" and "else" is ignored');let a=s(o,"then"),l=s(o,"else");if(!a&&!l)return;let u=t.let("valid",!0),c=t.name("_valid");if(d(),e.reset(),a&&l){let r=t.let("ifClause");e.setParams({ifClause:r}),t.if(c,h("then",r),h("else",r))}else a?t.if(c,h("then")):t.if((0,n.not)(c),h("else"));function d(){let t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},c);e.mergeEvaluated(t)}function h(r,i){return()=>{let o=e.subschema({keyword:r},c);t.assign(u,c),e.mergeValidEvaluated(o,u),i?t.assign(i,(0,n._)`${r}`):e.setParams({ifClause:r})}}e.pass(u,()=>e.error(!0))}};function s(e,t){let r=e.schema[t];return void 0!==r&&!(0,i.alwaysValidSchema)(e,r)}t.default=o},88486:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(44878),i=r(88654),o=r(91977),s=r(10061),a=r(40990),l=r(53519),u=r(28529),c=r(327),d=r(45361),h=r(54388),p=r(41650),f=r(80586),m=r(56415),g=r(28827),y=r(45760),v=r(2845);function b(e=!1){let t=[p.default,f.default,m.default,g.default,y.default,v.default,u.default,c.default,l.default,d.default,h.default];return e?t.push(i.default,s.default):t.push(n.default,o.default),t.push(a.default),t}t.default=b},91977:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;let n=r(59580),i=r(5762),o=r(19952),s={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){let{schema:t,it:r}=e;if(Array.isArray(t))return a(e,"additionalItems",t);r.items=!0,(0,i.alwaysValidSchema)(r,t)||e.ok((0,o.validateArray)(e))}};function a(e,t,r=e.schema){let{gen:o,parentSchema:s,data:a,keyword:l,it:u}=e;h(s),u.opts.unevaluated&&r.length&&!0!==u.items&&(u.items=i.mergeEvaluated.items(o,r.length,u.items));let c=o.name("valid"),d=o.const("len",(0,n._)`${a}.length`);function h(e){let{opts:n,errSchemaPath:o}=u,s=r.length,a=s===e.minItems&&(s===e.maxItems||!1===e[t]);if(n.strictTuples&&!a){let e=`"${l}" is ${s}-tuple, but minItems or maxItems/${t} are not specified or different at path "${o}"`;(0,i.checkStrictMode)(u,e,n.strictTuples)}}r.forEach((t,r)=>{(0,i.alwaysValidSchema)(u,t)||(o.if((0,n._)`${d} > ${r}`,()=>e.subschema({keyword:l,schemaProp:r,dataProp:r},c)),e.ok(c))})}t.validateTuple=a,t.default=s},10061:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(59580),i=r(5762),o=r(19952),s=r(44878),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,n.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,n._)`{limit: ${e}}`},code(e){let{schema:t,parentSchema:r,it:n}=e,{prefixItems:a}=r;n.items=!0,(0,i.alwaysValidSchema)(n,t)||(a?(0,s.validateAdditionalItems)(e,a):e.ok((0,o.validateArray)(e)))}};t.default=a},41650:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(5762),i={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){let{gen:t,schema:r,it:i}=e;if((0,n.alwaysValidSchema)(i,r)){e.fail();return}let o=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),e.failResult(o,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};t.default=i},56415:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(59580),i=r(5762),o={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>(0,n._)`{passingSchemas: ${e.passing}}`},code(e){let{gen:t,schema:r,parentSchema:o,it:s}=e;if(!Array.isArray(r))throw Error("ajv implementation error");if(s.opts.discriminator&&o.discriminator)return;let a=r,l=t.let("valid",!1),u=t.let("passing",null),c=t.name("_valid");function d(){a.forEach((r,o)=>{let a;(0,i.alwaysValidSchema)(s,r)?t.var(c,!0):a=e.subschema({keyword:"oneOf",schemaProp:o,compositeRule:!0},c),o>0&&t.if((0,n._)`${c} && ${l}`).assign(l,!1).assign(u,(0,n._)`[${u}, ${o}]`).else(),t.if(c,()=>{t.assign(l,!0),t.assign(u,o),a&&e.mergeEvaluated(a,n.Name)})})}e.setParams({passing:u}),t.block(d),e.result(l,()=>e.reset(),()=>e.error(!0))}};t.default=o},54388:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(19952),i=r(59580),o=r(5762),s=r(5762),a={keyword:"patternProperties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,data:a,parentSchema:l,it:u}=e,{opts:c}=u,d=(0,n.allSchemaProperties)(r),h=d.filter(e=>(0,o.alwaysValidSchema)(u,r[e]));if(0===d.length||h.length===d.length&&(!u.opts.unevaluated||!0===u.props))return;let p=c.strictSchema&&!c.allowMatchingProperties&&l.properties,f=t.name("valid");!0===u.props||u.props instanceof i.Name||(u.props=(0,s.evaluatedPropsToName)(t,u.props));let{props:m}=u;function g(e){for(let t in p)new RegExp(e).test(t)&&(0,o.checkStrictMode)(u,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function y(r){t.forIn("key",a,o=>{t.if((0,i._)`${(0,n.usePattern)(e,r)}.test(${o})`,()=>{let n=h.includes(r);n||e.subschema({keyword:"patternProperties",schemaProp:r,dataProp:o,dataPropType:s.Type.Str},f),u.opts.unevaluated&&!0!==m?t.assign((0,i._)`${m}[${o}]`,!0):n||u.allErrors||t.if((0,i.not)(f),()=>t.break())})})}(function(){for(let e of d)p&&g(e),u.allErrors?y(e):(t.var(f,!0),y(e),t.if(f))})()}};t.default=a},88654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(91977),i={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,n.validateTuple)(e,"items")};t.default=i},45361:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(74653),i=r(19952),o=r(5762),s=r(327),a={keyword:"properties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,parentSchema:a,data:l,it:u}=e;"all"===u.opts.removeAdditional&&void 0===a.additionalProperties&&s.default.code(new n.KeywordCxt(u,s.default,"additionalProperties"));let c=(0,i.allSchemaProperties)(r);for(let e of c)u.definedProperties.add(e);u.opts.unevaluated&&c.length&&!0!==u.props&&(u.props=o.mergeEvaluated.props(t,(0,o.toHash)(c),u.props));let d=c.filter(e=>!(0,o.alwaysValidSchema)(u,r[e]));if(0===d.length)return;let h=t.name("valid");for(let r of d)p(r)?f(r):(t.if((0,i.propertyInData)(t,l,r,u.opts.ownProperties)),f(r),u.allErrors||t.else().var(h,!0),t.endIf()),e.it.definedProperties.add(r),e.ok(h);function p(e){return u.opts.useDefaults&&!u.compositeRule&&void 0!==r[e].default}function f(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},h)}}};t.default=a},28529:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(59580),i=r(5762),o={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>(0,n._)`{propertyName: ${e.propertyName}}`},code(e){let{gen:t,schema:r,data:o,it:s}=e;if((0,i.alwaysValidSchema)(s,r))return;let a=t.name("valid");t.forIn("key",o,r=>{e.setParams({propertyName:r}),e.subschema({keyword:"propertyNames",data:r,dataTypes:["string"],propertyName:r,compositeRule:!0},a),t.if((0,n.not)(a),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(a)}};t.default=o},2845:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(5762),i={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){void 0===t.if&&(0,n.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};t.default=i},19952:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;let n=r(59580),i=r(5762),o=r(59980),s=r(5762);function a(e,t){let{gen:r,data:i,it:o}=e;r.if(p(r,i,t,o.opts.ownProperties),()=>{e.setParams({missingProperty:(0,n._)`${t}`},!0),e.error()})}function l({gen:e,data:t,it:{opts:r}},i,o){return(0,n.or)(...i.map(i=>(0,n.and)(p(e,t,i,r.ownProperties),(0,n._)`${o} = ${i}`)))}function u(e,t){e.setParams({missingProperty:t},!0),e.error()}function c(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,n._)`Object.prototype.hasOwnProperty`})}function d(e,t,r){return(0,n._)`${c(e)}.call(${t}, ${r})`}function h(e,t,r,i){let o=(0,n._)`${t}${(0,n.getProperty)(r)} !== undefined`;return i?(0,n._)`${o} && ${d(e,t,r)}`:o}function p(e,t,r,i){let o=(0,n._)`${t}${(0,n.getProperty)(r)} === undefined`;return i?(0,n.or)(o,(0,n.not)(d(e,t,r))):o}function f(e){return e?Object.keys(e).filter(e=>"__proto__"!==e):[]}function m(e,t){return f(t).filter(r=>!(0,i.alwaysValidSchema)(e,t[r]))}function g({schemaCode:e,data:t,it:{gen:r,topSchemaRef:i,schemaPath:s,errorPath:a},it:l},u,c,d){let h=d?(0,n._)`${e}, ${t}, ${i}${s}`:t,p=[[o.default.instancePath,(0,n.strConcat)(o.default.instancePath,a)],[o.default.parentData,l.parentData],[o.default.parentDataProperty,l.parentDataProperty],[o.default.rootData,o.default.rootData]];l.opts.dynamicRef&&p.push([o.default.dynamicAnchors,o.default.dynamicAnchors]);let f=(0,n._)`${h}, ${r.object(...p)}`;return c!==n.nil?(0,n._)`${u}.call(${c}, ${f})`:(0,n._)`${u}(${f})`}t.checkReportMissingProp=a,t.checkMissingProp=l,t.reportMissingProp=u,t.hasPropFunc=c,t.isOwnProperty=d,t.propertyInData=h,t.noPropertyInData=p,t.allSchemaProperties=f,t.schemaProperties=m,t.callValidateCode=g;let y=(0,n._)`new RegExp`;function v({gen:e,it:{opts:t}},r){let i=t.unicodeRegExp?"u":"",{regExp:o}=t.code,a=o(r,i);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,n._)`${"new RegExp"===o.code?y:(0,s.useFunc)(e,o)}(${r}, ${i})`})}function b(e){let{gen:t,data:r,keyword:o,it:s}=e,a=t.name("valid");if(s.allErrors){let e=t.let("valid",!0);return l(()=>t.assign(e,!1)),e}return t.var(a,!0),l(()=>t.break()),a;function l(s){let l=t.const("len",(0,n._)`${r}.length`);t.forRange("i",0,l,r=>{e.subschema({keyword:o,dataProp:r,dataPropType:i.Type.Num},a),t.if((0,n.not)(a),s)})}}function E(e){let{gen:t,schema:r,keyword:o,it:s}=e;if(!Array.isArray(r))throw Error("ajv implementation error");if(r.some(e=>(0,i.alwaysValidSchema)(s,e))&&!s.opts.unevaluated)return;let a=t.let("valid",!1),l=t.name("_valid");t.block(()=>r.forEach((r,i)=>{let s=e.subschema({keyword:o,schemaProp:i,compositeRule:!0},l);t.assign(a,(0,n._)`${a} || ${l}`),e.mergeValidEvaluated(s,l)||t.if((0,n.not)(a))})),e.result(a,()=>e.reset(),()=>e.error(!0))}t.usePattern=v,t.validateArray=b,t.validateUnion=E},85593:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r={keyword:"id",code(){throw Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=r},20814:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(85593),i=r(3070),o=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",n.default,i.default];t.default=o},3070:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;let n=r(53e3),i=r(19952),o=r(59580),s=r(59980),a=r(3756),l=r(5762),u={keyword:"$ref",schemaType:"string",code(e){let{gen:t,schema:r,it:i}=e,{baseId:s,schemaEnv:l,validateName:u,opts:h,self:p}=i,{root:f}=l;if(("#"===r||"#/"===r)&&s===f.baseId)return g();let m=a.resolveRef.call(p,f,s,r);if(void 0===m)throw new n.default(i.opts.uriResolver,s,r);if(m instanceof a.SchemaEnv)return y(m);return v(m);function g(){if(l===f)return d(e,u,l,l.$async);let r=t.scopeValue("root",{ref:f});return d(e,(0,o._)`${r}.validate`,f,f.$async)}function y(t){let r=c(e,t);d(e,r,t,t.$async)}function v(n){let i=t.scopeValue("schema",!0===h.code.source?{ref:n,code:(0,o.stringify)(n)}:{ref:n}),s=t.name("valid"),a=e.subschema({schema:n,dataTypes:[],schemaPath:o.nil,topSchemaRef:i,errSchemaPath:r},s);e.mergeEvaluated(a),e.ok(s)}}};function c(e,t){let{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,o._)`${r.scopeValue("wrapper",{ref:t})}.validate`}function d(e,t,r,n){let{gen:a,it:u}=e,{allErrors:c,schemaEnv:d,opts:h}=u,p=h.passContext?s.default.this:o.nil;function f(){if(!d.$async)throw Error("async schema referenced by sync schema");let r=a.let("valid");a.try(()=>{a.code((0,o._)`await ${(0,i.callValidateCode)(e,t,p)}`),y(t),c||a.assign(r,!0)},e=>{a.if((0,o._)`!(${e} instanceof ${u.ValidationError})`,()=>a.throw(e)),g(e),c||a.assign(r,!1)}),e.ok(r)}function m(){e.result((0,i.callValidateCode)(e,t,p),()=>y(t),()=>g(t))}function g(e){let t=(0,o._)`${e}.errors`;a.assign(s.default.vErrors,(0,o._)`${s.default.vErrors} === null ? ${t} : ${s.default.vErrors}.concat(${t})`),a.assign(s.default.errors,(0,o._)`${s.default.vErrors}.length`)}function y(e){var t;if(!u.opts.unevaluated)return;let n=null===(t=null==r?void 0:r.validate)||void 0===t?void 0:t.evaluated;if(!0!==u.props){if(n&&!n.dynamicProps)void 0!==n.props&&(u.props=l.mergeEvaluated.props(a,n.props,u.props));else{let t=a.var("props",(0,o._)`${e}.evaluated.props`);u.props=l.mergeEvaluated.props(a,t,u.props,o.Name)}}if(!0!==u.items){if(n&&!n.dynamicItems)void 0!==n.items&&(u.items=l.mergeEvaluated.items(a,n.items,u.items));else{let t=a.var("items",(0,o._)`${e}.evaluated.items`);u.items=l.mergeEvaluated.items(a,t,u.items,o.Name)}}}n?f():m()}t.getValidate=c,t.callRef=d,t.default=u},75322:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(59580),i=r(64415),o=r(3756),s=r(53e3),a=r(5762),l={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===i.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,n._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},code(e){let{gen:t,data:r,schema:l,parentSchema:u,it:c}=e,{oneOf:d}=u;if(!c.opts.discriminator)throw Error("discriminator: requires discriminator option");let h=l.propertyName;if("string"!=typeof h)throw Error("discriminator: requires propertyName");if(l.mapping)throw Error("discriminator: mapping is not supported");if(!d)throw Error("discriminator: requires oneOf keyword");let p=t.let("valid",!1),f=t.const("tag",(0,n._)`${r}${(0,n.getProperty)(h)}`);function m(){let r=y();for(let e in t.if(!1),r)t.elseIf((0,n._)`${f} === ${e}`),t.assign(p,g(r[e]));t.else(),e.error(!1,{discrError:i.DiscrError.Mapping,tag:f,tagName:h}),t.endIf()}function g(r){let i=t.name("valid"),o=e.subschema({keyword:"oneOf",schemaProp:r},i);return e.mergeEvaluated(o,n.Name),i}function y(){var e;let t={},r=i(u),n=!0;for(let t=0;t<d.length;t++){let u=d[t];if((null==u?void 0:u.$ref)&&!(0,a.schemaHasRulesButRef)(u,c.self.RULES)){let e=u.$ref;if((u=o.resolveRef.call(c.self,c.schemaEnv.root,c.baseId,e))instanceof o.SchemaEnv&&(u=u.schema),void 0===u)throw new s.default(c.opts.uriResolver,c.baseId,e)}let p=null===(e=null==u?void 0:u.properties)||void 0===e?void 0:e[h];if("object"!=typeof p)throw Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${h}"`);n=n&&(r||i(u)),l(p,t)}if(!n)throw Error(`discriminator: "${h}" must be required`);return t;function i({required:e}){return Array.isArray(e)&&e.includes(h)}function l(e,t){if(e.const)p(e.const,t);else if(e.enum)for(let r of e.enum)p(r,t);else throw Error(`discriminator: "properties/${h}" must have "const" or "enum"`)}function p(e,r){if("string"!=typeof e||e in t)throw Error(`discriminator: "${h}" values must be unique strings`);t[e]=r}}t.if((0,n._)`typeof ${f} == "string"`,()=>m(),()=>e.error(!1,{discrError:i.DiscrError.Tag,tag:f,tagName:h})),e.ok(p)}};t.default=l},64415:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(r||(t.DiscrError=r={}))},40473:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(20814),i=r(49605),o=r(88486),s=r(77492),a=r(40182),l=[n.default,i.default,(0,o.default)(),s.default,a.metadataVocabulary,a.contentVocabulary];t.default=l},40635:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(59580),i={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,n.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,n._)`{format: ${e}}`},code(e,t){let{gen:r,data:i,$data:o,schema:s,schemaCode:a,it:l}=e,{opts:u,errSchemaPath:c,schemaEnv:d,self:h}=l;function p(){let o=r.scopeValue("formats",{ref:h.formats,code:u.code.formats}),s=r.const("fDef",(0,n._)`${o}[${a}]`),l=r.let("fType"),c=r.let("format");function p(){return!1===u.strictSchema?n.nil:(0,n._)`${a} && !${c}`}function f(){let e=d.$async?(0,n._)`(${s}.async ? await ${c}(${i}) : ${c}(${i}))`:(0,n._)`${c}(${i})`,r=(0,n._)`(typeof ${c} == "function" ? ${e} : ${c}.test(${i}))`;return(0,n._)`${c} && ${c} !== true && ${l} === ${t} && !${r}`}r.if((0,n._)`typeof ${s} == "object" && !(${s} instanceof RegExp)`,()=>r.assign(l,(0,n._)`${s}.type || "string"`).assign(c,(0,n._)`${s}.validate`),()=>r.assign(l,(0,n._)`"string"`).assign(c,s)),e.fail$data((0,n.or)(p(),f()))}function f(){let o=h.formats[s];if(!o){f();return}if(!0===o)return;let[a,l,p]=m(o);function f(){if(!1===u.strictSchema){h.logger.warn(e());return}throw Error(e());function e(){return`unknown format "${s}" ignored in schema at path "${c}"`}}function m(e){let t=e instanceof RegExp?(0,n.regexpCode)(e):u.code.formats?(0,n._)`${u.code.formats}${(0,n.getProperty)(s)}`:void 0,i=r.scopeValue("formats",{key:s,ref:e,code:t});return"object"!=typeof e||e instanceof RegExp?["string",e,i]:[e.type||"string",e.validate,(0,n._)`${i}.validate`]}function g(){if("object"==typeof o&&!(o instanceof RegExp)&&o.async){if(!d.$async)throw Error("async format in sync schema");return(0,n._)`await ${p}(${i})`}return"function"==typeof l?(0,n._)`${p}(${i})`:(0,n._)`${p}.test(${i})`}a===t&&e.pass(g())}u.validateFormats&&(o?p():f())}};t.default=i},77492:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=[r(40635).default];t.default=n},40182:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},67083:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(59580),i=r(5762),o=r(62038),s={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>(0,n._)`{allowedValue: ${e}}`},code(e){let{gen:t,data:r,$data:s,schemaCode:a,schema:l}=e;s||l&&"object"==typeof l?e.fail$data((0,n._)`!${(0,i.useFunc)(t,o.default)}(${r}, ${a})`):e.fail((0,n._)`${l} !== ${r}`)}};t.default=s},32788:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(59580),i=r(5762),o=r(62038),s={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,n._)`{allowedValues: ${e}}`},code(e){let t,r;let{gen:s,data:a,$data:l,schema:u,schemaCode:c,it:d}=e;if(!l&&0===u.length)throw Error("enum must have non-empty array");let h=u.length>=d.opts.loopEnum,p=()=>null!=t?t:t=(0,i.useFunc)(s,o.default);if(h||l)r=s.let("valid"),e.block$data(r,f);else{if(!Array.isArray(u))throw Error("ajv implementation error");let e=s.const("vSchema",c);r=(0,n.or)(...u.map((t,r)=>m(e,r)))}function f(){s.assign(r,!1),s.forOf("v",c,e=>s.if((0,n._)`${p()}(${a}, ${e})`,()=>s.assign(r,!0).break()))}function m(e,t){let r=u[t];return"object"==typeof r&&null!==r?(0,n._)`${p()}(${a}, ${e}[${t}])`:(0,n._)`${a} === ${r}`}e.pass(r)}};t.default=s},49605:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(77451),i=r(97610),o=r(10632),s=r(38624),a=r(83285),l=r(57095),u=r(57381),c=r(84899),d=r(67083),h=r(32788),p=[n.default,i.default,o.default,s.default,a.default,l.default,u.default,c.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},d.default,h.default];t.default=p},57381:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(59580),i={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){let r="maxItems"===e?"more":"fewer";return(0,n.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,n._)`{limit: ${e}}`},code(e){let{keyword:t,data:r,schemaCode:i}=e,o="maxItems"===t?n.operators.GT:n.operators.LT;e.fail$data((0,n._)`${r}.length ${o} ${i}`)}};t.default=i},10632:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(59580),i=r(5762),o=r(54219),s={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){let r="maxLength"===e?"more":"fewer";return(0,n.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,n._)`{limit: ${e}}`},code(e){let{keyword:t,data:r,schemaCode:s,it:a}=e,l="maxLength"===t?n.operators.GT:n.operators.LT,u=!1===a.opts.unicode?(0,n._)`${r}.length`:(0,n._)`${(0,i.useFunc)(e.gen,o.default)}(${r})`;e.fail$data((0,n._)`${u} ${l} ${s}`)}};t.default=s},77451:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(59580),i=n.operators,o={maximum:{okStr:"<=",ok:i.LTE,fail:i.GT},minimum:{okStr:">=",ok:i.GTE,fail:i.LT},exclusiveMaximum:{okStr:"<",ok:i.LT,fail:i.GTE},exclusiveMinimum:{okStr:">",ok:i.GT,fail:i.LTE}},s={message:({keyword:e,schemaCode:t})=>(0,n.str)`must be ${o[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,n._)`{comparison: ${o[e].okStr}, limit: ${t}}`},a={keyword:Object.keys(o),type:"number",schemaType:"number",$data:!0,error:s,code(e){let{keyword:t,data:r,schemaCode:i}=e;e.fail$data((0,n._)`${r} ${o[t].fail} ${i} || isNaN(${r})`)}};t.default=a},83285:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(59580),i={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){let r="maxProperties"===e?"more":"fewer";return(0,n.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,n._)`{limit: ${e}}`},code(e){let{keyword:t,data:r,schemaCode:i}=e,o="maxProperties"===t?n.operators.GT:n.operators.LT;e.fail$data((0,n._)`Object.keys(${r}).length ${o} ${i}`)}};t.default=i},97610:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(59580),i={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>(0,n.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,n._)`{multipleOf: ${e}}`},code(e){let{gen:t,data:r,schemaCode:i,it:o}=e,s=o.opts.multipleOfPrecision,a=t.let("res"),l=s?(0,n._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${s}`:(0,n._)`${a} !== parseInt(${a})`;e.fail$data((0,n._)`(${i} === 0 || (${a} = ${r}/${i}, ${l}))`)}};t.default=i},38624:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(19952),i=r(59580),o={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,i.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,i._)`{pattern: ${e}}`},code(e){let{data:t,$data:r,schema:o,schemaCode:s,it:a}=e,l=a.opts.unicodeRegExp?"u":"",u=r?(0,i._)`(new RegExp(${s}, ${l}))`:(0,n.usePattern)(e,o);e.fail$data((0,i._)`!${u}.test(${t})`)}};t.default=o},57095:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(19952),i=r(59580),o=r(5762),s={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>(0,i.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,i._)`{missingProperty: ${e}}`},code(e){let{gen:t,schema:r,schemaCode:s,data:a,$data:l,it:u}=e,{opts:c}=u;if(!l&&0===r.length)return;let d=r.length>=c.loopRequired;if(u.allErrors?h():p(),c.strictRequired){let t=e.parentSchema.properties,{definedProperties:n}=e.it;for(let e of r)if((null==t?void 0:t[e])===void 0&&!n.has(e)){let t=u.schemaEnv.baseId+u.errSchemaPath,r=`required property "${e}" is not defined at "${t}" (strictRequired)`;(0,o.checkStrictMode)(u,r,u.opts.strictRequired)}}function h(){if(d||l)e.block$data(i.nil,f);else for(let t of r)(0,n.checkReportMissingProp)(e,t)}function p(){let i=t.let("missing");if(d||l){let r=t.let("valid",!0);e.block$data(r,()=>m(i,r)),e.ok(r)}else t.if((0,n.checkMissingProp)(e,r,i)),(0,n.reportMissingProp)(e,i),t.else()}function f(){t.forOf("prop",s,r=>{e.setParams({missingProperty:r}),t.if((0,n.noPropertyInData)(t,a,r,c.ownProperties),()=>e.error())})}function m(r,o){e.setParams({missingProperty:r}),t.forOf(r,s,()=>{t.assign(o,(0,n.propertyInData)(t,a,r,c.ownProperties)),t.if((0,i.not)(o),()=>{e.error(),t.break()})},i.nil)}}};t.default=s},84899:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(11925),i=r(59580),o=r(5762),s=r(62038),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>(0,i.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,i._)`{i: ${e}, j: ${t}}`},code(e){let{gen:t,data:r,$data:a,schema:l,parentSchema:u,schemaCode:c,it:d}=e;if(!a&&!l)return;let h=t.let("valid"),p=u.items?(0,n.getSchemaTypes)(u.items):[];function f(){let n=t.let("i",(0,i._)`${r}.length`),o=t.let("j");e.setParams({i:n,j:o}),t.assign(h,!0),t.if((0,i._)`${n} > 1`,()=>(m()?g:y)(n,o))}function m(){return p.length>0&&!p.some(e=>"object"===e||"array"===e)}function g(o,s){let a=t.name("item"),l=(0,n.checkDataTypes)(p,a,d.opts.strictNumbers,n.DataType.Wrong),u=t.const("indices",(0,i._)`{}`);t.for((0,i._)`;${o}--;`,()=>{t.let(a,(0,i._)`${r}[${o}]`),t.if(l,(0,i._)`continue`),p.length>1&&t.if((0,i._)`typeof ${a} == "string"`,(0,i._)`${a} += "_"`),t.if((0,i._)`typeof ${u}[${a}] == "number"`,()=>{t.assign(s,(0,i._)`${u}[${a}]`),e.error(),t.assign(h,!1).break()}).code((0,i._)`${u}[${a}] = ${o}`)})}function y(n,a){let l=(0,o.useFunc)(t,s.default),u=t.name("outer");t.label(u).for((0,i._)`;${n}--;`,()=>t.for((0,i._)`${a} = ${n}; ${a}--;`,()=>t.if((0,i._)`${l}(${r}[${n}], ${r}[${a}])`,()=>{e.error(),t.assign(h,!1).break(u)})))}e.block$data(h,f,(0,i._)`${c} === false`),e.ok(h)}};t.default=a},72900:(e,t)=>{var r={off:0,bold:1,italic:3,underline:4,blink:5,inverse:7,hidden:8,black:30,red:31,green:32,yellow:33,blue:34,magenta:35,cyan:36,white:37,black_bg:40,red_bg:41,green_bg:42,yellow_bg:43,blue_bg:44,magenta_bg:45,cyan_bg:46,white_bg:47};t.set=function(e,t){if(!t)return e;for(var n,i=t.split("+"),o="",s=0;n=i[s];s++)o+="\x1b["+r[n]+"m";return o+(e+"\x1b["+r.off)+"m"}},98985:(e,t,r)=>{"use strict";var n=r(50588),i=r(72900).set,o=r(47017),s=r(53958),a=r(73837).inspect;function l(e){this.buffer=e,this.annotations=[]}Object.defineProperty(l.prototype,"length",{enumerable:!0,get:function(){return this.buffer.length}}),l.prototype.toString=function(e,t,r){var n=this.buffer.toString(e,t,r);return this.annotations.push({kind:"read",name:"string",value:n,encoding:e,start:t,end:r}),n},l.prototype.copy=function(e,t,r,n){var i=this.buffer.copy(e,t,r,n),o=r||0,s=n||o+i;return this.annotations.push({kind:"read",name:"copy",value:this.buffer.slice(o,s),start:o,end:s}),i},l.prototype.slice=function(e,t){var r=this.buffer.slice(e,t);return this.annotations.push({kind:"read",name:"slice",value:r,start:e,end:t}),r},l.prototype.readInt8=function(e,t){var r=this.buffer.readInt8(e,t);return this.annotations.push({kind:"read",name:"Int8",value:r,start:e,end:e+1}),r},l.prototype.readUInt8=function(e,t){var r=this.buffer.readUInt8(e,t);return this.annotations.push({kind:"read",name:"UInt8",value:r,start:e,end:e+1}),r},l.prototype.readUInt16LE=function(e,t){var r=this.buffer.readUInt16LE(e,t);return this.annotations.push({kind:"read",name:"UInt16LE",value:r,start:e,end:e+2}),r},l.prototype.readUInt16BE=function(e,t){var r=this.buffer.readUInt16BE(e,t);return this.annotations.push({kind:"read",name:"UInt16BE",value:r,start:e,end:e+2}),r},l.prototype.readUInt32LE=function(e,t){var r=this.buffer.readUInt32LE(e,t);return this.annotations.push({kind:"read",name:"UInt32LE",value:r,start:e,end:e+4}),r},l.prototype.readUInt32BE=function(e,t){var r=this.buffer.readUInt32BE(e,t);return this.annotations.push({kind:"read",name:"UInt32BE",value:r,start:e,end:e+4}),r},l.prototype.readInt16LE=function(e,t){var r=this.buffer.readInt16LE(e,t);return this.annotations.push({kind:"read",name:"Int16LE",value:r,start:e,end:e+2}),r},l.prototype.readInt16BE=function(e,t){var r=this.buffer.readInt16BE(e,t);return this.annotations.push({kind:"read",name:"Int16BE",value:r,start:e,end:e+2}),r},l.prototype.readInt32LE=function(e,t){var r=this.buffer.readInt32LE(e,t);return this.annotations.push({kind:"read",name:"Int32LE",value:r,start:e,end:e+4}),r},l.prototype.readInt32BE=function(e,t){var r=this.buffer.readInt32BE(e,t);return this.annotations.push({kind:"read",name:"Int32BE",value:r,start:e,end:e+4}),r},l.prototype.readFloatLE=function(e,t){var r=this.buffer.readFloatLE(e,t);return this.annotations.push({kind:"read",name:"FloatLE",value:r,start:e,end:e+4}),r},l.prototype.readFloatBE=function(e,t){var r=this.buffer.readFloatBE(e,t);return this.annotations.push({kind:"read",name:"FloatBE",value:r,start:e,end:e+4}),r},l.prototype.readDoubleLE=function(e,t){var r=this.buffer.readDoubleLE(e,t);return this.annotations.push({kind:"read",name:"DoubleLE",value:r,start:e,end:e+8}),r},l.prototype.readDoubleBE=function(e,t){var r=this.buffer.readDoubleBE(e,t);return this.annotations.push({kind:"read",name:"DoubleBE",value:r,start:e,end:e+8}),r},l.prototype.hexdump=function(e){var t=this;void 0===(e=s(e,{emptyHuman:" ",annotateLine:d})).boldStart&&(e.boldStart=!0),e.decorateHexen=h,e.decorateHuman=h;var r=e.colors||["magenta","cyan","yellow","green"],l=0,u=0,c=0;return n(this.buffer,e);function d(n,o){for(var s=[],l=c;l<=u;l++){var d=t.annotations[l];d&&d.start>=n&&d.start<o&&(e.colored&&(d.color=r[l%r.length]),s.push(d),c=l+1)}return"  "+s.map(function(t){var r=t.name;return"string"==typeof t.value||Buffer.isBuffer(t.value)||(r+="("+a(t.value)+")"),t.color?r=i(r,t.color):t.start===t.end?r+="@"+t.start.toString(16):r+="@["+t.start.toString(16)+","+t.end.toString(16)+"]",e.highlight&&(r=e.highlight(t.start,0,r)),r}).join(" ")}function h(n,s,a){for(var c=t.annotations[u];c&&n>=c.end;)c=t.annotations[++u],l=(l+1)%r.length;return c&&e.colored&&n>=c.start&&n<c.end&&(a=i(a=o(a),r[l]),n===c.start&&e.boldStart&&(a=i(a,"bold"))),e.highlight&&(a=e.highlight(n,s,a)),a}},e.exports=l},68001:(e,t,r)=>{var n=r(73837).inherits,i=r(17670).WriteResult,o=r(17670).ReadResult,s=r(17670).BufferRW,a=r(25843);function l(e,t,r){if(!(this instanceof l))return new l(e,t,r);this.width=e,this.readAtomFrom=t,this.writeAtomInto=r,s.call(this)}function u(e,t,r,n,i){if(!(this instanceof u))return new u(e,t,r,n,i);l.call(this,e,n,i),this.min=t,this.max=r}n(l,s),l.prototype.poolByteLength=function(e){return e.reset(null,this.width)},l.prototype.poolReadFrom=function(e,t,r){var n=t.length-r;return n<this.width?o.poolShortError(e,this.width,n,r):this.readAtomFrom(e,t,r)},l.prototype.poolWriteInto=function(e,t,r,n){var o=r.length-n;return o<this.width&&i.poolShortError(e,this.width,o,n),this.writeAtomInto(e,t,r,n)},n(u,l),u.prototype.poolWriteInto=function(e,t,r,n){if("number"!=typeof t)return e.reset(a.expected(t,"a number"));if(t<this.min||t>this.max)return e.reset(a.RangeError({value:t,min:this.min,max:this.max}),n);var o=r.length-n;return o<this.width?i.poolShortError(e,this.width,o,n):this.writeAtomInto(e,t,r,n)};var c=u(1,-128,127,function(e,t,r){var n=t.readInt8(r,!0);return e.reset(null,r+1,n)},function(e,t,r,n){return r.writeInt8(t,n,!0),e.reset(null,n+1)}),d=u(2,-32768,32767,function(e,t,r){var n=t.readInt16BE(r,!0);return e.reset(null,r+2,n)},function(e,t,r,n){return r.writeInt16BE(t,n,!0),e.reset(null,n+2)}),h=u(4,-2147483648,2147483647,function(e,t,r){var n=t.readInt32BE(r,!0);return e.reset(null,r+4,n)},function(e,t,r,n){return r.writeInt32BE(t,n,!0),e.reset(null,n+4)}),p=u(2,-32768,32767,function(e,t,r){var n=t.readInt16LE(r,!0);return e.reset(null,r+2,n)},function(e,t,r,n){return r.writeInt16LE(t,n,!0),e.reset(null,n+2)}),f=u(4,-2147483648,2147483647,function(e,t,r){var n=t.readInt32LE(r,!0);return e.reset(null,r+4,n)},function(e,t,r,n){return r.writeInt32LE(t,n,!0),e.reset(null,n+4)}),m=u(1,0,255,function(e,t,r){var n=t.readUInt8(r,!0);return e.reset(null,r+1,n)},function(e,t,r,n){return r.writeUInt8(t,n,!0),e.reset(null,n+1)}),g=u(2,0,65535,function(e,t,r){var n=t.readUInt16BE(r,!0);return e.reset(null,r+2,n)},function(e,t,r,n){return r.writeUInt16BE(t,n,!0),e.reset(null,n+2)}),y=u(4,0,4294967295,function(e,t,r){var n=t.readUInt32BE(r,!0);return e.reset(null,r+4,n)},function(e,t,r,n){return r.writeUInt32BE(t,n,!0),e.reset(null,n+4)}),v=u(2,0,65535,function(e,t,r){var n=t.readUInt16LE(r,!0);return e.reset(null,r+2,n)},function(e,t,r,n){return r.writeUInt16LE(t,n,!0),e.reset(null,n+2)}),b=u(4,0,4294967295,function(e,t,r){var n=t.readUInt32LE(r,!0);return e.reset(null,r+4,n)},function(e,t,r,n){return r.writeUInt32LE(t,n,!0),e.reset(null,n+4)}),E=l(4,function(e,t,r){var n=t.readFloatLE(r,!0);return e.reset(null,r+4,n)},function(e,t,r,n){return"number"!=typeof t?e.reset(a.expected(t,"a number"),null):(r.writeFloatLE(t,n),e.reset(null,n+4))}),S=l(4,function(e,t,r){var n=t.readFloatBE(r,!0);return e.reset(null,r+4,n)},function(e,t,r,n){return"number"!=typeof t?e.reset(a.expected(t,"a number"),null):(r.writeFloatBE(t,n),e.reset(null,n+4))}),_=l(8,function(e,t,r){var n=t.readDoubleLE(r,!0);return e.reset(null,r+8,n)},function(e,t,r,n){return"number"!=typeof t?e.reset(a.expected(t,"a number"),null):(r.writeDoubleLE(t,n),e.reset(null,n+8))}),T=l(8,function(e,t,r){var n=t.readDoubleBE(r,!0);return e.reset(null,r+8,n)},function(e,t,r,n){return"number"!=typeof t?e.reset(a.expected(t,"a number"),null):(r.writeDoubleBE(t,n),e.reset(null,n+8))});e.exports.AtomRW=l,e.exports.Int8=c,e.exports.Int16BE=d,e.exports.Int32BE=h,e.exports.Int16LE=p,e.exports.Int32LE=f,e.exports.UInt8=m,e.exports.UInt16BE=g,e.exports.UInt32BE=y,e.exports.UInt16LE=v,e.exports.UInt32LE=b,e.exports.FloatLE=E,e.exports.FloatBE=S,e.exports.DoubleLE=_,e.exports.DoubleBE=T},17670:(e,t,r)=>{"use strict";var n=r(39491),i=r(25843);function o(e,t,r,i){if(!(this instanceof o))return new o(e,t,r,i);e&&t&&r?(n("function"==typeof e,"expected byteLength to be function"),n("function"==typeof t,"expected readFrom to be function"),n("function"==typeof r,"expected writeInto to be function"),i?(this.poolByteLength=e,this.poolReadFrom=t,this.poolWriteInto=r):(this.byteLength=e,this.readFrom=t,this.writeInto=r)):(n(this.poolReadFrom!==o.prototype.poolReadFrom||this.readFrom!==o.prototype.readFrom,"expected either poolReadFrom or readFrom to be overriden"),n(this.poolWriteInto!==o.prototype.poolWriteInto||this.writeInto!==o.prototype.writeInto,"expected either poolWriteInto or writeInto to be overriden"),n(this.poolByteLength!==o.prototype.poolByteLength||this.byteLength!==o.prototype.byteLength,"expected either poolByteLength or byteLength to be overriden"))}function s(e,t){this.err=e||null,this.length=t||0}function a(e,t){this.err=e||null,this.offset=t||0}function l(e,t,r){this.err=e||null,this.offset=t||0,this.value=void 0===r?null:r}e.exports.BufferRW=o,e.exports.LengthResult=s,e.exports.WriteResult=a,e.exports.ReadResult=l,o.prototype.readFrom=function(e,t,r){n(this.poolReadFrom!==o.prototype.poolReadFrom,"poolReadFrom is overridden");var i=new l;return this.poolReadFrom(i,e,t,r),i},o.prototype.writeInto=function(e,t,r){n(this.poolWriteInto!==o.prototype.poolWriteInto,"poolWriteInto is overridden");var i=new a;return this.poolWriteInto(i,e,t,r),i},o.prototype.byteLength=function(e,t,r){n(this.poolbyteLength!==o.prototype.poolByteLength,"poolByteLength is overridden");var i=new s;return this.poolByteLength(i,e,t,r),i},o.prototype.poolReadFrom=function(e,t,r,n){var i=this.readFrom(t,r,n);return e.copyFrom(i)},o.prototype.poolWriteInto=function(e,t,r,n){var i=this.writeInto(t,r,n);return e.copyFrom(i)},o.prototype.poolByteLength=function(e,t,r,n){var i=this.byteLength(t,r,n);return e.copyFrom(i)},s.prototype.reset=function(e,t){return this.err=e,this.length=t,this},s.prototype.copyFrom=function(e){return this.err=e.err,this.length=e.length,this},s.error=function(e,t){return new s(e,t)},s.just=function(e){return new s(null,e)},a.prototype.reset=function(e,t){return this.err=e,this.offset=t,this},a.prototype.copyFrom=function(e){this.err=e.err,this.offset=e.offset},a.error=function(e,t){return new a(e,t)},a.poolRangedError=function(e,t,r,i,o){return n("object"==typeof e&&"WriteResult"===e.constructor.name),t.offest=r,t.endOffset=i,e.reset(t,r,o)},a.rangedError=function(e,t,r,n){return a.poolRangedError(new a,t,r,n)},a.just=function(e){return new a(null,e)},a.shortError=function(e,t,r){return a.poolShortError(new a,e,t,r)},a.poolShortError=function(e,t,r,o){return n("object"==typeof e&&"WriteResult"===e.constructor.name),e.reset(new i.ShortBuffer({expected:t,actual:r,offset:o}),o)},l.prototype.copyFrom=function(e){return this.err=e.err,this.offset=e.offset,this.value=e.value,this},l.prototype.reset=function(e,t,r){return this.err=e,this.offset=t,this.value=r,this},l.error=function(e,t,r){return new l(e,t,r)},l.poolRangedError=function(e,t,r,i,o){return n("object"==typeof e&&"ReadResult"===e.constructor.name),t.offest=r,t.endOffset=i,e.reset(t,r,o)},l.rangedError=function(e,t,r,n){return l.poolRangedError(new l,e,t,r,n)},l.just=function(e,t){return new l(null,e,t)},l.shortError=function(e,t,r,n,i){return l.poolShortError(new l,t,r,n,i)},l.poolShortError=function(e,t,r,o,s){var a;return n("object"==typeof e&&"ReadResult"===e.constructor.name),a=void 0===s?new i.ShortBuffer({expected:t,actual:r,offset:o}):new i.ShortBufferRanged({expected:t,actual:r,offset:o,endOffset:s}),e.reset(a,o)}},18914:(e,t,r)=>{"use strict";var n=r(72900).set,i=r(47017);function o(e,t){var r=s((t=t||{}).errorColor||"red+bold"),n=!(void 0===e.offset||null===e.offset),o=!(void 0===e.endOffset||null===e.endOffset),a=!1;if(!n)return null;if(o)return l;return u;function l(t,n,o){return t===e.offset?(a=t!==e.endOffset-1,r(i(o))):t===e.endOffset-1?(a=!1,r(i(o))):a?r(i(o)):o}function u(t,n,o){return t===e.offset?r(i(o)):o}}function s(e){return"function"==typeof e?e:function(t){return n(t,e)}}e.exports=o},25843:(e,t,r)=>{"use strict";var n=r(11754),i=r(43992);function o(e){switch(e.type){case"bufrw.broken-reader-state":case"bufrw.unstable-rw":return"Internal";case"bufrw.invalid-argument":case"bufrw.read.invalid-switch-value":case"bufrw.short-buffer":case"bufrw.short-read":case"bufrw.truncated-read":case"bufrw.zero-length-chunk":return"Read";case"bufrw.fixed-length-mismatch":case"bufrw.missing.struct-field":case"bufrw.range-error":case"bufrw.short-write":case"bufrw.write.invalid-switch-value":return"Write";default:return null}}e.exports.expected=function(t,r){return e.exports.InvalidArgument({expected:r,argType:typeof t,argConstructor:t&&t.constructor.name})},e.exports.BrokenReaderState=n({type:"bufrw.broken-reader-state",message:"reader in invalid state {state} expecting {expecting} avail {aval}",state:null,expecting:null,avail:null}),e.exports.FixedLengthMismatch=n({type:"bufrw.fixed-length-mismatch",message:"supplied length {got} mismatches fixed length {expected}",expected:null,got:null}),e.exports.RangeError=n({type:"bufrw.range-error",message:"value {value} out of range, min: {min} max: {max}",value:null,min:null,max:null}),e.exports.InvalidArgument=n({type:"bufrw.invalid-argument",message:"invalid argument, expected {expected}",expected:null,argType:null,argConstructor:null}),e.exports.ReadInvalidSwitchValue=n({type:"bufrw.read.invalid-switch-value",message:"read invalid switch value {value}",value:null}),e.exports.WriteInvalidSwitchValue=n({type:"bufrw.write.invalid-switch-value",message:"write invalid switch value {value}",value:null}),e.exports.MissingStructField=n({type:"bufrw.missing.struct-field",message:"missing field {field} on {struct}",field:null,struct:null}),e.exports.ShortBuffer=n({type:"bufrw.short-buffer",message:"expected at least {expected} bytes, only have {actual} @{offset}",expected:null,actual:null,buffer:null,offset:null}),e.exports.ShortBufferRanged=n({type:"bufrw.short-buffer",message:"expected at least {expected} bytes, only have {actual} @[{offset}:{endOffset}]",expected:null,actual:null,offset:null,endOffset:null}),e.exports.ShortRead=n({type:"bufrw.short-read",message:"short read, {remaining} byte left over after consuming {offset}",remaining:null,buffer:null,offset:null}),e.exports.ShortWrite=n({type:"bufrw.short-write",message:"short write, {remaining} byte left over after writing {offset}",remaining:null,buffer:null,offset:null}),e.exports.TruncatedRead=n({type:"bufrw.truncated-read",message:"read truncated by end of stream with {length} bytes in buffer",length:null,buffer:null,state:null,expecting:null}),e.exports.UnstableRW=i({type:"bufrw.unstable-rw",message:"Unstable RW error: {origMessage} (other: {otherMessage})",otherMessage:null}),e.exports.ZeroLengthChunk=n({type:"bufrw.zero-length-chunk",message:"zero length chunk encountered"}),e.exports.classify=o},6779:(e,t,r)=>{"use strict";e.exports=a;var n=r(73837).inherits,i=r(17670).ReadResult,o=r(17670).BufferRW,s=r(25843);function a(e,t,r){if(!(this instanceof a))return new a(e,t,r);this.length=e}n(a,o),a.prototype.poolByteLength=function(e,t){return t.length!==this.length?e.reset(s.FixedLengthMismatch({expected:this.length,got:t.length}),null):e.reset(null,this.length)},a.prototype.poolWriteInto=function(e,t,r,n){return t.length!==this.length?e.reset(s.FixedLengthMismatch({expected:this.length,got:t.length}),n):(t.copy(r,n),e.reset(null,n+this.length))},a.prototype.poolReadFrom=function(e,t,r){var n=r+this.length;return n>t.length?i.poolShortError(e,this.length,t.length-r,r):e.reset(null,n,t.slice(r,n))}},59972:(e,t,r)=>{e.exports.fromBuffer=r(42591).fromBuffer,e.exports.byteLength=r(42591).byteLength,e.exports.toBuffer=r(42591).toBuffer,e.exports.intoBuffer=r(42591).intoBuffer,e.exports.fromBufferTuple=r(42591).fromBufferTuple,e.exports.byteLengthTuple=r(42591).byteLengthTuple,e.exports.toBufferTuple=r(42591).toBufferTuple,e.exports.intoBufferTuple=r(42591).intoBufferTuple,e.exports.fromBufferResult=r(42591).fromBufferResult,e.exports.byteLengthResult=r(42591).byteLengthResult,e.exports.toBufferResult=r(42591).toBufferResult,e.exports.intoBufferResult=r(42591).intoBufferResult,e.exports.formatError=r(42591).formatError,e.exports.Base=r(17670).BufferRW,e.exports.LengthResult=r(17670).LengthResult,e.exports.WriteResult=r(17670).WriteResult,e.exports.ReadResult=r(17670).ReadResult;var n=r(68001);e.exports.AtomRW=n.AtomRW,e.exports.Int8=n.Int8,e.exports.Int16BE=n.Int16BE,e.exports.Int32BE=n.Int32BE,e.exports.Int16LE=n.Int16LE,e.exports.Int32LE=n.Int32LE,e.exports.UInt8=n.UInt8,e.exports.UInt16BE=n.UInt16BE,e.exports.UInt32BE=n.UInt32BE,e.exports.UInt16LE=n.UInt16LE,e.exports.UInt32LE=n.UInt32LE,e.exports.FloatLE=n.FloatLE,e.exports.FloatBE=n.FloatBE,e.exports.DoubleLE=n.DoubleLE,e.exports.DoubleBE=n.DoubleBE,e.exports.Null=r(96550),e.exports.FixedWidth=r(6779);var i=r(33165),o=i(n.UInt8),s=i(n.UInt16BE);e.exports.buf1=o,e.exports.buf2=s,e.exports.VariableBuffer=i;var a=r(52619),l=r(94310),u=a(n.UInt8,"utf8"),c=a(n.UInt16BE,"utf8"),d=a(l.unsigned,"utf8");e.exports.str1=u,e.exports.str2=c,e.exports.strn=d,e.exports.String=a,e.exports.varint=l,e.exports.Series=r(26088),e.exports.Struct=r(4113),e.exports.Switch=r(6484),e.exports.Repeat=r(62633),e.exports.Skip=r(4418)},42591:(e,t,r)=>{"use strict";var n,i=r(50588),o=r(73837),s=r(33607),a=r(25843),l=r(98985),u=r(18914);function c(e,t,r){return t>0&&(e=e.slice(t)),r&&e.fill(0),new l(e)}function d(e,t,r,n){t.err&&t.offset===e.offset-r&&t.err.type===e.err.type&&t.err.message===e.err.message?e.err.buffer=n:e.err=a.UnstableRW(e.err,{otherMessage:t.err&&t.err.message})}var h=Buffer.alloc(0);function p(e,t,r){return T(e,t,r).toValue()}function f(e,t){return A(e,t).toValue()}function m(e,t){return C(e,t).toValue()}function g(e,t,r){return O(e,t,r).toValue()}function y(e,t,r){return T(e,t,r).toTuple()}function v(e,t){return A(e,t).toTuple()}function b(e,t){return C(e,t).toTuple()}function E(e,t,r){return O(e,t,r).toTuple()}function S(e,t){return e.err||e.offset===t.length||(e.err=a.ShortRead({remaining:t.length-e.offset,buffer:t,offset:e.offset})),e}function _(e,t,r,n){return e&&(void 0===e.offset&&(e.offset=n),void 0===e.buffer&&(e.buffer=r)),new s(e,t)}function T(e,t,r){var n=r||0,i=e.readFrom(t,n);if((i=S(i,t)).err){var o=c(t,n,!1),s=e.readFrom(o,0);d(i,s=S(s,t),n,o)}return _(i.err,i.value,t,i.offset)}function A(e,t){var r=e.byteLength(t);return r.err?new s(r.err,0):new s(null,r.length)}function C(e,t){var r=e.byteLength(t);if(r.err)return new s(r.err,h);var n=r.length;return O(e,Buffer.alloc(n),t)}function w(e,t){return e.err||e.offset===t.length||(e.err=a.ShortWrite({remaining:t.length-e.offset,buffer:t,offset:e.offset})),e}function O(e,t,r){var n=e.writeInto(r,t,0);return _((n=w(n,t)).err,t,t,n.offset)}function R(e,t){t=t||{};var r=e.name||e.constructor.name,n=o.format("%s: %s\n",r,e.message);return e.buffer&&e.buffer.hexdump?n+=e.buffer.hexdump({colored:t.color,boldStart:!1,highlight:t.color?u(e,t):null}):Buffer.isBuffer(e.buffer)&&(t.color?n+=x(e,t):n+=I(e,t)),n}function x(e,t){if(!i)return e.buffer.toString("hex");var r=(t=t||{}).hexerOptions?Object.create(t.hexerOptions):{};void 0===r.colored&&(r.colored=!0);var n=u(e,t);return r.decorateHexen=n,r.decorateHuman=n,i(e.buffer,r)}function I(e,t){if(!i)return e.buffer.toString("hex");t=t||{};var r=!(void 0===e.offset||null===e.offset),n=!(void 0===e.endOffset||null===e.endOffset),o=t.markStart||">",s=t.markEnd||"<",a=0,l=t.hexerOptions?Object.create(t.hexerOptions):{};return r&&(l.groupSeparator="",n?l.decorateHexen=u:l.decorateHexen=c),i(e.buffer,l);function u(t,r,n){var i;if(t===e.offset)return a=1,i=o+n,t===e.endOffset-1?(i+=s,a=0):i=" "+i,i;if(t===e.endOffset-1){for(i=n+s;a-- >0;)i+=" ";return a=0,i}return a?(a+=2,n):" "+n+" "}function c(t,r,n){return t===e.offset?o+n+s:" "+n+" "}}e.exports.fromBuffer=p,e.exports.byteLength=f,e.exports.toBuffer=m,e.exports.intoBuffer=g,e.exports.formatError=R,e.exports.fromBufferTuple=y,e.exports.byteLengthTuple=v,e.exports.toBufferTuple=b,e.exports.intoBufferTuple=E,e.exports.fromBufferResult=T,e.exports.byteLengthResult=A,e.exports.toBufferResult=C,e.exports.intoBufferResult=O,n=c,n=S,n=d},47017:e=>{"use strict";function t(e){for(;;){var t=e.indexOf("\x1b[");if(t<0)return e;var r=e.indexOf("m",t);if(r<0)return e;e=e.slice(0,t)+e.slice(r+1)}}e.exports=t},96550:(e,t,r)=>{function n(e,t,r,n){return e.reset(null,n)}function i(e,t,r){return e.reset(null,r,null)}var o=(0,r(68001).AtomRW)(0,i,n);e.exports=o},62633:(e,t,r)=>{e.exports=s;var n=r(73837).inherits,i=r(17670).BufferRW,o=r(25843);function s(e,t){if(!(this instanceof s))return new s(e,t);this.countrw=e,this.repeatedrw=t,i.call(this)}function a(e){var t,r=Object.keys(e),n={};for(t=0;t<r.length;t++)n[r[t]]=e[r[t]];return n}n(s,i),s.prototype.poolByteLength=function(e,t){if(!Array.isArray(t))return e.reset(o.expected(t,"an array"));var r=this.countrw.poolByteLength(e,t.length);if(r.err)return r;for(var n=r.length,i=0;i<t.length;i++){var s=this.repeatedrw.poolByteLength(e,t[i]);if(s.err)return s;n+=r.length}return e.reset(null,n)},s.prototype.poolWriteInto=function(e,t,r,n){if(!Array.isArray(t))return e.reset(o.expected(t,"an array"),n);var i=this.countrw.poolWriteInto(e,t.length,r,n);if(i.err)return i;n=i.offset;for(var s=0;s<t.length&&!(i=this.repeatedrw.poolWriteInto(e,t[s],r,n)).err;s++)n=i.offset;return i},s.prototype.poolReadFrom=function(e,t,r){var n=this.countrw.poolReadFrom(e,t,r);if(n.err)return n;r=n.offset;for(var i=n.value,o=Array(i),s=0;s<i;s++){if((n=this.repeatedrw.poolReadFrom(e,t,r)).err)return n;r=n.offset,Array.isArray(n.value)?o[s]=n.value.slice(0):"object"==typeof n.value?o[s]=a(n.value):o[s]=n.value}return e.reset(null,r,o)}},33607:e=>{function t(e,t){this.err=e||null,this.value=t}e.exports=t,t.prototype.toValue=function(){if(!this.err)return this.value;throw this.err},t.prototype.toCallback=function(e){e(this.err,this.value)},t.prototype.toTuple=function(){return[this.err,this.value]}},26088:(e,t,r)=>{e.exports=a;var n=r(73837).inherits,i=r(17670).ReadResult,o=r(17670).BufferRW,s=r(25843);function a(e){if((!Array.isArray(e)||arguments.length>1)&&(e=Array.prototype.slice.call(arguments)),!(this instanceof a))return new a(e);this.rws=e,o.call(this)}n(a,o),a.prototype.poolByteLength=function(e,t){if(!Array.isArray(t)&&null!==t)return e.reset(s.expected(t,"an array or null"));for(var r=0,n=0;n<this.rws.length;n++){if(this.rws[n].poolByteLength(e,t&&t[n]),e.err)return e;r+=e.length}return e.reset(null,r)},a.prototype.poolWriteInto=function(e,t,r,n){if(!Array.isArray(t)&&null!==t)return e.reset(s.expected(t,"an array or null"),n);for(var i=0;i<this.rws.length&&(this.rws[i].poolWriteInto(e,t&&t[i],r,n),!e.err);i++)n=e.offset;return e};var l=new i;a.prototype.poolReadFrom=function(e,t,r){for(var n=Array(this.rws.length),i=0;i<this.rws.length;i++){if(this.rws[i].poolReadFrom(l,t,r),l.err)return e.copyFrom(l);r=l.offset,n[i]=l.value}return e.value=n,e.reset(null,r,e.value)}},4418:(e,t,r)=>{e.exports=s;var n=r(73837).inherits,i=r(17670).ReadResult,o=r(6779);function s(e,t){if(!(this instanceof s))return new s(e,t);this.fill=t||0,o.call(this,e)}n(s,o),s.prototype.poolByteLength=function(e){return e.reset(null,this.length)},s.prototype.poolWriteInto=function(e,t,r,n){var i=n+this.length;return r.fill(this.fill,n,i),e.reset(null,i)},s.prototype.poolReadFrom=function(e,t,r){var n=r+this.length;return n>t.length?i.poolShortError(e,this.length,t.length-r,r):e.reset(null,n,null)}},52619:(e,t,r)=>{"use strict";e.exports=a;var n=r(73837).inherits,i=r(17670).ReadResult,o=r(25843),s=r(17670).BufferRW;function a(e,t){if(!(this instanceof a))return new a(e,t);this.sizerw=e,this.encoding=t||"utf8",this.sizerw.width?this.poolWriteInto=this.poolWriteFixedWidthInto:this.poolWriteInto=this.poolWriteVariableWidthInto,s.call(this)}n(a,s),a.prototype.poolByteLength=function(e,t){var r=0;if("string"==typeof t)r=Buffer.byteLength(t,this.encoding);else if(null!=t)return e.reset(o.expected(t,"string, null, or undefined"),null);return(this.sizerw.poolByteLength(e,r),e.err)?e:e.reset(null,e.length+r)},a.prototype.poolWriteFixedWidthInto=function(e,t,r,n){var i=n+this.sizerw.width,s=0;if("string"==typeof t)s=r.write(t,i,this.encoding);else if(null!=t)return e.reset(o.expected(t,"string, null, or undefined"),n);return(this.sizerw.poolWriteInto(e,s,r,n),e.err)?e:e.reset(null,i+s)},a.prototype.poolWriteVariableWidthInto=function(e,t,r,n){var i=0;if("string"==typeof t)i=Buffer.byteLength(t,this.encoding);else if(null!=t)return e.reset(o.expected(t,"string, null, or undefined"),n);var s=this.sizerw.poolWriteInto(e,i,r,n);return s.err||(n=s.offset,"string"==typeof t&&(s.offset+=r.write(t,n,this.encoding))),s},a.prototype.poolReadFrom=function(e,t,r){var n=this.sizerw.poolReadFrom(e,t,r);if(n.err)return n;var o=n.value,s=t.length-n.offset;if(s<o)return i.poolShortError(e,o,s,r,n.offset);var a=(r=n.offset)+o,l=t.toString(this.encoding,r,a);return e.reset(null,a,l)}},4113:(e,t,r)=>{e.exports=a;var n=r(73837).inherits,i=r(17670).ReadResult,o=r(17670).BufferRW,s=r(25843);function a(e,t,r){if(!(this instanceof a))return new a(e,t);if("object"==typeof e&&(t=e,e=null),r=r||{},this.cons=e||Object,this.fields=[],Array.isArray(t))this.fields.push.apply(this.fields,t);else{var n,i=Object.keys(t);for(n=0;n<i.length;++n){var o={};o.name=i[n],o.rw=t[o.name],this.fields.push(o)}}for(n=0,this.namedFields={};n<this.fields.length;++n)this.fields[n].name&&(this.namedFields[this.fields[n].name]=this.fields[n])}n(a,o),a.prototype.poolByteLength=function(e,t){for(var r=0,n=0;n<this.fields.length;n++){var i=this.fields[n];if(i.name&&!t.hasOwnProperty(i.name))return e.reset(s.MissingStructField({field:i.name,struct:this.cons.name}),null);var o=i.name&&t&&t[i.name];if(i.call){if(i.call.poolByteLength)i.call.poolByteLength(e,t);else{if(!i.call.byteLength)continue;var a=i.call.byteLength(t);e.copyFrom(a)}}else i.rw.poolByteLength(e,o);if(e.err)return e;r+=e.length}return e.reset(null,r)},a.prototype.poolWriteInto=function(e,t,r,n){e.reset(null,n);for(var i=0;i<this.fields.length;i++){var o=this.fields[i];if(o.name&&!t.hasOwnProperty(o.name))return e.reset(s.MissingStructField({field:o.name,struct:this.cons.name}),null);var a=o.name&&t[o.name];if(o.call){if(o.call.poolWriteInto)o.call.poolWriteInto(e,t,r,n);else{if(!o.call.writeInto)continue;var l=o.call.writeInto(t,r,n);e.copyFrom(l)}}else o.rw.poolWriteInto(e,a,r,n);if(e.err)break;n=e.offset}return e};var l=new i;a.prototype.poolReadFrom=function(e,t,r){"object"==typeof e.value&&null!==e.value?e.value.constructor!==this.cons&&(e.value=new this.cons):e.value=new this.cons;for(var n=0;n<this.fields.length;n++){var i=this.fields[n];if(i.call){if(i.call.poolReadFrom)i.call.poolReadFrom(l,e.value,t,r);else{if(!i.call.readFrom)continue;var o=i.call.readFrom(e.value,t,r);l.copyFrom(o)}}else i.rw.poolReadFrom(l,t,r);if(l.err)return e.copyFrom(l);r=l.offset,i.name&&(e.value[i.name]=l.value)}return e.reset(null,r,e.value)}},6484:(e,t,r)=>{e.exports=s;var n=r(73837).inherits,i=r(17670).BufferRW,o=r(25843);function s(e,t,r){if(!(this instanceof s))return new s(e,t,r);r=r||{},this.valrw=e,this.cases=t,this.cons=r.cons||a,this.valKey=r.valKey||"0",this.dataKey=r.dataKey||"1",r.structMode&&(this.poolReadFrom=this.structReadFrom),i.call(this)}function a(e,t){Array.call(this),this[0]=e,this[1]=t}n(s,i),s.prototype.poolByteLength=function(e,t){var r=t[this.valKey],n=t[this.dataKey],i=this.cases[r];if(void 0===i)return e.reset(o.WriteInvalidSwitchValue({value:r}));if(this.valrw.poolByteLength(e,r),e.err)return e;var s=e.length;if(i.poolByteLength(e,n),e.err)return e;var a=e.length;return e.reset(null,a+s)},s.prototype.poolWriteInto=function(e,t,r,n){var i=t[this.valKey],s=t[this.dataKey],a=this.cases[i];if(void 0===a)return e.reset(o.WriteInvalidSwitchValue({value:i}),n);var l=this.valrw.poolWriteInto(e,i,r,n);return l.err?l:l=a.poolWriteInto(e,s,r,l.offset)},s.prototype.poolReadFrom=function(e,t,r){var n=this.valrw.poolReadFrom(e,t,r);if(n.err)return n;r=n.offset;var i=n.value,s=this.cases[i];if(void 0===s)return e.reset(o.ReadInvalidSwitchValue({value:i}),r);if((n=s.poolReadFrom(e,t,r)).err)return n;r=n.offset;var a=n.value,l=new this.cons(i,a);return e.reset(null,r,l)},s.prototype.poolStructReadFrom=function(e,t,r,n){var i=this.valrw.poolReadFrom(e,r,n);if(i.err)return i;n=i.offset;var s=i.value,a=this.cases[s];return void 0===a?e.reset(o.ReadInvalidSwitchValue({value:s}),n):(t[this.valKey]=s,(i=a.poolReadFrom(e,r,n)).err||(t[this.dataKey]=i.value),i)},n(a,Array),s.Pair=a},33165:(e,t,r)=>{e.exports=a;var n=r(73837).inherits,i=r(17670).ReadResult,o=r(17670).BufferRW,s=r(25843);function a(e,t){if(!(this instanceof a))return new a(e,t);this.sizerw=e,t?this.poolReadFrom=this.lazyPoolReadFrom:this.poolReadFrom=this.eagerPoolReadFrom,o.call(this)}n(a,o),a.prototype.poolByteLength=function(e,t){var r=0;if(Buffer.isBuffer(t))r=t.length;else{if(null!=t)return e.reset(s.expected(t,"buffer, null, or undefined"),null);r=0}return(this.sizerw.poolByteLength(e,r),e.err)?e:e.reset(null,e.length+r)},a.prototype.poolWriteInto=function(e,t,r,n){var i=n+this.sizerw.width,o=0;if(Buffer.isBuffer(t))o=t.copy(r,i);else{if(null!=t)return e.reset(s.expected(t,"buffer, null, or undefined"),n);o=0}return(this.sizerw.poolWriteInto(e,o,r,n),e.err)?e:e.reset(null,i+o)},a.prototype.eagerPoolReadFrom=function(e,t,r){if(this.sizerw.poolReadFrom(e,t,r),e.err)return e;var n=e.value,o=t.length-e.offset;if(o<n)return i.poolShortError(e,n,o,r,e.offset);r=e.offset;var s=Buffer.alloc(n);return t.copy(s,0,r),e.reset(null,r+n,s)},a.prototype.lazyPoolReadFrom=function(e,t,r){if(this.sizerw.poolReadFrom(e,t,r),e.err)return e;var n=e.value,o=t.length-e.offset;if(o<n)return i.poolShortError(e,n,o,r,e.offset);var s=(r=e.offset)+n,a=t.slice(r,s);return e.reset(null,s,a)}},94310:(e,t,r)=>{"use strict";var n=r(17670).WriteResult,i=r(17670).ReadResult,o=r(17670).BufferRW,s=r(25843);function a(e,t){if("number"!=typeof t||t<0)return e.reset(s.expected(t,"unsigned integer"));if(0===t)return e.reset(null,1);var r=Math.ceil(c(t)/7);return e.reset(null,r)}function l(e,t,r,i){if("number"!=typeof t||t<0)return e.reset(s.expected(t,"unsigned integer"),null);var o=Math.ceil(c(t)/7),a=i,l=i+o;if(l>r.length){var u=r.length-i;return n.poolShortError(e,o,u,i)}for(i=l;i>a;){var d=127&t;if(t>>=7,i!==l&&(d|=128),r.writeUInt8(d,--i,!0),t<=0)break}return e.reset(null,l)}function u(e,t,r){for(var n=r,o=0;r<t.length;){var s=t.readUInt8(r++,!0);if(0!==o&&(o<<=7),o+=127&s,!(128&s))return e.reset(null,r,o)}var a=r-n;return i.poolShortError(e,a+1,a,n,r)}function c(e){for(var t=1;e>>=1;)t++;return t}e.exports.unsigned=o(a,u,l,!0)},70629:(e,t,r)=>{"use strict";var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})},c=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of s(t))l.call(e,a)||a===r||i(e,a,{get:()=>t[a],enumerable:!(n=o(t,a))||n.enumerable});return e},d=(e,t,r)=>(r=null!=e?n(a(e)):{},c(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)),h=e=>c(i({},"__esModule",{value:!0}),e),p={};u(p,{Dotprompt:()=>er,PicoschemaParser:()=>X,picoschema:()=>Q}),e.exports=h(p);var f=d(r(75597)),m={};u(m,{history:()=>b,ifEquals:()=>_,json:()=>y,media:()=>S,role:()=>v,section:()=>E,unlessEquals:()=>T});var{SafeString:g}=d(r(75597)).default;function y(e,t){return new g(JSON.stringify(e,null,t.hash.indent||0))}function v(e){return new g(`<<<dotprompt:role:${e}>>>`)}function b(){return new g("<<<dotprompt:history>>>")}function E(e){return new g(`<<<dotprompt:section ${e}>>>`)}function S(e){return new g(`<<<dotprompt:media:url ${e.hash.url}${e.hash.contentType?` ${e.hash.contentType}`:""}>>>`)}function _(e,t,r){return e===t?r.fn(this):r.inverse(this)}function T(e,t,r){return e!==t?r.fn(this):r.inverse(this)}var A=r(83056),C="<<<dotprompt:role:",w="<<<dotprompt:history",O="<<<dotprompt:media:",R="<<<dotprompt:section",x=/^---\s*(?:\r\n|\r|\n)([\s\S]*?)(?:\r\n|\r|\n)---\s*(?:\r\n|\r|\n)([\s\S]*)$/,I=/(<<<dotprompt:(?:role:[a-z]+|history))>>>/g,D=/(<<<dotprompt:(?:media:url|section).*?)>>>/g,P=["config","description","ext","input","model","name","output","raw","toolDefs","tools","variant","version"],N={ext:{},metadata:{},config:{}};function k(e,t){return e.split(t).filter(e=>""!==e.trim())}function M(e){return k(e,I)}function L(e){return k(e,D)}function B(e,t,r={}){let n=r||{},i=e.lastIndexOf("."),o=e.substring(0,i),s=e.substring(i+1);return n[o]=n[o]||{},n[o][s]=t,n}function j(e){let t=e.match(x);if(t){let[,e,r]=t;return{frontmatter:e,body:r}}return{frontmatter:"",body:""}}function F(e){let{frontmatter:t,body:r}=j(e);if(t)try{let e={...(0,A.parse)(t)},n={...N},i={};for(let t in e){let r=t;P.includes(r)?n[r]=e[r]:r.includes(".")&&B(r,e[r],i)}return{...n,raw:e,ext:i,template:r.trim()}}catch(t){return console.error("Dotprompt: Error parsing YAML frontmatter:",t),{...N,template:e.trim()}}return{...N,template:e}}function U(e){return e.filter(e=>e.content||e.source).map(e=>{let t={role:e.role,content:e.content||H(e.source||"")};return e.metadata&&(t.metadata=e.metadata),t})}function V(e){return e.map(e=>({...e,metadata:{...e.metadata,purpose:"history"}}))}function z(e,t){let r={role:"user",source:""},n=[r];for(let i of M(e))if(i.startsWith(C)){let e=i.substring(C.length);r.source?.trim()?(r={role:e,source:""},n.push(r)):r.role=e}else if(i.startsWith(w)){let e=V(t?.messages??[]);e&&n.push(...e),r={role:"model",source:""},n.push(r)}else r.source+=i;return $(U(n),t?.messages)}function G(e){return e.some(e=>e.metadata?.purpose==="history")}function $(e,t=[]){if(!t||G(e))return e;if(0===e.length)return t;let r=e.at(-1);return r?.role==="user"?[...e.slice(0,-1),...t,r]:[...e,...t]}function H(e){return L(e).map(q)}function q(e){return e.startsWith(O)?W(e):e.startsWith(R)?K(e):Y(e)}function W(e){if(!e.startsWith(O))throw Error("Invalid media piece");let[t,r,n]=e.split(" "),i={media:{url:r}};return n&&(i.media.contentType=n),i}function K(e){if(!e.startsWith(R))throw Error("Invalid section piece");let[t,r]=e.split(" ");return{metadata:{purpose:r,pending:!0}}}function Y(e){return{text:e}}var Z=["any","boolean","integer","null","number","string"],J="(*)";async function Q(e,t){return new X(t).parse(e)}var X=class{schemaResolver;constructor(e){this.schemaResolver=e?.schemaResolver}async mustResolveSchema(e){if(!this.schemaResolver)throw Error(`Picoschema: unsupported scalar type '${e}'.`);let t=await this.schemaResolver(e);if(!t)throw Error(`Picoschema: could not find schema with name '${e}'`);return t}async parse(e){if(!e)return null;if("string"==typeof e){let[t,r]=ee(e);if(Z.includes(t)){let e={type:t};return r&&(e={...e,description:r}),e}let n=await this.mustResolveSchema(t);return r?{...n,description:r}:n}return[...Z,"object","array"].includes(e?.type)?e:"object"==typeof e?.properties?{...e,type:"object"}:this.parsePico(e)}async parsePico(e,t=[]){if("string"==typeof e){let[t,r]=ee(e);if(!Z.includes(t)){let e=await this.mustResolveSchema(t);return r&&(e={...e,description:r}),e}return"any"===t?r?{description:r}:{}:r?{type:t,description:r}:{type:t}}if("object"!=typeof e)throw Error(`Picoschema: only consists of objects and strings. Got: ${JSON.stringify(e)}`);let r={type:"object",properties:{},required:[],additionalProperties:!1};for(let n in e){if(n===J){r.additionalProperties=await this.parsePico(e[n],[...t,n]);continue}let[i,o]=n.split("("),s=i.endsWith("?"),a=s?i.slice(0,-1):i;if(s||r.required.push(a),!o){let i={...await this.parsePico(e[n],[...t,n])};s&&"string"==typeof i.type&&(i.type=[i.type,"null"]),r.properties[a]=i;continue}let[l,u]=ee(o.substring(0,o.length-1));if("array"===l)r.properties[a]={type:s?["array","null"]:"array",items:await this.parsePico(e[n],[...t,n])};else if("object"===l){let i=await this.parsePico(e[n],[...t,n]);s&&(i.type=[i.type,"null"]),r.properties[a]=i}else if("enum"===l){let t={enum:e[n]};s&&!t.enum.includes(null)&&t.enum.push(null),r.properties[a]=t}else throw Error(`Picoschema: parenthetical types must be 'object' or 'array', got: ${l}`);u&&(r.properties[a].description=u)}return r.required.length||(r.required=void 0),r}};function ee(e){if(!e.includes(","))return[e,null];let t=e.match(/(.*?), *(.*)$/);return t?[t[1],t[2]]:[e,null]}function et(e){if(null===e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(e=>et(e));let t={};for(let[r,n]of Object.entries(e))void 0!==n&&(t[r]=et(n));return t}var er=class{handlebars;knownHelpers={};defaultModel;modelConfigs={};tools={};toolResolver;schemas={};schemaResolver;partialResolver;store;constructor(e){this.handlebars=f.default.noConflict(),this.modelConfigs=e?.modelConfigs||this.modelConfigs,this.defaultModel=e?.defaultModel,this.tools=e?.tools||{},this.toolResolver=e?.toolResolver,this.schemas=e?.schemas||{},this.schemaResolver=e?.schemaResolver,this.partialResolver=e?.partialResolver,this.registerInitialHelpers(m,e?.helpers),this.registerInitialPartials(e?.partials)}defineHelper(e,t){return this.handlebars.registerHelper(e,t),this.knownHelpers[e]=!0,this}definePartial(e,t){return this.handlebars.registerPartial(e,t),this}defineTool(e){return this.tools[e.name]=e,this}parse(e){return F(e)}async render(e,t={},r){return(await this.compile(e))(t,r)}async compile(e,t){let r;r="string"==typeof e?this.parse(e):e,t&&(r={...r,...t}),await this.resolvePartials(r.template);let n=this.handlebars.compile(r.template,{knownHelpers:this.knownHelpers,knownHelpersOnly:!0,noEscape:!0}),i=async(e,t)=>{let{input:i,...o}=await this.renderMetadata(r),s=n({...t?.input?.default||{},...e.input},{data:{metadata:{prompt:o,docs:e.docs,messages:e.messages},...e.context||{}}});return{...o,messages:z(s,e)}};return i.prompt=r,i}async renderMetadata(e,t){let r,n;r="string"==typeof e?this.parse(e):e;let i=t?.model||r.model||this.defaultModel;return i&&this.modelConfigs[i]&&(n=this.modelConfigs[i]),this.resolveMetadata(n?{config:n}:{},r,t)}async resolveMetadata(e,...t){let r={...e};for(let e=0;e<t.length;e++){if(!t[e])continue;let n=r.config||{};(r={...r,...t[e]}).config={...n,...t[e]?.config||{}}}let{template:n,...i}=r;return r=et(r=i),r=await this.resolveTools(r),r=await this.renderPicoschema(r)}async renderPicoschema(e){if(!e.output?.schema&&!e.input?.schema)return e;let t=e=>Q(e,{schemaResolver:this.wrappedSchemaResolver.bind(this)}),r={...e},n=null,i=null;e.input?.schema&&(r.input={...e.input},n=t(e.input.schema)),e.output?.schema&&(r.output={...e.output},i=t(e.output.schema));let[o,s]=await Promise.all([n??Promise.resolve(null),i??Promise.resolve(null)]);return o&&r.input&&(r.input.schema=o),s&&r.output&&(r.output.schema=s),r}async wrappedSchemaResolver(e){return this.schemas[e]?this.schemas[e]:this.schemaResolver?await this.schemaResolver(e):null}async resolveTools(e){let t={...e};if(!t.tools)return t;let r=[];return t.toolDefs=t.toolDefs||[],await Promise.all(t.tools.map(async e=>{if(this.tools[e])t.toolDefs&&t.toolDefs.push(this.tools[e]);else if(this.toolResolver){let r=await this.toolResolver(e);if(!r)throw Error(`Dotprompt: Unable to resolve tool '${e}' to a recognized tool definition.`);t.toolDefs&&t.toolDefs.push(r)}else r.push(e)})),t.tools=r,t}identifyPartials(e){let t=this.handlebars.parse(e),r=new Set;return new class extends this.handlebars.Visitor{PartialStatement(e){e&&"object"==typeof e&&"name"in e&&e.name&&"object"==typeof e.name&&"original"in e.name&&"string"==typeof e.name.original&&r.add(e.name.original)}}().accept(t),r}async resolvePartials(e){if(!this.partialResolver&&!this.store)return;let t=this.identifyPartials(e);await Promise.all(Array.from(t).map(async e=>{if(!this.handlebars.partials[e]){let t=null;if(this.partialResolver&&(t=await this.partialResolver(e)),!t&&this.store){let r=await this.store.loadPartial(e);t=r?.source}t&&(this.definePartial(e,t),await this.resolvePartials(t))}}))}registerInitialHelpers(e,t){if(e)for(let t in e)this.defineHelper(t,e[t]);if(t)for(let e in t)this.defineHelper(e,t[e])}registerInitialPartials(e){if(e)for(let t in e)this.definePartial(t,e[t])}}},11754:(e,t,r)=>{"use strict";var n=r(50254),i=r(36932),o=r(39491),s=/[_.-](\w|$)/g;function a(e){o(e,"TypedError: must specify options"),o(e.type,"TypedError: must specify options.type"),o(e.message,"TypedError: must specify options.message"),o(!c(e,"fullType"),"TypedError: fullType field is reserved");var t=e.message;if(e.type&&!e.name){var r=l(e.type)+"Error";e.name=r[0].toUpperCase()+r.substr(1)}return i(s,e),s._name=e.name,s;function s(r){var o=Error();Object.defineProperty(o,"type",{value:o.type,enumerable:!0,writable:!0,configurable:!0});var s=i({},e,r);return s.fullType||(s.fullType=s.type),i(o,s),r&&r.message?o.message=n(r.message,s):t&&(o.message=n(t,s)),o}}function l(e){return e.replace(s,u)}function u(e,t){return t.toUpperCase()}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=a},43992:(e,t,r)=>{"use strict";var n=r(36932),i=r(39491),o=r(11754),s=Object.prototype.toString,a="[object Error]",l=/\{causeMessage\}/g,u=/\{origMessage\}/g;function c(e){i(e,"WrappedError: must specify options"),i(e.type,"WrappedError: must specify type"),i(e.message,"WrappedError: must specify message"),i(!d(e,"cause"),"WrappedError: cause field is reserved"),i(!d(e,"fullType"),"WrappedError: fullType field is reserved"),i(!d(e,"causeMessage"),"WrappedError: causeMessage field is reserved"),i(!d(e,"origMessage"),"WrappedError: origMessage field is reserved");var t=o(e);return n(r,e),r._name=e.name,r;function r(r,o){i(r,"an error is required"),i(h(r),"WrappedError: first argument must be an error");var s=r.message;s.indexOf("{causeMessage}")>=0&&(s=s.replace(l,"$INVALID_CAUSE_MESSAGE_LITERAL")),s.indexOf("{origMessage}")>=0&&(s=s.replace(u,"$INVALID_ORIG_MESSAGE_LITERAL"));var a=!1,c=n({},o,{causeMessage:s,origMessage:s});d(r,"code")&&!d(c,"code")&&(c.code=r.code),d(r,"errno")&&!d(c,"errno")&&(c.errno=r.errno,a=!0),d(r,"syscall")&&!d(c,"syscall")&&(c.syscall=r.syscall,a=!0);var p=r.type;p=!p&&a?"error.wrapped-io."+(r.syscall||"unknown")+"."+(r.errno||"unknown"):"error.wrapped-unknown",c.fullType=e.type+"~!~"+(r.fullType||r.type||p);var f=t(c);return Object.defineProperty(f,"cause",{value:r,configurable:!0,enumerable:!1}),f}}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e){return s.call(e)===a}e.exports=c},32977:e=>{"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!=i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!=i--;){var n,i,o,s=o[i];if(!e(t[s],r[s]))return!1}return!0}return t!=t&&r!=r}},25466:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",r=Object.prototype.toString,n=Math.max,i="[object Function]",o=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r},s=function(e,t){for(var r=[],n=t||0,i=0;n<e.length;n+=1,i+=1)r[i]=e[n];return r},a=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r};e.exports=function(e){var l,u=this;if("function"!=typeof u||r.apply(u)!==i)throw TypeError(t+u);for(var c=s(arguments,1),d=function(){if(this instanceof l){var t=u.apply(this,o(c,arguments));return Object(t)===t?t:this}return u.apply(e,o(c,arguments))},h=n(0,u.length-c.length),p=[],f=0;f<h;f++)p[f]="$"+f;if(l=Function("binder","return function ("+a(p,",")+"){ return binder.apply(this,arguments); }")(d),u.prototype){var m=function(){};m.prototype=u.prototype,l.prototype=new m,m.prototype=null}return l}},58668:(e,t,r)=>{"use strict";var n=r(25466);e.exports=Function.prototype.bind||n},95896:(e,t,r)=>{"use strict";let n;let i=r(41808);class o extends Error{constructor(e){super(`${e} is locked`)}}let s={old:new Set,young:new Set},a=15e3,l=e=>new Promise((t,r)=>{let n=i.createServer();n.unref(),n.on("error",r),n.listen(e,()=>{let{port:e}=n.address();n.close(()=>{t(e)})})}),u=function*(e){e&&(yield*e),yield 0};e.exports=async e=>{let t;for(let r of(e&&(t="number"==typeof e.port?[e.port]:e.port),void 0===n&&(n=setInterval(()=>{s.old=s.young,s.young=new Set},a)).unref&&n.unref(),u(t)))try{let t=await l({...e,port:r});for(;s.old.has(t)||s.young.has(t);){if(0!==r)throw new o(r);t=await l({...e,port:r})}return s.young.add(t),t}catch(e){if(!["EADDRINUSE","EACCES"].includes(e.code)&&!(e instanceof o))throw e}throw Error("No available ports found")},e.exports.makeRange=(e,t)=>{if(!Number.isInteger(e)||!Number.isInteger(t))throw TypeError("`from` and `to` must be integer numbers");if(e<1024||e>65535)throw RangeError("`from` must be between 1024 and 65535");if(t<1024||t>65536)throw RangeError("`to` must be between 1024 and 65536");if(t<e)throw RangeError("`to` must be greater than or equal to `from`");return function*(e,t){for(let r=e;r<=t;r++)yield r}(e,t)}},75597:(e,t,r)=>{"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(r(57227)),o=n(r(22365)),s=r(44038),a=r(93511),l=n(r(23482)),u=n(r(73064)),c=n(r(39956)),d=i.default.create;function h(){var e=d();return e.compile=function(t,r){return a.compile(t,r,e)},e.precompile=function(t,r){return a.precompile(t,r,e)},e.AST=o.default,e.Compiler=a.Compiler,e.JavaScriptCompiler=l.default,e.Parser=s.parser,e.parse=s.parse,e.parseWithoutProcessing=s.parseWithoutProcessing,e}var p=h();p.create=h,c.default(p),p.Visitor=u.default,p.default=p,t.default=p,e.exports=t.default},57227:(e,t,r)=>{"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}t.__esModule=!0;var o=i(r(87206)),s=n(r(26426)),a=n(r(51184)),l=i(r(68095)),u=i(r(94058)),c=n(r(39956));function d(){var e=new o.HandlebarsEnvironment;return l.extend(e,o),e.SafeString=s.default,e.Exception=a.default,e.Utils=l,e.escapeExpression=l.escapeExpression,e.VM=u,e.template=function(t){return u.template(t,e)},e}var h=d();h.create=d,c.default(h),h.default=h,t.default=h,e.exports=t.default},87206:(e,t,r)=>{"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.HandlebarsEnvironment=m;var i=r(68095),o=n(r(51184)),s=r(65839),a=r(83032),l=n(r(71187)),u=r(76549),c="4.7.8";t.VERSION=c;var d=8;t.COMPILER_REVISION=d;var h=7;t.LAST_COMPATIBLE_COMPILER_REVISION=h;var p={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};t.REVISION_CHANGES=p;var f="[object Object]";function m(e,t,r){this.helpers=e||{},this.partials=t||{},this.decorators=r||{},s.registerDefaultHelpers(this),a.registerDefaultDecorators(this)}m.prototype={constructor:m,logger:l.default,log:l.default.log,registerHelper:function(e,t){if(i.toString.call(e)===f){if(t)throw new o.default("Arg not supported with multiple helpers");i.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(i.toString.call(e)===f)i.extend(this.partials,e);else{if(void 0===t)throw new o.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(i.toString.call(e)===f){if(t)throw new o.default("Arg not supported with multiple decorators");i.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){u.resetLoggedProperties()}};var g=l.default.log;t.log=g,t.createFrame=i.createFrame,t.logger=l.default},22365:(e,t)=>{"use strict";t.__esModule=!0;var r={helpers:{helperExpression:function(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function(e){return/^\.|this\b/.test(e.original)},simpleId:function(e){return 1===e.parts.length&&!r.helpers.scopedId(e)&&!e.depth}}};t.default=r,e.exports=t.default},44038:(e,t,r)=>{"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.parseWithoutProcessing=c,t.parse=d;var o=i(r(9964)),s=i(r(82339)),a=n(r(42607)),l=r(68095);t.parser=o.default;var u={};function c(e,t){return"Program"===e.type?e:(o.default.yy=u,u.locInfo=function(e){return new u.SourceLocation(t&&t.srcName,e)},o.default.parse(e))}function d(e,t){var r=c(e,t);return new s.default(t).accept(r)}l.extend(u,a)},39528:(e,t,r)=>{"use strict";t.__esModule=!0;var n=r(68095),i=void 0;function o(e,t,r){if(n.isArray(e)){for(var i=[],o=0,s=e.length;o<s;o++)i.push(t.wrap(e[o],r));return i}return"boolean"==typeof e||"number"==typeof e?e+"":e}function s(e){this.srcFile=e,this.source=[]}i||((i=function(e,t,r,n){this.src="",n&&this.add(n)}).prototype={add:function(e){n.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function(e){n.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),s.prototype={isEmpty:function(){return!this.source.length},prepend:function(e,t){this.source.unshift(this.wrap(e,t))},push:function(e,t){this.source.push(this.wrap(e,t))},merge:function(){var e=this.empty();return this.each(function(t){e.add(["  ",t,"\n"])}),e},each:function(e){for(var t=0,r=this.source.length;t<r;t++)e(this.source[t])},empty:function(){var e=this.currentLocation||{start:{}};return new i(e.start.line,e.start.column,this.srcFile)},wrap:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return e instanceof i?e:(e=o(e,this,t),new i(t.start.line,t.start.column,this.srcFile,e))},functionCall:function(e,t,r){return r=this.generateList(r),this.wrap([e,t?"."+t+"(":"(",r,")"])},quotedString:function(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(e){var t=this,r=[];Object.keys(e).forEach(function(n){var i=o(e[n],t);"undefined"!==i&&r.push([t.quotedString(n),":",i])});var n=this.generateList(r);return n.prepend("{"),n.add("}"),n},generateList:function(e){for(var t=this.empty(),r=0,n=e.length;r<n;r++)r&&t.add(","),t.add(o(e[r],this));return t},generateArray:function(e){var t=this.generateList(e);return t.prepend("["),t.add("]"),t}},t.default=s,e.exports=t.default},93511:(e,t,r)=>{"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.Compiler=l,t.precompile=u,t.compile=c;var i=n(r(51184)),o=r(68095),s=n(r(22365)),a=[].slice;function l(){}function u(e,t,r){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new i.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);"data"in(t=t||{})||(t.data=!0),t.compat&&(t.useDepths=!0);var n=r.parse(e,t),o=new r.Compiler().compile(n,t);return new r.JavaScriptCompiler().compile(o,t)}function c(e,t,r){if(void 0===t&&(t={}),null==e||"string"!=typeof e&&"Program"!==e.type)throw new i.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);"data"in(t=o.extend({},t))||(t.data=!0),t.compat&&(t.useDepths=!0);var n=void 0;function s(){var n=r.parse(e,t),i=new r.Compiler().compile(n,t),o=new r.JavaScriptCompiler().compile(i,t,void 0,!0);return r.template(o)}function a(e,t){return n||(n=s()),n.call(this,e,t)}return a._setup=function(e){return n||(n=s()),n._setup(e)},a._child=function(e,t,r,i){return n||(n=s()),n._child(e,t,r,i)},a}function d(e,t){if(e===t)return!0;if(o.isArray(e)&&o.isArray(t)&&e.length===t.length){for(var r=0;r<e.length;r++)if(!d(e[r],t[r]))return!1;return!0}}function h(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}l.prototype={compiler:l,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var r=0;r<t;r++){var n=this.opcodes[r],i=e.opcodes[r];if(n.opcode!==i.opcode||!d(n.args,i.args))return!1}t=this.children.length;for(var r=0;r<t;r++)if(!this.children[r].equals(e.children[r]))return!1;return!0},guid:0,compile:function(e,t){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[],t.knownHelpers=o.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},t.knownHelpers),this.accept(e)},compileProgram:function(e){var t=new this.compiler().compile(e,this.options),r=this.guid++;return this.usePartial=this.usePartial||t.usePartial,this.children[r]=t,this.useDepths=this.useDepths||t.useDepths,r},accept:function(e){if(!this[e.type])throw new i.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,r=t.length,n=0;n<r;n++)this.accept(t[n]);return this.options.blockParams.shift(),this.isSimple=1===r,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){h(e);var t=e.program,r=e.inverse;t=t&&this.compileProgram(t),r=r&&this.compileProgram(r);var n=this.classifySexpr(e);"helper"===n?this.helperSexpr(e,t,r):"simple"===n?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",r),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,r),this.opcode("pushProgram",t),this.opcode("pushProgram",r),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var t=e.program&&this.compileProgram(e.program),r=this.setupFullMustacheParams(e,t,void 0),n=e.path;this.useDecorators=!0,this.opcode("registerDecorator",r.length,n.original)},PartialStatement:function(e){this.usePartial=!0;var t=e.program;t&&(t=this.compileProgram(e.program));var r=e.params;if(r.length>1)throw new i.default("Unsupported number of partial arguments: "+r.length,e);r.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):r.push({type:"PathExpression",parts:[],depth:0}));var n=e.name.original,o="SubExpression"===e.name.type;o&&this.accept(e.name),this.setupFullMustacheParams(e,t,void 0,!0);var s=e.indent||"";this.options.preventIndent&&s&&(this.opcode("appendContent",s),s=""),this.opcode("invokePartial",o,n,s),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){h(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,t,r){var n=e.path,i=n.parts[0],o=null!=t||null!=r;this.opcode("getContext",n.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",r),n.strict=!0,this.accept(n),this.opcode("invokeAmbiguous",i,o)},simpleSexpr:function(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,r){var n=this.setupFullMustacheParams(e,t,r),o=e.path,a=o.parts[0];if(this.options.knownHelpers[a])this.opcode("invokeKnownHelper",n.length,a);else if(this.options.knownHelpersOnly)throw new i.default("You specified knownHelpersOnly, but used the unknown helper "+a,e);else o.strict=!0,o.falsy=!0,this.accept(o),this.opcode("invokeHelper",n.length,o.original,s.default.helpers.simpleId(o))},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],r=s.default.helpers.scopedId(e),n=!e.depth&&!r&&this.blockParamIndex(t);n?this.opcode("lookupBlockParam",n,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,r):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var t=e.pairs,r=0,n=t.length;for(this.opcode("pushHash");r<n;r++)this.pushParam(t[r].value);for(;r--;)this.opcode("assignToHash",t[r].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:a.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var t=s.default.helpers.simpleId(e.path),r=t&&!!this.blockParamIndex(e.path.parts[0]),n=!r&&s.default.helpers.helperExpression(e),i=!r&&(n||t);if(i&&!n){var o=e.path.parts[0],a=this.options;a.knownHelpers[o]?n=!0:a.knownHelpersOnly&&(i=!1)}return n?"helper":i?"ambiguous":"simple"},pushParams:function(e){for(var t=0,r=e.length;t<r;t++)this.pushParam(e[t])},pushParam:function(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var r=void 0;if(!e.parts||s.default.helpers.scopedId(e)||e.depth||(r=this.blockParamIndex(e.parts[0])),r){var n=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",r,n)}else(t=e.original||t).replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function(e,t,r,n){var i=e.params;return this.pushParams(i),this.opcode("pushProgram",t),this.opcode("pushProgram",r),e.hash?this.accept(e.hash):this.opcode("emptyHash",n),i},blockParamIndex:function(e){for(var t=0,r=this.options.blockParams.length;t<r;t++){var n=this.options.blockParams[t],i=n&&o.indexOf(n,e);if(n&&i>=0)return[t,i]}}}},42607:(e,t,r)=>{"use strict";t.__esModule=!0,t.SourceLocation=o,t.id=s,t.stripFlags=a,t.stripComment=l,t.preparePath=u,t.prepareMustache=c,t.prepareRawBlock=d,t.prepareBlock=h,t.prepareProgram=p,t.preparePartialBlock=f;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(51184));function i(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var r={loc:e.path.loc};throw new n.default(e.path.original+" doesn't match "+t,r)}}function o(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}}function s(e){return/^\[.*\]$/.test(e)?e.substring(1,e.length-1):e}function a(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}}function l(e){return e.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function u(e,t,r){r=this.locInfo(r);for(var i=e?"@":"",o=[],s=0,a=0,l=t.length;a<l;a++){var u=t[a].part,c=t[a].original!==u;if(i+=(t[a].separator||"")+u,c||".."!==u&&"."!==u&&"this"!==u)o.push(u);else{if(o.length>0)throw new n.default("Invalid path: "+i,{loc:r});".."===u&&s++}}return{type:"PathExpression",data:e,depth:s,parts:o,original:i,loc:r}}function c(e,t,r,n,i,o){var s=n.charAt(3)||n.charAt(2),a="{"!==s&&"&"!==s;return{type:/\*/.test(n)?"Decorator":"MustacheStatement",path:e,params:t,hash:r,escaped:a,strip:i,loc:this.locInfo(o)}}function d(e,t,r,n){i(e,r);var o={type:"Program",body:t,strip:{},loc:n=this.locInfo(n)};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:o,openStrip:{},inverseStrip:{},closeStrip:{},loc:n}}function h(e,t,r,o,s,a){o&&o.path&&i(e,o);var l=/\*/.test(e.open);t.blockParams=e.blockParams;var u=void 0,c=void 0;if(r){if(l)throw new n.default("Unexpected inverse block on decorator",r);r.chain&&(r.program.body[0].closeStrip=o.strip),c=r.strip,u=r.program}return s&&(s=u,u=t,t=s),{type:l?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:u,openStrip:e.strip,inverseStrip:c,closeStrip:o&&o.strip,loc:this.locInfo(a)}}function p(e,t){if(!t&&e.length){var r=e[0].loc,n=e[e.length-1].loc;r&&n&&(t={source:r.source,start:{line:r.start.line,column:r.start.column},end:{line:n.end.line,column:n.end.column}})}return{type:"Program",body:e,strip:{},loc:t}}function f(e,t,r,n){return i(e,r),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:r&&r.strip,loc:this.locInfo(n)}}},23482:(e,t,r)=>{"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=r(87206),o=n(r(51184)),s=r(68095),a=n(r(39528));function l(e){this.value=e}function u(){}function c(e,t,r,n,i){var o=t.popStack(),s=r.length;for(e&&s--;n<s;n++)o=t.nameLookup(o,r[n],i);return e?[t.aliasable("container.strict"),"(",o,", ",t.quotedString(r[n]),", ",JSON.stringify(t.source.currentLocation)," )"]:o}u.prototype={nameLookup:function(e,t){return this.internalNameLookup(e,t)},depthedLookup:function(e){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(e),")"]},compilerInfo:function(){var e=i.COMPILER_REVISION,t=i.REVISION_CHANGES[e];return[e,t]},appendToBuffer:function(e,t,r){return(s.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple)?["return ",e,";"]:r?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(e,t){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",e,",",JSON.stringify(t),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(e,t,r,n){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!n,this.name=this.environment.name,this.isChild=!!r,this.context=r||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var i=e.opcodes,s=void 0,a=void 0,l=void 0,u=void 0;for(l=0,u=i.length;l<u;l++)s=i[l],this.source.currentLocation=s.loc,a=a||s.loc,this[s.opcode].apply(this,s.args);if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new o.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),n?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var c=this.createFunctionContext(n);if(this.isChild)return c;var d={compiler:this.compilerInfo(),main:c};this.decorators&&(d.main_d=this.decorators,d.useDecorators=!0);var h=this.context,p=h.programs,f=h.decorators;for(l=0,u=p.length;l<u;l++)p[l]&&(d[l]=p[l],f[l]&&(d[l+"_d"]=f[l],d.useDecorators=!0));return this.environment.usePartial&&(d.usePartial=!0),this.options.data&&(d.useData=!0),this.useDepths&&(d.useDepths=!0),this.useBlockParams&&(d.useBlockParams=!0),this.options.compat&&(d.compat=!0),n?d.compilerOptions=this.options:(d.compiler=JSON.stringify(d.compiler),this.source.currentLocation={start:{line:1,column:0}},d=this.objectLiteral(d),t.srcName?(d=d.toStringWithSourceMap({file:t.destName})).map=d.map&&d.map.toString():d=d.toString()),d},preamble:function(){this.lastContext=0,this.source=new a.default(this.options.srcName),this.decorators=new a.default(this.options.srcName)},createFunctionContext:function(e){var t=this,r="",n=this.stackVars.concat(this.registers.list);n.length>0&&(r+=", "+n.join(", "));var i=0;Object.keys(this.aliases).forEach(function(e){var n=t.aliases[e];n.children&&n.referenceCount>1&&(r+=", alias"+ ++i+"="+e,n.children[0]="alias"+i)}),this.lookupPropertyFunctionIsUsed&&(r+=", "+this.lookupPropertyFunctionVarDeclaration());var o=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&o.push("blockParams"),this.useDepths&&o.push("depths");var s=this.mergeSource(r);return e?(o.push(s),Function.apply(this,o)):this.source.wrap(["function(",o.join(","),") {\n  ",s,"}"])},mergeSource:function(e){var t=this.environment.isSimple,r=!this.forceBuffer,n=void 0,i=void 0,o=void 0,s=void 0;return this.source.each(function(e){e.appendToBuffer?(o?e.prepend("  + "):o=e,s=e):(o&&(i?o.prepend("buffer += "):n=!0,s.add(";"),o=s=void 0),i=!0,t||(r=!1))}),r?o?(o.prepend("return "),s.add(";")):i||this.source.push('return "";'):(e+=", buffer = "+(n?"":this.initializeBuffer()),o?(o.prepend("return buffer + "),s.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(n?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function(e){var t=this.aliasable("container.hooks.blockHelperMissing"),r=[this.contextName(0)];this.setupHelperArgs(e,0,r);var n=this.popStack();r.splice(1,0,n),this.push(this.source.functionCall(t,"call",r))},ambiguousBlockValue:function(){var e=this.aliasable("container.hooks.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var r=this.topStack();t.splice(1,0,r),this.pushSource(["if (!",this.lastHelper,") { ",r," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function(){if(this.isInline())this.replaceStack(function(e){return[" != null ? ",e,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,t,r,n){var i=0;n||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[i++])),this.resolvePath("context",e,i,t,r)},lookupBlockParam:function(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function(e,t,r){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,r)},resolvePath:function(e,t,r,n,i){var o=this;if(this.options.strict||this.options.assumeObjects){this.push(c(this.options.strict&&i,this,t,r,e));return}for(var s=t.length;r<s;r++)this.replaceStack(function(i){var s=o.nameLookup(i,t[r],e);return n?[" && ",s]:[" != null ? ",s," : ",i]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator:function(e,t){var r=this.nameLookup("decorators",t,"decorator"),n=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(r,"",["fn","props","container",n])," || fn;"])},invokeHelper:function(e,t,r){var n=this.popStack(),i=this.setupHelper(e,t),o=[];r&&o.push(i.name),o.push(n),this.options.strict||o.push(this.aliasable("container.hooks.helperMissing"));var s=["(",this.itemsSeparatedBy(o,"||"),")"],a=this.source.functionCall(s,"call",i.callParams);this.push(a)},itemsSeparatedBy:function(e,t){var r=[];r.push(e[0]);for(var n=1;n<e.length;n++)r.push(t,e[n]);return r},invokeKnownHelper:function(e,t){var r=this.setupHelper(e,t);this.push(this.source.functionCall(r.name,"call",r.callParams))},invokeAmbiguous:function(e,t){this.useRegister("helper");var r=this.popStack();this.emptyHash();var n=this.setupHelper(0,e,t),i=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",e,"helper")," || ",r,")"];this.options.strict||(i[0]="(helper = ",i.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",i,n.paramsInit?["),(",n.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",n.callParams)," : helper))"])},invokePartial:function(e,t,r){var n=[],i=this.setupParams(t,1,n);e&&(t=this.popStack(),delete i.name),r&&(i.indent=JSON.stringify(r)),i.helpers="helpers",i.partials="partials",i.decorators="container.decorators",e?n.unshift(t):n.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(i.depths="depths"),i=this.objectLiteral(i),n.push(i),this.push(this.source.functionCall("container.invokePartial","",n))},assignToHash:function(e){var t=this.popStack(),r=void 0,n=void 0,i=void 0;this.trackIds&&(i=this.popStack()),this.stringParams&&(n=this.popStack(),r=this.popStack());var o=this.hash;r&&(o.contexts[e]=r),n&&(o.types[e]=n),i&&(o.ids[e]=i),o.values[e]=t},pushId:function(e,t,r){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(r?" + "+JSON.stringify("."+r):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:u,compileChildren:function(e,t){for(var r=e.children,n=void 0,i=void 0,o=0,s=r.length;o<s;o++){n=r[o],i=new this.compiler;var a=this.matchExistingProgram(n);if(null==a){this.context.programs.push("");var l=this.context.programs.length;n.index=l,n.name="program"+l,this.context.programs[l]=i.compile(n,t,this.context,!this.precompile),this.context.decorators[l]=i.decorators,this.context.environments[l]=n,this.useDepths=this.useDepths||i.useDepths,this.useBlockParams=this.useBlockParams||i.useBlockParams,n.useDepths=this.useDepths,n.useBlockParams=this.useBlockParams}else n.index=a.index,n.name="program"+a.index,this.useDepths=this.useDepths||a.useDepths,this.useBlockParams=this.useBlockParams||a.useBlockParams}},matchExistingProgram:function(e){for(var t=0,r=this.context.environments.length;t<r;t++){var n=this.context.environments[t];if(n&&n.equals(e))return n}},programExpression:function(e){var t=this.environment.children[e],r=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&r.push("blockParams"),this.useDepths&&r.push("depths"),"container.program("+r.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function(e){return e instanceof l||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function(e){this.push(new l(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function(e){var t=["("],r=void 0,n=void 0,i=void 0;if(!this.isInline())throw new o.default("replaceStack on non-inline");var s=this.popStack(!0);if(s instanceof l)t=["(",r=[s.value]],i=!0;else{n=!0;var a=this.incrStack();t=["((",this.push(a)," = ",s,")"],r=this.topStack()}var u=e.call(this,r);i||this.popStack(),n&&this.stackSlot--,this.push(t.concat(u,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,r=e.length;t<r;t++){var n=e[t];if(n instanceof l)this.compileStack.push(n);else{var i=this.incrStack();this.pushSource([i," = ",n,";"]),this.compileStack.push(i)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),r=(t?this.inlineStack:this.compileStack).pop();if(!e&&r instanceof l)return r.value;if(!t){if(!this.stackSlot)throw new o.default("Invalid stack pop");this.stackSlot--}return r},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof l?t.value:t},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return this.source.quotedString(e)},objectLiteral:function(e){return this.source.objectLiteral(e)},aliasable:function(e){var t=this.aliases[e];return t?t.referenceCount++:((t=this.aliases[e]=this.source.wrap(e)).aliasable=!0,t.referenceCount=1),t},setupHelper:function(e,t,r){var n=[],i=this.setupHelperArgs(t,e,n,r);return{params:n,paramsInit:i,name:this.nameLookup("helpers",t,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(n)}},setupParams:function(e,t,r){var n={},i=[],o=[],s=[],a=!r,l=void 0;a&&(r=[]),n.name=this.quotedString(e),n.hash=this.popStack(),this.trackIds&&(n.hashIds=this.popStack()),this.stringParams&&(n.hashTypes=this.popStack(),n.hashContexts=this.popStack());var u=this.popStack(),c=this.popStack();(c||u)&&(n.fn=c||"container.noop",n.inverse=u||"container.noop");for(var d=t;d--;)l=this.popStack(),r[d]=l,this.trackIds&&(s[d]=this.popStack()),this.stringParams&&(o[d]=this.popStack(),i[d]=this.popStack());return a&&(n.args=this.source.generateArray(r)),this.trackIds&&(n.ids=this.source.generateArray(s)),this.stringParams&&(n.types=this.source.generateArray(o),n.contexts=this.source.generateArray(i)),this.options.data&&(n.data="data"),this.useBlockParams&&(n.blockParams="blockParams"),n},setupHelperArgs:function(e,t,r,n){var i=this.setupParams(e,t,r);return(i.loc=JSON.stringify(this.source.currentLocation),i=this.objectLiteral(i),n)?(this.useRegister("options"),r.push("options"),["options=",i]):r?(r.push(i),""):i}},function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=u.RESERVED_WORDS={},r=0,n=e.length;r<n;r++)t[e[r]]=!0}(),u.isValidJavaScriptVariableName=function(e){return!u.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},t.default=u,e.exports=t.default},9964:(e,t)=>{"use strict";t.__esModule=!0;var r=function(){var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(e,t,r,n,i,o,s){var a=o.length-1;switch(i){case 1:return o[a-1];case 2:this.$=n.prepareProgram(o[a]);break;case 3:case 4:case 5:case 6:case 7:case 8:case 20:case 27:case 28:case 33:case 34:case 40:case 41:this.$=o[a];break;case 9:this.$={type:"CommentStatement",value:n.stripComment(o[a]),strip:n.stripFlags(o[a],o[a]),loc:n.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[a],value:o[a],loc:n.locInfo(this._$)};break;case 11:this.$=n.prepareRawBlock(o[a-2],o[a-1],o[a],this._$);break;case 12:this.$={path:o[a-3],params:o[a-2],hash:o[a-1]};break;case 13:this.$=n.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!1,this._$);break;case 14:this.$=n.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!0,this._$);break;case 15:this.$={open:o[a-5],path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:n.stripFlags(o[a-5],o[a])};break;case 16:case 17:this.$={path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:n.stripFlags(o[a-5],o[a])};break;case 18:this.$={strip:n.stripFlags(o[a-1],o[a-1]),program:o[a]};break;case 19:var l=n.prepareBlock(o[a-2],o[a-1],o[a],o[a],!1,this._$),u=n.prepareProgram([l],o[a-1].loc);u.chained=!0,this.$={strip:o[a-2].strip,program:u,chain:!0};break;case 21:this.$={path:o[a-1],strip:n.stripFlags(o[a-2],o[a])};break;case 22:case 23:this.$=n.prepareMustache(o[a-3],o[a-2],o[a-1],o[a-4],n.stripFlags(o[a-4],o[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[a-3],params:o[a-2],hash:o[a-1],indent:"",strip:n.stripFlags(o[a-4],o[a]),loc:n.locInfo(this._$)};break;case 25:this.$=n.preparePartialBlock(o[a-2],o[a-1],o[a],this._$);break;case 26:this.$={path:o[a-3],params:o[a-2],hash:o[a-1],strip:n.stripFlags(o[a-4],o[a])};break;case 29:this.$={type:"SubExpression",path:o[a-3],params:o[a-2],hash:o[a-1],loc:n.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:o[a],loc:n.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:n.id(o[a-2]),value:o[a],loc:n.locInfo(this._$)};break;case 32:this.$=n.id(o[a-1]);break;case 35:this.$={type:"StringLiteral",value:o[a],original:o[a],loc:n.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[a]),original:Number(o[a]),loc:n.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[a],original:"true"===o[a],loc:n.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:n.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:n.locInfo(this._$)};break;case 42:this.$=n.preparePath(!0,o[a],this._$);break;case 43:this.$=n.preparePath(!1,o[a],this._$);break;case 44:o[a-2].push({part:n.id(o[a]),original:o[a],separator:o[a-1]}),this.$=o[a-2];break;case 45:this.$=[{part:n.id(o[a]),original:o[a]}];break;case 46:case 48:case 50:case 58:case 64:case 70:case 78:case 82:case 86:case 90:case 94:this.$=[];break;case 47:case 49:case 51:case 59:case 65:case 71:case 79:case 83:case 87:case 91:case 95:case 99:case 101:o[a-1].push(o[a]);break;case 98:case 100:this.$=[o[a]]}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(e,t){throw Error(e)},parse:function(e){var t=this,r=[0],n=[null],i=[],o=this.table,s="",a=0,l=0,u=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var c=this.lexer.yylloc;i.push(c);var d=this.lexer.options&&this.lexer.options.ranges;function h(){var e;return"number"!=typeof(e=t.lexer.lex()||1)&&(e=t.symbols_[e]||e),e}"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,f,m,g,y,v,b,E,S,_={};;){if(m=r[r.length-1],this.defaultActions[m]?g=this.defaultActions[m]:(null==p&&(p=h()),g=o[m]&&o[m][p]),void 0===g||!g.length||!g[0]){var T="";if(!u){for(v in S=[],o[m])this.terminals_[v]&&v>2&&S.push("'"+this.terminals_[v]+"'");T=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+S.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(T,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:c,expected:S})}}if(g[0]instanceof Array&&g.length>1)throw Error("Parse Error: multiple actions possible at state: "+m+", token: "+p);switch(g[0]){case 1:r.push(p),n.push(this.lexer.yytext),i.push(this.lexer.yylloc),r.push(g[1]),p=null,f?(p=f,f=null):(l=this.lexer.yyleng,s=this.lexer.yytext,a=this.lexer.yylineno,c=this.lexer.yylloc,u>0&&u--);break;case 2:if(b=this.productions_[g[1]][1],_.$=n[n.length-b],_._$={first_line:i[i.length-(b||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(b||1)].first_column,last_column:i[i.length-1].last_column},d&&(_._$.range=[i[i.length-(b||1)].range[0],i[i.length-1].range[1]]),void 0!==(y=this.performAction.call(_,s,l,a,this.yy,g[1],n,i)))return y;b&&(r=r.slice(0,-1*b*2),n=n.slice(0,-1*b),i=i.slice(0,-1*b)),r.push(this.productions_[g[1]][0]),n.push(_.$),i.push(_._$),E=o[r[r.length-2]][r[r.length-1]],r.push(E);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(this.yy.parser)this.yy.parser.parseError(e,t);else throw Error(e)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,r,n,i,o=this._currentRules(),s=0;s<o.length&&(!(r=this._input.match(this.rules[o[s]]))||t&&!(r[0].length>t[0].length)||(t=r,n=s,this.options.flex));s++);return t?((i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e)?e:void 0:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,r,n){function i(e,r){return t.yytext=t.yytext.substring(e,t.yyleng-r+e)}switch(r){case 0:if("\\\\"===t.yytext.slice(-2)?(i(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(i(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 15;break;case 1:case 5:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:if(this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1])return 15;return i(5,9),"END_RAW_BLOCK";case 6:case 22:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:case 23:return 48;case 21:this.unput(t.yytext),this.popState(),this.begin("com");break;case 24:return 73;case 25:case 26:case 41:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return t.yytext=i(1,2).replace(/\\"/g,'"'),80;case 32:return t.yytext=i(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 42:return t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},e}();function r(){this.yy={}}return e.lexer=t,r.prototype=e,e.Parser=r,new r}();t.default=r,e.exports=t.default},73064:(e,t,r)=>{"use strict";t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(51184));function i(){this.parents=[]}function o(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function s(e){o.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function a(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}i.prototype={constructor:i,mutating:!1,acceptKey:function(e,t){var r=this.accept(e[t]);if(this.mutating){if(r&&!i.prototype[r.type])throw new n.default('Unexpected node type "'+r.type+'" found when accepting '+t+" on "+e.type);e[t]=r}},acceptRequired:function(e,t){if(this.acceptKey(e,t),!e[t])throw new n.default(e.type+" requires "+t)},acceptArray:function(e){for(var t=0,r=e.length;t<r;t++)this.acceptKey(e,t),!e[t]&&(e.splice(t,1),t--,r--)},accept:function(e){if(e){if(!this[e.type])throw new n.default("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return(this.current=this.parents.shift(),!this.mutating||t)?t:!1!==t?e:void 0}},Program:function(e){this.acceptArray(e.body)},MustacheStatement:o,Decorator:o,BlockStatement:s,DecoratorBlock:s,PartialStatement:a,PartialBlockStatement:function(e){a.call(this,e),this.acceptKey(e,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:o,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}},t.default=i,e.exports=t.default},82339:(e,t,r)=>{"use strict";t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(73064));function i(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}function o(e,t,r){void 0===t&&(t=e.length);var n=e[t-1],i=e[t-2];return n?"ContentStatement"===n.type?(i||!r?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(n.original):void 0:r}function s(e,t,r){void 0===t&&(t=-1);var n=e[t+1],i=e[t+2];return n?"ContentStatement"===n.type?(i||!r?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(n.original):void 0:r}function a(e,t,r){var n=e[null==t?0:t+1];if(n&&"ContentStatement"===n.type&&(r||!n.rightStripped)){var i=n.value;n.value=n.value.replace(r?/^\s+/:/^[ \t]*\r?\n?/,""),n.rightStripped=n.value!==i}}function l(e,t,r){var n=e[null==t?e.length-1:t-1];if(n&&"ContentStatement"===n.type&&(r||!n.leftStripped)){var i=n.value;return n.value=n.value.replace(r?/\s+$/:/[ \t]+$/,""),n.leftStripped=n.value!==i,n.leftStripped}}i.prototype=new n.default,i.prototype.Program=function(e){var t=!this.options.ignoreStandalone,r=!this.isRootSeen;this.isRootSeen=!0;for(var n=e.body,i=0,u=n.length;i<u;i++){var c=n[i],d=this.accept(c);if(d){var h=o(n,i,r),p=s(n,i,r),f=d.openStandalone&&h,m=d.closeStandalone&&p,g=d.inlineStandalone&&h&&p;d.close&&a(n,i,!0),d.open&&l(n,i,!0),t&&g&&(a(n,i),l(n,i)&&"PartialStatement"===c.type&&(c.indent=/([ \t]+$)/.exec(n[i-1].original)[1])),t&&f&&(a((c.program||c.inverse).body),l(n,i)),t&&m&&(a(n,i),l((c.inverse||c.program).body))}}return e},i.prototype.BlockStatement=i.prototype.DecoratorBlock=i.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,r=e.program&&e.inverse,n=r,i=r;if(r&&r.chained)for(n=r.body[0].program;i.chained;)i=i.body[i.body.length-1].program;var u={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:s(t.body),closeStandalone:o((n||t).body)};if(e.openStrip.close&&a(t.body,null,!0),r){var c=e.inverseStrip;c.open&&l(t.body,null,!0),c.close&&a(n.body,null,!0),e.closeStrip.open&&l(i.body,null,!0),!this.options.ignoreStandalone&&o(t.body)&&s(n.body)&&(l(t.body),a(n.body))}else e.closeStrip.open&&l(t.body,null,!0);return u},i.prototype.Decorator=i.prototype.MustacheStatement=function(e){return e.strip},i.prototype.PartialStatement=i.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},t.default=i,e.exports=t.default},83032:(e,t,r)=>{"use strict";t.__esModule=!0,t.registerDefaultDecorators=i;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(36128));function i(e){n.default(e)}},36128:(e,t,r)=>{"use strict";t.__esModule=!0;var n=r(68095);t.default=function(e){e.registerDecorator("inline",function(e,t,r,i){var o=e;return t.partials||(t.partials={},o=function(i,o){var s=r.partials;r.partials=n.extend({},s,t.partials);var a=e(i,o);return r.partials=s,a}),t.partials[i.args[0]]=i.fn,o})},e.exports=t.default},51184:(e,t)=>{"use strict";t.__esModule=!0;var r=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function n(e,t){var i=t&&t.loc,o=void 0,s=void 0,a=void 0,l=void 0;i&&(o=i.start.line,s=i.end.line,a=i.start.column,l=i.end.column,e+=" - "+o+":"+a);for(var u=Error.prototype.constructor.call(this,e),c=0;c<r.length;c++)this[r[c]]=u[r[c]];Error.captureStackTrace&&Error.captureStackTrace(this,n);try{i&&(this.lineNumber=o,this.endLineNumber=s,Object.defineProperty?(Object.defineProperty(this,"column",{value:a,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:l,enumerable:!0})):(this.column=a,this.endColumn=l))}catch(e){}}n.prototype=Error(),t.default=n,e.exports=t.default},65839:(e,t,r)=>{"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.registerDefaultHelpers=d,t.moveHelperToHooks=h;var i=n(r(71090)),o=n(r(87237)),s=n(r(45501)),a=n(r(4940)),l=n(r(27693)),u=n(r(65618)),c=n(r(56969));function d(e){i.default(e),o.default(e),s.default(e),a.default(e),l.default(e),u.default(e),c.default(e)}function h(e,t,r){e.helpers[t]&&(e.hooks[t]=e.helpers[t],r||delete e.helpers[t])}},71090:(e,t,r)=>{"use strict";t.__esModule=!0;var n=r(68095);t.default=function(e){e.registerHelper("blockHelperMissing",function(t,r){var i=r.inverse,o=r.fn;if(!0===t)return o(this);if(!1===t||null==t)return i(this);if(n.isArray(t))return t.length>0?(r.ids&&(r.ids=[r.name]),e.helpers.each(t,r)):i(this);if(r.data&&r.ids){var s=n.createFrame(r.data);s.contextPath=n.appendContextPath(r.data.contextPath,r.name),r={data:s}}return o(t,r)})},e.exports=t.default},87237:(e,t,r)=>{"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=r(68095),o=n(r(51184));t.default=function(e){e.registerHelper("each",function(e,t){if(!t)throw new o.default("Must pass iterator to #each");var r=t.fn,n=t.inverse,s=0,a="",l=void 0,u=void 0;function c(t,n,o){l&&(l.key=t,l.index=n,l.first=0===n,l.last=!!o,u&&(l.contextPath=u+t)),a+=r(e[t],{data:l,blockParams:i.blockParams([e[t],t],[u+t,null])})}if(t.data&&t.ids&&(u=i.appendContextPath(t.data.contextPath,t.ids[0])+"."),i.isFunction(e)&&(e=e.call(this)),t.data&&(l=i.createFrame(t.data)),e&&"object"==typeof e){if(i.isArray(e))for(var d=e.length;s<d;s++)s in e&&c(s,s,s===e.length-1);else if("function"==typeof Symbol&&e[Symbol.iterator]){for(var h=[],p=e[Symbol.iterator](),f=p.next();!f.done;f=p.next())h.push(f.value);e=h;for(var d=e.length;s<d;s++)c(s,s,s===e.length-1)}else!function(){var t=void 0;Object.keys(e).forEach(function(e){void 0!==t&&c(t,s-1),t=e,s++}),void 0!==t&&c(t,s-1,!0)}()}return 0===s&&(a=n(this)),a})},e.exports=t.default},45501:(e,t,r)=>{"use strict";t.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(51184));t.default=function(e){e.registerHelper("helperMissing",function(){if(1!=arguments.length)throw new n.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t.default},4940:(e,t,r)=>{"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=r(68095),o=n(r(51184));t.default=function(e){e.registerHelper("if",function(e,t){if(2!=arguments.length)throw new o.default("#if requires exactly one argument");return(i.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||i.isEmpty(e))?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,r){if(2!=arguments.length)throw new o.default("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:r.inverse,inverse:r.fn,hash:r.hash})})},e.exports=t.default},27693:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",function(){for(var t=[void 0],r=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)t.push(arguments[n]);var i=1;null!=r.hash.level?i=r.hash.level:r.data&&null!=r.data.level&&(i=r.data.level),t[0]=i,e.log.apply(e,t)})},e.exports=t.default},65618:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",function(e,t,r){return e?r.lookupProperty(e,t):e})},e.exports=t.default},56969:(e,t,r)=>{"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=r(68095),o=n(r(51184));t.default=function(e){e.registerHelper("with",function(e,t){if(2!=arguments.length)throw new o.default("#with requires exactly one argument");i.isFunction(e)&&(e=e.call(this));var r=t.fn;if(i.isEmpty(e))return t.inverse(this);var n=t.data;return t.data&&t.ids&&((n=i.createFrame(t.data)).contextPath=i.appendContextPath(t.data.contextPath,t.ids[0])),r(e,{data:n,blockParams:i.blockParams([e],[n&&n.contextPath])})})},e.exports=t.default},63358:(e,t,r)=>{"use strict";t.__esModule=!0,t.createNewLookupObject=i;var n=r(68095);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.extend.apply(void 0,[Object.create(null)].concat(t))}},76549:(e,t,r)=>{"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.createProtoAccessControl=a,t.resultIsAllowed=l,t.resetLoggedProperties=d;var i=r(63358),o=n(r(71187)),s=Object.create(null);function a(e){var t=Object.create(null);t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1;var r=Object.create(null);return r.__proto__=!1,{properties:{whitelist:i.createNewLookupObject(r,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:i.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}}function l(e,t,r){return"function"==typeof e?u(t.methods,r):u(t.properties,r)}function u(e,t){return void 0!==e.whitelist[t]?!0===e.whitelist[t]:void 0!==e.defaultValue?e.defaultValue:(c(t),!1)}function c(e){!0!==s[e]&&(s[e]=!0,o.default.log("error",'Handlebars: Access has been denied to resolve the property "'+e+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}function d(){Object.keys(s).forEach(function(e){delete s[e]})}},41646:(e,t)=>{"use strict";function r(e,t){return"function"!=typeof e?e:function(){var r=arguments[arguments.length-1];return arguments[arguments.length-1]=t(r),e.apply(this,arguments)}}t.__esModule=!0,t.wrapHelper=r},71187:(e,t,r)=>{"use strict";t.__esModule=!0;var n=r(68095),i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=n.indexOf(i.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=i.lookupLevel(e),"undefined"!=typeof console&&i.lookupLevel(i.level)<=e){var t=i.methodMap[e];console[t]||(t="log");for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];console[t].apply(console,n)}}};t.default=i,e.exports=t.default},39956:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){!function(){"object"!=typeof globalThis&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)}();var t=globalThis.Handlebars;e.noConflict=function(){return globalThis.Handlebars===e&&(globalThis.Handlebars=t),e}},e.exports=t.default},94058:(e,t,r)=>{"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.checkRevision=c,t.template=d,t.wrapProgram=h,t.resolvePartial=p,t.invokePartial=f,t.noop=m;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(68095)),o=n(r(51184)),s=r(87206),a=r(65839),l=r(41646),u=r(76549);function c(e){var t=e&&e[0]||1,r=s.COMPILER_REVISION;if(!(t>=s.LAST_COMPATIBLE_COMPILER_REVISION)||!(t<=s.COMPILER_REVISION)){if(t<s.LAST_COMPATIBLE_COMPILER_REVISION){var n=s.REVISION_CHANGES[r],i=s.REVISION_CHANGES[t];throw new o.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+i+").")}throw new o.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function d(e,t){if(!t)throw new o.default("No environment passed to template");if(!e||!e.main)throw new o.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var r=e.compiler&&7===e.compiler[0];function n(r,n,s){s.hash&&(n=i.extend({},n,s.hash),s.ids&&(s.ids[0]=!0)),r=t.VM.resolvePartial.call(this,r,n,s);var a=i.extend({},s,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),l=t.VM.invokePartial.call(this,r,n,a);if(null==l&&t.compile&&(s.partials[s.name]=t.compile(r,e.compilerOptions,t),l=s.partials[s.name](n,a)),null!=l){if(s.indent){for(var u=l.split("\n"),c=0,d=u.length;c<d&&(u[c]||c+1!==d);c++)u[c]=s.indent+u[c];l=u.join("\n")}return l}throw new o.default("The partial "+s.name+" could not be compiled when running in runtime-only mode")}var s={strict:function(e,t,r){if(!e||!(t in e))throw new o.default('"'+t+'" not defined in '+e,{loc:r});return s.lookupProperty(e,t)},lookupProperty:function(e,t){var r=e[t];if(null==r||Object.prototype.hasOwnProperty.call(e,t)||u.resultIsAllowed(r,s.protoAccessControl,t))return r},lookup:function(e,t){for(var r=e.length,n=0;n<r;n++)if(null!=(e[n]&&s.lookupProperty(e[n],t)))return e[n][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:i.escapeExpression,invokePartial:n,fn:function(t){var r=e[t];return r.decorator=e[t+"_d"],r},programs:[],program:function(e,t,r,n,i){var o=this.programs[e],s=this.fn(e);return t||i||n||r?o=h(this,e,s,t,r,n,i):o||(o=this.programs[e]=h(this,e,s)),o},data:function(e,t){for(;e&&t--;)e=e._parent;return e},mergeIfNeeded:function(e,t){var r=e||t;return e&&t&&e!==t&&(r=i.extend({},t,e)),r},nullContext:Object.seal({}),noop:t.VM.noop,compilerInfo:e.compiler};function l(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=r.data;l._setup(r),!r.partial&&e.useData&&(n=g(t,n));var i=void 0,o=e.useBlockParams?[]:void 0;function a(t){return""+e.main(s,t,s.helpers,s.partials,n,o,i)}return e.useDepths&&(i=r.depths?t!=r.depths[0]?[t].concat(r.depths):r.depths:[t]),(a=y(e.main,a,s,r.depths||[],n,o))(t,r)}return l.isTop=!0,l._setup=function(n){if(n.partial)s.protoAccessControl=n.protoAccessControl,s.helpers=n.helpers,s.partials=n.partials,s.decorators=n.decorators,s.hooks=n.hooks;else{var o=i.extend({},t.helpers,n.helpers);v(o,s),s.helpers=o,e.usePartial&&(s.partials=s.mergeIfNeeded(n.partials,t.partials)),(e.usePartial||e.useDecorators)&&(s.decorators=i.extend({},t.decorators,n.decorators)),s.hooks={},s.protoAccessControl=u.createProtoAccessControl(n);var l=n.allowCallsToHelperMissing||r;a.moveHelperToHooks(s,"helperMissing",l),a.moveHelperToHooks(s,"blockHelperMissing",l)}},l._child=function(t,r,n,i){if(e.useBlockParams&&!n)throw new o.default("must pass block params");if(e.useDepths&&!i)throw new o.default("must pass parent depths");return h(s,t,e[t],r,0,n,i)},l}function h(e,t,r,n,i,o,s){function a(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s;return s&&t!=s[0]&&!(t===e.nullContext&&null===s[0])&&(a=[t].concat(s)),r(e,t,e.helpers,e.partials,i.data||n,o&&[i.blockParams].concat(o),a)}return(a=y(r,a,e,s,n,o)).program=t,a.depth=s?s.length:0,a.blockParams=i||0,a}function p(e,t,r){return e?e.call||r.name||(r.name=e,e=r.partials[e]):e="@partial-block"===r.name?r.data["partial-block"]:r.partials[r.name],e}function f(e,t,r){var n=r.data&&r.data["partial-block"];r.partial=!0,r.ids&&(r.data.contextPath=r.ids[0]||r.data.contextPath);var a=void 0;if(r.fn&&r.fn!==m&&function(){r.data=s.createFrame(r.data);var e=r.fn;a=r.data["partial-block"]=function(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return r.data=s.createFrame(r.data),r.data["partial-block"]=n,e(t,r)},e.partials&&(r.partials=i.extend({},r.partials,e.partials))}(),void 0===e&&a&&(e=a),void 0===e)throw new o.default("The partial "+r.name+" could not be found");if(e instanceof Function)return e(t,r)}function m(){return""}function g(e,t){return t&&"root"in t||((t=t?s.createFrame(t):{}).root=e),t}function y(e,t,r,n,o,s){if(e.decorator){var a={};t=e.decorator(t,a,r,n&&n[0],o,s,n),i.extend(t,a)}return t}function v(e,t){Object.keys(e).forEach(function(r){var n=e[r];e[r]=b(n,t)})}function b(e,t){var r=t.lookupProperty;return l.wrapHelper(e,function(e){return i.extend({lookupProperty:r},e)})}},26426:(e,t)=>{"use strict";function r(e){this.string=e}t.__esModule=!0,r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},t.default=r,e.exports=t.default},68095:(e,t)=>{"use strict";t.__esModule=!0,t.extend=s,t.indexOf=c,t.escapeExpression=d,t.isEmpty=h,t.createFrame=p,t.blockParams=f,t.appendContextPath=m;var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},n=/[&<>"'`=]/g,i=/[&<>"'`=]/;function o(e){return r[e]}function s(e){for(var t=1;t<arguments.length;t++)for(var r in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],r)&&(e[r]=arguments[t][r]);return e}var a=Object.prototype.toString;t.toString=a;var l=function(e){return"function"==typeof e};l(/x/)&&(t.isFunction=l=function(e){return"function"==typeof e&&"[object Function]"===a.call(e)}),t.isFunction=l;var u=Array.isArray||function(e){return!!e&&"object"==typeof e&&"[object Array]"===a.call(e)};function c(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}function d(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return i.test(e)?e.replace(n,o):e}function h(e){return!e&&0!==e||!!u(e)&&0===e.length}function p(e){var t=s({},e);return t._parent=e,t}function f(e,t){return e.path=t,e}function m(e,t){return(e?e+".":"")+t}t.isArray=u},48743:e=>{"use strict";e.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return -1!==n&&(-1===i||n<i)}},596:(e,t,r)=>{"use strict";var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=r(58668);e.exports=o.call(n,i)},89963:(e,t,r)=>{"use strict";var n=r(73837),i=r(4733);function o(e){if(!(this instanceof o))return new o(e);e||(e={}),i.call(this,e);var t=this;"function"==typeof e.header?t.header=e.header:"object"==typeof e.header?t.header=s(e.header):"string"==typeof e.header?t.header=s({label:e.header}):t.header=s(),t.chunkNum=0}function s(e){var t="-- ";return(e=e||{}).label&&(t+=e.label+" "),t+="chunk[%s] length: %s (0x%s)\n",function(e,r){var i=r.length,o=i.toString(16);return n.format(t,e,i,o)}}n.inherits(o,i),o.prototype._transform=function(e,t,r){var n=this;n.totalOffset&&n.reset(),++n.chunkNum;var o=n.header(n.chunkNum,e);o.length&&n.push(o),i.prototype._transform.call(n,e,t,function(e){n.reset(),r(e)})},e.exports=o},93750:(e,t,r)=>{var n=r(73837),i=r(12781).Transform,o=r(89963);function s(e,t){if(!(this instanceof s))return new s(e,t);t||(t={}),void 0===t.highWaterMark&&(t.highWaterMark=1);var r=this;i.call(r,t),r.hex=o(t),r.hex.pipe(e)}e.exports=s,n.inherits(s,i),s.prototype._transform=function(e,t,r){var n=this;n.hex.write(e,t,function(){n.push(e),r()})},s.prototype._flush=function(e){var t=this;t.hex.end(null,null,e)}},4733:(e,t,r)=>{"use strict";var n=r(53958),i=r(73837),o=r(12781).Transform,s=r(49816);function a(e){if(!(this instanceof a))return new a(e);e||(e={}),e.colored&&(e=n(s.coloredOptions,e)),o.call(this,e);var t=this;t.options=e,t.prefix=t.options.prefix||"",t.cols=t.options.cols||16,t.group=t.options.group||2,t.gutter=t.options.gutter||0,t.annotateLine=e.annotateLine||null,t.decorateHexen=t.options.decorateHexen||l,t.decorateHuman=t.options.decorateHuman||l,t.renderHexen=t.options.renderHexen||s.byte2hex,t.renderHuman=t.options.renderHuman||s.byte2char,t.groupSeparator=void 0===t.options.groupSeparator?" ":t.options.groupSeparator,t.headSep=void 0===t.options.headSep?": ":t.options.headSep,t.divide=void 0===t.options.divide?"  ":t.options.divide,t.emptyHexen=void 0===t.options.emptyHexen?"  ":t.options.emptyHexen,t.emptyHuman=t.options.emptyHuman||"",t.nullHuman=t.options.nullHuman||"",t.offsetWidth=t.options.offsetWidth||8,t.gutter=Math.max(t.offsetWidth,t.gutter),t.line="",t.hexen="",t.human="",t.reset()}function l(e,t,r){return r}i.inherits(a,o),a.prototype.reset=function(){var e=this;e._finishLine(),e.screenOffset=0,e.totalOffset=0},a.prototype._transform=function(e,t,r){for(var n=this,i=0;i<e.length;i++)n.screenOffset%n.cols==0&&(n._finishLine(),n._startLine()),n._addByte(e[i]);r(null)},a.prototype._flush=function(e){var t=this;0===t.totalOffset&&t.nullHuman&&(t._startLine(),t.human+=t.nullHuman),t._finishLine(),e(null)},a.prototype._startLine=function(){var e=this,t=s.pad("0",e.totalOffset.toString(16),e.offsetWidth);e.line=e.prefix+s.pad(" ",t,e.gutter)+e.headSep},a.prototype._finishLine=function(){var e=this;if(e.line.length){var t=e.screenOffset%e.cols;if(0!==t||0===e.totalOffset&&e.nullHuman){t=e.cols-t;for(var r=0;r<t;r++)e._addEmpty()}e.line+=e.hexen+e.divide+e.human,e.annotateLine&&(e.line+=e.annotateLine(e.totalOffset-e.cols,e.totalOffset)),e.line+="\n",e.push(e.line),e.line="",e.hexen="",e.human=""}},a.prototype._addEmpty=function(){var e=this;e._addPart(e.emptyHexen,e.emptyHuman)},a.prototype._addByte=function(e){var t=this,r=t.renderHexen(e),n=t.renderHuman(e);t._addPart(r,n,e)},a.prototype._addPart=function(e,t,r){var n=this;e=n.decorateHexen(n.totalOffset,n.screenOffset,e,r),t=n.decorateHuman(n.totalOffset,n.screenOffset,t,r);var i=n.screenOffset%n.cols==0,o=n.screenOffset%n.group==0;!i&&o&&(n.hexen+=n.groupSeparator),n.hexen+=e,n.human+=t,n.totalOffset++,n.screenOffset++},e.exports=a},50588:(e,t,r)=>{"use strict";function n(e,t){if("string"==typeof e)return n(Buffer(e),t);if(!Buffer.isBuffer(e))throw Error("invalid argument to hex, expected a buffer or string");(t=t||{}).offsetWidth||(t.offsetWidth=2*Math.ceil(e.length.toString(16).length/2));var r=n.Transform(t);r.write(e),r.end();var i=r.read();return null===i?"":i=(i=String(i)).replace(/\n+$/,"")}n.Transform=r(4733),n.ChunkedTransform=r(89963),n.Spy=r(93750),e.exports=n},49816:(e,t,r)=>{"use strict";var n=r(72900).set;function i(e,t,r){for(;t.length<r;)t=e+t;return t}function o(e){return i("0",e.toString(16),2)}function s(e){return e>31&&e<127?String.fromCharCode(e):"."}function a(e){return e>31&&e<127?String.fromCharCode(e):n(".","black+bold")}function l(e){for(;;){var t=e.indexOf("\x1b[");if(t<0)return e;var r=e.indexOf("m",t);if(r<0)return e;e=e.slice(0,t)+e.slice(r+1)}}e.exports.coloredHeadSep=n(":","cyan")+" ",e.exports.coloredOptions={headSep:e.exports.coloredHeadSep,renderHuman:a},e.exports.pad=i,e.exports.byte2hex=o,e.exports.byte2char=s,e.exports.renderHuman=a,e.exports.stripColor=l},28826:(e,t,r)=>{let n;let i=r(71017),o=r(71182),{fileURLToPath:s}=r(57310),{MessageChannel:a}=r(71267),{importHooks:l,specifiers:u,toHook:c,getExperimentalPatchInternals:d}=r(82729);function h(e){l.push(e),c.forEach(([t,r])=>e(t,r))}function p(e){let t=l.indexOf(e);t>-1&&l.splice(t,1)}function f(e,t,r,n){let i=e(t,r,n);i&&i!==t&&(t.default=i)}function m(){let e;let{port1:t,port2:r}=new a,i=0;n=e=>{i++,t.postMessage(e)},t.on("message",()=>{i--,e&&i<=0&&e()}).unref();let o=r;return{registerOptions:{data:{addHookMessagePort:o,include:[]},transferList:[o]},addHookMessagePort:o,waitForAllMessagesAcknowledged:function(){let t=setInterval(()=>{},1e3),r=new Promise(t=>{e=t}).then(()=>{clearInterval(t)});return 0===i&&e(),r}}}function g(e,t,r){if(this instanceof g==!1)return new g(e,t,r);"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null);let a=!!t&&!0===t.internals;n&&Array.isArray(e)&&n(e),this._iitmHook=(t,n)=>{let l;let c=t;if(t.startsWith("node:"))t=t.replace(/^node:/,"");else{if(t.startsWith("file://"))try{t=s(t)}catch(e){}let e=o(t);e&&(t=e.name,l=e.basedir)}if(e){for(let o of e)if(o===t){if(l){if(a)t=t+i.sep+i.relative(l,s(c));else if(!d()&&!l.endsWith(u.get(c)))continue}f(r,n,t,l)}}else f(r,n,t,l)},h(this._iitmHook)}g.prototype.unhook=function(){p(this._iitmHook)},e.exports=g,e.exports.Hook=g,e.exports.addHook=h,e.exports.removeHook=p,e.exports.createAddHookMessageChannel=m},82729:(e,t)=>{let r=[],n=new WeakMap,i=new WeakMap,o=new Map,s=[],a={set:(e,t,r)=>n.get(e)[t](r),get(e,t){if(t===Symbol.toStringTag)return"Module";let r=i.get(e)[t];if("function"==typeof r)return r()},defineProperty(e,t,r){if(!("value"in r))throw Error("Getters/setters are not supported for exports property descriptors.");return n.get(e)[t](r.value)}};function l(e,t,l,u,c){o.set(e,c),n.set(t,l),i.set(t,u);let d=new Proxy(t,a);r.forEach(t=>t(e,d)),s.push([e,d])}let u=!1;function c(){return u}function d(e){u=e}t.register=l,t.importHooks=r,t.specifiers=o,t.toHook=s,t.getExperimentalPatchInternals=c,t.setExperimentalPatchInternals=d},47125:(e,t,r)=>{"use strict";var n=r(596);function i(e,t){for(var r=e.split("."),n=t.split(" "),i=n.length>1?n[0]:"=",o=(n.length>1?n[1]:n[0]).split("."),s=0;s<3;++s){var a=parseInt(r[s]||0,10),l=parseInt(o[s]||0,10);if(a!==l){if("<"===i)return a<l;if(">="===i)return a>=l;return!1}}return">="===i}function o(e,t){var r=t.split(/ ?&& ?/);if(0===r.length)return!1;for(var n=0;n<r.length;++n)if(!i(e,r[n]))return!1;return!0}function s(e,t){if("boolean"==typeof t)return t;var r=void 0===e?process.versions&&process.versions.node:e;if("string"!=typeof r)throw TypeError(void 0===e?"Unable to determine current node version":"If provided, a valid node version is required");if(t&&"object"==typeof t){for(var n=0;n<t.length;++n)if(o(r,t[n]))return!0;return!1}return o(r,t)}var a=r(39348);e.exports=function(e,t){return n(a,e)&&s(t,a[e])}},54548:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function n(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}var i=function(){function e(){n(this,e)}return r(e,[{key:"info",value:function(e){}},{key:"error",value:function(e){}}]),e}();t.default=i},44147:(e,t,r)=>{"use strict";n={value:!0};var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();p(r(57147));var o=p(r(13685)),s=p(r(95687));p(r(71017));var a=h(r(57310)),l=r(68402),u=p(r(54548)),c=p(r(8136)),d=p(r(39380));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}var m=5e3,g=100,y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,e),this._url=a.parse(t.endpoint),this._username=t.username,this._password=t.password,this._timeoutMs=t.timeoutMs||t.timeoutMS||m,this._httpAgent="https:"===this._url.protocol?new s.default.Agent({keepAlive:!0}):new o.default.Agent({keepAlive:!0}),this._maxSpanBatchSize=t.maxSpanBatchSize||g,this._logger=t.logger||new u.default,this._jaegerThrift=new l.Thrift({source:d.default.loadJaegerThriftDefinition(),allowOptionalArguments:!0}),this._httpOptions={protocol:this._url.protocol,hostname:this._url.hostname,port:this._url.port,path:this._url.pathname,method:"POST",auth:this._username&&this._password?this._username+":"+this._password:void 0,headers:{"Content-Type":"application/x-thrift",Connection:"keep-alive"},agent:this._httpAgent,timeout:this._timeoutMs}}return i(e,[{key:"setProcess",value:function(e){this._batch=new this._jaegerThrift.Batch({process:c.default.convertProcessToThrift(this._jaegerThrift,e),spans:[]})}},{key:"append",value:function(e,t){if(this._batch.spans.push(new this._jaegerThrift.Span(e)),this._batch.spans.length>=this._maxSpanBatchSize){this.flush(t);return}c.default.invokeCallback(t,0)}},{key:"flush",value:function(e){var t=this,r=this._batch.spans.length;if(!r){c.default.invokeCallback(e,0);return}var n=this._jaegerThrift.Batch.rw.toBuffer(this._batch);if(this._reset(),n.err){c.default.invokeCallback(e,r,"Error encoding Thrift batch: "+n.err);return}var i=("https:"===this._url.protocol?s.default.request:o.default.request)(this._httpOptions,function(n){n.resume();var i=void 0;n.statusCode>=400&&(i="error sending spans over HTTP: server responded with HTTP "+n.statusCode,t._logger.error(i)),c.default.invokeCallback(e,r,i)});i.on("error",function(n){var i="error sending spans over HTTP: "+n;t._logger.error(i),c.default.invokeCallback(e,r,i)}),i.write(n.value),i.end()}},{key:"_reset",value:function(){this._batch.spans=[]}},{key:"close",value:function(){this._httpAgent.destroy&&this._httpAgent.destroy()}}]),e}();t.default=y},8136:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function i(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}r(68402);var o=function(){function e(){i(this,e)}return n(e,null,[{key:"invokeCallback",value:function(e,t,r){e&&e(t,r)}},{key:"convertProcessToThrift",value:function(e,t){for(var r=[],n=0;n<t.tags.length;n++){var i=t.tags[n];r.push(new e.Tag(i))}return new e.Process({serviceName:t.serviceName,tags:r})}}]),e}();t.default=o},71650:(e,t,r)=>{"use strict";n={value:!0};var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=d(r(71891));d(r(57147)),d(r(71017));var s=r(68402),a=d(r(54548)),l=d(r(8136)),u=d(r(39380)),c=d(r(20012));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}var p="localhost",f=6832,m="udp4",g=65e3,y=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,e),this._host=r.host||p,this._port=r.port||f,this._socketType=r.socketType||m,this._maxPacketSize=r.maxPacketSize||g,this._logger=r.logger||new a.default,this._client=o.default.createSocket(this._socketType),this._client.on("error",function(e){t._logger.error("error sending spans over UDP: "+e)}),this._agentThrift=new s.Thrift({entryPoint:u.default.buildAgentThriftPath(),allowOptionalArguments:!0,allowFilesystemAccess:!0}),this._jaegerThrift=new s.Thrift({source:u.default.loadJaegerThriftDefinition(),allowOptionalArguments:!0}),this._totalSpanBytes=0}return i(e,[{key:"_calcBatchSize",value:function(e){return this._agentThrift.Agent.emitBatch.argumentsMessageRW.byteLength(this._convertBatchToThriftMessage()).length}},{key:"_calcSpanSize",value:function(e){return this._jaegerThrift.Span.rw.byteLength(new this._jaegerThrift.Span(e))}},{key:"setProcess",value:function(e){this._process=e,this._batch={process:this._process,spans:[]},this._thriftProcessMessage=l.default.convertProcessToThrift(this._jaegerThrift,e),this._emitSpanBatchOverhead=this._calcBatchSize(this._batch),this._maxSpanBytes=this._maxPacketSize-this._emitSpanBatchOverhead}},{key:"append",value:function(e,t){var r=this,n=this._calcSpanSize(e),i=n.err,o=n.length;if(i){l.default.invokeCallback(t,1,"error converting span to Thrift: "+i);return}var s=o;if(s>this._maxSpanBytes){l.default.invokeCallback(t,1,"span size "+s+" is larger than maxSpanSize "+this._maxSpanBytes);return}if(this._totalSpanBytes+s<=this._maxSpanBytes){if(this._batch.spans.push(e),this._totalSpanBytes+=s,this._totalSpanBytes<this._maxSpanBytes){l.default.invokeCallback(t,0);return}this.flush(t);return}this.flush(function(n,i){r._batch.spans.push(e),r._totalSpanBytes+=s,l.default.invokeCallback(t,n,i)})}},{key:"flush",value:function(e){var t=this._batch.spans.length;if(!t){l.default.invokeCallback(e,0);return}var r=this._totalSpanBytes+this._emitSpanBatchOverhead,n=c.default.newBuffer(r),i=this._agentThrift.Agent.emitBatch.argumentsMessageRW.writeInto(this._convertBatchToThriftMessage(),n,0);if(this._reset(),i.err){l.default.invokeCallback(e,t,"error writing Thrift object: "+i.err);return}this._client.send(n,0,n.length,this._port,this._host,function(r,n){if(r){var o=r&&"error sending spans over UDP: "+r+", packet size: "+i.offset+", bytes sent: "+n;l.default.invokeCallback(e,t,o)}else l.default.invokeCallback(e,t)})}},{key:"_convertBatchToThriftMessage",value:function(){for(var e=[],t=0;t<this._batch.spans.length;t++){var r=this._batch.spans[t];e.push(new this._jaegerThrift.Span(r))}return new this._agentThrift.Agent.emitBatch.ArgumentsMessage({version:1,id:0,body:{batch:new this._jaegerThrift.Batch({process:this._thriftProcessMessage,spans:e})}})}},{key:"_reset",value:function(){this._batch.spans=[],this._totalSpanBytes=0}},{key:"close",value:function(){this._client.close()}}]),e}();t.default=y},39380:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=d(r(57147)),s=c(r(99032)),a=d(r(71017)),l=r(68402),u=d(r(20012));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}var p=function(){function e(){h(this,e)}return i(e,null,[{key:"loadJaegerThriftDefinition",value:function(){return o.default.readFileSync(a.default.join(__dirname,"./jaeger-idl/thrift/jaeger.thrift"),"ascii")}},{key:"buildAgentThriftPath",value:function(){return a.default.join(__dirname,"./thriftrw-idl/agent.thrift")}},{key:"getThriftTags",value:function(t){for(var r=[],i=0;i<t.length;i++){var o=t[i],s=o.key,a=e.emptyBuffer,l=e.emptyBuffer,u=!1,c=0,d="",h="",p=n(o.value);"number"===p?(h=e._thrift.TagType.DOUBLE,c=o.value):"boolean"===p?(h=e._thrift.TagType.BOOL,u=o.value):o.value instanceof Buffer?(h=e._thrift.TagType.BINARY,l=o.value):"object"===p?(h=e._thrift.TagType.STRING,d=JSON.stringify(o.value)):(h=e._thrift.TagType.STRING,d="string"===p?o.value:String(o.value)),r.push({key:s,vType:h,vStr:d,vDouble:c,vBool:u,vLong:a,vBinary:l})}return r}},{key:"getThriftLogs",value:function(t){for(var r=[],n=0;n<t.length;n++){var i=t[n];r.push({timestamp:u.default.encodeInt64(1e3*i.timestamp),fields:e.getThriftTags(i.fields)})}return r}},{key:"spanRefsToThriftRefs",value:function(t){for(var r=[],n=0;n<t.length;n++){var i=void 0,o=t[n],a=t[n].referencedContext();if(o.type()===s.REFERENCE_CHILD_OF)i=e._thrift.SpanRefType.CHILD_OF;else{if(o.type()!==s.REFERENCE_FOLLOWS_FROM)continue;i=e._thrift.SpanRefType.FOLLOWS_FROM}r.push({refType:i,traceIdLow:e.getTraceIdLow(a.traceId),traceIdHigh:e.getTraceIdHigh(a.traceId),spanId:a.spanId})}return r}},{key:"getTraceIdLow",value:function(t){return null!=t?t.slice(-8):e.emptyBuffer}},{key:"getTraceIdHigh",value:function(t){return null!=t&&t.length>8?t.slice(-16,-8):e.emptyBuffer}},{key:"spanToThrift",value:function(t){var r=e.getThriftTags(t._tags),n=e.getThriftLogs(t._logs);return{traceIdLow:e.getTraceIdLow(t._spanContext.traceId),traceIdHigh:e.getTraceIdHigh(t._spanContext.traceId),spanId:t._spanContext.spanId,parentSpanId:t._spanContext.parentId||e.emptyBuffer,operationName:t._operationName,references:e.spanRefsToThriftRefs(t._references),flags:t._spanContext.flags,startTime:u.default.encodeInt64(1e3*t._startTime),duration:u.default.encodeInt64(1e3*t._duration),tags:r,logs:n}}}]),e}();p._thrift=new l.Thrift({source:p.loadJaegerThriftDefinition(),allowOptionalArguments:!0}),p.emptyBuffer=u.default.newBuffer(8),t.default=p},20012:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=l(r(3150)),o=l(r(92735)),s=l(r(22037)),a=l(r(13685));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}var c=function(){function e(){u(this,e)}return n(e,null,[{key:"startsWith",value:function(e,t){return 0===e.indexOf(t)}},{key:"endsWith",value:function(e,t){return e.lastIndexOf(t)===e.length-t.length}},{key:"getRandom64",value:function(){var e=i.default.randomint(),t=this.newBuffer(8);return t.writeUInt32BE(e[0],0),t.writeUInt32BE(e[1],4),t}},{key:"getRandom128",value:function(){var e=i.default.randomint(),t=i.default.randomint(),r=this.newBuffer(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(t[0],8),r.writeUInt32BE(t[1],12),r}},{key:"encodeInt64",value:function(e){return new o.default(e).toBuffer()}},{key:"removeLeadingZeros",value:function(e){for(var t=0,r=e.length-1,n=0;n<r;n++)if("0"===e.charAt(n))t++;else break;return e.substring(t)}},{key:"myIp",value:function(){var e="0.0.0.0",t=s.default.networkInterfaces(),r=Object.keys(t);e:for(var n=0;n<r.length;n++)for(var i=t[r[n]],o=0;o<i.length;o++)if("IPv4"===i[o].family&&!i[o].internal){e=i[o].address;break e}return e}},{key:"clone",value:function(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}},{key:"convertObjectToTags",value:function(e){var t=[];for(var r in e){var n=e[r];Object.prototype.hasOwnProperty.call(e,r)&&t.push({key:r,value:n})}return t}},{key:"httpGet",value:function(e,t,r,n,i){a.default.get({host:e,port:t,path:r},function(e){e.setEncoding("utf8");var t="";e.on("data",function(e){t+=e}),e.on("end",function(){n(t)})}).on("error",function(e){i(e)})}},{key:"newBufferFromHex",value:function(e){var t="hex";return Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from(e,t):new Buffer(e,t)}},{key:"newBuffer",value:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t}},{key:"countdownCallback",value:function(e,t){var r=0;return function(){++r>=e&&t&&t()}}}]),e}();t.default=c},29899:e=>{"use strict";var t=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={});var i="function"==typeof(n=t.cb||n)?n:n.pre||function(){};r(t,i,n.post||function(){},e,"",e)};function r(e,i,o,s,a,l,u,c,d,h){if(s&&"object"==typeof s&&!Array.isArray(s)){for(var p in i(s,a,l,u,c,d,h),s){var f=s[p];if(Array.isArray(f)){if(p in t.arrayKeywords)for(var m=0;m<f.length;m++)r(e,i,o,f[m],a+"/"+p+"/"+m,l,a,p,s,m)}else if(p in t.propsKeywords){if(f&&"object"==typeof f)for(var g in f)r(e,i,o,f[g],a+"/"+p+"/"+n(g),l,a,p,s,g)}else(p in t.keywords||e.allKeys&&!(p in t.skipKeywords))&&r(e,i,o,f,a+"/"+p,l,a,p,s)}o(s,a,l,u,c,d,h)}}function n(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},66479:e=>{var t=1/0,r="[object Symbol]",n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o="\ud800-\udfff",s="\\u0300-\\u036f\\ufe20-\\ufe23",a="\\u20d0-\\u20f0",l="\\u2700-\\u27bf",u="a-z\\xdf-\\xf6\\xf8-\\xff",c="A-Z\\xc0-\\xd6\\xd8-\\xde",d="\\ufe0e\\ufe0f",h="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",p="[']",f="["+o+"]",m="["+h+"]",g="["+s+a+"]",y="\\d+",v="["+l+"]",b="["+u+"]",E="[^"+o+h+y+l+u+c+"]",S="\ud83c[\udffb-\udfff]",_="[^"+o+"]",T="(?:\ud83c[\udde6-\uddff]){2}",A="[\ud800-\udbff][\udc00-\udfff]",C="["+c+"]",w="\\u200d",O="(?:"+b+"|"+E+")",R="(?:"+C+"|"+E+")",x="(?:"+p+"(?:d|ll|m|re|s|t|ve))?",I="(?:"+p+"(?:D|LL|M|RE|S|T|VE))?",D="(?:"+g+"|"+S+")?",P="["+d+"]?",N="(?:"+w+"(?:"+[_,T,A].join("|")+")"+P+D+")*",k=P+D+N,M="(?:"+[v,T,A].join("|")+")"+k,L="(?:"+[_+g+"?",g,T,A,f].join("|")+")",B=RegExp(p,"g"),j=RegExp(g,"g"),F=RegExp(S+"(?="+S+")|"+L+k,"g"),U=RegExp([C+"?"+b+"+"+x+"(?="+[m,C,"$"].join("|")+")",R+"+"+I+"(?="+[m,C+O,"$"].join("|")+")",C+"?"+O+"+"+x,C+"+"+I,y,M].join("|"),"g"),V=RegExp("["+w+o+s+a+d+"]"),z=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,G={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"ss"},$="object"==typeof global&&global&&global.Object===Object&&global,H="object"==typeof self&&self&&self.Object===Object&&self,q=$||H||Function("return this")();function W(e,t,r,n){var i=-1,o=e?e.length:0;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function K(e){return e.split("")}function Y(e){return e.match(n)||[]}var Z=function(e){return function(t){return null==e?void 0:e[t]}}(G);function J(e){return V.test(e)}function Q(e){return z.test(e)}function X(e){return J(e)?ee(e):K(e)}function ee(e){return e.match(F)||[]}function et(e){return e.match(U)||[]}var er=Object.prototype.toString,en=q.Symbol,ei=en?en.prototype:void 0,eo=ei?ei.toString:void 0;function es(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}function ea(e){if("string"==typeof e)return e;if(ed(e))return eo?eo.call(e):"";var r=e+"";return"0"==r&&1/e==-t?"-0":r}function el(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:es(e,t,r)}function eu(e){return function(t){var r=J(t=eh(t))?X(t):void 0,n=r?r[0]:t.charAt(0),i=r?el(r,1).join(""):t.slice(1);return n[e]()+i}}function ec(e){return!!e&&"object"==typeof e}function ed(e){return"symbol"==typeof e||ec(e)&&er.call(e)==r}function eh(e){return null==e?"":ea(e)}var ep=function(e){return function(t){return W(ey(em(t).replace(B,"")),e,"")}}(function(e,t,r){return t=t.toLowerCase(),e+(r?ef(t):t)});function ef(e){return eg(eh(e).toLowerCase())}function em(e){return(e=eh(e))&&e.replace(i,Z).replace(j,"")}var eg=eu("toUpperCase");function ey(e,t,r){return(e=eh(e),void 0===(t=r?void 0:t))?Q(e)?et(e):Y(e):e.match(t)||[]}e.exports=ep},71182:(e,t,r)=>{"use strict";var n=r(71017).sep;e.exports=function(e){var t=e.split(n),r=t.lastIndexOf("node_modules");if(-1!==r&&t[r+1]){for(var i="@"===t[r+1][0],o=i?t[r+1]+"/"+t[r+2]:t[r+1],s=i?3:2,a="",l=r+s-1,u=0;u<=l;u++)u===l?a+=t[u]:a+=t[u]+n;for(var c="",d=t.length-1,h=r+s;h<=d;h++)h===d?c+=t[h]:c+=t[h]+n;return{name:o,basedir:a,path:c}}}},85723:(e,t)=>{"use strict";var r;function n(e){for(let t=0;t<e.length;t++){let r=e[t];if("function"!=typeof r)throw Error(`A "use server" file can only export async functions, found ${typeof r}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`)}}r={value:!0},Object.defineProperty(t,"ensureServerEntryExports",{enumerable:!0,get:function(){return n}})},68570:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createProxy",{enumerable:!0,get:function(){return n}});let n=r(51749).createClientModuleProxy},27745:(e,t,r)=>{"use strict";var n;n={value:!0},Object.defineProperty(t,"registerServerReference",{enumerable:!0,get:function(){return o}});let i=r(96012);function o(e,t){return(0,i.registerServerReference)(t,e,null)}},59943:(e,t,r)=>{"use strict";let{createProxy:n}=r(68570);e.exports=n("/home/user/studio/node_modules/next/dist/client/components/app-router.js")},53144:(e,t,r)=>{"use strict";let{createProxy:n}=r(68570);e.exports=n("/home/user/studio/node_modules/next/dist/client/components/client-page.js")},37922:(e,t,r)=>{"use strict";let{createProxy:n}=r(68570);e.exports=n("/home/user/studio/node_modules/next/dist/client/components/error-boundary.js")},95106:(e,t,r)=>{"use strict";let{createProxy:n}=r(68570);e.exports=n("/home/user/studio/node_modules/next/dist/client/components/layout-router.js")},60525:(e,t,r)=>{"use strict";let{createProxy:n}=r(68570);e.exports=n("/home/user/studio/node_modules/next/dist/client/components/not-found-boundary.js")},35866:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}}),r(53370);let n=r(19510);r(71159);let i={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},desc:{display:"inline-block"},h1:{display:"inline-block",margin:"0 20px 0 0",padding:"0 23px 0 0",fontSize:24,fontWeight:500,verticalAlign:"top",lineHeight:"49px"},h2:{fontSize:14,fontWeight:400,lineHeight:"49px",margin:0}};function o(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("title",{children:"404: This page could not be found."}),(0,n.jsx)("div",{style:i.error,children:(0,n.jsxs)("div",{children:[(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}),(0,n.jsx)("h1",{className:"next-error-h1",style:i.h1,children:"404"}),(0,n.jsx)("div",{style:i.desc,children:(0,n.jsx)("h2",{style:i.h2,children:"This page could not be found."})})]})})]})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},84892:(e,t,r)=>{"use strict";let{createProxy:n}=r(68570);e.exports=n("/home/user/studio/node_modules/next/dist/client/components/render-from-template-context.js")},79181:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{createDynamicallyTrackedSearchParams:function(){return a},createUntrackedSearchParams:function(){return s}});let n=r(45869),i=r(6278),o=r(38238);function s(e){let t=n.staticGenerationAsyncStorage.getStore();return t&&t.forceStatic?{}:e}function a(e){let t=n.staticGenerationAsyncStorage.getStore();return t?t.forceStatic?{}:t.isStaticGeneration||t.dynamicShouldError?new Proxy({},{get:(e,r,n)=>("string"==typeof r&&(0,i.trackDynamicDataAccessed)(t,"searchParams."+r),o.ReflectAdapter.get(e,r,n)),has:(e,r)=>("string"==typeof r&&(0,i.trackDynamicDataAccessed)(t,"searchParams."+r),Reflect.has(e,r)),ownKeys:e=>((0,i.trackDynamicDataAccessed)(t,"searchParams"),Reflect.ownKeys(e))}):e:e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},98601:e=>{(()=>{"use strict";var t={491:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;let n=r(223),i=r(172),o=r(930),s="context",a=new n.NoopContextManager;class l{constructor(){}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalContextManager(e){return(0,i.registerGlobal)(s,e,o.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...n){return this._getContextManager().with(e,t,r,...n)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,i.getGlobal)(s)||a}disable(){this._getContextManager().disable(),(0,i.unregisterGlobal)(s,o.DiagAPI.instance())}}t.ContextAPI=l},930:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;let n=r(56),i=r(912),o=r(957),s=r(172),a="diag";class l{constructor(){function e(e){return function(...t){let r=(0,s.getGlobal)("diag");if(r)return r[e](...t)}}let t=this,r=(e,r={logLevel:o.DiagLogLevel.INFO})=>{var n,a,l;if(e===t){let e=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(n=e.stack)&&void 0!==n?n:e.message),!1}"number"==typeof r&&(r={logLevel:r});let u=(0,s.getGlobal)("diag"),c=(0,i.createLogLevelDiagLogger)(null!==(a=r.logLevel)&&void 0!==a?a:o.DiagLogLevel.INFO,e);if(u&&!r.suppressOverrideMessage){let e=null!==(l=Error().stack)&&void 0!==l?l:"<failed to generate stacktrace>";u.warn(`Current logger will be overwritten from ${e}`),c.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,s.registerGlobal)("diag",c,t,!0)};t.setLogger=r,t.disable=()=>{(0,s.unregisterGlobal)(a,t)},t.createComponentLogger=e=>new n.DiagComponentLogger(e),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new l),this._instance}}t.DiagAPI=l},653:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;let n=r(660),i=r(172),o=r(930),s="metrics";class a{constructor(){}static getInstance(){return this._instance||(this._instance=new a),this._instance}setGlobalMeterProvider(e){return(0,i.registerGlobal)(s,e,o.DiagAPI.instance())}getMeterProvider(){return(0,i.getGlobal)(s)||n.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,i.unregisterGlobal)(s,o.DiagAPI.instance())}}t.MetricsAPI=a},181:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;let n=r(172),i=r(874),o=r(194),s=r(277),a=r(369),l=r(930),u="propagation",c=new i.NoopTextMapPropagator;class d{constructor(){this.createBaggage=a.createBaggage,this.getBaggage=s.getBaggage,this.getActiveBaggage=s.getActiveBaggage,this.setBaggage=s.setBaggage,this.deleteBaggage=s.deleteBaggage}static getInstance(){return this._instance||(this._instance=new d),this._instance}setGlobalPropagator(e){return(0,n.registerGlobal)(u,e,l.DiagAPI.instance())}inject(e,t,r=o.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=o.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,n.unregisterGlobal)(u,l.DiagAPI.instance())}_getGlobalPropagator(){return(0,n.getGlobal)(u)||c}}t.PropagationAPI=d},997:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;let n=r(172),i=r(846),o=r(139),s=r(607),a=r(930),l="trace";class u{constructor(){this._proxyTracerProvider=new i.ProxyTracerProvider,this.wrapSpanContext=o.wrapSpanContext,this.isSpanContextValid=o.isSpanContextValid,this.deleteSpan=s.deleteSpan,this.getSpan=s.getSpan,this.getActiveSpan=s.getActiveSpan,this.getSpanContext=s.getSpanContext,this.setSpan=s.setSpan,this.setSpanContext=s.setSpanContext}static getInstance(){return this._instance||(this._instance=new u),this._instance}setGlobalTracerProvider(e){let t=(0,n.registerGlobal)(l,this._proxyTracerProvider,a.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,n.getGlobal)(l)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,n.unregisterGlobal)(l,a.DiagAPI.instance()),this._proxyTracerProvider=new i.ProxyTracerProvider}}t.TraceAPI=u},277:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;let n=r(491),i=(0,r(780).createContextKey)("OpenTelemetry Baggage Key");function o(e){return e.getValue(i)||void 0}function s(){return o(n.ContextAPI.getInstance().active())}function a(e,t){return e.setValue(i,t)}function l(e){return e.deleteValue(i)}t.getBaggage=o,t.getActiveBaggage=s,t.setBaggage=a,t.deleteBaggage=l},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;class r{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let n=new r(this._entries);return n._entries.set(e,t),n}removeEntry(e){let t=new r(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new r(this._entries);for(let r of e)t._entries.delete(r);return t}clear(){return new r}}t.BaggageImpl=r},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;let n=r(930),i=r(993),o=r(830),s=n.DiagAPI.instance();function a(e={}){return new i.BaggageImpl(new Map(Object.entries(e)))}function l(e){return"string"!=typeof e&&(s.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:o.baggageEntryMetadataSymbol,toString:()=>e}}t.createBaggage=a,t.baggageEntryMetadataFromString=l},67:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0;let n=r(491);t.context=n.ContextAPI.getInstance()},223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;let n=r(780);class i{active(){return n.ROOT_CONTEXT}with(e,t,r,...n){return t.call(r,...n)}bind(e,t){return t}enable(){return this}disable(){return this}}t.NoopContextManager=i},780:(e,t)=>{function r(e){return Symbol.for(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=r;class n{constructor(e){let t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,r)=>{let i=new n(t._currentContext);return i._currentContext.set(e,r),i},t.deleteValue=e=>{let r=new n(t._currentContext);return r._currentContext.delete(e),r}}}t.ROOT_CONTEXT=new n},506:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0;let n=r(930);t.diag=n.DiagAPI.instance()},56:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;let n=r(172);class i{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return o("debug",this._namespace,e)}error(...e){return o("error",this._namespace,e)}info(...e){return o("info",this._namespace,e)}warn(...e){return o("warn",this._namespace,e)}verbose(...e){return o("verbose",this._namespace,e)}}function o(e,t,r){let i=(0,n.getGlobal)("diag");if(i)return r.unshift(t),i[e](...r)}t.DiagComponentLogger=i},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;let r=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class n{constructor(){function e(e){return function(...t){if(console){let r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}for(let t=0;t<r.length;t++)this[r[t].n]=e(r[t].c)}}t.DiagConsoleLogger=n},912:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;let n=r(957);function i(e,t){function r(r,n){let i=t[r];return"function"==typeof i&&e>=n?i.bind(t):function(){}}return e<n.DiagLogLevel.NONE?e=n.DiagLogLevel.NONE:e>n.DiagLogLevel.ALL&&(e=n.DiagLogLevel.ALL),t=t||{},{error:r("error",n.DiagLogLevel.ERROR),warn:r("warn",n.DiagLogLevel.WARN),info:r("info",n.DiagLogLevel.INFO),debug:r("debug",n.DiagLogLevel.DEBUG),verbose:r("verbose",n.DiagLogLevel.VERBOSE)}}t.createLogLevelDiagLogger=i},957:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(r=t.DiagLogLevel||(t.DiagLogLevel={}))},172:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;let n=r(200),i=r(521),o=r(130),s=i.VERSION.split(".")[0],a=Symbol.for(`opentelemetry.js.api.${s}`),l=n._globalThis;function u(e,t,r,n=!1){var o;let s=l[a]=null!==(o=l[a])&&void 0!==o?o:{version:i.VERSION};if(!n&&s[e]){let t=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(t.stack||t.message),!1}if(s.version!==i.VERSION){let t=Error(`@opentelemetry/api: Registration of version v${s.version} for ${e} does not match previously registered API v${i.VERSION}`);return r.error(t.stack||t.message),!1}return s[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${i.VERSION}.`),!0}function c(e){var t,r;let n=null===(t=l[a])||void 0===t?void 0:t.version;if(n&&(0,o.isCompatible)(n))return null===(r=l[a])||void 0===r?void 0:r[e]}function d(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${i.VERSION}.`);let r=l[a];r&&delete r[e]}t.registerGlobal=u,t.getGlobal=c,t.unregisterGlobal=d},130:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;let n=r(521),i=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function o(e){let t=new Set([e]),r=new Set,n=e.match(i);if(!n)return()=>!1;let o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=o.prerelease)return function(t){return t===e};function s(e){return r.add(e),!1}function a(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;let n=e.match(i);if(!n)return s(e);let l={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};return null!=l.prerelease||o.major!==l.major?s(e):0===o.major?o.minor===l.minor&&o.patch<=l.patch?a(e):s(e):o.minor<=l.minor?a(e):s(e)}}t._makeCompatibilityCheck=o,t.isCompatible=o(n.VERSION)},886:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0;let n=r(653);t.metrics=n.MetricsAPI.getInstance()},901:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(r=t.ValueType||(t.ValueType={}))},102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class r{constructor(){}createHistogram(e,r){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=r;class n{}t.NoopMetric=n;class i extends n{add(e,t){}}t.NoopCounterMetric=i;class o extends n{add(e,t){}}t.NoopUpDownCounterMetric=o;class s extends n{record(e,t){}}t.NoopHistogramMetric=s;class a{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=a;class l extends a{}t.NoopObservableCounterMetric=l;class u extends a{}t.NoopObservableGaugeMetric=u;class c extends a{}function d(){return t.NOOP_METER}t.NoopObservableUpDownCounterMetric=c,t.NOOP_METER=new r,t.NOOP_COUNTER_METRIC=new i,t.NOOP_HISTOGRAM_METRIC=new s,t.NOOP_UP_DOWN_COUNTER_METRIC=new o,t.NOOP_OBSERVABLE_COUNTER_METRIC=new l,t.NOOP_OBSERVABLE_GAUGE_METRIC=new u,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new c,t.createNoopMeter=d},660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;let n=r(102);class i{getMeter(e,t,r){return n.NOOP_METER}}t.NoopMeterProvider=i,t.NOOP_METER_PROVIDER=new i},200:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(46),t)},651:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._globalThis=void 0,t._globalThis="object"==typeof globalThis?globalThis:global},46:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(651),t)},939:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0;let n=r(181);t.propagation=n.PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0;class r{inject(e,t){}extract(e,t){return e}fields(){return[]}}t.NoopTextMapPropagator=r},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,r){null!=e&&(e[t]=r)}}},845:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0;let n=r(997);t.trace=n.TraceAPI.getInstance()},403:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;let n=r(476);class i{constructor(e=n.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}t.NonRecordingSpan=i},614:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;let n=r(491),i=r(607),o=r(403),s=r(139),a=n.ContextAPI.getInstance();class l{startSpan(e,t,r=a.active()){if(null==t?void 0:t.root)return new o.NonRecordingSpan;let n=r&&(0,i.getSpanContext)(r);return u(n)&&(0,s.isSpanContextValid)(n)?new o.NonRecordingSpan(n):new o.NonRecordingSpan}startActiveSpan(e,t,r,n){let o,s,l;if(arguments.length<2)return;2==arguments.length?l=t:3==arguments.length?(o=t,l=r):(o=t,s=r,l=n);let u=null!=s?s:a.active(),c=this.startSpan(e,o,u),d=(0,i.setSpan)(u,c);return a.with(d,l,void 0,c)}}function u(e){return"object"==typeof e&&"string"==typeof e.spanId&&"string"==typeof e.traceId&&"number"==typeof e.traceFlags}t.NoopTracer=l},124:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;let n=r(614);class i{getTracer(e,t,r){return new n.NoopTracer}}t.NoopTracerProvider=i},125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;let n=new(r(614)).NoopTracer;class i{constructor(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,n){let i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n}}t.ProxyTracer=i},846:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;let n=r(125),i=new(r(124)).NoopTracerProvider;class o{getTracer(e,t,r){var i;return null!==(i=this.getDelegateTracer(e,t,r))&&void 0!==i?i:new n.ProxyTracer(this,e,t,r)}getDelegate(){var e;return null!==(e=this._delegate)&&void 0!==e?e:i}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t,r)}}t.ProxyTracerProvider=o},996:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(r=t.SamplingDecision||(t.SamplingDecision={}))},607:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;let n=r(780),i=r(403),o=r(491),s=(0,n.createContextKey)("OpenTelemetry Context Key SPAN");function a(e){return e.getValue(s)||void 0}function l(){return a(o.ContextAPI.getInstance().active())}function u(e,t){return e.setValue(s,t)}function c(e){return e.deleteValue(s)}function d(e,t){return u(e,new i.NonRecordingSpan(t))}function h(e){var t;return null===(t=a(e))||void 0===t?void 0:t.spanContext()}t.getSpan=a,t.getActiveSpan=l,t.setSpan=u,t.deleteSpan=c,t.setSpanContext=d,t.getSpanContext=h},325:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;let n=r(564),i=32,o=512,s=",",a="=";class l{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+a+this.get(t)),e),[]).join(s)}_parse(e){!(e.length>o)&&(this._internalState=e.split(s).reverse().reduce((e,t)=>{let r=t.trim(),i=r.indexOf(a);if(-1!==i){let o=r.slice(0,i),s=r.slice(i+1,t.length);(0,n.validateKey)(o)&&(0,n.validateValue)(s)&&e.set(o,s)}return e},new Map),this._internalState.size>i&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,i))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new l;return e._internalState=new Map(this._internalState),e}}t.TraceStateImpl=l},564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;let r="[_0-9a-z-*/]",n=`[a-z]${r}{0,255}`,i=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`,o=RegExp(`^(?:${n}|${i})$`),s=/^[ -~]{0,255}[!-~]$/,a=/,|=/;function l(e){return o.test(e)}function u(e){return s.test(e)&&!a.test(e)}t.validateKey=l,t.validateValue=u},98:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;let n=r(325);function i(e){return new n.TraceStateImpl(e)}t.createTraceState=i},476:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;let n=r(475);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:n.TraceFlags.NONE}},357:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(r=t.SpanKind||(t.SpanKind={}))},139:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;let n=r(476),i=r(403),o=/^([0-9a-f]{32})$/i,s=/^[0-9a-f]{16}$/i;function a(e){return o.test(e)&&e!==n.INVALID_TRACEID}function l(e){return s.test(e)&&e!==n.INVALID_SPANID}function u(e){return a(e.traceId)&&l(e.spanId)}function c(e){return new i.NonRecordingSpan(e)}t.isValidTraceId=a,t.isValidSpanId=l,t.isSpanContextValid=u,t.wrapSpanContext=c},847:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(r=t.SpanStatusCode||(t.SpanStatusCode={}))},475:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(r=t.TraceFlags||(t.TraceFlags={}))},521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.6.0"}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={exports:{}},s=!0;try{t[e].call(o.exports,o,o.exports,n),s=!1}finally{s&&delete r[e]}return o.exports}n.ab=__dirname+"/";var i={};(()=>{var e=i;Object.defineProperty(e,"__esModule",{value:!0}),e.trace=e.propagation=e.metrics=e.diag=e.context=e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=e.isValidSpanId=e.isValidTraceId=e.isSpanContextValid=e.createTraceState=e.TraceFlags=e.SpanStatusCode=e.SpanKind=e.SamplingDecision=e.ProxyTracerProvider=e.ProxyTracer=e.defaultTextMapSetter=e.defaultTextMapGetter=e.ValueType=e.createNoopMeter=e.DiagLogLevel=e.DiagConsoleLogger=e.ROOT_CONTEXT=e.createContextKey=e.baggageEntryMetadataFromString=void 0;var t=n(369);Object.defineProperty(e,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return t.baggageEntryMetadataFromString}});var r=n(780);Object.defineProperty(e,"createContextKey",{enumerable:!0,get:function(){return r.createContextKey}}),Object.defineProperty(e,"ROOT_CONTEXT",{enumerable:!0,get:function(){return r.ROOT_CONTEXT}});var o=n(972);Object.defineProperty(e,"DiagConsoleLogger",{enumerable:!0,get:function(){return o.DiagConsoleLogger}});var s=n(957);Object.defineProperty(e,"DiagLogLevel",{enumerable:!0,get:function(){return s.DiagLogLevel}});var a=n(102);Object.defineProperty(e,"createNoopMeter",{enumerable:!0,get:function(){return a.createNoopMeter}});var l=n(901);Object.defineProperty(e,"ValueType",{enumerable:!0,get:function(){return l.ValueType}});var u=n(194);Object.defineProperty(e,"defaultTextMapGetter",{enumerable:!0,get:function(){return u.defaultTextMapGetter}}),Object.defineProperty(e,"defaultTextMapSetter",{enumerable:!0,get:function(){return u.defaultTextMapSetter}});var c=n(125);Object.defineProperty(e,"ProxyTracer",{enumerable:!0,get:function(){return c.ProxyTracer}});var d=n(846);Object.defineProperty(e,"ProxyTracerProvider",{enumerable:!0,get:function(){return d.ProxyTracerProvider}});var h=n(996);Object.defineProperty(e,"SamplingDecision",{enumerable:!0,get:function(){return h.SamplingDecision}});var p=n(357);Object.defineProperty(e,"SpanKind",{enumerable:!0,get:function(){return p.SpanKind}});var f=n(847);Object.defineProperty(e,"SpanStatusCode",{enumerable:!0,get:function(){return f.SpanStatusCode}});var m=n(475);Object.defineProperty(e,"TraceFlags",{enumerable:!0,get:function(){return m.TraceFlags}});var g=n(98);Object.defineProperty(e,"createTraceState",{enumerable:!0,get:function(){return g.createTraceState}});var y=n(139);Object.defineProperty(e,"isSpanContextValid",{enumerable:!0,get:function(){return y.isSpanContextValid}}),Object.defineProperty(e,"isValidTraceId",{enumerable:!0,get:function(){return y.isValidTraceId}}),Object.defineProperty(e,"isValidSpanId",{enumerable:!0,get:function(){return y.isValidSpanId}});var v=n(476);Object.defineProperty(e,"INVALID_SPANID",{enumerable:!0,get:function(){return v.INVALID_SPANID}}),Object.defineProperty(e,"INVALID_TRACEID",{enumerable:!0,get:function(){return v.INVALID_TRACEID}}),Object.defineProperty(e,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return v.INVALID_SPAN_CONTEXT}});let b=n(67);Object.defineProperty(e,"context",{enumerable:!0,get:function(){return b.context}});let E=n(506);Object.defineProperty(e,"diag",{enumerable:!0,get:function(){return E.diag}});let S=n(886);Object.defineProperty(e,"metrics",{enumerable:!0,get:function(){return S.metrics}});let _=n(939);Object.defineProperty(e,"propagation",{enumerable:!0,get:function(){return _.propagation}});let T=n(845);Object.defineProperty(e,"trace",{enumerable:!0,get:function(){return T.trace}}),e.default={context:b.context,diag:E.diag,metrics:S.metrics,propagation:_.propagation,trace:T.trace}})(),e.exports=i})()},10189:(e,t,r)=>{"use strict";var n=r(49634),i={stream:!0};function o(e,t){if(e){var r=e[t[0]];if(e=r[t[2]])r=e.name;else{if(!(e=r["*"]))throw Error('Could not find the module "'+t[0]+'" in the React SSR Manifest. This is probably a bug in the React Server Components bundler.');r=t[2]}return 4===t.length?[e.id,e.chunks,r,1]:[e.id,e.chunks,r]}return t}var s=new Map;function a(e){var t=globalThis.__next_require__(e);return"function"!=typeof t.then||"fulfilled"===t.status?null:(t.then(function(e){t.status="fulfilled",t.value=e},function(e){t.status="rejected",t.reason=e}),t)}function l(){}function u(e){for(var t=e[1],n=[],i=0;i<t.length;){var o=t[i++];t[i++];var u=s.get(o);if(void 0===u){u=r.e(o),n.push(u);var c=s.set.bind(s,o,null);u.then(c,l),s.set(o,u)}else null!==u&&n.push(u)}return 4===e.length?0===n.length?a(e[0]):Promise.all(n).then(function(){return a(e[0])}):0<n.length?Promise.all(n):null}function c(e,t,r){if(null!==e)for(var n=1;n<t.length;n+=2){var i=r,o=d.current;if(o){var s=o.preinitScript,a=e.prefix+t[n],l=e.crossOrigin;l="string"==typeof l?"use-credentials"===l?l:"":void 0,s.call(o,a,{crossOrigin:l,nonce:i})}}}var d=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Dispatcher,h=Symbol.for("react.element"),p=Symbol.for("react.lazy"),f=Symbol.iterator;function m(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}var g=Array.isArray,y=Object.getPrototypeOf,v=Object.prototype,b=new WeakMap;function E(e){return Number.isFinite(e)?0===e&&-1/0==1/e?"$-0":e:1/0===e?"$Infinity":-1/0===e?"$-Infinity":"$NaN"}function S(e,t,r,n){function i(e,l){if(null===l)return null;if("object"==typeof l){if("function"==typeof l.then){null===a&&(a=new FormData),s++;var u=o++;return l.then(function(e){e=JSON.stringify(e,i);var n=a;n.append(t+u,e),0==--s&&r(n)},function(e){n(e)}),"$@"+u.toString(16)}if(g(l))return l;if(l instanceof FormData){null===a&&(a=new FormData);var c=a,d=t+(e=o++)+"_";return l.forEach(function(e,t){c.append(d+t,e)}),"$K"+e.toString(16)}if(l instanceof Map)return l=JSON.stringify(Array.from(l),i),null===a&&(a=new FormData),e=o++,a.append(t+e,l),"$Q"+e.toString(16);if(l instanceof Set)return l=JSON.stringify(Array.from(l),i),null===a&&(a=new FormData),e=o++,a.append(t+e,l),"$W"+e.toString(16);if(m(l))return Array.from(l);if((e=y(l))!==v&&(null===e||null!==y(e)))throw Error("Only plain objects, and a few built-ins, can be passed to Server Actions. Classes or null prototypes are not supported.");return l}if("string"==typeof l)return"Z"===l[l.length-1]&&this[e]instanceof Date?"$D"+l:l="$"===l[0]?"$"+l:l;if("boolean"==typeof l)return l;if("number"==typeof l)return E(l);if(void 0===l)return"$undefined";if("function"==typeof l){if(void 0!==(l=b.get(l)))return l=JSON.stringify(l,i),null===a&&(a=new FormData),e=o++,a.set(t+e,l),"$F"+e.toString(16);throw Error("Client Functions cannot be passed directly to Server Functions. Only Functions passed from the Server can be passed back again.")}if("symbol"==typeof l){if(Symbol.for(e=l.description)!==l)throw Error("Only global symbols received from Symbol.for(...) can be passed to Server Functions. The symbol Symbol.for("+l.description+") cannot be found among global symbols.");return"$S"+e}if("bigint"==typeof l)return"$n"+l.toString(10);throw Error("Type "+typeof l+" is not supported as an argument to a Server Function.")}var o=1,s=0,a=null;e=JSON.stringify(e,i),null===a?r(e):(a.set(t+"0",e),0===s&&r(a))}var _=new WeakMap;function T(e){var t,r,n=new Promise(function(e,n){t=e,r=n});return S(e,"",function(e){if("string"==typeof e){var r=new FormData;r.append("0",e),e=r}n.status="fulfilled",n.value=e,t(e)},function(e){n.status="rejected",n.reason=e,r(e)}),n}function A(e){var t=b.get(this);if(!t)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");var r=null;if(null!==t.bound){if((r=_.get(t))||(r=T(t),_.set(t,r)),"rejected"===r.status)throw r.reason;if("fulfilled"!==r.status)throw r;t=r.value;var n=new FormData;t.forEach(function(t,r){n.append("$ACTION_"+e+":"+r,t)}),r=n,t="$ACTION_REF_"+e}else t="$ACTION_ID_"+t.id;return{name:t,method:"POST",encType:"multipart/form-data",data:r}}function C(e,t){var r=b.get(this);if(!r)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");if(r.id!==e)return!1;var n=r.bound;if(null===n)return 0===t;switch(n.status){case"fulfilled":return n.value.length===t;case"pending":throw n;case"rejected":throw n.reason;default:throw"string"!=typeof n.status&&(n.status="pending",n.then(function(e){n.status="fulfilled",n.value=e},function(e){n.status="rejected",n.reason=e})),n}}function w(e,t,r){Object.defineProperties(e,{$$FORM_ACTION:{value:void 0===r?A:function(){var e=b.get(this);if(!e)throw Error("Tried to encode a Server Action from a different instance than the encoder is from. This is a bug in React.");var t=e.bound;return null===t&&(t=Promise.resolve([])),r(e.id,t)}},$$IS_SIGNATURE_EQUAL:{value:C},bind:{value:x}}),b.set(e,t)}var O=Function.prototype.bind,R=Array.prototype.slice;function x(){var e=O.apply(this,arguments),t=b.get(this);if(t){var r=R.call(arguments,1),n=null;n=null!==t.bound?Promise.resolve(t.bound).then(function(e){return e.concat(r)}):Promise.resolve(r),Object.defineProperties(e,{$$FORM_ACTION:{value:this.$$FORM_ACTION},$$IS_SIGNATURE_EQUAL:{value:C},bind:{value:x}}),b.set(e,{id:t.id,bound:n})}return e}function I(e,t,r){function n(){var r=Array.prototype.slice.call(arguments);return t(e,r)}return w(n,{id:e,bound:null},r),n}function D(e,t,r,n){this.status=e,this.value=t,this.reason=r,this._response=n}function P(e){switch(e.status){case"resolved_model":F(e);break;case"resolved_module":U(e)}switch(e.status){case"fulfilled":return e.value;case"pending":case"blocked":case"cyclic":throw e;default:throw e.reason}}function N(e,t){for(var r=0;r<e.length;r++)(0,e[r])(t)}function k(e,t,r){switch(e.status){case"fulfilled":N(t,e.value);break;case"pending":case"blocked":case"cyclic":e.value=t,e.reason=r;break;case"rejected":r&&N(r,e.reason)}}function M(e,t){if("pending"===e.status||"blocked"===e.status){var r=e.reason;e.status="rejected",e.reason=t,null!==r&&N(r,t)}}function L(e,t){if("pending"===e.status||"blocked"===e.status){var r=e.value,n=e.reason;e.status="resolved_module",e.value=t,null!==r&&(U(e),k(e,r,n))}}D.prototype=Object.create(Promise.prototype),D.prototype.then=function(e,t){switch(this.status){case"resolved_model":F(this);break;case"resolved_module":U(this)}switch(this.status){case"fulfilled":e(this.value);break;case"pending":case"blocked":case"cyclic":e&&(null===this.value&&(this.value=[]),this.value.push(e)),t&&(null===this.reason&&(this.reason=[]),this.reason.push(t));break;default:t(this.reason)}};var B=null,j=null;function F(e){var t=B,r=j;B=e,j=null;var n=e.value;e.status="cyclic",e.value=null,e.reason=null;try{var i=JSON.parse(n,e._response._fromJSON);if(null!==j&&0<j.deps)j.value=i,e.status="blocked",e.value=null,e.reason=null;else{var o=e.value;e.status="fulfilled",e.value=i,null!==o&&N(o,i)}}catch(t){e.status="rejected",e.reason=t}finally{B=t,j=r}}function U(e){try{var t=e.value,r=globalThis.__next_require__(t[0]);if(4===t.length&&"function"==typeof r.then){if("fulfilled"===r.status)r=r.value;else throw r.reason}var n="*"===t[2]?r:""===t[2]?r.__esModule?r.default:r:r[t[2]];e.status="fulfilled",e.value=n}catch(t){e.status="rejected",e.reason=t}}function V(e,t){e._chunks.forEach(function(e){"pending"===e.status&&M(e,t)})}function z(e,t){var r=e._chunks,n=r.get(t);return n||(n=new D("pending",null,null,e),r.set(t,n)),n}function G(e,t,r,n){if(j){var i=j;n||i.deps++}else i=j={deps:n?0:1,value:null};return function(n){t[r]=n,i.deps--,0===i.deps&&"blocked"===e.status&&(n=e.value,e.status="fulfilled",e.value=i.value,null!==n&&N(n,i.value))}}function $(e){return function(t){return M(e,t)}}function H(e,t){function r(){var e=Array.prototype.slice.call(arguments),r=t.bound;return r?"fulfilled"===r.status?n(t.id,r.value.concat(e)):Promise.resolve(r).then(function(r){return n(t.id,r.concat(e))}):n(t.id,e)}var n=e._callServer;return w(r,t,e._encodeFormAction),r}function q(e,t){if("resolved_model"===(e=z(e,t)).status&&F(e),"fulfilled"===e.status)return e.value;throw e.reason}function W(e,t,r,n){if("$"===n[0]){if("$"===n)return h;switch(n[1]){case"$":return n.slice(1);case"L":return{$$typeof:p,_payload:e=z(e,t=parseInt(n.slice(2),16)),_init:P};case"@":if(2===n.length)return new Promise(function(){});return z(e,t=parseInt(n.slice(2),16));case"S":return Symbol.for(n.slice(2));case"F":return t=q(e,t=parseInt(n.slice(2),16)),H(e,t);case"Q":return new Map(e=q(e,t=parseInt(n.slice(2),16)));case"W":return new Set(e=q(e,t=parseInt(n.slice(2),16)));case"I":return 1/0;case"-":return"$-0"===n?-0:-1/0;case"N":return NaN;case"u":return;case"D":return new Date(Date.parse(n.slice(2)));case"n":return BigInt(n.slice(2));default:switch((e=z(e,n=parseInt(n.slice(1),16))).status){case"resolved_model":F(e);break;case"resolved_module":U(e)}switch(e.status){case"fulfilled":return e.value;case"pending":case"blocked":case"cyclic":return n=B,e.then(G(n,t,r,"cyclic"===e.status),$(n)),null;default:throw e.reason}}}return n}function K(){throw Error('Trying to call a function from "use server" but the callServer option was not implemented in your router runtime.')}function Y(e,t,r){var n=e._chunks,i=n.get(t);r=JSON.parse(r,e._fromJSON);var s=o(e._bundlerConfig,r);if(c(e._moduleLoading,r[1],e._nonce),r=u(s)){if(i){var a=i;a.status="blocked"}else a=new D("blocked",null,null,e),n.set(t,a);r.then(function(){return L(a,s)},function(e){return M(a,e)})}else i?L(i,s):n.set(t,new D("resolved_module",s,null,e))}function Z(e){return function(t,r){return"string"==typeof r?W(e,this,t,r):"object"==typeof r&&null!==r?t=r[0]===h?{$$typeof:h,type:r[1],key:r[2],ref:null,props:r[3],_owner:null}:r:r}}function J(){throw Error("Server Functions cannot be called during initial render. This would create a fetch waterfall. Try to use a Server Component to pass data to Client Components instead.")}function Q(e){var t=e.ssrManifest.moduleMap;return(t={_bundlerConfig:t,_moduleLoading:e.ssrManifest.moduleLoading,_callServer:void 0!==J?J:K,_encodeFormAction:e.encodeFormAction,_nonce:e="string"==typeof e.nonce?e.nonce:void 0,_chunks:new Map,_stringDecoder:new TextDecoder,_fromJSON:null,_rowState:0,_rowID:0,_rowTag:0,_rowLength:0,_buffer:[]})._fromJSON=Z(t),t}function X(e,t){function r(t){var s=t.value;if(t.done)V(e,Error("Connection closed."));else{var a=0,l=e._rowState,u=e._rowID,c=e._rowTag,h=e._rowLength;t=e._buffer;for(var p=s.length;a<p;){var f=-1;switch(l){case 0:58===(f=s[a++])?l=1:u=u<<4|(96<f?f-87:f-48);continue;case 1:84===(l=s[a])?(c=l,l=2,a++):64<l&&91>l?(c=l,l=3,a++):(c=0,l=3);continue;case 2:44===(f=s[a++])?l=4:h=h<<4|(96<f?f-87:f-48);continue;case 3:f=s.indexOf(10,a);break;case 4:(f=a+h)>s.length&&(f=-1)}var m=s.byteOffset+a;if(-1<f){a=new Uint8Array(s.buffer,m,f-a),h=e,m=c;var g=h._stringDecoder;c="";for(var y=0;y<t.length;y++)c+=g.decode(t[y],i);switch(c+=g.decode(a),m){case 73:Y(h,u,c);break;case 72:if(u=c[0],h=JSON.parse(c=c.slice(1),h._fromJSON),c=d.current)switch(u){case"D":c.prefetchDNS(h);break;case"C":"string"==typeof h?c.preconnect(h):c.preconnect(h[0],h[1]);break;case"L":u=h[0],a=h[1],3===h.length?c.preload(u,a,h[2]):c.preload(u,a);break;case"m":"string"==typeof h?c.preloadModule(h):c.preloadModule(h[0],h[1]);break;case"S":"string"==typeof h?c.preinitStyle(h):c.preinitStyle(h[0],0===h[1]?void 0:h[1],3===h.length?h[2]:void 0);break;case"X":"string"==typeof h?c.preinitScript(h):c.preinitScript(h[0],h[1]);break;case"M":"string"==typeof h?c.preinitModuleScript(h):c.preinitModuleScript(h[0],h[1])}break;case 69:a=(c=JSON.parse(c)).digest,(c=Error("An error occurred in the Server Components render. The specific message is omitted in production builds to avoid leaking sensitive details. A digest property is included on this error instance which may provide additional details about the nature of the error.")).stack="Error: "+c.message,c.digest=a,(m=(a=h._chunks).get(u))?M(m,c):a.set(u,new D("rejected",null,c,h));break;case 84:h._chunks.set(u,new D("fulfilled",c,null,h));break;case 68:case 87:throw Error("Failed to read a RSC payload created by a development version of React on the server while using a production version on the client. Always use matching versions on the server and the client.");default:(m=(a=h._chunks).get(u))?(h=m,u=c,"pending"===h.status&&(c=h.value,a=h.reason,h.status="resolved_model",h.value=u,null!==c&&(F(h),k(h,c,a)))):a.set(u,new D("resolved_model",c,null,h))}a=f,3===l&&a++,h=u=c=l=0,t.length=0}else{s=new Uint8Array(s.buffer,m,s.byteLength-a),t.push(s),h-=s.byteLength;break}}return e._rowState=l,e._rowID=u,e._rowTag=c,e._rowLength=h,o.read().then(r).catch(n)}}function n(t){V(e,t)}var o=t.getReader();o.read().then(r).catch(n)}t.createFromFetch=function(e,t){var r=Q(t);return e.then(function(e){X(r,e.body)},function(e){V(r,e)}),z(r,0)},t.createFromReadableStream=function(e,t){return X(t=Q(t),e),z(t,0)},t.createServerReference=function(e){return I(e,J)},t.encodeReply=function(e){return new Promise(function(t,r){S(e,"",t,r)})}},85668:(e,t,r)=>{"use strict";e.exports=r(10189)},83204:()=>{},808:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DetachedPromise",{enumerable:!0,get:function(){return r}});class r{constructor(){let e,t;this.promise=new Promise((r,n)=>{e=r,t=n}),this.resolve=e,this.reject=t}}},89061:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{atLeastOneTask:function(){return i},scheduleImmediate:function(){return n},scheduleOnNextTick:function(){return r}});let r=e=>{Promise.resolve().then(()=>{process.nextTick(e)})},n=e=>{setImmediate(e)};function i(){return new Promise(e=>n(e))}},49597:(e,t)=>{"use strict";let r,n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{arrayBufferToString:function(){return o},decrypt:function(){return l},encrypt:function(){return a},generateEncryptionKeyBase64:function(){return u},getActionEncryptionKey:function(){return f},getClientReferenceManifestSingleton:function(){return p},getServerModuleMap:function(){return h},setReferenceManifestsSingleton:function(){return d},stringToUint8Array:function(){return s}});let i=null;function o(e){let t=new Uint8Array(e),r=t.byteLength;if(r<65535)return String.fromCharCode.apply(null,t);let n="";for(let e=0;e<r;e++)n+=String.fromCharCode(t[e]);return n}function s(e){let t=e.length,r=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e.charCodeAt(n);return r}function a(e,t,r){return crypto.subtle.encrypt({name:"AES-GCM",iv:t},e,r)}function l(e,t,r){return crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,r)}async function u(e){if(e&&void 0!==n)return n;i||(i=new Promise(async(e,t)=>{try{let t=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]),r=await crypto.subtle.exportKey("raw",t),n=btoa(o(r));e([t,n])}catch(e){t(e)}}));let[t,s]=await i;return r=t,e&&(n=s),s}let c=Symbol.for("next.server.action-manifests");function d({clientReferenceManifest:e,serverActionsManifest:t,serverModuleMap:r}){globalThis[c]={clientReferenceManifest:e,serverActionsManifest:t,serverModuleMap:r}}function h(){let e=globalThis[c];if(!e)throw Error("Missing manifest for Server Actions. This is a bug in Next.js");return e.serverModuleMap}function p(){let e=globalThis[c];if(!e)throw Error("Missing manifest for Server Actions. This is a bug in Next.js");return e.clientReferenceManifest}async function f(){if(r)return r;let e=globalThis[c];if(!e)throw Error("Missing manifest for Server Actions. This is a bug in Next.js");let t=process.env.NEXT_SERVER_ACTIONS_ENCRYPTION_KEY||e.serverActionsManifest.encryptionKey;if(void 0===t)throw Error("Missing encryption key for Server Actions");return r=await crypto.subtle.importKey("raw",s(atob(t)),"AES-GCM",!0,["encrypt","decrypt"])}},26461:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{decryptActionBoundArgs:function(){return h},encryptActionBoundArgs:function(){return d}}),r(83204);let n=r(96012),i=r(85668),o=r(43598),s=r(49597),a=new TextEncoder,l=new TextDecoder;async function u(e,t){let r=await (0,s.getActionEncryptionKey)();if(void 0===r)throw Error("Missing encryption key for Server Action. This is a bug in Next.js");let n=atob(t),i=n.slice(0,16),o=n.slice(16),a=l.decode(await (0,s.decrypt)(r,(0,s.stringToUint8Array)(i),(0,s.stringToUint8Array)(o)));if(!a.startsWith(e))throw Error("Invalid Server Action payload: failed to decrypt.");return a.slice(e.length)}async function c(e,t){let r=await (0,s.getActionEncryptionKey)();if(void 0===r)throw Error("Missing encryption key for Server Action. This is a bug in Next.js");let n=new Uint8Array(16);crypto.getRandomValues(n);let i=(0,s.arrayBufferToString)(n.buffer),o=await (0,s.encrypt)(r,n,a.encode(e+t));return btoa(i+(0,s.arrayBufferToString)(o))}async function d(e,t){let r=(0,s.getClientReferenceManifestSingleton)(),i=await (0,o.streamToString)((0,n.renderToReadableStream)(t,r.clientModules));return await c(e,i)}async function h(e,t){let r=await u(e,await t),o=await (0,i.createFromReadableStream)(new ReadableStream({start(e){e.enqueue(a.encode(r)),e.close()}}),{ssrManifest:{moduleLoading:{},moduleMap:{}}}),l=(0,s.getServerModuleMap)();return await (0,n.decodeReply)(await (0,i.encodeReply)(o),l)}},95231:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{AppRouter:function(){return i.default},ClientPageRoot:function(){return c.ClientPageRoot},LayoutRouter:function(){return o.default},NotFoundBoundary:function(){return p.NotFoundBoundary},Postpone:function(){return g.Postpone},RenderFromTemplateContext:function(){return s.default},actionAsyncStorage:function(){return u.actionAsyncStorage},createDynamicallyTrackedSearchParams:function(){return d.createDynamicallyTrackedSearchParams},createUntrackedSearchParams:function(){return d.createUntrackedSearchParams},decodeAction:function(){return n.decodeAction},decodeFormState:function(){return n.decodeFormState},decodeReply:function(){return n.decodeReply},patchFetch:function(){return S},preconnect:function(){return m.preconnect},preloadFont:function(){return m.preloadFont},preloadStyle:function(){return m.preloadStyle},renderToReadableStream:function(){return n.renderToReadableStream},requestAsyncStorage:function(){return l.requestAsyncStorage},serverHooks:function(){return h},staticGenerationAsyncStorage:function(){return a.staticGenerationAsyncStorage},taintObjectReference:function(){return y.taintObjectReference}});let n=r(51749),i=v(r(59943)),o=v(r(95106)),s=v(r(84892)),a=r(45869),l=r(54580),u=r(72934),c=r(53144),d=r(79181),h=E(r(44789)),p=r(60525),f=r(60670);r(37922);let m=r(20135),g=r(49257),y=r(526);function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function S(){return(0,f.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:a.staticGenerationAsyncStorage})}},49257:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Postpone",{enumerable:!0,get:function(){return n.Postpone}});let n=r(6278)},20135:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{preconnect:function(){return a},preloadFont:function(){return s},preloadStyle:function(){return o}});let n=i(r(97049));function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){let r={as:"style"};"string"==typeof t&&(r.crossOrigin=t),n.default.preload(e,r)}function s(e,t,r){let i={as:"font",type:t};"string"==typeof r&&(i.crossOrigin=r),n.default.preload(e,i)}function a(e,t){n.default.preconnect(e,"string"==typeof t?{crossOrigin:t}:void 0)}},526:(e,t,r)=>{"use strict";function n(){throw Error("Taint can only be used with the taint flag.")}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{taintObjectReference:function(){return i},taintUniqueValue:function(){return o}}),r(71159);let i=n,o=n},49634:(e,t,r)=>{"use strict";e.exports=r(23191).vendored["react-rsc"].ReactDOM},97049:(e,t,r)=>{"use strict";e.exports=r(23191).vendored["react-rsc"].ReactDOM},19510:(e,t,r)=>{"use strict";e.exports=r(23191).vendored["react-rsc"].ReactJsxRuntime},96012:(e,t,r)=>{"use strict";e.exports=r(23191).vendored["react-rsc"].ReactServerDOMWebpackServerEdge},51749:(e,t,r)=>{"use strict";e.exports=r(23191).vendored["react-rsc"].ReactServerDOMWebpackServerEdge},98467:(e,t)=>{"use strict";var r,n,i,o,s,a,l,u,c,d,h,p;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{AppRenderSpan:function(){return l},AppRouteRouteHandlersSpan:function(){return d},BaseServerSpan:function(){return r},LoadComponentsSpan:function(){return n},LogSpanAllowList:function(){return m},MiddlewareSpan:function(){return p},NextNodeServerSpan:function(){return o},NextServerSpan:function(){return i},NextVanillaSpanAllowlist:function(){return f},NodeSpan:function(){return c},RenderSpan:function(){return a},ResolveMetadataSpan:function(){return h},RouterSpan:function(){return u},StartServerSpan:function(){return s}}),function(e){e.handleRequest="BaseServer.handleRequest",e.run="BaseServer.run",e.pipe="BaseServer.pipe",e.getStaticHTML="BaseServer.getStaticHTML",e.render="BaseServer.render",e.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",e.renderToResponse="BaseServer.renderToResponse",e.renderToHTML="BaseServer.renderToHTML",e.renderError="BaseServer.renderError",e.renderErrorToResponse="BaseServer.renderErrorToResponse",e.renderErrorToHTML="BaseServer.renderErrorToHTML",e.render404="BaseServer.render404"}(r||(r={})),function(e){e.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",e.loadComponents="LoadComponents.loadComponents"}(n||(n={})),function(e){e.getRequestHandler="NextServer.getRequestHandler",e.getServer="NextServer.getServer",e.getServerRequestHandler="NextServer.getServerRequestHandler",e.createServer="createServer.createServer"}(i||(i={})),function(e){e.compression="NextNodeServer.compression",e.getBuildId="NextNodeServer.getBuildId",e.createComponentTree="NextNodeServer.createComponentTree",e.clientComponentLoading="NextNodeServer.clientComponentLoading",e.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",e.generateStaticRoutes="NextNodeServer.generateStaticRoutes",e.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",e.generatePublicRoutes="NextNodeServer.generatePublicRoutes",e.generateImageRoutes="NextNodeServer.generateImageRoutes.route",e.sendRenderResult="NextNodeServer.sendRenderResult",e.proxyRequest="NextNodeServer.proxyRequest",e.runApi="NextNodeServer.runApi",e.render="NextNodeServer.render",e.renderHTML="NextNodeServer.renderHTML",e.imageOptimizer="NextNodeServer.imageOptimizer",e.getPagePath="NextNodeServer.getPagePath",e.getRoutesManifest="NextNodeServer.getRoutesManifest",e.findPageComponents="NextNodeServer.findPageComponents",e.getFontManifest="NextNodeServer.getFontManifest",e.getServerComponentManifest="NextNodeServer.getServerComponentManifest",e.getRequestHandler="NextNodeServer.getRequestHandler",e.renderToHTML="NextNodeServer.renderToHTML",e.renderError="NextNodeServer.renderError",e.renderErrorToHTML="NextNodeServer.renderErrorToHTML",e.render404="NextNodeServer.render404",e.startResponse="NextNodeServer.startResponse",e.route="route",e.onProxyReq="onProxyReq",e.apiResolver="apiResolver",e.internalFetch="internalFetch"}(o||(o={})),function(e){e.startServer="startServer.startServer"}(s||(s={})),function(e){e.getServerSideProps="Render.getServerSideProps",e.getStaticProps="Render.getStaticProps",e.renderToString="Render.renderToString",e.renderDocument="Render.renderDocument",e.createBodyResult="Render.createBodyResult"}(a||(a={})),function(e){e.renderToString="AppRender.renderToString",e.renderToReadableStream="AppRender.renderToReadableStream",e.getBodyResult="AppRender.getBodyResult",e.fetch="AppRender.fetch"}(l||(l={})),function(e){e.executeRoute="Router.executeRoute"}(u||(u={})),function(e){e.runHandler="Node.runHandler"}(c||(c={})),function(e){e.runHandler="AppRouteRouteHandlers.runHandler"}(d||(d={})),function(e){e.generateMetadata="ResolveMetadata.generateMetadata",e.generateViewport="ResolveMetadata.generateViewport"}(h||(h={})),function(e){e.execute="Middleware.execute"}(p||(p={}));let f=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"],m=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"]},82755:(e,t,r)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{SpanKind:function(){return u},SpanStatusCode:function(){return l},getTracer:function(){return v}});let i=r(98467);try{n=r(38626)}catch(e){n=r(98601)}let{context:o,propagation:s,trace:a,SpanStatusCode:l,SpanKind:u,ROOT_CONTEXT:c}=n,d=e=>null!==e&&"object"==typeof e&&"function"==typeof e.then,h=(e,t)=>{(null==t?void 0:t.bubble)===!0?e.setAttribute("next.bubble",!0):(t&&e.recordException(t),e.setStatus({code:l.ERROR,message:null==t?void 0:t.message})),e.end()},p=new Map,f=n.createContextKey("next.rootSpanId"),m=0,g=()=>m++;class y{getTracerInstance(){return a.getTracer("next.js","0.0.1")}getContext(){return o}getActiveScopeSpan(){return a.getSpan(null==o?void 0:o.active())}withPropagatedContext(e,t,r){let n=o.active();if(a.getSpanContext(n))return t();let i=s.extract(n,e,r);return o.with(i,t)}trace(...e){var t;let[r,n,s]=e,{fn:l,options:u}="function"==typeof n?{fn:n,options:{}}:{fn:s,options:{...n}},m=u.spanName??r;if(!i.NextVanillaSpanAllowlist.includes(r)&&"1"!==process.env.NEXT_OTEL_VERBOSE||u.hideSpan)return l();let y=this.getSpanContext((null==u?void 0:u.parentSpan)??this.getActiveScopeSpan()),v=!1;y?(null==(t=a.getSpanContext(y))?void 0:t.isRemote)&&(v=!0):(y=(null==o?void 0:o.active())??c,v=!0);let b=g();return u.attributes={"next.span_name":m,"next.span_type":r,...u.attributes},o.with(y.setValue(f,b),()=>this.getTracerInstance().startActiveSpan(m,u,e=>{let t="performance"in globalThis?globalThis.performance.now():void 0,n=()=>{p.delete(b),t&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&i.LogSpanAllowList.includes(r||"")&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(r.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:t,end:performance.now()})};v&&p.set(b,new Map(Object.entries(u.attributes??{})));try{if(l.length>1)return l(e,t=>h(e,t));let t=l(e);if(d(t))return t.then(t=>(e.end(),t)).catch(t=>{throw h(e,t),t}).finally(n);return e.end(),n(),t}catch(t){throw h(e,t),n(),t}}))}wrap(...e){let t=this,[r,n,s]=3===e.length?e:[e[0],{},e[1]];return i.NextVanillaSpanAllowlist.includes(r)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=n;"function"==typeof e&&"function"==typeof s&&(e=e.apply(this,arguments));let i=arguments.length-1,a=arguments[i];if("function"!=typeof a)return t.trace(r,e,()=>s.apply(this,arguments));{let n=t.getContext().bind(o.active(),a);return t.trace(r,e,(e,t)=>(arguments[i]=function(e){return null==t||t(e),n.apply(this,arguments)},s.apply(this,arguments)))}}:s}startSpan(...e){let[t,r]=e,n=this.getSpanContext((null==r?void 0:r.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,r,n)}getSpanContext(e){return e?a.setSpan(o.active(),e):void 0}getRootSpanAttributes(){let e=o.active().getValue(f);return p.get(e)}}let v=(()=>{let e=new y;return()=>e})()},42860:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ENCODED_TAGS",{enumerable:!0,get:function(){return r}});let r={OPENING:{HTML:new Uint8Array([60,104,116,109,108]),BODY:new Uint8Array([60,98,111,100,121])},CLOSED:{HEAD:new Uint8Array([60,47,104,101,97,100,62]),BODY:new Uint8Array([60,47,98,111,100,121,62]),HTML:new Uint8Array([60,47,104,116,109,108,62]),BODY_AND_HTML:new Uint8Array([60,47,98,111,100,121,62,60,47,104,116,109,108,62])}}},43598:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{chainStreams:function(){return d},continueDynamicDataResume:function(){return R},continueDynamicHTMLResume:function(){return O},continueDynamicPrerender:function(){return C},continueFizzStream:function(){return A},continueStaticPrerender:function(){return w},createBufferedTransformStream:function(){return f},createRootLayoutValidatorStream:function(){return _},renderToInitialFizzStream:function(){return g},streamFromString:function(){return h},streamToString:function(){return p}});let n=r(82755),i=r(98467),o=r(808),s=r(89061),a=r(42860),l=r(44192);function u(){}let c=new TextEncoder;function d(...e){if(0===e.length)throw Error("Invariant: chainStreams requires at least one stream");if(1===e.length)return e[0];let{readable:t,writable:r}=new TransformStream,n=e[0].pipeTo(r,{preventClose:!0}),i=1;for(;i<e.length-1;i++){let t=e[i];n=n.then(()=>t.pipeTo(r,{preventClose:!0}))}let o=e[i];return(n=n.then(()=>o.pipeTo(r))).catch(u),t}function h(e){return new ReadableStream({start(t){t.enqueue(c.encode(e)),t.close()}})}async function p(e){let t=new TextDecoder("utf-8",{fatal:!0}),r="";for await(let n of e)r+=t.decode(n,{stream:!0});return r+t.decode()}function f(){let e,t=[],r=0,n=n=>{if(e)return;let i=new o.DetachedPromise;e=i,(0,s.scheduleImmediate)(()=>{try{let e=new Uint8Array(r),i=0;for(let r=0;r<t.length;r++){let n=t[r];e.set(n,i),i+=n.byteLength}t.length=0,r=0,n.enqueue(e)}catch{}finally{e=void 0,i.resolve()}})};return new TransformStream({transform(e,i){t.push(e),r+=e.byteLength,n(i)},flush(){if(e)return e.promise}})}function m(e){return new TransformStream({transform:async(t,r)=>{let n=await e();n&&r.enqueue(c.encode(n)),r.enqueue(t)}})}function g({ReactDOMServer:e,element:t,streamOptions:r}){return(0,n.getTracer)().trace(i.AppRenderSpan.renderToReadableStream,async()=>e.renderToReadableStream(t,r))}function y(e){let t=!1,r=!1,n=!1;return new TransformStream({async transform(i,o){if(n=!0,r){o.enqueue(i);return}let u=await e();if(t){if(u){let e=c.encode(u);o.enqueue(e)}o.enqueue(i),r=!0}else{let e=(0,l.indexOfUint8Array)(i,a.ENCODED_TAGS.CLOSED.HEAD);if(-1!==e){if(u){let t=c.encode(u),r=new Uint8Array(i.length+t.length);r.set(i.slice(0,e)),r.set(t,e),r.set(i.slice(e),e+t.length),o.enqueue(r)}else o.enqueue(i);r=!0,t=!0}}t?(0,s.scheduleImmediate)(()=>{r=!1}):o.enqueue(i)},async flush(t){if(n){let r=await e();r&&t.enqueue(c.encode(r))}}})}function v(e){let t,r=!1,n=r=>{let n=new o.DetachedPromise;t=n,(0,s.scheduleImmediate)(()=>{try{r.enqueue(c.encode(e))}catch{}finally{t=void 0,n.resolve()}})};return new TransformStream({transform(e,t){t.enqueue(e),r||(r=!0,n(t))},flush(n){if(t)return t.promise;r||n.enqueue(c.encode(e))}})}function b(e){let t=null,r=!1;async function n(n){if(t)return;let i=e.getReader();await (0,s.atLeastOneTask)();try{for(;;){let{done:e,value:t}=await i.read();if(e){r=!0;return}n.enqueue(t)}}catch(e){n.error(e)}}return new TransformStream({transform(e,r){r.enqueue(e),t||(t=n(r))},flush(e){if(!r)return t||n(e)}})}function E(e){let t=!1,r=c.encode(e);return new TransformStream({transform(n,i){if(t)return i.enqueue(n);let o=(0,l.indexOfUint8Array)(n,r);if(o>-1){if(t=!0,n.length===e.length)return;let r=n.slice(0,o);if(i.enqueue(r),n.length>e.length+o){let t=n.slice(o+e.length);i.enqueue(t)}}else i.enqueue(n)},flush(e){e.enqueue(r)}})}function S(){return new TransformStream({transform(e,t){(0,l.isEquivalentUint8Arrays)(e,a.ENCODED_TAGS.CLOSED.BODY_AND_HTML)||(0,l.isEquivalentUint8Arrays)(e,a.ENCODED_TAGS.CLOSED.BODY)||(0,l.isEquivalentUint8Arrays)(e,a.ENCODED_TAGS.CLOSED.HTML)||(e=(0,l.removeFromUint8Array)(e,a.ENCODED_TAGS.CLOSED.BODY),e=(0,l.removeFromUint8Array)(e,a.ENCODED_TAGS.CLOSED.HTML),t.enqueue(e))}})}function _(){let e=!1,t=!1;return new TransformStream({async transform(r,n){!e&&(0,l.indexOfUint8Array)(r,a.ENCODED_TAGS.OPENING.HTML)>-1&&(e=!0),!t&&(0,l.indexOfUint8Array)(r,a.ENCODED_TAGS.OPENING.BODY)>-1&&(t=!0),n.enqueue(r)},flush(r){let n=[];e||n.push("html"),t||n.push("body"),n.length&&r.enqueue(c.encode(`<script>self.__next_root_layout_missing_tags=${JSON.stringify(n)}</script>`))}})}function T(e,t){let r=e;for(let e of t)e&&(r=r.pipeThrough(e));return r}async function A(e,{suffix:t,inlinedDataStream:r,isStaticGeneration:n,getServerInsertedHTML:i,serverInsertedHTMLToHead:o,validateRootLayout:s}){let a="</body></html>",l=t?t.split(a,1)[0]:null;return n&&"allReady"in e&&await e.allReady,T(e,[f(),i&&!o?m(i):null,null!=l&&l.length>0?v(l):null,r?b(r):null,s?_():null,E(a),i&&o?y(i):null])}async function C(e,{getServerInsertedHTML:t}){return e.pipeThrough(f()).pipeThrough(S()).pipeThrough(y(t))}async function w(e,{inlinedDataStream:t,getServerInsertedHTML:r}){let n="</body></html>";return e.pipeThrough(f()).pipeThrough(y(r)).pipeThrough(b(t)).pipeThrough(E(n))}async function O(e,{inlinedDataStream:t,getServerInsertedHTML:r}){let n="</body></html>";return e.pipeThrough(f()).pipeThrough(y(r)).pipeThrough(b(t)).pipeThrough(E(n))}async function R(e,{inlinedDataStream:t}){let r="</body></html>";return e.pipeThrough(b(t)).pipeThrough(E(r))}},44192:(e,t)=>{"use strict";function r(e,t){if(0===t.length)return 0;if(0===e.length||t.length>e.length)return -1;for(let r=0;r<=e.length-t.length;r++){let n=!0;for(let i=0;i<t.length;i++)if(e[r+i]!==t[i]){n=!1;break}if(n)return r}return -1}function n(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function i(e,t){let n=r(e,t);if(0===n)return e.subarray(t.length);if(!(n>-1))return e;{let r=new Uint8Array(e.length-t.length);return r.set(e.slice(0,n)),r.set(e.slice(n+t.length),n),r}}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{indexOfUint8Array:function(){return r},isEquivalentUint8Arrays:function(){return n},removeFromUint8Array:function(){return i}})},38238:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReflectAdapter",{enumerable:!0,get:function(){return r}});class r{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},92735:e=>{for(var t=4294967296,r=[],n=0;n<256;n++)r[n]=(n>15?"":"0")+n.toString(16);var i=e.exports=function(e,t){e instanceof Buffer?(this.buffer=e,this.offset=t||0):"[object Uint8Array]"==Object.prototype.toString.call(e)?(this.buffer=new Buffer(e),this.offset=t||0):(this.buffer=this.buffer||new Buffer(8),this.offset=0,this.setValue.apply(this,arguments))};i.MAX_INT=9007199254740992,i.MIN_INT=-9007199254740992,i.prototype={constructor:i,_2scomp:function(){for(var e=this.buffer,t=this.offset,r=1,n=t+7;n>=t;n--){var i=(255^e[n])+r;e[n]=255&i,r=i>>8}},setValue:function(e,r){var n=!1;if(1==arguments.length){if("number"==typeof e){if(n=e<0,r=(e=Math.abs(e))%t,(e/=t)>t)throw RangeError(e+" is outside Int64 range");e|=0}else if("string"==typeof e)r=(e=(e+"").replace(/^0x/,"")).substr(-8),e=parseInt(e=e.length>8?e.substr(0,e.length-8):"",16),r=parseInt(r,16);else throw Error(e+" must be a Number or String")}for(var i=this.buffer,o=this.offset,s=7;s>=0;s--)i[o+s]=255&r,r=4==s?e:r>>>8;n&&this._2scomp()},toNumber:function(e){for(var t=this.buffer,r=this.offset,n=128&t[r],o=0,s=1,a=7,l=1;a>=0;a--,l*=256){var u=t[r+a];n&&(s=(u=(255^u)+s)>>8,u&=255),o+=u*l}return!e&&o>=i.MAX_INT?n?-1/0:1/0:n?-o:o},valueOf:function(){return this.toNumber(!1)},toString:function(e){return this.valueOf().toString(e||10)},toOctetString:function(e){for(var t=Array(8),n=this.buffer,i=this.offset,o=0;o<8;o++)t[o]=r[n[i+o]];return t.join(e||"")},toBuffer:function(e){if(e&&0===this.offset)return this.buffer;var t=new Buffer(8);return this.buffer.copy(t,0,this.offset,this.offset+8),t},copy:function(e,t){this.buffer.copy(e,t||0,this.offset,this.offset+8)},compare:function(e){if((128&this.buffer[this.offset])!=(128&e.buffer[e.offset]))return e.buffer[e.offset]-this.buffer[this.offset];for(var t=0;t<8;t++)if(this.buffer[this.offset+t]!==e.buffer[e.offset+t])return this.buffer[this.offset+t]-e.buffer[e.offset+t];return 0},equals:function(e){return 0===this.compare(e)},inspect:function(){return"[Int64 value:"+this+" octets:"+this.toOctetString(" ")+"]"}}},13585:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e){this.buffer=e}}();t.default=r},12604:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FORMAT_BINARY="binary",t.FORMAT_TEXT_MAP="text_map",t.FORMAT_HTTP_HEADERS="http_headers",t.REFERENCE_CHILD_OF="child_of",t.REFERENCE_FOLLOWS_FROM="follows_from"},3482:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SPAN_KIND="span.kind",t.SPAN_KIND_RPC_CLIENT="client",t.SPAN_KIND_RPC_SERVER="server",t.SPAN_KIND_MESSAGING_PRODUCER="producer",t.SPAN_KIND_MESSAGING_CONSUMER="consumer",t.ERROR="error",t.COMPONENT="component",t.SAMPLING_PRIORITY="sampling.priority",t.PEER_SERVICE="peer.service",t.PEER_HOSTNAME="peer.hostname",t.PEER_ADDRESS="peer.address",t.PEER_HOST_IPV4="peer.ipv4",t.PEER_HOST_IPV6="peer.ipv6",t.PEER_PORT="peer.port",t.HTTP_URL="http.url",t.HTTP_METHOD="http.method",t.HTTP_STATUS_CODE="http.status_code",t.MESSAGE_BUS_DESTINATION="message_bus.destination",t.DB_INSTANCE="db.instance",t.DB_STATEMENT="db.statement",t.DB_TYPE="db.type",t.DB_USER="db.user"},81688:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12604),i=r(73306),o=r(37379);function s(e){return e instanceof o.default&&(e=e.context()),new i.default(n.REFERENCE_CHILD_OF,e)}function a(e){return e instanceof o.default&&(e=e.context()),new i.default(n.REFERENCE_FOLLOWS_FROM,e)}t.childOf=s,t.followsFrom=a},23201:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(90624),o=new i.default,s=null,a=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.startSpan=function(){var e=s||o;return e.startSpan.apply(e,arguments)},t.prototype.inject=function(){var e=s||o;return e.inject.apply(e,arguments)},t.prototype.extract=function(){var e=s||o;return e.extract.apply(e,arguments)},t}(i.default));function l(e){s=e}function u(){return a}t.initGlobalTracer=l,t.globalTracer=u},99032:(e,t,r)=>{"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});var i=r(13585);t.BinaryCarrier=i.default;var o=r(3482);t.Tags=o;var s=r(38980),a=r(73306);t.Reference=a.default;var l=r(37379);t.Span=l.default;var u=r(10658);t.SpanContext=u.default;var c=r(90624);t.Tracer=c.Tracer;var d=r(34685);t.MockTracer=d.MockTracer,n(r(23201)),n(r(12604)),n(r(81688)),s.initialize()},34685:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(18844);t.MockContext=n.default;var i=r(52637);t.MockSpan=i.default;var o=r(81323);t.MockTracer=o.default},18844:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var r=e.call(this)||this;return r._span=t,r}return n(t,e),t.prototype.span=function(){return this._span},t}(r(10658).SpanContext);t.MockContext=i,t.default=i},98878:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){var t=this;this.spans=e,this.spansByUUID={},this.spansByTag={},this.debugSpans=[],this.unfinishedSpans=[],e.forEach(function(e){0===e._finishMs&&t.unfinishedSpans.push(e),t.spansByUUID[e.uuid()]=e,t.debugSpans.push(e.debug());var r=e.tags();Object.keys(r).forEach(function(n){var i=r[n];t.spansByTag[n]=t.spansByTag[n]||{},t.spansByTag[n][i]=t.spansByTag[n][i]||[],t.spansByTag[n][i].push(e)})})}return e.prototype.firstSpanWithTagValue=function(e,t){var r=this.spansByTag[e];if(!r)return null;var n=r[t];return n?n[0]:null},e}();t.MockReport=r,t.default=r},52637:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(99032),o=r(18844),s=function(e){function t(t){var r=e.call(this)||this;return r._mockTracer=t,r._uuid=r._generateUUID(),r._startMs=Date.now(),r._finishMs=0,r._operationName="",r._tags={},r._logs=[],r}return n(t,e),t.prototype._context=function(){return new o.default(this)},t.prototype._setOperationName=function(e){this._operationName=e},t.prototype._addTags=function(e){for(var t=Object.keys(e),r=0,n=t;r<n.length;r++){var i=n[r];this._tags[i]=e[i]}},t.prototype._log=function(e,t){this._logs.push({fields:e,timestamp:t})},t.prototype._finish=function(e){this._finishMs=e||Date.now()},t.prototype.uuid=function(){return this._uuid},t.prototype.operationName=function(){return this._operationName},t.prototype.durationMs=function(){return this._finishMs-this._startMs},t.prototype.tags=function(){return this._tags},t.prototype.tracer=function(){return this._mockTracer},t.prototype._generateUUID=function(){return""+("00000000"+Math.abs(4294967295*Math.random()|0).toString(16)).substr(-8)+("00000000"+Math.abs(4294967295*Math.random()|0).toString(16)).substr(-8)},t.prototype.addReference=function(e){},t.prototype.debug=function(){var e={uuid:this._uuid,operation:this._operationName,millis:[this._finishMs-this._startMs,this._startMs,this._finishMs]};return Object.keys(this._tags).length&&(e.tags=this._tags),e},t}(i.Span);t.MockSpan=s,t.default=s},81323:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(99032),o=r(98878),s=r(52637),a=function(e){function t(){var t=e.call(this)||this;return t._spans=[],t}return n(t,e),t.prototype._startSpan=function(e,t){var r=this._allocSpan();if(r.setOperationName(e),this._spans.push(r),t.references)for(var n=0,i=t.references;n<i.length;n++){var o=i[n];r.addReference(o)}return r._startStack=Error().stack,r},t.prototype._inject=function(e,t,r){throw Error("NOT YET IMPLEMENTED")},t.prototype._extract=function(e,t){throw Error("NOT YET IMPLEMENTED")},t.prototype._allocSpan=function(){return new s.default(this)},t.prototype.clear=function(){this._spans=[]},t.prototype.report=function(){return new o.default(this._spans)},t}(i.Tracer);t.MockTracer=a,t.default=a},38980:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(37379),i=r(10658),o=r(90624);function s(){t.tracer=new o.default,t.span=new n.default,t.spanContext=new i.default}t.tracer=null,t.spanContext=null,t.span=null,t.initialize=s},73306:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(37379),i=function(){function e(e,t){this._type=e,this._referencedContext=t instanceof n.default?t.context():t}return e.prototype.type=function(){return this._type},e.prototype.referencedContext=function(){return this._referencedContext},e}();t.default=i},37379:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(38980),i=function(){function e(){}return e.prototype.context=function(){return this._context()},e.prototype.tracer=function(){return this._tracer()},e.prototype.setOperationName=function(e){return this._setOperationName(e),this},e.prototype.setBaggageItem=function(e,t){return this._setBaggageItem(e,t),this},e.prototype.getBaggageItem=function(e){return this._getBaggageItem(e)},e.prototype.setTag=function(e,t){var r;return this._addTags(((r={})[e]=t,r)),this},e.prototype.addTags=function(e){return this._addTags(e),this},e.prototype.log=function(e,t){return this._log(e,t),this},e.prototype.logEvent=function(e,t){return this._log({event:e,payload:t})},e.prototype.finish=function(e){this._finish(e)},e.prototype._context=function(){return n.spanContext},e.prototype._tracer=function(){return n.tracer},e.prototype._setOperationName=function(e){},e.prototype._setBaggageItem=function(e,t){},e.prototype._getBaggageItem=function(e){},e.prototype._addTags=function(e){},e.prototype._log=function(e,t){},e.prototype._finish=function(e){},e}();t.Span=i,t.default=i},10658:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.toTraceId=function(){return""},e.prototype.toSpanId=function(){return""},e}();t.SpanContext=r,t.default=r},90624:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(81688),i=r(38980),o=r(37379),s=function(){function e(){}return e.prototype.startSpan=function(e,t){if(void 0===t&&(t={}),t.childOf){var r=n.childOf(t.childOf);t.references?t.references.push(r):t.references=[r],delete t.childOf}return this._startSpan(e,t)},e.prototype.inject=function(e,t,r){return e instanceof o.default&&(e=e.context()),this._inject(e,t,r)},e.prototype.extract=function(e,t){return this._extract(e,t)},e.prototype._startSpan=function(e,t){return i.span},e.prototype._inject=function(e,t,r){},e.prototype._extract=function(e,t){return i.spanContext},e}();t.Tracer=s,t.default=s},11129:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Allow=t.MalformedJSON=t.PartialJSON=t.parseJSON=t.parse=void 0;let o=r(58802);Object.defineProperty(t,"Allow",{enumerable:!0,get:function(){return o.Allow}}),i(r(58802),t);class s extends Error{}t.PartialJSON=s;class a extends Error{}function l(e,t=o.Allow.ALL){if("string"!=typeof e)throw TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw Error(`${e} is empty`);return u(e.trim(),t)}t.MalformedJSON=a,t.parseJSON=l;let u=(e,t)=>{let r=e.length,n=0,i=e=>{throw new s(`${e} at position ${n}`)},l=e=>{throw new a(`${e} at position ${n}`)},u=()=>(f(),n>=r&&i("Unexpected end of input"),'"'===e[n])?c():"{"===e[n]?d():"["===e[n]?h():"null"===e.substring(n,n+4)||o.Allow.NULL&t&&r-n<4&&"null".startsWith(e.substring(n))?(n+=4,null):"true"===e.substring(n,n+4)||o.Allow.BOOL&t&&r-n<4&&"true".startsWith(e.substring(n))?(n+=4,!0):"false"===e.substring(n,n+5)||o.Allow.BOOL&t&&r-n<5&&"false".startsWith(e.substring(n))?(n+=5,!1):"Infinity"===e.substring(n,n+8)||o.Allow.INFINITY&t&&r-n<8&&"Infinity".startsWith(e.substring(n))?(n+=8,1/0):"-Infinity"===e.substring(n,n+9)||o.Allow._INFINITY&t&&1<r-n&&r-n<9&&"-Infinity".startsWith(e.substring(n))?(n+=9,-1/0):"NaN"===e.substring(n,n+3)||o.Allow.NAN&t&&r-n<3&&"NaN".startsWith(e.substring(n))?(n+=3,NaN):p(),c=()=>{let s=n,a=!1;for(n++;n<r&&('"'!==e[n]||a&&"\\"===e[n-1]);)a="\\"===e[n]&&!a,n++;if('"'==e.charAt(n))try{return JSON.parse(e.substring(s,++n-Number(a)))}catch(e){l(String(e))}else if(o.Allow.STR&t)try{return JSON.parse(e.substring(s,n-Number(a))+'"')}catch(t){return JSON.parse(e.substring(s,e.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},d=()=>{n++,f();let s={};try{for(;"}"!==e[n];){if(f(),n>=r&&o.Allow.OBJ&t)return s;let i=c();f(),n++;try{let e=u();s[i]=e}catch(e){if(o.Allow.OBJ&t)return s;throw e}f(),","===e[n]&&n++}}catch(e){if(o.Allow.OBJ&t)return s;i("Expected '}' at end of object")}return n++,s},h=()=>{n++;let r=[];try{for(;"]"!==e[n];)r.push(u()),f(),","===e[n]&&n++}catch(e){if(o.Allow.ARR&t)return r;i("Expected ']' at end of array")}return n++,r},p=()=>{if(0===n){"-"===e&&l("Not sure what '-' is");try{return JSON.parse(e)}catch(r){if(o.Allow.NUM&t)try{return JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch(e){}l(String(r))}}let s=n;for("-"===e[n]&&n++;e[n]&&-1===",]}".indexOf(e[n]);)n++;n!=r||o.Allow.NUM&t||i("Unterminated number literal");try{return JSON.parse(e.substring(s,n))}catch(t){"-"===e.substring(s,n)&&i("Not sure what '-' is");try{return JSON.parse(e.substring(s,e.lastIndexOf("e")))}catch(e){l(String(e))}}},f=()=>{for(;n<r&&" \n\r	".includes(e[n]);)n++};return u()},c=l;t.parse=c},58802:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Allow=t.ALL=t.COLLECTION=t.ATOM=t.SPECIAL=t.INF=t._INFINITY=t.INFINITY=t.NAN=t.BOOL=t.NULL=t.OBJ=t.ARR=t.NUM=t.STR=void 0,t.STR=1,t.NUM=2,t.ARR=4,t.OBJ=8,t.NULL=16,t.BOOL=32,t.NAN=64,t.INFINITY=128,t._INFINITY=256,t.INF=t.INFINITY|t._INFINITY,t.SPECIAL=t.NULL|t.BOOL|t.INF|t.NAN,t.ATOM=t.STR|t.NUM|t.SPECIAL,t.COLLECTION=t.ARR|t.OBJ,t.ALL=t.ATOM|t.COLLECTION,t.Allow={STR:t.STR,NUM:t.NUM,ARR:t.ARR,OBJ:t.OBJ,NULL:t.NULL,BOOL:t.BOOL,NAN:t.NAN,INFINITY:t.INFINITY,_INFINITY:t._INFINITY,INF:t.INF,SPECIAL:t.SPECIAL,ATOM:t.ATOM,COLLECTION:t.COLLECTION,ALL:t.ALL},t.default=t.Allow},98283:e=>{"use strict";var t="win32"===process.platform,r=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,n={};function i(e){return r.exec(e).slice(1)}n.parse=function(e){if("string"!=typeof e)throw TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=i(e);if(!t||5!==t.length)throw TypeError("Invalid path '"+e+"'");return{root:t[1],dir:t[0]===t[1]?t[0]:t[0].slice(0,-1),base:t[2],ext:t[4],name:t[3]}};var o=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,s={};function a(e){return o.exec(e).slice(1)}s.parse=function(e){if("string"!=typeof e)throw TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=a(e);if(!t||5!==t.length)throw TypeError("Invalid path '"+e+"'");return{root:t[1],dir:t[0].slice(0,-1),base:t[2],ext:t[4],name:t[3]}},t?e.exports=n.parse:e.exports=s.parse,e.exports.posix=s.parse,e.exports.win32=n.parse},78323:(e,t,r)=>{"use strict";var n=r(60394);e.exports=t=n.descriptor=n.Root.fromJSON(r(65061)).lookup(".google.protobuf");var i=n.Namespace,o=n.Root,s=n.Enum,a=n.Type,l=n.Field,u=n.MapField,c=n.OneOf,d=n.Service,h=n.Method;function p(e,r,n){var u=t.FileDescriptorProto.create({name:e.filename||(e.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});I(n,u),e instanceof o||(u.package=e.fullName.substring(1));for(var c,h=0;h<e.nestedArray.length;++h)(c=e._nestedArray[h])instanceof a?u.messageType.push(c.toDescriptor(n)):c instanceof s?u.enumType.push(c.toDescriptor()):c instanceof l?u.extension.push(c.toDescriptor(n)):c instanceof d?u.service.push(c.toDescriptor()):c instanceof i&&p(c,r,n);u.options=w(e.options,t.FileOptions),u.messageType.length+u.enumType.length+u.extension.length+u.service.length&&r.push(u)}o.fromDescriptor=function(e){"number"==typeof e.length&&(e=t.FileDescriptorSet.decode(e));var r=new o;if(e.file)for(var n,i,u,c=0;c<e.file.length;++c){i=r,(n=e.file[c]).package&&n.package.length&&(i=r.define(n.package));var h=x(n);if(n.name&&n.name.length&&r.files.push(i.filename=n.name),n.messageType)for(u=0;u<n.messageType.length;++u)i.add(a.fromDescriptor(n.messageType[u],h));if(n.enumType)for(u=0;u<n.enumType.length;++u)i.add(s.fromDescriptor(n.enumType[u],h));if(n.extension)for(u=0;u<n.extension.length;++u)i.add(l.fromDescriptor(n.extension[u],h));if(n.service)for(u=0;u<n.service.length;++u)i.add(d.fromDescriptor(n.service[u],h));var p=A(n.options,t.FileOptions);if(p){var f=Object.keys(p);for(u=0;u<f.length;++u)i.setOption(f[u],p[f[u]])}}return r.resolveAll()},o.prototype.toDescriptor=function(e){var r=t.FileDescriptorSet.create();return p(this,r.file,e),r};var f=0;a.fromDescriptor=function(e,r,n){"number"==typeof e.length&&(e=t.DescriptorProto.decode(e));var i,o=new a(e.name.length?e.name:"Type"+f++,A(e.options,t.MessageOptions));if(n||(o._edition=r),e.oneofDecl)for(i=0;i<e.oneofDecl.length;++i)o.add(c.fromDescriptor(e.oneofDecl[i]));if(e.field)for(i=0;i<e.field.length;++i){var u=l.fromDescriptor(e.field[i],r,!0);o.add(u),e.field[i].hasOwnProperty("oneofIndex")&&o.oneofsArray[e.field[i].oneofIndex].add(u)}if(e.extension)for(i=0;i<e.extension.length;++i)o.add(l.fromDescriptor(e.extension[i],r,!0));if(e.nestedType)for(i=0;i<e.nestedType.length;++i)o.add(a.fromDescriptor(e.nestedType[i],r,!0)),e.nestedType[i].options&&e.nestedType[i].options.mapEntry&&o.setOption("map_entry",!0);if(e.enumType)for(i=0;i<e.enumType.length;++i)o.add(s.fromDescriptor(e.enumType[i],r,!0));if(e.extensionRange&&e.extensionRange.length)for(i=0,o.extensions=[];i<e.extensionRange.length;++i)o.extensions.push([e.extensionRange[i].start,e.extensionRange[i].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(o.reserved=[],e.reservedRange)for(i=0;i<e.reservedRange.length;++i)o.reserved.push([e.reservedRange[i].start,e.reservedRange[i].end]);if(e.reservedName)for(i=0;i<e.reservedName.length;++i)o.reserved.push(e.reservedName[i])}return o},a.prototype.toDescriptor=function(e){var r,n,i=t.DescriptorProto.create({name:this.name});for(n=0;n<this.fieldsArray.length;++n)if(i.field.push(r=this._fieldsArray[n].toDescriptor(e)),this._fieldsArray[n]instanceof u){var o=_(this._fieldsArray[n].keyType,this._fieldsArray[n].resolvedKeyType,!1),c=_(this._fieldsArray[n].type,this._fieldsArray[n].resolvedType,!1),d=11===c||14===c?this._fieldsArray[n].resolvedType&&O(this.parent,this._fieldsArray[n].resolvedType)||this._fieldsArray[n].type:void 0;i.nestedType.push(t.DescriptorProto.create({name:r.typeName,field:[t.FieldDescriptorProto.create({name:"key",number:1,label:1,type:o}),t.FieldDescriptorProto.create({name:"value",number:2,label:1,type:c,typeName:d})],options:t.MessageOptions.create({mapEntry:!0})}))}for(n=0;n<this.oneofsArray.length;++n)i.oneofDecl.push(this._oneofsArray[n].toDescriptor());for(n=0;n<this.nestedArray.length;++n)this._nestedArray[n]instanceof l?i.field.push(this._nestedArray[n].toDescriptor(e)):this._nestedArray[n]instanceof a?i.nestedType.push(this._nestedArray[n].toDescriptor(e)):this._nestedArray[n]instanceof s&&i.enumType.push(this._nestedArray[n].toDescriptor());if(this.extensions)for(n=0;n<this.extensions.length;++n)i.extensionRange.push(t.DescriptorProto.ExtensionRange.create({start:this.extensions[n][0],end:this.extensions[n][1]}));if(this.reserved)for(n=0;n<this.reserved.length;++n)"string"==typeof this.reserved[n]?i.reservedName.push(this.reserved[n]):i.reservedRange.push(t.DescriptorProto.ReservedRange.create({start:this.reserved[n][0],end:this.reserved[n][1]}));return i.options=w(this.options,t.MessageOptions),i};var m=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;l.fromDescriptor=function(e,r,n){if("number"==typeof e.length&&(e=t.DescriptorProto.decode(e)),"number"!=typeof e.number)throw Error("missing field id");switch(i=e.typeName&&e.typeName.length?e.typeName:E(e.type),e.label){case 1:o=void 0;break;case 2:o="required";break;case 3:o="repeated";break;default:throw Error("illegal label: "+e.label)}var i,o,s=e.extendee;void 0!==e.extendee&&(s=s.length?s:void 0);var a=new l(e.name.length?e.name:"field"+e.number,e.number,i,o,s);if(n||(a._edition=r),a.options=A(e.options,t.FieldOptions),e.proto3_optional&&(a.options.proto3_optional=!0),e.defaultValue&&e.defaultValue.length){var u=e.defaultValue;switch(u){case"true":case"TRUE":u=!0;break;case"false":case"FALSE":u=!1;break;default:m.exec(u)&&(u=parseInt(u))}a.setOption("default",u)}return S(e.type)&&("proto3"===r?e.options&&!e.options.packed&&a.setOption("packed",!1):(!r||"proto2"===r)&&e.options&&e.options.packed&&a.setOption("packed",!0)),a},l.prototype.toDescriptor=function(e){var r=t.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)r.type=11,r.typeName=n.util.ucFirst(this.name),r.label=3;else{switch(r.type=_(this.type,this.resolve().resolvedType,this.delimited)){case 10:case 11:case 14:r.typeName=this.resolvedType?O(this.parent,this.resolvedType):this.type}"repeated"===this.rule?r.label=3:this.required&&"proto2"===e?r.label=2:r.label=1}if(r.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(r.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(r.options=w(this.options,t.FieldOptions),null!=this.options.default&&(r.defaultValue=String(this.options.default)),this.options.proto3_optional&&(r.proto3_optional=!0)),"proto3"===e?this.packed||((r.options||(r.options=t.FieldOptions.create())).packed=!1):(!e||"proto2"===e)&&this.packed&&((r.options||(r.options=t.FieldOptions.create())).packed=!0),r};var g=0;s.fromDescriptor=function(e,r,n){"number"==typeof e.length&&(e=t.EnumDescriptorProto.decode(e));var i={};if(e.value)for(var o=0;o<e.value.length;++o){var a=e.value[o].name,l=e.value[o].number||0;i[a&&a.length?a:"NAME"+l]=l}var u=new s(e.name&&e.name.length?e.name:"Enum"+g++,i,A(e.options,t.EnumOptions));return n||(u._edition=r),u},s.prototype.toDescriptor=function(){for(var e=[],r=0,n=Object.keys(this.values);r<n.length;++r)e.push(t.EnumValueDescriptorProto.create({name:n[r],number:this.values[n[r]]}));return t.EnumDescriptorProto.create({name:this.name,value:e,options:w(this.options,t.EnumOptions)})};var y=0;c.fromDescriptor=function(e){return"number"==typeof e.length&&(e=t.OneofDescriptorProto.decode(e)),new c(e.name&&e.name.length?e.name:"oneof"+y++)},c.prototype.toDescriptor=function(){return t.OneofDescriptorProto.create({name:this.name})};var v=0;d.fromDescriptor=function(e,r,n){"number"==typeof e.length&&(e=t.ServiceDescriptorProto.decode(e));var i=new d(e.name&&e.name.length?e.name:"Service"+v++,A(e.options,t.ServiceOptions));if(n||(i._edition=r),e.method)for(var o=0;o<e.method.length;++o)i.add(h.fromDescriptor(e.method[o]));return i},d.prototype.toDescriptor=function(){for(var e=[],r=0;r<this.methodsArray.length;++r)e.push(this._methodsArray[r].toDescriptor());return t.ServiceDescriptorProto.create({name:this.name,method:e,options:w(this.options,t.ServiceOptions)})};var b=0;function E(e){switch(e){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+e)}function S(e){switch(e){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function _(e,t,r){switch(e){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(t instanceof s)return 14;if(t instanceof a)return r?10:11;throw Error("illegal type: "+e)}function T(e,t){for(var r,n,i={},o=0;o<t.fieldsArray.length;++o)if("uninterpretedOption"!==(n=(r=t._fieldsArray[o]).name)&&Object.prototype.hasOwnProperty.call(e,n)){var l=R(n);r.resolvedType instanceof a?i[l]=T(e[n],r.resolvedType):r.resolvedType instanceof s?i[l]=r.resolvedType.valuesById[e[n]]:i[l]=e[n]}return i}function A(e,t){if(e)return T(t.toObject(e),t)}function C(e,t){for(var r={},i=Object.keys(e),o=0;o<i.length;++o){var s=i[o],l=n.util.camelCase(s);if(Object.prototype.hasOwnProperty.call(t.fields,l)){var u=t.fields[l];u.resolvedType instanceof a?r[l]=C(e[s],u.resolvedType):r[l]=e[s],u.repeated&&!Array.isArray(r[l])&&(r[l]=[r[l]])}}return r}function w(e,t){if(e)return t.fromObject(C(e,t))}function O(e,t){var r=e.fullName.split("."),n=t.fullName.split("."),s=0,a=0,l=n.length-1;if(!(e instanceof o)&&t instanceof i)for(;s<r.length&&a<l&&r[s]===n[a];){var u=t.lookup(r[s++],!0);if(null!==u&&u!==t)break;++a}else for(;s<r.length&&a<l&&r[s]===n[a];++s,++a);return n.slice(a).join(".")}function R(e){return e.substring(0,1)+e.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(e,t){return"_"+t.toLowerCase()})}function x(e){if("editions"===e.syntax){if(e.edition===t.Edition.EDITION_2023)return"2023";throw Error("Unsupported edition "+e.edition)}return"proto3"===e.syntax?"proto3":"proto2"}function I(e,r){if(e){if("proto2"===e||"proto3"===e)r.syntax=e;else if(r.syntax="editions","2023"===e)r.edition=t.Edition.EDITION_2023;else throw Error("Unsupported edition "+e)}}h.fromDescriptor=function(e){return"number"==typeof e.length&&(e=t.MethodDescriptorProto.decode(e)),new h(e.name&&e.name.length?e.name:"Method"+b++,"rpc",e.inputType,e.outputType,!!e.clientStreaming,!!e.serverStreaming,A(e.options,t.MethodOptions))},h.prototype.toDescriptor=function(){return t.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:w(this.options,t.MethodOptions)})}},60394:(e,t,r)=>{"use strict";e.exports=r(80463)},75335:(e,t,r)=>{"use strict";e.exports=r(70477)},66410:e=>{"use strict";e.exports=n;var t,r=/\/|\./;function n(e,t){r.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),n[e]=t}n("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),n("duration",{Duration:t={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),n("timestamp",{Timestamp:t}),n("empty",{Empty:{fields:{}}}),n("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),n("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),n("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),n.get=function(e){return n[e]||null}},9180:(e,t,r)=>{"use strict";var n=t,i=r(723),o=r(38901);function s(e,t,r,n){var o=!1;if(t.resolvedType){if(t.resolvedType instanceof i){e("switch(d%s){",n);for(var s=t.resolvedType.values,a=Object.keys(s),l=0;l<a.length;++l)s[a[l]]!==t.typeDefault||o||(e("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',n,n,n),t.repeated||e("break"),o=!0),e("case%j:",a[l])("case %i:",s[a[l]])("m%s=%j",n,s[a[l]])("break");e("}")}else e('if(typeof d%s!=="object")',n)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,r,n)}else{var u=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",n,n);break;case"uint64":u=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,u)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,u?"true":"");break;case"bytes":e('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length >= 0)",n)("m%s=d%s",n,n);break;case"string":e("m%s=String(d%s)",n,n);break;case"bool":e("m%s=Boolean(d%s)",n,n)}}return e}function a(e,t,r,n){if(t.resolvedType)t.resolvedType instanceof i?e("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",n,r,n,n,r,n,n):e("d%s=types[%i].toObject(m%s,o)",n,r,n);else{var o=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":o=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,o?"true":"",n);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:e("d%s=m%s",n,n)}}return e}n.fromObject=function(e){var t=e.fieldsArray,r=o.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var n=0;n<t.length;++n){var a=t[n].resolve(),l=o.safeProp(a.name);a.map?(r("if(d%s){",l)('if(typeof d%s!=="object")',l)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",l)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",l),s(r,a,n,l+"[ks[i]]")("}")("}")):a.repeated?(r("if(d%s){",l)("if(!Array.isArray(d%s))",l)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",l)("for(var i=0;i<d%s.length;++i){",l),s(r,a,n,l+"[i]")("}")("}")):(a.resolvedType instanceof i||r("if(d%s!=null){",l),s(r,a,n,l),a.resolvedType instanceof i||r("}"))}return r("return m")},n.toObject=function(e){var t=e.fieldsArray.slice().sort(o.compareFieldsById);if(!t.length)return o.codegen()("return {}");for(var r=o.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),n=[],s=[],l=[],u=0;u<t.length;++u)t[u].partOf||(t[u].resolve().repeated?n:t[u].map?s:l).push(t[u]);if(n.length){for(r("if(o.arrays||o.defaults){"),u=0;u<n.length;++u)r("d%s=[]",o.safeProp(n[u].name));r("}")}if(s.length){for(r("if(o.objects||o.defaults){"),u=0;u<s.length;++u)r("d%s={}",o.safeProp(s[u].name));r("}")}if(l.length){for(r("if(o.defaults){"),u=0;u<l.length;++u){var c=l[u],d=o.safeProp(c.name);if(c.resolvedType instanceof i)r("d%s=o.enums===String?%j:%j",d,c.resolvedType.valuesById[c.typeDefault],c.typeDefault);else if(c.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",c.typeDefault.low,c.typeDefault.high,c.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",d)("}else")("d%s=o.longs===String?%j:%i",d,c.typeDefault.toString(),c.typeDefault.toNumber());else if(c.bytes){var h="["+Array.prototype.slice.call(c.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",d,String.fromCharCode.apply(String,c.typeDefault))("else{")("d%s=%s",d,h)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",d,d)("}")}else r("d%s=%j",d,c.typeDefault)}r("}")}var p=!1;for(u=0;u<t.length;++u){var c=t[u],f=e._fieldsArray.indexOf(c),d=o.safeProp(c.name);c.map?(p||(p=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",d,d)("d%s={}",d)("for(var j=0;j<ks2.length;++j){"),a(r,c,f,d+"[ks2[j]]")("}")):c.repeated?(r("if(m%s&&m%s.length){",d,d)("d%s=[]",d)("for(var j=0;j<m%s.length;++j){",d),a(r,c,f,d+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",d,c.name),a(r,c,f,d),c.partOf&&r("if(o.oneofs)")("d%s=%j",o.safeProp(c.partOf.name),c.name)),r("}")}return r("return d")}},73187:(e,t,r)=>{"use strict";e.exports=a;var n=r(723),i=r(20003),o=r(38901);function s(e){return"missing required '"+e.name+"'"}function a(e){for(var t=o.codegen(["r","l","e"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter(function(e){return e.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),r=0;r<e.fieldsArray.length;++r){var a=e._fieldsArray[r].resolve(),l=a.resolvedType instanceof n?"int32":a.type,u="m"+o.safeProp(a.name);t("case %i: {",a.id),a.map?(t("if(%s===util.emptyObject)",u)("%s={}",u)("var c2 = r.uint32()+r.pos"),void 0!==i.defaults[a.keyType]?t("k=%j",i.defaults[a.keyType]):t("k=null"),void 0!==i.defaults[l]?t("value=%j",i.defaults[l]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",a.keyType)("case 2:"),void 0===i.basic[l]?t("value=types[%i].decode(r,r.uint32())",r):t("value=r.%s()",l),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),t(void 0!==i.long[a.keyType]?'%s[typeof k==="object"?util.longToHash(k):k]=value':"%s[k]=value",u)):a.repeated?(t("if(!(%s&&%s.length))",u,u)("%s=[]",u),void 0!==i.packed[l]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",u,l)("}else"),void 0===i.basic[l]?t(a.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",u,r):t("%s.push(r.%s())",u,l)):void 0===i.basic[l]?t(a.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",u,r):t("%s=r.%s()",u,l),t("break")("}")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<e._fieldsArray.length;++r){var c=e._fieldsArray[r];c.required&&t("if(!m.hasOwnProperty(%j))",c.name)("throw util.ProtocolError(%j,{instance:m})",s(c))}return t("return m")}},80362:(e,t,r)=>{"use strict";e.exports=a;var n=r(723),i=r(20003),o=r(38901);function s(e,t,r,n){return t.delimited?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,n,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,n,(t.id<<3|2)>>>0)}function a(e){for(var t,r,a=o.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),l=e.fieldsArray.slice().sort(o.compareFieldsById),t=0;t<l.length;++t){var u=l[t].resolve(),c=e._fieldsArray.indexOf(u),d=u.resolvedType instanceof n?"int32":u.type,h=i.basic[d];r="m"+o.safeProp(u.name),u.map?(a("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",r,u.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",r)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(u.id<<3|2)>>>0,8|i.mapKey[u.keyType],u.keyType),void 0===h?a("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",c,r):a(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|h,d,r),a("}")("}")):u.repeated?(a("if(%s!=null&&%s.length){",r,r),u.packed&&void 0!==i.packed[d]?a("w.uint32(%i).fork()",(u.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",r)("w.%s(%s[i])",d,r)("w.ldelim()"):(a("for(var i=0;i<%s.length;++i)",r),void 0===h?s(a,u,c,r+"[i]"):a("w.uint32(%i).%s(%s[i])",(u.id<<3|h)>>>0,d,r)),a("}")):(u.optional&&a("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",r,u.name),void 0===h?s(a,u,c,r):a("w.uint32(%i).%s(%s)",(u.id<<3|h)>>>0,d,r))}return a("return w")}},723:(e,t,r)=>{"use strict";e.exports=s;var n=r(71999);((s.prototype=Object.create(n.prototype)).constructor=s).className="Enum";var i=r(15175),o=r(38901);function s(e,t,r,i,o,s){if(n.call(this,e,r),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=o||{},this.valuesOptions=s,this._valuesFeatures={},this.reserved=void 0,t)for(var a=Object.keys(t),l=0;l<a.length;++l)"number"==typeof t[a[l]]&&(this.valuesById[this.values[a[l]]=t[a[l]]]=a[l])}s.prototype._resolveFeatures=function(e){return e=this._edition||e,n.prototype._resolveFeatures.call(this,e),Object.keys(this.values).forEach(e=>{var t=Object.assign({},this._features);this._valuesFeatures[e]=Object.assign(t,this.valuesOptions&&this.valuesOptions[e]&&this.valuesOptions[e].features)}),this},s.fromJSON=function(e,t){var r=new s(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,t.edition&&(r._edition=t.edition),r._defaultEdition="proto3",r},s.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return o.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},s.prototype.add=function(e,t,r,n){if(!o.isString(e))throw TypeError("name must be a string");if(!o.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return n&&(void 0===this.valuesOptions&&(this.valuesOptions={}),this.valuesOptions[e]=n||null),this.comments[e]=r||null,this},s.prototype.remove=function(e){if(!o.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this},s.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},s.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)}},46588:(e,t,r)=>{"use strict";e.exports=u;var n,i=r(71999);((u.prototype=Object.create(i.prototype)).constructor=u).className="Field";var o=r(723),s=r(20003),a=r(38901),l=/^required|optional|repeated$/;function u(e,t,r,n,o,u,c){if(a.isObject(n)?(c=o,u=n,n=o=void 0):a.isObject(o)&&(c=u,u=o,o=void 0),i.call(this,e,u),!a.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!a.isString(r))throw TypeError("type must be a string");if(void 0!==n&&!l.test(n=n.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==o&&!a.isString(o))throw TypeError("extend must be a string");"proto3_optional"===n&&(n="optional"),this.rule=n&&"optional"!==n?n:void 0,this.type=r,this.id=t,this.extend=o||void 0,this.repeated="repeated"===n,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!a.Long&&void 0!==s.long[r],this.bytes="bytes"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=c}u.fromJSON=function(e,t){var r=new u(e,t.id,t.type,t.rule,t.extend,t.options,t.comment);return t.edition&&(r._edition=t.edition),r._defaultEdition="proto3",r},Object.defineProperty(u.prototype,"required",{get:function(){return"LEGACY_REQUIRED"===this._features.field_presence}}),Object.defineProperty(u.prototype,"optional",{get:function(){return!this.required}}),Object.defineProperty(u.prototype,"delimited",{get:function(){return this.resolvedType instanceof n&&"DELIMITED"===this._features.message_encoding}}),Object.defineProperty(u.prototype,"packed",{get:function(){return"PACKED"===this._features.repeated_field_encoding}}),Object.defineProperty(u.prototype,"hasPresence",{get:function(){return!this.repeated&&!this.map&&(this.partOf||this.declaringField||this.extensionField||"IMPLICIT"!==this._features.field_presence)}}),u.prototype.setOption=function(e,t,r){return i.prototype.setOption.call(this,e,t,r)},u.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return a.toObject(["edition",this._editionToJSON(),"rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},u.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=s.defaults[this.type])?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof n?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof o&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof o||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=a.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;a.base64.test(this.typeDefault)?a.base64.decode(this.typeDefault,e=a.newBuffer(a.base64.length(this.typeDefault)),0):a.utf8.write(this.typeDefault,e=a.newBuffer(a.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=a.emptyObject:this.repeated?this.defaultValue=a.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof n&&(this.parent.ctor.prototype[this.name]=this.defaultValue),i.prototype.resolve.call(this)},u.prototype._inferLegacyProtoFeatures=function(e){if("proto2"!==e&&"proto3"!==e)return{};var t={};if("required"===this.rule&&(t.field_presence="LEGACY_REQUIRED"),this.parent&&void 0===s.defaults[this.type]){var r=this.parent.get(this.type.split(".").pop());r&&r instanceof n&&r.group&&(t.message_encoding="DELIMITED")}return!0===this.getOption("packed")?t.repeated_field_encoding="PACKED":!1===this.getOption("packed")&&(t.repeated_field_encoding="EXPANDED"),t},u.prototype._resolveFeatures=function(e){return i.prototype._resolveFeatures.call(this,this._edition||e)},u.d=function(e,t,r,n){return"function"==typeof t?t=a.decorateType(t).name:t&&"object"==typeof t&&(t=a.decorateEnum(t).name),function(i,o){a.decorateType(i.constructor).add(new u(o,e,t,r,{default:n}))}},u._configure=function(e){n=e}},85266:(e,t,r)=>{"use strict";var n=e.exports=r(70477);function i(e,t,r){return"function"==typeof t?(r=t,t=new n.Root):t||(t=new n.Root),t.load(e,r)}function o(e,t){return t||(t=new n.Root),t.loadSync(e)}n.build="light",n.load=i,n.loadSync=o,n.encoder=r(80362),n.decoder=r(73187),n.verifier=r(96227),n.converter=r(9180),n.ReflectionObject=r(71999),n.Namespace=r(15175),n.Root=r(27605),n.Enum=r(723),n.Type=r(53307),n.Field=r(46588),n.OneOf=r(74555),n.MapField=r(83884),n.Service=r(43038),n.Method=r(98771),n.Message=r(57423),n.wrappers=r(18197),n.types=r(20003),n.util=r(38901),n.ReflectionObject._configure(n.Root),n.Namespace._configure(n.Type,n.Service,n.Enum),n.Root._configure(n.Type),n.Field._configure(n.Type)},70477:(e,t,r)=>{"use strict";var n=t;function i(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(83180),n.BufferWriter=r(22209),n.Reader=r(29965),n.BufferReader=r(84673),n.util=r(83408),n.rpc=r(27987),n.roots=r(15922),n.configure=i,i()},80463:(e,t,r)=>{"use strict";var n=e.exports=r(85266);n.build="full",n.tokenize=r(99143),n.parse=r(28120),n.common=r(66410),n.Root._configure(n.Type,n.parse,n.common)},83884:(e,t,r)=>{"use strict";e.exports=s;var n=r(46588);((s.prototype=Object.create(n.prototype)).constructor=s).className="MapField";var i=r(20003),o=r(38901);function s(e,t,r,i,s,a){if(n.call(this,e,t,i,void 0,void 0,s,a),!o.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}s.fromJSON=function(e,t){return new s(e,t.id,t.keyType,t.type,t.options,t.comment)},s.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return o.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},s.prototype.resolve=function(){if(this.resolved)return this;if(void 0===i.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return n.prototype.resolve.call(this)},s.d=function(e,t,r){return"function"==typeof r?r=o.decorateType(r).name:r&&"object"==typeof r&&(r=o.decorateEnum(r).name),function(n,i){o.decorateType(n.constructor).add(new s(i,e,t,r))}}},57423:(e,t,r)=>{"use strict";e.exports=i;var n=r(83408);function i(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)this[t[r]]=e[t[r]]}i.create=function(e){return this.$type.create(e)},i.encode=function(e,t){return this.$type.encode(e,t)},i.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},i.decode=function(e){return this.$type.decode(e)},i.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},i.verify=function(e){return this.$type.verify(e)},i.fromObject=function(e){return this.$type.fromObject(e)},i.toObject=function(e,t){return this.$type.toObject(e,t)},i.prototype.toJSON=function(){return this.$type.toObject(this,n.toJSONOptions)}},98771:(e,t,r)=>{"use strict";e.exports=o;var n=r(71999);((o.prototype=Object.create(n.prototype)).constructor=o).className="Method";var i=r(38901);function o(e,t,r,o,s,a,l,u,c){if(i.isObject(s)?(l=s,s=a=void 0):i.isObject(a)&&(l=a,a=void 0),!(void 0===t||i.isString(t)))throw TypeError("type must be a string");if(!i.isString(r))throw TypeError("requestType must be a string");if(!i.isString(o))throw TypeError("responseType must be a string");n.call(this,e,l),this.type=t||"rpc",this.requestType=r,this.requestStream=!!s||void 0,this.responseType=o,this.responseStream=!!a||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=u,this.parsedOptions=c}o.fromJSON=function(e,t){return new o(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},o.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return i.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},o.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),n.prototype.resolve.call(this))}},15175:(e,t,r)=>{"use strict";e.exports=d;var n,i,o,s=r(71999);((d.prototype=Object.create(s.prototype)).constructor=d).className="Namespace";var a=r(46588),l=r(38901),u=r(74555);function c(e,t){if(e&&e.length){for(var r={},n=0;n<e.length;++n)r[e[n].name]=e[n].toJSON(t);return r}}function d(e,t){s.call(this,e,t),this.nested=void 0,this._nestedArray=null,this._lookupCache={},this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0}function h(e){e._nestedArray=null,e._lookupCache={};for(var t=e;t=t.parent;)t._lookupCache={};return e}d.fromJSON=function(e,t){return new d(e,t.options).addJSON(t.nested)},d.arrayToJSON=c,d.isReservedId=function(e,t){if(e){for(var r=0;r<e.length;++r)if("string"!=typeof e[r]&&e[r][0]<=t&&e[r][1]>t)return!0}return!1},d.isReservedName=function(e,t){if(e){for(var r=0;r<e.length;++r)if(e[r]===t)return!0}return!1},Object.defineProperty(d.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=l.toArray(this.nested))}}),d.prototype.toJSON=function(e){return l.toObject(["options",this.options,"nested",c(this.nestedArray,e)])},d.prototype.addJSON=function(e){var t=this;if(e)for(var r,s=Object.keys(e),l=0;l<s.length;++l)r=e[s[l]],t.add((void 0!==r.fields?n.fromJSON:void 0!==r.values?o.fromJSON:void 0!==r.methods?i.fromJSON:void 0!==r.id?a.fromJSON:d.fromJSON)(s[l],r));return this},d.prototype.get=function(e){return this.nested&&this.nested[e]||null},d.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof o)return this.nested[e].values;throw Error("no such enum: "+e)},d.prototype.add=function(e){if(!(e instanceof a&&void 0!==e.extend||e instanceof n||e instanceof u||e instanceof o||e instanceof i||e instanceof d))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(t instanceof d&&e instanceof d&&!(t instanceof n||t instanceof i)){for(var r=t.nestedArray,s=0;s<r.length;++s)e.add(r[s]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}else throw Error("duplicate name '"+e.name+"' in "+this)}}else this.nested={};this.nested[e.name]=e,this instanceof n||this instanceof i||this instanceof o||this instanceof a||e._edition||(e._edition=e._defaultEdition),this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0;for(var l=this;l=l.parent;)l._needsRecursiveFeatureResolution=!0,l._needsRecursiveResolve=!0;return e.onAdd(this),h(this)},d.prototype.remove=function(e){if(!(e instanceof s))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),h(this)},d.prototype.define=function(e,t){if(l.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var r=this;e.length>0;){var n=e.shift();if(r.nested&&r.nested[n]){if(!((r=r.nested[n])instanceof d))throw Error("path conflicts with non-namespace objects")}else r.add(r=new d(n))}return t&&r.addJSON(t),r},d.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var e=this.nestedArray,t=0;for(this.resolve();t<e.length;)e[t]instanceof d?e[t++].resolveAll():e[t++].resolve();return this._needsRecursiveResolve=!1,this},d.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution&&(this._needsRecursiveFeatureResolution=!1,e=this._edition||e,s.prototype._resolveFeaturesRecursive.call(this,e),this.nestedArray.forEach(t=>{t._resolveFeaturesRecursive(e)})),this},d.prototype.lookup=function(e,t,r){if("boolean"==typeof t?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),l.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;var n=e.join(".");if(""===e[0])return this.root.lookup(e.slice(1),t);var i=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+n];if(i&&(!t||t.indexOf(i.constructor)>-1)||(i=this._lookupImpl(e,n))&&(!t||t.indexOf(i.constructor)>-1))return i;if(r)return null;for(var o=this;o.parent;){if((i=o.parent._lookupImpl(e,n))&&(!t||t.indexOf(i.constructor)>-1))return i;o=o.parent}return null},d.prototype._lookupImpl=function(e,t){if(Object.prototype.hasOwnProperty.call(this._lookupCache,t))return this._lookupCache[t];var r=this.get(e[0]),n=null;if(r)1===e.length?n=r:r instanceof d&&(e=e.slice(1),n=r._lookupImpl(e,e.join(".")));else for(var i=0;i<this.nestedArray.length;++i)this._nestedArray[i]instanceof d&&(r=this._nestedArray[i]._lookupImpl(e,t))&&(n=r);return this._lookupCache[t]=n,n},d.prototype.lookupType=function(e){var t=this.lookup(e,[n]);if(!t)throw Error("no such type: "+e);return t},d.prototype.lookupEnum=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},d.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[n,o]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},d.prototype.lookupService=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},d._configure=function(e,t,r){n=e,i=t,o=r}},71999:(e,t,r)=>{"use strict";e.exports=u,u.className="ReflectionObject";let n=r(74555);var i,o=r(38901),s={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"},a={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"},l={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function u(e,t){if(!o.isString(e))throw TypeError("name must be a string");if(t&&!o.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this._edition=null,this._defaultEdition="proto2",this._features={},this._featuresResolved=!1,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(u.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),u.prototype.toJSON=function(){throw Error()},u.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof i&&t._handleAdd(this)},u.prototype.onRemove=function(e){var t=e.root;t instanceof i&&t._handleRemove(this),this.parent=null,this.resolved=!1},u.prototype.resolve=function(){return this.resolved||this.root instanceof i&&(this.resolved=!0),this},u.prototype._resolveFeaturesRecursive=function(e){return this._resolveFeatures(this._edition||e)},u.prototype._resolveFeatures=function(e){if(!this._featuresResolved){var t={};if(!e)throw Error("Unknown edition for "+this.fullName);var r=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(e));if(this._edition){if("proto2"===e)t=Object.assign({},a);else if("proto3"===e)t=Object.assign({},l);else if("2023"===e)t=Object.assign({},s);else throw Error("Unknown edition: "+e);this._features=Object.assign(t,r||{}),this._featuresResolved=!0;return}if(this.partOf instanceof n){var i=Object.assign({},this.partOf._features);this._features=Object.assign(i,r||{})}else if(this.declaringField);else if(this.parent){var o=Object.assign({},this.parent._features);this._features=Object.assign(o,r||{})}else throw Error("Unable to find a parent for "+this.fullName);this.extensionField&&(this.extensionField._features=this._features),this._featuresResolved=!0}},u.prototype._inferLegacyProtoFeatures=function(){return{}},u.prototype.getOption=function(e){if(this.options)return this.options[e]},u.prototype.setOption=function(e,t,r){return this.options||(this.options={}),/^features\./.test(e)?o.setProperty(this.options,e,t,r):r&&void 0!==this.options[e]||(this.getOption(e)!==t&&(this.resolved=!1),this.options[e]=t),this},u.prototype.setParsedOption=function(e,t,r){this.parsedOptions||(this.parsedOptions=[]);var n=this.parsedOptions;if(r){var i=n.find(function(t){return Object.prototype.hasOwnProperty.call(t,e)});if(i){var s=i[e];o.setProperty(s,r,t)}else(i={})[e]=o.setProperty({},r,t),n.push(i)}else{var a={};a[e]=t,n.push(a)}return this},u.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)this.setOption(r[n],e[r[n]],t);return this},u.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},u.prototype._editionToJSON=function(){if(this._edition&&"proto3"!==this._edition)return this._edition},u._configure=function(e){i=e}},74555:(e,t,r)=>{"use strict";e.exports=s;var n=r(71999);((s.prototype=Object.create(n.prototype)).constructor=s).className="OneOf";var i=r(46588),o=r(38901);function s(e,t,r,i){if(Array.isArray(t)||(r=t,t=void 0),n.call(this,e,r),!(void 0===t||Array.isArray(t)))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=i}function a(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}s.fromJSON=function(e,t){return new s(e,t.oneof,t.options,t.comment)},s.prototype.toJSON=function(e){var t=!!e&&!!e.keepComments;return o.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},s.prototype.add=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,a(this),this},s.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},s.prototype.onAdd=function(e){n.prototype.onAdd.call(this,e);for(var t=this,r=0;r<this.oneof.length;++r){var i=e.get(this.oneof[r]);i&&!i.partOf&&(i.partOf=t,t.fieldsArray.push(i))}a(this)},s.prototype.onRemove=function(e){for(var t,r=0;r<this.fieldsArray.length;++r)(t=this.fieldsArray[r]).parent&&t.parent.remove(t);n.prototype.onRemove.call(this,e)},Object.defineProperty(s.prototype,"isProto3Optional",{get:function(){if(null==this.fieldsArray||1!==this.fieldsArray.length)return!1;var e=this.fieldsArray[0];return null!=e.options&&!0===e.options.proto3_optional}}),s.d=function(){for(var e=Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,r){o.decorateType(t.constructor).add(new s(r,e)),Object.defineProperty(t,r,{get:o.oneOfGetter(e),set:o.oneOfSetter(e)})}}},28120:(e,t,r)=>{"use strict";e.exports=A,A.filename=null,A.defaults={keepCase:!1};var n=r(99143),i=r(27605),o=r(53307),s=r(46588),a=r(83884),l=r(74555),u=r(723),c=r(43038),d=r(98771),h=r(71999),p=r(20003),f=r(38901),m=/^[1-9][0-9]*$/,g=/^-?[1-9][0-9]*$/,y=/^0[x][0-9a-fA-F]+$/,v=/^-?0[x][0-9a-fA-F]+$/,b=/^0[0-7]+$/,E=/^-?0[0-7]+$/,S=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,_=/^[a-zA-Z_][a-zA-Z_0-9]*$/,T=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function A(e,t,r){t instanceof i||(r=t,t=new i),r||(r=A.defaults);var C,w,O,R,x=r.preferTrailingComment||!1,I=n(e,r.alternateCommentMode||!1),D=I.next,P=I.push,N=I.peek,k=I.skip,M=I.cmnt,L=!0,B="proto2",j=t,F=[],U={},V=r.keepCase?function(e){return e}:f.camelCase;function z(){F.forEach(e=>{e._edition=B,Object.keys(U).forEach(t=>{void 0===e.getOption(t)&&e.setOption(t,U[t],!0)})})}function G(e,t,r){var n=A.filename;return r||(A.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(n?n+", ":"")+"line "+I.line+")")}function $(){var e,t=[];do{if('"'!==(e=D())&&"'"!==e)throw G(e);t.push(D()),k(e),e=N()}while('"'===e||"'"===e);return t.join("")}function H(e){var t=D();switch(t){case"'":case'"':return P(t),$();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return W(t,!0)}catch(r){if(e&&T.test(t))return t;throw G(t,"value")}}function q(e,t){do if(t&&('"'===(r=N())||"'"===r)){var r,n,i=$();if(e.push(i),B>=2023)throw G(i,"id")}else try{e.push([n=K(D()),k("to",!0)?K(D()):n])}catch(n){if(t&&T.test(r)&&B>=2023)e.push(r);else throw n}while(k(",",!0));var o={options:void 0};o.setOption=function(e,t){void 0===this.options&&(this.options={}),this.options[e]=t},ee(o,function(e){if("option"===e)el(o,e),k(";");else throw G(e)},function(){eh(o)})}function W(e,t){var r=1;switch("-"===e.charAt(0)&&(r=-1,e=e.substring(1)),e){case"inf":case"INF":case"Inf":return 1/0*r;case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(m.test(e))return r*parseInt(e,10);if(y.test(e))return r*parseInt(e,16);if(b.test(e))return r*parseInt(e,8);if(S.test(e))return r*parseFloat(e);throw G(e,"number",t)}function K(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw G(e,"id");if(g.test(e))return parseInt(e,10);if(v.test(e))return parseInt(e,16);if(E.test(e))return parseInt(e,8);throw G(e,"id")}function Y(){if(void 0!==w)throw G("package");if(w=D(),!T.test(w))throw G(w,"name");j=j.define(w),k(";")}function Z(){var e,t=N();switch(t){case"weak":e=R||(R=[]),D();break;case"public":D();default:e=O||(O=[])}t=$(),k(";"),e.push(t)}function J(){if(k("="),(B=$())<2023)throw G(B,"syntax");k(";")}function Q(){if(k("="),!["2023"].includes(B=$()))throw G(B,"edition");k(";")}function X(e,t){switch(t){case"option":return el(e,t),k(";"),!0;case"message":return et(e,t),!0;case"enum":return es(e,t),!0;case"service":return ep(e,t),!0;case"extend":return em(e,t),!0}return!1}function ee(e,t,r){var n,i=I.line;if(e&&("string"!=typeof e.comment&&(e.comment=M()),e.filename=A.filename),k("{",!0)){for(;"}"!==(n=D());)t(n);k(";",!0)}else r&&r(),k(";"),e&&("string"!=typeof e.comment||x)&&(e.comment=M(i)||e.comment)}function et(e,t){if(!_.test(t=D()))throw G(t,"type name");var r=new o(t);ee(r,function(e){if(!X(r,e))switch(e){case"map":ei(r,e);break;case"required":if("proto2"!==B)throw G(e);case"repeated":er(r,e);break;case"optional":if("proto3"===B)er(r,"proto3_optional");else if("proto2"!==B)throw G(e);else er(r,"optional");break;case"oneof":eo(r,e);break;case"extensions":q(r.extensions||(r.extensions=[]));break;case"reserved":q(r.reserved||(r.reserved=[]),!0);break;default:if("proto2"===B||!T.test(e))throw G(e);P(e),er(r,"optional")}}),e.add(r),e===j&&F.push(r)}function er(e,t,r){var n=D();if("group"===n){en(e,t);return}for(;n.endsWith(".")||N().startsWith(".");)n+=D();if(!T.test(n))throw G(n,"type");var i=D();if(!_.test(i))throw G(i,"name");i=V(i),k("=");var o=new s(i,K(D()),n,t,r);if(ee(o,function(e){if("option"===e)el(o,e),k(";");else throw G(e)},function(){eh(o)}),"proto3_optional"===t){var a=new l("_"+i);o.setOption("proto3_optional",!0),a.add(o),e.add(a)}else e.add(o);e===j&&F.push(o)}function en(e,t){if(B>=2023)throw G("group");var r=D();if(!_.test(r))throw G(r,"name");var n=f.lcFirst(r);r===n&&(r=f.ucFirst(r)),k("=");var i=K(D()),a=new o(r);a.group=!0;var l=new s(n,i,r,t);l.filename=A.filename,ee(a,function(e){switch(e){case"option":el(a,e),k(";");break;case"required":case"repeated":er(a,e);break;case"optional":"proto3"===B?er(a,"proto3_optional"):er(a,"optional");break;case"message":et(a,e);break;case"enum":es(a,e);break;case"reserved":q(a.reserved||(a.reserved=[]),!0);break;default:throw G(e)}}),e.add(a).add(l)}function ei(e){k("<");var t=D();if(void 0===p.mapKey[t])throw G(t,"type");k(",");var r=D();if(!T.test(r))throw G(r,"type");k(">");var n=D();if(!_.test(n))throw G(n,"name");k("=");var i=new a(V(n),K(D()),t,r);ee(i,function(e){if("option"===e)el(i,e),k(";");else throw G(e)},function(){eh(i)}),e.add(i)}function eo(e,t){if(!_.test(t=D()))throw G(t,"name");var r=new l(V(t));ee(r,function(e){"option"===e?(el(r,e),k(";")):(P(e),er(r,"optional"))}),e.add(r)}function es(e,t){if(!_.test(t=D()))throw G(t,"name");var r=new u(t);ee(r,function(e){switch(e){case"option":el(r,e),k(";");break;case"reserved":q(r.reserved||(r.reserved=[]),!0),void 0===r.reserved&&(r.reserved=[]);break;default:ea(r,e)}}),e.add(r),e===j&&F.push(r)}function ea(e,t){if(!_.test(t))throw G(t,"name");k("=");var r=K(D(),!0),n={options:void 0};n.getOption=function(e){return this.options[e]},n.setOption=function(e,t){h.prototype.setOption.call(n,e,t)},n.setParsedOption=function(){},ee(n,function(e){if("option"===e)el(n,e),k(";");else throw G(e)},function(){eh(n)}),e.add(t,r,n.comment,n.parsedOptions||n.options)}function el(e,t){var r,n,i=!0;for("option"===t&&(t=D());"="!==t;){if("("===t){var o=D();k(")"),t="("+o+")"}if(i){if(i=!1,t.includes(".")&&!t.includes("(")){var s=t.split(".");r=s[0]+".",t=s[1];continue}r=t}else n=n?n+=t:t;t=D()}var a=eu(e,n?r.concat(n):r);n=n&&"."===n[0]?n.slice(1):n,ed(e,r=r&&"."===r[r.length-1]?r.slice(0,-1):r,a,n)}function eu(e,t){if(k("{",!0)){for(var r={};!k("}",!0);){if(!_.test(C=D()))throw G(C,"name");if(null===C)throw G(C,"end of input");var n,i,o=C;if(k(":",!0),"{"===N())n=eu(e,t+"."+C);else if("["===N()){if(n=[],k("[",!0)){do i=H(!0),n.push(i);while(k(",",!0));k("]"),void 0!==i&&ec(e,t+"."+C,i)}}else n=H(!0),ec(e,t+"."+C,n);var s=r[o];s&&(n=[].concat(s).concat(n)),r[o]=n,k(",",!0),k(";",!0)}return r}var a=H(!0);return ec(e,t,a),a}function ec(e,t,r){if(j===e&&/^features\./.test(t)){U[t]=r;return}e.setOption&&e.setOption(t,r)}function ed(e,t,r,n){e.setParsedOption&&e.setParsedOption(t,r,n)}function eh(e){if(k("[",!0)){do el(e,"option");while(k(",",!0));k("]")}return e}function ep(e,t){if(!_.test(t=D()))throw G(t,"service name");var r=new c(t);ee(r,function(e){if(!X(r,e)){if("rpc"===e)ef(r,e);else throw G(e)}}),e.add(r),e===j&&F.push(r)}function ef(e,t){var r=M(),n=t;if(!_.test(t=D()))throw G(t,"name");var i,o,s,a,l=t;if(k("("),k("stream",!0)&&(o=!0),!T.test(t=D())||(i=t,k(")"),k("returns"),k("("),k("stream",!0)&&(a=!0),!T.test(t=D())))throw G(t);s=t,k(")");var u=new d(l,n,i,s,o,a);u.comment=r,ee(u,function(e){if("option"===e)el(u,e),k(";");else throw G(e)}),e.add(u)}function em(e,t){if(!T.test(t=D()))throw G(t,"reference");var r=t;ee(null,function(t){switch(t){case"required":case"repeated":er(e,t,r);break;case"optional":"proto3"===B?er(e,"proto3_optional",r):er(e,"optional",r);break;default:if("proto2"===B||!T.test(t))throw G(t);P(t),er(e,"optional",r)}})}for(;null!==(C=D());)switch(C){case"package":if(!L)throw G(C);Y();break;case"import":if(!L)throw G(C);Z();break;case"syntax":if(!L)throw G(C);J();break;case"edition":if(!L)throw G(C);Q();break;case"option":el(j,C),k(";",!0);break;default:if(X(j,C)){L=!1;continue}throw G(C)}return z(),A.filename=null,{package:w,imports:O,weakImports:R,root:t}}},29965:(e,t,r)=>{"use strict";e.exports=l;var n,i=r(83408),o=i.LongBits,s=i.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function l(e){this.buf=e,this.pos=0,this.len=e.length}var u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new l(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new l(e);throw Error("illegal buffer")},c=function(){return i.Buffer?function(e){return(l.create=function(e){return i.Buffer.isBuffer(e)?new n(e):u(e)})(e)}:u};function d(){var e=new o(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw a(this,8);return new o(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}l.create=c(),l.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,l.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return e}}(),l.prototype.int32=function(){return 0|this.uint32()},l.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},l.prototype.bool=function(){return 0!==this.uint32()},l.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return h(this.buf,this.pos+=4)},l.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|h(this.buf,this.pos+=4)},l.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},l.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},l.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,r);if(t===r){var n=i.Buffer;return n?n.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,r)},l.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},l.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do if(this.pos>=this.len)throw a(this);while(128&this.buf[this.pos++]);return this},l.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},l._configure=function(e){n=e,l.create=c(),n._configure();var t=i.Long?"toLong":"toNumber";i.merge(l.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return p.call(this)[t](!0)},sfixed64:function(){return p.call(this)[t](!1)}})}},84673:(e,t,r)=>{"use strict";e.exports=o;var n=r(29965);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(83408);function o(e){n.call(this,e)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},27605:(e,t,r)=>{"use strict";e.exports=d;var n,i,o,s=r(15175);((d.prototype=Object.create(s.prototype)).constructor=d).className="Root";var a=r(46588),l=r(723),u=r(74555),c=r(38901);function d(e){s.call(this,"",e),this.deferred=[],this.files=[],this._edition="proto2",this._fullyQualifiedObjects={}}function h(){}d.fromJSON=function(e,t){return t||(t=new d),e.options&&t.setOptions(e.options),t.addJSON(e.nested).resolveAll()},d.prototype.resolvePath=c.path.resolve,d.prototype.fetch=c.fetch,d.prototype.load=function e(t,r,n){"function"==typeof r&&(n=r,r=void 0);var s=this;if(!n)return c.asPromise(e,s,t,r);var a=n===h;function l(e,t){if(n){if(a)throw e;t&&t.resolveAll();var r=n;n=null,r(e,t)}}function u(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var r=e.substring(t);if(r in o)return r}return null}function d(e,t){try{if(c.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),c.isString(t)){i.filename=e;var n,o=i(t,s,r),d=0;if(o.imports)for(;d<o.imports.length;++d)(n=u(o.imports[d])||s.resolvePath(e,o.imports[d]))&&p(n);if(o.weakImports)for(d=0;d<o.weakImports.length;++d)(n=u(o.weakImports[d])||s.resolvePath(e,o.weakImports[d]))&&p(n,!0)}else s.setOptions(t.options).addJSON(t.nested)}catch(e){l(e)}a||f||l(null,s)}function p(e,t){if(e=u(e)||e,!(s.files.indexOf(e)>-1)){if(s.files.push(e),e in o){a?d(e,o[e]):(++f,setTimeout(function(){--f,d(e,o[e])}));return}if(a){var r;try{r=c.fs.readFileSync(e).toString("utf8")}catch(e){t||l(e);return}d(e,r)}else++f,s.fetch(e,function(r,i){if(--f,n){if(r){t?f||l(null,s):l(r);return}d(e,i)}})}}var f=0;c.isString(t)&&(t=[t]);for(var m,g=0;g<t.length;++g)(m=s.resolvePath("",t[g]))&&p(m);return a?s.resolveAll():f||l(null,s),s},d.prototype.loadSync=function(e,t){if(!c.isNode)throw Error("not supported");return this.load(e,t,h)},d.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return s.prototype.resolveAll.call(this)};var p=/^[A-Z]/;function f(e,t){var r=t.parent.lookup(t.extend);if(r){var n=new a(t.fullName,t.id,t.type,t.rule,void 0,t.options);return!!r.get(n.name)||(n.declaringField=t,t.extensionField=n,r.add(n),!0)}return!1}d.prototype._handleAdd=function(e){if(e instanceof a)void 0===e.extend||e.extensionField||f(this,e)||this.deferred.push(e);else if(e instanceof l)p.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof u)){if(e instanceof n)for(var t=0;t<this.deferred.length;)f(this,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);p.test(e.name)&&(e.parent[e.name]=e)}(e instanceof n||e instanceof l||e instanceof a)&&(this._fullyQualifiedObjects[e.fullName]=e)},d.prototype._handleRemove=function(e){if(e instanceof a){if(void 0!==e.extend){if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}}else if(e instanceof l)p.test(e.name)&&delete e.parent[e.name];else if(e instanceof s){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);p.test(e.name)&&delete e.parent[e.name]}delete this._fullyQualifiedObjects[e.fullName]},d._configure=function(e,t,r){n=e,i=t,o=r}},15922:e=>{"use strict";e.exports={}},27987:(e,t,r)=>{"use strict";t.Service=r(930)},930:(e,t,r)=>{"use strict";e.exports=i;var n=r(83408);function i(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!r}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return n.asPromise(e,a,t,r,i,o);if(!a.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(e,r){if(e)return a.emit("error",e,t),s(e);if(null===r){a.end(!0);return}if(!(r instanceof i))try{r=i[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",r,t),s(null,r)})}catch(e){a.emit("error",e,t),setTimeout(function(){s(e)},0);return}},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},43038:(e,t,r)=>{"use strict";e.exports=a;var n=r(15175);((a.prototype=Object.create(n.prototype)).constructor=a).className="Service";var i=r(98771),o=r(38901),s=r(27987);function a(e,t){n.call(this,e,t),this.methods={},this._methodsArray=null}function l(e){return e._methodsArray=null,e}a.fromJSON=function(e,t){var r=new a(e,t.options);if(t.methods)for(var n=Object.keys(t.methods),o=0;o<n.length;++o)r.add(i.fromJSON(n[o],t.methods[n[o]]));return t.nested&&r.addJSON(t.nested),t.edition&&(r._edition=t.edition),r.comment=t.comment,r._defaultEdition="proto3",r},a.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&!!e.keepComments;return o.toObject(["edition",this._editionToJSON(),"options",t&&t.options||void 0,"methods",n.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},Object.defineProperty(a.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=o.toArray(this.methods))}}),a.prototype.get=function(e){return this.methods[e]||n.prototype.get.call(this,e)},a.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;n.prototype.resolve.call(this);for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return this},a.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution&&(e=this._edition||e,n.prototype._resolveFeaturesRecursive.call(this,e),this.methodsArray.forEach(t=>{t._resolveFeaturesRecursive(e)})),this},a.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof i?(this.methods[e.name]=e,e.parent=this,l(this)):n.prototype.add.call(this,e)},a.prototype.remove=function(e){if(e instanceof i){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,l(this)}return n.prototype.remove.call(this,e)},a.prototype.create=function(e,t,r){for(var n,i=new s.Service(e,t,r),a=0;a<this.methodsArray.length;++a){var l=o.lcFirst((n=this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g,"");i[l]=o.codegen(["r","c"],o.isReserved(l)?l+"_":l)("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return i}},99143:e=>{"use strict";e.exports=d;var t=/[\s{}=;:[\],'"()<>]/g,r=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,n=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,i=/^ *[*/]+ */,o=/^\s*\*?\/*/,s=/\n/g,a=/\s/,l=/\\(.?)/g,u={0:"\0",r:"\r",n:"\n",t:"	"};function c(e){return e.replace(l,function(e,t){switch(t){case"\\":case"":return t;default:return u[t]||""}})}function d(e,l){e=e.toString();var u=0,d=e.length,h=1,p=0,f={},m=[],g=null;function y(e){return Error("illegal "+e+" (line "+h+")")}function v(){var t="'"===g?n:r;t.lastIndex=u-1;var i=t.exec(e);if(!i)throw y("string");return u=t.lastIndex,A(g),g=null,c(i[1])}function b(t){return e.charAt(t)}function E(t,r,n){var a,u,c={type:e.charAt(t++),lineEmpty:!1,leading:n},d=t-(a=l?2:3);do if(--d<0||"\n"===(u=e.charAt(d))){c.lineEmpty=!0;break}while(" "===u||"	"===u);for(var m=e.substring(t,r).split(s),g=0;g<m.length;++g)m[g]=m[g].replace(l?o:i,"").trim();c.text=m.join("\n").trim(),f[h]=c,p=h}function S(t){var r=_(t),n=e.substring(t,r);return/^\s*\/\//.test(n)}function _(e){for(var t=e;t<d&&"\n"!==b(t);)t++;return t}function T(){if(m.length>0)return m.shift();if(g)return v();var r,n,i,o,s,c=0===u;do{if(u===d)return null;for(r=!1;a.test(i=b(u));)if("\n"===i&&(c=!0,++h),++u===d)return null;if("/"===b(u)){if(++u===d)throw y("comment");if("/"===b(u)){if(l){if(o=u,s=!1,S(u-1)){s=!0;do if((u=_(u))===d||(u++,!c))break;while(S(u))}else u=Math.min(d,_(u)+1);s&&(E(o,u,c),c=!0),h++,r=!0}else{for(s="/"===b(o=u+1);"\n"!==b(++u);)if(u===d)return null;++u,s&&(E(o,u-1,c),c=!0),++h,r=!0}}else{if("*"!==(i=b(u)))return"/";o=u+1,s=l||"*"===b(o);do{if("\n"===i&&++h,++u===d)throw y("comment");n=i,i=b(u)}while("*"!==n||"/"!==i);++u,s&&(E(o,u-2,c),c=!0),r=!0}}}while(r);var p=u;if(t.lastIndex=0,!t.test(b(p++)))for(;p<d&&!t.test(b(p));)++p;var f=e.substring(u,u=p);return('"'===f||"'"===f)&&(g=f),f}function A(e){m.push(e)}function C(){if(!m.length){var e=T();if(null===e)return null;A(e)}return m[0]}function w(e,t){var r=C();if(r===e)return T(),!0;if(!t)throw y("token '"+r+"', '"+e+"' expected");return!1}function O(e){var t,r=null;return void 0===e?(t=f[h-1],delete f[h-1],t&&(l||"*"===t.type||t.lineEmpty)&&(r=t.leading?t.text:null)):(p<e&&C(),t=f[e],delete f[e],t&&!t.lineEmpty&&(l||"/"===t.type)&&(r=t.leading?null:t.text)),r}return Object.defineProperty({next:T,peek:C,push:A,skip:w,cmnt:O},"line",{get:function(){return h}})}d.unescape=c},53307:(e,t,r)=>{"use strict";e.exports=v;var n=r(15175);((v.prototype=Object.create(n.prototype)).constructor=v).className="Type";var i=r(723),o=r(74555),s=r(46588),a=r(83884),l=r(43038),u=r(57423),c=r(29965),d=r(83180),h=r(38901),p=r(80362),f=r(73187),m=r(96227),g=r(9180),y=r(18197);function v(e,t){n.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function b(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(v.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],n=r.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=h.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=h.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=v.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof u||((e.prototype=new u).constructor=e,h.merge(e.prototype,t)),e.$type=e.prototype.$type=this,h.merge(e,u,!0),this._ctor=e;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var n={};for(r=0;r<this.oneofsArray.length;++r)n[this._oneofsArray[r].resolve().name]={get:h.oneOfGetter(this._oneofsArray[r].oneof),set:h.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(e.prototype,n)}}}),v.generateConstructor=function(e){for(var t,r=h.codegen(["p"],e.name),n=0;n<e.fieldsArray.length;++n)(t=e._fieldsArray[n]).map?r("this%s={}",h.safeProp(t.name)):t.repeated&&r("this%s=[]",h.safeProp(t.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},v.fromJSON=function(e,t){var r=new v(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var u=Object.keys(t.fields),c=0;c<u.length;++c)r.add((void 0!==t.fields[u[c]].keyType?a.fromJSON:s.fromJSON)(u[c],t.fields[u[c]]));if(t.oneofs)for(u=Object.keys(t.oneofs),c=0;c<u.length;++c)r.add(o.fromJSON(u[c],t.oneofs[u[c]]));if(t.nested)for(u=Object.keys(t.nested),c=0;c<u.length;++c){var d=t.nested[u[c]];r.add((void 0!==d.id?s.fromJSON:void 0!==d.fields?v.fromJSON:void 0!==d.values?i.fromJSON:void 0!==d.methods?l.fromJSON:n.fromJSON)(u[c],d))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),t.edition&&(r._edition=t.edition),r._defaultEdition="proto3",r},v.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&!!e.keepComments;return h.toObject(["edition",this._editionToJSON(),"options",t&&t.options||void 0,"oneofs",n.arrayToJSON(this.oneofsArray,e),"fields",n.arrayToJSON(this.fieldsArray.filter(function(e){return!e.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},v.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;n.prototype.resolveAll.call(this);var e=this.oneofsArray;for(r=0;r<e.length;)e[r++].resolve();for(var t=this.fieldsArray,r=0;r<t.length;)t[r++].resolve();return this},v.prototype._resolveFeaturesRecursive=function(e){return this._needsRecursiveFeatureResolution&&(e=this._edition||e,n.prototype._resolveFeaturesRecursive.call(this,e),this.oneofsArray.forEach(t=>{t._resolveFeatures(e)}),this.fieldsArray.forEach(t=>{t._resolveFeatures(e)})),this},v.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},v.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof s&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),b(this)}return e instanceof o?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),b(this)):n.prototype.add.call(this,e)},v.prototype.remove=function(e){if(e instanceof s&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),b(this)}if(e instanceof o){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),b(this)}return n.prototype.remove.call(this,e)},v.prototype.isReservedId=function(e){return n.isReservedId(this.reserved,e)},v.prototype.isReservedName=function(e){return n.isReservedName(this.reserved,e)},v.prototype.create=function(e){return new this.ctor(e)},v.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=p(this)({Writer:d,types:t,util:h}),this.decode=f(this)({Reader:c,types:t,util:h}),this.verify=m(this)({types:t,util:h}),this.fromObject=g.fromObject(this)({types:t,util:h}),this.toObject=g.toObject(this)({types:t,util:h});var n=y[e];if(n){var i=Object.create(this);i.fromObject=this.fromObject,this.fromObject=n.fromObject.bind(i),i.toObject=this.toObject,this.toObject=n.toObject.bind(i)}return this},v.prototype.encode=function(e,t){return this.setup().encode(e,t)},v.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},v.prototype.decode=function(e,t){return this.setup().decode(e,t)},v.prototype.decodeDelimited=function(e){return e instanceof c||(e=c.create(e)),this.decode(e,e.uint32())},v.prototype.verify=function(e){return this.setup().verify(e)},v.prototype.fromObject=function(e){return this.setup().fromObject(e)},v.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},v.d=function(e){return function(t){h.decorateType(t,e)}}},20003:(e,t,r)=>{"use strict";var n=t,i=r(38901),o=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function s(e,t){var r=0,n={};for(t|=0;r<e.length;)n[o[r+t]]=e[r++];return n}n.basic=s([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=s([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",i.emptyArray,null]),n.long=s([0,0,0,1,1],7),n.mapKey=s([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=s([1,5,0,0,0,5,5,0,0,0,1,1,0])},38901:(e,t,r)=>{"use strict";var n,i,o=e.exports=r(83408),s=r(15922);o.codegen=r(31948),o.fetch=r(50474),o.path=r(97602),o.fs=o.inquire("fs"),o.toArray=function(e){if(e){for(var t=Object.keys(e),r=Array(t.length),n=0;n<t.length;)r[n]=e[t[n++]];return r}return[]},o.toObject=function(e){for(var t={},r=0;r<e.length;){var n=e[r++],i=e[r++];void 0!==i&&(t[n]=i)}return t};var a=/\\/g,l=/"/g;o.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},o.safeProp=function(e){return!/^[$\w_]+$/.test(e)||o.isReserved(e)?'["'+e.replace(a,"\\\\").replace(l,'\\"')+'"]':"."+e},o.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var u=/_([a-z])/g;o.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(u,function(e,t){return t.toUpperCase()})},o.compareFieldsById=function(e,t){return e.id-t.id},o.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(o.decorateRoot.remove(e.$type),e.$type.name=t,o.decorateRoot.add(e.$type)),e.$type;n||(n=r(53307));var i=new n(t||e.name);return o.decorateRoot.add(i),i.ctor=e,Object.defineProperty(e,"$type",{value:i,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:i,enumerable:!1}),i};var c=0;o.decorateEnum=function(e){if(e.$type)return e.$type;i||(i=r(723));var t=new i("Enum"+c++,e);return o.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},o.setProperty=function(e,t,r,n){function i(e,t,r){var o=t.shift();if("__proto__"===o||"prototype"===o)return e;if(t.length>0)e[o]=i(e[o]||{},t,r);else{var s=e[o];if(s&&n)return e;s&&(r=[].concat(s).concat(r)),e[o]=r}return e}if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return i(e,t=t.split("."),r)},Object.defineProperty(o,"decorateRoot",{get:function(){return s.decorated||(s.decorated=new(r(27605)))}})},14654:(e,t,r)=>{"use strict";e.exports=i;var n=r(83408);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var s=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new i(r,n)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(n.isString(e)){if(!n.Long)return i.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,!!e):{low:0|this.lo,high:0|this.hi,unsigned:!!e}};var a=String.prototype.charCodeAt;i.fromHash=function(e){return e===s?o:new i((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},83408:function(e,t,r){"use strict";var n=t;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function o(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack||""}),r&&i(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.asPromise=r(3381),n.base64=r(17938),n.EventEmitter=r(9201),n.float=r(59014),n.inquire=r(18448),n.utf8=r(4795),n.pool=r(39781),n.LongBits=r(14654),n.isNode=!!("undefined"!=typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),n.global=n.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!!(null!=r&&e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(!!t)},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;if(!e){n._Buffer_from=n._Buffer_allocUnsafe=null;return}n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}}},96227:(e,t,r)=>{"use strict";e.exports=l;var n=r(723),i=r(38901);function o(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function s(e,t,r,i){if(t.resolvedType){if(t.resolvedType instanceof n){e("switch(%s){",i)("default:")("return%j",o(t,"enum value"));for(var s=Object.keys(t.resolvedType.values),a=0;a<s.length;++a)e("case %i:",t.resolvedType.values[s[a]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",r,i)("if(e)")("return%j+e",t.name+".")("}")}else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",o(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",o(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',i)("return%j",o(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',i)("return%j",o(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",o(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",o(t,"buffer"))}return e}function a(e,t,r){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",r)("return%j",o(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",r)("return%j",o(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",r)("return%j",o(t,"boolean key"))}return e}function l(e){var t=i.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r=e.oneofsArray,n={};r.length&&t("var p={}");for(var l=0;l<e.fieldsArray.length;++l){var u=e._fieldsArray[l].resolve(),c="m"+i.safeProp(u.name);if(u.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",c,u.name),u.map)t("if(!util.isObject(%s))",c)("return%j",o(u,"object"))("var k=Object.keys(%s)",c)("for(var i=0;i<k.length;++i){"),a(t,u,"k[i]"),s(t,u,l,c+"[k[i]]")("}");else if(u.repeated)t("if(!Array.isArray(%s))",c)("return%j",o(u,"array"))("for(var i=0;i<%s.length;++i){",c),s(t,u,l,c+"[i]")("}");else{if(u.partOf){var d=i.safeProp(u.partOf.name);1===n[u.partOf.name]&&t("if(p%s===1)",d)("return%j",u.partOf.name+": multiple values"),n[u.partOf.name]=1,t("p%s=1",d)}s(t,u,l,c)}u.optional&&t("}")}return t("return null")}},18197:(e,t,r)=>{"use strict";var n=t,i=r(57423);n[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),r=this.lookup(t);if(r){var n="."===e["@type"].charAt(0)?e["@type"].slice(1):e["@type"];return -1===n.indexOf("/")&&(n="/"+n),this.create({type_url:n,value:r.encode(r.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var r="type.googleapis.com/",n="",o="";if(t&&t.json&&e.type_url&&e.value){o=e.type_url.substring(e.type_url.lastIndexOf("/")+1),n=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var s=this.lookup(o);s&&(e=s.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof i){var a=e.$type.toObject(e,t),l="."===e.$type.fullName[0]?e.$type.fullName.slice(1):e.$type.fullName;return""===n&&(n=r),o=n+l,a["@type"]=o,a}return this.toObject(e,t)}}},83180:(e,t,r)=>{"use strict";e.exports=d;var n,i=r(83408),o=i.LongBits,s=i.base64,a=i.utf8;function l(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function u(){}function c(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new l(u,0,0),this.tail=this.head,this.states=null}var h=function(){return i.Buffer?function(){return(d.create=function(){return new n})()}:function(){return new d}};function p(e,t,r){t[r]=255&e}function f(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e}function m(e,t){this.len=e,this.next=void 0,this.val=t}function g(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function y(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}d.create=h(),d.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(d.alloc=i.pool(d.alloc,i.Array.prototype.subarray)),d.prototype._push=function(e,t,r){return this.tail=this.tail.next=new l(e,t,r),this.len+=t,this},m.prototype=Object.create(l.prototype),m.prototype.fn=f,d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new m((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(g,10,o.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=o.from(e);return this._push(g,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(g,t.length(),t)},d.prototype.bool=function(e){return this._push(p,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(y,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=o.from(e);return this._push(y,4,t.lo)._push(y,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var v=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(i.isString(e)){var r=d.alloc(t=s.length(e));s.decode(e,r,0),e=r}return this.uint32(t)._push(v,t,e)},d.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(p,1,0)},d.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new l(u,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(u,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},d._configure=function(e){n=e,d.create=h(),n._configure()}},22209:(e,t,r)=>{"use strict";e.exports=o;var n=r(83180);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(83408);function o(){n.call(this)}function s(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},o._configure()},92785:(e,t,r)=>{"use strict";let n,i,o;let s=r(71017),a=r(98188),l=r(68268)("require-in-the-middle"),u=r(71182);if(e.exports=p,e.exports.Hook=p,a.isBuiltin)i=a.isBuiltin;else if(a.builtinModules)i=e=>!!e.startsWith("node:")||(void 0===n&&(n=new Set(a.builtinModules)),n.has(e));else{let e=r(96309),[t,n]=process.versions.node.split(".").map(Number);i=8===t&&n<8?t=>"http2"===t||!!e.core[t]:t=>!!e.core[t]}function c(e,t){if(!o){if(r(44127).resolve.paths)o=function(e,t){return r(44127).resolve(e,{paths:[t]})};else{let e=r(96309);o=function(t,r){return e.sync(t,{basedir:r})}}}return o(e,t)}let d=/([/\\]index)?(\.js)?$/;class h{constructor(){this._localCache=new Map,this._kRitmExports=Symbol("RitmExports")}has(e,t){if(this._localCache.has(e))return!0;if(t)return!1;{let t=r.c[e];return!!(t&&this._kRitmExports in t)}}get(e,t){let n=this._localCache.get(e);if(void 0!==n)return n;if(!t){let t=r.c[e];return t&&t[this._kRitmExports]}}set(e,t,n){n?this._localCache.set(e,t):e in r.c?r.c[e][this._kRitmExports]=t:(l('non-core module is unexpectedly not in require.cache: "%s"',e),this._localCache.set(e,t))}}function p(e,t,n){if(this instanceof p==!1)return new p(e,t,n);if("function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),"function"!=typeof a._resolveFilename){console.error("Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!",typeof a._resolveFilename),console.error("Please report this error as an issue related to Node.js %s at %s",process.version,r(39557).bugs.url);return}this._cache=new h,this._unhooked=!1,this._origRequire=a.prototype.require;let o=this,d=new Set,m=!!t&&!0===t.internals,g=Array.isArray(e);function y(t,r){let h,p,y;let v=t[0],b=i(v);if(b){if(h=v,v.startsWith("node:")){let e=v.slice(5);i(e)&&(h=e)}}else if(r)return l("call to process.getBuiltinModule with unknown built-in id"),o._origGetBuiltinModule.apply(this,t);else try{h=a._resolveFilename(v,this)}catch(e){return l('Module._resolveFilename("%s") threw %j, calling original Module.require',v,e.message),o._origRequire.apply(this,t)}if(l("processing %s module require('%s'): %s",!0===b?"core":"non-core",v,h),!0===o._cache.has(h,b))return l("returning already patched cached module: %s",h),o._cache.get(h,b);let E=d.has(h);!1===E&&d.add(h);let S=r?o._origGetBuiltinModule.apply(this,t):o._origRequire.apply(this,t);if(!0===E)return l("module is in the process of being patched already - ignoring: %s",h),S;if(d.delete(h),!0===b){if(!0===g&&!1===e.includes(h))return l("ignoring core module not on whitelist: %s",h),S;p=h}else if(!0===g&&e.includes(h)){let e=s.parse(h);p=e.name,y=e.dir}else{let t=u(h);if(void 0===t)return l("could not parse filename: %s",h),S;p=t.name,y=t.basedir;let r=f(t);l("resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)",p,v,r,y);let n=!1;if(g){if(!v.startsWith(".")&&e.includes(v)&&(p=v,n=!0),!e.includes(p)&&!e.includes(r))return S;e.includes(r)&&r!==p&&(p=r,n=!0)}if(!n){let e;try{e=c(p,y)}catch(e){return l("could not resolve module: %s",p),o._cache.set(h,S,b),S}if(e!==h){if(!0!==m)return l("ignoring require of non-main module file: %s",e),o._cache.set(h,S,b),S;l("preparing to process require of internal file: %s",p=p+s.sep+s.relative(y,h))}}}o._cache.set(h,S,b),l("calling require hook: %s",p);let _=n(S,p,y);return o._cache.set(h,_,b),l("returning module: %s",p),_}l("registering require hook"),this._require=a.prototype.require=function(e){return!0===o._unhooked?(l("ignoring require call - module is soft-unhooked"),o._origRequire.apply(this,arguments)):y.call(this,arguments,!1)},"function"==typeof process.getBuiltinModule&&(this._origGetBuiltinModule=process.getBuiltinModule,this._getBuiltinModule=process.getBuiltinModule=function(e){return!0===o._unhooked?(l("ignoring process.getBuiltinModule call - module is soft-unhooked"),o._origGetBuiltinModule.apply(this,arguments)):y.call(this,arguments,!0)})}function f(e){let t="/"!==s.sep?e.path.split(s.sep).join("/"):e.path;return s.posix.join(e.name,t).replace(d,"")}p.prototype.unhook=function(){this._unhooked=!0,this._require===a.prototype.require?(a.prototype.require=this._origRequire,l("require unhook successful")):l("require unhook unsuccessful"),void 0!==process.getBuiltinModule&&(this._getBuiltinModule===process.getBuiltinModule?(process.getBuiltinModule=this._origGetBuiltinModule,l("process.getBuiltinModule unhook successful")):l("process.getBuiltinModule unhook unsuccessful"))}},40565:(e,t,r)=>{function n(){let e;return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)}function o(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}}function s(){let e;try{e=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}function a(){try{return localStorage}catch(e){}}t.formatArgs=i,t.save=o,t.load=s,t.useColors=n,t.storage=a(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(28740)(t);let{formatters:l}=e.exports;l.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},28740:(e,t,r)=>{function n(e){function t(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r)|0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let t,r,o;let s=null;function a(...e){if(!a.enabled)return;let r=a,i=Number(new Date),o=i-(t||i);r.diff=o,r.prev=t,r.curr=i,t=i,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,i)=>{if("%%"===t)return"%";s++;let o=n.formatters[i];if("function"==typeof o){let n=e[s];t=o.call(r,n),e.splice(s,1),s--}return t}),n.formatArgs.call(r,e),(r.log||n.log).apply(r,e)}return a.namespace=e,a.useColors=n.useColors(),a.color=n.selectColor(e),a.extend=i,a.destroy=n.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(r!==n.namespaces&&(r=n.namespaces,o=n.enabled(e)),o),set:e=>{s=e}}),"function"==typeof n.init&&n.init(a),a}function i(e,t){let r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function o(e){for(let t of(n.save(e),n.namespaces=e,n.names=[],n.skips=[],("string"==typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean)))"-"===t[0]?n.skips.push(t.slice(1)):n.names.push(t)}function s(e,t){let r=0,n=0,i=-1,o=0;for(;r<e.length;)if(n<t.length&&(t[n]===e[r]||"*"===t[n]))"*"===t[n]?(i=n,o=r):r++,n++;else{if(-1===i)return!1;n=i+1,r=++o}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}function a(){let e=[...n.names,...n.skips.map(e=>"-"+e)].join(",");return n.enable(""),e}function l(e){for(let t of n.skips)if(s(e,t))return!1;for(let t of n.names)if(s(e,t))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.debug=n,n.default=n,n.coerce=u,n.disable=a,n.enable=o,n.enabled=l,n.humanize=r(78096),n.destroy=c,Object.keys(e).forEach(t=>{n[t]=e[t]}),n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}e.exports=n},68268:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||process.__nwjs?e.exports=r(40565):e.exports=r(17512)},17512:(e,t,r)=>{let n=r(13325),i=r(73837);t.init=d,t.log=l,t.formatArgs=s,t.save=u,t.load=c,t.useColors=o,t.destroy=i.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{let e=r(6370);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}function o(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:n.isatty(process.stderr.fd)}function s(t){let{namespace:r,useColors:n}=this;if(n){let n=this.color,i="\x1b[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${r} \u001B[0m`;t[0]=o+t[0].split("\n").join("\n"+o),t.push(i+"m+"+e.exports.humanize(this.diff)+"\x1b[0m")}else t[0]=a()+r+" "+t[0]}function a(){return t.inspectOpts.hideDate?"":new Date().toISOString()+" "}function l(...e){return process.stderr.write(i.formatWithOptions(t.inspectOpts,...e)+"\n")}function u(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function c(){return process.env.DEBUG}function d(e){e.inspectOpts={};let r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase()),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=r(28740)(t);let{formatters:h}=e.exports;h.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},h.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},78096:e=>{var t=1e3,r=6e4,n=36e5,i=864e5,o=6048e5,s=315576e5;function a(e){if(!((e=String(e)).length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(a){var l=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return l*s;case"weeks":case"week":case"w":return l*o;case"days":case"day":case"d":return l*i;case"hours":case"hour":case"hrs":case"hr":case"h":return l*n;case"minutes":case"minute":case"mins":case"min":case"m":return l*r;case"seconds":case"second":case"secs":case"sec":case"s":return l*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}}}function l(e){var o=Math.abs(e);return o>=i?Math.round(e/i)+"d":o>=n?Math.round(e/n)+"h":o>=r?Math.round(e/r)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}function u(e){var o=Math.abs(e);return o>=i?c(e,o,i,"day"):o>=n?c(e,o,n,"hour"):o>=r?c(e,o,r,"minute"):o>=t?c(e,o,t,"second"):e+" ms"}function c(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return a(e);if("number"===r&&isFinite(e))return t.long?u(e):l(e);throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},96309:(e,t,r)=>{var n=r(28676);n.core=r(61028),n.isCore=r(41675),n.sync=r(32601),e.exports=n},28676:(e,t,r)=>{var n=r(57147),i=r(21146),o=r(71017),s=r(31747),a=r(99955),l=r(76208),u=r(47125),c="win32"!==process.platform&&n.realpath&&"function"==typeof n.realpath.native?n.realpath.native:n.realpath,d=i(),h=function(){return[o.join(d,".node_modules"),o.join(d,".node_libraries")]},p=function(e,t){n.stat(e,function(e,r){return e?"ENOENT"===e.code||"ENOTDIR"===e.code?t(null,!1):t(e):t(null,r.isFile()||r.isFIFO())})},f=function(e,t){n.stat(e,function(e,r){return e?"ENOENT"===e.code||"ENOTDIR"===e.code?t(null,!1):t(e):t(null,r.isDirectory())})},m=function(e,t){c(e,function(r,n){r&&"ENOENT"!==r.code?t(r):t(null,r?e:n)})},g=function(e,t,r,n){r&&!1===r.preserveSymlinks?e(t,n):n(null,t)},y=function(e,t,r){e(t,function(e,t){if(e)r(e);else try{var n=JSON.parse(t);r(null,n)}catch(e){r(null)}})},v=function(e,t,r){for(var n=a(t,r,e),i=0;i<n.length;i++)n[i]=o.join(n[i],e);return n};e.exports=function(e,t,r){var i,a=r,c=t;if("function"==typeof t&&(a=c,c={}),"string"!=typeof e){var d=TypeError("Path must be a string.");return process.nextTick(function(){a(d)})}var b=(c=l(e,c)).isFile||p,E=c.isDirectory||f,S=c.readFile||n.readFile,_=c.realpath||m,T=c.readPackage||y;if(c.readFile&&c.readPackage){var A=TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick(function(){a(A)})}var C=c.packageIterator,w=c.extensions||[".js"],O=!1!==c.includeCoreModules,R=c.basedir||o.dirname(s()),x=c.filename||R;function I(t){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e))i=o.resolve(t,e),("."===e||".."===e||"/"===e.slice(-1))&&(i+="/"),/\/$/.test(e)&&i===t?k(i,c.package,D):P(i,c.package,D);else{if(O&&u(e))return a(null,e);L(e,t,function(t,r,n){if(t)a(t);else{if(r)return g(_,r,c,function(e,t){e?a(e):a(null,t,n)});var i=Error("Cannot find module '"+e+"' from '"+x+"'");i.code="MODULE_NOT_FOUND",a(i)}})}}function D(t,r,n){t?a(t):r?a(null,r,n):k(i,function(t,r,n){if(t)a(t);else if(r)g(_,r,c,function(e,t){e?a(e):a(null,t,n)});else{var i=Error("Cannot find module '"+e+"' from '"+x+"'");i.code="MODULE_NOT_FOUND",a(i)}})}function P(e,t,r){var n=t,i=r;function s(e,t,r){if(0===e.length)return i(null,void 0,r);var n=t+e[0],a=r;function l(r,l,d){if(a=l,r)return i(r);if(d&&a&&c.pathFilter){var h=o.relative(d,n),p=h.slice(0,h.length-e[0].length),f=c.pathFilter(a,t,p);if(f)return s([""].concat(w.slice()),o.resolve(d,f),a)}b(n,u)}function u(r,o){return r?i(r):o?i(null,n,a):void s(e.slice(1),t,a)}a?l(null,a):N(o.dirname(n),l)}"function"==typeof n&&(i=n,n=void 0),s([""].concat(w),e,n)}function N(e,t){if(""===e||"/"===e||"win32"===process.platform&&/^\w:[/\\]*$/.test(e)||/[/\\]node_modules[/\\]*$/.test(e))return t(null);g(_,e,c,function(r,n){if(r)return N(o.dirname(e),t);var i=o.join(n,"package.json");b(i,function(r,n){if(!n)return N(o.dirname(e),t);T(S,i,function(r,n){r&&t(r);var o=n;o&&c.packageFilter&&(o=c.packageFilter(o,i)),t(null,o,e)})})})}function k(e,t,r){var n=r,i=t;"function"==typeof i&&(n=i,i=c.package),g(_,e,c,function(t,r){if(t)return n(t);var s=o.join(r,"package.json");b(s,function(t,r){return t?n(t):r?void T(S,s,function(t,r){if(t)return n(t);var i=r;if(i&&c.packageFilter&&(i=c.packageFilter(i,s)),i&&i.main){if("string"!=typeof i.main){var a=TypeError("package "+i.name+" `main` must be a string");return a.code="INVALID_PACKAGE_MAIN",n(a)}return("."===i.main||"./"===i.main)&&(i.main="index"),void P(o.resolve(e,i.main),i,function(t,r,i){return t?n(t):r?n(null,r,i):i?void k(o.resolve(e,i.main),i,function(t,r,i){return t?n(t):r?n(null,r,i):void P(o.join(e,"index"),i,n)}):P(o.join(e,"index"),i,n)})}P(o.join(e,"/index"),i,n)}):P(o.join(e,"index"),i,n)})})}function M(e,t){if(0===t.length)return e(null,void 0);var r=t[0];function n(n,o){return n?e(n):o?void P(r,c.package,i):M(e,t.slice(1))}function i(t,n,i){return t?e(t):n?e(null,n,i):void k(r,c.package,s)}function s(r,n,i){return r?e(r):n?e(null,n,i):void M(e,t.slice(1))}E(o.dirname(r),n)}function L(e,t,r){var n=function(){return v(e,t,c)};M(r,C?C(e,t,n,c):n())}c.paths=c.paths||h(),g(_,o.resolve(R),c,function(e,t){e?a(e):I(t)})}},31747:e=>{e.exports=function(){var e=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t};var t=Error().stack;return Error.prepareStackTrace=e,t[2].getFileName()}},61028:(e,t,r)=>{"use strict";var n=r(47125),i=r(38557),o={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(o[s]=n(s));e.exports=o},21146:(e,t,r)=>{"use strict";var n=r(22037);e.exports=n.homedir||function(){var e=process.env.HOME,t=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return"win32"===process.platform?process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||e||null:"darwin"===process.platform?e||(t?"/Users/"+t:null):"linux"===process.platform?e||(0===process.getuid()?"/root":t?"/home/"+t:null):e||null}},41675:(e,t,r)=>{var n=r(47125);e.exports=function(e){return n(e)}},99955:(e,t,r)=>{var n=r(71017),i=n.parse||r(98283),o=function(e,t){var r="/";/^([A-Za-z]:)/.test(e)?r="":/^\\\\/.test(e)&&(r="\\\\");for(var o=[e],s=i(e);s.dir!==o[o.length-1];)o.push(s.dir),s=i(s.dir);return o.reduce(function(e,i){return e.concat(t.map(function(e){return n.resolve(r,i,e)}))},[])};e.exports=function(e,t,r){var n=t&&t.moduleDirectory?[].concat(t.moduleDirectory):["node_modules"];if(t&&"function"==typeof t.paths)return t.paths(r,e,function(){return o(e,n)},t);var i=o(e,n);return t&&t.paths?i.concat(t.paths):i}},76208:e=>{e.exports=function(e,t){return t||{}}},32601:(e,t,r)=>{var n=r(47125),i=r(57147),o=r(71017),s=r(21146),a=r(31747),l=r(99955),u=r(76208),c="win32"!==process.platform&&i.realpathSync&&"function"==typeof i.realpathSync.native?i.realpathSync.native:i.realpathSync,d=s(),h=function(){return[o.join(d,".node_modules"),o.join(d,".node_libraries")]},p=function(e){try{var t=i.statSync(e,{throwIfNoEntry:!1})}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return!1;throw e}return!!t&&(t.isFile()||t.isFIFO())},f=function(e){try{var t=i.statSync(e,{throwIfNoEntry:!1})}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return!1;throw e}return!!t&&t.isDirectory()},m=function(e){try{return c(e)}catch(e){if("ENOENT"!==e.code)throw e}return e},g=function(e,t,r){return r&&!1===r.preserveSymlinks?e(t):t},y=function(e,t){var r=e(t);try{return JSON.parse(r)}catch(e){}},v=function(e,t,r){for(var n=l(t,r,e),i=0;i<n.length;i++)n[i]=o.join(n[i],e);return n};e.exports=function(e,t){if("string"!=typeof e)throw TypeError("Path must be a string.");var r=u(e,t),s=r.isFile||p,l=r.readFileSync||i.readFileSync,c=r.isDirectory||f,d=r.realpathSync||m,b=r.readPackageSync||y;if(r.readFileSync&&r.readPackageSync)throw TypeError("`readFileSync` and `readPackageSync` are mutually exclusive.");var E=r.packageIterator,S=r.extensions||[".js"],_=!1!==r.includeCoreModules,T=r.basedir||o.dirname(a()),A=r.filename||T;r.paths=r.paths||h();var C=g(d,o.resolve(T),r);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e)){var w=o.resolve(C,e);("."===e||".."===e||"/"===e.slice(-1))&&(w+="/");var O=I(w)||P(w);if(O)return g(d,O,r)}else{if(_&&n(e))return e;var R=N(e,C);if(R)return g(d,R,r)}var x=Error("Cannot find module '"+e+"' from '"+A+"'");throw x.code="MODULE_NOT_FOUND",x;function I(e){var t=D(o.dirname(e));if(t&&t.dir&&t.pkg&&r.pathFilter){var n=o.relative(t.dir,e),i=r.pathFilter(t.pkg,e,n);i&&(e=o.resolve(t.dir,i))}if(s(e))return e;for(var a=0;a<S.length;a++){var l=e+S[a];if(s(l))return l}}function D(e){if(!(""===e||"/"===e||"win32"===process.platform&&/^\w:[/\\]*$/.test(e))&&!/[/\\]node_modules[/\\]*$/.test(e)){var t=o.join(g(d,e,r),"package.json");if(!s(t))return D(o.dirname(e));var n=b(l,t);return n&&r.packageFilter&&(n=r.packageFilter(n,e)),{pkg:n,dir:e}}}function P(e){var t=o.join(g(d,e,r),"/package.json");if(s(t)){try{var n=b(l,t)}catch(e){}if(n&&r.packageFilter&&(n=r.packageFilter(n,e)),n&&n.main){if("string"!=typeof n.main){var i=TypeError("package "+n.name+" `main` must be a string");throw i.code="INVALID_PACKAGE_MAIN",i}("."===n.main||"./"===n.main)&&(n.main="index");try{var a=I(o.resolve(e,n.main));if(a)return a;var u=P(o.resolve(e,n.main));if(u)return u}catch(e){}}}return I(o.join(e,"/index"))}function N(e,t){for(var n=function(){return v(e,t,r)},i=E?E(e,t,n,r):n(),s=0;s<i.length;s++){var a=i[s];if(c(o.dirname(a))){var l=I(a);if(l)return l;var u=P(a);if(u)return u}}}}},32512:(e,t,r)=>{"use strict";let n=Symbol("SemVer ANY");class i{static get ANY(){return n}constructor(e,t){if(t=o(t),e instanceof i){if(!!t.loose===e.loose)return e;e=e.value}u("comparator",e=e.trim().split(/\s+/).join(" "),t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){let t=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],r=e.match(t);if(!r)throw TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new c(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=o(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">"))}}e.exports=i;let o=r(6057),{safeRe:s,t:a}=r(20803),l=r(80682),u=r(50012),c=r(74049),d=r(46303)},46303:(e,t,r)=>{"use strict";let n=/\s+/g;class i{constructor(e,t){if(t=s(t),e instanceof i){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;return new i(e.raw,t)}if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(n," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let e=this.set[0];if(this.set=this.set.filter(e=>!y(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1){for(let e of this.set)if(1===e.length&&v(e[0])){this.set=[e];break}}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,r=o.get(t);if(r)return r;let n=this.options.loose,i=n?c[d.HYPHENRANGELOOSE]:c[d.HYPHENRANGE];l("hyphen replace",e=e.replace(i,I(this.options.includePrerelease))),l("comparator trim",e=e.replace(c[d.COMPARATORTRIM],h)),l("tilde trim",e=e.replace(c[d.TILDETRIM],p)),l("caret trim",e=e.replace(c[d.CARETTRIM],f));let s=e.split(" ").map(e=>E(e,this.options)).join(" ").split(/\s+/).map(e=>x(e,this.options));n&&(s=s.filter(e=>(l("loose invalid filter",e,this.options),!!e.match(c[d.COMPARATORLOOSE])))),l("range list",s);let u=new Map;for(let e of s.map(e=>new a(e,this.options))){if(y(e))return[e];u.set(e.value,e)}u.size>1&&u.has("")&&u.delete("");let v=[...u.values()];return o.set(t,v),v}intersects(e,t){if(!(e instanceof i))throw TypeError("a Range is required");return this.set.some(r=>b(r,t)&&e.set.some(e=>b(e,t)&&r.every(r=>e.every(e=>r.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(D(this.set[t],e,this.options))return!0;return!1}}e.exports=i;let o=new(r(90271)),s=r(6057),a=r(32512),l=r(50012),u=r(74049),{safeRe:c,t:d,comparatorTrimReplace:h,tildeTrimReplace:p,caretTrimReplace:f}=r(20803),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=r(60090),y=e=>"<0.0.0-0"===e.value,v=e=>""===e.value,b=(e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(e=>i.intersects(e,t)),i=n.pop();return r},E=(e,t)=>(l("comp",e,t),l("caret",e=A(e,t)),l("tildes",e=_(e,t)),l("xrange",e=w(e,t)),l("stars",e=R(e,t)),e),S=e=>!e||"x"===e.toLowerCase()||"*"===e,_=(e,t)=>e.trim().split(/\s+/).map(e=>T(e,t)).join(" "),T=(e,t)=>{let r=t.loose?c[d.TILDELOOSE]:c[d.TILDE];return e.replace(r,(t,r,n,i,o)=>{let s;return l("tilde",e,t,r,n,i,o),S(r)?s="":S(n)?s=`>=${r}.0.0 <${+r+1}.0.0-0`:S(i)?s=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:o?(l("replaceTilde pr",o),s=`>=${r}.${n}.${i}-${o} <${r}.${+n+1}.0-0`):s=`>=${r}.${n}.${i} <${r}.${+n+1}.0-0`,l("tilde return",s),s})},A=(e,t)=>e.trim().split(/\s+/).map(e=>C(e,t)).join(" "),C=(e,t)=>{l("caret",e,t);let r=t.loose?c[d.CARETLOOSE]:c[d.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(t,r,i,o,s)=>{let a;return l("caret",e,t,r,i,o,s),S(r)?a="":S(i)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:S(o)?a="0"===r?`>=${r}.${i}.0${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.0${n} <${+r+1}.0.0-0`:s?(l("replaceCaret pr",s),a="0"===r?"0"===i?`>=${r}.${i}.${o}-${s} <${r}.${i}.${+o+1}-0`:`>=${r}.${i}.${o}-${s} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${o}-${s} <${+r+1}.0.0-0`):(l("no pr"),a="0"===r?"0"===i?`>=${r}.${i}.${o}${n} <${r}.${i}.${+o+1}-0`:`>=${r}.${i}.${o}${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${o} <${+r+1}.0.0-0`),l("caret return",a),a})},w=(e,t)=>(l("replaceXRanges",e,t),e.split(/\s+/).map(e=>O(e,t)).join(" ")),O=(e,t)=>{e=e.trim();let r=t.loose?c[d.XRANGELOOSE]:c[d.XRANGE];return e.replace(r,(r,n,i,o,s,a)=>{l("xRange",e,r,n,i,o,s,a);let u=S(i),c=u||S(o),d=c||S(s),h=d;return"="===n&&h&&(n=""),a=t.includePrerelease?"-0":"",u?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&h?(c&&(o=0),s=0,">"===n?(n=">=",c?(i=+i+1,o=0):o=+o+1,s=0):"<="===n&&(n="<",c?i=+i+1:o=+o+1),"<"===n&&(a="-0"),r=`${n+i}.${o}.${s}${a}`):c?r=`>=${i}.0.0${a} <${+i+1}.0.0-0`:d&&(r=`>=${i}.${o}.0${a} <${i}.${+o+1}.0-0`),l("xRange return",r),r})},R=(e,t)=>(l("replaceStars",e,t),e.trim().replace(c[d.STAR],"")),x=(e,t)=>(l("replaceGTE0",e,t),e.trim().replace(c[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),I=e=>(t,r,n,i,o,s,a,l,u,c,d,h)=>(r=S(n)?"":S(i)?`>=${n}.0.0${e?"-0":""}`:S(o)?`>=${n}.${i}.0${e?"-0":""}`:s?`>=${r}`:`>=${r}${e?"-0":""}`,l=S(u)?"":S(c)?`<${+u+1}.0.0-0`:S(d)?`<${u}.${+c+1}.0-0`:h?`<=${u}.${c}.${d}-${h}`:e?`<${u}.${c}.${+d+1}-0`:`<=${l}`,`${r} ${l}`.trim()),D=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(l(e[r].semver),e[r].semver!==a.ANY&&e[r].semver.prerelease.length>0){let n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},74049:(e,t,r)=>{"use strict";let n=r(50012),{MAX_LENGTH:i,MAX_SAFE_INTEGER:o}=r(60090),{safeRe:s,t:a}=r(20803),l=r(6057),{compareIdentifiers:u}=r(16933);class c{constructor(e,t){if(t=l(t),e instanceof c){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>i)throw TypeError(`version is longer than ${i} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let r=e.trim().match(t.loose?s[a.LOOSE]:s[a.FULL]);if(!r)throw TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>o||this.major<0)throw TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){let t=+e;if(t>=0&&t<o)return t}return e}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof c)){if("string"==typeof e&&e===this.version)return 0;e=new c(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof c||(e=new c(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof c||(e=new c(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return -1;if(r===i)continue;else return u(r,i)}while(++t)}compareBuild(e){e instanceof c||(e=new c(e,this.options));let t=0;do{let r=this.build[t],i=e.build[t];if(n("build compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return -1;if(r===i)continue;else return u(r,i)}while(++t)}inc(e,t,r){if(e.startsWith("pre")){if(!t&&!1===r)throw Error("invalid increment argument: identifier is empty");if(t){let e=`-${t}`.match(this.options.loose?s[a.PRERELEASELOOSE]:s[a.PRERELEASE]);if(!e||e[1]!==t)throw Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"release":if(0===this.prerelease.length)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let e=Number(r)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=c},7380:(e,t,r)=>{"use strict";let n=r(37270),i=(e,t)=>{let r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};e.exports=i},80682:(e,t,r)=>{"use strict";let n=r(55813),i=r(14668),o=r(99741),s=r(15148),a=r(99479),l=r(37970),u=(e,t,r,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,u);case"!=":return i(e,r,u);case">":return o(e,r,u);case">=":return s(e,r,u);case"<":return a(e,r,u);case"<=":return l(e,r,u);default:throw TypeError(`Invalid operator: ${t}`)}};e.exports=u},47417:(e,t,r)=>{"use strict";let n=r(74049),i=r(37270),{safeRe:o,t:s}=r(20803),a=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let n;let i=t.includePrerelease?o[s.COERCERTLFULL]:o[s.COERCERTL];for(;(n=i.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&n.index+n[0].length===r.index+r[0].length||(r=n),i.lastIndex=n.index+n[1].length+n[2].length;i.lastIndex=-1}else r=e.match(t.includePrerelease?o[s.COERCEFULL]:o[s.COERCE]);if(null===r)return null;let a=r[2],l=r[3]||"0",u=r[4]||"0",c=t.includePrerelease&&r[5]?`-${r[5]}`:"",d=t.includePrerelease&&r[6]?`+${r[6]}`:"";return i(`${a}.${l}.${u}${c}${d}`,t)};e.exports=a},88710:(e,t,r)=>{"use strict";let n=r(74049),i=(e,t,r)=>{let i=new n(e,r),o=new n(t,r);return i.compare(o)||i.compareBuild(o)};e.exports=i},63753:(e,t,r)=>{"use strict";let n=r(1176),i=(e,t)=>n(e,t,!0);e.exports=i},1176:(e,t,r)=>{"use strict";let n=r(74049),i=(e,t,r)=>new n(e,r).compare(new n(t,r));e.exports=i},89160:(e,t,r)=>{"use strict";let n=r(37270),i=(e,t)=>{let r=n(e,null,!0),i=n(t,null,!0),o=r.compare(i);if(0===o)return null;let s=o>0,a=s?r:i,l=s?i:r,u=!!a.prerelease.length;if(l.prerelease.length&&!u){if(!l.patch&&!l.minor)return"major";if(0===l.compareMain(a))return l.minor&&!l.patch?"minor":"patch"}let c=u?"pre":"";return r.major!==i.major?c+"major":r.minor!==i.minor?c+"minor":r.patch!==i.patch?c+"patch":"prerelease"};e.exports=i},55813:(e,t,r)=>{"use strict";let n=r(1176),i=(e,t,r)=>0===n(e,t,r);e.exports=i},99741:(e,t,r)=>{"use strict";let n=r(1176),i=(e,t,r)=>n(e,t,r)>0;e.exports=i},15148:(e,t,r)=>{"use strict";let n=r(1176),i=(e,t,r)=>n(e,t,r)>=0;e.exports=i},25966:(e,t,r)=>{"use strict";let n=r(74049),i=(e,t,r,i,o)=>{"string"==typeof r&&(o=i,i=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,i,o).version}catch(e){return null}};e.exports=i},99479:(e,t,r)=>{"use strict";let n=r(1176),i=(e,t,r)=>0>n(e,t,r);e.exports=i},37970:(e,t,r)=>{"use strict";let n=r(1176),i=(e,t,r)=>0>=n(e,t,r);e.exports=i},14808:(e,t,r)=>{"use strict";let n=r(74049),i=(e,t)=>new n(e,t).major;e.exports=i},19370:(e,t,r)=>{"use strict";let n=r(74049),i=(e,t)=>new n(e,t).minor;e.exports=i},14668:(e,t,r)=>{"use strict";let n=r(1176),i=(e,t,r)=>0!==n(e,t,r);e.exports=i},37270:(e,t,r)=>{"use strict";let n=r(74049),i=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}};e.exports=i},33290:(e,t,r)=>{"use strict";let n=r(74049),i=(e,t)=>new n(e,t).patch;e.exports=i},34370:(e,t,r)=>{"use strict";let n=r(37270),i=(e,t)=>{let r=n(e,t);return r&&r.prerelease.length?r.prerelease:null};e.exports=i},22105:(e,t,r)=>{"use strict";let n=r(1176),i=(e,t,r)=>n(t,e,r);e.exports=i},8832:(e,t,r)=>{"use strict";let n=r(88710),i=(e,t)=>e.sort((e,r)=>n(r,e,t));e.exports=i},94398:(e,t,r)=>{"use strict";let n=r(46303),i=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)};e.exports=i},90936:(e,t,r)=>{"use strict";let n=r(88710),i=(e,t)=>e.sort((e,r)=>n(e,r,t));e.exports=i},4924:(e,t,r)=>{"use strict";let n=r(37270),i=(e,t)=>{let r=n(e,t);return r?r.version:null};e.exports=i},17140:(e,t,r)=>{"use strict";let n=r(20803),i=r(60090),o=r(74049),s=r(16933),a=r(37270),l=r(4924),u=r(7380),c=r(25966),d=r(89160),h=r(14808),p=r(19370),f=r(33290),m=r(34370),g=r(1176),y=r(22105),v=r(63753),b=r(88710),E=r(90936),S=r(8832),_=r(99741),T=r(99479),A=r(55813),C=r(14668),w=r(15148),O=r(37970),R=r(80682),x=r(47417),I=r(32512),D=r(46303),P=r(94398),N=r(92800),k=r(47252),M=r(64168),L=r(12881),B=r(46712),j=r(50144),F=r(30262),U=r(87371),V=r(83291),z=r(36415),G=r(56693);e.exports={parse:a,valid:l,clean:u,inc:c,diff:d,major:h,minor:p,patch:f,prerelease:m,compare:g,rcompare:y,compareLoose:v,compareBuild:b,sort:E,rsort:S,gt:_,lt:T,eq:A,neq:C,gte:w,lte:O,cmp:R,coerce:x,Comparator:I,Range:D,satisfies:P,toComparators:N,maxSatisfying:k,minSatisfying:M,minVersion:L,validRange:B,outside:j,gtr:F,ltr:U,intersects:V,simplifyRange:z,subset:G,SemVer:o,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}},60090:e=>{"use strict";let t="2.0.0",r=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,i=16,o=250,s=["major","premajor","minor","preminor","patch","prepatch","prerelease"];e.exports={MAX_LENGTH:r,MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:o,MAX_SAFE_INTEGER:n,RELEASE_TYPES:s,SEMVER_SPEC_VERSION:t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},50012:e=>{"use strict";let t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},16933:e=>{"use strict";let t=/^[0-9]+$/,r=(e,r)=>{let n=t.test(e),i=t.test(r);return n&&i&&(e=+e,r=+r),e===r?0:n&&!i?-1:i&&!n?1:e<r?-1:1},n=(e,t)=>r(t,e);e.exports={compareIdentifiers:r,rcompareIdentifiers:n}},90271:e=>{"use strict";class t{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(void 0!==t)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){let e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}e.exports=t},6057:e=>{"use strict";let t=Object.freeze({loose:!0}),r=Object.freeze({}),n=e=>e?"object"!=typeof e?t:e:r;e.exports=n},20803:(e,t,r)=>{"use strict";let{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:o}=r(60090),s=r(50012),a=(t=e.exports={}).re=[],l=t.safeRe=[],u=t.src=[],c=t.safeSrc=[],d=t.t={},h=0,p="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",o],[p,i]],m=e=>{for(let[t,r]of f)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},g=(e,t,r)=>{let n=m(t),i=h++;s(e,i,t),d[e]=i,u[i]=t,c[i]=n,a[i]=new RegExp(t,r?"g":void 0),l[i]=new RegExp(n,r?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),g("MAINVERSION",`(${u[d.NUMERICIDENTIFIER]})\\.(${u[d.NUMERICIDENTIFIER]})\\.(${u[d.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${u[d.NUMERICIDENTIFIERLOOSE]})\\.(${u[d.NUMERICIDENTIFIERLOOSE]})\\.(${u[d.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${u[d.NONNUMERICIDENTIFIER]}|${u[d.NUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${u[d.NONNUMERICIDENTIFIER]}|${u[d.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASE",`(?:-(${u[d.PRERELEASEIDENTIFIER]}(?:\\.${u[d.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${u[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[d.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${p}+`),g("BUILD",`(?:\\+(${u[d.BUILDIDENTIFIER]}(?:\\.${u[d.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${u[d.MAINVERSION]}${u[d.PRERELEASE]}?${u[d.BUILD]}?`),g("FULL",`^${u[d.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${u[d.MAINVERSIONLOOSE]}${u[d.PRERELEASELOOSE]}?${u[d.BUILD]}?`),g("LOOSE",`^${u[d.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${u[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${u[d.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${u[d.XRANGEIDENTIFIER]})(?:\\.(${u[d.XRANGEIDENTIFIER]})(?:\\.(${u[d.XRANGEIDENTIFIER]})(?:${u[d.PRERELEASE]})?${u[d.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${u[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[d.XRANGEIDENTIFIERLOOSE]})(?:${u[d.PRERELEASELOOSE]})?${u[d.BUILD]}?)?)?`),g("XRANGE",`^${u[d.GTLT]}\\s*${u[d.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${u[d.GTLT]}\\s*${u[d.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),g("COERCE",`${u[d.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",u[d.COERCEPLAIN]+`(?:${u[d.PRERELEASE]})?`+`(?:${u[d.BUILD]})?`+"(?:$|[^\\d])"),g("COERCERTL",u[d.COERCE],!0),g("COERCERTLFULL",u[d.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${u[d.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${u[d.LONETILDE]}${u[d.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${u[d.LONETILDE]}${u[d.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${u[d.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${u[d.LONECARET]}${u[d.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${u[d.LONECARET]}${u[d.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${u[d.GTLT]}\\s*(${u[d.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${u[d.GTLT]}\\s*(${u[d.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${u[d.GTLT]}\\s*(${u[d.LOOSEPLAIN]}|${u[d.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${u[d.XRANGEPLAIN]})\\s+-\\s+(${u[d.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${u[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[d.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},30262:(e,t,r)=>{"use strict";let n=r(50144),i=(e,t,r)=>n(e,t,">",r);e.exports=i},83291:(e,t,r)=>{"use strict";let n=r(46303),i=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r));e.exports=i},87371:(e,t,r)=>{"use strict";let n=r(50144),i=(e,t,r)=>n(e,t,"<",r);e.exports=i},47252:(e,t,r)=>{"use strict";let n=r(74049),i=r(46303),o=(e,t,r)=>{let o=null,s=null,a=null;try{a=new i(t,r)}catch(e){return null}return e.forEach(e=>{a.test(e)&&(!o||-1===s.compare(e))&&(s=new n(o=e,r))}),o};e.exports=o},64168:(e,t,r)=>{"use strict";let n=r(74049),i=r(46303),o=(e,t,r)=>{let o=null,s=null,a=null;try{a=new i(t,r)}catch(e){return null}return e.forEach(e=>{a.test(e)&&(!o||1===s.compare(e))&&(s=new n(o=e,r))}),o};e.exports=o},12881:(e,t,r)=>{"use strict";let n=r(74049),i=r(46303),o=r(99741),s=(e,t)=>{e=new i(e,t);let r=new n("0.0.0");if(e.test(r)||(r=new n("0.0.0-0"),e.test(r)))return r;r=null;for(let t=0;t<e.set.length;++t){let i=e.set[t],s=null;i.forEach(e=>{let t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!s||o(t,s))&&(s=t);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${e.operator}`)}}),s&&(!r||o(r,s))&&(r=s)}return r&&e.test(r)?r:null};e.exports=s},50144:(e,t,r)=>{"use strict";let n=r(74049),i=r(32512),{ANY:o}=i,s=r(46303),a=r(94398),l=r(99741),u=r(99479),c=r(37970),d=r(15148),h=(e,t,r,h)=>{let p,f,m,g,y;switch(e=new n(e,h),t=new s(t,h),r){case">":p=l,f=c,m=u,g=">",y=">=";break;case"<":p=u,f=d,m=l,g="<",y="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,h))return!1;for(let r=0;r<t.set.length;++r){let n=t.set[r],s=null,a=null;if(n.forEach(e=>{e.semver===o&&(e=new i(">=0.0.0")),s=s||e,a=a||e,p(e.semver,s.semver,h)?s=e:m(e.semver,a.semver,h)&&(a=e)}),s.operator===g||s.operator===y||(!a.operator||a.operator===g)&&f(e,a.semver)||a.operator===y&&m(e,a.semver))return!1}return!0};e.exports=h},36415:(e,t,r)=>{"use strict";let n=r(94398),i=r(1176);e.exports=(e,t,r)=>{let o=[],s=null,a=null,l=e.sort((e,t)=>i(e,t,r));for(let e of l)n(e,t,r)?(a=e,s||(s=e)):(a&&o.push([s,a]),a=null,s=null);s&&o.push([s,null]);let u=[];for(let[e,t]of o)e===t?u.push(e):t||e!==l[0]?t?e===l[0]?u.push(`<=${t}`):u.push(`${e} - ${t}`):u.push(`>=${e}`):u.push("*");let c=u.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return c.length<d.length?c:t}},56693:(e,t,r)=>{"use strict";let n=r(46303),i=r(32512),{ANY:o}=i,s=r(94398),a=r(1176),l=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let i=!1;t:for(let n of e.set){for(let e of t.set){let t=d(n,e,r);if(i=i||null!==t,t)continue t}if(i)return!1}return!0},u=[new i(">=0.0.0-0")],c=[new i(">=0.0.0")],d=(e,t,r)=>{let n,i,l,d,f,m,g;if(e===t)return!0;if(1===e.length&&e[0].semver===o){if(1===t.length&&t[0].semver===o)return!0;e=r.includePrerelease?u:c}if(1===t.length&&t[0].semver===o){if(r.includePrerelease)return!0;t=c}let y=new Set;for(let t of e)">"===t.operator||">="===t.operator?n=h(n,t,r):"<"===t.operator||"<="===t.operator?i=p(i,t,r):y.add(t.semver);if(y.size>1||n&&i&&((l=a(n.semver,i.semver,r))>0||0===l&&(">="!==n.operator||"<="!==i.operator)))return null;for(let e of y){if(n&&!s(e,String(n),r)||i&&!s(e,String(i),r))return null;for(let n of t)if(!s(e,String(n),r))return!1;return!0}let v=!!i&&!r.includePrerelease&&!!i.semver.prerelease.length&&i.semver,b=!!n&&!r.includePrerelease&&!!n.semver.prerelease.length&&n.semver;for(let e of(v&&1===v.prerelease.length&&"<"===i.operator&&0===v.prerelease[0]&&(v=!1),t)){if(g=g||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,n){if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),">"===e.operator||">="===e.operator){if((d=h(n,e,r))===e&&d!==n)return!1}else if(">="===n.operator&&!s(n.semver,String(e),r))return!1}if(i){if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if((f=p(i,e,r))===e&&f!==i)return!1}else if("<="===i.operator&&!s(i.semver,String(e),r))return!1}if(!e.operator&&(i||n)&&0!==l)return!1}return(!n||!m||!!i||0===l)&&(!i||!g||!!n||0===l)&&!b&&!v},h=(e,t,r)=>{if(!e)return t;let n=a(e.semver,t.semver,r);return n>0?e:n<0?t:">"===t.operator&&">="===e.operator?t:e},p=(e,t,r)=>{if(!e)return t;let n=a(e.semver,t.semver,r);return n<0?e:n>0?t:"<"===t.operator&&"<="===e.operator?t:e};e.exports=l},92800:(e,t,r)=>{"use strict";let n=r(46303),i=(e,t)=>new n(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "));e.exports=i},46712:(e,t,r)=>{"use strict";let n=r(46303),i=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}};e.exports=i},69887:e=>{"use strict";function t(e){return"function"==typeof e}var r=console.error.bind(console);function n(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function i(e){e&&e.logger&&(t(e.logger)?r=e.logger:r("new logger isn't a function, not replacing"))}function o(e,i,o){if(!e||!e[i]){r("no original function "+i+" to wrap");return}if(!o){r("no wrapper function"),r(Error().stack);return}if(!t(e[i])||!t(o)){r("original object and wrapper must be functions");return}var s=e[i],a=o(s,i);return n(a,"__original",s),n(a,"__unwrap",function(){e[i]===a&&n(e,i,s)}),n(a,"__wrapped",!0),n(e,i,a),a}function s(e,t,n){if(e)Array.isArray(e)||(e=[e]);else{r("must provide one or more modules to patch"),r(Error().stack);return}if(!(t&&Array.isArray(t))){r("must provide one or more functions to wrap on modules");return}e.forEach(function(e){t.forEach(function(t){o(e,t,n)})})}function a(e,t){if(!e||!e[t]){r("no function to unwrap."),r(Error().stack);return}if(e[t].__unwrap)return e[t].__unwrap();r("no original to unwrap to -- has "+t+" already been unwrapped?")}function l(e,t){if(e)Array.isArray(e)||(e=[e]);else{r("must provide one or more modules to patch"),r(Error().stack);return}if(!(t&&Array.isArray(t))){r("must provide one or more functions to unwrap on modules");return}e.forEach(function(e){t.forEach(function(t){a(e,t)})})}i.wrap=o,i.massWrap=s,i.unwrap=a,i.massUnwrap=l,e.exports=i},50254:e=>{var t=/\{([0-9a-zA-Z]+)\}/g,r=Array.prototype.slice;function n(e){var n;return n=2==arguments.length&&"object"==typeof arguments[1]?arguments[1]:r.call(arguments,1),n&&n.hasOwnProperty||(n={}),e.replace(t,function(t,r,i){var o;return"{"===e[i-1]&&"}"===e[i+t.length]?r:null==(o=n.hasOwnProperty(r)?n[r]:null)?"":o})}e.exports=n},6370:(e,t,r)=>{"use strict";let n;let i=r(22037),o=r(13325),s=r(48743),{env:a}=process;function l(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function u(e,t){if(0===n)return 0;if(s("color=16m")||s("color=full")||s("color=truecolor"))return 3;if(s("color=256"))return 2;if(e&&!t&&void 0===n)return 0;let r=n||0;if("dumb"===a.TERM)return r;if("win32"===process.platform){let e=i.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in a)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in a)||"codeship"===a.CI_NAME?1:r;if("TEAMCITY_VERSION"in a)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(a.TEAMCITY_VERSION)?1:0;if("truecolor"===a.COLORTERM)return 3;if("TERM_PROGRAM"in a){let e=parseInt((a.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(a.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(a.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(a.TERM)||"COLORTERM"in a?1:r}function c(e){return l(u(e,e&&e.isTTY))}s("no-color")||s("no-colors")||s("color=false")||s("color=never")?n=0:(s("color")||s("colors")||s("color=true")||s("color=always"))&&(n=1),"FORCE_COLOR"in a&&(n="true"===a.FORCE_COLOR?1:"false"===a.FORCE_COLOR?0:0===a.FORCE_COLOR.length?1:Math.min(parseInt(a.FORCE_COLOR,10),3)),e.exports={supportsColor:c,stdout:l(u(!0,o.isatty(1))),stderr:l(u(!0,o.isatty(2)))}},51784:e=>{"use strict";var t=Object.create(null);t.STOP=0,t.VOID=1,t.BOOL=2,t.BYTE=3,t.I8=3,t.DOUBLE=4,t.I16=6,t.I32=8,t.I64=10,t.STRING=11,t.STRUCT=12,t.MAP=13,t.SET=14,t.LIST=15,e.exports=t},31e3:e=>{"use strict";var t={};function r(e,t){this.type="Program",this.headers=e,this.definitions=t}function n(e,t,r){this.type="Identifier",this.name=e,this.line=t,this.column=r,this.as=null}function i(e,t,r,n){this.type="Include",this.id=e,this.namespace=t,this.line=r,this.column=n}function o(e,t){this.type="Namespace",this.id=e,this.scope=t}function s(e,r,n){this.type="Typedef",this.valueType=e,this.id=r,this.annotations=n||t}function a(e,r){this.type="BaseType",this.baseType=e,this.annotations=r||t}function l(e,r,n){this.type="Enum",this.id=e,this.definitions=r,this.annotations=n||t}function u(e,r,n){this.type="EnumDefinition",this.fieldType=new a("i32"),this.id=e,this.value=r,this.annotations=n||t}function c(e,r,n){this.type="Senum",this.id=e,this.senumDefinitions=r,this.annotations=n||t}function d(e,t,r){this.type="Const",this.id=e,this.fieldType=t,this.value=r}function h(e){this.type="ConstList",this.values=e}function p(e){this.type="ConstMap",this.entries=e}function f(e,t){this.type="ConstEntry",this.key=e,this.value=t}function m(e,r,n){this.type="Struct",this.id=e,this.fields=r,this.isArgument=!1,this.isResult=!1,this.annotations=n||t}function g(e,r,n){this.type="Union",this.id=e,this.fields=r,this.annotations=n||t}function y(e,r,n){this.type="Exception",this.id=e,this.fields=r,this.annotations=n||t}function v(e,r,n,i){this.type="Service",this.id=e,this.functions=r,this.baseService=i,this.annotations=n||t}function b(e,r,n,i,o,s){this.type="Function",this.id=e,this.returns=n,this.fields=r,this.fields.isArgument=!0,this.throws=i,this.oneway=s,this.annotations=o||t}function E(e,r,n,i,o,s){this.type="Field",this.id=e,this.name=n,this.valueType=r,this.required="required"===i,this.optional="optional"===i,this.defaultValue=o,this.annotations=s||t}function S(e,t,r){this.type="FieldIdentifier",this.value=e,this.line=t,this.column=r}function _(e,r,n){this.type="Map",this.keyType=e,this.valueType=r,this.annotations=n||t}function T(e,r){this.type="Set",this.valueType=e,this.annotations=r||t}function A(e,r){this.type="List",this.valueType=e,this.annotations=r||t}function C(e,t){this.type="TypeAnnotation",this.name=e,this.value=t}function w(e){this.type="Comment",this.value=e}function O(e){this.type="Literal",this.value=e}e.exports.Program=r,e.exports.Identifier=n,e.exports.Include=i,e.exports.Namespace=o,e.exports.Typedef=s,e.exports.BaseType=a,e.exports.Enum=l,e.exports.EnumDefinition=u,e.exports.Senum=c,e.exports.Const=d,e.exports.ConstList=h,e.exports.ConstMap=p,e.exports.ConstEntry=f,e.exports.Struct=m,e.exports.Union=g,e.exports.Exception=y,e.exports.Service=v,e.exports.FunctionDefinition=b,e.exports.Field=E,e.exports.FieldIdentifier=S,e.exports.MapType=_,e.exports.SetType=T,e.exports.ListType=A,e.exports.TypeAnnotation=C,e.exports.Comment=w,e.exports.Literal=O},35605:(e,t,r)=>{"use strict";var n=r(59972),i=r(51784),o=new n.VariableBuffer(n.Int32BE);function s(e){this.annotations=e}s.prototype.rw=o,s.prototype.name="binary",s.prototype.typeid=i.STRING,s.prototype.surface=Buffer,s.prototype.models="type",e.exports.BinaryRW=o,e.exports.ThriftBinary=s},67245:(e,t,r)=>{"use strict";var n=r(59972),i=r(25843),o=r(51784),s=n.Base(a,l,u,!0);function a(e){return e.reset(null,n.UInt8.width)}function l(e,t,r){var i=n.UInt8.poolReadFrom(e,t,r);return i.err||(i.value=!!i.value),i}function u(e,t,r,o){return"boolean"!=typeof t?e.reset(i.expected(t,"a boolean"),o):n.UInt8.poolWriteInto(e,Number(t),r,o)}function c(e){this.annotations=e}c.prototype.rw=s,c.prototype.name="boolean",c.prototype.typeid=o.BOOL,c.prototype.surface=Boolean,c.prototype.models="type",e.exports.BooleanRW=s,e.exports.ThriftBoolean=c},81290:(e,t,r)=>{"use strict";e.exports.ThriftByte=r(12197).ThriftI8,e.exports.ByteRW=r(12197).I8RW},28595:e=>{"use strict";function t(e){this.name=e.id.name,this.valueDefinition=e.value,this.defined=!1,this.value=null,this.surface=null}t.prototype.models="value",t.prototype.link=function(e){return this.defined||(this.defined=!0,this.value=e.resolveValue(this.valueDefinition),this.surface=this.value,e.consts[this.name]=this.value,/^[a-z]/.test(this.name)||(e[this.name]=this.value)),this},e.exports.ThriftConst=t},93206:(e,t,r)=>{"use strict";var n=r(59972),i=r(51784),o=n.DoubleBE;function s(e){this.annotations=e}s.prototype.rw=o,s.prototype.name="double",s.prototype.typeid=i.DOUBLE,s.prototype.surface=Number,s.prototype.models="type",e.exports.DoubleRW=o,e.exports.ThriftDouble=s},24959:(e,t,r)=>{"use strict";var n=r(39491),i=r(59972),o=r(51784),s=r(83431),a=r(28595).ThriftConst,l=r(31e3),u=r(73837).inherits,c=i.LengthResult;function d(){this.namesToValues=Object.create(null),this.valuesToNames=Object.create(null),this.namesToNames=Object.create(null),this.namesToAnnotations=Object.create(null),this.surface=this.namesToNames,this.annotations=null,this.rw=new h(this),this.linked=!1}function h(e){this.model=e,i.Base.call(this)}d.prototype.typeid=o.I32,d.prototype.models="type",d.prototype.compile=function(e,t){this.name=e.id.name;for(var r=0,i=e.definitions,o=0;o<i.length;o++){var s=i[o],u=s.id.name,c=s.value;c&&void 0!==c.value&&(r=c.value),n(void 0===this.namesToValues[u],"duplicate name in enum "+this.name+" at "+e.id.line+":"+e.id.column),n(r<=2147483647,"overflow in value in enum "+this.name+" at "+e.id.line+":"+e.id.column);var d=this.name+"."+u,h=new a(new l.Const(new l.Identifier(u),null,new l.Literal(u)));t.consts[d]=h,t.define(d,s.id,h),this.namesToValues[u]=r,this.namesToNames[u]=u,this.valuesToNames[r]=u,this.namesToAnnotations[u]=s.annotations,r++}this.annotations=e.annotations},d.prototype.link=function(e){return this.linked||(this.linked=!0,e.enums[this.name]=this.namesToNames,/^[a-z]/.test(this.name)||(e[this.name]=this.surface)),this},u(h,i.Base),h.prototype.lengthResult=new c(null,i.Int32BE.width),h.prototype.poolByteLength=function(e){return e.reset(null,i.Int32BE.width)},h.prototype.poolWriteInto=function(e,t,r,n){if("string"!=typeof t)return e.reset(s.InvalidEnumerationTypeError({enumName:this.model.name,name:t,nameType:typeof t}),null);var o=this.model.namesToValues[t];return void 0===o?e.reset(s.InvalidEnumerationNameError({enumName:this.model.name,name:t}),null):i.Int32BE.poolWriteInto(e,o,r,n)},h.prototype.poolReadFrom=function(e,t,r){if((n=i.Int32BE.poolReadFrom(e,t,r)).err)return n;r=n.offset;var n,o=n.value,a=this.model.valuesToNames[o];return a?e.reset(null,r,a):e.reset(s.InvalidEnumerationValueError({enumName:this.model.name,value:o}),r,null)},e.exports.ThriftEnum=d},83431:(e,t,r)=>{"use strict";var n=r(11754);e.exports.TypeIdMismatch=n({type:"thrift-typeid-mismatch",message:'encoded {what} typeid {encoded} doesn\'t match expected type "{expected}" (id: {expectedId})',encoded:null,expected:null,expectedId:null,what:null}),e.exports.MapKeyTypeIdMismatch=n({type:"thrift-map-key-typeid-mismatch",message:'encoded map key typeid {encoded} doesn\'t match expected type "{expected}" (id: {expectedId})',encoded:null,expected:null,expectedId:null}),e.exports.MapValTypeIdMismatch=n({type:"thrift-map-val-typeid-mismatch",message:'encoded map value typeid {encoded} doesn\'t match expected type "{expected}" (id: {expectedId})',encoded:null,expected:null,expectedId:null}),e.exports.InvalidSizeError=n({type:"thrift-invalid-size",message:"invalid size {size} of {what}; expects non-negative number",size:null,what:null}),e.exports.InvalidTypeidError=n({type:"thrift-invalid-typeid",message:"invalid typeid {typeid} of {what}; expects one of the values in TYPE",typeid:null,what:null}),e.exports.UnexpectedFieldValueTypeidError=n({type:"thrift-unexpected-field-value-typeid",message:'unexpected typeid {typeid} ({typeName}) for field "{fieldName}" with id {fieldId} on {structName}; expected {expectedTypeid} ({expectedTypeName})',typeid:null,typeName:null,expectedTypeid:null,expectedTypeName:null,fieldName:null,fieldId:null,structName:null}),e.exports.FieldRequiredError=n({type:"thrift-required-field",message:'missing required field "{name}" with id {id} on {structName}',name:null,id:null,structName:null}),e.exports.UnexpectedMapTypeAnnotation=n({type:"thrift-unexpected-map-type-annotation",message:'unexpected map js.type annotation "{mapType}"',mapType:null}),e.exports.InvalidEnumerationTypeError=n({type:"thrift-invalid-enumeration-type",message:"name must be a string for enumeration {enumName}, got: {name} ({nameType})",enumName:null,name:null,nameType:null}),e.exports.InvalidEnumerationNameError=n({type:"thrift-invalid-enumeration-name",message:"name must be a valid member of enumeration {enumName}, got: {name}",enumName:null,name:null}),e.exports.InvalidEnumerationValueError=n({type:"thrift-invalid-enumeration-value",message:"value must be a valid member of enumeration {enumName}, got: {value}",enumName:null,value:null}),e.exports.UnrecognizedMessageEnvelopeVersion=n({type:"thrift-unrecognized-message-envelope-version",message:"unrecognized Thrift message envelope version: {version}",version:null}),e.exports.UnrecognizedMessageEnvelopeType=n({type:"thrift-unrecognized-message-envelope-type",message:"unrecognized Thrift message envelope type: {value}",value:null}),e.exports.InvalidMessageEnvelopeTypeName=n({type:"thrift-invalid-message-envelope-type-name",message:"invalid Thrift message envelope type name: {name}",name:null})},58455:(e,t,r)=>{"use strict";var n=r(59972),i=r(25843),o=r(73837),s=r(51784);function a(){}function l(e){this.annotations=e}r(83431),o.inherits(a,n.Base),a.prototype.name="i16",a.prototype.width=2,a.prototype.min=-32768,a.prototype.max=32767,a.prototype.poolReadFrom=function(e,t,r){var n=t.readInt16BE(r,!0);return e.reset(null,r+this.width,n)},a.prototype.poolWriteInto=function(e,t,r,o){var s=+t;if("string"!=typeof t&&"number"!=typeof t||!isFinite(s))return e.reset(new i.InvalidArgument({expected:"a number"}));var a=r.length-o;return a<this.width?n.WriteResult.poolShortError(e,this.width,a,o):t<this.min||t>this.max?e.reset(new i.RangeError({value:s,min:this.min,max:this.max})):(r.writeInt16BE(s,o,!0),e.reset(null,o+this.width))},a.prototype.poolByteLength=function(e,t){return e.reset(null,this.width)},l.prototype.rw=new a,l.prototype.name="i16",l.prototype.typeid=s.I16,l.prototype.surface=Number,l.prototype.models="type",e.exports.I16RW=a,e.exports.ThriftI16=l},2896:(e,t,r)=>{"use strict";var n=r(59972),i=r(25843),o=r(73837),s=r(51784);function a(){}function l(e){this.annotations=e}r(83431),o.inherits(a,n.Base),a.prototype.name="i32",a.prototype.width=4,a.prototype.min=-2147483648,a.prototype.max=2147483647,a.prototype.poolReadFrom=function(e,t,r){var n=t.readInt32BE(r,!0);return e.reset(null,r+this.width,n)},a.prototype.poolWriteInto=function(e,t,r,o){var s=+t;if("string"!=typeof t&&"number"!=typeof t||!isFinite(s))return e.reset(new i.InvalidArgument({expected:"a number"}));var a=r.length-o;return a<this.width?n.WriteResult.poolShortError(e,this.width,a,o):t<this.min||t>this.max?e.reset(new i.RangeError({value:s,min:this.min,max:this.max})):(r.writeInt32BE(s,o,!0),e.reset(null,o+this.width))},a.prototype.poolByteLength=function(e,t){return e.reset(null,this.width)},l.prototype.rw=new a,l.prototype.name="i32",l.prototype.typeid=s.I32,l.prototype.surface=Number,l.prototype.models="type",e.exports.I32RW=a,e.exports.ThriftI32=l},26881:(e,t,r)=>{"use strict";var n,i=r(73837),o=r(59972),s=r(1933),a=r(51784),l=r(25843);function u(){o.Base.call(this)}function c(){}i.inherits(u,o.Base),u.prototype.lengthResult=o.LengthResult.just(8),u.prototype.poolByteLength=function(e,t){return e.reset(null,8)},u.prototype.poolWriteInto=function(e,t,r,n){if(t instanceof Buffer)return this.writeBufferInt64Into(e,t,r,n);if("number"==typeof t){var i=s.fromNumber(t);return r.writeInt32BE(i.high,n,!0),r.writeInt32BE(i.low,n+4,!0),e.reset(null,n+8)}return Array.isArray(t)?this.writeArrayInt64Into(e,t,r,n):"string"==typeof t?this.writeStringInt64Into(e,t,r,n):t&&"object"==typeof t?this.writeObjectInt64Into(e,t,r,n):e.reset(l.expected(t,"i64 representation"))},u.prototype.writeBufferInt64Into=function(e,t,r,n){return t.copy(r,n,0,8),e.reset(null,n+8)},u.prototype.writeObjectInt64Into=function(e,t,r,n){return"number"!=typeof t.high&&"number"!=typeof t.hi?e.reset(l.expected(t,"{hi[gh], lo[w]} with high bits, or other i64 representation"),null):"number"!=typeof t.low&&"number"!=typeof t.lo?e.reset(l.expected(t,"{hi[gh], lo[w]} with low bits, or other i64 representation"),null):(r.writeInt32BE(t.high||t.hi,n,!0),r.writeInt32BE(t.low||t.lo,n+4,!0),e.reset(null,n+8))},u.prototype.writeArrayInt64Into=function(e,t,r,n){if(8!==t.length)return e.reset(l.expected(t,"an array of 8 bytes, or other i64 representation"),null);for(var i=0;i<8;i++)r[n+i]=255&t[i];return e.reset(null,n+8)},u.prototype.writeStringInt64Into=function(e,t,r,n){if(16!==t.length)return e.reset(l.expected(t,"a string of 16 hex characters, or other i64 representation"),null);var i=parseInt(t.slice(0,8),16);if(i!=i)return e.reset(l.expected(t,"a string of hex characters, or other i64 representation"),null);var o=parseInt(t.slice(8,16),16);return o!=o?e.reset(l.expected(t,"a string of hex characters, or other i64 representation"),null):(r.writeInt32BE(i,n),r.writeInt32BE(o,n+4),e.reset(null,n+8))},i.inherits(c,u),c.prototype.poolReadFrom=function(e,t,r){var n=s.fromBits(t.readInt32BE(r+4,4,!0),t.readInt32BE(r,4,!0));return e.reset(null,r+8,n)};var d=new c;function h(){}i.inherits(h,u),h.prototype.poolReadFrom=function(e,t,r){var n=new Date(s.fromBits(t.readInt32BE(r+4,4,!0),t.readInt32BE(r+0,4,!0)).toNumber());return e.reset(null,r+8,n)},h.prototype.poolWriteInto=function(e,t,r,n){return t instanceof Buffer?this.writeBufferInt64Into(e,t,r,n):Array.isArray(t)?this.writeArrayInt64Into(e,t,r,n):("string"==typeof t&&(t=Date.parse(t)),t=s.fromNumber(+t),this.writeObjectInt64Into(e,t,r,n))};var p=new h;function f(){}i.inherits(f,u),f.prototype.poolReadFrom=function(e,t,r){var n=new Buffer(8);return t.copy(n,0,r,r+8),e.reset(null,r+8,n)};var m=new f;function g(e){e&&"Long"===e["js.type"]?(this.rw=d,this.surface=s):e&&"Date"===e["js.type"]?(this.rw=p,this.surface=Date):(this.rw=m,this.surface=Buffer),this.annotations=e}g.prototype.name="i64",g.prototype.typeid=a.I64,g.prototype.models="type",e.exports.I64RW=u,n=f,n=c,n=h,e.exports.ThriftI64=g},12197:(e,t,r)=>{"use strict";var n=r(59972),i=r(25843),o=r(73837),s=r(51784);function a(){}function l(e){this.annotations=e}r(83431),o.inherits(a,n.Base),a.prototype.name="i8",a.prototype.width=1,a.prototype.min=-128,a.prototype.max=127,a.prototype.poolReadFrom=function(e,t,r){var n=t[r];return e.reset(null,r+this.width,n)},a.prototype.poolWriteInto=function(e,t,r,o){var s=+t;if("string"!=typeof t&&"number"!=typeof t||!isFinite(s))return e.reset(new i.InvalidArgument({expected:"a number"}));var a=r.length-o;return a<this.width?n.WriteResult.poolShortError(e,this.width,a,o):t<this.min||t>this.max?e.reset(new i.RangeError({value:s,min:this.min,max:this.max})):(r[o]=s,e.reset(null,o+this.width))},a.prototype.poolByteLength=function(e,t){return e.reset(null,this.width)},l.prototype.rw=new a,l.prototype.name="i8",l.prototype.typeid=s.I8,l.prototype.surface=Number,l.prototype.models="type",e.exports.I8RW=a,e.exports.ThriftI8=l},68402:(e,t,r)=>{"use strict";var n=r(51784),i=r(59972),o=r(95683),s=r(30409),a=r(18899);e.exports.TYPE=n;var l=Object.create(null);l[n.BOOL]=i.Int8,l[n.BYTE]=i.Int8,l[n.DOUBLE]=i.DoubleBE,l[n.I16]=i.Int16BE,l[n.I32]=i.Int32BE,l[n.I64]=i.FixedWidth(8),l[n.STRING]=i.VariableBuffer(i.Int32BE),l[n.MAP]=o.TMapRW({ttypes:l}),l[n.LIST]=s.TListRW({ttypes:l}),l[n.SET]=s.TListRW({ttypes:l}),l[n.STRUCT]=a.TStructRW({ttypes:l}),e.exports.TPair=o.TPair,e.exports.TMap=o.TMap,e.exports.TMapRW=l[n.MAP],e.exports.TList=s.TList,e.exports.TListRW=l[n.LIST],e.exports.TField=a.TField,e.exports.TStruct=a.TStruct,e.exports.TStructRW=l[n.STRUCT],e.exports.BinaryRW=r(35605).BinaryRW,e.exports.ThriftBinary=r(35605).ThriftBinary,e.exports.BooleanRW=r(67245).BooleanRW,e.exports.ThriftBoolean=r(67245).ThriftBoolean,e.exports.ByteRW=r(81290).ByteRW,e.exports.ThriftByte=r(81290).ThriftByte,e.exports.DoubleRW=r(93206).DoubleRW,e.exports.ThriftDouble=r(93206).ThriftDouble,e.exports.I8RW=r(12197).I8RW,e.exports.ThriftI8=r(12197).ThriftI8,e.exports.I16RW=r(58455).I16RW,e.exports.ThriftI16=r(58455).ThriftI16,e.exports.I32RW=r(2896).I32RW,e.exports.ThriftI32=r(2896).ThriftI32,e.exports.I64RW=r(26881).I64RW,e.exports.ThriftI64=r(26881).ThriftI64,e.exports.ListRW=r(35298).ListRW,e.exports.ThriftList=r(35298).ThriftList,e.exports.ThriftSet=r(22918).ThriftSet,e.exports.MapObjectRW=r(59101).MapObjectRW,e.exports.MapEntriesRW=r(48650).MapEntriesRW,e.exports.StringRW=r(85472).StringRW,e.exports.ThriftString=r(85472).ThriftString,e.exports.VoidRW=r(59119).VoidRW,e.exports.ThriftVoid=r(59119).ThriftVoid,e.exports.Thrift=r(78511).Thrift},9340:e=>{"use strict";function t(e){if(0===e.length)return 1/0;for(var t=e[0],r=t.length,n=1;n<e.length;n++){for(var i=e[n],o=0;o<Math.min(r,i.length)&&i[o]===t[o];o++);r=o}return r}function r(e){var r=t(e),n=e[0].lastIndexOf("/",r-1);return e[0].slice(0,n+1)}e.exports.lengthOfCommonPrefix=t,e.exports.longestCommonPath=r},35298:(e,t,r)=>{"use strict";var n=r(59972),i=r(39491),o=r(51784),s=r(83431),a=r(73837);function l(e,t){this.valueType=e,this.rw=new u(e,this),this.annotations=t}function u(e,t){this.valueType=e,this.model=t,n.Base.call(this)}l.prototype.name="list",l.prototype.typeid=o.LIST,l.prototype.surface=Array,l.prototype.models="type",a.inherits(u,n.Base),u.prototype.headerRW=n.Series([n.Int8,n.Int32BE]),u.prototype.form={create:function(){return[]},add:function(e,t){e.push(t)},toArray:function(e){return i(Array.isArray(e),"list must be expressed as an array"),e}},u.prototype.poolByteLength=function(e,t){var r,n=this.valueType;t=this.form.toArray(t);for(var i=5,o=0;o<t.length;o++){if((r=n.rw.poolByteLength(e,t[o])).err)return r;i+=r.length}return e.reset(null,i)},u.prototype.poolWriteInto=function(e,t,r,n){var i=this.valueType;t=this.form.toArray(t);var o=this.headerRW.poolWriteInto(e,[i.typeid,t.length],r,n);if(o.err)return o;n=o.offset;for(var s=0;s<t.length;s++){if((o=i.rw.poolWriteInto(e,t[s],r,n)).err)return o;n=o.offset}return e.reset(null,n)},u.prototype.poolReadFrom=function(e,t,r){var n=this.valueType,i=this.headerRW.poolReadFrom(e,t,r);if(i.err)return i;r=i.offset;var o=i.value[0],a=i.value[1];if(o!==n.typeid)return e.reset(s.TypeIdMismatch({encoded:o,expectedId:n.typeid,expected:n.name,what:this.model.name}),r,null);if(a<0)return e.reset(s.InvalidSizeError({size:a,what:this.model.name}),r,null);for(var l=this.form.create(),u=0;u<a;u++){if((i=n.rw.poolReadFrom(e,t,r)).err)return i;r=i.offset,this.form.add(l,i.value)}return e.reset(null,r,l)},e.exports.ListRW=u,e.exports.ThriftList=l},48650:(e,t,r)=>{"use strict";var n=r(59972),i=r(73837).inherits,o=r(83431);function s(e,t){this.ktype=e,this.vtype=t,this.ktype.rw.width&&this.vtype.rw.width?this.poolByteLength=this.mapFixFixbyteLength:this.ktype.rw.width?this.poolByteLength=this.mapFixVarbyteLength:this.vtype.rw.width&&(this.poolByteLength=this.mapVarFixbyteLength),n.Base.call(this)}i(s,n.Base),s.prototype.poolByteLength=function(e,t){for(var r=6,n=0;n<t.length;n++){var i=this.ktype.rw.poolByteLength(e,t[n][0]);if(i.err||(r+=i.length,(i=this.vtype.rw.poolByteLength(e,t[n][1])).err))return i;r+=i.length}return e.reset(null,r)},s.prototype.mapVarFixbyteLength=function(e,t){for(var r=6+t.length*this.vtype.rw.width,n=0;n<t.length;n++){var i=this.ktype.rw.poolByteLength(e,t[n][0]);if(i.err)return i;r+=i.length}return e.reset(null,r)},s.prototype.mapFixVarbyteLength=function(e,t){for(var r=6+t.length*this.ktype.rw.width,n=0;n<t.length;n++){var i=this.vtype.rw.poolByteLength(e,t[n][1]);if(i.err)return i;r+=i.length}return e.reset(null,r)},s.prototype.mapFixFixbyteLength=function(e,t){var r=6+t.length*this.ktype.rw.width+t.length*this.vtype.rw.width;return e.reset(null,r)},s.prototype.poolWriteInto=function(e,t,r,i){var o=n.UInt8.poolWriteInto(e,this.ktype.typeid,r,i);if(o.err||(i=o.offset,(o=n.UInt8.poolWriteInto(e,this.vtype.typeid,r,i)).err)||(i=o.offset,(o=n.UInt32BE.poolWriteInto(e,t.length,r,i)).err))return o;i=o.offset;for(var s=0;s<t.length;s++){var a=t[s];if((o=this.ktype.rw.poolWriteInto(e,a[0],r,i)).err||(i=o.offset,(o=this.vtype.rw.poolWriteInto(e,a[1],r,i)).err))return o;i=o.offset}return e.reset(null,i)},s.prototype.poolReadFrom=function(e,t,r){var i=n.UInt8.poolReadFrom(e,t,r);if(i.err)return i;r=i.offset;var s=i.value;if(s!==this.ktype.typeid)return e.reset(o.MapKeyTypeIdMismatch({encoded:s,expected:this.ktype.name,expectedId:this.ktype.typeid}),r);if((i=n.UInt8.poolReadFrom(e,t,r)).err)return i;r=i.offset;var a=i.value;if(a!==this.vtype.typeid)return e.reset(o.MapValTypeIdMismatch({encoded:a,expected:this.vtype.name,expectedId:this.vtype.typeid}),r);if((i=n.UInt32BE.poolReadFrom(e,t,r)).err)return i;r=i.offset;for(var l=i.value,u=[],c=0;c<l;c++){if((i=this.ktype.rw.poolReadFrom(e,t,r)).err)return i;r=i.offset;var d=i.value;if((i=this.vtype.rw.poolReadFrom(e,t,r)).err)return i;r=i.offset;var h=i.value;u.push([d,h])}return e.reset(null,r,u)},e.exports.MapEntriesRW=s},59101:(e,t,r)=>{"use strict";var n=r(59972),i=r(73837).inherits,o=r(83431);function s(e,t){this.ktype=e,this.vtype=t,this.vtype.rw.width&&(this.poolByteLength=this.mapVarFixbyteLength),n.Base.call(this)}i(s,n.Base),s.prototype.poolByteLength=function(e,t){for(var r=t&&Object.keys(t),n=6,i=0;i<r.length;i++){var o=r[i],s=t[o],a=this.ktype.rw.poolByteLength(e,o);if(a.err||(n+=a.length,(a=this.vtype.rw.poolByteLength(e,s)).err))return a;n+=a.length}return e.reset(null,n)},s.prototype.mapVarFixbyteLength=function(e,t){for(var r=t&&Object.keys(t),n=6+r.length*this.vtype.rw.width,i=0;i<r.length;i++){var o=r[i],s=this.ktype.rw.poolByteLength(e,o);if(s.err)return s;n+=s.length}return e.reset(null,n)},s.prototype.poolWriteInto=function(e,t,r,i){var o=n.UInt8.poolWriteInto(e,this.ktype.typeid,r,i);if(o.err||(i=o.offset,(o=n.UInt8.poolWriteInto(e,this.vtype.typeid,r,i)).err))return o;i=o.offset;var s=t&&Object.keys(t);if((o=n.UInt32BE.poolWriteInto(e,s.length,r,i)).err)return o;i=o.offset;for(var a=0;a<s.length;a++){var l=s[a],u=t[l];if((o=this.ktype.rw.poolWriteInto(e,l,r,i)).err||(i=o.offset,(o=this.vtype.rw.poolWriteInto(e,u,r,i)).err))return o;i=o.offset}return e.reset(null,i)},s.prototype.poolReadFrom=function(e,t,r){var i=n.UInt8.poolReadFrom(e,t,r);if(i.err)return i;r=i.offset;var s=i.value;if(s!==this.ktype.typeid)return e.reset(o.MapKeyTypeIdMismatch({encoded:s,expected:this.ktype.name,expectedId:this.ktype.typeid}),r);if((i=n.UInt8.poolReadFrom(e,t,r)).err)return i;r=i.offset;var a=i.value;if(a!==this.vtype.typeid)return e.reset(o.MapValTypeIdMismatch({encoded:a,expected:this.vtype.name,expectedId:this.vtype.typeid}),r);if((i=n.UInt32BE.poolReadFrom(e,t,r)).err)return i;r=i.offset;for(var l=i.value,u={},c=0;c<l;c++){if((i=this.ktype.rw.poolReadFrom(e,t,r)).err)return i;r=i.offset;var d=i.value;if((i=this.vtype.rw.poolReadFrom(e,t,r)).err)return i;r=i.offset;var h=i.value;u[d]=h}return e.reset(null,r,u)},e.exports.MapObjectRW=s},48459:(e,t,r)=>{"use strict";var n=r(51784),i=r(59101).MapObjectRW,o=r(48650).MapEntriesRW,s=r(83431);function a(e,t,r){this.rw=null,this.surface=null;var n=r["js.type"]||"object";if("object"===n)this.rw=new i(e,t),this.surface=Object;else if("entries"===n)this.rw=new o(e,t),this.surface=Array;else throw s.UnexpectedMapTypeAnnotation({mapType:n});this.annotations=r}a.prototype.name="map",a.prototype.typeid=n.MAP,a.prototype.models="type",e.exports.ThriftMap=a},32518:(e,t,r)=>{"use strict";var n,i=r(76739),o=r(73837);r(15180).Struct;var s=r(83431),a={},l={CALL:1,REPLY:2,EXCEPTION:3,ONEWAY:4},u={1:"CALL",2:"REPLY",3:"EXCEPTION",4:"ONEWAY"},c={type:"Enum",id:{name:"ThriftMessageEnvelopeExceptionType"},definitions:[{id:{name:"UNKNOWN"},value:{value:0}},{id:{name:"UNKNOWN_METHOD"},value:{value:1}},{id:{name:"INVALID_MESSAGE_TYPE"},value:{value:2}},{id:{name:"WRONG_METHOD_NAME"},value:{value:3}},{id:{name:"BAD_SEQUENCE_ID"},value:{value:4}},{id:{name:"MISSING_RESULT"},value:{value:5}},{id:{name:"INTERNAL_ERROR"},value:{value:6}},{id:{name:"PROTOCOL_ERROR"},value:{value:7}},{id:{name:"INVALID_TRANSFORM"},value:{value:8}},{id:{name:"INVALID_PROTOCOL"},value:{value:9}},{id:{name:"UNSUPPORTED_CLIENT_TYPE"},value:{value:10}}]},d={type:"Struct",id:{name:"ThriftMessageEnvelopeException"},fields:[{id:{value:1},name:"message",valueType:{type:"BaseType",baseType:"string"},optional:!0,required:!1},{id:{value:2},name:"type",valueType:{type:"Identifier",name:"ThriftMessageEnvelopeExceptionType"},optional:!0,required:!1}]};function h(e){e=e||a,this.id=e.id,this.name=e.name,this.body=e.body,this.type=e.type,this.version=e.version||0}function p(e,t){this.body=e,this.exception=t,i.call(this)}o.inherits(p,i),p.prototype.poolByteLength=function(e,t){var r=t.name.length;return(t.version>0?r+=12:r+=9,"EXCEPTION"===t.type)?(e=this.exception.poolByteLength(e,t.body)).err?e:(r+=e.length,e.reset(null,r)):(e=this.body.poolByteLength(e,t.body)).err?e:(r+=e.length,e.reset(null,r))},p.prototype.poolWriteInto=function(e,t,r,n){return(e=t.version>0?this.poolStrictWriteInto(e,t,r,n):this.poolLegacyWriteInto(e,t,r,n)).err?e:(n=e.offset,"EXCEPTION"===t.type)?this.exception.poolWriteInto(e,t.body,r,n):this.body.poolWriteInto(e,t.body,r,n)},p.prototype.poolStrictWriteInto=function(e,t,r,n){r.writeUInt16BE(32768|t.version,n),n+=2;var i=l[t.type];return null==i?e.reset(new s.InvalidMessageEnvelopeTypeName({name:t.type})):(r.writeUInt16BE(i,n),n+=2,r.writeUInt32BE(t.name.length,n),n+=4,r.write(t.name,n,"ascii"),n+=t.name.length,r.writeUInt32BE(t.id,n),n+=4,e.reset(null,n))},p.prototype.poolLegacyWriteInto=function(e,t,r,n){r.writeUInt32BE(t.name.length,n,!0),n+=4,r.write(t.name,n,"ascii"),n+=t.name.length;var i=l[t.type];return null==i?e.reset(new s.InvalidMessageEnvelopeTypeName({name:t.type})):(r.writeUInt8(i,n),n+=1,r.writeUInt32BE(t.id,n,!0),n+=4,e.reset(null,n))},p.prototype.poolReadFrom=function(e,t,r){if((e=0>t.readInt8(r,!0)?this.poolStrictReadFrom(e,t,r):this.poolLegacyReadFrom(e,t,r)).err)return e;var n=e.value;return(r=e.offset,"EXCEPTION"===n.type)?(e=this.exception.poolReadFrom(e,t,r)).err?e:(n.body=e.value,r+=e.offset,e.reset(n.body,r,n)):(e=this.body.poolReadFrom(e,t,r)).err?e:(n.body=e.value,r=e.offset,e.reset(null,r,n))},p.prototype.poolStrictReadFrom=function(e,t,r){var n=new h;if(n.version=-32769&t.readUInt16BE(r,!0),r+=2,1!==n.version)return e.reset(new s.UnrecognizedMessageEnvelopeVersion({version:n.version}));var i=255&t.readUInt16BE(r,!0);if(r+=2,n.type=u[i],null==n.type)return e.reset(new s.UnrecognizedMessageEnvelopeType({value:i}));var o=t.readUInt32BE(r,!0);return r+=4,n.name=t.toString("ascii",r,r+o,!0),r+=o,n.id=t.readUInt32BE(r,!0),r+=4,e.reset(null,r,n)},p.prototype.poolLegacyReadFrom=function(e,t,r){var n=new h,i=t.readUInt32BE(r,!0);r+=4,n.name=t.toString("ascii",r,r+i,!0),r+=i;var o=t.readUInt8(r,!0);return(r+=1,n.id=t.readUInt32BE(r,!0),r+=4,n.type=u[o],null==n.type)?e.reset(new s.UnrecognizedMessageEnvelopeType({value:o})):e.reset(null,r,n)},e.exports.Message=h,e.exports.MessageRW=p,n=l,n=u,e.exports.exceptionDef=d,e.exports.exceptionTypesDef=c},68339:(e,t,r)=>{"use strict";var n=r(51784),i=Object.create(null);i[n.BOOL]="BOOL",i[n.VOID]="VOID",i[n.BYTE]="BYTE",i[n.DOUBLE]="DOUBLE",i[n.I16]="I16",i[n.I32]="I32",i[n.I64]="I64",i[n.STRING]="STRING",i[n.MAP]="MAP",i[n.LIST]="LIST",i[n.SET]="SET",i[n.STRUCT]="STRUCT",e.exports=i},1933:function(e,t){var r,n,i;!/**
 * @license Long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/Long.js for details
 */function(o,s){n=[],void 0!==(i="function"==typeof(r=s)?r.apply(t,n):r)&&(e.exports=i)}(0,function(){"use strict";function e(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}e.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),e.isLong=function(e){return!0===(e&&e.__isLong__)};var t={},r={};e.fromInt=function(n,i){var o,s;return i?0<=(n>>>=0)&&n<256&&(s=r[n])?s:(o=new e(n,(0|n)<0?-1:0,!0),0<=n&&n<256&&(r[n]=o),o):-128<=(n|=0)&&n<128&&(s=t[n])?s:(o=new e(n,n<0?-1:0,!1),-128<=n&&n<128&&(t[n]=o),o)},e.fromNumber=function(t,r){return(r=!!r,isNaN(t)||!isFinite(t))?e.ZERO:!r&&t<=-s?e.MIN_VALUE:!r&&t+1>=s?e.MAX_VALUE:r&&t>=o?e.MAX_UNSIGNED_VALUE:t<0?e.fromNumber(-t,r).negate():new e(t%i|0,t/i|0,r)},e.fromBits=function(t,r,n){return new e(t,r,n)},e.fromString=function(t,r,n){if(0===t.length)throw Error("number format error: empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e.ZERO;if("number"==typeof r&&(n=r,r=!1),(n=n||10)<2||36<n)throw Error("radix out of range: "+n);if((i=t.indexOf("-"))>0)throw Error('number format error: interior "-" character: '+t);if(0===i)return e.fromString(t.substring(1),r,n).negate();for(var i,o=e.fromNumber(Math.pow(n,8)),s=e.ZERO,a=0;a<t.length;a+=8){var l=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+l),n);if(l<8){var c=e.fromNumber(Math.pow(n,l));s=s.multiply(c).add(e.fromNumber(u))}else s=(s=s.multiply(o)).add(e.fromNumber(u))}return s.unsigned=r,s},e.fromValue=function(t){return t instanceof e?t:"number"==typeof t?e.fromNumber(t):"string"==typeof t?e.fromString(t):new e(t.low,t.high,t.unsigned)};var n=16777216,i=4294967296,o=18446744073709552e3,s=0x7fffffffffffffff,a=e.fromInt(n);return e.ZERO=e.fromInt(0),e.UZERO=e.fromInt(0,!0),e.ONE=e.fromInt(1),e.UONE=e.fromInt(1,!0),e.NEG_ONE=e.fromInt(-1),e.MAX_VALUE=e.fromBits(-1,2147483647,!1),e.MAX_UNSIGNED_VALUE=e.fromBits(-1,-1,!0),e.MIN_VALUE=e.fromBits(0,-2147483648,!1),e.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},e.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*i+(this.low>>>0):this.high*i+(this.low>>>0)},e.prototype.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix out of range: "+t);if(this.isZero())return"0";if(this.isNegative()){if(!this.equals(e.MIN_VALUE))return"-"+this.negate().toString(t);var r,n=e.fromNumber(t),i=this.divide(n);return r=i.multiply(n).subtract(this),i.toString(t)+r.toInt().toString(t)}var o=e.fromNumber(Math.pow(t,6),this.unsigned);r=this;for(var s="";;){var a=r.divide(o),l=(r.subtract(a.multiply(o)).toInt()>>>0).toString(t);if((r=a).isZero())return l+s;for(;l.length<6;)l="0"+l;s=""+l+s}},e.prototype.getHighBits=function(){return this.high},e.prototype.getHighBitsUnsigned=function(){return this.high>>>0},e.prototype.getLowBits=function(){return this.low},e.prototype.getLowBitsUnsigned=function(){return this.low>>>0},e.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(e.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,r=31;r>0&&(t&1<<r)==0;r--);return 0!=this.high?r+33:r+1},e.prototype.isZero=function(){return 0===this.high&&0===this.low},e.prototype.isNegative=function(){return!this.unsigned&&this.high<0},e.prototype.isPositive=function(){return this.unsigned||this.high>=0},e.prototype.isOdd=function(){return(1&this.low)==1},e.prototype.isEven=function(){return(1&this.low)==0},e.prototype.equals=function(t){return e.isLong(t)||(t=e.fromValue(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low},e.eq=e.prototype.equals,e.prototype.notEquals=function(e){return!this.equals(e)},e.neq=e.prototype.notEquals,e.prototype.lessThan=function(e){return 0>this.compare(e)},e.prototype.lt=e.prototype.lessThan,e.prototype.lessThanOrEqual=function(e){return 0>=this.compare(e)},e.prototype.lte=e.prototype.lessThanOrEqual,e.prototype.greaterThan=function(e){return this.compare(e)>0},e.prototype.gt=e.prototype.greaterThan,e.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},e.prototype.gte=e.prototype.greaterThanOrEqual,e.prototype.compare=function(t){if(e.isLong(t)||(t=e.fromValue(t)),this.equals(t))return 0;var r=this.isNegative(),n=t.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.subtract(t).isNegative()?-1:1},e.prototype.negate=function(){return!this.unsigned&&this.equals(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)},e.prototype.neg=e.prototype.negate,e.prototype.add=function(t){e.isLong(t)||(t=e.fromValue(t));var r,n,i=this.high>>>16,o=65535&this.high,s=this.low>>>16,a=65535&this.low,l=t.high>>>16,u=65535&t.high,c=t.low>>>16,d=65535&t.low,h=0,p=0;return r=0+((n=0+(a+d))>>>16),n&=65535,r+=s+c,p+=r>>>16,r&=65535,p+=o+u,h+=p>>>16,p&=65535,h+=i+l,h&=65535,e.fromBits(r<<16|n,h<<16|p,this.unsigned)},e.prototype.subtract=function(t){return e.isLong(t)||(t=e.fromValue(t)),this.add(t.negate())},e.prototype.sub=e.prototype.subtract,e.prototype.multiply=function(t){if(this.isZero()||(e.isLong(t)||(t=e.fromValue(t)),t.isZero()))return e.ZERO;if(this.equals(e.MIN_VALUE))return t.isOdd()?e.MIN_VALUE:e.ZERO;if(t.equals(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return t.isNegative()?this.negate().multiply(t.negate()):this.negate().multiply(t).negate();if(t.isNegative())return this.multiply(t.negate()).negate();if(this.lessThan(a)&&t.lessThan(a))return e.fromNumber(this.toNumber()*t.toNumber(),this.unsigned);var r,n,i=this.high>>>16,o=65535&this.high,s=this.low>>>16,l=65535&this.low,u=t.high>>>16,c=65535&t.high,d=t.low>>>16,h=65535&t.low,p=0,f=0;return r=0+((n=0+l*h)>>>16),n&=65535,r+=s*h,f+=r>>>16,r&=65535,r+=l*d,f+=r>>>16,r&=65535,f+=o*h,p+=f>>>16,f&=65535,f+=s*d,p+=f>>>16,f&=65535,f+=l*c,p+=f>>>16,f&=65535,p+=i*h+o*d+s*c+l*u,p&=65535,e.fromBits(r<<16|n,p<<16|f,this.unsigned)},e.prototype.mul=e.prototype.multiply,e.prototype.divide=function(t){if(e.isLong(t)||(t=e.fromValue(t)),t.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?e.UZERO:e.ZERO;if(this.equals(e.MIN_VALUE)){var r,n,i;return t.equals(e.ONE)||t.equals(e.NEG_ONE)?e.MIN_VALUE:t.equals(e.MIN_VALUE)?e.ONE:(r=this.shiftRight(1).divide(t).shiftLeft(1)).equals(e.ZERO)?t.isNegative()?e.ONE:e.NEG_ONE:(n=this.subtract(t.multiply(r)),i=r.add(n.divide(t)))}if(t.equals(e.MIN_VALUE))return this.unsigned?e.UZERO:e.ZERO;if(this.isNegative())return t.isNegative()?this.negate().divide(t.negate()):this.negate().divide(t).negate();if(t.isNegative())return this.divide(t.negate()).negate();for(i=e.ZERO,n=this;n.greaterThanOrEqual(t);){for(var o=Math.ceil(Math.log(r=Math.max(1,Math.floor(n.toNumber()/t.toNumber())))/Math.LN2),s=o<=48?1:Math.pow(2,o-48),a=e.fromNumber(r),l=a.multiply(t);l.isNegative()||l.greaterThan(n);)r-=s,l=(a=e.fromNumber(r,this.unsigned)).multiply(t);a.isZero()&&(a=e.ONE),i=i.add(a),n=n.subtract(l)}return i},e.prototype.div=e.prototype.divide,e.prototype.modulo=function(t){return e.isLong(t)||(t=e.fromValue(t)),this.subtract(this.divide(t).multiply(t))},e.prototype.mod=e.prototype.modulo,e.prototype.not=function(){return e.fromBits(~this.low,~this.high,this.unsigned)},e.prototype.and=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low&t.low,this.high&t.high,this.unsigned)},e.prototype.or=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low|t.low,this.high|t.high,this.unsigned)},e.prototype.xor=function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low^t.low,this.high^t.high,this.unsigned)},e.prototype.shiftLeft=function(t){return(e.isLong(t)&&(t=t.toInt()),0==(t&=63))?this:t<32?e.fromBits(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):e.fromBits(0,this.low<<t-32,this.unsigned)},e.prototype.shl=e.prototype.shiftLeft,e.prototype.shiftRight=function(t){return(e.isLong(t)&&(t=t.toInt()),0==(t&=63))?this:t<32?e.fromBits(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):e.fromBits(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},e.prototype.shr=e.prototype.shiftRight,e.prototype.shiftRightUnsigned=function(t){if(e.isLong(t)&&(t=t.toInt()),0==(t&=63))return this;var r=this.high;if(t<32){var n=this.low;return e.fromBits(n>>>t|r<<32-t,r>>>t,this.unsigned)}return 32===t?e.fromBits(r,0,this.unsigned):e.fromBits(r>>>t-32,0,this.unsigned)},e.prototype.shru=e.prototype.shiftRightUnsigned,e.prototype.toSigned=function(){return this.unsigned?new e(this.low,this.high,!1):this},e.prototype.toUnsigned=function(){return this.unsigned?this:new e(this.low,this.high,!0)},e})},6406:(e,t,r)=>{"use strict";var n=r(51784),i=r(25843),o=r(59972),s=r(83431),a=r(95683).TMapRW.prototype.headerRW,l=r(30409).TListRW.prototype.headerRW,u=r(85472).StringRW,c=r(67245).BooleanRW,d=Object.create(null);d[n.VOID]=0;var h=Object.create(null);function p(e,t,r,n){var o;if(void 0!==h[n]){if((o=h[n](e,t,r)).err)return o;r=o.offset}else{if(void 0===d[n])return e.reset(s.InvalidTypeidError({typeid:n,what:"field::type"}),r);var a=d[n];if(r+a>t.length)return e.reset(i.ShortBuffer({expected:r+a,actual:t.length,buffer:t,offset:r}),r);r+=a}return e.reset(null,r,o&&o.value)}function f(e,t,r){return c.poolReadFrom(e,t,r)}function m(e,t,r){return o.DoubleBE.poolReadFrom(e,t,r)}function g(e,t,r){return o.Int8.poolReadFrom(e,t,r)}function y(e,t,r){return o.Int16BE.poolReadFrom(e,t,r)}function v(e,t,r){return o.Int32BE.poolReadFrom(e,t,r)}h[n.BOOL]=f,h[n.BYTE]=g,h[n.DOUBLE]=m,h[n.I8]=g,h[n.I16]=y,h[n.I32]=v,h[n.I64]=E,h[n.STRING]=S,h[n.STRUCT]=_,h[n.MAP]=T,h[n.SET]=A,h[n.LIST]=A;var b=o.FixedWidth(8);function E(e,t,r){return b.poolReadFrom(e,t,r)}function S(e,t,r){return u.poolReadFrom(e,t,r)}function _(e,t,r){for(var i,s={};;){if((i=o.Int8.poolReadFrom(e,t,r)).err)return i;r=i.offset;var a=i.value;if(a===n.STOP)return e.reset(null,r,s);if((i=o.Int16BE.poolReadFrom(e,t,r)).err)return i;r=i.offset;var l=i.value;if(i=p(e,t,r,a),s[l]=i.value,i.err)return i;r=i.offset}}function T(e,t,r){var n,i,o={};if((n=a.poolReadFrom(e,t,r)).err)return n;r=n.offset;for(var s=n.value,l=s[0],u=s[1],c=s[2],d=0;d<c;d++){if((n=p(e,t,r,l)).err||(r=n.offset,i=n.value,(n=p(e,t,r,u)).err))return n;r=n.offset,o[i]=n.value}return e.reset(null,r,o)}function A(e,t,r){var n,i=[];if((n=l.poolReadFrom(e,t,r)).err)return n;r=n.offset;for(var o=n.value,s=o[0],a=o[1],u=0;u<a;u++){if((n=p(e,t,r,s)).err)return n;r=n.offset,i.push(n.value)}return e.reset(null,r,i)}e.exports.readType=p},76739:(e,t,r)=>{"use strict";var n=r(59972);function i(){n.Base.call(this)}r(73837).inherits(i,n.Base),i.prototype.toBuffer=function(e){return n.toBufferResult(this,e)},i.prototype.fromBuffer=function(e,t){return n.fromBufferResult(this,e,t)},e.exports=i},83641:(e,t,r)=>{"use strict";var n,i=r(31e3),o=r(32518).Message,s=r(32518).MessageRW;function a(e){this.name=e.name,this.service=e.service,this.fullName=this.service.name+"::"+this.name,this.model=e.model,this.args=null,this.result=null,this.strict=e.strict,this.linked=!1}function l(e){this.name=null,this.functions=[],this.functionsByName=Object.create(null),this.surface=this.functionsByName,this.strict=e.strict,this.baseService=null,this.linked=!1,this.annotations=null}a.prototype.compile=function(e,t){this.def=e,this.name=e.id.name;var r=new i.Identifier(this.name+"_args");r.as=this.fullName+"_args";var n=new i.Struct(r,e.fields);n.isArgument=!0,this.args=t.compileStruct(n);var o=e.returns,s=e.throws||[];if("BaseType"!==o.type||"void"!==o.baseType){var a=new i.FieldIdentifier(0),l=new i.Field(a,e.returns,"success");l.required=!1,l.optional=!0,l.isResult=!0,s.unshift(l)}var u=new i.Identifier(this.name+"_result");u.as=this.fullName+"_result";var c=new i.Struct(u,s);c.isResult=!0,this.result=t.compileStruct(c),this.oneway=e.oneway,this.annotations=e.annotations},a.prototype.link=function(e){this.args.link(e),this.result.link(e),this.Arguments=this.args.Constructor,this.Result=this.result.Constructor;var t=this.oneway?"ONEWAY":"CALL";this.ArgumentsMessage=this.makeMessageConstructor(this.name,t),this.ResultMessage=this.makeMessageConstructor(this.name,"REPLY"),this.argumentsMessageRW=new s(this.args.rw,e.exception.rw),this.resultMessageRW=new s(this.result.rw,e.exception.rw)},a.prototype.makeMessageConstructor=function(e,t){return function(r){o.call(this,r),this.name=r.name||e,this.type=r.type||t}},l.prototype.models="service",l.prototype.compile=function(e,t){this.name=e.id.name;for(var r=0;r<e.functions.length;r++)this.compileFunction(e.functions[r],t);this.baseService=e.baseService,this.annotations=e.annotations},l.prototype.compileFunction=function(e,t){var r=new a({name:e.id.name,service:this,strict:this.strict});r.compile(e,t),this.addFunction(r)},l.prototype.addFunction=function(e,t){if(this.functions.push(e),this.functionsByName[e.name])throw Error(this.name+"."+e.name+" already inherited from baseService");this.functionsByName[e.name]=e,t&&(t.define(this.name+"::"+e.args.name,e.def,e.args),t.define(this.name+"::"+e.result.name,e.def,e.result))},l.prototype.link=function(e){var t=0;if(this.linked)return this;if(this.linked=!0,this.baseService){var r=e.resolveIdentifier(this.baseService,this.baseService.name,"service");for(r.link(e),t=0;t<r.functions.length;t++){var n=r.functions[t];this.addFunction(n,e)}}for(t=0;t<this.functions.length;t++)this.functions[t].link(e);return e.services[this.name]=this.surface,/^[a-z]/.test(this.name)||(e[this.name]=this.surface),this},n=a,e.exports.ThriftService=l},22918:(e,t,r)=>{"use strict";var n=r(73837),i=r(39491),o=r(35298).ThriftList,s=r(51784);function a(e,t){o.call(this,e,t),this.mode=t&&t["js.type"]||"array",this.form=null,this.surface=null,"object"===this.mode?("string"===e.name?this.rw.form=this.objectStringForm:"byte"===e.name||"i16"===e.name||"i32"===e.name?this.rw.form=this.objectNumberForm:i.fail("sets with js.type of 'object' must have a value type of 'string', 'byte', 'i16', or 'i32'"),this.surface=Object):"array"===this.mode?(this.rw.form=this.arrayForm,this.surface=Array):i.fail("set must have js.type of object or array (default)"),this.annotations=t}n.inherits(a,o),a.prototype.name="set",a.prototype.typeid=s.SET,a.prototype.altTypeid=s.LIST,a.prototype.models="type",a.prototype.arrayForm={create:function(){return[]},add:function(e,t){e.push(t)},toArray:function(e){return i(Array.isArray(e),"set must be expressed as an array"),e}},a.prototype.objectNumberForm={create:function(){return{}},add:function(e,t){e[t]=!0},toArray:function(e){i(e&&"object"==typeof e,"set must be expressed as an object");for(var t=Object.keys(e),r=[],n=0;n<t.length;n++)e[t[n]]&&r.push(+t[n]);return r}},a.prototype.objectStringForm={create:function(){return{}},add:function(e,t){e[t]=!0},toArray:function(e){i(e&&"object"==typeof e,"set must be expressed as an object");for(var t=Object.keys(e),r=[],n=0;n<t.length;n++)e[t[n]]&&r.push(t[n]);return r}},e.exports.ThriftSet=a},56879:(e,t,r)=>{"use strict";var n,i=r(51784),o=r(25843),s=r(83431),a=r(95683).TMapRW.prototype.headerRW,l=r(30409).TListRW.prototype.headerRW,u=Object.create(null);u[i.VOID]=0,u[i.BOOL]=1,u[i.BYTE]=1,u[i.I8]=1,u[i.DOUBLE]=8,u[i.I16]=2,u[i.I32]=4,u[i.I64]=8;var c=Object.create(null);function d(e,t,r,n){var i;if(void 0!==c[n]){if((i=c[n](e,t,r)).err)return i;r=i.offset}else{if(void 0===u[n])return e.reset(s.InvalidTypeidError({typeid:n,what:"field::type"}),r);var a=u[n];if(r+a>t.length)return e.reset(o.ShortBuffer({expected:r+a,actual:t.length,buffer:t,offset:r}),r);r+=a}return e.reset(null,r)}function h(e,t,r){for(var n;;){if(r+1>t.length)return e.reset(o.ShortBuffer({expected:r+1,actual:t.length,buffer:t,offset:r}),r);var s=t.readInt8(r,!0);if(r+=1,s===i.STOP)return e.reset(null,r);if(r+2>t.length)return e.reset(o.ShortBuffer({expected:r+2,actual:t.length,buffer:t,offset:r}),r);if(r+=2,(n=d(e,t,r,s)).err)return n;r=n.offset}}function p(e,t,r){if(r+4>t.length)return e.reset(o.ShortBuffer({expected:r+4,actual:t.length,buffer:t,offset:r}),r);var n=t.readInt32BE(r,!0);return(r+=4)+n>t.length?e.reset(o.ShortBuffer({expected:r+n,actual:t.length,buffer:t,offset:r}),r):(r+=n,e.reset(null,r))}function f(e,t,r){if((n=a.poolReadFrom(e,t,r)).err)return n;r=n.offset;for(var n,i=n.value,o=i[0],s=i[1],l=i[2],u=0;u<l;u++){if((n=d(e,t,r,o)).err||(n=d(e,t,r=n.offset,s)).err)return n;r=n.offset}return e.reset(null,r)}function m(e,t,r){if((n=l.poolReadFrom(e,t,r)).err)return n;r=n.offset;for(var n,i=n.value,o=i[0],s=i[1],a=0;a<s;a++){if((n=d(e,t,r,o)).err)return n;r=n.offset}return e.reset(null,r)}c[i.STRUCT]=h,c[i.STRING]=p,c[i.MAP]=f,c[i.SET]=m,c[i.LIST]=m,n=function(e,t,r){if(r+1>t.length)return e.reset(o.ShortBuffer({expected:r+1,actual:t.length,buffer:t,offset:r}),r);var n=t.readInt8(r,!0);return d(e,t,r+=1,n)},e.exports.skipType=d},85472:(e,t,r)=>{"use strict";var n=r(59972),i=r(51784),o=new n.String(n.Int32BE,"utf-8");function s(e){this.annotations=e}s.prototype.rw=o,s.prototype.name="string",s.prototype.typeid=i.STRING,s.prototype.surface=String,s.prototype.models="type",e.exports.StringRW=o,e.exports.ThriftString=s},15180:(e,t,r)=>{"use strict";var n,i=r(39491),o=r(59972),s=r(76739),a=r(51784),l=r(68339),u=r(83431),c=r(56879).skipType,d=r(73837),h=r(69237).ThriftUnrecognizedException,p=r(6406).readType;function f(e,t){i(e.isResult||e.id.value>0,"field identifier must be greater than 0 for "+JSON.stringify(e.name)+" on "+JSON.stringify(t.name)+" at "+e.id.line+":"+e.id.column),this.id=e.id.value,this.name=e.name,this.required=e.required,this.optional=e.optional,this.valueDefinition=e.valueType,this.valueType=null,this.defaultValueDefinition=e.defaultValue||t.defaultValueDefinition,this.defaultValue=null,this.annotations=e.annotations}function m(e){e=e||{},this.name=null,this.strict=void 0===e.strict||e.strict,this.defaultValueDefinition=e.defaultValueDefinition,this.fields=[],this.fieldNames=[],this.fieldsById={},this.fieldsByName={},this.isArgument=null,this.isResult=null,this.isException=e.isException||!1,this.Constructor=null,this.surface=null,this.rw=new this.RW(this),this.thrift=null,this.linked=!1,this.annotations=null}function g(e){i(e,"model required"),this.model=e,s.call(this)}f.prototype.link=function(e){this.valueType=e.resolve(this.valueDefinition),i(this.valueType,"value type was defined, as returned by resolve")},f.prototype.linkValue=function(e){this.defaultValue=e.resolveValue(this.defaultValueDefinition)},m.prototype.name="struct",m.prototype.typeid=a.STRUCT,m.prototype.RW=g,m.prototype.isUnion=!1,m.prototype.models="type",m.prototype.toBuffer=function(e){return o.toBuffer(this.rw,e)},m.prototype.toBufferResult=function(e){return o.toBufferResult(this.rw,e)},m.prototype.fromBuffer=function(e,t){return o.fromBuffer(this.rw,e,t)},m.prototype.fromBufferResult=function(e){return o.fromBufferResult(this.rw,e)},m.prototype.compile=function(e,t){this.name=e.annotations&&e.annotations["js.name"]||e.id.name,this.fullName=e.id.as||this.name,this.isArgument=e.isArgument||!1,this.isResult=e.isResult||!1,this.thrift=t;for(var r=e.fields,n=0;n<r.length;n++){var i=new f(r[n],this);i.name=i.annotations&&i.annotations["js.name"]||i.name,this.fieldsById[i.id]=i,this.fieldsByName[i.name]=i,this.fieldNames[n]=i.name,this.fields.push(i)}this.annotations=e.annotations},m.prototype.link=function(e){if(this.linked)return this;for(t=0,this.linked=!0;t<this.fields.length;t++){var t,r=this.fields[t];r.linkValue(e),!this.isArgument||(this.thrift.allowOptionalArguments?r.required||r.optional||void 0!==r.defaultValue||(r.optional=!0):r.optional?i.ok(!1,"no field of an argument struct may be marked optional including "+r.name+" of "+this.name+"; consider new Thrift({allowOptionalArguments: true})."):r.required=!0),this.strict&&i(r.required||r.optional||null!==r.defaultValue&&void 0!==r.defaultValue||this.isArgument||this.isResult||this.isUnion,"every field must be marked optional, required, or have a default value on "+this.name+' including "'+r.name+'" in strict mode')}for(t=0,this.Constructor=this.createConstructor(this.name,this.fields),this.Constructor.rw=this.rw,this.Constructor.fromBuffer=this.fromBuffer,this.Constructor.fromBufferResult=this.fromBufferResult,this.Constructor.toBuffer=this.toBuffer,this.Constructor.toBufferResult=this.toBufferResult,this.surface=this.Constructor;t<this.fields.length;t++)this.fields[t].link(e);return this.isUnion?e.unions[this.name]=this.Constructor:this.isException?e.exceptions[this.name]=this.Constructor:e.structs[this.name]=this.Constructor,/^[a-z]/.test(this.name)||(e[this.name]=this.Constructor),this},m.prototype.validateStruct=function(e){for(var t=0;t<this.fields.length;t++){var r=this.fields[t];if(r.required&&null==r.defaultValue){var n=e&&e[r.name];if(!(null!=n))return u.FieldRequiredError({name:r.name,id:r.id,structName:this.name})}}return null},m.prototype.createConstructor=function e(e,t){var r;r="(function thriftrw_"+e+"(options) {\n";for(var n=0;n<t.length;n++){var i=t[n];r+="    if (options && typeof options."+i.name+' !== "undefined") { this.'+i.name+" = options."+i.name+"; }\n"+("    else { this."+i.name+" = ")+JSON.stringify(i.defaultValue)+"; }\n"}return(0,eval)(r+="})\n")},m.prototype.create=function(){return new this.Constructor},m.prototype.set=function(e,t,r){e[t]=r},m.prototype.finalize=function(e){return e},d.inherits(g,s),g.prototype.poolByteLength=function(e,t){for(var r,n=1,i=0;i<this.model.fields.length;i++){var o=this.model.fields[i],s=t&&t[o.name],a=null!=s;if(!a&&o.required)return e.reset(u.FieldRequiredError({name:o.name,id:o.id,structName:this.model.name,what:t}));if(a){if(n+=3,(r=o.valueType.rw.poolByteLength(e,s)).err)return r;n+=r.length}}return e.reset(null,n)},g.prototype.poolWriteInto=function(e,t,r,n){for(var i,s=0;s<this.model.fields.length;s++){var l=this.model.fields[s],c=t&&t[l.name],d=null!=c;if(!d&&l.required)return e.reset(u.FieldRequiredError({name:l.name,id:l.id,structName:this.model.name,what:t}));if(d){if((i=o.Int8.poolWriteInto(e,l.valueType.typeid,r,n)).err||(n=i.offset,(i=o.Int16BE.poolWriteInto(e,l.id,r,n)).err)||(n=i.offset,(i=l.valueType.rw.poolWriteInto(e,c,r,n)).err))return i;n=i.offset}}return(i=o.Int8.poolWriteInto(e,a.STOP,r,n)).err?i:(n=i.offset,e.reset(null,n))},g.prototype.poolReadFrom=function(e,t,r){for(var n,i=this.model.create();;){if((n=o.Int8.poolReadFrom(e,t,r)).err)return n;r=n.offset;var s=n.value;if(s===a.STOP)break;if((n=o.Int16BE.poolReadFrom(e,t,r)).err)return n;r=n.offset;var d=n.value;if(!this.model.fieldsById[d]&&this.model.isResult){if((n=p(e,t,r,s)).err)return n;r=n.offset,this.model.set(i,"failure",new h(n.value));continue}if(!this.model.fieldsById[d]){if((n=c(e,t,r,s)).err)return n;r=n.offset;continue}var f=this.model.fieldsById[d];if(f.valueType.typeid!==s&&f.valueType.altTypeid!==s)return e.reset(u.UnexpectedFieldValueTypeidError({fieldId:d,fieldName:f.name,structName:this.model.name,typeid:s,typeName:l[s],expectedTypeid:f.valueType.typeid,expectedTypeName:l[f.valueType.typeid]}),r);if((n=f.valueType.rw.poolReadFrom(e,t,r)).err)return e.reset(n.err,r);r=n.offset,this.model.set(i,f.name,n.value)}var m=this.model.validateStruct(i);return m?e.reset(m,r):e.reset(null,r,this.model.finalize(i))},n=f,e.exports.ThriftStruct=m,n=g},30464:(e,t,r)=>{e.exports=function(){function e(e,t,r,n,i,o){this.message=e,this.expected=t,this.found=r,this.offset=n,this.line=i,this.column=o,this.name="SyntaxError"}function t(t){var n,i=arguments.length>1?arguments[1]:{},o={},s={Program:iq},a=iq,l=o,u=function(e,t){return new sN.Program(e.filter(Boolean),t)},c="cpp_namespace",d={type:"literal",value:"cpp_namespace",description:'"cpp_namespace"'},h="php_namespace",p={type:"literal",value:"php_namespace",description:'"php_namespace"'},f="py_module",m={type:"literal",value:"py_module",description:'"py_module"'},g="perl_package",y={type:"literal",value:"perl_package",description:'"perl_package"'},v="ruby_namespace",b={type:"literal",value:"ruby_namespace",description:'"ruby_namespace"'},E="smalltalk_category",S={type:"literal",value:"smalltalk_category",description:'"smalltalk_category"'},_="smalltalk_prefix",T={type:"literal",value:"smalltalk_prefix",description:'"smalltalk_prefix"'},A="java_package",C={type:"literal",value:"java_package",description:'"java_package"'},w="cocoa_package",O={type:"literal",value:"cocoa_package",description:'"cocoa_package"'},R="xsd_namespace",x={type:"literal",value:"xsd_namespace",description:'"xsd_namespace"'},I="csharp_namespace",D={type:"literal",value:"csharp_namespace",description:'"csharp_namespace"'},P=null,N=function(e,t){return new sN.Include(t,e,iV(),iz())},k=function(e,t){return new sN.Namespace(t,e)},M="smalltalk.category",L={type:"literal",value:"smalltalk.category",description:'"smalltalk.category"'},B="smalltalk.prefix",j={type:"literal",value:"smalltalk.prefix",description:'"smalltalk.prefix"'},F="*",U={type:"literal",value:"*",description:'"*"'},V=function(e){},z=function(e,t){},G="cpp",$={type:"literal",value:"cpp",description:'"cpp"'},H="java",q={type:"literal",value:"java",description:'"java"'},W="py.twisted",K={type:"literal",value:"py.twisted",description:'"py.twisted"'},Y="py",Z={type:"literal",value:"py",description:'"py"'},J="perl",Q={type:"literal",value:"perl",description:'"perl"'},X="rb",ee={type:"literal",value:"rb",description:'"rb"'},et="cocoa",er={type:"literal",value:"cocoa",description:'"cocoa"'},en="csharp",ei={type:"literal",value:"csharp",description:'"csharp"'},eo="php",es={type:"literal",value:"php",description:'"php"'},ea="as3",el={type:"literal",value:"as3",description:'"as3"'},eu="c_glib",ec={type:"literal",value:"c_glib",description:'"c_glib"'},ed="js",eh={type:"literal",value:"js",description:'"js"'},ep="st",ef={type:"literal",value:"st",description:'"st"'},em="go",eg={type:"literal",value:"go",description:'"go"'},ey="delphi",ev={type:"literal",value:"delphi",description:'"delphi"'},eb="lua",eE={type:"literal",value:"lua",description:'"lua"'},eS=function(e,t,r){return new sN.Typedef(e,t,r)},e_=function(e){return e},eT=",",eA={type:"literal",value:",",description:'","'},eC=";",ew={type:"literal",value:";",description:'";"'},eO={type:"other",description:"list separator"},eR="{",ex={type:"literal",value:"{",description:'"{"'},eI="}",eD={type:"literal",value:"}",description:'"}"'},eP=function(e,t,r){return new sN.Enum(e,t,r)},eN="=",ek={type:"literal",value:"=",description:'"="'},eM=function(e){return e},eL=function(e,t,r){return new sN.EnumDefinition(e,t,r)},eB=function(e,t,r){return new sN.Senum(e,t,r)},ej=function(e){return e},eF=function(e,t,r){return new sN.Const(t,e,r)},eU="[",eV={type:"literal",value:"[",description:'"["'},ez=function(e){return e},eG="]",e$={type:"literal",value:"]",description:'"]"'},eH=function(e){return new sN.ConstList(e)},eq=function(e){return new sN.ConstMap(e)},eW=":",eK={type:"literal",value:":",description:'":"'},eY=function(e,t){return new sN.ConstEntry(e,t)},eZ="struct",eJ={type:"literal",value:"struct",description:'"struct"'},eQ=function(e,t,r){return new sN.Struct(e,t,r)},eX=function(e,t,r){return new sN.Union(e,t,r)},e0="xsd_all",e1={type:"literal",value:"xsd_all",description:'"xsd_all"'},e2="xsd_optional",e3={type:"literal",value:"xsd_optional",description:'"xsd_optional"'},e6="xsd_nillable",e4={type:"literal",value:"xsd_nillable",description:'"xsd_nillable"'},e5="xsd_attributes",e8={type:"literal",value:"xsd_attributes",description:'"xsd_attributes"'},e7="exception",e9={type:"literal",value:"exception",description:'"exception"'},te=function(e,t,r){return new sN.Exception(e,t,r)},tt="service",tr={type:"literal",value:"service",description:'"service"'},tn=function(e,t,r,n){return new sN.Service(e,r,n,t)},ti="extends",to={type:"literal",value:"extends",description:'"extends"'},ts=function(e){return e},ta="(",tl={type:"literal",value:"(",description:'"("'},tu=")",tc={type:"literal",value:")",description:'")"'},td=function(e,t,r,n,i,o){return new sN.FunctionDefinition(r,n,t,i,o,e)},th="oneway",tp={type:"literal",value:"oneway",description:'"oneway"'},tf=function(){return!0},tm=function(){return!1},tg="throws",ty={type:"literal",value:"throws",description:'"throws"'},tv=function(e){return e},tb=function(e,t,r,n,i,o,s){return new sN.Field(e,r,i,t,o,s)},tE="&",tS={type:"literal",value:"&",description:'"&"'},t_=function(){return!0},tT=function(){return!1},tA=function(e){return new sN.FieldIdentifier(e.value,iV(),iz())},tC="required",tw={type:"literal",value:"required",description:'"required"'},tO=function(){return"required"},tR="optional",tx={type:"literal",value:"optional",description:'"optional"'},tI=function(){return"optional"},tD=function(e){return e},tP="void",tN={type:"literal",value:"void",description:'"void"'},tk=function(){return new sN.BaseType("void")},tM=function(e,t){return new sN.BaseType(e,t)},tL="bool",tB={type:"literal",value:"bool",description:'"bool"'},tj="byte",tF={type:"literal",value:"byte",description:'"byte"'},tU="i8",tV={type:"literal",value:"i8",description:'"i8"'},tz="i16",tG={type:"literal",value:"i16",description:'"i16"'},t$="i32",tH={type:"literal",value:"i32",description:'"i32"'},tq="i64",tW={type:"literal",value:"i64",description:'"i64"'},tK="double",tY={type:"literal",value:"double",description:'"double"'},tZ="string",tJ={type:"literal",value:"string",description:'"string"'},tQ="binary",tX={type:"literal",value:"binary",description:'"binary"'},t0="slist",t1={type:"literal",value:"slist",description:'"slist"'},t2="map",t3={type:"literal",value:"map",description:'"map"'},t6="<",t4={type:"literal",value:"<",description:'"<"'},t5=">",t8={type:"literal",value:">",description:'">"'},t7=function(e,t,r){return new sN.MapType(e,t,r)},t9="set",re={type:"literal",value:"set",description:'"set"'},rt=function(e,t){return new sN.SetType(e,t)},rr="list",rn={type:"literal",value:"list",description:'"list"'},ri=function(e,t){return new sN.ListType(e,t)},ro="cpp_type",rs={type:"literal",value:"cpp_type",description:'"cpp_type"'},ra=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].name]=e[r].value;return t},rl=function(e){return e},ru=function(e,t){return new sN.TypeAnnotation(e,t)},rc=/^[a-zA-Z0-9_.]/,rd={type:"class",value:"[a-zA-Z0-9_.]",description:"[a-zA-Z0-9_.]"},rh=function(e){return new sN.Identifier(e,iV(),iz())},rp={type:"other",description:"identifier"},rf=void 0,rm=function(e,t){return e+t.join("")},rg="_",ry={type:"literal",value:"_",description:'"_"'},rv="",rb={type:"literal",value:"",description:'"\\u200C"'},rE="",rS={type:"literal",value:"",description:'"\\u200D"'},r_=".",rT={type:"literal",value:".",description:'"."'},rA=function(e){return new sN.Identifier(e,iV(),iz())},rC=/^[A-Za-z_]/,rw={type:"class",value:"[A-Za-z_]",description:"[A-Za-z_]"},rO={type:"any",description:"any character"},rR={type:"other",description:"whitespace"},rx="	",rI={type:"literal",value:"	",description:'"\\t"'},rD="\v",rP={type:"literal",value:"\v",description:'"\\x0B"'},rN="\f",rk={type:"literal",value:"\f",description:'"\\f"'},rM=" ",rL={type:"literal",value:" ",description:'" "'},rB="\xa0",rj={type:"literal",value:"\xa0",description:'"\\xA0"'},rF="\uFEFF",rU={type:"literal",value:"\uFEFF",description:'"\\uFEFF"'},rV=/^[\n\r\u2028\u2029]/,rz={type:"class",value:"[\\n\\r\\u2028\\u2029]",description:"[\\n\\r\\u2028\\u2029]"},rG={type:"other",description:"end of line"},r$="\n",rH={type:"literal",value:"\n",description:'"\\n"'},rq="\r\n",rW={type:"literal",value:"\r\n",description:'"\\r\\n"'},rK="\r",rY={type:"literal",value:"\r",description:'"\\r"'},rZ="\u2028",rJ={type:"literal",value:"\u2028",description:'"\\u2028"'},rQ="\u2029",rX={type:"literal",value:"\u2029",description:'"\\u2029"'},r0={type:"other",description:"comment"},r1="/*",r2={type:"literal",value:"/*",description:'"/*"'},r3="*/",r6={type:"literal",value:"*/",description:'"*/"'},r4=function(e){return e},r5=function(e){return new sN.Comment(e)},r8="//",r7={type:"literal",value:"//",description:'"//"'},r9=function(e){return e},ne="#",nt={type:"literal",value:"#",description:'"#"'},nr={type:"other",description:"string"},nn=function(e){return new sN.Literal(e)},ni='"',no={type:"literal",value:'"',description:'"\\""'},ns=function(e){return e.join("")},na="'",nl={type:"literal",value:"'",description:'"\'"'},nu="\\",nc={type:"literal",value:"\\",description:'"\\\\"'},nd=function(){return iU()},nh=function(e){return e},np=function(){return""},nf="0",nm={type:"literal",value:"0",description:'"0"'},ng=function(){return"\0"},ny="b",nv={type:"literal",value:"b",description:'"b"'},nb=function(){return"\b"},nE="f",nS={type:"literal",value:"f",description:'"f"'},n_=function(){return"\f"},nT="n",nA={type:"literal",value:"n",description:'"n"'},nC=function(){return"\n"},nw="r",nO={type:"literal",value:"r",description:'"r"'},nR=function(){return"\r"},nx="t",nI={type:"literal",value:"t",description:'"t"'},nD=function(){return"	"},nP="v",nN={type:"literal",value:"v",description:'"v"'},nk=function(){return"\v"},nM="x",nL={type:"literal",value:"x",description:'"x"'},nB="u",nj={type:"literal",value:"u",description:'"u"'},nF=function(e){return String.fromCharCode(parseInt(e,16))},nU={type:"other",description:"hex literal"},nV="0x",nz={type:"literal",value:"0x",description:'"0x"'},nG=function(e){return new sN.Literal(parseInt(e,16))},n$=/^[0-9a-f]/i,nH={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},nq={type:"other",description:"number"},nW=/^[+\-]/,nK={type:"class",value:"[+\\-]",description:"[+\\-]"},nY=function(e){return e},nZ={type:"other",description:"decimal literal"},nJ=function(){return new sN.Literal(parseFloat(iU()))},nQ="e",nX={type:"literal",value:"e",description:'"e"'},n0=/^[0-9]/,n1={type:"class",value:"[0-9]",description:"[0-9]"},n2=function(){return new sN.Literal(parseFloat(iU(),10))},n3="include",n6={type:"literal",value:"include",description:'"include"'},n4="cpp_include",n5={type:"literal",value:"cpp_include",description:'"cpp_include"'},n8="namespace",n7={type:"literal",value:"namespace",description:'"namespace"'},n9="typedef",ie={type:"literal",value:"typedef",description:'"typedef"'},it="enum",ir={type:"literal",value:"enum",description:'"enum"'},ii="senum",io={type:"literal",value:"senum",description:'"senum"'},is="const",ia={type:"literal",value:"const",description:'"const"'},il="union",iu={type:"literal",value:"union",description:'"union"'},ic=/^[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137-\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148-\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C-\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA-\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9-\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC-\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF-\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F-\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0-\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB-\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE-\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0561-\u0587\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6-\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FC7\u1FD0-\u1FD3\u1FD6-\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6-\u1FF7\u210A\u210E-\u210F\u2113\u212F\u2134\u2139\u213C-\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65-\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73-\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3-\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7FA\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]/,id={type:"class",value:"[a-z\\xB5\\xDF-\\xF6\\xF8-\\xFF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137-\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148-\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C-\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA-\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9-\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC-\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF-\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F-\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F-\\u0293\\u0295-\\u02AF\\u0371\\u0373\\u0377\\u037B-\\u037D\\u0390\\u03AC-\\u03CE\\u03D0-\\u03D1\\u03D5-\\u03D7\\u03D9\\u03DB\\u03DD\\u03DF\\u03E1\\u03E3\\u03E5\\u03E7\\u03E9\\u03EB\\u03ED\\u03EF-\\u03F3\\u03F5\\u03F8\\u03FB-\\u03FC\\u0430-\\u045F\\u0461\\u0463\\u0465\\u0467\\u0469\\u046B\\u046D\\u046F\\u0471\\u0473\\u0475\\u0477\\u0479\\u047B\\u047D\\u047F\\u0481\\u048B\\u048D\\u048F\\u0491\\u0493\\u0495\\u0497\\u0499\\u049B\\u049D\\u049F\\u04A1\\u04A3\\u04A5\\u04A7\\u04A9\\u04AB\\u04AD\\u04AF\\u04B1\\u04B3\\u04B5\\u04B7\\u04B9\\u04BB\\u04BD\\u04BF\\u04C2\\u04C4\\u04C6\\u04C8\\u04CA\\u04CC\\u04CE-\\u04CF\\u04D1\\u04D3\\u04D5\\u04D7\\u04D9\\u04DB\\u04DD\\u04DF\\u04E1\\u04E3\\u04E5\\u04E7\\u04E9\\u04EB\\u04ED\\u04EF\\u04F1\\u04F3\\u04F5\\u04F7\\u04F9\\u04FB\\u04FD\\u04FF\\u0501\\u0503\\u0505\\u0507\\u0509\\u050B\\u050D\\u050F\\u0511\\u0513\\u0515\\u0517\\u0519\\u051B\\u051D\\u051F\\u0521\\u0523\\u0525\\u0527\\u0561-\\u0587\\u1D00-\\u1D2B\\u1D6B-\\u1D77\\u1D79-\\u1D9A\\u1E01\\u1E03\\u1E05\\u1E07\\u1E09\\u1E0B\\u1E0D\\u1E0F\\u1E11\\u1E13\\u1E15\\u1E17\\u1E19\\u1E1B\\u1E1D\\u1E1F\\u1E21\\u1E23\\u1E25\\u1E27\\u1E29\\u1E2B\\u1E2D\\u1E2F\\u1E31\\u1E33\\u1E35\\u1E37\\u1E39\\u1E3B\\u1E3D\\u1E3F\\u1E41\\u1E43\\u1E45\\u1E47\\u1E49\\u1E4B\\u1E4D\\u1E4F\\u1E51\\u1E53\\u1E55\\u1E57\\u1E59\\u1E5B\\u1E5D\\u1E5F\\u1E61\\u1E63\\u1E65\\u1E67\\u1E69\\u1E6B\\u1E6D\\u1E6F\\u1E71\\u1E73\\u1E75\\u1E77\\u1E79\\u1E7B\\u1E7D\\u1E7F\\u1E81\\u1E83\\u1E85\\u1E87\\u1E89\\u1E8B\\u1E8D\\u1E8F\\u1E91\\u1E93\\u1E95-\\u1E9D\\u1E9F\\u1EA1\\u1EA3\\u1EA5\\u1EA7\\u1EA9\\u1EAB\\u1EAD\\u1EAF\\u1EB1\\u1EB3\\u1EB5\\u1EB7\\u1EB9\\u1EBB\\u1EBD\\u1EBF\\u1EC1\\u1EC3\\u1EC5\\u1EC7\\u1EC9\\u1ECB\\u1ECD\\u1ECF\\u1ED1\\u1ED3\\u1ED5\\u1ED7\\u1ED9\\u1EDB\\u1EDD\\u1EDF\\u1EE1\\u1EE3\\u1EE5\\u1EE7\\u1EE9\\u1EEB\\u1EED\\u1EEF\\u1EF1\\u1EF3\\u1EF5\\u1EF7\\u1EF9\\u1EFB\\u1EFD\\u1EFF-\\u1F07\\u1F10-\\u1F15\\u1F20-\\u1F27\\u1F30-\\u1F37\\u1F40-\\u1F45\\u1F50-\\u1F57\\u1F60-\\u1F67\\u1F70-\\u1F7D\\u1F80-\\u1F87\\u1F90-\\u1F97\\u1FA0-\\u1FA7\\u1FB0-\\u1FB4\\u1FB6-\\u1FB7\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FC7\\u1FD0-\\u1FD3\\u1FD6-\\u1FD7\\u1FE0-\\u1FE7\\u1FF2-\\u1FF4\\u1FF6-\\u1FF7\\u210A\\u210E-\\u210F\\u2113\\u212F\\u2134\\u2139\\u213C-\\u213D\\u2146-\\u2149\\u214E\\u2184\\u2C30-\\u2C5E\\u2C61\\u2C65-\\u2C66\\u2C68\\u2C6A\\u2C6C\\u2C71\\u2C73-\\u2C74\\u2C76-\\u2C7B\\u2C81\\u2C83\\u2C85\\u2C87\\u2C89\\u2C8B\\u2C8D\\u2C8F\\u2C91\\u2C93\\u2C95\\u2C97\\u2C99\\u2C9B\\u2C9D\\u2C9F\\u2CA1\\u2CA3\\u2CA5\\u2CA7\\u2CA9\\u2CAB\\u2CAD\\u2CAF\\u2CB1\\u2CB3\\u2CB5\\u2CB7\\u2CB9\\u2CBB\\u2CBD\\u2CBF\\u2CC1\\u2CC3\\u2CC5\\u2CC7\\u2CC9\\u2CCB\\u2CCD\\u2CCF\\u2CD1\\u2CD3\\u2CD5\\u2CD7\\u2CD9\\u2CDB\\u2CDD\\u2CDF\\u2CE1\\u2CE3-\\u2CE4\\u2CEC\\u2CEE\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\uA641\\uA643\\uA645\\uA647\\uA649\\uA64B\\uA64D\\uA64F\\uA651\\uA653\\uA655\\uA657\\uA659\\uA65B\\uA65D\\uA65F\\uA661\\uA663\\uA665\\uA667\\uA669\\uA66B\\uA66D\\uA681\\uA683\\uA685\\uA687\\uA689\\uA68B\\uA68D\\uA68F\\uA691\\uA693\\uA695\\uA697\\uA723\\uA725\\uA727\\uA729\\uA72B\\uA72D\\uA72F-\\uA731\\uA733\\uA735\\uA737\\uA739\\uA73B\\uA73D\\uA73F\\uA741\\uA743\\uA745\\uA747\\uA749\\uA74B\\uA74D\\uA74F\\uA751\\uA753\\uA755\\uA757\\uA759\\uA75B\\uA75D\\uA75F\\uA761\\uA763\\uA765\\uA767\\uA769\\uA76B\\uA76D\\uA76F\\uA771-\\uA778\\uA77A\\uA77C\\uA77F\\uA781\\uA783\\uA785\\uA787\\uA78C\\uA78E\\uA791\\uA793\\uA7A1\\uA7A3\\uA7A5\\uA7A7\\uA7A9\\uA7FA\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFF41-\\uFF5A]",description:"[a-z\\xB5\\xDF-\\xF6\\xF8-\\xFF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137-\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148-\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C-\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA-\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9-\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC-\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF-\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F-\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F-\\u0293\\u0295-\\u02AF\\u0371\\u0373\\u0377\\u037B-\\u037D\\u0390\\u03AC-\\u03CE\\u03D0-\\u03D1\\u03D5-\\u03D7\\u03D9\\u03DB\\u03DD\\u03DF\\u03E1\\u03E3\\u03E5\\u03E7\\u03E9\\u03EB\\u03ED\\u03EF-\\u03F3\\u03F5\\u03F8\\u03FB-\\u03FC\\u0430-\\u045F\\u0461\\u0463\\u0465\\u0467\\u0469\\u046B\\u046D\\u046F\\u0471\\u0473\\u0475\\u0477\\u0479\\u047B\\u047D\\u047F\\u0481\\u048B\\u048D\\u048F\\u0491\\u0493\\u0495\\u0497\\u0499\\u049B\\u049D\\u049F\\u04A1\\u04A3\\u04A5\\u04A7\\u04A9\\u04AB\\u04AD\\u04AF\\u04B1\\u04B3\\u04B5\\u04B7\\u04B9\\u04BB\\u04BD\\u04BF\\u04C2\\u04C4\\u04C6\\u04C8\\u04CA\\u04CC\\u04CE-\\u04CF\\u04D1\\u04D3\\u04D5\\u04D7\\u04D9\\u04DB\\u04DD\\u04DF\\u04E1\\u04E3\\u04E5\\u04E7\\u04E9\\u04EB\\u04ED\\u04EF\\u04F1\\u04F3\\u04F5\\u04F7\\u04F9\\u04FB\\u04FD\\u04FF\\u0501\\u0503\\u0505\\u0507\\u0509\\u050B\\u050D\\u050F\\u0511\\u0513\\u0515\\u0517\\u0519\\u051B\\u051D\\u051F\\u0521\\u0523\\u0525\\u0527\\u0561-\\u0587\\u1D00-\\u1D2B\\u1D6B-\\u1D77\\u1D79-\\u1D9A\\u1E01\\u1E03\\u1E05\\u1E07\\u1E09\\u1E0B\\u1E0D\\u1E0F\\u1E11\\u1E13\\u1E15\\u1E17\\u1E19\\u1E1B\\u1E1D\\u1E1F\\u1E21\\u1E23\\u1E25\\u1E27\\u1E29\\u1E2B\\u1E2D\\u1E2F\\u1E31\\u1E33\\u1E35\\u1E37\\u1E39\\u1E3B\\u1E3D\\u1E3F\\u1E41\\u1E43\\u1E45\\u1E47\\u1E49\\u1E4B\\u1E4D\\u1E4F\\u1E51\\u1E53\\u1E55\\u1E57\\u1E59\\u1E5B\\u1E5D\\u1E5F\\u1E61\\u1E63\\u1E65\\u1E67\\u1E69\\u1E6B\\u1E6D\\u1E6F\\u1E71\\u1E73\\u1E75\\u1E77\\u1E79\\u1E7B\\u1E7D\\u1E7F\\u1E81\\u1E83\\u1E85\\u1E87\\u1E89\\u1E8B\\u1E8D\\u1E8F\\u1E91\\u1E93\\u1E95-\\u1E9D\\u1E9F\\u1EA1\\u1EA3\\u1EA5\\u1EA7\\u1EA9\\u1EAB\\u1EAD\\u1EAF\\u1EB1\\u1EB3\\u1EB5\\u1EB7\\u1EB9\\u1EBB\\u1EBD\\u1EBF\\u1EC1\\u1EC3\\u1EC5\\u1EC7\\u1EC9\\u1ECB\\u1ECD\\u1ECF\\u1ED1\\u1ED3\\u1ED5\\u1ED7\\u1ED9\\u1EDB\\u1EDD\\u1EDF\\u1EE1\\u1EE3\\u1EE5\\u1EE7\\u1EE9\\u1EEB\\u1EED\\u1EEF\\u1EF1\\u1EF3\\u1EF5\\u1EF7\\u1EF9\\u1EFB\\u1EFD\\u1EFF-\\u1F07\\u1F10-\\u1F15\\u1F20-\\u1F27\\u1F30-\\u1F37\\u1F40-\\u1F45\\u1F50-\\u1F57\\u1F60-\\u1F67\\u1F70-\\u1F7D\\u1F80-\\u1F87\\u1F90-\\u1F97\\u1FA0-\\u1FA7\\u1FB0-\\u1FB4\\u1FB6-\\u1FB7\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FC7\\u1FD0-\\u1FD3\\u1FD6-\\u1FD7\\u1FE0-\\u1FE7\\u1FF2-\\u1FF4\\u1FF6-\\u1FF7\\u210A\\u210E-\\u210F\\u2113\\u212F\\u2134\\u2139\\u213C-\\u213D\\u2146-\\u2149\\u214E\\u2184\\u2C30-\\u2C5E\\u2C61\\u2C65-\\u2C66\\u2C68\\u2C6A\\u2C6C\\u2C71\\u2C73-\\u2C74\\u2C76-\\u2C7B\\u2C81\\u2C83\\u2C85\\u2C87\\u2C89\\u2C8B\\u2C8D\\u2C8F\\u2C91\\u2C93\\u2C95\\u2C97\\u2C99\\u2C9B\\u2C9D\\u2C9F\\u2CA1\\u2CA3\\u2CA5\\u2CA7\\u2CA9\\u2CAB\\u2CAD\\u2CAF\\u2CB1\\u2CB3\\u2CB5\\u2CB7\\u2CB9\\u2CBB\\u2CBD\\u2CBF\\u2CC1\\u2CC3\\u2CC5\\u2CC7\\u2CC9\\u2CCB\\u2CCD\\u2CCF\\u2CD1\\u2CD3\\u2CD5\\u2CD7\\u2CD9\\u2CDB\\u2CDD\\u2CDF\\u2CE1\\u2CE3-\\u2CE4\\u2CEC\\u2CEE\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\uA641\\uA643\\uA645\\uA647\\uA649\\uA64B\\uA64D\\uA64F\\uA651\\uA653\\uA655\\uA657\\uA659\\uA65B\\uA65D\\uA65F\\uA661\\uA663\\uA665\\uA667\\uA669\\uA66B\\uA66D\\uA681\\uA683\\uA685\\uA687\\uA689\\uA68B\\uA68D\\uA68F\\uA691\\uA693\\uA695\\uA697\\uA723\\uA725\\uA727\\uA729\\uA72B\\uA72D\\uA72F-\\uA731\\uA733\\uA735\\uA737\\uA739\\uA73B\\uA73D\\uA73F\\uA741\\uA743\\uA745\\uA747\\uA749\\uA74B\\uA74D\\uA74F\\uA751\\uA753\\uA755\\uA757\\uA759\\uA75B\\uA75D\\uA75F\\uA761\\uA763\\uA765\\uA767\\uA769\\uA76B\\uA76D\\uA76F\\uA771-\\uA778\\uA77A\\uA77C\\uA77F\\uA781\\uA783\\uA785\\uA787\\uA78C\\uA78E\\uA791\\uA793\\uA7A1\\uA7A3\\uA7A5\\uA7A7\\uA7A9\\uA7FA\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFF41-\\uFF5A]"},ih=/^[\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0374\u037A\u0559\u0640\u06E5-\u06E6\u07F4-\u07F5\u07FA\u081A\u0824\u0828\u0971\u0E46\u0EC6\u10FC\u17D7\u1843\u1AA7\u1C78-\u1C7D\u1D2C-\u1D6A\u1D78\u1D9B-\u1DBF\u2071\u207F\u2090-\u209C\u2C7C-\u2C7D\u2D6F\u2E2F\u3005\u3031-\u3035\u303B\u309D-\u309E\u30FC-\u30FE\uA015\uA4F8-\uA4FD\uA60C\uA67F\uA717-\uA71F\uA770\uA788\uA7F8-\uA7F9\uA9CF\uAA70\uAADD\uAAF3-\uAAF4\uFF70\uFF9E-\uFF9F]/,ip={type:"class",value:"[\\u02B0-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0374\\u037A\\u0559\\u0640\\u06E5-\\u06E6\\u07F4-\\u07F5\\u07FA\\u081A\\u0824\\u0828\\u0971\\u0E46\\u0EC6\\u10FC\\u17D7\\u1843\\u1AA7\\u1C78-\\u1C7D\\u1D2C-\\u1D6A\\u1D78\\u1D9B-\\u1DBF\\u2071\\u207F\\u2090-\\u209C\\u2C7C-\\u2C7D\\u2D6F\\u2E2F\\u3005\\u3031-\\u3035\\u303B\\u309D-\\u309E\\u30FC-\\u30FE\\uA015\\uA4F8-\\uA4FD\\uA60C\\uA67F\\uA717-\\uA71F\\uA770\\uA788\\uA7F8-\\uA7F9\\uA9CF\\uAA70\\uAADD\\uAAF3-\\uAAF4\\uFF70\\uFF9E-\\uFF9F]",description:"[\\u02B0-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0374\\u037A\\u0559\\u0640\\u06E5-\\u06E6\\u07F4-\\u07F5\\u07FA\\u081A\\u0824\\u0828\\u0971\\u0E46\\u0EC6\\u10FC\\u17D7\\u1843\\u1AA7\\u1C78-\\u1C7D\\u1D2C-\\u1D6A\\u1D78\\u1D9B-\\u1DBF\\u2071\\u207F\\u2090-\\u209C\\u2C7C-\\u2C7D\\u2D6F\\u2E2F\\u3005\\u3031-\\u3035\\u303B\\u309D-\\u309E\\u30FC-\\u30FE\\uA015\\uA4F8-\\uA4FD\\uA60C\\uA67F\\uA717-\\uA71F\\uA770\\uA788\\uA7F8-\\uA7F9\\uA9CF\\uAA70\\uAADD\\uAAF3-\\uAAF4\\uFF70\\uFF9E-\\uFF9F]"},im=/^[\xAA\xBA\u01BB\u01C0-\u01C3\u0294\u05D0-\u05EA\u05F0-\u05F2\u0620-\u063F\u0641-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u0800-\u0815\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0972-\u0977\u0979-\u097F\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58-\u0C59\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u10D0-\u10FA\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17DC\u1820-\u1842\u1844-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C77\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u2135-\u2138\u2D30-\u2D67\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3006\u303C\u3041-\u3096\u309F\u30A1-\u30FA\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA014\uA016-\uA48C\uA4D0-\uA4F7\uA500-\uA60B\uA610-\uA61F\uA62A-\uA62B\uA66E\uA6A0-\uA6E5\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA6F\uAA71-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADC\uAAE0-\uAAEA\uAAF2\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,ig={type:"class",value:"[\\xAA\\xBA\\u01BB\\u01C0-\\u01C3\\u0294\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u063F\\u0641-\\u064A\\u066E-\\u066F\\u0671-\\u06D3\\u06D5\\u06EE-\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u0800-\\u0815\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0972-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F-\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC-\\u09DD\\u09DF-\\u09E1\\u09F0-\\u09F1\\u0A05-\\u0A0A\\u0A0F-\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32-\\u0A33\\u0A35-\\u0A36\\u0A38-\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2-\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0-\\u0AE1\\u0B05-\\u0B0C\\u0B0F-\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32-\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C-\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99-\\u0B9A\\u0B9C\\u0B9E-\\u0B9F\\u0BA3-\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58-\\u0C59\\u0C60-\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0-\\u0CE1\\u0CF1-\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32-\\u0E33\\u0E40-\\u0E45\\u0E81-\\u0E82\\u0E84\\u0E87-\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA-\\u0EAB\\u0EAD-\\u0EB0\\u0EB2-\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065-\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10D0-\\u10FA\\u10FD-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17DC\\u1820-\\u1842\\u1844-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE-\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C77\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5-\\u1CF6\\u2135-\\u2138\\u2D30-\\u2D67\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u3006\\u303C\\u3041-\\u3096\\u309F\\u30A1-\\u30FA\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA014\\uA016-\\uA48C\\uA4D0-\\uA4F7\\uA500-\\uA60B\\uA610-\\uA61F\\uA62A-\\uA62B\\uA66E\\uA6A0-\\uA6E5\\uA7FB-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA6F\\uAA71-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5-\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADC\\uAAE0-\\uAAEA\\uAAF2\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40-\\uFB41\\uFB43-\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF66-\\uFF6F\\uFF71-\\uFF9D\\uFFA0-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]",description:"[\\xAA\\xBA\\u01BB\\u01C0-\\u01C3\\u0294\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u063F\\u0641-\\u064A\\u066E-\\u066F\\u0671-\\u06D3\\u06D5\\u06EE-\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u0800-\\u0815\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0972-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F-\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC-\\u09DD\\u09DF-\\u09E1\\u09F0-\\u09F1\\u0A05-\\u0A0A\\u0A0F-\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32-\\u0A33\\u0A35-\\u0A36\\u0A38-\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2-\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0-\\u0AE1\\u0B05-\\u0B0C\\u0B0F-\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32-\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C-\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99-\\u0B9A\\u0B9C\\u0B9E-\\u0B9F\\u0BA3-\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58-\\u0C59\\u0C60-\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0-\\u0CE1\\u0CF1-\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32-\\u0E33\\u0E40-\\u0E45\\u0E81-\\u0E82\\u0E84\\u0E87-\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA-\\u0EAB\\u0EAD-\\u0EB0\\u0EB2-\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065-\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10D0-\\u10FA\\u10FD-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17DC\\u1820-\\u1842\\u1844-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE-\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C77\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5-\\u1CF6\\u2135-\\u2138\\u2D30-\\u2D67\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u3006\\u303C\\u3041-\\u3096\\u309F\\u30A1-\\u30FA\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA014\\uA016-\\uA48C\\uA4D0-\\uA4F7\\uA500-\\uA60B\\uA610-\\uA61F\\uA62A-\\uA62B\\uA66E\\uA6A0-\\uA6E5\\uA7FB-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA6F\\uAA71-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5-\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADC\\uAAE0-\\uAAEA\\uAAF2\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40-\\uFB41\\uFB43-\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF66-\\uFF6F\\uFF71-\\uFF9D\\uFFA0-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"},iy=/^[\u01C5\u01C8\u01CB\u01F2\u1F88-\u1F8F\u1F98-\u1F9F\u1FA8-\u1FAF\u1FBC\u1FCC\u1FFC]/,iv={type:"class",value:"[\\u01C5\\u01C8\\u01CB\\u01F2\\u1F88-\\u1F8F\\u1F98-\\u1F9F\\u1FA8-\\u1FAF\\u1FBC\\u1FCC\\u1FFC]",description:"[\\u01C5\\u01C8\\u01CB\\u01F2\\u1F88-\\u1F8F\\u1F98-\\u1F9F\\u1FA8-\\u1FAF\\u1FBC\\u1FCC\\u1FFC]"},ib=/^[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178-\u0179\u017B\u017D\u0181-\u0182\u0184\u0186-\u0187\u0189-\u018B\u018E-\u0191\u0193-\u0194\u0196-\u0198\u019C-\u019D\u019F-\u01A0\u01A2\u01A4\u01A6-\u01A7\u01A9\u01AC\u01AE-\u01AF\u01B1-\u01B3\u01B5\u01B7-\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A-\u023B\u023D-\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u0386\u0388-\u038A\u038C\u038E-\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9-\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0-\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E-\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D-\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA\uFF21-\uFF3A]/,iE={type:"class",value:"[A-Z\\xC0-\\xD6\\xD8-\\xDE\\u0100\\u0102\\u0104\\u0106\\u0108\\u010A\\u010C\\u010E\\u0110\\u0112\\u0114\\u0116\\u0118\\u011A\\u011C\\u011E\\u0120\\u0122\\u0124\\u0126\\u0128\\u012A\\u012C\\u012E\\u0130\\u0132\\u0134\\u0136\\u0139\\u013B\\u013D\\u013F\\u0141\\u0143\\u0145\\u0147\\u014A\\u014C\\u014E\\u0150\\u0152\\u0154\\u0156\\u0158\\u015A\\u015C\\u015E\\u0160\\u0162\\u0164\\u0166\\u0168\\u016A\\u016C\\u016E\\u0170\\u0172\\u0174\\u0176\\u0178-\\u0179\\u017B\\u017D\\u0181-\\u0182\\u0184\\u0186-\\u0187\\u0189-\\u018B\\u018E-\\u0191\\u0193-\\u0194\\u0196-\\u0198\\u019C-\\u019D\\u019F-\\u01A0\\u01A2\\u01A4\\u01A6-\\u01A7\\u01A9\\u01AC\\u01AE-\\u01AF\\u01B1-\\u01B3\\u01B5\\u01B7-\\u01B8\\u01BC\\u01C4\\u01C7\\u01CA\\u01CD\\u01CF\\u01D1\\u01D3\\u01D5\\u01D7\\u01D9\\u01DB\\u01DE\\u01E0\\u01E2\\u01E4\\u01E6\\u01E8\\u01EA\\u01EC\\u01EE\\u01F1\\u01F4\\u01F6-\\u01F8\\u01FA\\u01FC\\u01FE\\u0200\\u0202\\u0204\\u0206\\u0208\\u020A\\u020C\\u020E\\u0210\\u0212\\u0214\\u0216\\u0218\\u021A\\u021C\\u021E\\u0220\\u0222\\u0224\\u0226\\u0228\\u022A\\u022C\\u022E\\u0230\\u0232\\u023A-\\u023B\\u023D-\\u023E\\u0241\\u0243-\\u0246\\u0248\\u024A\\u024C\\u024E\\u0370\\u0372\\u0376\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u038F\\u0391-\\u03A1\\u03A3-\\u03AB\\u03CF\\u03D2-\\u03D4\\u03D8\\u03DA\\u03DC\\u03DE\\u03E0\\u03E2\\u03E4\\u03E6\\u03E8\\u03EA\\u03EC\\u03EE\\u03F4\\u03F7\\u03F9-\\u03FA\\u03FD-\\u042F\\u0460\\u0462\\u0464\\u0466\\u0468\\u046A\\u046C\\u046E\\u0470\\u0472\\u0474\\u0476\\u0478\\u047A\\u047C\\u047E\\u0480\\u048A\\u048C\\u048E\\u0490\\u0492\\u0494\\u0496\\u0498\\u049A\\u049C\\u049E\\u04A0\\u04A2\\u04A4\\u04A6\\u04A8\\u04AA\\u04AC\\u04AE\\u04B0\\u04B2\\u04B4\\u04B6\\u04B8\\u04BA\\u04BC\\u04BE\\u04C0-\\u04C1\\u04C3\\u04C5\\u04C7\\u04C9\\u04CB\\u04CD\\u04D0\\u04D2\\u04D4\\u04D6\\u04D8\\u04DA\\u04DC\\u04DE\\u04E0\\u04E2\\u04E4\\u04E6\\u04E8\\u04EA\\u04EC\\u04EE\\u04F0\\u04F2\\u04F4\\u04F6\\u04F8\\u04FA\\u04FC\\u04FE\\u0500\\u0502\\u0504\\u0506\\u0508\\u050A\\u050C\\u050E\\u0510\\u0512\\u0514\\u0516\\u0518\\u051A\\u051C\\u051E\\u0520\\u0522\\u0524\\u0526\\u0531-\\u0556\\u10A0-\\u10C5\\u10C7\\u10CD\\u1E00\\u1E02\\u1E04\\u1E06\\u1E08\\u1E0A\\u1E0C\\u1E0E\\u1E10\\u1E12\\u1E14\\u1E16\\u1E18\\u1E1A\\u1E1C\\u1E1E\\u1E20\\u1E22\\u1E24\\u1E26\\u1E28\\u1E2A\\u1E2C\\u1E2E\\u1E30\\u1E32\\u1E34\\u1E36\\u1E38\\u1E3A\\u1E3C\\u1E3E\\u1E40\\u1E42\\u1E44\\u1E46\\u1E48\\u1E4A\\u1E4C\\u1E4E\\u1E50\\u1E52\\u1E54\\u1E56\\u1E58\\u1E5A\\u1E5C\\u1E5E\\u1E60\\u1E62\\u1E64\\u1E66\\u1E68\\u1E6A\\u1E6C\\u1E6E\\u1E70\\u1E72\\u1E74\\u1E76\\u1E78\\u1E7A\\u1E7C\\u1E7E\\u1E80\\u1E82\\u1E84\\u1E86\\u1E88\\u1E8A\\u1E8C\\u1E8E\\u1E90\\u1E92\\u1E94\\u1E9E\\u1EA0\\u1EA2\\u1EA4\\u1EA6\\u1EA8\\u1EAA\\u1EAC\\u1EAE\\u1EB0\\u1EB2\\u1EB4\\u1EB6\\u1EB8\\u1EBA\\u1EBC\\u1EBE\\u1EC0\\u1EC2\\u1EC4\\u1EC6\\u1EC8\\u1ECA\\u1ECC\\u1ECE\\u1ED0\\u1ED2\\u1ED4\\u1ED6\\u1ED8\\u1EDA\\u1EDC\\u1EDE\\u1EE0\\u1EE2\\u1EE4\\u1EE6\\u1EE8\\u1EEA\\u1EEC\\u1EEE\\u1EF0\\u1EF2\\u1EF4\\u1EF6\\u1EF8\\u1EFA\\u1EFC\\u1EFE\\u1F08-\\u1F0F\\u1F18-\\u1F1D\\u1F28-\\u1F2F\\u1F38-\\u1F3F\\u1F48-\\u1F4D\\u1F59\\u1F5B\\u1F5D\\u1F5F\\u1F68-\\u1F6F\\u1FB8-\\u1FBB\\u1FC8-\\u1FCB\\u1FD8-\\u1FDB\\u1FE8-\\u1FEC\\u1FF8-\\u1FFB\\u2102\\u2107\\u210B-\\u210D\\u2110-\\u2112\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u2130-\\u2133\\u213E-\\u213F\\u2145\\u2183\\u2C00-\\u2C2E\\u2C60\\u2C62-\\u2C64\\u2C67\\u2C69\\u2C6B\\u2C6D-\\u2C70\\u2C72\\u2C75\\u2C7E-\\u2C80\\u2C82\\u2C84\\u2C86\\u2C88\\u2C8A\\u2C8C\\u2C8E\\u2C90\\u2C92\\u2C94\\u2C96\\u2C98\\u2C9A\\u2C9C\\u2C9E\\u2CA0\\u2CA2\\u2CA4\\u2CA6\\u2CA8\\u2CAA\\u2CAC\\u2CAE\\u2CB0\\u2CB2\\u2CB4\\u2CB6\\u2CB8\\u2CBA\\u2CBC\\u2CBE\\u2CC0\\u2CC2\\u2CC4\\u2CC6\\u2CC8\\u2CCA\\u2CCC\\u2CCE\\u2CD0\\u2CD2\\u2CD4\\u2CD6\\u2CD8\\u2CDA\\u2CDC\\u2CDE\\u2CE0\\u2CE2\\u2CEB\\u2CED\\u2CF2\\uA640\\uA642\\uA644\\uA646\\uA648\\uA64A\\uA64C\\uA64E\\uA650\\uA652\\uA654\\uA656\\uA658\\uA65A\\uA65C\\uA65E\\uA660\\uA662\\uA664\\uA666\\uA668\\uA66A\\uA66C\\uA680\\uA682\\uA684\\uA686\\uA688\\uA68A\\uA68C\\uA68E\\uA690\\uA692\\uA694\\uA696\\uA722\\uA724\\uA726\\uA728\\uA72A\\uA72C\\uA72E\\uA732\\uA734\\uA736\\uA738\\uA73A\\uA73C\\uA73E\\uA740\\uA742\\uA744\\uA746\\uA748\\uA74A\\uA74C\\uA74E\\uA750\\uA752\\uA754\\uA756\\uA758\\uA75A\\uA75C\\uA75E\\uA760\\uA762\\uA764\\uA766\\uA768\\uA76A\\uA76C\\uA76E\\uA779\\uA77B\\uA77D-\\uA77E\\uA780\\uA782\\uA784\\uA786\\uA78B\\uA78D\\uA790\\uA792\\uA7A0\\uA7A2\\uA7A4\\uA7A6\\uA7A8\\uA7AA\\uFF21-\\uFF3A]",description:"[A-Z\\xC0-\\xD6\\xD8-\\xDE\\u0100\\u0102\\u0104\\u0106\\u0108\\u010A\\u010C\\u010E\\u0110\\u0112\\u0114\\u0116\\u0118\\u011A\\u011C\\u011E\\u0120\\u0122\\u0124\\u0126\\u0128\\u012A\\u012C\\u012E\\u0130\\u0132\\u0134\\u0136\\u0139\\u013B\\u013D\\u013F\\u0141\\u0143\\u0145\\u0147\\u014A\\u014C\\u014E\\u0150\\u0152\\u0154\\u0156\\u0158\\u015A\\u015C\\u015E\\u0160\\u0162\\u0164\\u0166\\u0168\\u016A\\u016C\\u016E\\u0170\\u0172\\u0174\\u0176\\u0178-\\u0179\\u017B\\u017D\\u0181-\\u0182\\u0184\\u0186-\\u0187\\u0189-\\u018B\\u018E-\\u0191\\u0193-\\u0194\\u0196-\\u0198\\u019C-\\u019D\\u019F-\\u01A0\\u01A2\\u01A4\\u01A6-\\u01A7\\u01A9\\u01AC\\u01AE-\\u01AF\\u01B1-\\u01B3\\u01B5\\u01B7-\\u01B8\\u01BC\\u01C4\\u01C7\\u01CA\\u01CD\\u01CF\\u01D1\\u01D3\\u01D5\\u01D7\\u01D9\\u01DB\\u01DE\\u01E0\\u01E2\\u01E4\\u01E6\\u01E8\\u01EA\\u01EC\\u01EE\\u01F1\\u01F4\\u01F6-\\u01F8\\u01FA\\u01FC\\u01FE\\u0200\\u0202\\u0204\\u0206\\u0208\\u020A\\u020C\\u020E\\u0210\\u0212\\u0214\\u0216\\u0218\\u021A\\u021C\\u021E\\u0220\\u0222\\u0224\\u0226\\u0228\\u022A\\u022C\\u022E\\u0230\\u0232\\u023A-\\u023B\\u023D-\\u023E\\u0241\\u0243-\\u0246\\u0248\\u024A\\u024C\\u024E\\u0370\\u0372\\u0376\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u038F\\u0391-\\u03A1\\u03A3-\\u03AB\\u03CF\\u03D2-\\u03D4\\u03D8\\u03DA\\u03DC\\u03DE\\u03E0\\u03E2\\u03E4\\u03E6\\u03E8\\u03EA\\u03EC\\u03EE\\u03F4\\u03F7\\u03F9-\\u03FA\\u03FD-\\u042F\\u0460\\u0462\\u0464\\u0466\\u0468\\u046A\\u046C\\u046E\\u0470\\u0472\\u0474\\u0476\\u0478\\u047A\\u047C\\u047E\\u0480\\u048A\\u048C\\u048E\\u0490\\u0492\\u0494\\u0496\\u0498\\u049A\\u049C\\u049E\\u04A0\\u04A2\\u04A4\\u04A6\\u04A8\\u04AA\\u04AC\\u04AE\\u04B0\\u04B2\\u04B4\\u04B6\\u04B8\\u04BA\\u04BC\\u04BE\\u04C0-\\u04C1\\u04C3\\u04C5\\u04C7\\u04C9\\u04CB\\u04CD\\u04D0\\u04D2\\u04D4\\u04D6\\u04D8\\u04DA\\u04DC\\u04DE\\u04E0\\u04E2\\u04E4\\u04E6\\u04E8\\u04EA\\u04EC\\u04EE\\u04F0\\u04F2\\u04F4\\u04F6\\u04F8\\u04FA\\u04FC\\u04FE\\u0500\\u0502\\u0504\\u0506\\u0508\\u050A\\u050C\\u050E\\u0510\\u0512\\u0514\\u0516\\u0518\\u051A\\u051C\\u051E\\u0520\\u0522\\u0524\\u0526\\u0531-\\u0556\\u10A0-\\u10C5\\u10C7\\u10CD\\u1E00\\u1E02\\u1E04\\u1E06\\u1E08\\u1E0A\\u1E0C\\u1E0E\\u1E10\\u1E12\\u1E14\\u1E16\\u1E18\\u1E1A\\u1E1C\\u1E1E\\u1E20\\u1E22\\u1E24\\u1E26\\u1E28\\u1E2A\\u1E2C\\u1E2E\\u1E30\\u1E32\\u1E34\\u1E36\\u1E38\\u1E3A\\u1E3C\\u1E3E\\u1E40\\u1E42\\u1E44\\u1E46\\u1E48\\u1E4A\\u1E4C\\u1E4E\\u1E50\\u1E52\\u1E54\\u1E56\\u1E58\\u1E5A\\u1E5C\\u1E5E\\u1E60\\u1E62\\u1E64\\u1E66\\u1E68\\u1E6A\\u1E6C\\u1E6E\\u1E70\\u1E72\\u1E74\\u1E76\\u1E78\\u1E7A\\u1E7C\\u1E7E\\u1E80\\u1E82\\u1E84\\u1E86\\u1E88\\u1E8A\\u1E8C\\u1E8E\\u1E90\\u1E92\\u1E94\\u1E9E\\u1EA0\\u1EA2\\u1EA4\\u1EA6\\u1EA8\\u1EAA\\u1EAC\\u1EAE\\u1EB0\\u1EB2\\u1EB4\\u1EB6\\u1EB8\\u1EBA\\u1EBC\\u1EBE\\u1EC0\\u1EC2\\u1EC4\\u1EC6\\u1EC8\\u1ECA\\u1ECC\\u1ECE\\u1ED0\\u1ED2\\u1ED4\\u1ED6\\u1ED8\\u1EDA\\u1EDC\\u1EDE\\u1EE0\\u1EE2\\u1EE4\\u1EE6\\u1EE8\\u1EEA\\u1EEC\\u1EEE\\u1EF0\\u1EF2\\u1EF4\\u1EF6\\u1EF8\\u1EFA\\u1EFC\\u1EFE\\u1F08-\\u1F0F\\u1F18-\\u1F1D\\u1F28-\\u1F2F\\u1F38-\\u1F3F\\u1F48-\\u1F4D\\u1F59\\u1F5B\\u1F5D\\u1F5F\\u1F68-\\u1F6F\\u1FB8-\\u1FBB\\u1FC8-\\u1FCB\\u1FD8-\\u1FDB\\u1FE8-\\u1FEC\\u1FF8-\\u1FFB\\u2102\\u2107\\u210B-\\u210D\\u2110-\\u2112\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u2130-\\u2133\\u213E-\\u213F\\u2145\\u2183\\u2C00-\\u2C2E\\u2C60\\u2C62-\\u2C64\\u2C67\\u2C69\\u2C6B\\u2C6D-\\u2C70\\u2C72\\u2C75\\u2C7E-\\u2C80\\u2C82\\u2C84\\u2C86\\u2C88\\u2C8A\\u2C8C\\u2C8E\\u2C90\\u2C92\\u2C94\\u2C96\\u2C98\\u2C9A\\u2C9C\\u2C9E\\u2CA0\\u2CA2\\u2CA4\\u2CA6\\u2CA8\\u2CAA\\u2CAC\\u2CAE\\u2CB0\\u2CB2\\u2CB4\\u2CB6\\u2CB8\\u2CBA\\u2CBC\\u2CBE\\u2CC0\\u2CC2\\u2CC4\\u2CC6\\u2CC8\\u2CCA\\u2CCC\\u2CCE\\u2CD0\\u2CD2\\u2CD4\\u2CD6\\u2CD8\\u2CDA\\u2CDC\\u2CDE\\u2CE0\\u2CE2\\u2CEB\\u2CED\\u2CF2\\uA640\\uA642\\uA644\\uA646\\uA648\\uA64A\\uA64C\\uA64E\\uA650\\uA652\\uA654\\uA656\\uA658\\uA65A\\uA65C\\uA65E\\uA660\\uA662\\uA664\\uA666\\uA668\\uA66A\\uA66C\\uA680\\uA682\\uA684\\uA686\\uA688\\uA68A\\uA68C\\uA68E\\uA690\\uA692\\uA694\\uA696\\uA722\\uA724\\uA726\\uA728\\uA72A\\uA72C\\uA72E\\uA732\\uA734\\uA736\\uA738\\uA73A\\uA73C\\uA73E\\uA740\\uA742\\uA744\\uA746\\uA748\\uA74A\\uA74C\\uA74E\\uA750\\uA752\\uA754\\uA756\\uA758\\uA75A\\uA75C\\uA75E\\uA760\\uA762\\uA764\\uA766\\uA768\\uA76A\\uA76C\\uA76E\\uA779\\uA77B\\uA77D-\\uA77E\\uA780\\uA782\\uA784\\uA786\\uA78B\\uA78D\\uA790\\uA792\\uA7A0\\uA7A2\\uA7A4\\uA7A6\\uA7A8\\uA7AA\\uFF21-\\uFF3A]"},iS=/^[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E-\u094F\u0982-\u0983\u09BE-\u09C0\u09C7-\u09C8\u09CB-\u09CC\u09D7\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB-\u0ACC\u0B02-\u0B03\u0B3E\u0B40\u0B47-\u0B48\u0B4B-\u0B4C\u0B57\u0BBE-\u0BBF\u0BC1-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD7\u0C01-\u0C03\u0C41-\u0C44\u0C82-\u0C83\u0CBE\u0CC0-\u0CC4\u0CC7-\u0CC8\u0CCA-\u0CCB\u0CD5-\u0CD6\u0D02-\u0D03\u0D3E-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D57\u0D82-\u0D83\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DF2-\u0DF3\u0F3E-\u0F3F\u0F7F\u102B-\u102C\u1031\u1038\u103B-\u103C\u1056-\u1057\u1062-\u1064\u1067-\u106D\u1083-\u1084\u1087-\u108C\u108F\u109A-\u109C\u17B6\u17BE-\u17C5\u17C7-\u17C8\u1923-\u1926\u1929-\u192B\u1930-\u1931\u1933-\u1938\u19B0-\u19C0\u19C8-\u19C9\u1A19-\u1A1A\u1A55\u1A57\u1A61\u1A63-\u1A64\u1A6D-\u1A72\u1B04\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B44\u1B82\u1BA1\u1BA6-\u1BA7\u1BAA\u1BAC-\u1BAD\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2-\u1BF3\u1C24-\u1C2B\u1C34-\u1C35\u1CE1\u1CF2-\u1CF3\u302E-\u302F\uA823-\uA824\uA827\uA880-\uA881\uA8B4-\uA8C3\uA952-\uA953\uA983\uA9B4-\uA9B5\uA9BA-\uA9BB\uA9BD-\uA9C0\uAA2F-\uAA30\uAA33-\uAA34\uAA4D\uAA7B\uAAEB\uAAEE-\uAAEF\uAAF5\uABE3-\uABE4\uABE6-\uABE7\uABE9-\uABEA\uABEC]/,i_={type:"class",value:"[\\u0903\\u093B\\u093E-\\u0940\\u0949-\\u094C\\u094E-\\u094F\\u0982-\\u0983\\u09BE-\\u09C0\\u09C7-\\u09C8\\u09CB-\\u09CC\\u09D7\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB-\\u0ACC\\u0B02-\\u0B03\\u0B3E\\u0B40\\u0B47-\\u0B48\\u0B4B-\\u0B4C\\u0B57\\u0BBE-\\u0BBF\\u0BC1-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD7\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82-\\u0C83\\u0CBE\\u0CC0-\\u0CC4\\u0CC7-\\u0CC8\\u0CCA-\\u0CCB\\u0CD5-\\u0CD6\\u0D02-\\u0D03\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D57\\u0D82-\\u0D83\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\\u0DF2-\\u0DF3\\u0F3E-\\u0F3F\\u0F7F\\u102B-\\u102C\\u1031\\u1038\\u103B-\\u103C\\u1056-\\u1057\\u1062-\\u1064\\u1067-\\u106D\\u1083-\\u1084\\u1087-\\u108C\\u108F\\u109A-\\u109C\\u17B6\\u17BE-\\u17C5\\u17C7-\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930-\\u1931\\u1933-\\u1938\\u19B0-\\u19C0\\u19C8-\\u19C9\\u1A19-\\u1A1A\\u1A55\\u1A57\\u1A61\\u1A63-\\u1A64\\u1A6D-\\u1A72\\u1B04\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43-\\u1B44\\u1B82\\u1BA1\\u1BA6-\\u1BA7\\u1BAA\\u1BAC-\\u1BAD\\u1BE7\\u1BEA-\\u1BEC\\u1BEE\\u1BF2-\\u1BF3\\u1C24-\\u1C2B\\u1C34-\\u1C35\\u1CE1\\u1CF2-\\u1CF3\\u302E-\\u302F\\uA823-\\uA824\\uA827\\uA880-\\uA881\\uA8B4-\\uA8C3\\uA952-\\uA953\\uA983\\uA9B4-\\uA9B5\\uA9BA-\\uA9BB\\uA9BD-\\uA9C0\\uAA2F-\\uAA30\\uAA33-\\uAA34\\uAA4D\\uAA7B\\uAAEB\\uAAEE-\\uAAEF\\uAAF5\\uABE3-\\uABE4\\uABE6-\\uABE7\\uABE9-\\uABEA\\uABEC]",description:"[\\u0903\\u093B\\u093E-\\u0940\\u0949-\\u094C\\u094E-\\u094F\\u0982-\\u0983\\u09BE-\\u09C0\\u09C7-\\u09C8\\u09CB-\\u09CC\\u09D7\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB-\\u0ACC\\u0B02-\\u0B03\\u0B3E\\u0B40\\u0B47-\\u0B48\\u0B4B-\\u0B4C\\u0B57\\u0BBE-\\u0BBF\\u0BC1-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD7\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82-\\u0C83\\u0CBE\\u0CC0-\\u0CC4\\u0CC7-\\u0CC8\\u0CCA-\\u0CCB\\u0CD5-\\u0CD6\\u0D02-\\u0D03\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D57\\u0D82-\\u0D83\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\\u0DF2-\\u0DF3\\u0F3E-\\u0F3F\\u0F7F\\u102B-\\u102C\\u1031\\u1038\\u103B-\\u103C\\u1056-\\u1057\\u1062-\\u1064\\u1067-\\u106D\\u1083-\\u1084\\u1087-\\u108C\\u108F\\u109A-\\u109C\\u17B6\\u17BE-\\u17C5\\u17C7-\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930-\\u1931\\u1933-\\u1938\\u19B0-\\u19C0\\u19C8-\\u19C9\\u1A19-\\u1A1A\\u1A55\\u1A57\\u1A61\\u1A63-\\u1A64\\u1A6D-\\u1A72\\u1B04\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43-\\u1B44\\u1B82\\u1BA1\\u1BA6-\\u1BA7\\u1BAA\\u1BAC-\\u1BAD\\u1BE7\\u1BEA-\\u1BEC\\u1BEE\\u1BF2-\\u1BF3\\u1C24-\\u1C2B\\u1C34-\\u1C35\\u1CE1\\u1CF2-\\u1CF3\\u302E-\\u302F\\uA823-\\uA824\\uA827\\uA880-\\uA881\\uA8B4-\\uA8C3\\uA952-\\uA953\\uA983\\uA9B4-\\uA9B5\\uA9BA-\\uA9BB\\uA9BD-\\uA9C0\\uAA2F-\\uAA30\\uAA33-\\uAA34\\uAA4D\\uAA7B\\uAAEB\\uAAEE-\\uAAEF\\uAAF5\\uABE3-\\uABE4\\uABE6-\\uABE7\\uABE9-\\uABEA\\uABEC]"},iT=/^[\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u08FE\u0900-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62-\u0B63\u0B82\u0BC0\u0BCD\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0CBC\u0CBF\u0CC6\u0CCC-\u0CCD\u0CE2-\u0CE3\u0D41-\u0D44\u0D4D\u0D62-\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1DC0-\u1DE6\u1DFC-\u1DFF\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099-\u309A\uA66F\uA674-\uA67D\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE26]/,iA={type:"class",value:"[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1-\\u05C2\\u05C4-\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7-\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08E4-\\u08FE\\u0900-\\u0902\\u093A\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0957\\u0962-\\u0963\\u0981\\u09BC\\u09C1-\\u09C4\\u09CD\\u09E2-\\u09E3\\u0A01-\\u0A02\\u0A3C\\u0A41-\\u0A42\\u0A47-\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70-\\u0A71\\u0A75\\u0A81-\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7-\\u0AC8\\u0ACD\\u0AE2-\\u0AE3\\u0B01\\u0B3C\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B56\\u0B62-\\u0B63\\u0B82\\u0BC0\\u0BCD\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55-\\u0C56\\u0C62-\\u0C63\\u0CBC\\u0CBF\\u0CC6\\u0CCC-\\u0CCD\\u0CE2-\\u0CE3\\u0D41-\\u0D44\\u0D4D\\u0D62-\\u0D63\\u0DCA\\u0DD2-\\u0DD4\\u0DD6\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB-\\u0EBC\\u0EC8-\\u0ECD\\u0F18-\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86-\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039-\\u103A\\u103D-\\u103E\\u1058-\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085-\\u1086\\u108D\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752-\\u1753\\u1772-\\u1773\\u17B4-\\u17B5\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u1922\\u1927-\\u1928\\u1932\\u1939-\\u193B\\u1A17-\\u1A18\\u1A1B\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1B00-\\u1B03\\u1B34\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80-\\u1B81\\u1BA2-\\u1BA5\\u1BA8-\\u1BA9\\u1BAB\\u1BE6\\u1BE8-\\u1BE9\\u1BED\\u1BEF-\\u1BF1\\u1C2C-\\u1C33\\u1C36-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1CF4\\u1DC0-\\u1DE6\\u1DFC-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302D\\u3099-\\u309A\\uA66F\\uA674-\\uA67D\\uA69F\\uA6F0-\\uA6F1\\uA802\\uA806\\uA80B\\uA825-\\uA826\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uAA29-\\uAA2E\\uAA31-\\uAA32\\uAA35-\\uAA36\\uAA43\\uAA4C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7-\\uAAB8\\uAABE-\\uAABF\\uAAC1\\uAAEC-\\uAAED\\uAAF6\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]",description:"[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1-\\u05C2\\u05C4-\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7-\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08E4-\\u08FE\\u0900-\\u0902\\u093A\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0957\\u0962-\\u0963\\u0981\\u09BC\\u09C1-\\u09C4\\u09CD\\u09E2-\\u09E3\\u0A01-\\u0A02\\u0A3C\\u0A41-\\u0A42\\u0A47-\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70-\\u0A71\\u0A75\\u0A81-\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7-\\u0AC8\\u0ACD\\u0AE2-\\u0AE3\\u0B01\\u0B3C\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B56\\u0B62-\\u0B63\\u0B82\\u0BC0\\u0BCD\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55-\\u0C56\\u0C62-\\u0C63\\u0CBC\\u0CBF\\u0CC6\\u0CCC-\\u0CCD\\u0CE2-\\u0CE3\\u0D41-\\u0D44\\u0D4D\\u0D62-\\u0D63\\u0DCA\\u0DD2-\\u0DD4\\u0DD6\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB-\\u0EBC\\u0EC8-\\u0ECD\\u0F18-\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86-\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039-\\u103A\\u103D-\\u103E\\u1058-\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085-\\u1086\\u108D\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752-\\u1753\\u1772-\\u1773\\u17B4-\\u17B5\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u1922\\u1927-\\u1928\\u1932\\u1939-\\u193B\\u1A17-\\u1A18\\u1A1B\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1B00-\\u1B03\\u1B34\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80-\\u1B81\\u1BA2-\\u1BA5\\u1BA8-\\u1BA9\\u1BAB\\u1BE6\\u1BE8-\\u1BE9\\u1BED\\u1BEF-\\u1BF1\\u1C2C-\\u1C33\\u1C36-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1CF4\\u1DC0-\\u1DE6\\u1DFC-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302D\\u3099-\\u309A\\uA66F\\uA674-\\uA67D\\uA69F\\uA6F0-\\uA6F1\\uA802\\uA806\\uA80B\\uA825-\\uA826\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uAA29-\\uAA2E\\uAA31-\\uAA32\\uAA35-\\uAA36\\uAA43\\uAA4C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7-\\uAAB8\\uAABE-\\uAABF\\uAAC1\\uAAEC-\\uAAED\\uAAF6\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]"},iC=/^[0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]/,iw={type:"class",value:"[0-9\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE6-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\u1040-\\u1049\\u1090-\\u1099\\u17E0-\\u17E9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19D9\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\uA620-\\uA629\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19]",description:"[0-9\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE6-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\u1040-\\u1049\\u1090-\\u1099\\u17E0-\\u17E9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19D9\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\uA620-\\uA629\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19]"},iO=/^[\u16EE-\u16F0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303A\uA6E6-\uA6EF]/,iR={type:"class",value:"[\\u16EE-\\u16F0\\u2160-\\u2182\\u2185-\\u2188\\u3007\\u3021-\\u3029\\u3038-\\u303A\\uA6E6-\\uA6EF]",description:"[\\u16EE-\\u16F0\\u2160-\\u2182\\u2185-\\u2188\\u3007\\u3021-\\u3029\\u3038-\\u303A\\uA6E6-\\uA6EF]"},ix=/^[_\u203F-\u2040\u2054\uFE33-\uFE34\uFE4D-\uFE4F\uFF3F]/,iI={type:"class",value:"[_\\u203F-\\u2040\\u2054\\uFE33-\\uFE34\\uFE4D-\\uFE4F\\uFF3F]",description:"[_\\u203F-\\u2040\\u2054\\uFE33-\\uFE34\\uFE4D-\\uFE4F\\uFF3F]"},iD=/^[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,iP={type:"class",value:"[ \\xA0\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]",description:"[ \\xA0\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]"},iN=0,ik=0,iM=0,iL={line:1,column:1,seenCR:!1},iB=0,ij=[],iF=0;if("startRule"in i){if(!(i.startRule in s))throw Error("Can't start parsing from rule \""+i.startRule+'".');a=s[i.startRule]}function iU(){return t.substring(ik,iN)}function iV(){return iG(ik).line}function iz(){return iG(ik).column}function iG(e){function r(e,r,n){var i,o;for(i=r;i<n;i++)"\n"===(o=t.charAt(i))?(!e.seenCR&&e.line++,e.column=1,e.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}return iM!==e&&(iM>e&&(iM=0,iL={line:1,column:1,seenCR:!1}),r(iL,iM,e),iM=e),iL}function i$(e){iN<iB||(iN>iB&&(iB=iN,ij=[]),ij.push(e))}function iH(r,n,i){function o(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}function s(e,t){function r(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0180-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1080-\uFFFF]/g,function(e){return"\\u"+t(e)})}var n,i=Array(e.length);for(n=0;n<e.length;n++)i[n]=e[n].description;return"Expected "+(e.length>1?i.slice(0,-1).join(", ")+" or "+i[e.length-1]:i[0])+" but "+(t?'"'+r(t)+'"':"end of input")+" found."}var a=iG(i),l=i<t.length?t.charAt(i):null;return null!==n&&o(n),new e(null!==r?r:s(n,l),n,l,i,a.line,a.column)}function iq(){var e,t,r,n,i;if(e=iN,(t=oV())!==o){for(r=[],n=iW();n!==o;)r.push(n),n=iW();if(r!==o){for(n=[],i=iQ();i!==o;)n.push(i),i=iQ();n!==o?(ik=e,e=t=u(r,n)):(iN=e,e=l)}else iN=e,e=l}else iN=e,e=l;return e}function iW(){var e,r,n;return(e=iK())===o&&(e=iY())===o&&(e=iZ())===o&&(e=iN,t.substr(iN,13)===c?(r=c,iN+=13):(r=o,0===iF&&i$(d)),r!==o&&(n=oN())!==o?e=r=[r,n]:(iN=e,e=l),e===o&&(e=iN,t.substr(iN,13)===h?(r=h,iN+=13):(r=o,0===iF&&i$(p)),r!==o&&(n=oN())!==o?e=r=[r,n]:(iN=e,e=l),e===o&&(e=iN,t.substr(iN,9)===f?(r=f,iN+=9):(r=o,0===iF&&i$(m)),r!==o&&(n=oN())!==o?e=r=[r,n]:(iN=e,e=l),e===o&&(e=iN,t.substr(iN,12)===g?(r=g,iN+=12):(r=o,0===iF&&i$(y)),r!==o&&(n=oN())!==o?e=r=[r,n]:(iN=e,e=l),e===o&&(e=iN,t.substr(iN,14)===v?(r=v,iN+=14):(r=o,0===iF&&i$(b)),r!==o&&(n=oN())!==o?e=r=[r,n]:(iN=e,e=l),e===o&&(e=iN,t.substr(iN,18)===E?(r=E,iN+=18):(r=o,0===iF&&i$(S)),r!==o&&(n=oF())!==o?e=r=[r,n]:(iN=e,e=l),e===o&&(e=iN,t.substr(iN,16)===_?(r=_,iN+=16):(r=o,0===iF&&i$(T)),r!==o&&(n=oN())!==o?e=r=[r,n]:(iN=e,e=l),e===o&&(e=iN,t.substr(iN,12)===A?(r=A,iN+=12):(r=o,0===iF&&i$(C)),r!==o&&(n=oN())!==o?e=r=[r,n]:(iN=e,e=l),e===o&&(e=iN,t.substr(iN,13)===w?(r=w,iN+=13):(r=o,0===iF&&i$(O)),r!==o&&(n=oN())!==o?e=r=[r,n]:(iN=e,e=l),e===o&&(e=iN,t.substr(iN,13)===R?(r=R,iN+=13):(r=o,0===iF&&i$(x)),r!==o&&(n=o0())!==o?e=r=[r,n]:(iN=e,e=l),e===o&&(e=iN,t.substr(iN,16)===I?(r=I,iN+=16):(r=o,0===iF&&i$(D)),r!==o&&(n=oN())!==o?e=r=[r,n]:(iN=e,e=l)))))))))))),e}function iK(){var e,t,r,n;return e=iN,(t=su())!==o?((r=oN())===o&&(r=P),r!==o&&oV()!==o&&(n=o0())!==o?(ik=e,e=t=N(r,n)):(iN=e,e=l)):(iN=e,e=l),e}function iY(){var e,t,r;return e=iN,(t=sc())!==o&&(r=o0())!==o?e=t=[t,r]:(iN=e,e=l),e}function iZ(){var e,r,n,i,s;return e=iN,(r=sd())!==o&&(n=iJ())!==o&&(i=oV())!==o&&(s=oN())!==o?(ik=e,e=r=k(n,s)):(iN=e,e=l),e===o&&(e=iN,(r=sd())!==o?(t.substr(iN,18)===M?(n=M,iN+=18):(n=o,0===iF&&i$(L)),n!==o&&(i=oV())!==o&&(s=oF())!==o?e=r=[r,n,i,s]:(iN=e,e=l)):(iN=e,e=l),e===o&&(e=iN,(r=sd())!==o?(t.substr(iN,16)===B?(n=B,iN+=16):(n=o,0===iF&&i$(j)),n!==o&&(i=oV())!==o&&(s=oN())!==o?e=r=[r,n,i,s]:(iN=e,e=l)):(iN=e,e=l),e===o&&(e=iN,t.substr(iN,13)===h?(r=h,iN+=13):(r=o,0===iF&&i$(p)),r!==o&&(n=oV())!==o&&(i=o0())!==o?e=r=[r,n,i]:(iN=e,e=l),e===o&&(e=iN,t.substr(iN,13)===R?(r=R,iN+=13):(r=o,0===iF&&i$(x)),r!==o&&(n=oV())!==o&&(i=o0())!==o?e=r=[r,n,i]:(iN=e,e=l),e===o&&(e=iN,(r=sd())!==o?(42===t.charCodeAt(iN)?(n=F,iN++):(n=o,0===iF&&i$(U)),n!==o&&(i=oV())!==o&&(s=oN())!==o?(ik=e,e=r=V(n)):(iN=e,e=l)):(iN=e,e=l),e===o&&(e=iN,(r=sd())!==o&&(n=oN())!==o&&(i=oN())!==o?(ik=e,e=r=z(n,i)):(iN=e,e=l))))))),e}function iJ(){var e;return t.substr(iN,3)===G?(e=G,iN+=3):(e=o,0===iF&&i$($)),e===o&&(t.substr(iN,4)===H?(e=H,iN+=4):(e=o,0===iF&&i$(q)),e===o&&(t.substr(iN,10)===W?(e=W,iN+=10):(e=o,0===iF&&i$(K)),e===o&&(t.substr(iN,2)===Y?(e=Y,iN+=2):(e=o,0===iF&&i$(Z)),e===o&&(t.substr(iN,4)===J?(e=J,iN+=4):(e=o,0===iF&&i$(Q)),e===o&&(t.substr(iN,2)===X?(e=X,iN+=2):(e=o,0===iF&&i$(ee)),e===o&&(t.substr(iN,5)===et?(e=et,iN+=5):(e=o,0===iF&&i$(er)),e===o&&(t.substr(iN,6)===en?(e=en,iN+=6):(e=o,0===iF&&i$(ei)),e===o&&(t.substr(iN,3)===eo?(e=eo,iN+=3):(e=o,0===iF&&i$(es)),e===o&&(t.substr(iN,3)===ea?(e=ea,iN+=3):(e=o,0===iF&&i$(el)),e===o&&(t.substr(iN,6)===eu?(e=eu,iN+=6):(e=o,0===iF&&i$(ec)),e===o&&(t.substr(iN,2)===ed?(e=ed,iN+=2):(e=o,0===iF&&i$(eh)),e===o&&(t.substr(iN,2)===ep?(e=ep,iN+=2):(e=o,0===iF&&i$(ef)),e===o&&(t.substr(iN,2)===em?(e=em,iN+=2):(e=o,0===iF&&i$(eg)),e===o&&(t.substr(iN,6)===ey?(e=ey,iN+=6):(e=o,0===iF&&i$(ev)),e===o&&(t.substr(iN,3)===eb?(e=eb,iN+=3):(e=o,0===iF&&i$(eE))))))))))))))))),e}function iQ(){var e;return(e=i8())===o&&(e=iX())===o&&(e=i3())===o&&(e=i4())===o&&(e=or())===o&&(e=on())===o&&(e=ol())===o&&(e=ou()),e}function iX(){var e,t,r,n,i,s;return e=iN,(t=sh())!==o&&oV()!==o&&(r=i0())!==o&&(n=oN())!==o?((i=ox())===o&&(i=P),i!==o?((s=i2())===o&&(s=P),s!==o?(ik=e,e=t=eS(r,n,i)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l),e}function i0(){var e,t;return e=iN,(t=oE())!==o&&oV()!==o?(ik=e,e=t=e_(t)):(iN=e,e=l),e}function i1(){var e,r,n;return e=iN,44===t.charCodeAt(iN)?(r=eT,iN++):(r=o,0===iF&&i$(eA)),r!==o&&(n=oV())!==o?e=r=[r,n]:(iN=e,e=l),e===o&&(e=iN,59===t.charCodeAt(iN)?(r=eC,iN++):(r=o,0===iF&&i$(ew)),r!==o&&(n=oV())!==o?e=r=[r,n]:(iN=e,e=l)),e}function i2(){var e;return iF++,e=i1(),iF--,e===o&&0===iF&&i$(eO),e}function i3(){var e,r,n,i,s,a,u,c;if(e=iN,(r=sp())!==o){if(oV()!==o){if((n=oN())!==o){if(oV()!==o){if(123===t.charCodeAt(iN)?(i=eR,iN++):(i=o,0===iF&&i$(ex)),i!==o){if(oV()!==o){for(s=[],a=i6();a!==o;)s.push(a),a=i6();s!==o&&(a=oV())!==o?(125===t.charCodeAt(iN)?(u=eI,iN++):(u=o,0===iF&&i$(eD)),u!==o&&oV()!==o?((c=ox())===o&&(c=P),c!==o?(ik=e,e=r=eP(n,s,c)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l)}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l;return e}function i6(){var e,r,n,i,s,a;return e=iN,(r=oN())!==o?(n=iN,61===t.charCodeAt(iN)?(i=eN,iN++):(i=o,0===iF&&i$(ek)),i!==o&&(s=oV())!==o&&(a=oD())!==o?(ik=n,n=i=eM(a)):(iN=n,n=l),n===o&&(n=P),n!==o&&(i=oV())!==o?((s=ox())===o&&(s=P),s!==o?((a=i2())===o&&(a=P),a!==o&&oV()!==o?(ik=e,e=r=eL(r,n,s)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l),e}function i4(){var e,r,n,i,s,a,u;if(e=iN,(r=sf())!==o){if((n=oN())!==o){if(123===t.charCodeAt(iN)?(i=eR,iN++):(i=o,0===iF&&i$(ex)),i!==o){if(oV()!==o){for(s=[],a=i5();a!==o;)s.push(a),a=i5();s!==o?(125===t.charCodeAt(iN)?(a=eI,iN++):(a=o,0===iF&&i$(eD)),a!==o&&oV()!==o?((u=ox())===o&&(u=P),u!==o?(ik=e,e=r=eB(n,s,u)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l)}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l;return e}function i5(){var e,t,r;return e=iN,(t=o0())!==o?((r=i2())===o&&(r=P),r!==o?(ik=e,e=t=ej(t)):(iN=e,e=l)):(iN=e,e=l),e}function i8(){var e,r,n,i,s,a,u;return e=iN,(r=sm())!==o&&(n=oE())!==o&&(i=oN())!==o?(61===t.charCodeAt(iN)?(s=eN,iN++):(s=o,0===iF&&i$(ek)),s!==o&&oV()!==o&&(a=i7())!==o?((u=i2())===o&&(u=P),u!==o&&oV()!==o?(ik=e,e=r=eF(n,i,a)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l),e}function i7(){var e;return(e=i9())===o&&(e=oe())===o&&(e=oX())===o&&(e=sn())===o&&(e=oN()),e}function i9(){var e,r,n,i,s,a,u,c;if(e=iN,91===t.charCodeAt(iN)?(r=eU,iN++):(r=o,0===iF&&i$(eV)),r!==o){if(oV()!==o){for(n=[],i=iN,(s=i7())!==o&&(a=oV())!==o?((u=i2())===o&&(u=P),u!==o&&(c=oV())!==o?(ik=i,i=s=ez(s)):(iN=i,i=l)):(iN=i,i=l);i!==o;)n.push(i),i=iN,(s=i7())!==o&&(a=oV())!==o?((u=i2())===o&&(u=P),u!==o&&(c=oV())!==o?(ik=i,i=s=ez(s)):(iN=i,i=l)):(iN=i,i=l);n!==o?(93===t.charCodeAt(iN)?(i=eG,iN++):(i=o,0===iF&&i$(e$)),i!==o&&(s=oV())!==o?(ik=e,e=r=eH(n)):(iN=e,e=l)):(iN=e,e=l)}else iN=e,e=l}else iN=e,e=l;return e}function oe(){var e,r,n,i;if(e=iN,123===t.charCodeAt(iN)?(r=eR,iN++):(r=o,0===iF&&i$(ex)),r!==o){if(oV()!==o){for(n=[],i=ot();i!==o;)n.push(i),i=ot();n!==o?(125===t.charCodeAt(iN)?(i=eI,iN++):(i=o,0===iF&&i$(eD)),i!==o&&oV()!==o?(ik=e,e=r=eq(n)):(iN=e,e=l)):(iN=e,e=l)}else iN=e,e=l}else iN=e,e=l;return e}function ot(){var e,r,n,i,s;return e=iN,(r=i7())!==o&&oV()!==o?(58===t.charCodeAt(iN)?(n=eW,iN++):(n=o,0===iF&&i$(eK)),n!==o&&oV()!==o&&(i=i7())!==o&&oV()!==o?((s=i2())===o&&(s=P),s!==o?(ik=e,e=r=eY(r,i)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l),e}function or(){var e,r,n,i,s,a,u,c,d;if(e=iN,t.substr(iN,6)===eZ?(r=eZ,iN+=6):(r=o,0===iF&&i$(eJ)),r!==o){if(oV()!==o){if((n=oN())!==o){if((i=oi())===o&&(i=P),i!==o){if(oV()!==o){if(123===t.charCodeAt(iN)?(s=eR,iN++):(s=o,0===iF&&i$(ex)),s!==o){if(oV()!==o){for(a=[],u=of();u!==o;)a.push(u),u=of();a!==o&&(u=oV())!==o?(125===t.charCodeAt(iN)?(c=eI,iN++):(c=o,0===iF&&i$(eD)),c!==o&&oV()!==o?((d=ox())===o&&(d=P),d!==o?(ik=e,e=r=eQ(n,a,d)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l)}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l;return e}function on(){var e,r,n,i,s,a,u,c,d;if(e=iN,(r=sE())!==o){if((n=oN())!==o){if((i=oi())===o&&(i=P),i!==o){if(oV()!==o){if(123===t.charCodeAt(iN)?(s=eR,iN++):(s=o,0===iF&&i$(ex)),s!==o){if(oV()!==o){for(a=[],u=of();u!==o;)a.push(u),u=of();a!==o&&(u=oV())!==o?(125===t.charCodeAt(iN)?(c=eI,iN++):(c=o,0===iF&&i$(eD)),c!==o&&oV()!==o?((d=ox())===o&&(d=P),d!==o?(ik=e,e=r=eX(n,a,d)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l)}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l;return e}function oi(){var e,r,n;return e=iN,t.substr(iN,7)===e0?(r=e0,iN+=7):(r=o,0===iF&&i$(e1)),r!==o&&(n=oV())!==o?e=r=[r,n]:(iN=e,e=l),e}function oo(){var e,r,n;return e=iN,t.substr(iN,12)===e2?(r=e2,iN+=12):(r=o,0===iF&&i$(e3)),r!==o&&(n=oV())!==o?e=r=[r,n]:(iN=e,e=l),e}function os(){var e,r,n;return e=iN,t.substr(iN,12)===e6?(r=e6,iN+=12):(r=o,0===iF&&i$(e4)),r!==o&&(n=oV())!==o?e=r=[r,n]:(iN=e,e=l),e}function oa(){var e,r,n,i,s,a,u,c,d;if(e=iN,t.substr(iN,14)===e5?(r=e5,iN+=14):(r=o,0===iF&&i$(e8)),r!==o){if((n=oV())!==o){if(123===t.charCodeAt(iN)?(i=eR,iN++):(i=o,0===iF&&i$(ex)),i!==o){if((s=oV())!==o){for(a=[],u=of();u!==o;)a.push(u),u=of();a!==o&&(u=oV())!==o?(125===t.charCodeAt(iN)?(c=eI,iN++):(c=o,0===iF&&i$(eD)),c!==o&&(d=oV())!==o?e=r=[r,n,i,s,a,u,c,d]:(iN=e,e=l)):(iN=e,e=l)}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l;return e}function ol(){var e,r,n,i,s,a,u,c;if(e=iN,t.substr(iN,9)===e7?(r=e7,iN+=9):(r=o,0===iF&&i$(e9)),r!==o){if(oV()!==o){if((n=oN())!==o){if(123===t.charCodeAt(iN)?(i=eR,iN++):(i=o,0===iF&&i$(ex)),i!==o){if(oV()!==o){for(s=[],a=of();a!==o;)s.push(a),a=of();s!==o&&(a=oV())!==o?(125===t.charCodeAt(iN)?(u=eI,iN++):(u=o,0===iF&&i$(eD)),u!==o&&oV()!==o?((c=ox())===o&&(c=P),c!==o&&oV()!==o?(ik=e,e=r=te(n,s,c)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l)}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l;return e}function ou(){var e,r,n,i,s,a,u,c,d;if(e=iN,t.substr(iN,7)===tt?(r=tt,iN+=7):(r=o,0===iF&&i$(tr)),r!==o){if(oV()!==o){if((n=oN())!==o){if((i=oc())===o&&(i=P),i!==o){if(123===t.charCodeAt(iN)?(s=eR,iN++):(s=o,0===iF&&i$(ex)),s!==o){if(oV()!==o){for(a=[],u=od();u!==o;)a.push(u),u=od();a!==o&&(u=oV())!==o?(125===t.charCodeAt(iN)?(c=eI,iN++):(c=o,0===iF&&i$(eD)),c!==o&&oV()!==o?((d=ox())===o&&(d=P),d!==o?(ik=e,e=r=tn(n,i,a,d)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l)}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l;return e}function oc(){var e,r,n;return e=iN,t.substr(iN,7)===ti?(r=ti,iN+=7):(r=o,0===iF&&i$(to)),r!==o&&oV()!==o&&(n=oN())!==o?(ik=e,e=r=ts(n)):(iN=e,e=l),e}function od(){var e,r,n,i,s,a,u,c,d,h,p,f;if(e=iN,(r=oV())!==o){if((n=oh())!==o){if((i=ob())!==o){if((s=oN())!==o){if(40===t.charCodeAt(iN)?(a=ta,iN++):(a=o,0===iF&&i$(tl)),a!==o){if(oV()!==o){for(u=[],c=of();c!==o;)u.push(c),c=of();u!==o&&(c=oV())!==o?(41===t.charCodeAt(iN)?(d=tu,iN++):(d=o,0===iF&&i$(tc)),d!==o&&oV()!==o?((h=op())===o&&(h=P),h!==o?((p=ox())===o&&(p=P),p!==o?((f=i2())===o&&(f=P),f!==o&&oz()!==o?(ik=e,e=r=td(n,i,s,u,h,p)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l)}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l;return e}function oh(){var e,r;return e=iN,t.substr(iN,6)===th?(r=th,iN+=6):(r=o,0===iF&&i$(tp)),r!==o&&oV()!==o?(ik=e,e=r=tf()):(iN=e,e=l),e===o&&(e=iN,(r=[])!==o&&(ik=e,r=tm()),e=r),e}function op(){var e,r,n,i,s,a;if(e=iN,t.substr(iN,6)===tg?(r=tg,iN+=6):(r=o,0===iF&&i$(ty)),r!==o){if(oV()!==o){if(40===t.charCodeAt(iN)?(n=ta,iN++):(n=o,0===iF&&i$(tl)),n!==o){if(oV()!==o){for(i=[],s=of();s!==o;)i.push(s),s=of();i!==o&&(s=oV())!==o?(41===t.charCodeAt(iN)?(a=tu,iN++):(a=o,0===iF&&i$(tc)),a!==o&&oV()!==o?(ik=e,e=r=tv(i)):(iN=e,e=l)):(iN=e,e=l)}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l}else iN=e,e=l;return e}function of(){var e,t,r,n,i,s,a,u,c,d,h;return e=iN,(t=oz())!==o?((r=og())===o&&(r=P),r!==o?((n=oy())===o&&(n=P),n!==o&&(i=oE())!==o?((s=om())===o&&(s=P),s!==o&&(a=ok())!==o?((u=ov())===o&&(u=P),u!==o?((c=oS())===o&&(c=P),c!==o?((d=ox())===o&&(d=P),d!==o?((h=i2())===o&&(h=P),h!==o?(ik=e,e=t=tb(r,n,i,s,a,u,d)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l),e}function om(){var e,r;return e=iN,38===t.charCodeAt(iN)?(r=tE,iN++):(r=o,0===iF&&i$(tS)),r===o&&(r=P),r!==o&&oV()!==o?(ik=e,e=r=t_()):(iN=e,e=l),e===o&&(e=iN,(r=[])!==o&&(ik=e,r=tT()),e=r),e}function og(){var e,r,n;return e=iN,(r=oD())!==o?(58===t.charCodeAt(iN)?(n=eW,iN++):(n=o,0===iF&&i$(eK)),n!==o&&oz()!==o?(ik=e,e=r=tA(r)):(iN=e,e=l)):(iN=e,e=l),e}function oy(){var e,r,n;return e=iN,t.substr(iN,8)===tC?(r=tC,iN+=8):(r=o,0===iF&&i$(tw)),r!==o&&(n=oV())!==o?(ik=e,e=r=tO()):(iN=e,e=l),e===o&&(e=iN,t.substr(iN,8)===tR?(r=tR,iN+=8):(r=o,0===iF&&i$(tx)),r!==o&&(n=oV())!==o?(ik=e,e=r=tI()):(iN=e,e=l)),e}function ov(){var e,r,n;return e=iN,61===t.charCodeAt(iN)?(r=eN,iN++):(r=o,0===iF&&i$(ek)),r!==o&&oV()!==o&&(n=i7())!==o&&oV()!==o?(ik=e,e=r=tD(n)):(iN=e,e=l),e}function ob(){var e,r;return e=iN,t.substr(iN,4)===tP?(r=tP,iN+=4):(r=o,0===iF&&i$(tN)),r!==o&&oV()!==o?(ik=e,e=r=tk()):(iN=e,e=l),e===o&&(e=oE()),e}function oE(){var e;return(e=o_())===o&&(e=oA())===o&&(e=oN()),e}function oS(){var e,t,r,n;return e=iN,(t=oo())===o&&(t=P),t!==o?((r=os())===o&&(r=P),r!==o?((n=oa())===o&&(n=P),n!==o?e=t=[t,r,n]:(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l),e}function o_(){var e,t,r;return e=iN,(t=oT())!==o&&oV()!==o?((r=ox())===o&&(r=P),r!==o?(ik=e,e=t=tM(t,r)):(iN=e,e=l)):(iN=e,e=l),e}function oT(){var e;return t.substr(iN,4)===tL?(e=tL,iN+=4):(e=o,0===iF&&i$(tB)),e===o&&(t.substr(iN,4)===tj?(e=tj,iN+=4):(e=o,0===iF&&i$(tF)),e===o&&(t.substr(iN,2)===tU?(e=tU,iN+=2):(e=o,0===iF&&i$(tV)),e===o&&(t.substr(iN,3)===tz?(e=tz,iN+=3):(e=o,0===iF&&i$(tG)),e===o&&(t.substr(iN,3)===t$?(e=t$,iN+=3):(e=o,0===iF&&i$(tH)),e===o&&(t.substr(iN,3)===tq?(e=tq,iN+=3):(e=o,0===iF&&i$(tW)),e===o&&(t.substr(iN,6)===tK?(e=tK,iN+=6):(e=o,0===iF&&i$(tY)),e===o&&(t.substr(iN,6)===tZ?(e=tZ,iN+=6):(e=o,0===iF&&i$(tJ)),e===o&&(t.substr(iN,6)===tQ?(e=tQ,iN+=6):(e=o,0===iF&&i$(tX)),e===o&&(t.substr(iN,5)===t0?(e=t0,iN+=5):(e=o,0===iF&&i$(t1))))))))))),e}function oA(){var e;return(e=oC())===o&&(e=ow())===o&&(e=oO()),e}function oC(){var e,r,n,i,s,a,u,c,d;return e=iN,t.substr(iN,3)===t2?(r=t2,iN+=3):(r=o,0===iF&&i$(t3)),r!==o&&oV()!==o?((n=oR())===o&&(n=P),n!==o?(60===t.charCodeAt(iN)?(i=t6,iN++):(i=o,0===iF&&i$(t4)),i!==o&&oV()!==o&&(s=oE())!==o&&oV()!==o?(44===t.charCodeAt(iN)?(a=eT,iN++):(a=o,0===iF&&i$(eA)),a!==o&&oV()!==o&&(u=oE())!==o&&oV()!==o?(62===t.charCodeAt(iN)?(c=t5,iN++):(c=o,0===iF&&i$(t8)),c!==o&&oV()!==o?((d=ox())===o&&(d=P),d!==o?(ik=e,e=r=t7(s,u,d)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l),e}function ow(){var e,r,n,i,s,a,u;return e=iN,t.substr(iN,3)===t9?(r=t9,iN+=3):(r=o,0===iF&&i$(re)),r!==o&&oV()!==o?((n=oR())===o&&(n=P),n!==o?(60===t.charCodeAt(iN)?(i=t6,iN++):(i=o,0===iF&&i$(t4)),i!==o&&oV()!==o&&(s=oE())!==o&&oV()!==o?(62===t.charCodeAt(iN)?(a=t5,iN++):(a=o,0===iF&&i$(t8)),a!==o&&oV()!==o?((u=ox())===o&&(u=P),u!==o?(ik=e,e=r=rt(s,u)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l),e}function oO(){var e,r,n,i,s,a,u;return e=iN,t.substr(iN,4)===rr?(r=rr,iN+=4):(r=o,0===iF&&i$(rn)),r!==o&&oV()!==o?(60===t.charCodeAt(iN)?(n=t6,iN++):(n=o,0===iF&&i$(t4)),n!==o&&oV()!==o&&(i=oE())!==o&&oV()!==o?(62===t.charCodeAt(iN)?(s=t5,iN++):(s=o,0===iF&&i$(t8)),s!==o&&oV()!==o?((a=ox())===o&&(a=P),a!==o?((u=oR())===o&&(u=P),u!==o?(ik=e,e=r=ri(i,a)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l),e}function oR(){var e,r,n,i;return e=iN,t.substr(iN,8)===ro?(r=ro,iN+=8):(r=o,0===iF&&i$(rs)),r!==o&&(n=oV())!==o&&(i=o0())!==o?e=r=[r,n,i]:(iN=e,e=l),e}function ox(){var e,r,n,i,s;if(e=iN,40===t.charCodeAt(iN)?(r=ta,iN++):(r=o,0===iF&&i$(tl)),r!==o){if(oV()!==o){for(n=[],i=oI();i!==o;)n.push(i),i=oI();n!==o&&(i=oV())!==o?(41===t.charCodeAt(iN)?(s=tu,iN++):(s=o,0===iF&&i$(tc)),s!==o&&oV()!==o?(ik=e,e=r=ra(n)):(iN=e,e=l)):(iN=e,e=l)}else iN=e,e=l}else iN=e,e=l;return e}function oI(){var e,r,n,i,s;return e=iN,(r=ok())!==o?(n=iN,61===t.charCodeAt(iN)?(i=eN,iN++):(i=o,0===iF&&i$(ek)),i!==o&&oV()!==o&&(s=o0())!==o?(ik=n,n=i=rl(s)):(iN=n,n=l),n===o&&(n=P),n!==o?((i=i2())===o&&(i=P),i!==o?(ik=e,e=r=ru(r,n)):(iN=e,e=l)):(iN=e,e=l)):(iN=e,e=l),e}function oD(){var e;return(e=st())===o&&(e=sl()),e}function oP(){var e,r;if(e=[],rc.test(t.charAt(iN))?(r=t.charAt(iN),iN++):(r=o,0===iF&&i$(rd)),r!==o)for(;r!==o;)e.push(r),rc.test(t.charAt(iN))?(r=t.charAt(iN),iN++):(r=o,0===iF&&i$(rd));else e=l;return e}function oN(){var e,t;return e=iN,(t=ok())!==o&&oV()!==o?(ik=e,e=t=rh(t)):(iN=e,e=l),e}function ok(){var e,t,r,n,i;if(iF++,e=iN,t=iN,iF++,r=sS(),iF--,r===o?t=rf:(iN=t,t=l),t!==o){if((r=oM())!==o){for(n=[],i=oL();i!==o;)n.push(i),i=oL();n!==o&&(i=oV())!==o?(ik=e,e=t=rm(r,n)):(iN=e,e=l)}else iN=e,e=l}else iN=e,e=l;return iF--,e===o&&(t=o,0===iF&&i$(rp)),e}function oM(){var e;return(e=oB())===o&&(95===t.charCodeAt(iN)?(e=rg,iN++):(e=o,0===iF&&i$(ry))),e}function oL(){var e;return(e=oM())===o&&(e=oj())===o&&(e=sx())===o&&(e=sD())===o&&(8204===t.charCodeAt(iN)?(e=rv,iN++):(e=o,0===iF&&i$(rb)),e===o&&(8205===t.charCodeAt(iN)?(e=rE,iN++):(e=o,0===iF&&i$(rS)),e===o&&(46===t.charCodeAt(iN)?(e=r_,iN++):(e=o,0===iF&&i$(rT))))),e}function oB(){var e;return(e=sw())===o&&(e=s_())===o&&(e=sC())===o&&(e=sT())===o&&(e=sA())===o&&(e=sI()),e}function oj(){var e;return(e=sR())===o&&(e=sO()),e}function oF(){var e,t;return e=iN,(t=oU())!==o&&(ik=e,t=rA(t)),e=t}function oU(){var e,t,r;return e=iN,t=iN,iF++,r=oG(),iF--,r===o?t=rf:(iN=t,t=l),t!==o&&(r=oP())!==o?e=t=[t,r]:(iN=e,e=l),e}function oV(){var e,t;for(e=[],(t=oH())===o&&(t=oW())===o&&(t=oK());t!==o;)e.push(t),(t=oH())===o&&(t=oW())===o&&(t=oK());return e}function oz(){var e,t;for(e=[],(t=oH())===o&&(t=oZ());t!==o;)e.push(t),(t=oH())===o&&(t=oZ());return e}function oG(){var e,r,n,i;return e=iN,t.substr(iN,3)===t2?(r=t2,iN+=3):(r=o,0===iF&&i$(t3)),r===o&&(t.substr(iN,3)===t9?(r=t9,iN+=3):(r=o,0===iF&&i$(re)),r===o&&(t.substr(iN,4)===rr?(r=rr,iN+=4):(r=o,0===iF&&i$(rn)))),r!==o?(n=iN,iF++,rC.test(t.charAt(iN))?(i=t.charAt(iN),iN++):(i=o,0===iF&&i$(rw)),iF--,i===o?n=rf:(iN=n,n=l),n!==o?e=r=[r,n]:(iN=e,e=l)):(iN=e,e=l),e}function o$(){var e;return t.length>iN?(e=t.charAt(iN),iN++):(e=o,0===iF&&i$(rO)),e}function oH(){var e;return iF++,9===t.charCodeAt(iN)?(e=rx,iN++):(e=o,0===iF&&i$(rI)),e===o&&(11===t.charCodeAt(iN)?(e=rD,iN++):(e=o,0===iF&&i$(rP)),e===o&&(12===t.charCodeAt(iN)?(e=rN,iN++):(e=o,0===iF&&i$(rk)),e===o&&(32===t.charCodeAt(iN)?(e=rM,iN++):(e=o,0===iF&&i$(rL)),e===o&&(160===t.charCodeAt(iN)?(e=rB,iN++):(e=o,0===iF&&i$(rj)),e===o&&(65279===t.charCodeAt(iN)?(e=rF,iN++):(e=o,0===iF&&i$(rU)),e===o&&(e=sP())))))),iF--,e===o&&0===iF&&i$(rR),e}function oq(){var e;return rV.test(t.charAt(iN))?(e=t.charAt(iN),iN++):(e=o,0===iF&&i$(rz)),e}function oW(){var e;return iF++,10===t.charCodeAt(iN)?(e=r$,iN++):(e=o,0===iF&&i$(rH)),e===o&&(t.substr(iN,2)===rq?(e=rq,iN+=2):(e=o,0===iF&&i$(rW)),e===o&&(13===t.charCodeAt(iN)?(e=rK,iN++):(e=o,0===iF&&i$(rY)),e===o&&(8232===t.charCodeAt(iN)?(e=rZ,iN++):(e=o,0===iF&&i$(rJ)),e===o&&(8233===t.charCodeAt(iN)?(e=rQ,iN++):(e=o,0===iF&&i$(rX)))))),iF--,e===o&&0===iF&&i$(rG),e}function oK(){var e;return iF++,(e=oY())===o&&(e=oJ())===o&&(e=oQ()),iF--,e===o&&0===iF&&i$(r0),e}function oY(){var e,r,n,i,s,a;if(e=iN,t.substr(iN,2)===r1?(r=r1,iN+=2):(r=o,0===iF&&i$(r2)),r!==o){for(n=[],i=iN,s=iN,iF++,t.substr(iN,2)===r3?(a=r3,iN+=2):(a=o,0===iF&&i$(r6)),iF--,a===o?s=rf:(iN=s,s=l),s!==o&&(a=o$())!==o?(ik=i,i=s=r4(a)):(iN=i,i=l);i!==o;)n.push(i),i=iN,s=iN,iF++,t.substr(iN,2)===r3?(a=r3,iN+=2):(a=o,0===iF&&i$(r6)),iF--,a===o?s=rf:(iN=s,s=l),s!==o&&(a=o$())!==o?(ik=i,i=s=r4(a)):(iN=i,i=l);n!==o?(t.substr(iN,2)===r3?(i=r3,iN+=2):(i=o,0===iF&&i$(r6)),i!==o?(ik=e,e=r=r5(n)):(iN=e,e=l)):(iN=e,e=l)}else iN=e,e=l;return e}function oZ(){var e,r,n,i,s,a;if(e=iN,t.substr(iN,2)===r1?(r=r1,iN+=2):(r=o,0===iF&&i$(r2)),r!==o){for(n=[],i=iN,s=iN,iF++,t.substr(iN,2)===r3?(a=r3,iN+=2):(a=o,0===iF&&i$(r6)),a===o&&(a=oq()),iF--,a===o?s=rf:(iN=s,s=l),s!==o&&(a=o$())!==o?i=s=[s,a]:(iN=i,i=l);i!==o;)n.push(i),i=iN,s=iN,iF++,t.substr(iN,2)===r3?(a=r3,iN+=2):(a=o,0===iF&&i$(r6)),a===o&&(a=oq()),iF--,a===o?s=rf:(iN=s,s=l),s!==o&&(a=o$())!==o?i=s=[s,a]:(iN=i,i=l);n!==o?(t.substr(iN,2)===r3?(i=r3,iN+=2):(i=o,0===iF&&i$(r6)),i!==o?e=r=[r,n,i]:(iN=e,e=l)):(iN=e,e=l)}else iN=e,e=l;return e}function oJ(){var e,r,n,i,s,a;if(e=iN,t.substr(iN,2)===r8?(r=r8,iN+=2):(r=o,0===iF&&i$(r7)),r!==o){for(n=[],i=iN,s=iN,iF++,a=oq(),iF--,a===o?s=rf:(iN=s,s=l),s!==o&&(a=o$())!==o?(ik=i,i=s=r9(a)):(iN=i,i=l);i!==o;)n.push(i),i=iN,s=iN,iF++,a=oq(),iF--,a===o?s=rf:(iN=s,s=l),s!==o&&(a=o$())!==o?(ik=i,i=s=r9(a)):(iN=i,i=l);n!==o?(ik=e,e=r=r5(n)):(iN=e,e=l)}else iN=e,e=l;return e}function oQ(){var e,r,n,i,s,a;if(e=iN,35===t.charCodeAt(iN)?(r=ne,iN++):(r=o,0===iF&&i$(nt)),r!==o){for(n=[],i=iN,s=iN,iF++,a=oq(),iF--,a===o?s=rf:(iN=s,s=l),s!==o&&(a=o$())!==o?(ik=i,i=s=r9(a)):(iN=i,i=l);i!==o;)n.push(i),i=iN,s=iN,iF++,a=oq(),iF--,a===o?s=rf:(iN=s,s=l),s!==o&&(a=o$())!==o?(ik=i,i=s=r9(a)):(iN=i,i=l);n!==o?(ik=e,e=r=r5(n)):(iN=e,e=l)}else iN=e,e=l;return e}function oX(){var e,t;return iF++,e=iN,(t=o0())!==o&&(ik=e,t=nn(t)),e=t,iF--,e===o&&(t=o,0===iF&&i$(nr)),e}function o0(){var e,r,n,i,s;if(iF++,e=iN,34===t.charCodeAt(iN)?(r=ni,iN++):(r=o,0===iF&&i$(no)),r!==o){for(n=[],i=o1();i!==o;)n.push(i),i=o1();n!==o?(34===t.charCodeAt(iN)?(i=ni,iN++):(i=o,0===iF&&i$(no)),i!==o&&(s=oV())!==o?(ik=e,e=r=ns(n)):(iN=e,e=l)):(iN=e,e=l)}else iN=e,e=l;if(e===o){if(e=iN,39===t.charCodeAt(iN)?(r=na,iN++):(r=o,0===iF&&i$(nl)),r!==o){for(n=[],i=o2();i!==o;)n.push(i),i=o2();n!==o?(39===t.charCodeAt(iN)?(i=na,iN++):(i=o,0===iF&&i$(nl)),i!==o&&(s=oV())!==o?(ik=e,e=r=ns(n)):(iN=e,e=l)):(iN=e,e=l)}else iN=e,e=l}return iF--,e===o&&(r=o,0===iF&&i$(nr)),e}function o1(){var e,r,n;return e=iN,r=iN,iF++,34===t.charCodeAt(iN)?(n=ni,iN++):(n=o,0===iF&&i$(no)),n===o&&(92===t.charCodeAt(iN)?(n=nu,iN++):(n=o,0===iF&&i$(nc)),n===o&&(n=oq())),iF--,n===o?r=rf:(iN=r,r=l),r!==o&&(n=o$())!==o?(ik=e,e=r=nd()):(iN=e,e=l),e===o&&(e=iN,92===t.charCodeAt(iN)?(r=nu,iN++):(r=o,0===iF&&i$(nc)),r!==o&&(n=o6())!==o?(ik=e,e=r=nh(n)):(iN=e,e=l),e===o&&(e=o3())),e}function o2(){var e,r,n;return e=iN,r=iN,iF++,39===t.charCodeAt(iN)?(n=na,iN++):(n=o,0===iF&&i$(nl)),n===o&&(92===t.charCodeAt(iN)?(n=nu,iN++):(n=o,0===iF&&i$(nc)),n===o&&(n=oq())),iF--,n===o?r=rf:(iN=r,r=l),r!==o&&(n=o$())!==o?(ik=e,e=r=nd()):(iN=e,e=l),e===o&&(e=iN,92===t.charCodeAt(iN)?(r=nu,iN++):(r=o,0===iF&&i$(nc)),r!==o&&(n=o6())!==o?(ik=e,e=r=nh(n)):(iN=e,e=l),e===o&&(e=o3())),e}function o3(){var e,r;return e=iN,92===t.charCodeAt(iN)?(r=nu,iN++):(r=o,0===iF&&i$(nc)),r!==o&&oW()!==o?(ik=e,e=r=np()):(iN=e,e=l),e}function o6(){var e,r,n,i;return(e=o4())===o&&(e=iN,48===t.charCodeAt(iN)?(r=nf,iN++):(r=o,0===iF&&i$(nm)),r!==o?(n=iN,iF++,i=sa(),iF--,i===o?n=rf:(iN=n,n=l),n!==o?(ik=e,e=r=ng()):(iN=e,e=l)):(iN=e,e=l),e===o&&(e=o9())===o&&(e=se())),e}function o4(){var e;return(e=o5())===o&&(e=o8()),e}function o5(){var e,r;return 39===t.charCodeAt(iN)?(e=na,iN++):(e=o,0===iF&&i$(nl)),e===o&&(34===t.charCodeAt(iN)?(e=ni,iN++):(e=o,0===iF&&i$(no)),e===o&&(92===t.charCodeAt(iN)?(e=nu,iN++):(e=o,0===iF&&i$(nc)),e===o&&(e=iN,98===t.charCodeAt(iN)?(r=ny,iN++):(r=o,0===iF&&i$(nv)),r!==o&&(ik=e,r=nb()),(e=r)===o&&(e=iN,102===t.charCodeAt(iN)?(r=nE,iN++):(r=o,0===iF&&i$(nS)),r!==o&&(ik=e,r=n_()),(e=r)===o&&(e=iN,110===t.charCodeAt(iN)?(r=nT,iN++):(r=o,0===iF&&i$(nA)),r!==o&&(ik=e,r=nC()),(e=r)===o&&(e=iN,114===t.charCodeAt(iN)?(r=nw,iN++):(r=o,0===iF&&i$(nO)),r!==o&&(ik=e,r=nR()),(e=r)===o&&(e=iN,116===t.charCodeAt(iN)?(r=nx,iN++):(r=o,0===iF&&i$(nI)),r!==o&&(ik=e,r=nD()),(e=r)===o&&(e=iN,118===t.charCodeAt(iN)?(r=nP,iN++):(r=o,0===iF&&i$(nN)),r!==o&&(ik=e,r=nk()),e=r)))))))),e}function o8(){var e,t,r;return e=iN,t=iN,iF++,(r=o7())===o&&(r=oq()),iF--,r===o?t=rf:(iN=t,t=l),t!==o&&(r=o$())!==o?(ik=e,e=t=nd()):(iN=e,e=l),e}function o7(){var e;return(e=o5())===o&&(e=sa())===o&&(120===t.charCodeAt(iN)?(e=nM,iN++):(e=o,0===iF&&i$(nL)),e===o&&(117===t.charCodeAt(iN)?(e=nB,iN++):(e=o,0===iF&&i$(nj)))),e}function o9(){var e,r,n,i,s,a;return e=iN,120===t.charCodeAt(iN)?(r=nM,iN++):(r=o,0===iF&&i$(nL)),r!==o?(n=iN,i=iN,(s=sr())!==o&&(a=sr())!==o?i=s=[s,a]:(iN=i,i=l),i!==o&&(i=t.substring(n,iN)),(n=i)!==o?(ik=e,e=r=nF(n)):(iN=e,e=l)):(iN=e,e=l),e}function se(){var e,r,n,i,s,a,u,c;return e=iN,117===t.charCodeAt(iN)?(r=nB,iN++):(r=o,0===iF&&i$(nj)),r!==o?(n=iN,i=iN,(s=sr())!==o&&(a=sr())!==o&&(u=sr())!==o&&(c=sr())!==o?i=s=[s,a,u,c]:(iN=i,i=l),i!==o&&(i=t.substring(n,iN)),(n=i)!==o?(ik=e,e=r=nF(n)):(iN=e,e=l)):(iN=e,e=l),e}function st(){var e,r,n,i,s;if(iF++,e=iN,t.substr(iN,2).toLowerCase()===nV?(r=t.substr(iN,2),iN+=2):(r=o,0===iF&&i$(nz)),r!==o){if(n=iN,i=[],(s=sr())!==o)for(;s!==o;)i.push(s),s=sr();else i=l;i!==o&&(i=t.substring(n,iN)),(n=i)!==o?(ik=e,e=r=nG(n)):(iN=e,e=l)}else iN=e,e=l;return iF--,e===o&&(r=o,0===iF&&i$(nU)),e}function sr(){var e;return n$.test(t.charAt(iN))?(e=t.charAt(iN),iN++):(e=o,0===iF&&i$(nH)),e}function sn(){var e,r,n;return iF++,(e=st())===o&&(e=iN,nW.test(t.charAt(iN))?(r=t.charAt(iN),iN++):(r=o,0===iF&&i$(nK)),r===o&&(r=P),r!==o&&(n=si())!==o?(ik=e,e=r=nY(n)):(iN=e,e=l),e===o&&(e=sl())),iF--,e===o&&(r=o,0===iF&&i$(nq)),e}function si(){var e,r,n,i,s,a;if(iF++,e=iN,r=[],(n=sa())!==o)for(;n!==o;)r.push(n),n=sa();else r=l;if(r!==o){if(n=iN,46===t.charCodeAt(iN)?(i=r_,iN++):(i=o,0===iF&&i$(rT)),i!==o){if(s=[],(a=sa())!==o)for(;a!==o;)s.push(a),a=sa();else s=l;s!==o?n=i=[i,s]:(iN=n,n=l)}else iN=n,n=l;n===o&&(n=P),n!==o?((i=so())===o&&(i=P),i!==o?(ik=e,e=r=nJ()):(iN=e,e=l)):(iN=e,e=l)}else iN=e,e=l;if(e===o){if(e=iN,46===t.charCodeAt(iN)?(r=r_,iN++):(r=o,0===iF&&i$(rT)),r!==o){if(n=[],(i=sa())!==o)for(;i!==o;)n.push(i),i=sa();else n=l;n!==o?((i=so())===o&&(i=P),i!==o?(ik=e,e=r=nJ()):(iN=e,e=l)):(iN=e,e=l)}else iN=e,e=l;if(e===o){if(e=iN,r=[],(n=sa())!==o)for(;n!==o;)r.push(n),n=sa();else r=l;r!==o?((n=so())===o&&(n=P),n!==o?(ik=e,e=r=nJ()):(iN=e,e=l)):(iN=e,e=l)}}return iF--,e===o&&(r=o,0===iF&&i$(nZ)),e}function so(){var e,t,r;return e=iN,(t=ss())!==o&&(r=sl())!==o?e=t=[t,r]:(iN=e,e=l),e}function ss(){var e;return t.substr(iN,1).toLowerCase()===nQ?(e=t.charAt(iN),iN++):(e=o,0===iF&&i$(nX)),e}function sa(){var e;return n0.test(t.charAt(iN))?(e=t.charAt(iN),iN++):(e=o,0===iF&&i$(n1)),e}function sl(){var e,r,n,i;if(e=iN,nW.test(t.charAt(iN))?(r=t.charAt(iN),iN++):(r=o,0===iF&&i$(nK)),r===o&&(r=P),r!==o){if(n=[],(i=sa())!==o)for(;i!==o;)n.push(i),i=sa();else n=l;n!==o?(ik=e,e=r=n2()):(iN=e,e=l)}else iN=e,e=l;return e}function su(){var e,r,n,i;return e=iN,t.substr(iN,7)===n3?(r=n3,iN+=7):(r=o,0===iF&&i$(n6)),r!==o?(n=iN,iF++,i=oL(),iF--,i===o?n=rf:(iN=n,n=l),n!==o&&(i=oV())!==o?e=r=[r,n,i]:(iN=e,e=l)):(iN=e,e=l),e}function sc(){var e,r,n,i;return e=iN,t.substr(iN,11)===n4?(r=n4,iN+=11):(r=o,0===iF&&i$(n5)),r!==o?(n=iN,iF++,i=oL(),iF--,i===o?n=rf:(iN=n,n=l),n!==o&&(i=oV())!==o?e=r=[r,n,i]:(iN=e,e=l)):(iN=e,e=l),e}function sd(){var e,r,n,i;return e=iN,t.substr(iN,9)===n8?(r=n8,iN+=9):(r=o,0===iF&&i$(n7)),r!==o?(n=iN,iF++,i=oL(),iF--,i===o?n=rf:(iN=n,n=l),n!==o&&(i=oV())!==o?e=r=[r,n,i]:(iN=e,e=l)):(iN=e,e=l),e}function sh(){var e,r,n,i;return e=iN,t.substr(iN,7)===n9?(r=n9,iN+=7):(r=o,0===iF&&i$(ie)),r!==o?(n=iN,iF++,i=oL(),iF--,i===o?n=rf:(iN=n,n=l),n!==o&&(i=oV())!==o?e=r=[r,n,i]:(iN=e,e=l)):(iN=e,e=l),e}function sp(){var e,r,n,i;return e=iN,t.substr(iN,4)===it?(r=it,iN+=4):(r=o,0===iF&&i$(ir)),r!==o?(n=iN,iF++,i=oL(),iF--,i===o?n=rf:(iN=n,n=l),n!==o&&(i=oV())!==o?e=r=[r,n,i]:(iN=e,e=l)):(iN=e,e=l),e}function sf(){var e,r,n,i;return e=iN,t.substr(iN,5)===ii?(r=ii,iN+=5):(r=o,0===iF&&i$(io)),r!==o?(n=iN,iF++,i=oL(),iF--,i===o?n=rf:(iN=n,n=l),n!==o&&(i=oV())!==o?e=r=[r,n,i]:(iN=e,e=l)):(iN=e,e=l),e}function sm(){var e,r,n,i;return e=iN,t.substr(iN,5)===is?(r=is,iN+=5):(r=o,0===iF&&i$(ia)),r!==o?(n=iN,iF++,i=oL(),iF--,i===o?n=rf:(iN=n,n=l),n!==o&&(i=oV())!==o?e=r=[r,n,i]:(iN=e,e=l)):(iN=e,e=l),e}function sg(){var e,r,n,i;return e=iN,t.substr(iN,4)===tP?(r=tP,iN+=4):(r=o,0===iF&&i$(tN)),r!==o?(n=iN,iF++,i=oL(),iF--,i===o?n=rf:(iN=n,n=l),n!==o&&(i=oV())!==o?e=r=[r,n,i]:(iN=e,e=l)):(iN=e,e=l),e}function sy(){var e,r,n,i;return e=iN,t.substr(iN,3)===t9?(r=t9,iN+=3):(r=o,0===iF&&i$(re)),r!==o?(n=iN,iF++,i=oL(),iF--,i===o?n=rf:(iN=n,n=l),n!==o&&(i=oV())!==o?e=r=[r,n,i]:(iN=e,e=l)):(iN=e,e=l),e}function sv(){var e,r,n,i;return e=iN,t.substr(iN,3)===t2?(r=t2,iN+=3):(r=o,0===iF&&i$(t3)),r!==o?(n=iN,iF++,i=oL(),iF--,i===o?n=rf:(iN=n,n=l),n!==o&&(i=oV())!==o?e=r=[r,n,i]:(iN=e,e=l)):(iN=e,e=l),e}function sb(){var e,r,n,i;return e=iN,t.substr(iN,4)===rr?(r=rr,iN+=4):(r=o,0===iF&&i$(rn)),r!==o?(n=iN,iF++,i=oL(),iF--,i===o?n=rf:(iN=n,n=l),n!==o&&(i=oV())!==o?e=r=[r,n,i]:(iN=e,e=l)):(iN=e,e=l),e}function sE(){var e,r,n,i;return e=iN,t.substr(iN,5)===il?(r=il,iN+=5):(r=o,0===iF&&i$(iu)),r!==o?(n=iN,iF++,i=oL(),iF--,i===o?n=rf:(iN=n,n=l),n!==o&&(i=oV())!==o?e=r=[r,n,i]:(iN=e,e=l)):(iN=e,e=l),e}function sS(){var e;return(e=sg())===o&&(e=sy())===o&&(e=sv())===o&&(e=sb()),e}function s_(){var e;return ic.test(t.charAt(iN))?(e=t.charAt(iN),iN++):(e=o,0===iF&&i$(id)),e}function sT(){var e;return ih.test(t.charAt(iN))?(e=t.charAt(iN),iN++):(e=o,0===iF&&i$(ip)),e}function sA(){var e;return im.test(t.charAt(iN))?(e=t.charAt(iN),iN++):(e=o,0===iF&&i$(ig)),e}function sC(){var e;return iy.test(t.charAt(iN))?(e=t.charAt(iN),iN++):(e=o,0===iF&&i$(iv)),e}function sw(){var e;return ib.test(t.charAt(iN))?(e=t.charAt(iN),iN++):(e=o,0===iF&&i$(iE)),e}function sO(){var e;return iS.test(t.charAt(iN))?(e=t.charAt(iN),iN++):(e=o,0===iF&&i$(i_)),e}function sR(){var e;return iT.test(t.charAt(iN))?(e=t.charAt(iN),iN++):(e=o,0===iF&&i$(iA)),e}function sx(){var e;return iC.test(t.charAt(iN))?(e=t.charAt(iN),iN++):(e=o,0===iF&&i$(iw)),e}function sI(){var e;return iO.test(t.charAt(iN))?(e=t.charAt(iN),iN++):(e=o,0===iF&&i$(iR)),e}function sD(){var e;return ix.test(t.charAt(iN))?(e=t.charAt(iN),iN++):(e=o,0===iF&&i$(iI)),e}function sP(){var e;return iD.test(t.charAt(iN))?(e=t.charAt(iN),iN++):(e=o,0===iF&&i$(iP)),e}var sN=r(31e3);if((n=a())!==o&&iN===t.length)return n;throw n!==o&&iN<t.length&&i$({type:"end",description:"end of input"}),iH(null,ij,iB)}return function(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}(e,Error),{SyntaxError:e,parse:t}}()},78511:(e,t,r)=>{"use strict";var n=r(39491),i=r(73837),o=r(57147),s=r(71017),a=r(30464),l=r(33607),u=r(9340),c=r(83641).ThriftService,d=r(15180).ThriftStruct,h=r(23952).ThriftUnion,p=r(24959).ThriftEnum,f=r(59119).ThriftVoid,m=r(67245).ThriftBoolean,g=r(85472).ThriftString,y=r(35605).ThriftBinary,v=r(12197).ThriftI8,b=r(58455).ThriftI16,E=r(2896).ThriftI32,S=r(26881).ThriftI64,_=r(93206).ThriftDouble,T=r(35298).ThriftList,A=r(22918).ThriftSet,C=r(48459).ThriftMap,w=r(28595).ThriftConst,O=r(49242).ThriftTypedef,R=r(31e3).Literal,x=r(32518).Message,I=r(32518).exceptionDef,D=r(32518).exceptionTypesDef,P=/^[a-zA-Z_][a-zA-Z0-9_\.]+$/;function N(e){n(e,"options required"),n("object"==typeof e,"options must be object"),n(e.source||e.entryPoint,"opts.entryPoint required"),e.source&&(n("string"==typeof e.source,"source must be string"),e.entryPoint="service.thrift",e.idls={"service.thrift":e.source}),this.idls=e.idls||Object.create(null),this.asts=e.asts||Object.create(null),this.memo=e.memo||Object.create(null),this.fs=e.fs,e.allowFilesystemAccess&&(this.fs=o),this.strict=void 0===e.strict||e.strict,this.defaultValueDefinition=new R(e.defaultAsUndefined?void 0:null),this.defaultAsUndefined=e.defaultAsUndefined,this.models=Object.create(null),this.services=Object.create(null),this.consts=Object.create(null),this.enums=Object.create(null),this.structs=Object.create(null),this.exceptions=Object.create(null),this.unions=Object.create(null),this.typedefs=Object.create(null),this.modules=Object.create(null),this.surface=this,this.linked=!1,this.releaseSources=e.releaseSources||!1,this.allowIncludeAlias=e.allowIncludeAlias||!1,this.allowOptionalArguments=e.allowOptionalArguments||!1,this.filename=e.entryPoint,this.dirname=s.dirname(this.filename),this.memo[this.filename]=this;var t=this.asts[e.entryPoint],r=this.idls[e.entryPoint];r||t||(n.ok(this.fs,this.filename+": Thrift must be constructed with either a complete set of options.idls, options.asts, or options.fs access"),n.ok(this.filename,"Thrift must be constructed with a options.entryPoint"),this.filename=s.resolve(this.filename),r=this.fs.readFileSync(this.filename,"ascii"),this.idls[this.filename]=r),this.exception=null,this.compile(r),e.noLink||this.link()}N.prototype.models="module",N.prototype.Message=x,N.prototype.getType=function(e){return this.getTypeResult(e).toValue()},N.prototype.getTypeResult=function(e){var t=this.models[e];return t&&"type"===t.models?new l(null,t.link(this)):new l(Error(i.format("type %s not found",e)))},N.prototype.getSources=function(){for(var e=Object.keys(this.idls),t=u.longestCommonPath(e),r={},n=0;n<e.length;n++){var i=e[n];r[i.slice(t.length)]=this.idls[i]}return{entryPoint:this.filename.slice(t.length),idls:r}},N.prototype.toJSON=function(){for(var e=Object.keys(this.idls),t=u.longestCommonPath(e),r={},n=0;n<e.length;n++){var i=e[n];r[i.slice(t.length)]=this.asts[i]}return{entryPoint:this.filename.slice(t.length),asts:r}},N.prototype.getServiceEndpoints=function(e){e=e||null;for(var t=Object.keys(this.services),r=[],n=0;n<t.length;n++){var i=this.models[t[n]];if(!e||e===i.name)for(var o=0;o<i.functions.length;o++)r.push(i.name+"::"+i.functions[o].name)}return r},N.prototype.baseTypes={void:f,bool:m,byte:v,i8:v,i16:b,i32:E,i64:S,double:_,string:g,binary:y},N.prototype.compile=function(e){var t=this.asts[this.filename];t||(t=a.parse(e),this.asts[this.filename]=t),n.equal(t.type,"Program","expected a program"),this._compile(t.headers),this._compile(t.definitions),this.compileEnum(D),this.exception=this.compileStruct(I)},N.prototype.define=function(e,t,r){n(!this.models[e],"duplicate reference to "+e+" at "+t.line+":"+t.column),this.models[e]=r},N.prototype.compilers={Const:"compileConst",Enum:"compileEnum",Exception:"compileException",Include:"compileInclude",Service:"compileService",Struct:"compileStruct",Typedef:"compileTypedef",Union:"compileUnion"},N.prototype._compile=function(e){for(var t=0;t<e.length;t++){var r=e[t],n=this.compilers[r.type];n&&this[n](r)}},N.prototype.compileInclude=function(e){if(0!==e.id.lastIndexOf("/",0)){var t,r=e.namespace&&e.namespace.name,n=s.join(this.dirname,e.id);if(!this.allowIncludeAlias||!r){var i=s.basename(e.id);if(r=i.slice(0,i.length-7),!P.test(r))throw Error("Thrift include filename is not valid thrift identifier")}t=this.memo[n]?this.memo[n]:new N({entryPoint:n,fs:this.fs,idls:this.idls,asts:this.asts,memo:this.memo,strict:this.strict,allowIncludeAlias:!0,allowOptionalArguments:this.allowOptionalArguments,noLink:!0,releaseSources:this.releaseSources,defaultAsUndefined:this.defaultAsUndefined}),this.define(r,e,t),this.modules[r]=t,/^[a-z]/.test(r)||(this[r]=t)}else throw Error("Include path string must not be an absolute path")},N.prototype.compileStruct=function(e){var t=new d({strict:this.strict,defaultValueDefinition:this.defaultValueDefinition});return t.compile(e,this),this.define(t.fullName,e,t),t},N.prototype.compileException=function(e){var t=new d({strict:this.strict,isException:!0});return t.compile(e,this),this.define(t.fullName,e,t),t},N.prototype.compileUnion=function(e){var t=new h({strict:this.strict});return t.compile(e,this),this.define(t.fullName,e,t),t},N.prototype.compileTypedef=function(e){var t=new O({strict:this.strict});return t.compile(e,this),this.define(t.name,e,t),t},N.prototype.compileService=function(e){var t=new c({strict:this.strict});t.compile(e,this),this.define(t.name,e.id,t)},N.prototype.compileConst=function(e,t){var r=new w(e);this.define(e.id.name,e.id,r)},N.prototype.compileEnum=function(e){var t=new p;t.compile(e,this),this.define(t.name,e.id,t)},N.prototype.link=function(){if(this.linked)return this;this.linked=!0;for(var e=Object.keys(this.models),t=0;t<e.length;t++)this.models[e[t]].link(this);return this.exception.link(this),this.releaseSources&&(this.idls=null,this.asts=null,this.memo=null),this},N.prototype.resolve=function(e){return"BaseType"===e.type?new this.baseTypes[e.baseType](e.annotations):"Identifier"===e.type?this.resolveIdentifier(e,e.name,"type"):"List"===e.type?new T(this.resolve(e.valueType),e.annotations):"Set"===e.type?new A(this.resolve(e.valueType),e.annotations):"Map"===e.type?new C(this.resolve(e.keyType),this.resolve(e.valueType),e.annotations):void n.fail(i.format("Can't get reader/writer for definition with unknown type %s at %s:%s",e.type,e.line,e.column))},N.prototype.resolveValue=function(e){return e?"Literal"===e.type?e.value:"ConstList"===e.type?this.resolveListConst(e):"ConstMap"===e.type?this.resolveMapConst(e):"Identifier"===e.type?"true"===e.name||"false"!==e.name&&this.resolveIdentifier(e,e.name,"value").value:void n.fail("unrecognized const type "+e.type):null},N.prototype.resolveListConst=function(e){for(var t=[],r=0;r<e.values.length;r++)t.push(this.resolveValue(e.values[r]));return t},N.prototype.resolveMapConst=function(e){for(var t={},r=0;r<e.entries.length;r++)t[this.resolveValue(e.entries[r].key)]=this.resolveValue(e.entries[r].value);return t},N.prototype.resolveIdentifier=function(e,t,r){if(this.models[t]){if((n=this.models[t].link(this)).models!==r)throw(i=Error("type mismatch for "+e.name+" at "+e.line+":"+e.column+", expects "+r+", got "+n.models)).line=e.line,i.column=e.column,i;return n}var n,i,o=t.split("."),s=this.modules[o.shift()];if(s)return s.resolveIdentifier(e,o.join("."),r);throw(i=Error("cannot resolve reference to "+e.name+" at "+e.line+":"+e.column)).line=e.line,i.column=e.column,i},e.exports.Thrift=N},30409:(e,t,r)=>{"use strict";var n=r(59972),i=r(73837).inherits,o=r(83431);function s(e,t){if(!(this instanceof s))return new s(e,t);this.etypeid=e,this.elements=t||[]}function a(e){if(!(this instanceof a))return new a(e);this.ttypes=e.ttypes}i(a,n.Base),a.prototype.headerRW=n.Series([n.Int8,n.Int32BE]),a.prototype.poolByteLength=function(e,t){var r,n=this.ttypes[t.etypeid];if(!n)return e.reset(o.InvalidTypeidError({typeid:t.etypeid,what:"list::etype"}));for(var i=5,s=0;s<t.elements.length;s++){if((r=n.poolByteLength(e,t.elements[s])).err)return r;i+=r.length}return e.reset(null,i)},a.prototype.poolWriteInto=function(e,t,r,n){var i=this.ttypes[t.etypeid];if(!i)return e.reset(o.InvalidTypeidError({typeid:t.etypeid,what:"list::etype"}));var s=this.headerRW.poolWriteInto(e,[t.etypeid,t.elements.length],r,n);if(s.err)return s;n=s.offset;for(var a=0;a<t.elements.length;a++){if((s=i.poolWriteInto(e,t.elements[a],r,n)).err)return s;n=s.offset}return e.reset(null,n)},a.prototype.poolReadFrom=function(e,t,r){var n=this.headerRW.poolReadFrom(e,t,r);if(n.err)return n;r=n.offset;var i=n.value[0],a=n.value[1];if(a<0)return e.reset(o.InvalidSizeError({size:a,what:"list::size"}),r);var l=new s(i),u=this.ttypes[l.etypeid];if(!u)return e.reset(o.InvalidTypeidError({typeid:l.etypeid,what:"list::etype"}),r);for(var c=0;c<a;c++){if((n=u.poolReadFrom(e,t,r)).err)return n;r=n.offset,l.elements.push(n.value)}return e.reset(null,r,l)},e.exports.TList=s,e.exports.TListRW=a},95683:(e,t,r)=>{"use strict";var n=r(59972),i=r(73837).inherits,o=r(83431);function s(e,t){if(!(this instanceof s))return new s(e,t);this.key=e,this.val=t}function a(e,t,r){if(!(this instanceof a))return new a(e,t,r);this.ktypeid=e,this.vtypeid=t,this.pairs=r||[]}function l(e){if(!(this instanceof l))return new l(e);this.ttypes=e.ttypes,n.Base.call(this)}i(l,n.Base),l.prototype.headerRW=n.Series([n.Int8,n.Int8,n.Int32BE]),l.prototype.poolByteLength=function(e,t){var r,n=this.ttypes[t.ktypeid];if(!n)return e.reset(o.InvalidTypeidError({what:"map::ktype",typeid:t.ktypeid}));var i=this.ttypes[t.vtypeid];if(!i)return e.reset(o.InvalidTypeidError({what:"map::vtype",typeid:t.vtypeid}));for(var s=6,a=0;a<t.pairs.length;a++){var l=t.pairs[a];if((r=n.poolByteLength(e,l.key)).err||(s+=r.length,(r=i.poolByteLength(e,l.val)).err))return r;s+=r.length}return e.reset(null,s)},l.prototype.poolWriteInto=function(e,t,r,n){var i=this.ttypes[t.ktypeid];if(!i)return e.reset(o.InvalidTypeidError({what:"map::ktype",typeid:t.ktypeid}));var s=this.ttypes[t.vtypeid];if(!s)return e.reset(o.InvalidTypeidError({what:"map::vtype",typeid:t.vtypeid}));var a=this.headerRW.poolWriteInto(e,[t.ktypeid,t.vtypeid,t.pairs.length],r,n);if(a.err)return a;n=a.offset;for(var l=0;l<t.pairs.length;l++){var u=t.pairs[l];if((a=i.poolWriteInto(e,u.key,r,n)).err||(n=a.offset,(a=s.poolWriteInto(e,u.val,r,n)).err))return a;n=a.offset}return e.reset(null,n)},l.prototype.poolReadFrom=function(e,t,r){var n=this.headerRW.poolReadFrom(e,t,r);if(n.err)return n;r=n.offset;var i=n.value[0],l=n.value[1],u=n.value[2];if(u<0)return e.reset(o.InvalidSizeError({size:u,what:"map::size"}),r);var c=new a(i,l),d=this.ttypes[c.ktypeid];if(!d)return e.reset(o.InvalidTypeidError({what:"map::ktype",typeid:c.ktypeid}),r);var h=this.ttypes[c.vtypeid];if(!h)return e.reset(o.InvalidTypeidError({what:"map::vtype",typeid:c.vtypeid}),r);for(var p=0;p<u;p++){if((n=d.poolReadFrom(e,t,r)).err)return n;r=n.offset;var f=n.value;if((n=h.poolReadFrom(e,t,r)).err)return n;r=n.offset;var m=n.value;c.pairs.push(s(f,m))}return e.reset(null,r,c)},e.exports.TPair=s,e.exports.TMap=a,e.exports.TMapRW=l},18899:(e,t,r)=>{"use strict";var n=r(59972),i=r(51784),o=r(73837).inherits,s=r(83431);function a(e,t,r){if(!(this instanceof a))return new a(e,t,r);this.typeid=e,this.id=t,this.val=r}function l(e){if(!(this instanceof l))return new l(e);this.fields=e||[]}function u(e){if(!(this instanceof u))return new u(e);this.ttypes=e.ttypes}o(u,n.Base),u.prototype.poolByteLength=function(e,t){for(var r,n=1,i=0;i<t.fields.length;i++){var o=t.fields[i],a=this.ttypes[o.typeid];if(!a)return e.reset(s.InvalidTypeidError({typeid:o.typeid,what:"field::type"}));if(n+=3,(r=a.poolByteLength(e,o.val)).err)return r;n+=r.length}return e.reset(null,n)},u.prototype.poolWriteInto=function(e,t,r,o){for(var a,l=0;l<t.fields.length;l++){var u=t.fields[l],c=this.ttypes[u.typeid];if(!c)return e.reset(s.InvalidTypeidError({typeid:u.typeid,what:"field::type"}));if((a=n.Int8.poolWriteInto(e,u.typeid,r,o)).err||(o=a.offset,(a=n.Int16BE.poolWriteInto(e,u.id,r,o)).err)||(o=a.offset,(a=c.poolWriteInto(e,u.val,r,o)).err))return a;o=a.offset}return(a=n.Int8.poolWriteInto(e,i.STOP,r,o)).err?a:(o=a.offset,e.reset(null,o))},u.prototype.poolReadFrom=function(e,t,r){for(var o,u=new l;;){if((o=n.Int8.poolReadFrom(e,t,r)).err)return o;r=o.offset;var c=o.value;if(c===i.STOP)break;var d=this.ttypes[c];if(!d)return e.reset(s.InvalidTypeidError({typeid:c,what:"field::type"}),r);if((o=n.Int16BE.readFrom(t,r)).err)return o;r=o.offset;var h=o.value;if((o=d.poolReadFrom(e,t,r)).err)return o;r=o.offset;var p=o.value;u.fields.push(a(c,h,p))}return e.reset(null,r,u)},e.exports.TStruct=l,e.exports.TField=a,e.exports.TStructRW=u},49242:e=>{"use strict";function t(){this.name=null,this.valueDefinition=null,this.to=null,this.rw=null,this.annotations=null}t.prototype.models="type",t.prototype.compile=function(e,t){this.name=e.id.name,this.valueDefinition=e.valueType,this.annotations=e.annotations},t.prototype.link=function(e){return this.to||(this.to=e.resolve(this.valueDefinition)),this.rw=this.to.rw,e.typedefs[this.name]=this.to.surface,this.to},e.exports.ThriftTypedef=t},23952:(e,t,r)=>{"use strict";var n=r(73837),i=r(15180).ThriftStruct;function o(e){i.call(this,e)}n.inherits(o,i),o.prototype.isUnion=!0,o.prototype.models="type",o.prototype.createConstructor=function(e,t){return function(e){if(this.type=null,"object"==typeof e)for(var t in e)hasOwnProperty.call(e,t)&&null!==e[t]&&(this.type=t,this[t]=e[t])}},o.prototype.set=function(e,t,r){e.type=t,e[t]=r},e.exports.ThriftUnion=o},69237:e=>{"use strict";function t(e){this.thrift=e}e.exports.ThriftUnrecognizedException=t},59119:(e,t,r)=>{"use strict";var n=r(59972),i=r(51784),o=n.Null;function s(e){this.annotations=e}s.prototype.rw=o,s.prototype.name="void",s.prototype.typeid=i.VOID,s.prototype.models="type",s.prototype.surface=function(){return null},e.exports.VoidRW=o,e.exports.ThriftVoid=s},28213:function(e,t){var r,n,i;!function(o,s){n=[],void 0!==(i="function"==typeof(r=s)?r.apply(t,n):r)&&(e.exports=i)}(0,function(){var e={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},t={"*":!0};function r(e){return encodeURI(e).replace(/%25[0-9][0-9]/g,function(e){return"%"+e.substring(3)})}function n(e){return encodeURIComponent(e=e.replace(/%../g,""))===e}function i(i){var o="";e[i.charAt(0)]&&(o=i.charAt(0),i=i.substring(1));var s="",a="",l=!0,u=!1,c=!1;"+"==o?l=!1:"."==o?(a=".",s="."):"/"==o?(a="/",s="/"):"#"==o?(a="#",l=!1):";"==o?(a=";",s=";",u=!0,c=!0):"?"==o?(a="?",s="&",u=!0):"&"==o&&(a="&",s="&",u=!0);for(var d=[],h=i.split(","),p=[],f={},m=0;m<h.length;m++){var g=h[m],y=null;if(-1!=g.indexOf(":")){var v=g.split(":");g=v[0],y=parseInt(v[1])}for(var b={};t[g.charAt(g.length-1)];)b[g.charAt(g.length-1)]=!0,g=g.substring(0,g.length-1);var E={truncate:y,name:g,suffices:b};p.push(E),f[g]=E,d.push(g)}var S=function(e){for(var t="",n=0,i=0;i<p.length;i++){var o=p[i],d=e(o.name);if(null==d||Array.isArray(d)&&0==d.length||"object"==typeof d&&0==Object.keys(d).length){n++;continue}if(i==n?t+=a:t+=s||",",Array.isArray(d)){u&&(t+=o.name+"=");for(var h=0;h<d.length;h++)h>0&&(t+=o.suffices["*"]&&s||",",o.suffices["*"]&&u&&(t+=o.name+"=")),t+=l?encodeURIComponent(d[h]).replace(/!/g,"%21"):r(d[h])}else if("object"==typeof d){u&&!o.suffices["*"]&&(t+=o.name+"=");var f=!0;for(var m in d)f||(t+=o.suffices["*"]&&s||","),f=!1,t+=(l?encodeURIComponent(m).replace(/!/g,"%21"):r(m))+(o.suffices["*"]?"=":",")+(l?encodeURIComponent(d[m]).replace(/!/g,"%21"):r(d[m]))}else u&&(t+=o.name,c&&""==d||(t+="=")),null!=o.truncate&&(d=d.substring(0,o.truncate)),t+=l?encodeURIComponent(d).replace(/!/g,"%21"):r(d)}return t},_=function(e,t,r){if(a&&(e=e.substring(a.length)),1==p.length&&p[0].suffices["*"]){for(var i=p[0],o=i.name,c=i.suffices["*"]?e.split(s||","):[e],d=l&&-1!=e.indexOf("="),h=1;h<c.length;h++){var e=c[h];d&&-1==e.indexOf("=")&&(c[h-1]+=(s||",")+e,c.splice(h,1),h--)}for(var h=0;h<c.length;h++){var e=c[h];l&&-1!=e.indexOf("=")&&(d=!0);var m=e.split(",");1==m.length?c[h]=m[0]:c[h]=m}if(u||d){for(var g=t[o]||{},y=0;y<c.length;y++){var v=e;if(!u||v){if("string"==typeof c[y]){var e=c[y],b=e.split("=",1)[0],e=e.substring(b.length+1);if(l){if(r&&!n(e))return;e=decodeURIComponent(e)}v=e}else{var e=c[y][0],b=e.split("=",1)[0],e=e.substring(b.length+1);if(l){if(r&&!n(e))return;e=decodeURIComponent(e)}c[y][0]=e,v=c[y]}if(l){if(r&&!n(b))return;b=decodeURIComponent(b)}void 0!==g[b]?Array.isArray(g[b])?g[b].push(v):g[b]=[g[b],v]:g[b]=v}}1==Object.keys(g).length&&void 0!==g[o]?t[o]=g[o]:t[o]=g}else{if(l)for(var y=0;y<c.length;y++){var m=c[y];if(Array.isArray(m))for(var E=0;E<m.length;E++){if(r&&!n(m[E]))return;m[E]=decodeURIComponent(m[E])}else{if(r&&!n(m))return;c[y]=decodeURIComponent(m)}}void 0!==t[o]?Array.isArray(t[o])?t[o]=t[o].concat(c):t[o]=[t[o]].concat(c):1!=c.length||i.suffices["*"]?t[o]=c:t[o]=c[0]}}else{for(var c=1==p.length?[e]:e.split(s||","),S={},h=0;h<c.length;h++){for(var _=0;_<p.length-1&&_<h&&!p[_].suffices["*"];_++);if(_==h){S[h]=h;continue}for(var T=p.length-1;T>0&&p.length-T<c.length-h&&!p[T].suffices["*"];T--);if(p.length-T==c.length-h){S[h]=T;continue}S[h]=_}for(var h=0;h<c.length;h++){var e=c[h];if(e||!u){var m=e.split(","),d=!1;if(u){var e=m[0],o=e.split("=",1)[0],e=e.substring(o.length+1);m[0]=e;var i=f[o]||p[0]}else var i=p[S[h]],o=i.name;for(var y=0;y<m.length;y++)if(l){if(r&&!n(m[y]))return;m[y]=decodeURIComponent(m[y])}(u||i.suffices["*"])&&void 0!==t[o]?Array.isArray(t[o])?t[o]=t[o].concat(m):t[o]=[t[o]].concat(m):1!=m.length||i.suffices["*"]?t[o]=m:t[o]=m[0]}}}return 1};return{varNames:d,prefix:a,substitution:S,unSubstitution:_}}function o(e){if(!(this instanceof o))return new o(e);for(var t=e.split("{"),r=[t.shift()],n=[],s=[],a=[],l=[];t.length>0;){var u=t.shift(),c=u.split("}")[0],d=u.substring(c.length+1),h=i(c);s.push(h.substitution),a.push(h.unSubstitution),n.push(h.prefix),r.push(d),l=l.concat(h.varNames)}this.fill=function(e){if(e&&"function"!=typeof e){var t=e;e=function(e){return t[e]}}for(var n=r[0],i=0;i<s.length;i++)n+=(0,s[i])(e)+r[i+1];return n},this.fromUri=function(e,t){t=t||{};for(var i={},o=0;o<r.length;o++){var s=r[o];if(e.substring(0,s.length)!==s)return;if(e=e.substring(s.length),o>=r.length-1){if(""!=e)return;break}var l=n[o];if(!l||e.substring(0,l.length)===l){for(var u=r[o+1],c=o;;){if(c==r.length-2){var d=e.substring(e.length-u.length);if(d!==u)return;var h=e.substring(0,e.length-u.length);e=d}else if(u){var p=e.indexOf(u),h=e.substring(0,p);e=e.substring(p)}else if(n[c+1]){var p=e.indexOf(n[c+1]);-1===p&&(p=e.length);var h=e.substring(0,p);e=e.substring(p)}else if(r.length>c+2){u=r[++c+1];continue}else{var h=e;e=""}break}if(!a[o](h,i,t.strict))return}}return i},this.varNames=l,this.template=e}return o.prototype={toString:function(){return this.template},fillFromObject:function(e){return this.fill(e)},test:function(e,t){return!!this.fromUri(e,t)}},o})},38608:(e,t,r)=>{"use strict";r.r(t),r.d(t,{MAX:()=>n.default,NIL:()=>i.default,parse:()=>o.default,stringify:()=>s.default,v1:()=>a.default,v1ToV6:()=>l.default,v3:()=>u.default,v4:()=>c.default,v5:()=>d.default,v6:()=>h.default,v6ToV1:()=>p.default,v7:()=>f.default,validate:()=>m.default,version:()=>g.default});var n=r(45131),i=r(91197),o=r(23874),s=r(79186),a=r(20066),l=r(79166),u=r(69346),c=r(34912),d=r(70140),h=r(9107),p=r(26309),f=r(5923),m=r(77866),g=r(82467)},45131:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});let n="ffffffff-ffff-ffff-ffff-ffffffffffff"},43381:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(6005),i=r.n(n);let o=function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),i().createHash("md5").update(e).digest()}},65019:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var n=r(6005);let i={randomUUID:r.n(n)().randomUUID}},91197:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});let n="00000000-0000-0000-0000-000000000000"},23874:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var n=r(77866);let i=function(e){let t;if(!(0,n.default)(e))throw TypeError("Invalid UUID");let r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}},78763:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});let n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i},87169:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(6005),i=r.n(n);let o=new Uint8Array(256),s=o.length;function a(){return s>o.length-16&&(i().randomFillSync(o),s=0),o.slice(s,s+=16)}},45961:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(6005),i=r.n(n);let o=function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),i().createHash("sha1").update(e).digest()}},79186:(e,t,r)=>{"use strict";r.d(t,{default:()=>s,unsafeStringify:()=>o});var n=r(77866);let i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));function o(e,t=0){return(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase()}let s=function(e,t=0){let r=o(e,t);if(!(0,n.default)(r))throw TypeError("Stringified UUID is invalid");return r}},20066:(e,t,r)=>{"use strict";let n,i;r.d(t,{default:()=>u});var o=r(87169),s=r(79186);let a=0,l=0,u=function(e,t,r){let u=t&&r||0,c=t||Array(16),d=(e=e||{}).node,h=e.clockseq;if(e._v6||(d||(d=n),null!=h||(h=i)),null==d||null==h){let t=e.random||(e.rng||o.default)();null!=d||(d=[t[0],t[1],t[2],t[3],t[4],t[5]],n||e._v6||(d[0]|=1,n=d)),null!=h||(h=(t[6]<<8|t[7])&16383,void 0!==i||e._v6||(i=h))}let p=void 0!==e.msecs?e.msecs:Date.now(),f=void 0!==e.nsecs?e.nsecs:l+1,m=p-a+(f-l)/1e4;if(m<0&&void 0===e.clockseq&&(h=h+1&16383),(m<0||p>a)&&void 0===e.nsecs&&(f=0),f>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");a=p,l=f,i=h;let g=((268435455&(p+=122192928e5))*1e4+f)%4294967296;c[u++]=g>>>24&255,c[u++]=g>>>16&255,c[u++]=g>>>8&255,c[u++]=255&g;let y=p/4294967296*1e4&268435455;c[u++]=y>>>8&255,c[u++]=255&y,c[u++]=y>>>24&15|16,c[u++]=y>>>16&255,c[u++]=h>>>8|128,c[u++]=255&h;for(let e=0;e<6;++e)c[u+e]=d[e];return t||(0,s.unsafeStringify)(c)}},79166:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(23874),i=r(79186);function o(e){let t=s("string"==typeof e?(0,n.default)(e):e);return"string"==typeof e?(0,i.unsafeStringify)(t):t}function s(e,t=!1){return Uint8Array.of((15&e[6])<<4|e[7]>>4&15,(15&e[7])<<4|(240&e[4])>>4,(15&e[4])<<4|(240&e[5])>>4,(15&e[5])<<4|(240&e[0])>>4,(15&e[0])<<4|(240&e[1])>>4,(15&e[1])<<4|(240&e[2])>>4,96|15&e[2],e[3],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}},69346:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(5372),i=r(43381);let o=(0,n.default)("v3",48,i.default)},5372:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var n=r(79186),i=r(23874);function o(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}let s="6ba7b810-9dad-11d1-80b4-00c04fd430c8",a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function l(e,t,r){function l(e,s,a,l){var u;if("string"==typeof e&&(e=o(e)),"string"==typeof s&&(s=(0,i.default)(s)),(null===(u=s)||void 0===u?void 0:u.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+e.length);if(c.set(s),c.set(e,s.length),(c=r(c))[6]=15&c[6]|t,c[8]=63&c[8]|128,a){l=l||0;for(let e=0;e<16;++e)a[l+e]=c[e];return a}return(0,n.unsafeStringify)(c)}try{l.name=e}catch(e){}return l.DNS=s,l.URL=a,l}},34912:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(65019),i=r(87169),o=r(79186);let s=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();let s=(e=e||{}).random||(e.rng||i.default)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=s[e];return t}return(0,o.unsafeStringify)(s)}},70140:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(5372),i=r(45961);let o=(0,n.default)("v5",80,i.default)},9107:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var n=r(79186),i=r(20066),o=r(79166);function s(e={},t,r=0){let s=(0,i.default)({...e,_v6:!0},new Uint8Array(16));if(s=(0,o.default)(s),t){for(let e=0;e<16;e++)t[r+e]=s[e];return t}return(0,n.unsafeStringify)(s)}},26309:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(23874),i=r(79186);function o(e){let t=s("string"==typeof e?(0,n.default)(e):e);return"string"==typeof e?(0,i.unsafeStringify)(t):t}function s(e){return Uint8Array.of((15&e[3])<<4|e[4]>>4&15,(15&e[4])<<4|(240&e[5])>>4,(15&e[5])<<4|15&e[6],e[7],(15&e[1])<<4|(240&e[2])>>4,(15&e[2])<<4|(240&e[3])>>4,16|(240&e[0])>>4,(15&e[0])<<4|(240&e[1])>>4,e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}},5923:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var n=r(87169),i=r(79186);let o=null,s=null,a=0,l=function(e,t,r){e=e||{};let l=t&&r||0,u=t||new Uint8Array(16),c=e.random||(e.rng||n.default)(),d=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.seq?e.seq:null,p=s,f=o;return d>a&&void 0===e.msecs&&(a=d,null!==h&&(p=null,f=null)),null!==h&&(h>2147483647&&(h=2147483647),p=h>>>19&4095,f=524287&h),(null===p||null===f)&&(p=(p=127&c[6])<<8|c[7],f=(f=(f=63&c[8])<<8|c[9])<<5|c[10]>>>3),d+1e4>a&&null===h?++f>524287&&(f=0,++p>4095&&(p=0,a++)):a=d,s=p,o=f,u[l++]=a/1099511627776&255,u[l++]=a/4294967296&255,u[l++]=a/16777216&255,u[l++]=a/65536&255,u[l++]=a/256&255,u[l++]=255&a,u[l++]=p>>>4&15|112,u[l++]=255&p,u[l++]=f>>>13&63|128,u[l++]=f>>>5&255,u[l++]=f<<3&255|7&c[10],u[l++]=c[11],u[l++]=c[12],u[l++]=c[13],u[l++]=c[14],u[l++]=c[15],t||(0,i.unsafeStringify)(u)}},77866:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var n=r(78763);let i=function(e){return"string"==typeof e&&n.default.test(e)}},82467:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var n=r(77866);let i=function(e){if(!(0,n.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},3150:e=>{function t(r){if(!(this instanceof t)||this===e.exports)return new t(r);if(!Array.isArray(r)||4!==r.length)throw TypeError("seed must be an array with 4 numbers");this._state0U=0|r[0],this._state0L=0|r[1],this._state1U=0|r[2],this._state1L=0|r[3]}function r(){return 4294967296*Math.random()}t.prototype.randomint=function(){var e=this._state0U,t=this._state0L,r=this._state1U,n=this._state1L,i=(n>>>0)+(t>>>0),o=r+e+(i/2>>>31)>>>0,s=i>>>0;this._state0U=r,this._state0L=n;var a=0,l=0,u=0,c=0,d=23;a=e<<23|(-512&t)>>>9,l=t<<d,e^=a,t^=l,a=e^r,l=t^n;var h=18,p=262143;u=e>>>18,c=t>>>h|(e&p)<<32-h,a^=u,l^=c;var f=5,m=31;return u=r>>>5,c=n>>>f|(r&m)<<32-f,a^=u,l^=c,this._state1U=a,this._state1L=l,[o,s]},t.prototype.random=function(){var e=this.randomint();return 23283064365386963e-26*e[0]+(e[1]>>>12)*2220446049250313e-31},e.exports=new t([r(),r(),r(),r()]),e.exports.XorShift=t},53958:e=>{e.exports=r;var t=Object.prototype.hasOwnProperty;function r(){for(var e={},r=0;r<arguments.length;r++){var n=arguments[r];for(var i in n)t.call(n,i)&&(e[i]=n[i])}return e}},36932:e=>{e.exports=r;var t=Object.prototype.hasOwnProperty;function r(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var i in n)t.call(n,i)&&(e[i]=n[i])}return e}},67937:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZodError=t.quotelessJson=t.ZodIssueCode=void 0;let n=r(92194);t.ZodIssueCode=n.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);let i=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");t.quotelessJson=i;class o extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){let r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof o))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,n.util.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}t.ZodError=o,o.create=e=>new o(e)},11195:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorMap=t.setErrorMap=t.defaultErrorMap=void 0;let i=n(r(21477));t.defaultErrorMap=i.default;let o=i.default;function s(e){o=e}function a(){return o}t.setErrorMap=s,t.getErrorMap=a},5799:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(11195),t),i(r(74097),t),i(r(4382),t),i(r(92194),t),i(r(23341),t),i(r(67937),t)},1777:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.errorUtil=void 0,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(r||(t.errorUtil=r={}))},74097:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isAsync=t.isValid=t.isDirty=t.isAborted=t.OK=t.DIRTY=t.INVALID=t.ParseStatus=t.addIssueToContext=t.EMPTY_PATH=t.makeIssue=void 0;let i=r(11195),o=n(r(21477)),s=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,o=[...r,...i.path||[]],s={...i,path:o};if(void 0!==i.message)return{...i,path:o,message:i.message};let a="";for(let e of n.filter(e=>!!e).slice().reverse())a=e(s,{data:t,defaultError:a}).message;return{...i,path:o,message:a}};function a(e,r){let n=(0,i.getErrorMap)(),s=(0,t.makeIssue)({issueData:r,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===o.default?void 0:o.default].filter(e=>!!e)});e.common.issues.push(s)}t.makeIssue=s,t.EMPTY_PATH=[],t.addIssueToContext=a;class l{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let i of r){if("aborted"===i.status)return t.INVALID;"dirty"===i.status&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return l.mergeObjectSync(e,r)}static mergeObjectSync(e,r){let n={};for(let i of r){let{key:r,value:o}=i;if("aborted"===r.status||"aborted"===o.status)return t.INVALID;"dirty"===r.status&&e.dirty(),"dirty"===o.status&&e.dirty(),"__proto__"!==r.value&&(void 0!==o.value||i.alwaysSet)&&(n[r.value]=o.value)}return{status:e.value,value:n}}}t.ParseStatus=l,t.INVALID=Object.freeze({status:"aborted"});let u=e=>({status:"dirty",value:e});t.DIRTY=u;let c=e=>({status:"valid",value:e});t.OK=c;let d=e=>"aborted"===e.status;t.isAborted=d;let h=e=>"dirty"===e.status;t.isDirty=h;let p=e=>"valid"===e.status;t.isValid=p;let f=e=>"undefined"!=typeof Promise&&e instanceof Promise;t.isAsync=f},4382:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},92194:(e,t)=>{"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.getParsedType=t.ZodParsedType=t.objectUtil=t.util=void 0,function(e){function t(e){}function r(e){throw Error()}function n(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)}e.assertEqual=e=>e,e.assertIs=t,e.assertNever=r,e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(let e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=n,e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(r||(t.util=r={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(n||(t.objectUtil=n={})),t.ZodParsedType=r.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);let i=e=>{switch(typeof e){case"undefined":return t.ZodParsedType.undefined;case"string":return t.ZodParsedType.string;case"number":return isNaN(e)?t.ZodParsedType.nan:t.ZodParsedType.number;case"boolean":return t.ZodParsedType.boolean;case"function":return t.ZodParsedType.function;case"bigint":return t.ZodParsedType.bigint;case"symbol":return t.ZodParsedType.symbol;case"object":if(Array.isArray(e))return t.ZodParsedType.array;if(null===e)return t.ZodParsedType.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return t.ZodParsedType.promise;if("undefined"!=typeof Map&&e instanceof Map)return t.ZodParsedType.map;if("undefined"!=typeof Set&&e instanceof Set)return t.ZodParsedType.set;if("undefined"!=typeof Date&&e instanceof Date)return t.ZodParsedType.date;return t.ZodParsedType.object;default:return t.ZodParsedType.unknown}};t.getParsedType=i},17334:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.z=void 0;let a=o(r(5799));t.z=a,s(r(5799),t),t.default=a},21477:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(92194),i=r(67937),o=(e,t)=>{let r;switch(e.code){case i.ZodIssueCode.invalid_type:r=e.received===n.ZodParsedType.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case i.ZodIssueCode.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,n.util.jsonStringifyReplacer)}`;break;case i.ZodIssueCode.unrecognized_keys:r=`Unrecognized key(s) in object: ${n.util.joinValues(e.keys,", ")}`;break;case i.ZodIssueCode.invalid_union:r="Invalid input";break;case i.ZodIssueCode.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${n.util.joinValues(e.options)}`;break;case i.ZodIssueCode.invalid_enum_value:r=`Invalid enum value. Expected ${n.util.joinValues(e.options)}, received '${e.received}'`;break;case i.ZodIssueCode.invalid_arguments:r="Invalid function arguments";break;case i.ZodIssueCode.invalid_return_type:r="Invalid function return type";break;case i.ZodIssueCode.invalid_date:r="Invalid date";break;case i.ZodIssueCode.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:n.util.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case i.ZodIssueCode.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case i.ZodIssueCode.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case i.ZodIssueCode.custom:r="Invalid input";break;case i.ZodIssueCode.invalid_intersection_types:r="Intersection results could not be merged";break;case i.ZodIssueCode.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case i.ZodIssueCode.not_finite:r="Number must be finite";break;default:r=t.defaultError,n.util.assertNever(e)}return{message:r}};t.default=o},23341:function(e,t,r){"use strict";let n;var i,o,s,a=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},l=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=t.bigint=t.array=t.any=t.coerce=t.ZodFirstPartyTypeKind=t.late=t.ZodSchema=t.Schema=t.custom=t.ZodReadonly=t.ZodPipeline=t.ZodBranded=t.BRAND=t.ZodNaN=t.ZodCatch=t.ZodDefault=t.ZodNullable=t.ZodOptional=t.ZodTransformer=t.ZodEffects=t.ZodPromise=t.ZodNativeEnum=t.ZodEnum=t.ZodLiteral=t.ZodLazy=t.ZodFunction=t.ZodSet=t.ZodMap=t.ZodRecord=t.ZodTuple=t.ZodIntersection=t.ZodDiscriminatedUnion=t.ZodUnion=t.ZodObject=t.ZodArray=t.ZodVoid=t.ZodNever=t.ZodUnknown=t.ZodAny=t.ZodNull=t.ZodUndefined=t.ZodSymbol=t.ZodDate=t.ZodBoolean=t.ZodBigInt=t.ZodNumber=t.ZodString=t.datetimeRegex=t.ZodType=void 0,t.NEVER=t.void=t.unknown=t.union=t.undefined=t.tuple=t.transformer=t.symbol=t.string=t.strictObject=t.set=t.record=t.promise=t.preprocess=t.pipeline=t.ostring=t.optional=t.onumber=t.oboolean=t.object=t.number=t.nullable=t.null=t.never=t.nativeEnum=t.nan=t.map=t.literal=t.lazy=t.intersection=t.instanceof=t.function=t.enum=t.effect=t.discriminatedUnion=t.date=void 0;let u=r(11195),c=r(1777),d=r(74097),h=r(92194),p=r(67937);class f{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let m=(e,t)=>{if((0,d.isValid)(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new p.ZodError(e.common.issues);return this._error=t,this._error}}};function g(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{var o,s;let{message:a}=e;return"invalid_enum_value"===t.code?{message:null!=a?a:i.defaultError}:void 0===i.data?{message:null!==(o=null!=a?a:n)&&void 0!==o?o:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(s=null!=a?a:r)&&void 0!==s?s:i.defaultError}},description:i}}class y{get description(){return this._def.description}_getType(e){return(0,h.getParsedType)(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:(0,h.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new d.ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:(0,h.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if((0,d.isAsync)(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let n={common:{issues:[],async:null!==(r=null==t?void 0:t.async)&&void 0!==r&&r,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,h.getParsedType)(e)},i=this._parseSync({data:e,path:n.path,parent:n});return m(n,i)}"~validate"(e){var t,r;let n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,h.getParsedType)(e)};if(!this["~standard"].async)try{let t=this._parseSync({data:e,path:[],parent:n});return(0,d.isValid)(t)?{value:t.value}:{issues:n.common.issues}}catch(e){(null===(r=null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.toLowerCase())||void 0===r?void 0:r.includes("encountered"))&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(e=>(0,d.isValid)(e)?{value:e.value}:{issues:n.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,h.getParsedType)(e)},n=this._parse({data:e,path:r.path,parent:r});return m(r,await ((0,d.isAsync)(n)?n:Promise.resolve(n)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let i=e(t),o=()=>n.addIssue({code:p.ZodIssueCode.custom,...r(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(o(),!1)):!!i||(o(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new eb({schema:this,typeName:s.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return eE.create(this,this._def)}nullable(){return eS.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ee.create(this)}promise(){return ev.create(this,this._def)}or(e){return en.create([this,e],this._def)}and(e){return ea.create(this,e,this._def)}transform(e){return new eb({...g(this._def),schema:this,typeName:s.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t="function"==typeof e?e:()=>e;return new e_({...g(this._def),innerType:this,defaultValue:t,typeName:s.ZodDefault})}brand(){return new eC({typeName:s.ZodBranded,type:this,...g(this._def)})}catch(e){let t="function"==typeof e?e:()=>e;return new eT({...g(this._def),innerType:this,catchValue:t,typeName:s.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return ew.create(this,e)}readonly(){return eO.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}t.ZodType=y,t.Schema=y,t.ZodSchema=y;let v=/^c[^\s-]{8,}$/i,b=/^[0-9a-z]+$/,E=/^[0-9A-HJKMNP-TV-Z]{26}$/i,S=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_=/^[a-z0-9_-]{21}$/i,T=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,A=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,C=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,w="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",O=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,R=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,x=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,I=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,D=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,P=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,N="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",k=RegExp(`^${N}$`);function M(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function L(e){return RegExp(`^${M(e)}$`)}function B(e){let t=`${N}T${M(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}function j(e,t){return!!(("v4"===t||!t)&&O.test(e)||("v6"===t||!t)&&x.test(e))}function F(e,t){if(!T.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));if("object"!=typeof i||null===i||!i.typ||!i.alg||t&&i.alg!==t)return!1;return!0}catch(e){return!1}}function U(e,t){return!!(("v4"===t||!t)&&R.test(e)||("v6"===t||!t)&&I.test(e))}t.datetimeRegex=B;class V extends y{_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==h.ZodParsedType.string){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_type,expected:h.ZodParsedType.string,received:t.parsedType}),d.INVALID}let r=new d.ParseStatus;for(let i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("max"===i.kind)e.data.length>i.value&&(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("length"===i.kind){let n=e.data.length>i.value,o=e.data.length<i.value;(n||o)&&(t=this._getOrReturnCtx(e,t),n?(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if("email"===i.kind)C.test(e.data)||(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{validation:"email",code:p.ZodIssueCode.invalid_string,message:i.message}),r.dirty());else if("emoji"===i.kind)n||(n=RegExp(w,"u")),n.test(e.data)||(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{validation:"emoji",code:p.ZodIssueCode.invalid_string,message:i.message}),r.dirty());else if("uuid"===i.kind)S.test(e.data)||(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{validation:"uuid",code:p.ZodIssueCode.invalid_string,message:i.message}),r.dirty());else if("nanoid"===i.kind)_.test(e.data)||(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{validation:"nanoid",code:p.ZodIssueCode.invalid_string,message:i.message}),r.dirty());else if("cuid"===i.kind)v.test(e.data)||(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{validation:"cuid",code:p.ZodIssueCode.invalid_string,message:i.message}),r.dirty());else if("cuid2"===i.kind)b.test(e.data)||(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{validation:"cuid2",code:p.ZodIssueCode.invalid_string,message:i.message}),r.dirty());else if("ulid"===i.kind)E.test(e.data)||(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{validation:"ulid",code:p.ZodIssueCode.invalid_string,message:i.message}),r.dirty());else if("url"===i.kind)try{new URL(e.data)}catch(n){t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{validation:"url",code:p.ZodIssueCode.invalid_string,message:i.message}),r.dirty()}else"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(e.data)||(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{validation:"regex",code:p.ZodIssueCode.invalid_string,message:i.message}),r.dirty())):"trim"===i.kind?e.data=e.data.trim():"includes"===i.kind?e.data.includes(i.value,i.position)||(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):"toLowerCase"===i.kind?e.data=e.data.toLowerCase():"toUpperCase"===i.kind?e.data=e.data.toUpperCase():"startsWith"===i.kind?e.data.startsWith(i.value)||(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):"endsWith"===i.kind?e.data.endsWith(i.value)||(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):"datetime"===i.kind?B(i).test(e.data)||(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_string,validation:"datetime",message:i.message}),r.dirty()):"date"===i.kind?k.test(e.data)||(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_string,validation:"date",message:i.message}),r.dirty()):"time"===i.kind?L(i).test(e.data)||(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_string,validation:"time",message:i.message}),r.dirty()):"duration"===i.kind?A.test(e.data)||(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{validation:"duration",code:p.ZodIssueCode.invalid_string,message:i.message}),r.dirty()):"ip"===i.kind?j(e.data,i.version)||(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{validation:"ip",code:p.ZodIssueCode.invalid_string,message:i.message}),r.dirty()):"jwt"===i.kind?F(e.data,i.alg)||(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{validation:"jwt",code:p.ZodIssueCode.invalid_string,message:i.message}),r.dirty()):"cidr"===i.kind?U(e.data,i.version)||(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{validation:"cidr",code:p.ZodIssueCode.invalid_string,message:i.message}),r.dirty()):"base64"===i.kind?D.test(e.data)||(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{validation:"base64",code:p.ZodIssueCode.invalid_string,message:i.message}),r.dirty()):"base64url"===i.kind?P.test(e.data)||(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{validation:"base64url",code:p.ZodIssueCode.invalid_string,message:i.message}),r.dirty()):h.util.assertNever(i);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:p.ZodIssueCode.invalid_string,...c.errorUtil.errToObj(r)})}_addCheck(e){return new V({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...c.errorUtil.errToObj(e)})}url(e){return this._addCheck({kind:"url",...c.errorUtil.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...c.errorUtil.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...c.errorUtil.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...c.errorUtil.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...c.errorUtil.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...c.errorUtil.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...c.errorUtil.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...c.errorUtil.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...c.errorUtil.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...c.errorUtil.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...c.errorUtil.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...c.errorUtil.errToObj(e)})}datetime(e){var t,r;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(r=null==e?void 0:e.local)&&void 0!==r&&r,...c.errorUtil.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...c.errorUtil.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...c.errorUtil.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...c.errorUtil.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...c.errorUtil.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...c.errorUtil.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...c.errorUtil.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...c.errorUtil.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...c.errorUtil.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...c.errorUtil.errToObj(t)})}nonempty(e){return this.min(1,c.errorUtil.errToObj(e))}trim(){return new V({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new V({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new V({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function z(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}t.ZodString=V,V.create=e=>{var t;return new V({checks:[],typeName:s.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...g(e)})};class G extends y{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==h.ZodParsedType.number){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_type,expected:h.ZodParsedType.number,received:t.parsedType}),d.INVALID}let r=new d.ParseStatus;for(let n of this._def.checks)"int"===n.kind?h.util.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==z(e.data,n.value)&&(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.not_finite,message:n.message}),r.dirty()):h.util.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,c.errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,c.errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,c.errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,c.errorUtil.toString(t))}setLimit(e,t,r,n){return new G({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:c.errorUtil.toString(n)}]})}_addCheck(e){return new G({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:c.errorUtil.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:c.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:c.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:c.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:c.errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:c.errorUtil.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:c.errorUtil.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:c.errorUtil.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:c.errorUtil.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&h.util.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}t.ZodNumber=G,G.create=e=>new G({checks:[],typeName:s.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...g(e)});class $ extends y{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==h.ZodParsedType.bigint)return this._getInvalidInput(e);let r=new d.ParseStatus;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):h.util.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_type,expected:h.ZodParsedType.bigint,received:t.parsedType}),d.INVALID}gte(e,t){return this.setLimit("min",e,!0,c.errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,c.errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,c.errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,c.errorUtil.toString(t))}setLimit(e,t,r,n){return new $({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:c.errorUtil.toString(n)}]})}_addCheck(e){return new $({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:c.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:c.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:c.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:c.errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:c.errorUtil.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}t.ZodBigInt=$,$.create=e=>{var t;return new $({checks:[],typeName:s.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...g(e)})};class H extends y{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==h.ZodParsedType.boolean){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_type,expected:h.ZodParsedType.boolean,received:t.parsedType}),d.INVALID}return(0,d.OK)(e.data)}}t.ZodBoolean=H,H.create=e=>new H({typeName:s.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...g(e)});class q extends y{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==h.ZodParsedType.date){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_type,expected:h.ZodParsedType.date,received:t.parsedType}),d.INVALID}if(isNaN(e.data.getTime())){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_date}),d.INVALID}let r=new d.ParseStatus;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):h.util.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new q({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:c.errorUtil.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:c.errorUtil.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}t.ZodDate=q,q.create=e=>new q({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:s.ZodDate,...g(e)});class W extends y{_parse(e){if(this._getType(e)!==h.ZodParsedType.symbol){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_type,expected:h.ZodParsedType.symbol,received:t.parsedType}),d.INVALID}return(0,d.OK)(e.data)}}t.ZodSymbol=W,W.create=e=>new W({typeName:s.ZodSymbol,...g(e)});class K extends y{_parse(e){if(this._getType(e)!==h.ZodParsedType.undefined){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_type,expected:h.ZodParsedType.undefined,received:t.parsedType}),d.INVALID}return(0,d.OK)(e.data)}}t.ZodUndefined=K,K.create=e=>new K({typeName:s.ZodUndefined,...g(e)});class Y extends y{_parse(e){if(this._getType(e)!==h.ZodParsedType.null){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_type,expected:h.ZodParsedType.null,received:t.parsedType}),d.INVALID}return(0,d.OK)(e.data)}}t.ZodNull=Y,Y.create=e=>new Y({typeName:s.ZodNull,...g(e)});class Z extends y{constructor(){super(...arguments),this._any=!0}_parse(e){return(0,d.OK)(e.data)}}t.ZodAny=Z,Z.create=e=>new Z({typeName:s.ZodAny,...g(e)});class J extends y{constructor(){super(...arguments),this._unknown=!0}_parse(e){return(0,d.OK)(e.data)}}t.ZodUnknown=J,J.create=e=>new J({typeName:s.ZodUnknown,...g(e)});class Q extends y{_parse(e){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_type,expected:h.ZodParsedType.never,received:t.parsedType}),d.INVALID}}t.ZodNever=Q,Q.create=e=>new Q({typeName:s.ZodNever,...g(e)});class X extends y{_parse(e){if(this._getType(e)!==h.ZodParsedType.undefined){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_type,expected:h.ZodParsedType.void,received:t.parsedType}),d.INVALID}return(0,d.OK)(e.data)}}t.ZodVoid=X,X.create=e=>new X({typeName:s.ZodVoid,...g(e)});class ee extends y{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==h.ZodParsedType.array)return(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_type,expected:h.ZodParsedType.array,received:t.parsedType}),d.INVALID;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&((0,d.addIssueToContext)(t,{code:e?p.ZodIssueCode.too_big:p.ZodIssueCode.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&((0,d.addIssueToContext)(t,{code:p.ZodIssueCode.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&((0,d.addIssueToContext)(t,{code:p.ZodIssueCode.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new f(t,e,t.path,r)))).then(e=>d.ParseStatus.mergeArray(r,e));let i=[...t.data].map((e,r)=>n.type._parseSync(new f(t,e,t.path,r)));return d.ParseStatus.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new ee({...this._def,minLength:{value:e,message:c.errorUtil.toString(t)}})}max(e,t){return new ee({...this._def,maxLength:{value:e,message:c.errorUtil.toString(t)}})}length(e,t){return new ee({...this._def,exactLength:{value:e,message:c.errorUtil.toString(t)}})}nonempty(e){return this.min(1,e)}}function et(e){if(e instanceof er){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=eE.create(et(n))}return new er({...e._def,shape:()=>t})}return e instanceof ee?new ee({...e._def,type:et(e.element)}):e instanceof eE?eE.create(et(e.unwrap())):e instanceof eS?eS.create(et(e.unwrap())):e instanceof el?el.create(e.items.map(e=>et(e))):e}t.ZodArray=ee,ee.create=(e,t)=>new ee({type:e,minLength:null,maxLength:null,exactLength:null,typeName:s.ZodArray,...g(t)});class er extends y{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=h.util.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==h.ZodParsedType.object){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_type,expected:h.ZodParsedType.object,received:t.parsedType}),d.INVALID}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof Q&&"strip"===this._def.unknownKeys))for(let e in r.data)i.includes(e)||o.push(e);let s=[];for(let e of i){let t=n[e],i=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new f(r,i,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof Q){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of o)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)o.length>0&&((0,d.addIssueToContext)(r,{code:p.ZodIssueCode.unrecognized_keys,keys:o}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of o){let n=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new f(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>d.ParseStatus.mergeObjectSync(t,e)):d.ParseStatus.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return c.errorUtil.errToObj,new er({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var n,i,o,s;let a=null!==(o=null===(i=(n=this._def).errorMap)||void 0===i?void 0:i.call(n,t,r).message)&&void 0!==o?o:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=c.errorUtil.errToObj(e).message)&&void 0!==s?s:a}:{message:a}}}:{}})}strip(){return new er({...this._def,unknownKeys:"strip"})}passthrough(){return new er({...this._def,unknownKeys:"passthrough"})}extend(e){return new er({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new er({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:s.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new er({...this._def,catchall:e})}pick(e){let t={};return h.util.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new er({...this._def,shape:()=>t})}omit(e){let t={};return h.util.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new er({...this._def,shape:()=>t})}deepPartial(){return et(this)}partial(e){let t={};return h.util.objectKeys(this.shape).forEach(r=>{let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}),new er({...this._def,shape:()=>t})}required(e){let t={};return h.util.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof eE;)e=e._def.innerType;t[r]=e}}),new er({...this._def,shape:()=>t})}keyof(){return em(h.util.objectKeys(this.shape))}}t.ZodObject=er,er.create=(e,t)=>new er({shape:()=>e,unknownKeys:"strip",catchall:Q.create(),typeName:s.ZodObject,...g(t)}),er.strictCreate=(e,t)=>new er({shape:()=>e,unknownKeys:"strict",catchall:Q.create(),typeName:s.ZodObject,...g(t)}),er.lazycreate=(e,t)=>new er({shape:e,unknownKeys:"strip",catchall:Q.create(),typeName:s.ZodObject,...g(t)});class en extends y{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function n(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new p.ZodError(e.ctx.common.issues));return(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_union,unionErrors:r}),d.INVALID}if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(n);{let e;let n=[];for(let i of r){let r={...t,common:{...t.common,issues:[]},parent:null},o=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===o.status)return o;"dirty"!==o.status||e||(e={result:o,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=n.map(e=>new p.ZodError(e));return(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_union,unionErrors:i}),d.INVALID}}get options(){return this._def.options}}t.ZodUnion=en,en.create=(e,t)=>new en({options:e,typeName:s.ZodUnion,...g(t)});let ei=e=>{if(e instanceof ep)return ei(e.schema);if(e instanceof eb)return ei(e.innerType());if(e instanceof ef)return[e.value];if(e instanceof eg)return e.options;if(e instanceof ey)return h.util.objectValues(e.enum);if(e instanceof e_)return ei(e._def.innerType);if(e instanceof K)return[void 0];else if(e instanceof Y)return[null];else if(e instanceof eE)return[void 0,...ei(e.unwrap())];else if(e instanceof eS)return[null,...ei(e.unwrap())];else if(e instanceof eC)return ei(e.unwrap());else if(e instanceof eO)return ei(e.unwrap());else if(e instanceof eT)return ei(e._def.innerType);else return[]};class eo extends y{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==h.ZodParsedType.object)return(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_type,expected:h.ZodParsedType.object,received:t.parsedType}),d.INVALID;let r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):((0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),d.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=ei(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(n.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new eo({typeName:s.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...g(r)})}}function es(e,t){let r=(0,h.getParsedType)(e),n=(0,h.getParsedType)(t);if(e===t)return{valid:!0,data:e};if(r===h.ZodParsedType.object&&n===h.ZodParsedType.object){let r=h.util.objectKeys(t),n=h.util.objectKeys(e).filter(e=>-1!==r.indexOf(e)),i={...e,...t};for(let r of n){let n=es(e[r],t[r]);if(!n.valid)return{valid:!1};i[r]=n.data}return{valid:!0,data:i}}if(r===h.ZodParsedType.array&&n===h.ZodParsedType.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let n=0;n<e.length;n++){let i=es(e[n],t[n]);if(!i.valid)return{valid:!1};r.push(i.data)}return{valid:!0,data:r}}return r===h.ZodParsedType.date&&n===h.ZodParsedType.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}t.ZodDiscriminatedUnion=eo;class ea extends y{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if((0,d.isAborted)(e)||(0,d.isAborted)(n))return d.INVALID;let i=es(e.value,n.value);return i.valid?(((0,d.isDirty)(e)||(0,d.isDirty)(n))&&t.dirty(),{status:t.value,value:i.data}):((0,d.addIssueToContext)(r,{code:p.ZodIssueCode.invalid_intersection_types}),d.INVALID)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}t.ZodIntersection=ea,ea.create=(e,t,r)=>new ea({left:e,right:t,typeName:s.ZodIntersection,...g(r)});class el extends y{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==h.ZodParsedType.array)return(0,d.addIssueToContext)(r,{code:p.ZodIssueCode.invalid_type,expected:h.ZodParsedType.array,received:r.parsedType}),d.INVALID;if(r.data.length<this._def.items.length)return(0,d.addIssueToContext)(r,{code:p.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),d.INVALID;!this._def.rest&&r.data.length>this._def.items.length&&((0,d.addIssueToContext)(r,{code:p.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new f(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>d.ParseStatus.mergeArray(t,e)):d.ParseStatus.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new el({...this._def,rest:e})}}t.ZodTuple=el,el.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new el({items:e,typeName:s.ZodTuple,rest:null,...g(t)})};class eu extends y{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==h.ZodParsedType.object)return(0,d.addIssueToContext)(r,{code:p.ZodIssueCode.invalid_type,expected:h.ZodParsedType.object,received:r.parsedType}),d.INVALID;let n=[],i=this._def.keyType,o=this._def.valueType;for(let e in r.data)n.push({key:i._parse(new f(r,e,r.path,e)),value:o._parse(new f(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?d.ParseStatus.mergeObjectAsync(t,n):d.ParseStatus.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new eu(t instanceof y?{keyType:e,valueType:t,typeName:s.ZodRecord,...g(r)}:{keyType:V.create(),valueType:e,typeName:s.ZodRecord,...g(t)})}}t.ZodRecord=eu;class ec extends y{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==h.ZodParsedType.map)return(0,d.addIssueToContext)(r,{code:p.ZodIssueCode.invalid_type,expected:h.ZodParsedType.map,received:r.parsedType}),d.INVALID;let n=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([e,t],o)=>({key:n._parse(new f(r,e,r.path,[o,"key"])),value:i._parse(new f(r,t,r.path,[o,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of o){let n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return d.INVALID;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of o){let n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return d.INVALID;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}}t.ZodMap=ec,ec.create=(e,t,r)=>new ec({valueType:t,keyType:e,typeName:s.ZodMap,...g(r)});class ed extends y{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==h.ZodParsedType.set)return(0,d.addIssueToContext)(r,{code:p.ZodIssueCode.invalid_type,expected:h.ZodParsedType.set,received:r.parsedType}),d.INVALID;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&((0,d.addIssueToContext)(r,{code:p.ZodIssueCode.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&((0,d.addIssueToContext)(r,{code:p.ZodIssueCode.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let i=this._def.valueType;function o(e){let r=new Set;for(let n of e){if("aborted"===n.status)return d.INVALID;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>i._parse(new f(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>o(e)):o(s)}min(e,t){return new ed({...this._def,minSize:{value:e,message:c.errorUtil.toString(t)}})}max(e,t){return new ed({...this._def,maxSize:{value:e,message:c.errorUtil.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}t.ZodSet=ed,ed.create=(e,t)=>new ed({valueType:e,minSize:null,maxSize:null,typeName:s.ZodSet,...g(t)});class eh extends y{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==h.ZodParsedType.function)return(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_type,expected:h.ZodParsedType.function,received:t.parsedType}),d.INVALID;function r(e,r){return(0,d.makeIssue)({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,u.getErrorMap)(),u.defaultErrorMap].filter(e=>!!e),issueData:{code:p.ZodIssueCode.invalid_arguments,argumentsError:r}})}function n(e,r){return(0,d.makeIssue)({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,u.getErrorMap)(),u.defaultErrorMap].filter(e=>!!e),issueData:{code:p.ZodIssueCode.invalid_return_type,returnTypeError:r}})}let i={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof ev){let e=this;return(0,d.OK)(async function(...t){let s=new p.ZodError([]),a=await e._def.args.parseAsync(t,i).catch(e=>{throw s.addIssue(r(t,e)),s}),l=await Reflect.apply(o,this,a);return await e._def.returns._def.type.parseAsync(l,i).catch(e=>{throw s.addIssue(n(l,e)),s})})}{let e=this;return(0,d.OK)(function(...t){let s=e._def.args.safeParse(t,i);if(!s.success)throw new p.ZodError([r(t,s.error)]);let a=Reflect.apply(o,this,s.data),l=e._def.returns.safeParse(a,i);if(!l.success)throw new p.ZodError([n(a,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new eh({...this._def,args:el.create(e).rest(J.create())})}returns(e){return new eh({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new eh({args:e||el.create([]).rest(J.create()),returns:t||J.create(),typeName:s.ZodFunction,...g(r)})}}t.ZodFunction=eh;class ep extends y{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}t.ZodLazy=ep,ep.create=(e,t)=>new ep({getter:e,typeName:s.ZodLazy,...g(t)});class ef extends y{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{received:t.data,code:p.ZodIssueCode.invalid_literal,expected:this._def.value}),d.INVALID}return{status:"valid",value:e.data}}get value(){return this._def.value}}function em(e,t){return new eg({values:e,typeName:s.ZodEnum,...g(t)})}t.ZodLiteral=ef,ef.create=(e,t)=>new ef({value:e,typeName:s.ZodLiteral,...g(t)});class eg extends y{constructor(){super(...arguments),i.set(this,void 0)}_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return(0,d.addIssueToContext)(t,{expected:h.util.joinValues(r),received:t.parsedType,code:p.ZodIssueCode.invalid_type}),d.INVALID}if(a(this,i,"f")||l(this,i,new Set(this._def.values),"f"),!a(this,i,"f").has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return(0,d.addIssueToContext)(t,{received:t.data,code:p.ZodIssueCode.invalid_enum_value,options:r}),d.INVALID}return(0,d.OK)(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return eg.create(e,{...this._def,...t})}exclude(e,t=this._def){return eg.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}t.ZodEnum=eg,i=new WeakMap,eg.create=em;class ey extends y{constructor(){super(...arguments),o.set(this,void 0)}_parse(e){let t=h.util.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==h.ZodParsedType.string&&r.parsedType!==h.ZodParsedType.number){let e=h.util.objectValues(t);return(0,d.addIssueToContext)(r,{expected:h.util.joinValues(e),received:r.parsedType,code:p.ZodIssueCode.invalid_type}),d.INVALID}if(a(this,o,"f")||l(this,o,new Set(h.util.getValidEnumValues(this._def.values)),"f"),!a(this,o,"f").has(e.data)){let e=h.util.objectValues(t);return(0,d.addIssueToContext)(r,{received:r.data,code:p.ZodIssueCode.invalid_enum_value,options:e}),d.INVALID}return(0,d.OK)(e.data)}get enum(){return this._def.values}}t.ZodNativeEnum=ey,o=new WeakMap,ey.create=(e,t)=>new ey({values:e,typeName:s.ZodNativeEnum,...g(t)});class ev extends y{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==h.ZodParsedType.promise&&!1===t.common.async)return(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_type,expected:h.ZodParsedType.promise,received:t.parsedType}),d.INVALID;let r=t.parsedType===h.ZodParsedType.promise?t.data:Promise.resolve(t.data);return(0,d.OK)(r.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}t.ZodPromise=ev,ev.create=(e,t)=>new ev({type:e,typeName:s.ZodPromise,...g(t)});class eb extends y{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===s.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:e=>{(0,d.addIssueToContext)(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===n.type){let e=n.transform(r.data,i);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return d.INVALID;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?d.INVALID:"dirty"===n.status||"dirty"===t.value?(0,d.DIRTY)(n.value):n});{if("aborted"===t.value)return d.INVALID;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?d.INVALID:"dirty"===n.status||"dirty"===t.value?(0,d.DIRTY)(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,i);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?d.INVALID:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?d.INVALID:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type){if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>(0,d.isValid)(e)?Promise.resolve(n.transform(e.value,i)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!(0,d.isValid)(e))return e;let o=n.transform(e.value,i);if(o instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}}h.util.assertNever(n)}}t.ZodEffects=eb,t.ZodTransformer=eb,eb.create=(e,t,r)=>new eb({schema:e,typeName:s.ZodEffects,effect:t,...g(r)}),eb.createWithPreprocess=(e,t,r)=>new eb({schema:t,effect:{type:"preprocess",transform:e},typeName:s.ZodEffects,...g(r)});class eE extends y{_parse(e){return this._getType(e)===h.ZodParsedType.undefined?(0,d.OK)(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}t.ZodOptional=eE,eE.create=(e,t)=>new eE({innerType:e,typeName:s.ZodOptional,...g(t)});class eS extends y{_parse(e){return this._getType(e)===h.ZodParsedType.null?(0,d.OK)(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}t.ZodNullable=eS,eS.create=(e,t)=>new eS({innerType:e,typeName:s.ZodNullable,...g(t)});class e_ extends y{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===h.ZodParsedType.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}t.ZodDefault=e_,e_.create=(e,t)=>new e_({innerType:e,typeName:s.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...g(t)});class eT extends y{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return(0,d.isAsync)(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new p.ZodError(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new p.ZodError(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}t.ZodCatch=eT,eT.create=(e,t)=>new eT({innerType:e,typeName:s.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...g(t)});class eA extends y{_parse(e){if(this._getType(e)!==h.ZodParsedType.nan){let t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:p.ZodIssueCode.invalid_type,expected:h.ZodParsedType.nan,received:t.parsedType}),d.INVALID}return{status:"valid",value:e.data}}}t.ZodNaN=eA,eA.create=e=>new eA({typeName:s.ZodNaN,...g(e)}),t.BRAND=Symbol("zod_brand");class eC extends y{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}t.ZodBranded=eC;class ew extends y{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?d.INVALID:"dirty"===e.status?(t.dirty(),(0,d.DIRTY)(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?d.INVALID:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new ew({in:e,out:t,typeName:s.ZodPipeline})}}t.ZodPipeline=ew;class eO extends y{_parse(e){let t=this._def.innerType._parse(e),r=e=>((0,d.isValid)(e)&&(e.value=Object.freeze(e.value)),e);return(0,d.isAsync)(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function eR(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function ex(e,t={},r){return e?Z.create().superRefine((n,i)=>{var o,s;let a=e(n);if(a instanceof Promise)return a.then(e=>{var o,s;if(!e){let e=eR(t,n),a=null===(s=null!==(o=e.fatal)&&void 0!==o?o:r)||void 0===s||s;i.addIssue({code:"custom",...e,fatal:a})}});if(!a){let e=eR(t,n),a=null===(s=null!==(o=e.fatal)&&void 0!==o?o:r)||void 0===s||s;i.addIssue({code:"custom",...e,fatal:a})}}):Z.create()}t.ZodReadonly=eO,eO.create=(e,t)=>new eO({innerType:e,typeName:s.ZodReadonly,...g(t)}),t.custom=ex,t.late={object:er.lazycreate},function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(s||(t.ZodFirstPartyTypeKind=s={}));let eI=(e,t={message:`Input not instance of ${e.name}`})=>ex(t=>t instanceof e,t);t.instanceof=eI;let eD=V.create;t.string=eD;let eP=G.create;t.number=eP;let eN=eA.create;t.nan=eN;let ek=$.create;t.bigint=ek;let eM=H.create;t.boolean=eM;let eL=q.create;t.date=eL;let eB=W.create;t.symbol=eB;let ej=K.create;t.undefined=ej;let eF=Y.create;t.null=eF;let eU=Z.create;t.any=eU;let eV=J.create;t.unknown=eV;let ez=Q.create;t.never=ez;let eG=X.create;t.void=eG;let e$=ee.create;t.array=e$;let eH=er.create;t.object=eH;let eq=er.strictCreate;t.strictObject=eq;let eW=en.create;t.union=eW;let eK=eo.create;t.discriminatedUnion=eK;let eY=ea.create;t.intersection=eY;let eZ=el.create;t.tuple=eZ;let eJ=eu.create;t.record=eJ;let eQ=ec.create;t.map=eQ;let eX=ed.create;t.set=eX;let e0=eh.create;t.function=e0;let e1=ep.create;t.lazy=e1;let e2=ef.create;t.literal=e2;let e3=eg.create;t.enum=e3;let e6=ey.create;t.nativeEnum=e6;let e4=ev.create;t.promise=e4;let e5=eb.create;t.effect=e5,t.transformer=e5;let e8=eE.create;t.optional=e8;let e7=eS.create;t.nullable=e7;let e9=eb.createWithPreprocess;t.preprocess=e9;let te=ew.create;t.pipeline=te;let tt=()=>eD().optional();t.ostring=tt;let tr=()=>eP().optional();t.onumber=tr;let tn=()=>eM().optional();t.oboolean=tn,t.coerce={string:e=>V.create({...e,coerce:!0}),number:e=>G.create({...e,coerce:!0}),boolean:e=>H.create({...e,coerce:!0}),bigint:e=>$.create({...e,coerce:!0}),date:e=>q.create({...e,coerce:!0})},t.NEVER=d.INVALID},94782:()=>{},90029:(e,t)=>{var r,n=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;/**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   */var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function r(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function n(e){return!0===(e&&e.__isLong__)}function i(e){var t=Math.clz32(e&-e);return e?31-t:t}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=n;var o={},s={};function a(e,t){var r,n,i;return t?(e>>>=0,(i=0<=e&&e<256)&&(n=s[e]))?n:(r=u(e,0,!0),i&&(s[e]=r),r):(e|=0,(i=-128<=e&&e<128)&&(n=o[e]))?n:(r=u(e,e<0?-1:0,!1),i&&(o[e]=r),r)}function l(e,t){if(isNaN(e))return t?v:y;if(t){if(e<0)return v;if(e>=f)return T}else{if(e<=-m)return A;if(e+1>=m)return _}return e<0?l(-e,t).neg():u(e%p|0,e/p|0,t)}function u(e,t,n){return new r(e,t,n)}r.fromInt=a,r.fromNumber=l,r.fromBits=u;var c=Math.pow;function d(e,t,r){if(0===e.length)throw Error("empty string");if("number"==typeof t?(r=t,t=!1):t=!!t,"NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t?v:y;if((r=r||10)<2||36<r)throw RangeError("radix");if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return d(e.substring(1),t,r).neg();for(var n,i=l(c(r,8)),o=y,s=0;s<e.length;s+=8){var a=Math.min(8,e.length-s),u=parseInt(e.substring(s,s+a),r);if(a<8){var h=l(c(r,a));o=o.mul(h).add(l(u))}else o=(o=o.mul(i)).add(l(u))}return o.unsigned=t,o}function h(e,t){return"number"==typeof e?l(e,t):"string"==typeof e?d(e,t):u(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=d,r.fromValue=h;var p=4294967296,f=18446744073709552e3,m=0x7fffffffffffffff,g=a(16777216),y=a(0);r.ZERO=y;var v=a(0,!0);r.UZERO=v;var b=a(1);r.ONE=b;var E=a(1,!0);r.UONE=E;var S=a(-1);r.NEG_ONE=S;var _=u(-1,2147483647,!1);r.MAX_VALUE=_;var T=u(-1,-1,!0);r.MAX_UNSIGNED_VALUE=T;var A=u(0,-2147483648,!1);r.MIN_VALUE=A;var C=r.prototype;return C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},C.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(!this.eq(A))return"-"+this.neg().toString(e);var t=l(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}for(var i=l(c(e,6),this.unsigned),o=this,s="";;){var a=o.div(i),u=(o.sub(a.mul(i)).toInt()>>>0).toString(e);if((o=a).isZero())return u+s;for(;u.length<6;)u="0"+u;s=""+u+s}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(A)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&(e&1<<t)==0;t--);return 0!=this.high?t+33:t+1},C.isSafeInteger=function(){var e=this.high>>21;return!e||!this.unsigned&&-1===e&&!(0===this.low&&-2097152===this.high)},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return(1&this.low)==1},C.isEven=function(){return(1&this.low)==0},C.equals=function(e){return n(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},C.eq=C.equals,C.notEquals=function(e){return!this.eq(e)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(e){return 0>this.comp(e)},C.lt=C.lessThan,C.lessThanOrEqual=function(e){return 0>=this.comp(e)},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(e){return this.comp(e)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(e){return this.comp(e)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(e){if(n(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(A)?A:this.not().add(b)},C.neg=C.negate,C.add=function(e){n(e)||(e=h(e));var t,r,i=this.high>>>16,o=65535&this.high,s=this.low>>>16,a=65535&this.low,l=e.high>>>16,c=65535&e.high,d=e.low>>>16,p=65535&e.low,f=0,m=0;return t=0+((r=0+(a+p))>>>16),r&=65535,t+=s+d,m+=t>>>16,t&=65535,m+=o+c,f+=m>>>16,m&=65535,f+=i+l,u(t<<16|r,(f&=65535)<<16|m,this.unsigned)},C.subtract=function(e){return n(e)||(e=h(e)),this.add(e.neg())},C.sub=C.subtract,C.multiply=function(e){if(this.isZero())return this;if(n(e)||(e=h(e)),t)return u(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return this.unsigned?v:y;if(this.eq(A))return e.isOdd()?A:y;if(e.eq(A))return this.isOdd()?A:y;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(g)&&e.lt(g))return l(this.toNumber()*e.toNumber(),this.unsigned);var r,i,o=this.high>>>16,s=65535&this.high,a=this.low>>>16,c=65535&this.low,d=e.high>>>16,p=65535&e.high,f=e.low>>>16,m=65535&e.low,b=0,E=0;return r=0+((i=0+c*m)>>>16),i&=65535,r+=a*m,E+=r>>>16,r&=65535,r+=c*f,E+=r>>>16,r&=65535,E+=s*m,b+=E>>>16,E&=65535,E+=a*f,b+=E>>>16,E&=65535,E+=c*p,b+=E>>>16,E&=65535,b+=o*m+s*f+a*p+c*d,u(r<<16|i,(b&=65535)<<16|E,this.unsigned)},C.mul=C.multiply,C.divide=function(e){if(n(e)||(e=h(e)),e.isZero())throw Error("division by zero");if(t){var r,i,o;return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?u((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this}if(this.isZero())return this.unsigned?v:y;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return v;if(e.gt(this.shru(1)))return E;o=v}else{if(this.eq(A))return e.eq(b)||e.eq(S)?A:e.eq(A)?b:(r=this.shr(1).div(e).shl(1)).eq(y)?e.isNegative()?b:S:(i=this.sub(e.mul(r)),o=r.add(i.div(e)));if(e.eq(A))return this.unsigned?v:y;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=y}for(i=this;i.gte(e);){for(var s=Math.ceil(Math.log(r=Math.max(1,Math.floor(i.toNumber()/e.toNumber())))/Math.LN2),a=s<=48?1:c(2,s-48),d=l(r),p=d.mul(e);p.isNegative()||p.gt(i);)r-=a,p=(d=l(r,this.unsigned)).mul(e);d.isZero()&&(d=b),o=o.add(d),i=i.sub(p)}return o},C.div=C.divide,C.modulo=function(e){return(n(e)||(e=h(e)),t)?u((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return u(~this.low,~this.high,this.unsigned)},C.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},C.clz=C.countLeadingZeros,C.countTrailingZeros=function(){return this.low?i(this.low):i(this.high)+32},C.ctz=C.countTrailingZeros,C.and=function(e){return n(e)||(e=h(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},C.or=function(e){return n(e)||(e=h(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},C.xor=function(e){return n(e)||(e=h(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},C.shiftLeft=function(e){return(n(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(e){return(n(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(e){return(n(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):32===e?u(this.high,0,this.unsigned):u(this.high>>>e-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.rotateLeft=function(e){var t;return(n(e)&&(e=e.toInt()),0==(e&=63))?this:32===e?u(this.high,this.low,this.unsigned):e<32?(t=32-e,u(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(e-=32,t=32-e,u(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))},C.rotl=C.rotateLeft,C.rotateRight=function(e){var t;return(n(e)&&(e=e.toInt()),0==(e&=63))?this:32===e?u(this.high,this.low,this.unsigned):e<32?(t=32-e,u(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(e-=32,t=32-e,u(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))},C.rotr=C.rotateRight,C.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},C.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},C.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)},"function"==typeof BigInt&&(r.fromBigInt=function(e,t){return u(Number(BigInt.asIntN(32,e)),Number(BigInt.asIntN(32,e>>BigInt(32))),t)},r.fromValue=function(e,t){return"bigint"==typeof e?fromBigInt(e,t):h(e,t)},C.toBigInt=function(){var e=BigInt(this.low>>>0);return BigInt(this.unsigned?this.high>>>0:this.high)<<BigInt(32)|e}),e.default=r,"default"in e?e.default:e}({});void 0!==(r=(function(){return n}).apply(t,[]))&&(e.exports=r)},55569:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{Chat:()=>y,MAIN_THREAD:()=>f,SESSION_ID_ATTR:()=>m,THREAD_NAME_ATTR:()=>g}),e.exports=l(u);var c=r(75650),d=r(88186),h=r(42178),p=r(78475);let f="main",m=`${d.ATTR_PREFIX}:sessionId`,g=`${d.ATTR_PREFIX}:threadName`;class y{constructor(e,t,r){this.session=e,this.sessionId=r.id,this.threadName=r.thread,this.requestBase=t?.then(e=>{let t={...e};if(t&&t.prompt){let e;let r=t.prompt;e="string"==typeof r?{role:"user",content:[{text:r}]}:Array.isArray(r)?{role:"user",content:r}:{role:"user",content:[r]},t.messages=[...t.messages??[],e]}return v(t.messages)?t.messages=[...b(t.messages)??[],...E(r.messages)??[],...E(t.messages)??[]]:t.messages=[...r.messages??[],...t.messages??[]],this._messages=t.messages,t}),this._messages=r.messages}requestBase;sessionId;_messages;threadName;async send(e){return(0,p.runWithSession)(this.session.registry,this.session,()=>(0,d.runInNewSpan)(this.session.registry,{metadata:{name:"send"},labels:{[d.SPAN_TYPE_ATTR]:"helper",[m]:this.session.id,[g]:this.threadName}},async t=>{let r;let n=S(e);(n.onChunk||n.streamingCallback)&&(r=n.onChunk??n.streamingCallback);let i={...await this.requestBase,messages:this.messages,...n};t.input=n;let o=await (0,h.generate)(this.session.registry,{...i,onChunk:r});return this.requestBase=Promise.resolve({...await this.requestBase,tools:o?.request?.tools?.map(e=>e.name),toolChoice:o?.request?.toolChoice,config:o?.request?.config}),await this.updateMessages(o.messages),t.output=JSON.stringify(o),o}))}sendStream(e){let t=new c.Channel,r=S(e),n=this.send({...r,onChunk:e=>t.send(e)});return n.then(()=>t.close(),e=>t.error(e)),{response:n,stream:t}}get messages(){return this._messages??[]}async updateMessages(e){this._messages=e,await this.session.updateMessages(this.threadName,e)}}function v(e){return!!e?.find(e=>e.metadata?.preamble)}function b(e){return e?.filter(e=>e.metadata?.preamble)}function E(e){return e?.filter(e=>!e.metadata?.preamble)}function S(e){return"string"==typeof e?{prompt:e}:Array.isArray(e)?{prompt:e}:e}},60658:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{checkOperation:()=>d}),e.exports=l(u);var c=r(38591);async function d(e,t){if(!t.action)throw new c.GenkitError({status:"INVALID_ARGUMENT",message:"Provided operation is missing original request information"});let r=await e.lookupBackgroundAction(t.action);if(!r)throw new c.GenkitError({status:"INVALID_ARGUMENT",message:`Failed to resolve background action from original request: ${t.action}`});return await r.check(t)}},80027:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{CustomPartSchema:()=>S,DataPartSchema:()=>E,Document:()=>w,DocumentDataSchema:()=>A,MediaPartSchema:()=>m,MediaSchema:()=>f,PartSchema:()=>T,ReasoningPartSchema:()=>p,ResourcePartSchema:()=>_,TextPartSchema:()=>h,ToolRequestPartSchema:()=>y,ToolRequestSchema:()=>g,ToolResponsePartSchema:()=>b,ToolResponseSchema:()=>v,checkUniqueDocuments:()=>O}),e.exports=l(u);var c=r(38591);let d=c.z.object({text:c.z.never().optional(),media:c.z.never().optional(),toolRequest:c.z.never().optional(),toolResponse:c.z.never().optional(),data:c.z.unknown().optional(),metadata:c.z.record(c.z.unknown()).optional(),custom:c.z.record(c.z.unknown()).optional(),reasoning:c.z.never().optional(),resource:c.z.never().optional()}),h=d.extend({text:c.z.string()}),p=d.extend({reasoning:c.z.string()}),f=c.z.object({contentType:c.z.string().optional(),url:c.z.string()}),m=d.extend({media:f}),g=c.z.object({ref:c.z.string().optional(),name:c.z.string(),input:c.z.unknown().optional()}),y=d.extend({toolRequest:g}),v=c.z.object({ref:c.z.string().optional(),name:c.z.string(),output:c.z.unknown().optional()}),b=d.extend({toolResponse:v}),E=d.extend({data:c.z.unknown()}),S=d.extend({custom:c.z.record(c.z.any())}),_=d.extend({resource:c.z.object({uri:c.z.string()})}),T=c.z.union([h,m]),A=c.z.object({content:c.z.array(T),metadata:c.z.record(c.z.string(),c.z.any()).optional()});function C(e){return void 0===e?e:JSON.parse(JSON.stringify(e))}class w{content;metadata;constructor(e){this.content=C(e.content),this.metadata=C(e.metadata)}static fromText(e,t){return new w({content:[{text:e}],metadata:t})}static fromMedia(e,t,r){return new w({content:[{media:{contentType:t,url:e}}],metadata:r})}static fromData(e,t,r){return"text"===t?this.fromText(e,r):this.fromMedia(e,t,r)}get text(){return this.content.map(e=>e.text||"").join("")}get media(){return this.content.filter(e=>e.media&&!e.text).map(e=>e.media)}get data(){return this.text?this.text:this.media?this.media[0].url:""}get dataType(){return this.text?"text":this.media&&this.media[0].contentType?this.media[0].contentType:void 0}toJSON(){return{content:C(this.content),metadata:C(this.metadata)}}getEmbeddingDocuments(e){let t=[];for(let r of e){let e=this.toJSON();r.metadata&&(e.metadata||(e.metadata={}),e.metadata.embedMetadata=r.metadata),t.push(new w(e))}return O(t),t}}function O(e){let t=new Set;for(let r of e){let e=JSON.stringify(r);if(t.has(e))return console.warn("Warning: embedding documents are not unique. Are you missing embed metadata?"),!1;t.add(e)}return!0}},65067:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{EmbedderInfoSchema:()=>T,EmbeddingSchema:()=>p,defineEmbedder:()=>b,embed:()=>E,embedMany:()=>_,embedder:()=>y,embedderActionMetadata:()=>C,embedderRef:()=>A}),e.exports=l(u);var c=r(38591),d=r(11906),h=r(80027);let p=c.z.object({embedding:c.z.array(c.z.number()),metadata:c.z.record(c.z.string(),c.z.unknown()).optional()}),f=c.z.object({input:c.z.array(h.DocumentDataSchema),options:c.z.any().optional()}),m=c.z.object({embeddings:c.z.array(p)});function g(e,t){let r=e;return r.__configSchema=t,r}function y(e,t){return g((0,c.action)(v(e),(e,r)=>t({input:e.input.map(e=>new h.Document(e)),options:e.options},r)),e.configSchema)}function v(e){return{actionType:"embedder",name:e.name,inputSchema:f,outputSchema:m,metadata:{type:"embedder",info:e.info,embedder:{customOptions:e.configSchema?(0,d.toJsonSchema)({schema:e.configSchema}):void 0}}}}function b(e,t,r){return g((0,c.defineAction)(e,v(t),e=>r(e.input.map(e=>new h.Document(e)),e.options)),t.configSchema)}async function E(e,t){let r=await S(e,t);if(!r.embedderAction){let e;throw e="string"==typeof t.embedder?t.embedder:t.embedder?.__action?.name?t.embedder.__action.name:t.embedder.name,Error(`Unable to resolve embedder ${e}`)}return(await r.embedderAction({input:"string"==typeof t.content?[h.Document.fromText(t.content,t.metadata)]:[t.content],options:{version:r.version,...r.config,...t.options}})).embeddings}async function S(e,t){if("string"==typeof t.embedder)return{embedderAction:await e.lookupAction(`/embedder/${t.embedder}`)};if(Object.hasOwnProperty.call(t.embedder,"__action"))return{embedderAction:t.embedder};if(Object.hasOwnProperty.call(t.embedder,"name")){let r=t.embedder;return{embedderAction:await e.lookupAction(`/embedder/${t.embedder.name}`),config:{...r.config},version:r.version}}throw Error(`failed to resolve embedder ${t.embedder}`)}async function _(e,t){let r;if(!(r="string"==typeof t.embedder?await e.lookupAction(`/embedder/${t.embedder}`):Object.hasOwnProperty.call(t.embedder,"info")?await e.lookupAction(`/embedder/${t.embedder.name}`):t.embedder))throw Error("Unable to utilize the provided embedder");return(await r({input:t.content.map(e=>"string"==typeof e?h.Document.fromText(e,t.metadata):e),options:t.options})).embeddings}let T=c.z.object({label:c.z.string().optional(),supports:c.z.object({input:c.z.array(c.z.enum(["text","image","video"])).optional(),multilingual:c.z.boolean().optional()}).optional(),dimensions:c.z.number().optional()});function A(e){let t=e.name;return e.namespace&&!t.startsWith(e.namespace+"/")&&(t=`${e.namespace}/${t}`),{...e,name:t}}function C({name:e,info:t,configSchema:r}){return{actionType:"embedder",name:e,inputJsonSchema:(0,d.toJsonSchema)({schema:f}),outputJsonSchema:(0,d.toJsonSchema)({schema:m}),metadata:{embedder:{...t,customOptions:r?(0,d.toJsonSchema)({schema:r}):void 0}}}}},48891:(e,t,r)=>{"use strict";let n;var i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of s(t))a.call(e,l)||l===r||i(e,l,{get:()=>t[l],enumerable:!(n=o(t,l))||n.enumerable});return e},u=e=>l(i({},"__esModule",{value:!0}),e),c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{ATTR_PREFIX:()=>g,BaseDataPointSchema:()=>v,BaseEvalDataPointSchema:()=>b,EVALUATOR_METADATA_KEY_DEFINITION:()=>A,EVALUATOR_METADATA_KEY_DISPLAY_NAME:()=>T,EVALUATOR_METADATA_KEY_IS_BILLED:()=>C,EvalResponseSchema:()=>w,EvalResponsesSchema:()=>O,EvalStatusEnum:()=>S,EvaluatorInfoSchema:()=>N,SPAN_STATE_ATTR:()=>y,ScoreSchema:()=>_,defineEvaluator:()=>I,evaluate:()=>P,evaluator:()=>D,evaluatorRef:()=>k}),e.exports=u(c);var d=r(38591),h=r(72997),p=r(11906),f=r(88186),m=r(6113);let g="genkit",y=g+":state",v=d.z.object({input:d.z.unknown(),output:d.z.unknown().optional(),context:d.z.array(d.z.unknown()).optional(),reference:d.z.unknown().optional(),testCaseId:d.z.string().optional(),traceIds:d.z.array(d.z.string()).optional()}),b=v.extend({testCaseId:d.z.string()}),E=d.z.enum(["UNKNOWN","PASS","FAIL"]);var S=((n=S||{}).UNKNOWN="UNKNOWN",n.PASS="PASS",n.FAIL="FAIL",n);let _=d.z.object({id:d.z.string().describe("Optional ID to differentiate different scores if applying in a single evaluation").optional(),score:d.z.union([d.z.number(),d.z.string(),d.z.boolean()]).optional(),status:E.optional(),error:d.z.string().optional(),details:d.z.object({reasoning:d.z.string().optional()}).passthrough().optional()}),T="evaluatorDisplayName",A="evaluatorDefinition",C="evaluatorIsBilled",w=d.z.object({sampleIndex:d.z.number().optional(),testCaseId:d.z.string(),traceId:d.z.string().optional(),spanId:d.z.string().optional(),evaluation:d.z.union([_,d.z.array(_)])}),O=d.z.array(w);function R(e,t,r){let n=e;return n.__dataPointType=t,n.__configSchema=r,n}let x=d.z.object({dataset:d.z.array(v),evalRunId:d.z.string(),options:d.z.unknown()});function I(e,t,r){let n=D(t,r);return e.registerAction("evaluator",n),n}function D(e,t){let r={};return r[C]=void 0==e.isBilled||e.isBilled,r[T]=e.displayName,r[A]=e.definition,e.configSchema&&(r.customOptions=(0,p.toJsonSchema)({schema:e.configSchema})),R((0,d.action)({actionType:"evaluator",name:e.name,inputSchema:x.extend({dataset:e.dataPointType?d.z.array(e.dataPointType):d.z.array(v),options:e.configSchema??d.z.unknown(),evalRunId:d.z.string(),batchSize:d.z.number().optional()}),outputSchema:O,metadata:{type:"evaluator",evaluator:r}},async e=>{let r=[],n=M(e.dataset,e.batchSize);for(let i=0;i<n.length;i++){let o=n[i];try{await (0,f.runInNewSpan)({metadata:{name:e.batchSize?`Batch ${i}`:`Test Case ${o[0].testCaseId}`,metadata:{"evaluator:evalRunId":e.evalRunId}},labels:{[f.SPAN_TYPE_ATTR]:"evaluator"}},async(n,s)=>{let a=s.spanContext().spanId,l=s.spanContext().traceId,u=o.map((r,o)=>{let s=e.batchSize?e.batchSize*i+o:i,u=r;return n.input={input:u.input,output:u.output,context:u.context},t(u,e.options).then(e=>({...e,traceId:l,spanId:a,sampleIndex:s})).catch(e=>({sampleIndex:s,spanId:a,traceId:l,testCaseId:u.testCaseId,evaluation:{error:`Evaluation of test case ${u.testCaseId} failed: 
${e}`}}))}),c=await Promise.all(u);n.output=1===c.length?c[0]:c,c.map(e=>{r.push(e)})})}catch(e){h.logger.error(`Evaluation of batch ${i} failed: 
${e.stack}`);continue}}return r}),e.dataPointType,e.configSchema)}async function P(e,t){let r;if(!(r="string"==typeof t.evaluator?await e.lookupAction(`/evaluator/${t.evaluator}`):Object.hasOwnProperty.call(t.evaluator,"info")?await e.lookupAction(`/evaluator/${t.evaluator.name}`):t.evaluator))throw Error("Unable to utilize the provided evaluator");return await r({dataset:t.dataset,options:t.options,evalRunId:t.evalRunId??(0,m.randomUUID)()})}let N=d.z.object({label:d.z.string().optional(),metrics:d.z.array(d.z.string())});function k(e){return{...e}}function M(e,t){let r;r=t||1;let n=[];for(var i=0;i<e.length;i+=r)n.push(e.slice(i,i+r).map(e=>({...e,testCaseId:e.testCaseId??(0,m.randomUUID)()})));return n}},63552:(e,t,r)=>{"use strict";var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of s(t))l.call(e,a)||a===r||i(e,a,{get:()=>t[a],enumerable:!(n=o(t,a))||n.enumerable});return e},c=(e,t,r)=>(r=null!=e?n(a(e)):{},u(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)),d=e=>u(i({},"__esModule",{value:!0}),e),h={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(h,{extractItems:()=>y,extractJson:()=>g,parsePartialJson:()=>m}),e.exports=d(h);var p=c(r(72150)),f=r(11129);function m(e){return p.default.parse(JSON.stringify((0,f.parse)(e,f.Allow.ALL)))}function g(e,t){let r,n,i;let o=0,s=!1,a=!1;for(let t=0;t<e.length;t++){let l=e[t].replace(/\u00A0/g," ");if(a){a=!1;continue}if("\\"===l){a=!0;continue}if('"'===l){s=!s;continue}if(!s){if(r||"{"!==l&&"["!==l){if(l===r)o++;else if(l===n&&!--o)return p.default.parse(e.substring(i||0,t+1))}else r=l,n="{"===l?"}":"]",i=t,o++}}if(void 0!==i&&o>0)try{return m(e.substring(i))}catch{if(t)throw Error(`Invalid JSON extracted from model output: ${e}`);return null}if(t)throw Error(`Invalid JSON extracted from model output: ${e}`);return null}function y(e,t=0){let r=[],n=t;if(0===t){let t=e.indexOf("[");if(-1===t)return{items:[],cursor:e.length};n=t+1}let i=-1,o=0,s=!1,a=!1;for(let t=n;t<e.length;t++){let l=e[t];if(a){a=!1;continue}if("\\"===l){a=!0;continue}if('"'===l){s=!s;continue}if(!s){if("{"===l)0===o&&(i=t),o++;else if("}"===l){if(0==--o&&-1!==i)try{let o=p.default.parse(e.substring(i,t+1));r.push(o),n=t+1,i=-1}catch{}}else if("]"===l&&0===o)break}}return{items:r,cursor:n}}},61349:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{arrayFormatter:()=>h}),e.exports=l(u);var c=r(38591),d=r(63552);let h={name:"array",config:{contentType:"application/json",constrained:!0},handler:e=>{let t;if(e&&"array"!==e.type)throw new c.GenkitError({status:"INVALID_ARGUMENT",message:"Must supply an 'array' schema type when using the 'items' parser format."});return e&&(t=`Output should be a JSON array conforming to the following schema:
    
\`\`\`
${JSON.stringify(e)}
\`\`\`
    `),{parseChunk:e=>{let t=e.previousChunks?.length?(0,d.extractItems)(e.previousText).cursor:0,{items:r}=(0,d.extractItems)(e.accumulatedText,t);return r},parseMessage:e=>{let{items:t}=(0,d.extractItems)(e.text,0);return t},instructions:t}}}},37384:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{enumFormatter:()=>d}),e.exports=l(u);var c=r(38591);let d={name:"enum",config:{contentType:"text/enum",constrained:!0},handler:e=>{let t;if(e&&"string"!==e.type&&"enum"!==e.type)throw new c.GenkitError({status:"INVALID_ARGUMENT",message:"Must supply a 'string' or 'enum' schema type when using the enum parser format."});return e?.enum&&(t=`Output should be ONLY one of the following enum values. Do not output any additional information or add quotes.

${e.enum.map(e=>e.toString()).join("\n")}`),{parseMessage:e=>e.text.replace(/['"]/g,"").trim(),instructions:t}}}},17542:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{DEFAULT_FORMATS:()=>b,configureFormats:()=>E,defineFormat:()=>m,injectInstructions:()=>v,resolveFormat:()=>g,resolveInstructions:()=>y}),e.exports=l(u);var c=r(61349),d=r(37384),h=r(61304),p=r(26714),f=r(25734);function m(e,t,r){let{name:n,...i}=t,o={config:i,handler:r};return e.registerValue("format",n,o),o}async function g(e,t){if(t){if((t.jsonSchema||t.schema)&&!t.format)return e.lookupValue("format","json");if(t.format)return e.lookupValue("format",t.format)}}function y(e,t,r){return"string"==typeof r?r:!1===r?void 0:e?e.handler(t).instructions:void 0}function v(e,t){if(!t||e.find(e=>e.content.find(e=>e.metadata?.purpose==="output"&&!e.metadata?.pending)))return e;let r={text:t,metadata:{purpose:"output"}},n=e.findIndex(e=>"system"===e.role);if(n<0&&(n=e.map(e=>e.role).lastIndexOf("user")),n<0)return e;let i={...e[n],content:[...e[n].content]},o=i.content.findIndex(e=>e.metadata?.purpose==="output"&&e.metadata?.pending);o>0?i.content.splice(o,1,r):i.content.push(r);let s=[...e];return s.splice(n,1,i),s}let b=[h.jsonFormatter,c.arrayFormatter,f.textFormatter,d.enumFormatter,p.jsonlFormatter];function E(e){for(let t of b)m(e,{name:t.name,...t.config},t.handler)}},61304:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{jsonFormatter:()=>d}),e.exports=l(u);var c=r(63552);let d={name:"json",config:{format:"json",contentType:"application/json",constrained:!0,defaultInstructions:!1},handler:e=>{let t;return e&&(t=`Output should be in JSON format and conform to the following schema:

\`\`\`
${JSON.stringify(e)}
\`\`\`
`),{parseChunk:e=>(0,c.extractJson)(e.accumulatedText),parseMessage:e=>(0,c.extractJson)(e.text),instructions:t}}}},26714:(e,t,r)=>{"use strict";var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of s(t))l.call(e,a)||a===r||i(e,a,{get:()=>t[a],enumerable:!(n=o(t,a))||n.enumerable});return e},c=(e,t,r)=>(r=null!=e?n(a(e)):{},u(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)),d=e=>u(i({},"__esModule",{value:!0}),e),h={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(h,{jsonlFormatter:()=>y}),e.exports=d(h);var p=r(38591),f=c(r(72150)),m=r(63552);function g(e){return e.split("\n").map(e=>e.trim()).filter(e=>e.startsWith("{"))}let y={name:"jsonl",config:{contentType:"application/jsonl"},handler:e=>{let t;if(e&&("array"!==e.type||e.items?.type!=="object"))throw new p.GenkitError({status:"INVALID_ARGUMENT",message:"Must supply an 'array' schema type containing 'object' items when using the 'jsonl' parser format."});return e?.items&&(t=`Output should be JSONL format, a sequence of JSON objects (one per line) separated by a newline \`\\n\` character. Each line should be a JSON object conforming to the following schema:

\`\`\`
${JSON.stringify(e.items)}
\`\`\`
    `),{parseChunk:e=>{let t=[],r=e.accumulatedText,n=0;if(e.previousChunks?.length){let t=e.previousText.lastIndexOf("\n");-1!==t&&(n=t+1)}for(let e of r.slice(n).split("\n")){let r=e.trim();if(r.startsWith("{"))try{let e=f.default.parse(r);e&&t.push(e)}catch(e){break}}return t},parseMessage:e=>g(e.text).map(e=>(0,m.extractJson)(e)).filter(e=>!!e),instructions:t}}}},25734:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,o=(e,o,s,a)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let l of n(o))i.call(e,l)||l===s||t(e,l,{get:()=>o[l],enumerable:!(a=r(o,l))||a.enumerable});return e},s=e=>o(t({},"__esModule",{value:!0}),e),a={};((e,r)=>{for(var n in r)t(e,n,{get:r[n],enumerable:!0})})(a,{textFormatter:()=>l}),e.exports=s(a);let l={name:"text",config:{contentType:"text/plain"},handler:()=>({parseChunk:e=>e.text,parseMessage:e=>e.text})}},78970:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{GenerateResponse:()=>y.GenerateResponse,GenerateResponseChunk:()=>g.GenerateResponseChunk,GenerationBlockedError:()=>O,GenerationResponseError:()=>A,generate:()=>R,generateOperation:()=>x,generateStream:()=>L,tagAsPreamble:()=>B,toGenerateActionOptions:()=>P,toGenerateRequest:()=>T}),e.exports=l(u);var c=r(38591),d=r(75650),h=r(90664),p=r(11906),f=r(17542),m=r(62966),g=r(71502),y=r(81720),v=r(8945),b=r(95959),E=r(98409),S=r(86532),_=r(34922);async function T(e,t){let r;let n=[];if(t.system&&n.push({role:"system",content:v.Message.parseContent(t.system)}),t.messages&&n.push(...t.messages.map(e=>v.Message.parseData(e))),t.prompt&&n.push({role:"user",content:v.Message.parseContent(t.prompt)}),0===n.length)throw new c.GenkitError({status:"INVALID_ARGUMENT",message:"at least one message is required in generate request"});if(t.resume&&!(n.at(-1)?.role==="model"&&n.at(-1)?.content.find(e=>!!e.toolRequest)))throw new c.GenkitError({status:"FAILED_PRECONDITION",message:"Last message must be a 'model' role with at least one tool request to 'resume' generation.",detail:n.at(-1)});t.tools&&(r=await (0,_.resolveTools)(e,t.tools));let i=(0,p.toJsonSchema)({schema:t.output?.schema,jsonSchema:t.output?.jsonSchema}),o=await (0,f.resolveFormat)(e,t.output),s=(0,f.resolveInstructions)(o,i,t?.output?.instructions),a={messages:(0,m.shouldInjectFormatInstructions)(o?.config,t.output)?(0,f.injectInstructions)(n,s):n,config:t.config,docs:t.docs,tools:r?.map(_.toToolDefinition)||[],output:{...o?.config||{},...t.output,schema:i}};return a?.output?.schema||delete a?.output?.schema,a}class A extends c.GenkitError{detail;constructor(e,t,r,n){super({status:r||"FAILED_PRECONDITION",message:t}),this.detail={response:e,...n}}}async function C(e,t){if(!t)return;let r=[];for(let n of t)if("string"==typeof n)r.push(await M(e,n));else if((0,c.isAction)(n)||(0,_.isDynamicTool)(n))r.push(`/${n.__action.metadata?.type}/${n.__action.name}`);else if((0,E.isExecutablePrompt)(n)){let e=await n.asTool();r.push(`/prompt/${e.__action.name}`)}else throw Error(`Unable to determine type of tool: ${JSON.stringify(n)}`);return r}function w(e){let t=[];if(e.system&&t.push({role:"system",content:v.Message.parseContent(e.system)}),e.messages&&t.push(...e.messages),e.prompt&&t.push({role:"user",content:v.Message.parseContent(e.prompt)}),0===t.length)throw new c.GenkitError({status:"INVALID_ARGUMENT",message:"at least one message is required in generate request"});return t}class O extends A{}async function R(e,t){let r={...await Promise.resolve(t)},n=await (0,f.resolveFormat)(e,r.output);e=D(e=I(e,r),r);let i=await P(e,r),o=await C(e,r.tools),s=N(r.onChunk??r.streamingCallback),a=await (0,c.runWithContext)(r.context,()=>(0,m.generateHelper)(e,{rawRequest:i,middleware:r.use,abortSignal:r.abortSignal,streamingCallback:s})),l=await T(e,{...r,tools:o});return new y.GenerateResponse(a,{request:a.request??l,parser:n?.handler(l.output?.schema).parseMessage})}async function x(e,t){(0,c.assertUnstable)(e,"beta","generateOperation is a beta feature."),t=await t;let r=await (0,b.resolveModel)(e,t.model);if(!r.modelAction.__action.metadata?.model.supports?.longRunning)throw new c.GenkitError({status:"INVALID_ARGUMENT",message:`Model '${r.modelAction.__action.name}' does not support long running operations.`});let{operation:n}=await R(e,t);if(!n)throw new c.GenkitError({status:"FAILED_PRECONDITION",message:`Model '${r.modelAction.__action.name}' did not return an operation.`});return n}function I(e,t){let r=!1;return t?.tools?.forEach(t=>{_.isDynamicTool(t)&&(r||(r=!0,e=h.Registry.withParent(e)),e.registerAction("tool",t))}),e}function D(e,t){let r=!1;return t?.resources?.forEach(t=>{S.isDynamicResourceAction(t)&&(r||(r=!0,e=h.Registry.withParent(e)),e.registerAction("resource",t))}),e}async function P(e,t){let r=await (0,b.resolveModel)(e,t.model),n=await C(e,t.tools),i=w(t),o=(0,p.toJsonSchema)({schema:t.output?.schema,jsonSchema:t.output?.jsonSchema});(t.output?.schema||t.output?.jsonSchema)&&!t.output?.format&&(t.output.format="json");let s={model:r.modelAction.__action.name,docs:t.docs,messages:i,tools:n,toolChoice:t.toolChoice,config:{version:r.version,...k(r.config),...k(t.config)},output:t.output&&{...t.output,format:t.output.format,jsonSchema:o},resume:t.resume&&{respond:[t.resume.respond||[]].flat(),restart:[t.resume.restart||[]].flat(),metadata:t.resume.metadata},returnToolRequests:t.returnToolRequests,maxTurns:t.maxTurns,stepName:t.stepName};return 0!==Object.keys(s.config).length||t.config||delete s.config,s}function N(e){if(e!==c.sentinelNoopStreamingCallback)return e}function k(e){if(!e)return e;let t={...e};return Object.keys(e).forEach(e=>{void 0===t[e]&&delete t[e]}),t}async function M(e,t){if(await e.lookupAction(`/tool/${t}`))return`/tool/${t}`;if(await e.lookupAction(`/prompt/${t}`))return`/prompt/${t}`;throw Error(`Unable to determine type of of tool: ${t}`)}function L(e,t){let r=new d.Channel,n=Promise.resolve(t).then(t=>R(e,{...t,onChunk:e=>r.send(e)}));return n.then(()=>r.close(),e=>r.error(e)),{response:n,stream:r}}function B(e){if(e)return e.map(e=>({...e,metadata:{...e.metadata,preamble:!0}}))}},62966:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{defineGenerateAction:()=>E,generateHelper:()=>S,inferRoleFromParts:()=>R,shouldInjectFormatInstructions:()=>A}),e.exports=l(u);var c=r(38591),d=r(72997),h=r(88186),p=r(17542),f=r(78970),m=r(71502),g=r(95959),y=r(86532),v=r(34922),b=r(29619);function E(e){return(0,c.defineAction)(e,{actionType:"util",name:"generate",inputSchema:g.GenerateActionOptionsSchema,outputSchema:g.GenerateResponseSchema,streamSchema:g.GenerateResponseChunkSchema},async(t,{streamingRequested:r,sendChunk:n})=>{let i=r=>w(e,{rawRequest:t,currentTurn:0,messageIndex:0,middleware:[],streamingCallback:r});return r?i(e=>n(e.toJSON?e.toJSON():e)):i()})}async function S(e,t){let r=t.currentTurn??0,n=t.messageIndex??0;return await (0,h.runInNewSpan)(e,{metadata:{name:t.rawRequest.stepName||"generate"},labels:{[h.SPAN_TYPE_ATTR]:"util"}},async i=>{i.name=t.rawRequest.stepName||"generate",i.input=t.rawRequest;let o=await w(e,{rawRequest:t.rawRequest,middleware:t.middleware,currentTurn:r,messageIndex:n,abortSignal:t.abortSignal,streamingCallback:t.streamingCallback});return i.output=JSON.stringify(o),o})}async function _(e,t){let[r,n,i]=await Promise.all([(0,g.resolveModel)(e,t.model,{warnDeprecated:!0}).then(e=>e.modelAction),(0,v.resolveTools)(e,t.tools),(0,p.resolveFormat)(e,t.output)]);return{model:r,tools:n,format:i}}function T(e,t){let r={...e};e.output?.jsonSchema&&!e.output?.format&&(r.output={...e.output,format:"json"});let n=(0,p.resolveInstructions)(t,r.output?.jsonSchema,r?.output?.instructions);return t&&(A(t.config,e?.output)&&(r.messages=(0,p.injectInstructions)(r.messages,n)),r.output={...t.config,...r.output}),r}function A(e,t){return e?.defaultInstructions!==!1||t?.instructions}function C(e,t){return t?(0,c.stripUndefinedProps)({...e,messages:[...(0,f.tagAsPreamble)(t.messages),...e.messages.filter(e=>!e.metadata?.preamble)],toolChoice:t.toolChoice||e.toolChoice,tools:t.tools||e.tools,config:t.config||e.config}):e}async function w(e,{rawRequest:t,middleware:r,currentTurn:n,messageIndex:i,abortSignal:o,streamingCallback:s}){var a;let{model:l,tools:u,format:d}=await _(e,t);t=T(t,d),t=await I(e,t),await (0,b.assertValidToolNames)(u);let{revisedRequest:h,interruptedResponse:p,toolMessage:g}=await (0,b.resolveResumeOption)(e,t);if(p)throw new c.GenkitError({status:"FAILED_PRECONDITION",message:"One or more tools triggered an interrupt during a restarted execution.",detail:{message:p.message}});t=h;let y=await O(t,u,d,l),v=[],E="model",A=(e,t)=>{e!==E&&v.length&&i++,E=e;let r=[...v];return v.push(t),new m.GenerateResponseChunk(t,{index:i,role:e,previousChunks:r,parser:d?.handler(y.output?.schema).parseChunk})};g&&s&&s(A("tool",g));let w=async(e,t)=>r&&e!==r.length?(0,r[e])(t,async r=>w(e+1,r||t)):await l(t,{abortSignal:o,onChunk:s&&(e=>s&&s(A("model",e)))}),R=await w(0,y);if(a="background-model"===l.__action.actionType?new f.GenerateResponse({operation:R},{request:y,parser:d?.handler(y.output?.schema).parseMessage}):new f.GenerateResponse(R,{request:y,parser:d?.handler(y.output?.schema).parseMessage}),"background-model"===l.__action.actionType)return a.toJSON();a.assertValid();let x=a.message,D=x.content.filter(e=>!!e.toolRequest);if(t.returnToolRequests||0===D.length)return 0===D.length&&a.assertValidSchema(y),a.toJSON();let P=t.maxTurns??5;if(n+1>P)throw new f.GenerationResponseError(a,`Exceeded maximum tool call iterations (${P})`,"ABORTED",{request:y});let{revisedModelMessage:N,toolMessage:k,transferPreamble:M}=await (0,b.resolveToolRequests)(e,t,x);if(N)return{...a.toJSON(),finishReason:"interrupted",finishMessage:"One or more tool calls resulted in interrupts.",message:N};s?.(A("tool",{content:k.content}));let L={...t,messages:[...t.messages,x.toJSON(),k]};return L=C(L,M),await S(e,{rawRequest:L,middleware:r,currentTurn:n+1,messageIndex:i+1,streamingCallback:s})}async function O(e,t,r,n){let i=n.__action.metadata?.model;(e.tools?.length??0)>0&&i?.supports&&!i?.supports?.tools&&d.logger.warn(`The model '${n.__action.name}' does not support tools (you set: ${e.tools?.length} tools). The model may not behave the way you expect.`),e.toolChoice&&i?.supports&&!i?.supports?.toolChoice&&d.logger.warn(`The model '${n.__action.name}' does not support the 'toolChoice' option (you set: ${e.toolChoice}). The model may not behave the way you expect.`);let o={messages:e.messages,config:e.config,docs:e.docs,tools:t?.map(v.toToolDefinition)||[],output:(0,c.stripUndefinedProps)({constrained:e.output?.constrained,contentType:e.output?.contentType,format:e.output?.format,schema:e.output?.jsonSchema})};return e.toolChoice&&(o.toolChoice=e.toolChoice),o.output&&!o.output.schema&&delete o.output.schema,o}function R(e){let t=new Set;for(let r of e){let e=x(r);if(t.add(e),t.size>1)throw Error("Contents contain mixed roles")}return Array.from(t)[0]}function x(e){if(void 0!==e.toolRequest)return"model";if(void 0!==e.toolResponse)return"tool";if(void 0!==e.text||void 0!==e.media||void 0!==e.data)return"user";throw Error("No recognized fields in content")}async function I(e,t){if(!t.messages.find(e=>!!e.content.find(e=>e.resource)))return t;let r=[];for(let n of t.messages){if(!n.content.find(e=>e.resource)){r.push(n);continue}let t=[];for(let r of n.content){if(!r.resource){t.push(r);continue}let n=await (0,y.findMatchingResource)(e,r.resource);if(!n)throw new c.GenkitError({status:"NOT_FOUND",message:`failed to find matching resource for ${r.resource.uri}`});let i=await n(r.resource);t.push(...i.content)}r.push({...n,content:t})}return{...t,messages:r}}},71502:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{GenerateResponseChunk:()=>h}),e.exports=l(u);var c=r(38591),d=r(63552);class h{index;role;content;custom;previousChunks;parser;constructor(e,t){this.content=e.content||[],this.custom=e.custom,this.previousChunks=t.previousChunks?[...t.previousChunks]:void 0,this.index=t.index,this.role=t.role,this.parser=t.parser}get text(){return this.content.map(e=>e.text||"").join("")}get reasoning(){return this.content.map(e=>e.reasoning||"").join("")}get accumulatedText(){return this.previousText+this.text}get previousText(){if(!this.previousChunks)throw new c.GenkitError({status:"FAILED_PRECONDITION",message:"Cannot compose accumulated text without previous chunks."});return this.previousChunks?.map(e=>e.content.map(e=>e.text||"").join("")).join("")}get media(){return this.content.find(e=>e.media)?.media||null}get data(){return this.content.find(e=>e.data)?.data}get toolRequests(){return this.content.filter(e=>!!e.toolRequest)}get output(){return this.parser?this.parser(this):this.data||(0,d.extractJson)(this.accumulatedText)}toJSON(){let e={role:this.role,index:this.index,content:this.content};return this.custom&&(e.custom=this.custom),e}}},29619:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{assertValidToolNames:()=>m,resolveRestartedTools:()=>A,resolveResumeOption:()=>T,resolveToolRequest:()=>v,resolveToolRequests:()=>b,toPendingOutput:()=>y,toToolMap:()=>f}),e.exports=l(u);var c=r(38591),d=r(72997),h=r(98409),p=r(34922);function f(e){m(e);let t={};for(let r of e){let e=r.__action.name;t[e.substring(e.lastIndexOf("/")+1)]=r}return t}function m(e){let t={};for(let r of e){let e=r.__action.name,n=e.substring(e.lastIndexOf("/")+1);if(t[n])throw new c.GenkitError({status:"INVALID_ARGUMENT",message:`Cannot provide two tools with the same name: '${e}' and '${t[n]}'`});t[n]=e}}function g(e){let t={metadata:e.metadata};return e.metadata?.resumed&&(t.resumed=e.metadata.resumed),t}function y(e,t){return{...e,metadata:{...e.metadata,pendingOutput:t.toolResponse.output}}}async function v(e,t,r,n){let i=r[t.toolRequest.name];if(!i)throw new c.GenkitError({status:"NOT_FOUND",message:`Tool ${t.toolRequest.name} not found`,detail:{request:e}});if((0,h.isPromptAction)(i))return{preamble:await i(t.toolRequest.input),response:{toolResponse:{name:t.toolRequest.name,ref:t.toolRequest.ref,output:`transferred to ${t.toolRequest.name}`}}};try{let e=await i(t.toolRequest.input,g(t));return{response:(0,c.stripUndefinedProps)({toolResponse:{name:t.toolRequest.name,ref:t.toolRequest.ref,output:e}})}}catch(e){if(e instanceof p.ToolInterruptError||"ToolInterruptError"===e.name){let n=e;return d.logger.debug(`tool '${r[t.toolRequest?.name].__action.name}' triggered an interrupt${n.metadata?`: ${JSON.stringify(n.metadata)}`:""}`),{interrupt:{toolRequest:t.toolRequest,metadata:{...t.metadata,interrupt:n.metadata||!0}}}}throw e}}async function b(e,t,r){let n;let i=f(await (0,p.resolveTools)(e,t.tools)),o=[],s=!1,a={...r,content:[...r.content]};return(await Promise.all(a.content.map(async(e,r)=>{if(!e.toolRequest)return;let{preamble:l,response:u,interrupt:d}=await v(t,e,i);if(l){if(n)throw new c.GenkitError({status:"INVALID_ARGUMENT",message:"Model attempted to transfer to multiple prompt tools."});n=l}u&&(o.push(u),a.content.splice(r,1,y(e,u))),d&&(a.content.splice(r,1,d),s=!0)})),s)?{revisedModelMessage:a}:{toolMessage:{role:"tool",content:o},transferPreamble:n}}function E(e,t){let r=t.toolRequest?.name||t.toolResponse?.name,n=t.toolRequest?.ref||t.toolResponse?.ref;return e.find(e=>e.toolRequest?.name===r&&e.toolRequest?.ref===n)}function S(e,t){let r=t.toolRequest?.name||t.toolResponse?.name,n=t.toolRequest?.ref||t.toolResponse?.ref;return e.find(e=>e.toolResponse?.name===r&&e.toolResponse?.ref===n)}async function _(e,t,r){if(t.metadata?.pendingOutput){let{pendingOutput:e,...r}=t.metadata,n={toolResponse:{name:t.toolRequest.name,ref:t.toolRequest.ref,output:e},metadata:{...r,source:"pending"}};return(0,c.stripUndefinedProps)({toolResponse:n,toolRequest:{...t,metadata:r}})}let n=S(e.resume?.respond||[],t);if(n){let e=n,{interrupt:r,...i}=t.metadata||{};return(0,c.stripUndefinedProps)({toolResponse:e,toolRequest:{...t,metadata:{...i,resolvedInterrupt:r}}})}let i=E(e.resume?.restart||[],t);if(i){let{response:n,interrupt:o,preamble:s}=await v(e,i,r);if(s)throw new c.GenkitError({status:"INTERNAL",message:`Prompt tool '${i.toolRequest.name}' executed inside 'restart' resolution. This should never happen.`});if(o)return{interrupt:o};if(n){let e=n,{interrupt:r,...i}=t.metadata||{};return(0,c.stripUndefinedProps)({toolResponse:e,toolRequest:{...t,metadata:{...i,resolvedInterrupt:r}}})}}throw new c.GenkitError({status:"INVALID_ARGUMENT",message:`Unresolved tool request '${t.toolRequest.name}${t.toolRequest.ref?`#${t.toolRequest.ref}`:""}' was not handled by the 'resume' argument. You must supply replies or restarts for all interrupted tool requests.'`})}async function T(e,t){if(!t.resume)return{revisedRequest:t};let r=f(await (0,p.resolveTools)(e,t.tools)),n=t.messages,i=n.at(-1);if(!i||"model"!==i.role||!i.content.find(e=>e.toolRequest))throw new c.GenkitError({status:"FAILED_PRECONDITION",message:"Cannot 'resume' generation unless the previous message is a model message with at least one tool request."});let o=[],s=!1;if(i.content=await Promise.all(i.content.map(async e=>{if(!(0,p.isToolRequest)(e))return e;let n=await _(t,e,r);return n.interrupt?(s=!0,n.interrupt):(o.push(n.toolResponse),n.toolRequest)})),s)return{interruptedResponse:{finishReason:"interrupted",finishMessage:"One or more tools triggered interrupts while resuming generation. The model was not called.",message:i}};let a=i.content.filter(e=>!!e.toolRequest).length;if(o.length!==a)throw new c.GenkitError({status:"FAILED_PRECONDITION",message:`Expected ${a} tool responses but resolved to ${o.length}.`,detail:{toolResponses:o,message:i}});let l={role:"tool",content:o,metadata:{resumed:t.resume.metadata||!0}};return(0,c.stripUndefinedProps)({revisedRequest:{...t,resume:void 0,messages:[...n,l]},toolMessage:l})}async function A(e,t){let r=f(await (0,p.resolveTools)(e,t.tools)),n=t.messages.at(-1);if(!n||"model"!==n.role)return[];let i=n.content.filter(e=>e.toolRequest&&e.metadata?.resumed);return await Promise.all(i.map(async e=>{let{response:n,interrupt:i}=await v(t,e,r);return i||y(e,n)}))}},81720:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{GenerateResponse:()=>p}),e.exports=l(u);var c=r(11906),d=r(78970),h=r(8945);class p{message;finishReason;finishMessage;usage;custom;raw;request;operation;model;parser;constructor(e,t){let r=e.message||e.candidates?.[0]?.message;r&&(this.message=new h.Message(r,{parser:t?.parser})),this.finishReason=e.finishReason||e.candidates?.[0]?.finishReason,this.finishMessage=e.finishMessage||e.candidates?.[0]?.finishMessage,this.usage=e.usage||{},this.custom=e.custom||{},this.raw=e.raw||this.custom,this.request=t?.request,this.operation=e?.operation}assertValid(){if("blocked"===this.finishReason)throw new d.GenerationBlockedError(this,`Generation blocked${this.finishMessage?`: ${this.finishMessage}`:"."}`);if(!this.message&&!this.operation)throw new d.GenerationResponseError(this,`Model did not generate a message. Finish reason: '${this.finishReason}': ${this.finishMessage}`)}assertValidSchema(e){if(e?.output?.schema||this.request?.output?.schema){let t=this.output;(0,c.parseSchema)(t,{jsonSchema:e?.output?.schema||this.request?.output?.schema})}}isValid(e){try{return this.assertValid(),this.assertValidSchema(e),!0}catch(e){return!1}}get output(){return this.message?.output||null}get text(){return this.message?.text||""}get reasoning(){return this.message?.reasoning||""}get media(){return this.message?.media||null}get data(){return this.message?.data||null}get toolRequests(){return this.message?.toolRequests||[]}get interrupts(){return this.message?.interrupts||[]}get messages(){if(!this.request)throw Error("Can't construct history for response without request reference.");if(!this.message)throw Error("Can't construct history for response without generated message.");return[...this.request?.messages,this.message.toJSON()]}toJSON(){let e={message:this.message?.toJSON(),finishReason:this.finishReason,finishMessage:this.finishMessage,usage:this.usage,custom:this.custom.toJSON?.()||this.custom,request:this.request,operation:this.operation};return e.finishMessage||delete e.finishMessage,e.request||delete e.request,e.operation||delete e.operation,e}}},42178:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=(e,t,r)=>(a(e,t,"default"),r&&a(r,t,"default")),u=e=>a(n({},"__esModule",{value:!0}),e),c={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(c,{BaseDataPointSchema:()=>f.BaseDataPointSchema,Document:()=>h.Document,DocumentDataSchema:()=>h.DocumentDataSchema,EvalStatusEnum:()=>f.EvalStatusEnum,GenerateResponse:()=>m.GenerateResponse,GenerateResponseChunk:()=>m.GenerateResponseChunk,GenerateResponseChunkSchema:()=>y.GenerateResponseChunkSchema,GenerationBlockedError:()=>m.GenerationBlockedError,GenerationCommonConfigSchema:()=>y.GenerationCommonConfigSchema,GenerationResponseError:()=>m.GenerationResponseError,Message:()=>g.Message,MessageSchema:()=>y.MessageSchema,ModelRequestSchema:()=>y.ModelRequestSchema,ModelResponseSchema:()=>y.ModelResponseSchema,PartSchema:()=>y.PartSchema,ResourceInputSchema:()=>E.ResourceInputSchema,ResourceOutputSchema:()=>E.ResourceOutputSchema,RoleSchema:()=>y.RoleSchema,ToolInterruptError:()=>_.ToolInterruptError,asTool:()=>_.asTool,checkOperation:()=>d.checkOperation,defineHelper:()=>v.defineHelper,defineInterrupt:()=>_.defineInterrupt,definePartial:()=>v.definePartial,definePrompt:()=>v.definePrompt,defineResource:()=>E.defineResource,defineTool:()=>_.defineTool,dynamicResource:()=>E.dynamicResource,embed:()=>p.embed,embedderActionMetadata:()=>p.embedderActionMetadata,embedderRef:()=>p.embedderRef,evaluate:()=>f.evaluate,evaluatorRef:()=>f.evaluatorRef,generate:()=>m.generate,generateOperation:()=>m.generateOperation,generateStream:()=>m.generateStream,index:()=>S.index,indexerRef:()=>S.indexerRef,isDynamicResourceAction:()=>E.isDynamicResourceAction,isExecutablePrompt:()=>v.isExecutablePrompt,loadPromptFolder:()=>v.loadPromptFolder,modelActionMetadata:()=>y.modelActionMetadata,modelRef:()=>y.modelRef,prompt:()=>v.prompt,rerank:()=>b.rerank,rerankerRef:()=>b.rerankerRef,retrieve:()=>S.retrieve,retrieverRef:()=>S.retrieverRef,tagAsPreamble:()=>m.tagAsPreamble,toGenerateRequest:()=>m.toGenerateRequest}),e.exports=u(c);var d=r(60658),h=r(80027),p=r(65067),f=r(48891),m=r(78970),g=r(8945),y=r(95959),v=r(98409),b=r(94147),E=r(86532),S=r(79665),_=r(34922);l(c,r(62043),e.exports)},8945:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{Message:()=>d}),e.exports=l(u);var c=r(63552);class d{role;content;metadata;parser;static parseData(e,t="user"){return"string"==typeof e?{role:t,content:[{text:e}]}:{...e,content:d.parseContent(e.content)}}static parse(e){return new d(d.parseData(e))}static parseContent(e){return"string"==typeof e?[{text:e}]:Array.isArray(e)?e.map(e=>"string"==typeof e?{text:e}:e):[e]}constructor(e,t){this.role=e.role,this.content=e.content,this.metadata=e.metadata,this.parser=t?.parser}get output(){return this.parser?.(this)||this.data||(0,c.extractJson)(this.text)}toolResponseParts(){return this.content.filter(e=>!!e.toolResponse)}get text(){return this.content.map(e=>e.text||"").join("")}get reasoning(){return this.content.map(e=>e.reasoning||"").join("")}get media(){return this.content.find(e=>e.media)?.media||null}get data(){return this.content.find(e=>e.data)?.data}get toolRequests(){return this.content.filter(e=>!!e.toolRequest)}get interrupts(){return this.toolRequests.filter(e=>!!e.metadata?.interrupt)}toJSON(){let e={role:this.role,content:[...this.content]};return this.metadata&&(e.metadata=this.metadata),e}}},60775:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{CandidateErrorSchema:()=>C,CandidateSchema:()=>A,FinishReasonSchema:()=>T,GenerateActionOptionsSchema:()=>D,GenerateActionOutputConfig:()=>I,GenerateRequestSchema:()=>S,GenerateResponseChunkSchema:()=>x,GenerateResponseSchema:()=>O,GenerationCommonConfigDescriptions:()=>y,GenerationCommonConfigSchema:()=>v,GenerationUsageSchema:()=>_,MessageSchema:()=>f,ModelInfoSchema:()=>m,ModelRequestSchema:()=>E,ModelResponseChunkSchema:()=>R,ModelResponseSchema:()=>w,OutputConfigSchema:()=>b,PartSchema:()=>h,RoleSchema:()=>p,ToolDefinitionSchema:()=>g}),e.exports=l(u);var c=r(38591),d=r(80027);let h=c.z.union([d.TextPartSchema,d.MediaPartSchema,d.ToolRequestPartSchema,d.ToolResponsePartSchema,d.DataPartSchema,d.CustomPartSchema,d.ReasoningPartSchema,d.ResourcePartSchema]),p=c.z.enum(["system","user","model","tool"]),f=c.z.object({role:p,content:c.z.array(h),metadata:c.z.record(c.z.unknown()).optional()}),m=c.z.object({versions:c.z.array(c.z.string()).optional(),label:c.z.string().optional(),configSchema:c.z.record(c.z.any()).optional(),supports:c.z.object({multiturn:c.z.boolean().optional(),media:c.z.boolean().optional(),tools:c.z.boolean().optional(),systemRole:c.z.boolean().optional(),output:c.z.array(c.z.string()).optional(),contentType:c.z.array(c.z.string()).optional(),context:c.z.boolean().optional(),constrained:c.z.enum(["none","all","no-tools"]).optional(),toolChoice:c.z.boolean().optional()}).optional(),stage:c.z.enum(["featured","stable","unstable","legacy","deprecated"]).optional()}),g=c.z.object({name:c.z.string(),description:c.z.string(),inputSchema:c.z.record(c.z.any()).describe("Valid JSON Schema representing the input of the tool.").nullish(),outputSchema:c.z.record(c.z.any()).describe("Valid JSON Schema describing the output of the tool.").nullish(),metadata:c.z.record(c.z.any()).describe("additional metadata for this tool definition").optional()}),y={temperature:"Controls the degree of randomness in token selection. A lower value is good for a more predictable response. A higher value leads to more diverse or unexpected results.",maxOutputTokens:"The maximum number of tokens to include in the response.",topK:"The maximum number of tokens to consider when sampling.",topP:"Decides how many possible words to consider. A higher value means that the model looks at more possible words, even the less likely ones, which makes the generated text more diverse."},v=c.z.object({version:c.z.string().describe("A specific version of a model family, e.g. `gemini-2.0-flash` for the `googleai` family.").optional(),temperature:c.z.number().describe(y.temperature).optional(),maxOutputTokens:c.z.number().describe(y.maxOutputTokens).optional(),topK:c.z.number().describe(y.topK).optional(),topP:c.z.number().describe(y.topP).optional(),stopSequences:c.z.array(c.z.string()).max(5).describe("Set of character sequences (up to 5) that will stop output generation.").optional()}).passthrough(),b=c.z.object({format:c.z.string().optional(),schema:c.z.record(c.z.any()).optional(),constrained:c.z.boolean().optional(),contentType:c.z.string().optional()}),E=c.z.object({messages:c.z.array(f),config:c.z.any().optional(),tools:c.z.array(g).optional(),toolChoice:c.z.enum(["auto","required","none"]).optional(),output:b.optional(),docs:c.z.array(d.DocumentDataSchema).optional()}),S=E.extend({candidates:c.z.number().optional()}),_=c.z.object({inputTokens:c.z.number().optional(),outputTokens:c.z.number().optional(),totalTokens:c.z.number().optional(),inputCharacters:c.z.number().optional(),outputCharacters:c.z.number().optional(),inputImages:c.z.number().optional(),outputImages:c.z.number().optional(),inputVideos:c.z.number().optional(),outputVideos:c.z.number().optional(),inputAudioFiles:c.z.number().optional(),outputAudioFiles:c.z.number().optional(),custom:c.z.record(c.z.number()).optional(),thoughtsTokens:c.z.number().optional(),cachedContentTokens:c.z.number().optional()}),T=c.z.enum(["stop","length","blocked","interrupted","other","unknown"]),A=c.z.object({index:c.z.number(),message:f,usage:_.optional(),finishReason:T,finishMessage:c.z.string().optional(),custom:c.z.unknown()}),C=c.z.object({index:c.z.number(),code:c.z.enum(["blocked","other","unknown"]),message:c.z.string().optional()}),w=c.z.object({message:f.optional(),finishReason:T,finishMessage:c.z.string().optional(),latencyMs:c.z.number().optional(),usage:_.optional(),custom:c.z.unknown(),raw:c.z.unknown(),request:S.optional(),operation:c.OperationSchema.optional()}),O=w.extend({candidates:c.z.array(A).optional(),finishReason:T.optional()}),R=c.z.object({role:p.optional(),index:c.z.number().optional(),content:c.z.array(h),custom:c.z.unknown().optional(),aggregated:c.z.boolean().optional()}),x=R,I=c.z.object({format:c.z.string().optional(),contentType:c.z.string().optional(),instructions:c.z.union([c.z.boolean(),c.z.string()]).optional(),jsonSchema:c.z.any().optional(),constrained:c.z.boolean().optional()}),D=c.z.object({model:c.z.string(),docs:c.z.array(d.DocumentDataSchema).optional(),messages:c.z.array(f),tools:c.z.array(c.z.string()).optional(),toolChoice:c.z.enum(["auto","required","none"]).optional(),config:c.z.any().optional(),output:I.optional(),resume:c.z.object({respond:c.z.array(d.ToolResponsePartSchema).optional(),restart:c.z.array(d.ToolRequestPartSchema).optional(),metadata:c.z.record(c.z.any()).optional()}).optional(),returnToolRequests:c.z.boolean().optional(),maxTurns:c.z.number().optional(),stepName:c.z.string().optional()})},95959:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=(e,t,r)=>(a(e,t,"default"),r&&a(r,t,"default")),u=e=>a(n({},"__esModule",{value:!0}),e),c={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(c,{CustomPartSchema:()=>m.CustomPartSchema,DataPartSchema:()=>m.DataPartSchema,MediaPartSchema:()=>m.MediaPartSchema,TextPartSchema:()=>m.TextPartSchema,ToolRequestPartSchema:()=>m.ToolRequestPartSchema,ToolResponsePartSchema:()=>m.ToolResponsePartSchema,backgroundModel:()=>T,defineBackgroundModel:()=>_,defineGenerateAction:()=>v.defineGenerateAction,defineModel:()=>S,getBasicUsageStats:()=>O,model:()=>b,modelActionMetadata:()=>C,modelRef:()=>w,resolveModel:()=>x,simulateConstrainedGeneration:()=>y.simulateConstrainedGeneration}),e.exports=u(c);var d=r(38591),h=r(72997),p=r(11906),f=r(38846),m=r(80027),g=r(60775),y=r(28523),v=r(62966);function b(e,t){let r=(0,d.action)(E(e),(e,r)=>{let n=f.performance.now();return t(e,r).then(e=>({...e,latencyMs:f.performance.now()-n}))});return Object.assign(r,{__configSchema:e.configSchema||d.z.unknown()}),r}function E(e){let t=e.label||e.name,r=A(e);return{actionType:"model",name:e.name,description:t,inputSchema:g.GenerateRequestSchema,outputSchema:g.GenerateResponseSchema,metadata:{model:{label:t,customOptions:e.configSchema?(0,p.toJsonSchema)({schema:e.configSchema}):void 0,versions:e.versions,supports:e.supports}},use:r}}function S(e,t,r){let n=(0,d.defineAction)(e,E(t),(e,n)=>{let i=f.performance.now();return r(e,"v2"===t.apiVersion?n:n.streamingRequested?n.sendChunk:void 0).then(e=>({...e,latencyMs:f.performance.now()-i}))});return Object.assign(n,{__configSchema:t.configSchema||d.z.unknown()}),n}function _(e,t){let r=T(t);return(0,d.registerBackgroundAction)(e,r),r}function T(e){let t=e.label||e.name,r=A(e),n=(0,d.backgroundAction)({actionType:"background-model",name:e.name,description:t,inputSchema:g.GenerateRequestSchema,outputSchema:g.GenerateResponseSchema,metadata:{model:{label:t,customOptions:e.configSchema?(0,p.toJsonSchema)({schema:e.configSchema}):void 0,versions:e.versions,supports:e.supports}},use:r,async start(t){let r=f.performance.now(),n=await e.start(t);return Object.assign(n,{latencyMs:f.performance.now()-r}),n},check:async t=>e.check(t),cancel:e.cancel?async t=>{if(!e.cancel)throw new d.GenkitError({status:"UNIMPLEMENTED",message:"cancel not implemented"});return e.cancel(t)}:void 0});return Object.assign(n,{__configSchema:e.configSchema||d.z.unknown()}),n}function A(e){let t=e.use||[];e?.supports?.context||t.push((0,y.augmentWithContext)());let r=(0,y.simulateConstrainedGeneration)();return t.push((t,n)=>!e?.supports?.constrained||e?.supports?.constrained==="none"||e?.supports?.constrained==="no-tools"&&(t.tools?.length??0)>0?r(t,n):n(t)),t}function C({name:e,info:t,configSchema:r,background:n}){return{actionType:n?"background-model":"model",name:e,inputJsonSchema:(0,p.toJsonSchema)({schema:g.GenerateRequestSchema}),outputJsonSchema:n?(0,p.toJsonSchema)({schema:d.OperationSchema}):(0,p.toJsonSchema)({schema:g.GenerateResponseSchema}),metadata:{model:{...t,customOptions:r?(0,p.toJsonSchema)({schema:r}):void 0}}}}function w(e){let t=e.name;e.namespace&&!t.startsWith(e.namespace+"/")&&(t=`${e.namespace}/${t}`);let r={...e,name:t};return r.withConfig=r=>w({...e,name:t,config:r}),r.withVersion=r=>w({...e,name:t,version:r}),r}function O(e,t){let r=R(e.flatMap(e=>e.content)),n=R(Array.isArray(t)?t.flatMap(e=>e.message.content):t.content);return{inputCharacters:r.characters,inputImages:r.images,inputVideos:r.videos,inputAudioFiles:r.audio,outputCharacters:n.characters,outputImages:n.images,outputVideos:n.videos,outputAudioFiles:n.audio}}function R(e){return e.reduce((e,t)=>{let r=t.media?.contentType?.startsWith("image")||t.media?.url?.startsWith("data:image"),n=t.media?.contentType?.startsWith("video")||t.media?.url?.startsWith("data:video"),i=t.media?.contentType?.startsWith("audio")||t.media?.url?.startsWith("data:audio");return{characters:e.characters+(t.text?.length||0),images:e.images+(r?1:0),videos:e.videos+(n?1:0),audio:e.audio+(i?1:0)}},{characters:0,images:0,videos:0,audio:0})}async function x(e,t,r){let n,i;if(t||(t=await e.lookupValue("defaultModel","defaultModel")),!t)throw new d.GenkitError({status:"INVALID_ARGUMENT",message:"Must supply a `model` to `generate()` calls."});if("string"==typeof t)i=t,n={modelAction:await I(e,t)};else if(t.hasOwnProperty("__action"))i=t.__action.name,n={modelAction:t};else{let r=t;i=r.name,n={modelAction:await I(e,r.name),config:{...r.config},version:r.version}}if(!n.modelAction)throw new d.GenkitError({status:"NOT_FOUND",message:`Model '${i}' not found`});return r?.warnDeprecated&&n.modelAction.__action.metadata?.model?.stage==="deprecated"&&h.logger.warn(`Model '${n.modelAction.__action.name}' is deprecated and may be removed in a future release.`),n}async function I(e,t){return await e.lookupAction(`/model/${t}`)||await e.lookupAction(`/background-model/${t}`)}l(c,r(60775),e.exports)},28523:(e,t,r)=>{"use strict";Object.create;var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=(Object.getPrototypeOf,Object.prototype.hasOwnProperty),a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{CONTEXT_PREFACE:()=>g,augmentWithContext:()=>v,downloadRequestMedia:()=>h,simulateConstrainedGeneration:()=>E,simulateSystemPrompt:()=>m,validateSupport:()=>p}),e.exports=l(u);var c=r(80027),d=r(17542);function h(e){return async(t,n)=>{let{default:i}=await r.e(6673).then(r.bind(r,16673));return n({...t,messages:await Promise.all(t.messages.map(async t=>{let r=await Promise.all(t.content.map(async t=>{if(!t.media||!t.media.url.startsWith("http")||e?.filter&&!e?.filter(t))return t;let r=await i(t.media.url,{size:e?.maxBytes});if(200!==r.status)throw Error(`HTTP error downloading media '${t.media.url}': ${await r.text()}`);let n=t.media.contentType||r.headers.get("content-type")||"";return{media:{contentType:n,url:`data:${n};base64,${Buffer.from(await r.arrayBuffer()).toString("base64")}`}}}));return{...t,content:r}}))})}}function p(e){let t=e.supports||{};return async(r,n)=>{function i(t){throw Error(`Model '${e.name}' does not support ${t}. Request: ${JSON.stringify(r,null,2)}`)}return!1===t.media&&r.messages.some(e=>e.content.some(e=>e.media))&&i("media, but media was provided"),!1===t.tools&&r.tools?.length&&i("tool use, but tools were provided"),!1===t.multiturn&&r.messages.length>1&&i(`multiple messages, but ${r.messages.length} were provided`),n()}}function f(e){for(let t=e.length-1;t>=0;t--)if("user"===e[t].role)return e[t]}function m(e){let t=e?.preface||"SYSTEM INSTRUCTIONS:\n",r=e?.acknowledgement||"Understood.";return(e,n)=>{let i=[...e.messages];for(let n=0;n<i.length;n++)if("system"===e.messages[n].role){let e=i[n].content;i.splice(n,1,{role:"user",content:[{text:t},...e]},{role:"model",content:[{text:r}]});break}return n({...e,messages:i})}}let g="\n\nUse the following information to complete your task:\n\n",y=(e,t,r)=>{let n="- ";return r?.citationKey?n+=`[${e.metadata[r.citationKey]}]: `:r?.citationKey===void 0&&(n+=`[${e.metadata?.ref||e.metadata?.id||t}]: `),n+=e.text+"\n"};function v(e){let t=void 0===e?.preface?g:e.preface,r=e?.itemTemplate||y;return(n,i)=>{if(!n.docs?.length)return i(n);let o=f(n.messages);if(!o)return i(n);let s=o?.content.findIndex(e=>e.metadata?.purpose==="context"),a=s>=0&&o.content[s];if(a&&!a.metadata?.pending)return i(n);let l=`${t||""}`;return n.docs?.forEach((t,n)=>{l+=r(new c.Document(t),n,e)}),l+="\n",s>=0?o.content[s]={...a,text:l,metadata:{purpose:"context"}}:o.content.push({text:l,metadata:{purpose:"context"}}),i(n)}}let b=e=>`Output should be in JSON format and conform to the following schema:

\`\`\`
${JSON.stringify(e)}
\`\`\`
`;function E(e){return(t,r)=>{let n;return t.output?.constrained&&t.output?.schema&&(n=(e?.instructionsRenderer??b)(t.output?.schema),t={...t,messages:(0,d.injectInstructions)(t.messages,n),output:{...t.output,constrained:!1,format:void 0,contentType:void 0,schema:void 0}}),r(t)}}},98409:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{defineHelper:()=>L,definePartial:()=>M,definePrompt:()=>_,isExecutablePrompt:()=>P,isPromptAction:()=>S,loadPromptFolder:()=>N,loadPromptFolderRecursively:()=>k,prompt:()=>j}),e.exports=l(u);var c=r(38591),d=r(75650),h=r(72997),p=r(11906),f=r(88186),m=r(57147),g=r(71017),y=r(78970),v=r(8945),b=r(95959),E=r(78475);function S(e){return e.__action.metadata?.type==="prompt"}function _(e,t){return T(e,`${t.name}${t.variant?`.${t.variant}`:""}`,Promise.resolve(t),t.metadata)}function T(e,t,r,n){let i={},o=async(t,n)=>await (0,f.runInNewSpan)({metadata:{name:"render",input:t},labels:{[f.SPAN_TYPE_ATTR]:"promptTemplate"}},async o=>{let s;let a=[];n={...n};let l=(0,E.getCurrentSession)(e),u=await r;await w(e,l,t,a,u,i,n),await O(e,l,t,a,u,n,i),await R(e,l,t,a,u,i,n),s="function"==typeof u.docs?await u.docs(t,{state:l?.state,context:n?.context||(0,c.getContext)()||{}}):u.docs;let d=(0,c.stripUndefinedProps)({model:u.model,maxTurns:u.maxTurns,messages:a,docs:s,tools:u.tools,returnToolRequests:u.returnToolRequests,toolChoice:u.toolChoice,context:u.context,output:u.output,use:u.use,...(0,c.stripUndefinedProps)(n),config:{...u?.config,...n?.config},metadata:u.metadata?.metadata?{prompt:u.metadata?.metadata}:void 0});return n?.abortSignal&&(d.abortSignal=n.abortSignal),0!==Object.keys(d.config).length||n?.config||delete d.config,o.output=d,d}),s=(0,d.lazy)(()=>r.then(t=>{let r=A(t);return{name:`${t.name}${t.variant?`.${t.variant}`:""}`,inputJsonSchema:t.input?.jsonSchema,inputSchema:t.input?.schema,description:t.description,actionType:"prompt",metadata:r,fn:async t=>(0,y.toGenerateRequest)(e,await o(t,void 0))}})),a=(0,c.defineActionAsync)(e,"prompt",t,s,e=>{e.__executablePrompt=u}),l=(0,d.lazy)(()=>r.then(t=>{let r=A(t);return{name:`${t.name}${t.variant?`.${t.variant}`:""}`,inputJsonSchema:t.input?.jsonSchema,inputSchema:t.input?.schema,outputSchema:b.GenerateActionOptionsSchema,description:t.description,actionType:"executable-prompt",metadata:r,fn:async t=>await (0,y.toGenerateActionOptions)(e,await o(t,void 0))}}));(0,c.defineActionAsync)(e,"executable-prompt",t,l,e=>{e.__executablePrompt=u});let u=C({registry:e,name:t,renderOptionsFn:o,rendererAction:a,metadata:n});return u}function A(e){let t={...e.metadata,prompt:{...e.metadata?.prompt,config:e.config,input:{schema:e.input?(0,p.toJsonSchema)(e.input):void 0},name:e.name.includes(".")?e.name.split(".")[0]:e.name,model:x(e.model)},type:"prompt"};return e.variant&&(t.prompt.variant=e.variant),t}function C(e){let t=async(t,r)=>await (0,f.runInNewSpan)(e.registry,{metadata:{name:(await e.rendererAction).__action.name,input:t},labels:{[f.SPAN_TYPE_ATTR]:"dotprompt"}},async n=>{let i=await (0,y.generate)(e.registry,{...await e.renderOptionsFn(t,r)});return n.output=i,i});return t.ref={name:e.name,metadata:e.metadata},t.render=async(t,r)=>({...await e.renderOptionsFn(t,r)}),t.stream=(t,r)=>(0,y.generateStream)(e.registry,e.renderOptionsFn(t,r)),t.asTool=async()=>await e.rendererAction,t}async function w(e,t,r,n,i,o,s){"function"==typeof i.system?n.push({role:"system",content:I(await i.system(r,{state:t?.state,context:s?.context||(0,c.getContext)()||{}}))}):"string"==typeof i.system?(o.system||(o.system=await e.dotprompt.compile(i.system)),n.push({role:"system",content:await D(e,o.system,r,t,i,s)})):i.system&&n.push({role:"system",content:I(i.system)})}async function O(e,t,r,n,i,o,s){if(i.messages){if("function"==typeof i.messages)n.push(...await i.messages(r,{state:t?.state,context:o?.context||(0,c.getContext)()||{},history:o?.messages}));else if("string"==typeof i.messages){s.messages||(s.messages=await e.dotprompt.compile(i.messages));let a=await s.messages({input:r,context:{...o?.context||(0,c.getContext)(),state:t?.state},messages:o?.messages?.map(e=>v.Message.parseData(e))});n.push(...a.messages)}else n.push(...i.messages)}else o.messages&&n.push(...o.messages);o?.messages&&delete o.messages}async function R(e,t,r,n,i,o,s){"function"==typeof i.prompt?n.push({role:"user",content:I(await i.prompt(r,{state:t?.state,context:s?.context||(0,c.getContext)()||{}}))}):"string"==typeof i.prompt?(o.userPrompt||(o.userPrompt=await e.dotprompt.compile(i.prompt)),n.push({role:"user",content:await D(e,o.userPrompt,r,t,i,s)})):i.prompt&&n.push({role:"user",content:I(i.prompt)})}function x(e){return void 0===e?void 0:"string"==typeof e?e:e.name?e.name:e.__action.name}function I(e){return Array.isArray(e)?e:"string"==typeof e?[{text:e}]:[e]}async function D(e,t,r,n,i,o){let s=await t({input:r,context:{...o?.context||(0,c.getContext)(),state:n?.state}});if(1!==s.messages.length)throw Error("parts tempate must produce only one message");return s.messages[0].content}function P(e){return!!e?.render&&!!e?.asTool&&!!e?.stream}function N(e,t="./prompts",r){let n=(0,g.resolve)(t);(0,m.existsSync)(n)&&k(e,t,r,"")}function k(e,t,r,n){let i=(0,g.resolve)(t);for(let o of(0,m.readdirSync)((0,g.join)(i,n),{withFileTypes:!0})){let s=(0,g.join)(i,n),a=o.name;if(o.isFile()&&a.endsWith(".prompt")){if(a.startsWith("_")){let t=a.substring(1,a.length-7);M(e,t,(0,m.readFileSync)((0,g.join)(s,a),{encoding:"utf8"})),h.logger.debug(`Registered Dotprompt partial "${t}" from "${(0,g.join)(s,a)}"`)}else B(e,i,a,n?`${n}/`:"",r)}else o.isDirectory()&&k(e,t,r,(0,g.join)(n,a))}}function M(e,t,r){e.dotprompt.definePartial(t,r)}function L(e,t,r){e.dotprompt.defineHelper(t,r)}function B(e,t,r,n="",i="dotprompt"){let o=`${n??""}${(0,g.basename)(r,".prompt")}`,s=null;if(o.includes(".")){let e=o.split(".");o=e[0],s=e[1]}let a=(0,m.readFileSync)((0,g.join)(t,n??"",r),"utf8"),l=e.dotprompt.parse(a);T(e,V(o,s??void 0,i),(0,d.lazy)(async()=>{let t=await e.dotprompt.renderMetadata(l);s&&(t.variant=s),t.output?.schema?.description===null&&delete t.output.schema.description,t.input?.schema?.description===null&&delete t.input.schema.description;let r={...t.metadata,type:"prompt",prompt:{...t,template:l.template}};return t.raw?.metadata&&(r.metadata={...t.raw?.metadata}),{name:V(o,s??void 0,i),model:t.model,config:t.config,tools:t.tools,description:t.description,output:{jsonSchema:t.output?.schema,format:t.output?.format},input:{jsonSchema:t.input?.schema},metadata:r,maxTurns:t.raw?.maxTurns,toolChoice:t.raw?.toolChoice,returnToolRequests:t.raw?.returnToolRequests,messages:l.template}}))}async function j(e,t,r){return await U(e,t,r?.variant)}function F(e,t,r){return`/prompt/${V(e,t,r)}`}async function U(e,t,r){let n=await e.lookupAction(F(t,r));if(n)return n.__executablePrompt;throw new c.GenkitError({status:"NOT_FOUND",message:`Prompt ${t+(r?` (variant ${r})`:"")} not found`})}function V(e,t,r){return`${r?`${r}/`:""}${e}${t?`.${t}`:""}`}},94147:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{CommonRerankerOptionsSchema:()=>A,RankedDocument:()=>g,RankedDocumentDataSchema:()=>m,RankedDocumentMetadataSchema:()=>f,RerankerInfoSchema:()=>b,defineReranker:()=>S,rerank:()=>T,reranker:()=>_,rerankerRef:()=>C}),e.exports=l(u);var c=r(38591),d=r(11906),h=r(80027),p=r(79665);let f=c.z.object({score:c.z.number()}).passthrough(),m=c.z.object({content:c.z.array(h.PartSchema),metadata:f});class g extends p.Document{content;metadata;constructor(e){super(e),this.content=e.content,this.metadata=e.metadata}score(){return this.metadata.score}}let y=c.z.object({query:p.DocumentDataSchema,documents:c.z.array(p.DocumentDataSchema),options:c.z.any().optional()}),v=c.z.object({documents:c.z.array(m)}),b=c.z.object({label:c.z.string().optional(),supports:c.z.object({media:c.z.boolean().optional()}).optional()});function E(e,t){let r=e;return r.__configSchema=t,r}function S(e,t,r){let n=_(t,r);return e.registerAction("reranker",n),n}function _(e,t){return E((0,c.action)({actionType:"reranker",name:e.name,inputSchema:e.configSchema?y.extend({options:e.configSchema.optional()}):y,outputSchema:v,metadata:{type:"reranker",info:e.info,reranker:{customOptions:e.configSchema?(0,d.toJsonSchema)({schema:e.configSchema}):void 0}}},e=>t(new p.Document(e.query),e.documents.map(e=>new p.Document(e)),e.options)),e.configSchema)}async function T(e,t){let r;if(!(r="string"==typeof t.reranker?await e.lookupAction(`/reranker/${t.reranker}`):Object.hasOwnProperty.call(t.reranker,"info")?await e.lookupAction(`/reranker/${t.reranker.name}`):t.reranker))throw Error("Unable to resolve the reranker");return(await r({query:"string"==typeof t.query?p.Document.fromText(t.query):t.query,documents:t.documents,options:t.options})).documents.map(e=>new g(e))}let A=c.z.object({k:c.z.number().describe("Number of documents to rerank").optional()});function C(e){return{...e}}},86532:(e,t,r)=>{"use strict";var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of s(t))l.call(e,a)||a===r||i(e,a,{get:()=>t[a],enumerable:!(n=o(t,a))||n.enumerable});return e},c=(e,t,r)=>(r=null!=e?n(a(e)):{},u(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)),d=e=>u(i({},"__esModule",{value:!0}),e),h={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(h,{ResourceInputSchema:()=>g,ResourceOutputSchema:()=>y,defineResource:()=>v,dynamicResource:()=>_,findMatchingResource:()=>b,isDynamicResourceAction:()=>E,resource:()=>S}),e.exports=d(h);var p=r(38591),f=c(r(28213)),m=r(60775);let g=p.z.object({uri:p.z.string()}),y=p.z.object({content:p.z.array(m.PartSchema)});function v(e,t,r){let n=_(t,r);return n.matches=T(t.uri,t.template),e.registerAction("resource",n),n}async function b(e,t){for(let r of Object.keys(await e.listResolvableActions()))if(r.startsWith("/resource/")){let n=await e.lookupAction(r);if(n.matches(t))return n}}function E(e){return(0,p.isAction)(e)&&!e.__registry}function S(e,t){return _(e,t)}function _(e,t){let r=e.uri??e.template;if(!r)throw new p.GenkitError({status:"INVALID_ARGUMENT",message:"must specify either url or template options"});let n=T(e.uri,e.template),i=(0,p.action)({actionType:"resource",name:e.name??r,description:e.description,inputSchema:g,outputSchema:y,metadata:{resource:{uri:e.uri,template:e.template},...e.metadata,type:"resource",dynamic:!0}},async(i,o)=>{if(!n(i))throw new p.GenkitError({status:"INVALID_ARGUMENT",message:`input ${i} did not match template ${r}`});let s=await t(i,o);return s.content.map(t=>(t.metadata||(t.metadata={}),t.metadata?.resource?!t.metadata.resource.parent&&(t.metadata.resource.parent={uri:i.uri},e.template&&(t.metadata.resource.parent.template=e.template)):(t.metadata.resource={uri:i.uri},e.template&&(t.metadata.resource.template=e.template)),t)),s});return i.matches=n,i.attach=e=>i,i}function T(e,t){if(e)return t=>t.uri===e;if(t){let e=(0,f.default)(t);return t=>void 0!==e.fromUri(t.uri)}throw new p.GenkitError({status:"INVALID_ARGUMENT",message:"must specify either url or template options"})}},79665:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{CommonRetrieverOptionsSchema:()=>w,Document:()=>p.Document,DocumentDataSchema:()=>p.DocumentDataSchema,IndexerInfoSchema:()=>R,RetrieverInfoSchema:()=>y,defineIndexer:()=>_,defineRetriever:()=>E,defineSimpleRetriever:()=>P,index:()=>C,indexer:()=>T,indexerRef:()=>x,retrieve:()=>A,retriever:()=>S,retrieverRef:()=>O}),e.exports=l(u);var c=r(38591),d=r(11906),h=r(80027),p=r(80027);let f=c.z.object({query:h.DocumentDataSchema,options:c.z.any().optional()}),m=c.z.object({documents:c.z.array(h.DocumentDataSchema)}),g=c.z.object({documents:c.z.array(h.DocumentDataSchema),options:c.z.any().optional()}),y=c.z.object({label:c.z.string().optional(),supports:c.z.object({media:c.z.boolean().optional()}).optional()});function v(e,t){let r=e;return r.__configSchema=t,r}function b(e,t){let r=e;return r.__configSchema=t,r}function E(e,t,r){let n=S(t,r);return e.registerAction("retriever",n),n}function S(e,t){return v((0,c.action)({actionType:"retriever",name:e.name,inputSchema:e.configSchema?f.extend({options:e.configSchema.optional()}):f,outputSchema:m,metadata:{type:"retriever",info:e.info,retriever:{customOptions:e.configSchema?(0,d.toJsonSchema)({schema:e.configSchema}):void 0}}},e=>t(new h.Document(e.query),e.options)),e.configSchema)}function _(e,t,r){let n=T(t,r);return e.registerAction("indexer",n),n}function T(e,t){return b((0,c.action)({actionType:"indexer",name:e.name,inputSchema:e.configSchema?g.extend({options:e.configSchema.optional()}):g,outputSchema:c.z.void(),metadata:{type:"indexer",embedderInfo:e.embedderInfo,indexer:{customOptions:e.configSchema?(0,d.toJsonSchema)({schema:e.configSchema}):void 0}}},e=>t(e.documents.map(e=>new h.Document(e)),e.options)),e.configSchema)}async function A(e,t){let r;if(!(r="string"==typeof t.retriever?await e.lookupAction(`/retriever/${t.retriever}`):Object.hasOwnProperty.call(t.retriever,"info")?await e.lookupAction(`/retriever/${t.retriever.name}`):t.retriever))throw Error("Unable to resolve the retriever");return(await r({query:"string"==typeof t.query?h.Document.fromText(t.query):t.query,options:t.options})).documents.map(e=>new h.Document(e))}async function C(e,t){let r;if(!(r="string"==typeof t.indexer?await e.lookupAction(`/indexer/${t.indexer}`):Object.hasOwnProperty.call(t.indexer,"info")?await e.lookupAction(`/indexer/${t.indexer.name}`):t.indexer))throw Error("Unable to utilize the provided indexer");return await r({documents:t.documents,options:t.options})}let w=c.z.object({k:c.z.number().describe("Number of documents to retrieve").optional()});function O(e){return{...e}}let R=y;function x(e){return{...e}}function I(e,t){if(!e)throw new c.GenkitError({status:"INVALID_ARGUMENT",message:"Items returned from simple retriever must be non-null."});if("string"==typeof e)return h.Document.fromText(e);if("function"==typeof t.content){let r=t.content(e);return"string"==typeof r?h.Document.fromText(r):new h.Document({content:r})}if("string"==typeof t.content&&"object"==typeof e)return h.Document.fromText(e[t.content]);throw new c.GenkitError({status:"INVALID_ARGUMENT",message:`Cannot convert item to document without content option. Item: ${JSON.stringify(e)}`})}function D(e,t){if("string"!=typeof e){if(Array.isArray(t.metadata)&&"object"==typeof e){let r={};return t.metadata.forEach(t=>r[t]=e[t]),r}if("function"==typeof t.metadata)return t.metadata(e);if(!t.metadata&&"object"==typeof e){let r={...e};return"string"==typeof t.content&&delete r[t.content],r}throw new c.GenkitError({status:"INVALID_ARGUMENT",message:`Unable to extract metadata from item with supplied options. Item: ${JSON.stringify(e)}`})}}function P(e,t,r){return E(e,{name:t.name,configSchema:t.configSchema},async(e,n)=>({documents:(await r(e,n)).map(e=>{let r=I(e,t);return"string"!=typeof e&&(r.metadata=D(e,t)),r})}))}},78475:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{Session:()=>f,SessionError:()=>v,getCurrentSession:()=>y,inMemorySessionStore:()=>b,runWithSession:()=>g}),e.exports=l(u);var c=r(38591),d=r(38608),h=r(55569),p=r(42178);class f{constructor(e,t){this.registry=e,this.id=t?.id??(0,d.v4)(),this.sessionData=t?.sessionData??{id:this.id},this.sessionData||(this.sessionData={id:this.id}),this.sessionData.threads||(this.sessionData.threads={}),this.store=t?.store??new E}id;sessionData;store;get state(){return this.sessionData.state}async updateState(e){let t=this.sessionData;t||(t={}),t.state=e,this.sessionData=t,await this.store.save(this.id,t)}async updateMessages(e,t){let r=this.sessionData;r||(r={}),r.threads||(r.threads={}),r.threads[e]=t.map(e=>e.toJSON?e.toJSON():e),this.sessionData=r,await this.store.save(this.id,r)}chat(e,t,r){return g(this.registry,this,()=>{let n,i,o;let s=h.MAIN_THREAD;if(e&&("string"==typeof e?s=e:(0,p.isExecutablePrompt)(e)?i=e:n=e),t&&((0,p.isExecutablePrompt)(t)?i=t:n=t),r&&(n=r),i){let e=n;o=i.render(e?.input,e).then(e=>({...e,messages:(0,p.tagAsPreamble)(e?.messages)}))}else{let e={...n},t=[];e.system&&t.push({role:"system",content:p.Message.parseContent(e.system)}),delete e.system,e.messages&&t.push(...e.messages),e.messages=(0,p.tagAsPreamble)(t),o=Promise.resolve(e)}return new h.Chat(this,o,{thread:s,id:this.id,messages:(this.sessionData?.threads&&this.sessionData?.threads[s])??[]})})}run(e){return g(this.registry,this,e)}toJSON(){return this.sessionData}}let m="ai.session";function g(e,t,r){return(0,c.getAsyncContext)().run(m,t,r)}function y(e){return(0,c.getAsyncContext)().getStore(m)}class v extends Error{constructor(e){super(e)}}function b(){return new E}class E{data={};async get(e){return this.data[e]}async save(e,t){this.data[e]=t}}},34922:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{ToolInterruptError:()=>A,asTool:()=>f,defineInterrupt:()=>T,defineTool:()=>v,dynamicTool:()=>O,isDynamicTool:()=>_,isToolRequest:()=>E,isToolResponse:()=>S,lookupToolByName:()=>g,resolveTools:()=>m,toToolDefinition:()=>y,tool:()=>w}),e.exports=l(u);var c=r(38591),d=r(11906),h=r(88186),p=r(98409);function f(e,t){if(t.__action?.metadata?.type==="tool")return t;let r=e=>((0,h.setCustomMetadataAttributes)({subtype:"tool"}),t(e));return r.__action={...t.__action,metadata:{...t.__action.metadata,type:"tool"}},r}async function m(e,t){return t&&0!==t.length?await Promise.all(t.map(async t=>{if("string"==typeof t)return await g(e,t);if((0,c.isAction)(t))return f(e,t);if((0,p.isExecutablePrompt)(t))return await t.asTool();if(t.name)return await g(e,t.metadata?.originalName||t.name);throw Error("Tools must be strings, tool definitions, or actions.")})):[]}async function g(e,t){let r=await e.lookupAction(t)||await e.lookupAction(`/tool/${t}`)||await e.lookupAction(`/prompt/${t}`);if(!r)throw Error(`Tool ${t} not found`);return r}function y(e){let t=e.__action.name,r=t;t.includes("/")&&(r=t.substring(t.lastIndexOf("/")+1));let n={name:r,description:e.__action.description||"",outputSchema:(0,d.toJsonSchema)({schema:e.__action.outputSchema??c.z.void(),jsonSchema:e.__action.outputJsonSchema}),inputSchema:(0,d.toJsonSchema)({schema:e.__action.inputSchema??c.z.void(),jsonSchema:e.__action.inputJsonSchema})};return t!==r&&(n.metadata={originalName:t}),n}function v(e,t,r){let n=(0,c.defineAction)(e,{...t,actionType:"tool",metadata:{...t.metadata||{},type:"tool"}},(t,n)=>r(t,{...n,context:{...n.context},interrupt:C(e)}));return b(n,t,e),n}function b(e,t,r){e.respond=(e,n,i)=>(r&&(0,c.assertUnstable)(r,"beta","The 'tool.reply' method is part of the 'interrupts' beta feature."),(0,d.parseSchema)(n,{jsonSchema:t.outputJsonSchema,schema:t.outputSchema}),{toolResponse:(0,c.stripUndefinedProps)({name:e.toolRequest.name,ref:e.toolRequest.ref,output:n}),metadata:{interruptResponse:i?.metadata||!0}}),e.restart=(e,n,i)=>{r&&(0,c.assertUnstable)(r,"beta","The 'tool.restart' method is part of the 'interrupts' beta feature.");let o=i?.replaceInput;return o&&(o=(0,d.parseSchema)(o,{schema:t.inputSchema,jsonSchema:t.inputJsonSchema})),{toolRequest:(0,c.stripUndefinedProps)({name:e.toolRequest.name,ref:e.toolRequest.ref,input:o||e.toolRequest.input}),metadata:(0,c.stripUndefinedProps)({...e.metadata,resumed:n||!0,replacedInput:o?e.toolRequest.input:void 0})}}}function E(e){return!!e.toolRequest}function S(e){return!!e.toolResponse}function _(e){return(0,c.isAction)(e)&&!e.__registry}function T(e,t){let{requestMetadata:r,...n}=t;return v(e,n,async(e,{interrupt:r})=>{t.requestMetadata?r("object"==typeof t.requestMetadata?t.requestMetadata:await Promise.resolve(t.requestMetadata(e))):r()})}class A extends Error{constructor(e){super(),this.metadata=e,this.name="ToolInterruptError"}}function C(e){return t=>{throw e&&(0,c.assertUnstable)(e,"beta","Tool interrupts are a beta feature."),new A(t)}}function w(e,t){return O(e,t)}function O(e,t){let r=(0,c.action)({...e,actionType:"tool",metadata:{...e.metadata||{},type:"tool",dynamic:!0}},(e,r)=>{let n=C(r.registry);return t?t(e,{...r,context:{...r.context},interrupt:n}):n()});return b(r,e),r.attach=e=>r,r}},62043:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{LlmResponseSchema:()=>m,LlmStatsSchema:()=>h,ToolCallSchema:()=>f,ToolSchema:()=>p,toToolWireFormat:()=>g}),e.exports=l(u);var c=r(38591),d=r(11906);let h=c.z.object({latencyMs:c.z.number().optional(),inputTokenCount:c.z.number().optional(),outputTokenCount:c.z.number().optional()}),p=c.z.object({name:c.z.string(),description:c.z.string().optional(),schema:c.z.any()}),f=c.z.object({toolName:c.z.string(),arguments:c.z.any()}),m=c.z.object({completion:c.z.string(),toolCalls:c.z.array(f).optional(),stats:h});function g(e){if(e)return e.map(e=>({name:e.__action.name,description:e.__action.description,schema:{input:(0,d.toJsonSchema)({schema:e.__action.inputSchema,jsonSchema:e.__action.inputJsonSchema}),output:(0,d.toJsonSchema)({schema:e.__action.outputSchema,jsonSchema:e.__action.outputJsonSchema})}}))}},51943:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,o=(e,o,s,a)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let l of n(o))i.call(e,l)||l===s||t(e,l,{get:()=>o[l],enumerable:!(a=r(o,l))||a.enumerable});return e},s=e=>o(t({},"__esModule",{value:!0}),e),a={};((e,r)=>{for(var n in r)t(e,n,{get:r[n],enumerable:!0})})(a,{version:()=>l}),e.exports=s(a);let l="1.18.0"},22700:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{StatusCodes:()=>m.StatusCodes,StatusSchema:()=>m.StatusSchema,action:()=>v,actionWithMiddleware:()=>y,defineAction:()=>E,defineActionAsync:()=>S,getStreamingCallback:()=>C,isAction:()=>b,isInRuntimeContext:()=>O,runInActionRuntimeContext:()=>R,runOutsideActionRuntimeContext:()=>x,runWithStreamingCallback:()=>A,sentinelNoopStreamingCallback:()=>T}),e.exports=l(u);var c=r(95093),d=r(75650),h=r(19382),p=r(11906),f=r(88186),m=r(90441);let g=()=>new AbortController().signal;function y(e,t){let r=async(e,t)=>(await r.run(e,t)).result;return r.__action=e.__action,r.run=async(n,i)=>{let o;let s=async(r,n,i)=>{if(r===t.length){let t=await e.run(n,i);return o=t.telemetry,t.result}let a=t[r];if(3===a.length)return a(n,i,async(e,t)=>s(r+1,e||n,t||i));if(2===a.length)return a(n,async e=>s(r+1,e||n,i));throw Error("unspported middleware function shape")};return r.stream=e.stream,{result:await s(0,n,i),telemetry:o}},r}function v(e,t){let r="string"==typeof e.name?e.name:`${e.name.pluginId}/${e.name.actionId}`,n={name:r,description:e.description,inputSchema:e.inputSchema,inputJsonSchema:e.inputJsonSchema,outputSchema:e.outputSchema,outputJsonSchema:e.outputJsonSchema,streamSchema:e.streamSchema,metadata:e.metadata,actionType:e.actionType},i=async(e,t)=>(await i.run(e,t)).result;return(i.__action={...n},i.run=async(n,o)=>{let s,a;n=(0,p.parseSchema)(n,{schema:e.inputSchema,jsonSchema:e.inputJsonSchema});let l=await (0,f.runInNewSpan)({metadata:{name:r},labels:{[f.SPAN_TYPE_ATTR]:"action","genkit:metadata:subtype":e.actionType,...o?.telemetryLabels}},async(l,u)=>{(0,f.setCustomMetadataAttributes)({subtype:e.actionType}),o?.context&&(0,f.setCustomMetadataAttributes)({context:JSON.stringify(o.context)}),s=u.spanContext().traceId,a=u.spanContext().spanId,l.name=r,l.input=n;try{let e=()=>t(n,{...o,context:{...i.__registry?.context,...o?.context??(0,h.getContext)()},streamingRequested:!!o?.onChunk&&o.onChunk!==T,sendChunk:o?.onChunk??T,trace:{traceId:s,spanId:a},registry:i.__registry,abortSignal:o?.abortSignal??g()}),r=await (0,h.runWithContext)(o?.context,e);return l.output=JSON.stringify(r),r}catch(e){throw"object"==typeof e&&(e.traceId=s),e}});return{result:l=(0,p.parseSchema)(l,{schema:e.outputSchema,jsonSchema:e.outputJsonSchema}),telemetry:{traceId:s,spanId:a}}},i.stream=(t,r)=>{let n;let o=new ReadableStream({start(e){n=e},pull(){},cancel(){}}),s=i.run(e.inputSchema?e.inputSchema.parse(t):t,{onChunk:e=>{n.enqueue(e)},context:{...i.__registry?.context,...r?.context??(0,h.getContext)()},abortSignal:r?.abortSignal,telemetryLabels:r?.telemetryLabels}).then(e=>e.result).finally(()=>{n.close()});return{output:s,stream:async function*(){let e=o.getReader();for(;;){let t=await e.read();if(t.value&&(yield t.value),t.done)break}return await s}()}},e.use)?y(i,e.use):i}function b(e){return"function"==typeof e&&"__action"in e}function E(e,t,r){if(O())throw Error("Cannot define new actions at runtime.\nSee: https://github.com/firebase/genkit/blob/main/docs/errors/no_new_actions_at_runtime.md");let n=v(t,async(t,n)=>(await e.initializeAllPlugins(),await R(()=>r(t,n))));return n.__action.actionType=t.actionType,e.registerAction(t.actionType,n),n}function S(e,t,r,n,i){let o="string"==typeof r?r:`${r.pluginId}/${r.actionId}`,s=(0,d.lazy)(()=>n.then(r=>{let n=v(r,async(t,n)=>(await e.initializeAllPlugins(),await R(()=>r.fn(t,n))));return n.__action.actionType=t,i?.(n),n}));return e.registerActionAsync(t,o,s),s}let _="core.action.streamingCallback",T=()=>null;function A(e,t){return(0,c.getAsyncContext)().run(_,e||T,t)}function C(){let e=(0,c.getAsyncContext)().getStore(_);if(e!==T)return e}let w="core.action.runtimeContext";function O(){return"runtime"===(0,c.getAsyncContext)().getStore(w)}function R(e){return(0,c.getAsyncContext)().run(w,"runtime",e)}function x(e){return(0,c.getAsyncContext)().run(w,"outside",e)}},95093:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{getAsyncContext:()=>h,setAsyncContext:()=>p}),e.exports=l(u);var c=r(82268);let d="__genkit_AsyncContext";function h(){if(!global[d])throw new c.GenkitError({status:"FAILED_PRECONDITION",message:"Async context is not initialized."});return global[d]}function p(e){global[d]||(global[d]=e)}},75650:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,o=(e,o,s,a)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let l of n(o))i.call(e,l)||l===s||t(e,l,{get:()=>o[l],enumerable:!(a=r(o,l))||a.enumerable});return e},s=e=>o(t({},"__esModule",{value:!0}),e),a={};function l(){let e,t;let r=new Promise((r,n)=>([e,t]=[r,n]));return{resolve:e,reject:t,promise:r}}((e,r)=>{for(var n in r)t(e,n,{get:r[n],enumerable:!0})})(a,{Channel:()=>u,LazyPromise:()=>c,lazy:()=>d}),e.exports=s(a);class u{ready=l();buffer=[];err=null;send(e){this.buffer.push(e),this.ready.resolve()}close(){this.buffer.push(null),this.ready.resolve()}error(e){this.err=e,this.ready.reject(e)}[Symbol.asyncIterator](){return{next:async()=>{if(this.err)throw this.err;this.buffer.length||await this.ready.promise;let e=this.buffer.shift();return this.buffer.length||(this.ready=l()),{value:e,done:!e}}}}}class c{executor;promise;constructor(e){this.executor=e}then(e,t){return this.promise??=new Promise(this.executor),this.promise.then(e,t)}}function d(e){return new c((t,r)=>{try{t(e())}catch(e){r(e)}})}},53240:(e,t,r)=>{"use strict";var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of s(t))l.call(e,a)||a===r||i(e,a,{get:()=>t[a],enumerable:!(n=o(t,a))||n.enumerable});return e},c=(e,t,r)=>(r=null!=e?n(a(e)):{},u(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)),d=e=>u(i({},"__esModule",{value:!0}),e),h={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(h,{OperationSchema:()=>y,backgroundAction:()=>_,defineBackgroundAction:()=>E,isBackgroundAction:()=>T,lookupBackgroundAction:()=>v,registerBackgroundAction:()=>S}),e.exports=d(h);var p=c(r(17334)),f=r(22700),m=r(82268),g=r(11906);let y=p.object({action:p.string().optional(),id:p.string(),done:p.boolean().optional(),output:p.any().optional(),error:p.object({message:p.string()}).passthrough().optional(),metadata:p.record(p.string(),p.any()).optional()});async function v(e,t){let r=await e.lookupAction(t);if(!r)return;let n=t.substring(t.indexOf("/",1)+1);return new b(r,await e.lookupAction(`/check-operation/${n}/check`),await e.lookupAction(`/cancel-operation/${n}/cancel`))}class b{__action;startAction;checkAction;cancelAction;constructor(e,t,r){this.__action={name:e.__action.name,description:e.__action.description,inputSchema:e.__action.inputSchema,inputJsonSchema:e.__action.inputJsonSchema,metadata:e.__action.metadata,actionType:e.__action.actionType},this.startAction=e,this.checkAction=t,this.cancelAction=r}async start(e,t){return await this.startAction(e,t)}async check(e){return await this.checkAction(e)}get supportsCancel(){return!!this.cancelAction}async cancel(e){return this.cancelAction?await this.cancelAction(e):e}}function E(e,t){let r=_(t);return S(e,r),r}function S(e,t,r){e.registerAction(t.startAction.__action.actionType,t.startAction,r),e.registerAction(t.checkAction.__action.actionType,t.checkAction,r),t.cancelAction&&e.registerAction(t.cancelAction.__action.actionType,t.cancelAction,r)}function _(e){let t;let r=(0,f.action)({actionType:e.actionType,name:e.name,description:e.description,inputSchema:e.inputSchema,inputJsonSchema:e.inputJsonSchema,outputSchema:y,metadata:{...e.metadata,outputSchema:(0,g.toJsonSchema)({schema:e.outputSchema,jsonSchema:e.outputJsonSchema})},use:e.use},async(t,r)=>{let n=await e.start(t,r);return n.action=`/${e.actionType}/${e.name}`,n}),n=(0,f.action)({actionType:"check-operation",name:`${e.name}/check`,description:e.description,inputSchema:y,inputJsonSchema:e.inputJsonSchema,outputSchema:y,metadata:{...e.metadata,outputSchema:(0,g.toJsonSchema)({schema:e.outputSchema,jsonSchema:e.outputJsonSchema})}},async t=>{let r=await e.check(t);return r.action=`/${e.actionType}/${e.name}`,r});return e.cancel&&(t=(0,f.action)({actionType:"cancel-operation",name:`${e.name}/cancel`,description:e.description,inputSchema:y,inputJsonSchema:e.inputJsonSchema,outputSchema:y,metadata:{...e.metadata,outputSchema:(0,g.toJsonSchema)({schema:e.outputSchema,jsonSchema:e.outputJsonSchema})}},async t=>{if(!e.cancel)throw new m.GenkitError({status:"UNAVAILABLE",message:`${e.name} does not support cancellation.`});let r=await e.cancel(t);return r.action=`/${e.actionType}/${e.name}`,r})),new b(r,n,t)}function T(e){return e instanceof b}},19382:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{apiKey:()=>g,getContext:()=>m,runWithContext:()=>f}),e.exports=l(u);var c=r(22700),d=r(95093),h=r(82268);let p="core.auth.context";function f(e,t){return void 0===e?t():(0,d.getAsyncContext)().run(p,e,()=>(0,c.runInActionRuntimeContext)(t))}function m(){return(0,d.getAsyncContext)().getStore(p)}function g(e){return async t=>{let r={auth:{apiKey:t.headers.authorization}};if("string"==typeof e){if(!r.auth?.apiKey)throw console.error("THROWING UNAUTHENTICATED"),new h.UserFacingError("UNAUTHENTICATED","Unauthenticated");if(r.auth?.apiKey!=e)throw console.error("Throwing PERMISSION_DENIED"),new h.UserFacingError("PERMISSION_DENIED","Permission Denied")}else if("function"==typeof e)await e(r);else if(void 0!==e)throw Error(`Invalid type ${typeof e} passed to apiKey()`);return r}}},82268:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{GenkitError:()=>d,UnstableApiError:()=>h,UserFacingError:()=>f,assertUnstable:()=>p,getCallableJSON:()=>g,getErrorMessage:()=>y,getErrorStack:()=>v,getHttpStatus:()=>m}),e.exports=l(u);var c=r(90441);class d extends Error{source;status;detail;code;originalMessage;constructor({status:e,message:t,detail:r,source:n}){super(`${n?`${n}: `:""}${e}: ${t}`),this.originalMessage=t,this.code=(0,c.httpStatusCode)(e),this.status=e,this.detail=r,this.name="GenkitError"}toJSON(){return{...void 0===this.detail?{}:{details:this.detail},status:this.status,message:this.originalMessage}}}class h extends d{constructor(e,t){super({status:"FAILED_PRECONDITION",message:`${t?t+" ":""}This API requires '${e}' stability level.

To use this feature, initialize Genkit using \`import {genkit} from "genkit/${e}"\`.`}),this.name="UnstableApiError"}}function p(e,t,r){if("beta"===t&&"stable"===e.apiStability)throw new h(t,r)}class f extends d{constructor(e,t,r){super({status:e,detail:r,message:t}),super.name="UserFacingError"}}function m(e){return e instanceof d?e.code:500}function g(e){return e instanceof d?e.toJSON():{message:"Internal Error",status:"INTERNAL"}}function y(e){return e instanceof Error?e.message:`${e}`}function v(e){if(e instanceof Error)return e.stack}},4753:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{defineFlow:()=>p,flow:()=>h,run:()=>m}),e.exports=l(u);var c=r(22700),d=r(88186);function h(e,t){return f("string"==typeof e?{name:e}:e,t)}function p(e,t,r){let n=h(t,r);return e.registerAction("flow",n),n}function f(e,t){return(0,c.action)({actionType:"flow",name:e.name,inputSchema:e.inputSchema,outputSchema:e.outputSchema,streamSchema:e.streamSchema,metadata:e.metadata},async(e,{sendChunk:r,context:n,trace:i,abortSignal:o,streamingRequested:s})=>{let a=r;return a.sendChunk=r,a.context=n,a.trace=i,a.abortSignal=o,a.streamingRequested=s,t(e,a)})}function m(e,t,r,n){let i,o;let s=!1;if("function"==typeof t?i=t:(o=t,s=!0),"function"==typeof r&&(i=r),!i)throw Error("unable to resolve run function");return(0,d.runInNewSpan)({metadata:{name:e},labels:{[d.SPAN_TYPE_ATTR]:"flowStep"}},async e=>{e.input=o;let t=s?await i(o):await i();return e.output=JSON.stringify(t),t})}},38591:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=(e,t,r)=>(a(e,t,"default"),r&&a(r,t,"default")),u=e=>a(n({},"__esModule",{value:!0}),e),c={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(c,{GENKIT_CLIENT_HEADER:()=>E,GENKIT_REFLECTION_API_SPEC_VERSION:()=>S,GENKIT_VERSION:()=>b,GenkitError:()=>g.GenkitError,OperationSchema:()=>f.OperationSchema,UnstableApiError:()=>g.UnstableApiError,UserFacingError:()=>g.UserFacingError,apiKey:()=>m.apiKey,assertUnstable:()=>g.assertUnstable,backgroundAction:()=>f.backgroundAction,defineBackgroundAction:()=>f.defineBackgroundAction,defineFlow:()=>y.defineFlow,defineJsonSchema:()=>v.defineJsonSchema,defineSchema:()=>v.defineSchema,flow:()=>y.flow,getAsyncContext:()=>p.getAsyncContext,getCallableJSON:()=>g.getCallableJSON,getClientHeader:()=>T,getContext:()=>m.getContext,getHttpStatus:()=>g.getHttpStatus,isBackgroundAction:()=>f.isBackgroundAction,registerBackgroundAction:()=>f.registerBackgroundAction,run:()=>y.run,runWithContext:()=>m.runWithContext,setClientHeader:()=>A,z:()=>h.z}),e.exports=u(c);var d=r(51943),h=r(17334);l(c,r(22700),e.exports);var p=r(95093),f=r(53240),m=r(19382),g=r(82268),y=r(4753);l(c,r(84535),e.exports),l(c,r(45174),e.exports);var v=r(11906);l(c,r(6504),e.exports),l(c,r(40806),e.exports);let b=d.version,E=`genkit-node/${b} gl-node/${process.versions.node}`,S=1,_="__genkit_ClientHeader";function T(){return global[_]?E+" "+global[_]:E}function A(e){global[_]=e}},72997:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,o=(e,o,s,a)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let l of n(o))i.call(e,l)||l===s||t(e,l,{get:()=>o[l],enumerable:!(a=r(o,l))||a.enumerable});return e},s=e=>o(t({},"__esModule",{value:!0}),e),a={};((e,r)=>{for(var n in r)t(e,n,{get:r[n],enumerable:!0})})(a,{logger:()=>p}),e.exports=s(a);let l=["debug","info","warn","error"],u="__genkit_logger",c={shouldLog(e){return l.indexOf(this.level)<=l.indexOf(e)},debug(...e){this.shouldLog("debug")&&console.debug(...e)},info(...e){this.shouldLog("info")&&console.info(...e)},warn(...e){this.shouldLog("warn")&&console.warn(...e)},error(...e){this.shouldLog("error")&&console.error(...e)},level:"info"};function d(){return global[u]||(global[u]=c),global[u]}class h{defaultLogger=c;init(e){global[u]=e}info(...e){d().info.apply(d(),e)}debug(...e){d().debug.apply(d(),e)}error(...e){d().error.apply(d(),e)}warn(...e){d().warn.apply(d(),e)}setLogLevel(e){d().level=e}logStructured(e,t){d().info(e,t)}logStructuredError(e,t){d().error(e,t)}}let p=new h},12712:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{NodeAsyncContext:()=>h,initNodeAsyncContext:()=>p}),e.exports=l(u);var c=r(92761),d=r(95093);class h{asls={};getStore(e){return this.asls[e]?.getStore()}run(e,t,r){return this.asls[e]||(this.asls[e]=new c.AsyncLocalStorage),this.asls[e].run(t,r)}}function p(){(0,d.setAsyncContext)(new h)}},20736:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{initNodeFeatures:()=>h}),e.exports=l(u);var c=r(12712),d=r(31495);function h(){(0,c.initNodeAsyncContext)(),(0,d.initNodeTelemetryProvider)()}},84535:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,o=(e,o,s,a)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let l of n(o))i.call(e,l)||l===s||t(e,l,{get:()=>o[l],enumerable:!(a=r(o,l))||a.enumerable});return e},s=e=>o(t({},"__esModule",{value:!0}),e),a={};e.exports=s(a)},45174:(e,t,r)=>{"use strict";e=r.nmd(e);var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of s(t))l.call(e,a)||a===r||i(e,a,{get:()=>t[a],enumerable:!(n=o(t,a))||n.enumerable});return e},c=(e,t,r)=>(r=null!=e?n(a(e)):{},u(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)),d=e=>u(i({},"__esModule",{value:!0}),e),h={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(h,{ReflectionServer:()=>A,RunActionResponseSchema:()=>T}),e.exports=d(h);var p=c(r(66860)),f=c(r(73292)),m=c(r(95896)),g=c(r(71017)),y=c(r(17334)),v=r(22700),b=r(38591),E=r(72997),S=r(11906),_=r(88186);let T=y.object({result:y.unknown().optional(),error:y.unknown().optional(),telemetry:y.object({traceId:y.string().optional()}).optional()});class A{static RUNNING_SERVERS=[];registry;options;port=null;server=null;runtimeFilePath=null;constructor(e,t){this.registry=e,this.options={port:3100,bodyLimit:"30mb",configuredEnvs:["dev"],...t}}async findPort(){let e=this.options.port,t=await (0,m.default)({port:(0,m.makeRange)(e,e+100)});return t!==e&&E.logger.warn(`Port ${e} is already in use, using next available port ${t} instead.`),t}async start(){let e=(0,p.default)();e.use(p.default.json({limit:this.options.bodyLimit})),e.use((e,t,r)=>{t.header("x-genkit-version",b.GENKIT_VERSION),r()}),e.get("/api/__health",async(e,t)=>{await this.registry.listActions(),t.status(200).send("OK")}),e.get("/api/__quitquitquit",async(e,t)=>{E.logger.debug("Received quitquitquit"),t.status(200).send("OK"),await this.stop()}),e.get("/api/actions",async(e,t,r)=>{E.logger.debug("Fetching actions.");try{let e=await this.registry.listResolvableActions(),r={};Object.keys(e).forEach(t=>{let n=e[t];r[t]={key:t,name:n.name,description:n.description,metadata:n.metadata},(n.inputSchema||n.inputJsonSchema)&&(r[t].inputSchema=(0,S.toJsonSchema)({schema:n.inputSchema,jsonSchema:n.inputJsonSchema})),(n.outputSchema||n.outputJsonSchema)&&(r[t].outputSchema=(0,S.toJsonSchema)({schema:n.outputSchema,jsonSchema:n.outputJsonSchema}))}),t.send(r)}catch(n){let{message:e,stack:t}=n;r({message:e,stack:t})}}),e.post("/api/runAction",async(e,t,r)=>{let{key:n,input:i,context:o,telemetryLabels:s}=e.body,{stream:a}=e.query;E.logger.debug(`Running action \`${n}\` with stream=${a}...`);try{let e=await this.registry.lookupAction(n);if(!e){t.status(404).send(`action ${n} not found`);return}if("true"===a)try{let r=e=>{t.write(JSON.stringify(e)+"\n")},n=await e.run(i,{context:o,onChunk:r,telemetryLabels:s});await (0,_.flushTracing)(),t.write(JSON.stringify({result:n.result,telemetry:{traceId:n.telemetry.traceId}})),t.end()}catch(i){let{message:e,stack:r}=i,n={code:v.StatusCodes.INTERNAL,message:e,details:{stack:r}};i.traceId&&(n.details.traceId=i.traceId),t.write(JSON.stringify({error:n})),t.end()}else{let r=await e.run(i,{context:o,telemetryLabels:s});await (0,_.flushTracing)(),t.send({result:r.result,telemetry:{traceId:r.telemetry.traceId}})}}catch(i){let{message:e,stack:t,traceId:n}=i;r({message:e,stack:t,traceId:n})}}),e.get("/api/envs",async(e,t)=>{t.json(this.options.configuredEnvs)}),e.post("/api/notify",async(e,t)=>{let{telemetryServerUrl:r,reflectionApiSpecVersion:n}=e.body;process.env.GENKIT_TELEMETRY_SERVER||"string"!=typeof r||((0,_.setTelemetryServerUrl)(r),E.logger.debug(`Connected to telemetry server on ${r}`)),n!==b.GENKIT_REFLECTION_API_SPEC_VERSION&&(!n||n<b.GENKIT_REFLECTION_API_SPEC_VERSION?E.logger.warn("WARNING: Genkit CLI version may be outdated. Please update `genkit-cli` to the latest version."):E.logger.warn(`Genkit CLI is newer than runtime library. Some feature may not be supported. Consider upgrading your runtime library version (debug info: expected ${b.GENKIT_REFLECTION_API_SPEC_VERSION}, got ${n}).`)),t.status(200).send("OK")}),e.use((e,t,r,n)=>{E.logger.error(e.stack);let{message:i,stack:o}=e,s={code:v.StatusCodes.INTERNAL,message:i,details:{stack:o}};e.traceId&&(s.details.traceId=e.traceId),r.status(500).json(s)}),this.port=await this.findPort(),this.server=e.listen(this.port,async()=>{E.logger.debug(`Reflection server (${process.pid}) running on http://localhost:${this.port}`),A.RUNNING_SERVERS.push(this),await this.writeRuntimeFile()})}async stop(){if(this.server)return new Promise(async(e,t)=>{await this.cleanupRuntimeFile(),this.server.close(async r=>{r&&(E.logger.error(`Error shutting down reflection server on port ${this.port}: ${r}`),t(r));let n=A.RUNNING_SERVERS.indexOf(this);n>-1&&A.RUNNING_SERVERS.splice(n,1),E.logger.debug(`Reflection server on port ${this.port} has successfully shut down.`),this.port=null,this.server=null,e()})})}async writeRuntimeFile(){try{let e=await C(),t=g.default.join(e,".genkit","runtimes"),r=new Date,n=r.getTime(),i=r.toISOString(),o=`${process.pid}${null!==this.port?`-${this.port}`:""}`;this.runtimeFilePath=g.default.join(t,`${o}-${n}.json`);let s=JSON.stringify({id:process.env.GENKIT_RUNTIME_ID||o,pid:process.pid,name:this.options.name,reflectionServerUrl:`http://localhost:${this.port}`,timestamp:i,genkitVersion:`nodejs/${b.GENKIT_VERSION}`,reflectionApiSpecVersion:b.GENKIT_REFLECTION_API_SPEC_VERSION},null,2);await f.default.mkdir(t,{recursive:!0}),await f.default.writeFile(this.runtimeFilePath,s,"utf8"),E.logger.debug(`Runtime file written: ${this.runtimeFilePath}`)}catch(e){E.logger.error(`Error writing runtime file: ${e}`)}}async cleanupRuntimeFile(){if(this.runtimeFilePath)try{let e=await f.default.readFile(this.runtimeFilePath,"utf8");JSON.parse(e).pid===process.pid&&(await f.default.unlink(this.runtimeFilePath),E.logger.debug(`Runtime file cleaned up: ${this.runtimeFilePath}`))}catch(e){E.logger.error(`Error cleaning up runtime file: ${e}`)}}static async stopAll(){return Promise.all(A.RUNNING_SERVERS.map(e=>e.stop()))}}async function C(){let e=process.cwd();for(;e!==g.default.parse(e).root;){let t=g.default.join(e,"package.json");try{return await f.default.access(t),e}catch{e=g.default.dirname(e)}}throw Error("Could not find project root (package.json not found)")}"hot"in e&&(e.hot.accept(),e.hot.dispose(async()=>{E.logger.debug("Cleaning up reflection server(s) before module reload..."),await A.stopAll()}))},90664:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{Registry:()=>v,parseRegistryKey:()=>y}),e.exports=l(u);var c=r(70629),d=r(22700),h=r(53240),p=r(82268),f=r(72997),m=r(11906);function g(e){let t=e.split("/");if(t.length>=4)return t[2]}function y(e){let t=e.split("/");return t.length<3?void 0:t.length>=4?{actionType:t[1],pluginName:t[2],actionName:t.slice(3).join("/")}:{actionType:t[1],actionName:t[2]}}class v{actionsById={};pluginsByName={};schemasByName={};valueByTypeAndName={};allPluginsInitialized=!1;apiStability="stable";dotprompt;parent;context;constructor(e){e?(this.parent=e,this.apiStability=e?.apiStability,this.dotprompt=e.dotprompt):this.dotprompt=new c.Dotprompt({schemaResolver:async e=>{let t=await this.lookupSchema(e);if(!t)throw new p.GenkitError({message:`Schema '${e}' not found`,status:"NOT_FOUND"});return(0,m.toJsonSchema)(t)}})}static withParent(e){return new v(e)}async lookupAction(e){let t=y(e);return t?.pluginName&&this.pluginsByName[t.pluginName]&&(await this.initializePlugin(t.pluginName),this.actionsById[e]||await this.resolvePluginAction(t.pluginName,t.actionType,t.actionName)),await this.actionsById[e]||this.parent?.lookupAction(e)}async lookupBackgroundAction(e){return(0,h.lookupBackgroundAction)(this,e)}registerAction(e,t,r){if(e!==t.__action.actionType)throw new p.GenkitError({status:"INVALID_ARGUMENT",message:`action type (${e}) does not match type on action (${t.__action.actionType})`});r?.namespace&&!t.__action.name.startsWith(`${r.namespace}/`)&&(t.__action.name=`${r.namespace}/${t.__action.name}`);let n=`/${e}/${t.__action.name}`;f.logger.debug(`registering ${n}`),this.actionsById.hasOwnProperty(n)&&f.logger.warn(`WARNING: ${n} already has an entry in the registry. Overwriting.`),this.actionsById[n]=t,t.__registry&&f.logger.error(`ERROR: ${n} already registered.`),t.__registry=this}registerActionAsync(e,t,r,n){n?.namespace&&!t.startsWith(`${n.namespace}/`)&&(t=`${n.namespace}/${t}`);let i=`/${e}/${t}`;f.logger.debug(`registering ${i} (async)`),this.actionsById.hasOwnProperty(i)&&f.logger.warn(`WARNING: ${i} already has an entry in the registry. Overwriting.`),this.actionsById[i]=r}async listActions(){await this.initializeAllPlugins();let e={};return await Promise.all(Object.entries(this.actionsById).map(async([t,r])=>{e[t]=await r})),{...await this.parent?.listActions(),...e}}async listResolvableActions(){let e={};for(let[t,r]of(await Promise.all(Object.entries(this.pluginsByName).map(async([t,r])=>{if(r.listActions)try{(await r.listActions()).forEach(r=>{if(!r.name)throw new p.GenkitError({status:"INVALID_ARGUMENT",message:`Invalid metadata when listing actions from ${t} - name required`});if(!r.actionType)throw new p.GenkitError({status:"INVALID_ARGUMENT",message:`Invalid metadata when listing actions from ${t} - actionType required`});e[`/${r.actionType}/${r.name}`]=r})}catch(e){f.logger.error(`Error listing actions for ${t}
`,e)}})),Object.entries(await this.listActions())))e[t]=r.__action;return{...await this.parent?.listResolvableActions(),...e}}async initializeAllPlugins(){if(!this.allPluginsInitialized){for(let e of Object.keys(this.pluginsByName))await this.initializePlugin(e);this.allPluginsInitialized=!0}}registerPluginProvider(e,t){let r;if(this.pluginsByName[e])throw Error(`Plugin ${e} already registered`);this.allPluginsInitialized=!1;let n=!1;this.pluginsByName[e]={name:t.name,initializer:()=>(n||(r=t.initializer(),n=!0),r),resolver:async(e,r)=>{t.resolver&&await t.resolver(e,r)},listActions:async()=>t.listActions?await t.listActions():[]}}lookupPlugin(e){return this.pluginsByName[e]||this.parent?.lookupPlugin(e)}async resolvePluginAction(e,t,r){let n=this.pluginsByName[e];if(n)return await (0,d.runOutsideActionRuntimeContext)(async()=>{n.resolver&&await n.resolver(t,r)})}async initializePlugin(e){if(this.pluginsByName[e])return await (0,d.runOutsideActionRuntimeContext)(()=>this.pluginsByName[e].initializer())}registerSchema(e,t){if(this.schemasByName[e])throw Error(`Schema ${e} already registered`);this.schemasByName[e]=t}registerValue(e,t,r){this.valueByTypeAndName[e]||(this.valueByTypeAndName[e]={}),this.valueByTypeAndName[e][t]=r}async lookupValue(e,t){let r=g(t);return!this.valueByTypeAndName[e]?.[t]&&r&&await this.initializePlugin(r),this.valueByTypeAndName[e]?.[t]||this.parent?.lookupValue(e,t)}async listValues(e){return await this.initializeAllPlugins(),{...await this.parent?.listValues(e)||{},...this.valueByTypeAndName[e]||{}}}lookupSchema(e){return this.schemasByName[e]||this.parent?.lookupSchema(e)}}},11906:(e,t,r)=>{"use strict";var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of s(t))l.call(e,a)||a===r||i(e,a,{get:()=>t[a],enumerable:!(n=o(t,a))||n.enumerable});return e},c=(e,t,r)=>(r=null!=e?n(a(e)):{},u(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)),d=e=>u(i({},"__esModule",{value:!0}),e),h={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(h,{ValidationError:()=>S,defineJsonSchema:()=>O,defineSchema:()=>w,parseSchema:()=>C,toJsonSchema:()=>_,validateSchema:()=>A,z:()=>m.z}),e.exports=d(h);var p=c(r(9558)),f=c(r(23291)),m=r(17334),g=c(r(8665)),y=r(82268);let v=new p.default;(0,f.default)(v);let b=new WeakMap,E=new WeakMap;class S extends y.GenkitError{constructor({data:e,errors:t,schema:r}){super({status:"INVALID_ARGUMENT",message:`Schema validation failed. Parse Errors:

${t.map(e=>`- ${e.path}: ${e.message}`).join("\n")}

Provided data:

${JSON.stringify(e,null,2)}

Required JSON schema:

${JSON.stringify(r,null,2)}`,detail:{errors:t,schema:r}})}}function _({jsonSchema:e,schema:t}){if(!e&&!t)return null;if(e)return e;if(b.has(t))return b.get(t);let r=(0,g.default)(t,{$refStrategy:"none",removeAdditionalStrategy:"strict"});return b.set(t,r),r}function T(e){return{path:e.instancePath.substring(1).replace(/\//g,".")||"(root)",message:e.message}}function A(e,t){let r=_(t);if(!r)return{valid:!0,schema:r};let n=E.get(r)||v.compile(r),i=n(e),o=n.errors?.map(e=>e);return{valid:i,errors:o?.map(T),schema:r}}function C(e,t){let{valid:r,errors:n,schema:i}=A(e,t);if(!r)throw new S({data:e,errors:n,schema:i});return e}function w(e,t,r){return e.registerSchema(t,{schema:r}),r}function O(e,t,r){return e.registerSchema(t,{jsonSchema:r}),r}},90441:(e,t,r)=>{"use strict";let n;var i=Object.create,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,l=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,c=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of a(t))u.call(e,i)||i===r||o(e,i,{get:()=>t[i],enumerable:!(n=s(t,i))||n.enumerable});return e},d=(e,t,r)=>(r=null!=e?i(l(e)):{},c(!t&&e&&e.__esModule?r:o(r,"default",{value:e,enumerable:!0}),e)),h=e=>c(o({},"__esModule",{value:!0}),e),p={};((e,t)=>{for(var r in t)o(e,r,{get:t[r],enumerable:!0})})(p,{StatusCodes:()=>m,StatusNameSchema:()=>g,StatusSchema:()=>E,httpStatusCode:()=>v}),e.exports=h(p);var f=d(r(17334)),m=((n=m||{})[n.OK=0]="OK",n[n.CANCELLED=1]="CANCELLED",n[n.UNKNOWN=2]="UNKNOWN",n[n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",n[n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",n[n.NOT_FOUND=5]="NOT_FOUND",n[n.ALREADY_EXISTS=6]="ALREADY_EXISTS",n[n.PERMISSION_DENIED=7]="PERMISSION_DENIED",n[n.UNAUTHENTICATED=16]="UNAUTHENTICATED",n[n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",n[n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",n[n.ABORTED=10]="ABORTED",n[n.OUT_OF_RANGE=11]="OUT_OF_RANGE",n[n.UNIMPLEMENTED=12]="UNIMPLEMENTED",n[n.INTERNAL=13]="INTERNAL",n[n.UNAVAILABLE=14]="UNAVAILABLE",n[n.DATA_LOSS=15]="DATA_LOSS",n);let g=f.enum(["OK","CANCELLED","UNKNOWN","INVALID_ARGUMENT","DEADLINE_EXCEEDED","NOT_FOUND","ALREADY_EXISTS","PERMISSION_DENIED","UNAUTHENTICATED","RESOURCE_EXHAUSTED","FAILED_PRECONDITION","ABORTED","OUT_OF_RANGE","UNIMPLEMENTED","INTERNAL","UNAVAILABLE","DATA_LOSS"]),y={OK:200,CANCELLED:499,UNKNOWN:500,INVALID_ARGUMENT:400,DEADLINE_EXCEEDED:504,NOT_FOUND:404,ALREADY_EXISTS:409,PERMISSION_DENIED:403,UNAUTHENTICATED:401,RESOURCE_EXHAUSTED:429,FAILED_PRECONDITION:400,ABORTED:409,OUT_OF_RANGE:400,UNIMPLEMENTED:501,INTERNAL:500,UNAVAILABLE:503,DATA_LOSS:500};function v(e){if(!(e in y))throw Error(`Invalid status code ${e}`);return y[e]}let b=f.nativeEnum(m),E=f.object({code:b,message:f.string(),details:f.any().optional()})},6504:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,o=(e,o,s,a)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let l of n(o))i.call(e,l)||l===s||t(e,l,{get:()=>o[l],enumerable:!(a=r(o,l))||a.enumerable});return e},s=e=>o(t({},"__esModule",{value:!0}),e),a={};e.exports=s(a)},88186:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=(e,t,r)=>(a(e,t,"default"),r&&a(r,t,"default")),u=e=>a(n({},"__esModule",{value:!0}),e),c={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(c,{enableTelemetry:()=>b,ensureBasicTelemetryInstrumentation:()=>m,flushTracing:()=>E,setTelemetryProvider:()=>v}),e.exports=u(c);var d=r(82268),h=r(72997);l(c,r(99649),e.exports),l(c,r(15342),e.exports),l(c,r(22543),e.exports);let p="__GENKIT_TELEMETRY_INSTRUMENTED",f="__GENKIT_TELEMETRY_PROVIDER";async function m(){if(await g(),global[p])return await global[p];await b({})}async function g(){if(!global[p]&&"true"===process.env.ENABLE_FIREBASE_MONITORING)try{let e=Function("moduleName","return import(moduleName)");(await e("@genkit-ai/firebase")).enableFirebaseTelemetry()}catch(e){h.logger.warn("It looks like you're trying to enable firebase monitoring, but haven't installed the firebase plugin. Please run `npm i --save @genkit-ai/firebase` and redeploy.")}}function y(){if(global[f])return global[f];throw new d.GenkitError({status:"FAILED_PRECONDITION",message:"TelemetryProvider is not initialized."})}function v(e){global[f]||(global[f]=e)}async function b(e){return global[p]=e instanceof Promise?e:Promise.resolve(),y().enableTelemetry(e)}async function E(){return y().flushTracing()}},99649:(e,t,r)=>{"use strict";let n;var i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,l=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of s(t))a.call(e,l)||l===r||i(e,l,{get:()=>t[l],enumerable:!(n=o(t,l))||n.enumerable});return e},u=e=>l(i({},"__esModule",{value:!0}),e),c={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(c,{TraceServerExporter:()=>g,setTelemetryServerUrl:()=>m,telemetryServerUrl:()=>n}),e.exports=u(c);var d=r(38626),h=r(4544),p=r(72997),f=r(40806);function m(e){n=e}class g{export(e,t){this._sendSpans(e,t)}shutdown(){return this._sendSpans([]),this.forceFlush()}_exportInfo(e){let t={spanId:e.spanContext().spanId,traceId:e.spanContext().traceId,startTime:y(e.startTime),endTime:y(e.endTime),attributes:{...e.attributes},displayName:e.name,links:e.links,spanKind:d.SpanKind[e.kind],parentSpanId:e.parentSpanId,sameProcessAsParentSpan:{value:!e.spanContext().isRemote},status:e.status,timeEvents:{timeEvent:e.events.map(e=>({time:y(e.time),annotation:{attributes:e.attributes??{},description:e.name}}))}};return void 0!==e.instrumentationLibrary&&(t.instrumentationLibrary={name:e.instrumentationLibrary.name},void 0!==e.instrumentationLibrary.schemaUrl&&(t.instrumentationLibrary.schemaUrl=e.instrumentationLibrary.schemaUrl),void 0!==e.instrumentationLibrary.version&&(t.instrumentationLibrary.version=e.instrumentationLibrary.version)),(0,f.deleteUndefinedProps)(t),t}forceFlush(){return Promise.resolve()}async _sendSpans(e,t){let r={};for(let t of e)r[t.spanContext().traceId]||(r[t.spanContext().traceId]=[]),r[t.spanContext().traceId].push(t);let n=!1;for(let e of Object.keys(r)){try{await this.save(e,r[e])}catch(t){n=!0,p.logger.error(`Failed to save trace ${e}`,t)}if(t)return t({code:n?h.ExportResultCode.FAILED:h.ExportResultCode.SUCCESS})}}async save(e,t){if(!n){p.logger.debug(`Telemetry server is not configured, trace ${e} not saved!`);return}let r={traceId:e,spans:{}};for(let e of t){let t=this._exportInfo(e);r.spans[t.spanId]=t,t.parentSpanId||(r.displayName=t.displayName,r.startTime=t.startTime,r.endTime=t.endTime)}await fetch(`${n}/api/traces`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)})}}function y(e){return(0,h.hrTimeToMilliseconds)(e)}},15342:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{ATTR_PREFIX:()=>m,SPAN_TYPE_ATTR:()=>g,appendSpan:()=>E,disableOTelRootSpanDetection:()=>P,runInNewSpan:()=>b,setCustomMetadataAttribute:()=>T,setCustomMetadataAttributes:()=>A,spanMetadataAlsKey:()=>f,toDisplayPath:()=>C}),e.exports=l(u);var c=r(38626),d=r(38846),h=r(95093),p=r(88186);let f="core.tracing.instrumentation.span",m="genkit",g=m+":type",y="genkit-tracer",v="v1";async function b(e,t,r){let n,i;3==arguments.length?(n=t,i=r):(n=e,i=t),await (0,p.ensureBasicTelemetryInstrumentation)();let o=c.trace.getTracer(y,v),s=(0,h.getAsyncContext)().getStore(f),a=s?.metadata?.isRoot===!0;s||(n.metadata.isRoot||=!0);let l={links:n.links};return D()||(l.root=n.metadata.isRoot),await o.startActiveSpan(n.metadata.name,l,async e=>{n.labels&&e.setAttributes(n.labels);let t={...s,metadata:n.metadata};try{n.metadata.path=O(n.metadata.name,s?.metadata?.path||"",n.labels);let r=await (0,h.getAsyncContext)().run(f,t,()=>i(n.metadata,e,a));return"error"!==n.metadata.state&&(n.metadata.state="success"),R(n.metadata,t),r}catch(r){throw R(n.metadata,t,r),n.metadata.state="error",e.setStatus({code:c.SpanStatusCode.ERROR,message:S(r)}),r instanceof Error&&e.recordException(r),"object"==typeof r&&(r.ignoreFailedSpan||(n.metadata.isFailureSource=!0),r.ignoreFailedSpan=!0),r}finally{e.setAttributes(_(n.metadata)),e.end()}})}async function E(e,t,r,n){await (0,p.ensureBasicTelemetryInstrumentation)();let i=c.trace.getTracer(y,v),o=c.trace.setSpanContext(c.ROOT_CONTEXT,{traceId:e,traceFlags:1,spanId:t}),s=i.startSpan(r.name,{},o);s.setAttributes(_(r)),n&&s.setAttributes(n),s.end()}function S(e){return e instanceof Error?e.message:`${e}`}function _(e){let t={};return Object.keys(e).forEach(r=>{"metadata"===r&&"object"==typeof e[r]&&e.metadata?Object.entries(e.metadata).forEach(([e,r])=>{t[m+":metadata:"+e]=r}):"input"===r||"object"==typeof e[r]?t[m+":"+r]=JSON.stringify(e[r]):t[m+":"+r]=e[r]}),t}function T(e,t){let r=w();r&&(r.metadata||(r.metadata={}),r.metadata[e]=t)}function A(e){let t=w();if(t)for(let[r,n]of(t.metadata||(t.metadata={}),Object.entries(e)))t.metadata[r]=n}function C(e){let t=/\{([^\,}]+),[^\}]+\}/g;return Array.from(e.matchAll(t),e=>e[1]).join(" > ")}function w(){let e=(0,h.getAsyncContext)().getStore(f);if(!e)throw Error("running outside step context");return e.metadata}function O(e,t,r){let n=r&&r["genkit:type"]?`,t:${"flow"===r["genkit:metadata:subtype"]?"flow":r["genkit:type"]}`:"";return t+`/{${e}${n}}`}function R(e,t,r){let n=e.path||"",i=x(e),o=Array.from(t?.paths||new Set),s=r?"failure":"success";if(!o.some(e=>e.path.startsWith(n)&&e.status===s)){let e=d.performance.now(),n=t?.timestamp||e;t?.paths?.add({path:i,error:r?.name,latency:e-n,status:s})}e.path=i}function x(e){if(!e.path)return"";let t=e.path.split("}/{");if(1==t.length)return e.path;let r=e.metadata&&e.metadata.subtype?`,s:${e.metadata.subtype}`:"";return`${t.slice(0,-1).join("}/{")}}/{${t.at(-1)?.slice(0,-1)}${r}}`}let I="__genkit_disableRootSpanDetection";function D(){return!0===global[I]}function P(){global[I]=!0}},31495:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{initNodeTelemetryProvider:()=>v}),e.exports=l(u);var c=r(19982),d=r(19733),h=r(72997),p=r(88186),f=r(40806),m=r(99649);let g=null,y=null;function v(){(0,p.setTelemetryProvider)({enableTelemetry:b,flushTracing:T})}async function b(e){process.env.GENKIT_TELEMETRY_SERVER&&(0,m.setTelemetryServerUrl)(process.env.GENKIT_TELEMETRY_SERVER),y=(e=e instanceof Promise?await e:e)||{};let t=[S()];if(y.traceExporter)throw Error("Please specify spanProcessors instead.");y.spanProcessors&&t.push(...y.spanProcessors),y.spanProcessor&&(t.push(y.spanProcessor),delete y.spanProcessor),y.spanProcessors=t,(g=new c.NodeSDK(y)).start(),process.on("SIGTERM",async()=>await E())}async function E(){g&&(await _(),await g.shutdown(),h.logger.debug("OpenTelemetry SDK shut down."),g=null)}function S(){let e=new m.TraceServerExporter;return(0,f.isDevEnv)()?new d.SimpleSpanProcessor(e):new d.BatchSpanProcessor(e)}function _(){return y?.metricReader?y.metricReader.forceFlush():Promise.resolve()}async function T(){y?.spanProcessors&&await Promise.all(y.spanProcessors.map(e=>e.forceFlush()))}},22543:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{InstrumentationLibrarySchema:()=>v,LinkSchema:()=>y,PathMetadataSchema:()=>d,SpanContextSchema:()=>g,SpanDataSchema:()=>b,SpanMetadataSchema:()=>p,SpanStatusSchema:()=>f,TimeEventSchema:()=>m,TraceDataSchema:()=>E,TraceMetadataSchema:()=>h}),e.exports=l(u);var c=r(17334);let d=c.z.object({path:c.z.string(),status:c.z.string(),error:c.z.string().optional(),latency:c.z.number()}),h=c.z.object({featureName:c.z.string().optional(),paths:c.z.set(d).optional(),timestamp:c.z.number()}),p=c.z.object({name:c.z.string(),state:c.z.enum(["success","error"]).optional(),input:c.z.any().optional(),output:c.z.any().optional(),isRoot:c.z.boolean().optional(),metadata:c.z.record(c.z.string(),c.z.string()).optional(),path:c.z.string().optional(),isFailureSource:c.z.boolean().optional()}),f=c.z.object({code:c.z.number(),message:c.z.string().optional()}),m=c.z.object({time:c.z.number(),annotation:c.z.object({attributes:c.z.record(c.z.string(),c.z.any()),description:c.z.string()})}),g=c.z.object({traceId:c.z.string(),spanId:c.z.string(),isRemote:c.z.boolean().optional(),traceFlags:c.z.number()}),y=c.z.object({context:g.optional(),attributes:c.z.record(c.z.string(),c.z.any()).optional(),droppedAttributesCount:c.z.number().optional()}),v=c.z.object({name:c.z.string().readonly(),version:c.z.string().optional().readonly(),schemaUrl:c.z.string().optional().readonly()}),b=c.z.object({spanId:c.z.string(),traceId:c.z.string(),parentSpanId:c.z.string().optional(),startTime:c.z.number(),endTime:c.z.number(),attributes:c.z.record(c.z.string(),c.z.any()),displayName:c.z.string(),links:c.z.array(y).optional(),instrumentationLibrary:v,spanKind:c.z.string(),sameProcessAsParentSpan:c.z.object({value:c.z.boolean()}).optional(),status:f.optional(),timeEvents:c.z.object({timeEvent:c.z.array(m)}).optional(),truncated:c.z.boolean().optional()}),E=c.z.object({traceId:c.z.string(),displayName:c.z.string().optional(),startTime:c.z.number().optional().describe("trace start time in milliseconds since the epoch"),endTime:c.z.number().optional().describe("end time in milliseconds since the epoch"),spans:c.z.record(c.z.string(),b)})},40806:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,o=(e,o,s,a)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let l of n(o))i.call(e,l)||l===s||t(e,l,{get:()=>o[l],enumerable:!(a=r(o,l))||a.enumerable});return e},s=e=>o(t({},"__esModule",{value:!0}),e),a={};function l(e){for(let t in e)void 0===e[t]?delete e[t]:"object"==typeof e[t]&&l(e[t])}function u(e){if(null==e||Array.isArray(e)||"object"!=typeof e)return e;let t={};for(let r in e)void 0!==e[r]&&(t[r]=u(e[r]));return t}function c(){return process.env.GENKIT_ENV||"prod"}function d(){return"dev"===c()}function h(e){return`feature:${e}`}((e,r)=>{for(var n in r)t(e,n,{get:r[n],enumerable:!0})})(a,{deleteUndefinedProps:()=>l,featureMetadataPrefix:()=>h,getCurrentEnv:()=>c,isDevEnv:()=>d,stripUndefinedProps:()=>u}),e.exports=s(a)},87933:(e,t,r)=>{"use strict";var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of s(t))l.call(e,a)||a===r||i(e,a,{get:()=>t[a],enumerable:!(n=o(t,a))||n.enumerable});return e},c=(e,t,r)=>(r=null!=e?n(a(e)):{},u(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)),d=e=>u(i({},"__esModule",{value:!0}),e),h={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(h,{getApiKeyFromEnvVar:()=>m,getGenkitClientHeader:()=>g}),e.exports=d(h);var p=r(47434),f=c(r(77282));function m(){return f.default.env.GEMINI_API_KEY||f.default.env.GOOGLE_API_KEY||f.default.env.GOOGLE_GENAI_API_KEY}function g(){return"true"==f.default.env.MONOSPACE_ENV?(0,p.getClientHeader)()+" firebase-studio-vm":(0,p.getClientHeader)()}},14254:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,o=(e,o,s,a)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let l of n(o))i.call(e,l)||l===s||t(e,l,{get:()=>o[l],enumerable:!(a=r(o,l))||a.enumerable});return e},s=e=>o(t({},"__esModule",{value:!0}),e),a={};((e,r)=>{for(var n in r)t(e,n,{get:r[n],enumerable:!0})})(a,{CONTEXT_CACHE_SUPPORTED_MODELS:()=>l,DEFAULT_TTL:()=>c,INVALID_ARGUMENT_MESSAGES:()=>u}),e.exports=s(a);let l=["gemini-1.5-flash-001","gemini-1.5-pro-001"],u={modelVersion:`Model version is required for context caching, supported only in ${l.join(",")} models.`,tools:"Context caching cannot be used simultaneously with tools.",codeExecution:"Context caching cannot be used simultaneously with code execution."},c=300},45531:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{handleCacheIfNeeded:()=>m,handleContextCache:()=>f}),e.exports=l(u);var c=r(99697),d=r(47434),h=r(63778),p=r(51306);async function f(e,t,r,n,i){let o=new c.GoogleAICacheManager(e),{cachedContent:s,chatRequest:a}=(0,p.getContentForCache)(t,r,n,i);s.model=n;let l=(0,p.generateCacheKey)(s);s.displayName=l;let u=await (0,p.lookupContextCache)(o,l);if(h.logger.debug(`Cache hit: ${u?"true":"false"}`),!u)try{h.logger.debug("No cache found, creating one.");let e={...s,ttlSeconds:(0,p.calculateTTL)(i)};u=await o.create(e),h.logger.debug(`Created new cache entry with key: ${l}`)}catch(e){throw h.logger.error(`Failed to create cache with key ${l}: ${e}`),new d.GenkitError({status:"INTERNAL",message:`Failed to create cache: ${e}`})}if(!u)throw new d.GenkitError({status:"INTERNAL",message:"Failed to use context cache feature"});return{cache:u,newChatRequest:a}}async function m(e,t,r,n,i){if(!i||!(0,p.validateContextCacheRequest)(t,n))return{chatRequest:r,cache:null};let{cache:o,newChatRequest:s}=await f(e,t,r,n,i);return{chatRequest:s,cache:o}}},31377:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{cacheConfigDetailsSchema:()=>h,cacheConfigSchema:()=>d}),e.exports=l(u);var c=r(47434);let d=c.z.union([c.z.boolean(),c.z.object({ttlSeconds:c.z.number().optional()}).passthrough()]),h=c.z.object({cacheConfig:d,endOfCachedContents:c.z.number()})},51306:(e,t,r)=>{"use strict";var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of s(t))l.call(e,a)||a===r||i(e,a,{get:()=>t[a],enumerable:!(n=o(t,a))||n.enumerable});return e},c=(e,t,r)=>(r=null!=e?n(a(e)):{},u(!t&&e&&e.__esModule?r:i(r,"default",{value:e,enumerable:!0}),e)),d=e=>u(i({},"__esModule",{value:!0}),e),h={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(h,{calculateTTL:()=>A,extractCacheConfig:()=>S,findLastIndex:()=>T,generateCacheKey:()=>y,getContentForCache:()=>v,lookupContextCache:()=>E,validateContextCacheRequest:()=>_}),e.exports=d(h);var p=c(r(6113)),f=r(47434),m=r(14254),g=r(31377);function y(e){return p.default.createHash("sha256").update(JSON.stringify(e)).digest("hex")}function v(e,t,r,n){if(!r)throw Error("No model version provided for context caching");if(!t.history?.length)throw Error("No history provided for context caching");b(e,t);let{endOfCachedContents:i,cacheConfig:o}=n,s={model:r,contents:t.history.slice(0,i+1)};return t.history=t.history.slice(i+1),{cachedContent:s,chatRequest:t,cacheConfig:o}}function b(e,t){if(t.history?.length!==e.messages.length-1)throw new f.GenkitError({status:"INTERNAL",message:"Genkit request history and Gemini chat request history length do not match"})}async function E(e,t,r=100,n=100){let i,o=0;try{for(;o<r;){let{cachedContents:r,nextPageToken:s}=await e.list({pageSize:n,pageToken:i}),a=r?.find(e=>e.displayName===t);if(a)return a;if(!s)break;i=s,o++}}catch(t){let e=t instanceof Error?t.message:"Unknown Network Error";throw new f.GenkitError({status:"INTERNAL",message:`Error looking up context cache: ${e}`})}return null}let S=e=>{let t=T(e.messages,e=>!!e.metadata?.cache);return -1===t?null:{endOfCachedContents:t,cacheConfig:g.cacheConfigSchema.parse(e.messages[t].metadata?.cache)}};function _(e,t){if(!t||!m.CONTEXT_CACHE_SUPPORTED_MODELS.includes(t))throw new f.GenkitError({status:"INVALID_ARGUMENT",message:m.INVALID_ARGUMENT_MESSAGES.modelVersion});if(e.tools?.length)throw new f.GenkitError({status:"INVALID_ARGUMENT",message:m.INVALID_ARGUMENT_MESSAGES.tools});if(e.config?.codeExecution)throw new f.GenkitError({status:"INVALID_ARGUMENT",message:m.INVALID_ARGUMENT_MESSAGES.codeExecution});return!0}function T(e,t){for(let r=e.length-1;r>=0;r--)if(t(e[r],r,e))return r;return -1}function A(e){return!0===e.cacheConfig?m.DEFAULT_TTL:!1===e.cacheConfig?0:e.cacheConfig.ttlSeconds||m.DEFAULT_TTL}},61086:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{GeminiEmbeddingConfigSchema:()=>m,SUPPORTED_MODELS:()=>b,TaskTypeSchema:()=>f,defineGoogleAIEmbedder:()=>E,geminiEmbedding001:()=>v,textEmbedding004:()=>y,textEmbeddingGecko001:()=>g}),e.exports=l(u);var c=r(79200),d=r(47434),h=r(61077),p=r(87933);let f=d.z.enum(["RETRIEVAL_DOCUMENT","RETRIEVAL_QUERY","SEMANTIC_SIMILARITY","CLASSIFICATION","CLUSTERING"]),m=d.z.object({apiKey:d.z.string().optional(),taskType:f.optional(),title:d.z.string().optional(),version:d.z.string().optional(),outputDimensionality:d.z.number().min(1).max(768).optional()}),g=(0,h.embedderRef)({name:"googleai/embedding-001",configSchema:m,info:{dimensions:768,label:"Google Gen AI - Text Embedding Gecko (Legacy)",supports:{input:["text"]}}}),y=(0,h.embedderRef)({name:"googleai/text-embedding-004",configSchema:m,info:{dimensions:768,label:"Google Gen AI - Text Embedding 001",supports:{input:["text"]}}}),v=(0,h.embedderRef)({name:"googleai/gemini-embedding-001",configSchema:m,info:{dimensions:768,label:"Google Gen AI - Gemini Embedding 001",supports:{input:["text"]}}}),b={"embedding-001":g,"text-embedding-004":y,"gemini-embedding-001":v};function E(e,t,r){let n;if(!1!==r.apiKey&&!(n=r?.apiKey||(0,p.getApiKeyFromEnvVar)()))throw Error("Please pass in the API key or set either GEMINI_API_KEY or GOOGLE_API_KEY environment variable.\nFor more details see https://genkit.dev/docs/plugins/google-genai");let i=b[t]??(0,h.embedderRef)({name:t,configSchema:m,info:{dimensions:768,label:`Google AI - ${t}`,supports:{input:["text","image","video"]}}}),o=i.name.startsWith("googleai/")?i.name.substring(9):i.name;return e.defineEmbedder({name:i.name,configSchema:m,info:i.info},async(e,t)=>{if(!1===r.apiKey&&!t?.apiKey)throw new d.GenkitError({status:"INVALID_ARGUMENT",message:"GoogleAI plugin was initialized with {apiKey: false} but no apiKey configuration was passed at call time."});let s=new c.GoogleGenerativeAI(t?.apiKey||n).getGenerativeModel({model:t?.version||i.config?.version||i.version||o});return{embeddings:await Promise.all(e.map(async e=>({embedding:(await s.embedContent({taskType:t?.taskType,title:t?.title,content:{role:"",parts:[{text:e.text}]},outputDimensionality:t?.outputDimensionality})).embedding.values})))}})}},48902:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{GENERIC_GEMINI_MODEL:()=>H,GeminiConfigSchema:()=>E,GeminiGemmaConfigSchema:()=>S,GeminiTtsConfigSchema:()=>_,SUPPORTED_GEMINI_MODELS:()=>$,aggregateResponses:()=>eE,cleanSchema:()=>eg,defineGoogleAIModel:()=>ey,fromGeminiCandidate:()=>em,gemini:()=>W,gemini10Pro:()=>T,gemini15Flash:()=>C,gemini15Flash8b:()=>w,gemini15Pro:()=>A,gemini20Flash:()=>O,gemini20FlashExp:()=>R,gemini20FlashLite:()=>x,gemini20ProExp0205:()=>I,gemini25Flash:()=>B,gemini25FlashLite:()=>j,gemini25FlashPreview0417:()=>D,gemini25FlashPreviewTts:()=>P,gemini25Pro:()=>L,gemini25ProExp0325:()=>N,gemini25ProPreview0325:()=>k,gemini25ProPreviewTts:()=>M,gemma312bit:()=>F,gemma31bit:()=>U,gemma327bit:()=>V,gemma34bit:()=>z,gemma3ne4bit:()=>G,toGeminiMessage:()=>eh,toGeminiSystemInstruction:()=>ep,toGeminiTool:()=>J}),e.exports=l(u);var c=r(79200),d=r(47434),h=r(16699),p=r(49896),f=r(26740),m=r(87933),g=r(45531),y=r(51306);let v=d.z.object({category:d.z.enum(["HARM_CATEGORY_UNSPECIFIED","HARM_CATEGORY_HATE_SPEECH","HARM_CATEGORY_SEXUALLY_EXPLICIT","HARM_CATEGORY_HARASSMENT","HARM_CATEGORY_DANGEROUS_CONTENT","HARM_CATEGORY_CIVIC_INTEGRITY"]),threshold:d.z.enum(["BLOCK_LOW_AND_ABOVE","BLOCK_MEDIUM_AND_ABOVE","BLOCK_ONLY_HIGH","BLOCK_NONE"])}),b=d.z.object({prebuiltVoiceConfig:d.z.object({voiceName:d.z.union([d.z.enum(["Zephyr","Puck","Charon","Kore","Fenrir","Leda","Orus","Aoede","Callirrhoe","Autonoe","Enceladus","Iapetus","Umbriel","Algieba","Despina","Erinome","Algenib","Rasalgethi","Laomedeia","Achernar","Alnilam","Schedar","Gacrux","Pulcherrima","Achird","Zubenelgenubi","Vindemiatrix","Sadachbia","Sadaltager","Sulafat"]),d.z.string()]).describe("Name of the preset voice to use").optional()}).describe("Configuration for the prebuilt speaker to use").passthrough().optional()}).describe("Configuration for the voice to use").passthrough(),E=h.GenerationCommonConfigSchema.extend({temperature:d.z.number().min(0).max(2).describe(h.GenerationCommonConfigDescriptions.temperature+" The default value is 1.0.").optional(),topP:d.z.number().min(0).max(1).describe(h.GenerationCommonConfigDescriptions.topP+" The default value is 0.95.").optional(),apiKey:d.z.string().describe("Overrides the plugin-configured API key, if specified.").optional(),safetySettings:d.z.array(v).describe("Adjust how likely you are to see responses that could be harmful. Content is blocked based on the probability that it is harmful.").optional(),codeExecution:d.z.union([d.z.boolean(),d.z.object({}).strict()]).describe("Enables the model to generate and run code.").optional(),contextCache:d.z.boolean().describe("Context caching allows you to save and reuse precomputed input tokens that you wish to use repeatedly.").optional(),functionCallingConfig:d.z.object({mode:d.z.enum(["MODE_UNSPECIFIED","AUTO","ANY","NONE"]).optional(),allowedFunctionNames:d.z.array(d.z.string()).optional()}).describe("Controls how the model uses the provided tools (function declarations). With AUTO (Default) mode, the model decides whether to generate a natural language response or suggest a function call based on the prompt and context. With ANY, the model is constrained to always predict a function call and guarantee function schema adherence. With NONE, the model is prohibited from making function calls.").optional(),responseModalities:d.z.array(d.z.enum(["TEXT","IMAGE","AUDIO"])).describe("The modalities to be used in response. Only supported for 'gemini-2.0-flash-exp' model at present.").optional(),googleSearchRetrieval:d.z.union([d.z.boolean(),d.z.object({}).passthrough()]).describe("Retrieve public web data for grounding, powered by Google Search.").optional(),thinkingConfig:d.z.object({includeThoughts:d.z.boolean().describe("Indicates whether to include thoughts in the response.If true, thoughts are returned only when available.").optional(),thinkingBudget:d.z.number().min(0).max(24576).describe("The thinking budget parameter gives the model guidance on the number of thinking tokens it can use when generating a response. A greater number of tokens is typically associated with more detailed thinking, which is needed for solving more complex tasks. Setting the thinking budget to 0 disables thinking.").optional()}).optional()}).passthrough(),S=E.extend({temperature:d.z.number().min(0).max(1).describe(h.GenerationCommonConfigDescriptions.temperature+" The default value is 1.0.").optional()}).passthrough(),_=E.extend({speechConfig:d.z.object({voiceConfig:b.optional(),multiSpeakerVoiceConfig:d.z.object({speakerVoiceConfigs:d.z.array(d.z.object({speaker:d.z.string().describe("Name of the speaker to use"),voiceConfig:b}).describe("Configuration for a single speaker in a multi speaker setup").passthrough()).describe("Configuration for all the enabled speaker voices")}).describe("Configuration for multi-speaker setup").passthrough().optional()}).describe("Speech generation config").passthrough().optional()}).passthrough(),T=(0,h.modelRef)({name:"googleai/gemini-1.0-pro",info:{label:"Google AI - Gemini Pro",versions:["gemini-pro","gemini-1.0-pro-latest","gemini-1.0-pro-001"],supports:{multiturn:!0,media:!1,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:E}),A=(0,h.modelRef)({name:"googleai/gemini-1.5-pro",info:{label:"Google AI - Gemini 1.5 Pro",supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"},versions:["gemini-1.5-pro-latest","gemini-1.5-pro-001","gemini-1.5-pro-002"]},configSchema:E}),C=(0,h.modelRef)({name:"googleai/gemini-1.5-flash",info:{label:"Google AI - Gemini 1.5 Flash",supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools",contextCache:!0},versions:["gemini-1.5-flash-latest","gemini-1.5-flash-001","gemini-1.5-flash-002"]},configSchema:E}),w=(0,h.modelRef)({name:"googleai/gemini-1.5-flash-8b",info:{label:"Google AI - Gemini 1.5 Flash",supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"},versions:["gemini-1.5-flash-8b-latest","gemini-1.5-flash-8b-001"]},configSchema:E}),O=(0,h.modelRef)({name:"googleai/gemini-2.0-flash",info:{label:"Google AI - Gemini 2.0 Flash",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:E}),R=(0,h.modelRef)({name:"googleai/gemini-2.0-flash-exp",info:{label:"Google AI - Gemini 2.0 Flash (Experimental)",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:E}),x=(0,h.modelRef)({name:"googleai/gemini-2.0-flash-lite",info:{label:"Google AI - Gemini 2.0 Flash Lite",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:E}),I=(0,h.modelRef)({name:"googleai/gemini-2.0-pro-exp-02-05",info:{label:"Google AI - Gemini 2.0 Pro Exp 02-05",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:E}),D=(0,h.modelRef)({name:"googleai/gemini-2.5-flash-preview-04-17",info:{label:"Google AI - Gemini 2.5 Flash Preview 04-17",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:E}),P=(0,h.modelRef)({name:"googleai/gemini-2.5-flash-preview-tts",info:{label:"Google AI - Gemini 2.5 Flash Preview TTS",versions:[],supports:{multiturn:!1,media:!1,tools:!1,toolChoice:!1,systemRole:!1,constrained:"no-tools"}},configSchema:_}),N=(0,h.modelRef)({name:"googleai/gemini-2.5-pro-exp-03-25",info:{label:"Google AI - Gemini 2.5 Pro Exp 03-25",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:E}),k=(0,h.modelRef)({name:"googleai/gemini-2.5-pro-preview-03-25",info:{label:"Google AI - Gemini 2.5 Pro Preview 03-25",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:E}),M=(0,h.modelRef)({name:"googleai/gemini-2.5-pro-preview-tts",info:{label:"Google AI - Gemini 2.5 Pro Preview TTS",versions:[],supports:{multiturn:!1,media:!1,tools:!1,toolChoice:!1,systemRole:!1,constrained:"no-tools"}},configSchema:_}),L=(0,h.modelRef)({name:"googleai/gemini-2.5-pro",info:{label:"Google AI - Gemini 2.5 Pro",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:E}),B=(0,h.modelRef)({name:"googleai/gemini-2.5-flash",info:{label:"Google AI - Gemini 2.5 Flash",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:E}),j=(0,h.modelRef)({name:"googleai/gemini-2.5-flash-lite",info:{label:"Google AI - Gemini 2.5 Flash Lite",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:E}),F=(0,h.modelRef)({name:"googleai/gemma-3-12b-it",info:{label:"Google AI - Gemma 3 12B",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:S}),U=(0,h.modelRef)({name:"googleai/gemma-3-1b-it",info:{label:"Google AI - Gemma 3 1B",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:S}),V=(0,h.modelRef)({name:"googleai/gemma-3-27b-it",info:{label:"Google AI - Gemma 3 27B",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:S}),z=(0,h.modelRef)({name:"googleai/gemma-3-4b-it",info:{label:"Google AI - Gemma 3 4B",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:S}),G=(0,h.modelRef)({name:"googleai/gemma-3n-e4b-it",info:{label:"Google AI - Gemma 3n E4B",versions:[],supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}},configSchema:S}),$={"gemini-1.5-pro":A,"gemini-1.5-flash":C,"gemini-1.5-flash-8b":w,"gemini-2.0-pro-exp-02-05":I,"gemini-2.0-flash":O,"gemini-2.0-flash-lite":x,"gemini-2.0-flash-exp":R,"gemini-2.5-pro-exp-03-25":N,"gemini-2.5-pro-preview-03-25":k,"gemini-2.5-pro-preview-tts":M,"gemini-2.5-flash-preview-04-17":D,"gemini-2.5-flash-preview-tts":P,"gemini-2.5-flash":B,"gemini-2.5-flash-lite":j,"gemini-2.5-pro":L,"gemma-3-12b-it":F,"gemma-3-1b-it":U,"gemma-3-27b-it":V,"gemma-3-4b-it":z,"gemma-3n-e4b-it":G},H=(0,h.modelRef)({name:"googleai/gemini",configSchema:E,info:{label:"Google Gemini",supports:{multiturn:!0,media:!0,tools:!0,toolChoice:!0,systemRole:!0,constrained:"no-tools"}}});function q(e,t){return t.filter(t=>e.startsWith(t)).reduce((e,t)=>t.length>e.length?t:e,"")}function W(e,t={}){let r=K(e);return(0,h.modelRef)({name:`googleai/${e}`,config:t,configSchema:E,info:{...r.info,label:r.name.endsWith(e)?r.info?.label:`Google AI - ${e}`}})}function K(e,t={}){let r=q(e,Object.keys($));return r?$[r].withConfig({...t,version:e}):H.withConfig({...t,version:e})}function Y(e,t){switch(e){case"user":default:return"user";case"model":return"model";case"system":if(t?.info?.supports?.systemRole)throw Error("system role is only supported for a single message in the first position");throw Error("system role is not supported");case"tool":return"function"}}function Z(e){let t;if(!e||!e.type)return;let r={};if(e.description&&(r.description=e.description),e.enum&&(r.type=c.SchemaType.STRING,r.enum=e.enum),e.nullable&&(r.nullable=e.nullable),Array.isArray(e.type)){let n=e.type;n.includes("null")&&(r.nullable=!0),t=n.find(e=>"null"!==e)}else t=e.type;if("object"===t){let t={};return Object.keys(e.properties??{}).forEach(r=>{t[r]=Z(e.properties[r])}),{...r,type:c.SchemaType.OBJECT,properties:t,required:e.required}}if("array"===t)return{...r,type:c.SchemaType.ARRAY,items:Z(e.items)};{let e=c.SchemaType[t.toUpperCase()];if(!e)throw new d.GenkitError({status:"INVALID_ARGUMENT",message:`Unsupported property type ${t.toUpperCase()}`});return{...r,type:e}}}function J(e){return{name:e.name.replace(/\//g,"__"),description:e.description,parameters:Z(e.inputSchema)}}function Q(e){let t=e.media.url,r=t.substring(t.indexOf(",")+1);return{inlineData:{mimeType:e.media.contentType||t.substring(t.indexOf(":")+1,t.indexOf(";")),data:r}}}function X(e){if(!e.media.contentType)throw Error("Must supply a `contentType` when sending File URIs to Gemini.");return{fileData:{mimeType:e.media.contentType,fileUri:e.media.url}}}function ee(e){if(!e.inlineData||!e.inlineData.hasOwnProperty("mimeType")||!e.inlineData.hasOwnProperty("data"))throw Error("Invalid InlineDataPart: missing required properties");let{mimeType:t,data:r}=e.inlineData;return{media:{url:`data:${t};base64,${r}`,contentType:t}}}function et(e){if(!e?.toolRequest?.input)throw Error("Invalid ToolRequestPart: input was missing.");return{functionCall:{name:e.toolRequest.name,args:e.toolRequest.input}}}function er(e,t){if(!e.functionCall)throw Error("Invalid FunctionCallPart");return{toolRequest:{name:e.functionCall.name,input:e.functionCall.args,ref:t}}}function en(e){if(!e?.toolResponse?.output)throw Error("Invalid ToolResponsePart: output was missing.");return{functionResponse:{name:e.toolResponse.name,response:{name:e.toolResponse.name,content:e.toolResponse.output}}}}function ei(e){if(!e.functionResponse)throw Error("Invalid FunctionResponsePart.");return{toolResponse:{name:e.functionResponse.name.replace(/__/g,"/"),output:e.functionResponse.response}}}function eo(e){if(!e.executableCode)throw Error("Invalid GeminiPart: missing executableCode");return{custom:{executableCode:{language:e.executableCode.language,code:e.executableCode.code}}}}function es(e){if(!e.codeExecutionResult)throw Error("Invalid GeminiPart: missing codeExecutionResult");return{custom:{codeExecutionResult:{outcome:e.codeExecutionResult.outcome,output:e.codeExecutionResult.output}}}}function ea(e){return{reasoning:e.text||"",metadata:{thoughtSignature:e.thoughtSignature}}}function el(e){if(!e.custom)throw Error("Invalid GeminiPart: missing custom");if(e.custom.codeExecutionResult)return{codeExecutionResult:e.custom.codeExecutionResult};if(e.custom.executableCode)return{executableCode:e.custom.executableCode};throw Error("Unsupported Custom Part type")}function eu(e){let t={thought:!0};return e.metadata?.thoughtSignature&&(t.thoughtSignature=e.metadata.thoughtSignature),e.reasoning?.length&&(t.text=e.reasoning),t}function ec(e){if(void 0!==e.text)return{text:e.text||" "};if(e.media)return e.media.url.startsWith("data:")?Q(e):X(e);if(e.toolRequest)return et(e);if(e.toolResponse)return en(e);if(e.custom)return el(e);if("string"==typeof e.reasoning)return eu(e);throw Error("Unsupported Part type"+JSON.stringify(e))}function ed(e,t,r){if("thought"in e)return ea(e);if("string"==typeof e.text)return{text:e.text};if(e.inlineData)return ee(e);if(e.functionCall)return er(e,r);if(e.functionResponse)return ei(e);if(e.executableCode)return eo(e);if(e.codeExecutionResult)return es(e);throw Error("Unsupported GeminiPart type: "+JSON.stringify(e))}function eh(e,t){let r=e.content;return"tool"===e.role&&(r=[...e.content].sort((e,t)=>{let r=e.toolResponse?.ref,n=t.toolResponse?.ref;return r||n?r?n?Number.parseInt(r,10)-Number.parseInt(n,10):-1:1:0})),{role:Y(e.role,t),parts:r.map(ec)}}function ep(e){return{role:"user",parts:e.content.map(ec)}}function ef(e){if(!e)return"unknown";switch(e){case"STOP":return"stop";case"MAX_TOKENS":return"length";case"SAFETY":case"RECITATION":return"blocked";default:return"unknown"}}function em(e,t=!1){let r=e.content?.parts||[];return{index:e.index||0,message:{role:"model",content:r.map((e,r)=>ed(e,t,r.toString()))},finishReason:ef(e.finishReason),finishMessage:e.finishMessage,custom:{safetyRatings:e.safetyRatings,citationMetadata:e.citationMetadata}}}function eg(e){let t=structuredClone(e);for(let e in t){if("$schema"===e||"additionalProperties"===e){delete t[e];continue}"object"==typeof t[e]&&(t[e]=eg(t[e])),"type"===e&&Array.isArray(t[e])&&(t[e]=t[e].find(e=>"null"!==e))}return t}function ey({ai:e,name:t,apiKey:r,apiVersion:n,baseUrl:i,info:o,defaultConfig:s,debugTraces:a}){let l;if(!1!==r&&!(l=r||(0,m.getApiKeyFromEnvVar)()))throw new d.GenkitError({status:"FAILED_PRECONDITION",message:"Please pass in the API key or set the GEMINI_API_KEY or GOOGLE_API_KEY environment variable.\nFor more details see https://genkit.dev/docs/plugins/google-genai"});let u=t.startsWith("googleai/")?t.substring(9):t,v=$[u]??(0,h.modelRef)({name:`googleai/${u}`,info:{label:`Google AI - ${u}`,supports:{multiturn:!0,media:!0,tools:!0,systemRole:!0,output:["text","json"]},...o},configSchema:E}),b=[];return v.info?.supports?.media&&b.push((0,p.downloadRequestMedia)({maxBytes:10485760,filter:e=>{try{let t=new URL(e.media.url);if(["generativelanguage.googleapis.com","www.youtube.com","youtube.com","youtu.be"].includes(t.hostname))return!1}catch{}return!0}})),e.defineModel({apiVersion:"v2",name:v.name,...v.info,configSchema:v.configSchema,use:b},async(t,{streamingRequested:r,sendChunk:o,abortSignal:p})=>{let b,E,S;let _={apiClient:(0,m.getGenkitClientHeader)()};n&&(_.apiVersion=n),n&&(_.baseUrl=i);let T={...s,...t.config},A=[...t.messages];if(0===A.length)throw Error("No messages provided.");if(v.info?.supports?.systemRole){let e=A.find(e=>"system"===e.role);e&&(A.splice(A.indexOf(e),1),S=ep(e))}let C=[];t.tools?.length&&C.push({functionDeclarations:t.tools.map(J)});let{apiKey:w,safetySettings:O,codeExecution:R,version:x,functionCallingConfig:I,googleSearchRetrieval:D,tools:P,...N}=T;R&&C.push({codeExecution:!0===t.config.codeExecution?{}:t.config.codeExecution}),P&&C.push(...P),D&&C.push({googleSearch:!0===D?{}:D}),I?b={functionCallingConfig:{allowedFunctionNames:I.allowedFunctionNames,mode:ev(I.mode)}}:t.toolChoice&&(b={functionCallingConfig:{mode:eb(t.toolChoice)}});let k=t.output?.format==="json"||t.output?.contentType==="application/json"&&0===C.length,M={...N,candidateCount:t.candidates||void 0,responseMimeType:k?"application/json":void 0};t.output?.constrained&&k&&(M.responseSchema=eg(t.output.schema));let L=eh(A[A.length-1],v),B=e=>em(e,k),j={systemInstruction:S,generationConfig:M,tools:C.length?C:void 0,toolConfig:b,history:A.slice(0,-1).map(e=>eh(e,v)),safetySettings:O},F=x||v.version||u,U=(0,y.extractCacheConfig)(t),{chatRequest:V,cache:z}=await (0,g.handleCacheIfNeeded)(l,t,j,F,U);if(!w&&!l)throw new d.GenkitError({status:"INVALID_ARGUMENT",message:"GoogleAI plugin was initialized with {apiKey: false} but no apiKey configuration was passed at call time."});let G=new c.GoogleGenerativeAI(w||l);E=z?G.getGenerativeModelFromCachedContent(z,{model:F},_):G.getGenerativeModel({model:F},_);let $=async()=>{let e;if(r){let t=await E.startChat(V).sendMessageStream(L.parts,{..._,signal:p}),r=[];for await(let e of t.stream)r.push(e),e.candidates?.forEach(e=>{let t=B(e);o({index:t.index,content:t.message.content})});e=eE(r)}else e=(await E.startChat(V).sendMessage(L.parts,{..._,signal:p})).response;let n=e.candidates||[];if(e.candidates?.undefined&&n.push(e.candidates.undefined),!n.length)throw new d.GenkitError({status:"FAILED_PRECONDITION",message:"No valid candidates returned."});let i=n.map(B)||[],s=e.usageMetadata;return{candidates:i,custom:e,usage:{...(0,h.getBasicUsageStats)(t.messages,i),inputTokens:s?.promptTokenCount,outputTokens:s?.candidatesTokenCount,thoughtsTokens:s?.thoughtsTokenCount,totalTokens:s?.totalTokenCount,cachedContentTokens:s?.cachedContentTokenCount}}};return a?await (0,f.runInNewSpan)(e.registry,{metadata:{name:r?"sendMessageStream":"sendMessage"}},async e=>{e.input={sdk:"@google/generative-ai",cache:z,model:E.model,chatOptions:V,parts:L.parts,options:_};let t=await $();return e.output=t.custom,t}):await $()})}function ev(e){if(void 0!==e)switch(e){case"MODE_UNSPECIFIED":return c.FunctionCallingMode.MODE_UNSPECIFIED;case"ANY":return c.FunctionCallingMode.ANY;case"AUTO":return c.FunctionCallingMode.AUTO;case"NONE":return c.FunctionCallingMode.NONE;default:throw Error(`unsupported function calling mode: ${e}`)}}function eb(e){if(void 0!==e)switch(e){case"required":return c.FunctionCallingMode.ANY;case"auto":return c.FunctionCallingMode.AUTO;case"none":return c.FunctionCallingMode.NONE;default:throw Error(`unsupported function calling mode: ${e}`)}}function eE(e){let t=e[e.length-1],r={promptFeedback:t?.promptFeedback};for(let t of e){if(t.candidates){let e=0;for(let n of t.candidates)if(r.candidates||(r.candidates=[]),r.candidates[e]||(r.candidates[e]={index:e}),r.candidates[e].citationMetadata=n.citationMetadata,r.candidates[e].groundingMetadata=n.groundingMetadata,r.candidates[e].finishReason=n.finishReason,r.candidates[e].finishMessage=n.finishMessage,r.candidates[e].safetyRatings=n.safetyRatings,n.content&&n.content.parts)for(let t of(r.candidates[e].content||(r.candidates[e].content={role:n.content.role||"user",parts:[]}),n.content.parts)){let n={};t.text&&(n.text=t.text),t.thought&&(n.thought=t.thought),t.thoughtSignature&&(n.thoughtSignature=t.thoughtSignature),t.functionCall&&(n.functionCall=t.functionCall),t.executableCode&&(n.executableCode=t.executableCode),t.codeExecutionResult&&(n.codeExecutionResult=t.codeExecutionResult),0===Object.keys(n).length&&(n.text=""),r.candidates[e].content.parts.push(n)}e++}t.usageMetadata&&(r.usageMetadata=t.usageMetadata)}return r}},28135:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{GENERIC_IMAGEN_INFO:()=>v,ImagenConfigSchema:()=>f,defineImagenModel:()=>b}),e.exports=l(u);var c=r(47434),d=r(16699),h=r(87933),p=r(94650);let f=c.z.object({numberOfImages:c.z.number().describe("The number of images to generate, from 1 to 4 (inclusive). The default is 1.").optional(),aspectRatio:c.z.enum(["1:1","9:16","16:9","3:4","4:3"]).describe("Desired aspect ratio of the output image.").optional(),personGeneration:c.z.enum(["dont_allow","allow_adult","allow_all"]).describe("Control if/how images of people will be generated by the model.").optional()}).passthrough();function m(e){let t={sampleCount:e.config?.numberOfImages??1,...e?.config};for(let e in t)t[e]||delete t[e];return t}function g(e){return e.messages.at(-1).content.map(e=>e.text||"").join("")}function y(e){return e.messages.at(-1)?.content.find(e=>!!e.media)?.media?.url.split(",")[1]}let v={label:"Google AI - Generic Imagen",supports:{media:!0,multiturn:!1,tools:!1,systemRole:!1,output:["media"]}};function b(e,t,r){if(!1!==r&&!(r=r||(0,h.getApiKeyFromEnvVar)()))throw new c.GenkitError({status:"FAILED_PRECONDITION",message:"Please pass in the API key or set the GEMINI_API_KEY or GOOGLE_API_KEY environment variable.\nFor more details see https://genkit.dev/docs/plugins/google-genai"});let n=`googleai/${t}`,i=(0,d.modelRef)({name:n,info:{...v,label:`Google AI - ${t}`},configSchema:f});return e.defineModel({name:n,...i.info,configSchema:f},async e=>{let n={prompt:g(e)},o=y(e);o&&(n.image={bytesBase64Encoded:o});let s=(0,p.predictModel)(i.version||t,r,"predict"),a=await s([n],m(e));if(!a.predictions||0==a.predictions.length)throw Error("Model returned no predictions. Possibly due to content filters.");let l={role:"model",content:[]};return a.predictions.forEach((e,t)=>{let r=e.bytesBase64Encoded,n=e.mimeType;l.content.push({media:{url:`data:${n};base64,${r}`,contentType:n}})}),{finishReason:"stop",message:l,usage:(0,d.getBasicUsageStats)(e.messages,l),custom:a}})}},61082:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,o=(e,o,s,a)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let l of n(o))i.call(e,l)||l===s||t(e,l,{get:()=>o[l],enumerable:!(a=r(o,l))||a.enumerable});return e},s=e=>o(t({},"__esModule",{value:!0}),e),a={};async function l(e,t){let r=await fetch(`${e}/v1beta/models?pageSize=1000&key=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});return JSON.parse(await r.text()).models}((e,r)=>{for(var n in r)t(e,n,{get:r[n],enumerable:!0})})(a,{listModels:()=>l}),e.exports=s(a)},94650:(e,t,r)=>{"use strict";Object.create;var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=(Object.getPrototypeOf,Object.prototype.hasOwnProperty),a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{checkOp:()=>f,predictModel:()=>p}),e.exports=l(u);var c=r(87933);function d(e){return`https://generativelanguage.googleapis.com/${e.apiVersion}/models/${e.model}:${e.method}?key=${e.apiKey}`}function h(e){return`https://generativelanguage.googleapis.com/${e.apiVersion}/${e.operation}?key=${e.apiKey}`}function p(e,t,n){return async(i,o)=>{let s=(await r.e(6673).then(r.bind(r,16673))).default,a={instances:i,parameters:o},l=await s(d({model:e,apiVersion:"v1beta",apiKey:t,method:n}),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json","X-Goog-Api-Client":(0,c.getGenkitClientHeader)()}});if(!l.ok)throw Error(`Error from Gemini AI predict: HTTP ${l.status}: ${await l.text()}`);return await l.json()}}async function f(e,t){let n=(await r.e(6673).then(r.bind(r,16673))).default,i=await n(h({apiVersion:"v1beta",operation:e,apiKey:t}),{method:"GET",headers:{"Content-Type":"application/json","X-Goog-Api-Client":(0,c.getGenkitClientHeader)()}});if(!i.ok)throw Error(`Error from operation API: HTTP ${i.status}: ${await i.text()}`);return await i.json()}},62160:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{GENERIC_VEO_INFO:()=>v,VeoConfigSchema:()=>f,defineVeoModel:()=>b}),e.exports=l(u);var c=r(47434),d=r(16699),h=r(87933),p=r(94650);let f=c.z.object({negativePrompt:c.z.string().optional(),aspectRatio:c.z.enum(["9:16","16:9"]).describe("Desired aspect ratio of the output video.").optional(),personGeneration:c.z.enum(["dont_allow","allow_adult","allow_all"]).describe("Control if/how images of people will be generated by the model.").optional(),durationSeconds:c.z.number().step(1).min(5).max(8).describe("Length of each output video in seconds, between 5 and 8.").optional(),enhance_prompt:c.z.boolean().describe("Enable or disable the prompt rewriter. Enabled by default.").optional()}).passthrough();function m(e){return e.messages.at(-1).content.map(e=>e.text||"").join("")}function g(e){let t={...e?.config};for(let e in t)t[e]||delete t[e];return t}function y(e){let t=e.messages.at(-1)?.content.find(e=>!!e.media)?.media;if(t)return{bytesBase64Encoded:t?.url.split(",")[1],mimeType:t.contentType}}let v={label:"Google AI - Generic Veo",supports:{media:!0,multiturn:!1,tools:!1,systemRole:!1,output:["media"],longRunning:!0}};function b(e,t,r){if(!1!==r&&!(r=r||(0,h.getApiKeyFromEnvVar)()))throw new c.GenkitError({status:"FAILED_PRECONDITION",message:"Please pass in the API key or set the GEMINI_API_KEY or GOOGLE_API_KEY environment variable.\nFor more details see https://genkit.dev/docs/plugins/google-genai"});let n=`googleai/${t}`,i=(0,d.modelRef)({name:n,info:{...v,label:`Google AI - ${t}`},configSchema:f});return e.defineBackgroundModel({name:n,...i.info,configSchema:f,async start(e){let n={prompt:m(e)},o=y(e);o&&(n.image=o);let s=(0,p.predictModel)(i.version||t,r,"predictLongRunning");return E(await s([n],g(e)))},check:async e=>E(await (0,p.checkOp)(e.id,r))})}function E(e){let t={id:e.name};return void 0!==e.done&&(t.done=e.done),e.error&&(t.error={message:e.error.message}),e.response&&e.response.generateVideoResponse&&e.response.generateVideoResponse.generatedSamples&&(t.output={finishReason:"stop",raw:e.response,message:{role:"model",content:e.response.generateVideoResponse.generatedSamples.map(e=>({media:{url:e.video.uri}}))}}),t}},54618:(e,t,r)=>{"use strict";let{normalizeIPv6:n,removeDotSegments:i,recomposeAuthority:o,normalizeComponentEncoding:s,isIPv4:a,nonSimpleDomain:l}=r(10145),{SCHEMES:u,getSchemeHandler:c}=r(2508);function d(e,t,r,n){let o={};return n||(e=f(h(e,r),r),t=f(h(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(o.scheme=t.scheme,o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=i(t.path||""),o.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=i(t.path||""),o.query=t.query):(t.path?("/"===t.path[0]?o.path=i(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?o.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:o.path=t.path:o.path="/"+t.path,o.path=i(o.path)),o.query=t.query):(o.path=e.path,void 0!==t.query?o.query=t.query:o.query=e.query),o.userinfo=e.userinfo,o.host=e.host,o.port=e.port),o.scheme=e.scheme),o.fragment=t.fragment,o}function h(e,t){let r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},n=Object.assign({},t),s=[],a=c(n.scheme||r.scheme);a&&a.serialize&&a.serialize(r,n),void 0!==r.path&&(n.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),void 0!==r.scheme&&(r.path=r.path.split("%3A").join(":")))),"suffix"!==n.reference&&r.scheme&&s.push(r.scheme,":");let l=o(r);if(void 0!==l&&("suffix"!==n.reference&&s.push("//"),s.push(l),r.path&&"/"!==r.path[0]&&s.push("/")),void 0!==r.path){let e=r.path;n.absolutePath||a&&a.absolutePath||(e=i(e)),void 0===l&&"/"===e[0]&&"/"===e[1]&&(e="/%2F"+e.slice(2)),s.push(e)}return void 0!==r.query&&s.push("?",r.query),void 0!==r.fragment&&s.push("#",r.fragment),s.join("")}let p=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function f(e,t){let r=Object.assign({},t),i={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},o=!1;"suffix"===r.reference&&(e=r.scheme?r.scheme+":"+e:"//"+e);let s=e.match(p);if(s){if(i.scheme=s[1],i.userinfo=s[3],i.host=s[4],i.port=parseInt(s[5],10),i.path=s[6]||"",i.query=s[7],i.fragment=s[8],isNaN(i.port)&&(i.port=s[5]),i.host){if(!1===a(i.host)){let e=n(i.host);i.host=e.host.toLowerCase(),o=e.isIPV6}else o=!0}void 0!==i.scheme||void 0!==i.userinfo||void 0!==i.host||void 0!==i.port||void 0!==i.query||i.path?void 0===i.scheme?i.reference="relative":void 0===i.fragment?i.reference="absolute":i.reference="uri":i.reference="same-document",r.reference&&"suffix"!==r.reference&&r.reference!==i.reference&&(i.error=i.error||"URI is not a "+r.reference+" reference.");let t=c(r.scheme||i.scheme);if(!r.unicodeSupport&&(!t||!t.unicodeSupport)&&i.host&&(r.domainHost||t&&t.domainHost)&&!1===o&&l(i.host))try{i.host=URL.domainToASCII(i.host.toLowerCase())}catch(e){i.error=i.error||"Host's domain name can not be converted to ASCII: "+e}(!t||t&&!t.skipNormalize)&&(-1!==e.indexOf("%")&&(void 0!==i.scheme&&(i.scheme=unescape(i.scheme)),void 0!==i.host&&(i.host=unescape(i.host))),i.path&&(i.path=escape(unescape(i.path))),i.fragment&&(i.fragment=encodeURI(decodeURIComponent(i.fragment)))),t&&t.parse&&t.parse(i,r)}else i.error=i.error||"URI can not be parsed.";return i}let m={SCHEMES:u,normalize:function(e,t){return"string"==typeof e?e=h(f(e,t),t):"object"==typeof e&&(e=f(h(e,t),t)),e},resolve:function(e,t,r){let n=r?Object.assign({scheme:"null"},r):{scheme:"null"},i=d(f(e,n),f(t,n),n,!0);return n.skipEscape=!0,h(i,n)},resolveComponent:d,equal:function(e,t,r){return"string"==typeof e?e=h(s(f(e=unescape(e),r),!0),{...r,skipEscape:!0}):"object"==typeof e&&(e=h(s(e,!0),{...r,skipEscape:!0})),"string"==typeof t?t=h(s(f(t=unescape(t),r),!0),{...r,skipEscape:!0}):"object"==typeof t&&(t=h(s(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()},serialize:h,parse:f};e.exports=m,e.exports.default=m,e.exports.fastUri=m},2508:(e,t,r)=>{"use strict";let{isUUID:n}=r(10145),i=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,o=["http","https","ws","wss","urn","urn:uuid"];function s(e){return -1!==o.indexOf(e)}function a(e){return!0===e.secure||!1!==e.secure&&!!e.scheme&&3===e.scheme.length&&("w"===e.scheme[0]||"W"===e.scheme[0])&&("s"===e.scheme[1]||"S"===e.scheme[1])&&("s"===e.scheme[2]||"S"===e.scheme[2])}function l(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function u(e){let t="https"===String(e.scheme).toLowerCase();return(e.port===(t?443:80)||""===e.port)&&(e.port=void 0),e.path||(e.path="/"),e}function c(e){return e.secure=a(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function d(e){if((e.port===(a(e)?443:80)||""===e.port)&&(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[t,r]=e.resourceName.split("?");e.path=t&&"/"!==t?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function h(e,t){if(!e.path)return e.error="URN can not be parsed",e;let r=e.path.match(i);if(r){let n=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];let i=S(`${n}:${t.nid||e.nid}`);e.path=void 0,i&&(e=i.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function p(e,t){if(void 0===e.nid)throw Error("URN without nid cannot be serialized");let r=t.scheme||e.scheme||"urn",n=e.nid.toLowerCase(),i=S(`${r}:${t.nid||n}`);i&&(e=i.serialize(e,t));let o=e,s=e.nss;return o.path=`${n||t.nid}:${s}`,t.skipEscape=!0,o}function f(e,t){let r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&n(r.uuid)||(r.error=r.error||"UUID is not valid."),r}function m(e){let t=e;return t.nss=(e.uuid||"").toLowerCase(),t}let g={scheme:"http",domainHost:!0,parse:l,serialize:u},y={scheme:"https",domainHost:g.domainHost,parse:l,serialize:u},v={scheme:"ws",domainHost:!0,parse:c,serialize:d},b={scheme:"wss",domainHost:v.domainHost,parse:v.parse,serialize:v.serialize},E={http:g,https:y,ws:v,wss:b,urn:{scheme:"urn",parse:h,serialize:p,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:f,serialize:m,skipNormalize:!0}};function S(e){return e&&(E[e]||E[e.toLowerCase()])||void 0}Object.setPrototypeOf(E,null),e.exports={wsIsSecure:a,SCHEMES:E,isValidSchemeName:s,getSchemeHandler:S}},10145:e=>{"use strict";let t=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),r=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function n(e){let t="",r=0,n=0;for(n=0;n<e.length;n++)if(48!==(r=e[n].charCodeAt(0))){if(!(r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n];break}for(n+=1;n<e.length;n++){if(!((r=e[n].charCodeAt(0))>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102))return"";t+=e[n]}return t}let i=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function o(e){return e.length=0,!0}function s(e,t,r){if(e.length){let i=n(e);if(""===i)return r.error=!0,!1;t.push(i),e.length=0}return!0}function a(e){let t=0,r={error:!1,address:"",zone:""},i=[],a=[],l=!1,u=!1,c=s;for(let n=0;n<e.length;n++){let s=e[n];if("["!==s&&"]"!==s){if(":"===s){if(!0===l&&(u=!0),!c(a,i,r))break;if(++t>7){r.error=!0;break}n>0&&":"===e[n-1]&&(l=!0),i.push(":");continue}if("%"===s){if(!c(a,i,r))break;c=o}else{a.push(s);continue}}}return a.length&&(c===o?r.zone=a.join(""):u?i.push(a.join("")):i.push(n(a))),r.address=i.join(""),r}function l(e){if(2>u(e,":"))return{host:e,isIPV6:!1};let t=a(e);if(t.error)return{host:e,isIPV6:!1};{let e=t.address,r=t.address;return t.zone&&(e+="%"+t.zone,r+="%25"+t.zone),{host:e,isIPV6:!0,escapedHost:r}}}function u(e,t){let r=0;for(let n=0;n<e.length;n++)e[n]===t&&r++;return r}function c(e){let t=e,r=[],n=-1,i=0;for(;i=t.length;){if(1===i){if("."===t)break;if("/"===t){r.push("/");break}r.push(t);break}if(2===i){if("."===t[0]){if("."===t[1])break;if("/"===t[1]){t=t.slice(2);continue}}else if("/"===t[0]&&("."===t[1]||"/"===t[1])){r.push("/");break}}else if(3===i&&"/.."===t){0!==r.length&&r.pop(),r.push("/");break}if("."===t[0]){if("."===t[1]){if("/"===t[2]){t=t.slice(3);continue}}else if("/"===t[1]){t=t.slice(2);continue}}else if("/"===t[0]&&"."===t[1]){if("/"===t[2]){t=t.slice(2);continue}if("."===t[2]&&"/"===t[3]){t=t.slice(3),0!==r.length&&r.pop();continue}}if(-1===(n=t.indexOf("/",1))){r.push(t);break}r.push(t.slice(0,n)),t=t.slice(n)}return r.join("")}function d(e,t){let r=!0!==t?escape:unescape;return void 0!==e.scheme&&(e.scheme=r(e.scheme)),void 0!==e.userinfo&&(e.userinfo=r(e.userinfo)),void 0!==e.host&&(e.host=r(e.host)),void 0!==e.path&&(e.path=r(e.path)),void 0!==e.query&&(e.query=r(e.query)),void 0!==e.fragment&&(e.fragment=r(e.fragment)),e}function h(e){let t=[];if(void 0!==e.userinfo&&(t.push(e.userinfo),t.push("@")),void 0!==e.host){let n=unescape(e.host);if(!r(n)){let t=l(n);n=!0===t.isIPV6?`[${t.escapedHost}]`:e.host}t.push(n)}return("number"==typeof e.port||"string"==typeof e.port)&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}e.exports={nonSimpleDomain:i,recomposeAuthority:h,normalizeComponentEncoding:d,removeDotSegments:c,isIPv4:r,isUUID:t,normalizeIPv6:l,stringArrayToHexStripped:n}},59720:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{BaseDataPointSchema:()=>c.BaseDataPointSchema,Chat:()=>d.Chat,Document:()=>c.Document,DocumentDataSchema:()=>c.DocumentDataSchema,GENKIT_CLIENT_HEADER:()=>f.GENKIT_CLIENT_HEADER,GENKIT_VERSION:()=>f.GENKIT_VERSION,GenerateResponse:()=>c.GenerateResponse,GenerateResponseChunk:()=>c.GenerateResponseChunk,GenerationBlockedError:()=>c.GenerationBlockedError,GenerationCommonConfigSchema:()=>c.GenerationCommonConfigSchema,GenerationResponseError:()=>c.GenerationResponseError,GenkitError:()=>f.GenkitError,LlmResponseSchema:()=>c.LlmResponseSchema,LlmStatsSchema:()=>c.LlmStatsSchema,Message:()=>c.Message,MessageSchema:()=>c.MessageSchema,ModelRequestSchema:()=>c.ModelRequestSchema,ModelResponseSchema:()=>c.ModelResponseSchema,OperationSchema:()=>f.OperationSchema,PartSchema:()=>c.PartSchema,ReflectionServer:()=>f.ReflectionServer,RoleSchema:()=>c.RoleSchema,Session:()=>h.Session,StatusCodes:()=>f.StatusCodes,StatusSchema:()=>f.StatusSchema,ToolCallSchema:()=>c.ToolCallSchema,ToolInterruptError:()=>c.ToolInterruptError,ToolSchema:()=>c.ToolSchema,UserFacingError:()=>f.UserFacingError,defineJsonSchema:()=>f.defineJsonSchema,defineSchema:()=>f.defineSchema,dynamicResource:()=>c.dynamicResource,dynamicTool:()=>p.dynamicTool,embedderActionMetadata:()=>c.embedderActionMetadata,embedderRef:()=>c.embedderRef,evaluatorRef:()=>c.evaluatorRef,getClientHeader:()=>f.getClientHeader,getCurrentEnv:()=>f.getCurrentEnv,getStreamingCallback:()=>f.getStreamingCallback,indexerRef:()=>c.indexerRef,isDevEnv:()=>f.isDevEnv,modelActionMetadata:()=>c.modelActionMetadata,modelRef:()=>c.modelRef,rerankerRef:()=>c.rerankerRef,retrieverRef:()=>c.retrieverRef,runWithStreamingCallback:()=>f.runWithStreamingCallback,z:()=>f.z}),e.exports=l(u);var c=r(42178),d=r(55569),h=r(78475),p=r(34922),f=r(38591);(0,r(20736).initNodeFeatures)()},61077:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{EmbedderInfoSchema:()=>c.EmbedderInfoSchema,embedderRef:()=>c.embedderRef}),e.exports=l(u);var c=r(65067)},40381:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{Genkit:()=>A,__disableReflectionApi:()=>x,genkit:()=>w}),e.exports=l(u);var c=r(42178),d=r(65067),h=r(48891),p=r(17542),f=r(95959),m=r(94147),g=r(79665),y=r(34922),v=r(38591),b=r(75650),E=r(63778),S=r(57078),_=r(30025),T=r(26740);class A{options;registry;reflectionServer=null;flows=[];get apiStability(){return this.registry.apiStability}constructor(e){this.options=e||{},this.registry=new _.Registry,this.options.context&&(this.registry.context=this.options.context),this.configure(),(0,v.isDevEnv)()&&!R&&(this.reflectionServer=new v.ReflectionServer(this.registry,{configuredEnvs:["dev"],name:this.options.name}),this.reflectionServer.start().catch(e=>E.logger.error)),e?.clientHeader&&(0,v.setClientHeader)(e?.clientHeader)}defineFlow(e,t){let r=(0,v.defineFlow)(this.registry,e,t);return this.flows.push(r),r}defineTool(e,t){return(0,c.defineTool)(this.registry,e,t)}dynamicTool(e,t){return(0,y.dynamicTool)(e,t)}defineSchema(e,t){return(0,v.defineSchema)(this.registry,e,t)}defineJsonSchema(e,t){return(0,v.defineJsonSchema)(this.registry,e,t)}defineModel(e,t){return(0,f.defineModel)(this.registry,e,t)}defineBackgroundModel(e){return(0,f.defineBackgroundModel)(this.registry,e)}prompt(e,t){return this.wrapExecutablePromptPromise(`${e}${t?.variant?`.${t?.variant}`:""}`,(0,c.prompt)(this.registry,e,{...t,dir:this.options.promptDir??"./prompts"}))}wrapExecutablePromptPromise(e,t){let r=async(e,r)=>(await t)(e,r);return r.ref={name:e},r.render=async(e,r)=>(await t).render(e,r),r.stream=(r,n)=>{let i=new b.Channel,o=(0,T.runInNewSpan)(this.registry,{metadata:{name:e,input:r},labels:{[T.SPAN_TYPE_ATTR]:"dotprompt"}},()=>(0,c.generate)(this.registry,t.then(e=>e.render(r,{...n,onChunk:e=>i.send(e)}))));return o.then(()=>i.close(),e=>i.error(e)),{response:o,stream:i}},r.asTool=async()=>(await t).asTool(),r}definePrompt(e,t){if(t){if(e.messages)throw new v.GenkitError({status:"INVALID_ARGUMENT",message:"Cannot specify template/function argument and `options.messages` at the same time"});return"string"==typeof t?(0,c.definePrompt)(this.registry,{...e,messages:t}):(0,c.definePrompt)(this.registry,{...e,messages:async e=>(await t(e)).messages})}return(0,c.definePrompt)(this.registry,e)}defineRetriever(e,t){return(0,g.defineRetriever)(this.registry,e,t)}defineSimpleRetriever(e,t){return(0,g.defineSimpleRetriever)(this.registry,e,t)}defineIndexer(e,t){return(0,g.defineIndexer)(this.registry,e,t)}defineEvaluator(e,t){return(0,h.defineEvaluator)(this.registry,e,t)}defineEmbedder(e,t){return(0,d.defineEmbedder)(this.registry,e,t)}defineHelper(e,t){(0,c.defineHelper)(this.registry,e,t)}definePartial(e,t){(0,c.definePartial)(this.registry,e,t)}defineReranker(e,t){return(0,m.defineReranker)(this.registry,e,t)}embed(e){return(0,c.embed)(this.registry,e)}embedMany(e){return(0,d.embedMany)(this.registry,e)}evaluate(e){return(0,c.evaluate)(this.registry,e)}rerank(e){return(0,c.rerank)(this.registry,e)}index(e){return(0,g.index)(this.registry,e)}retrieve(e){return(0,c.retrieve)(this.registry,e)}async generate(e){let t;return t=e instanceof Promise?await e:"string"==typeof e||Array.isArray(e)?{prompt:e}:e,(0,c.generate)(this.registry,t)}generateStream(e){return("string"==typeof e||Array.isArray(e))&&(e={prompt:e}),(0,c.generateStream)(this.registry,e)}checkOperation(e){return(0,c.checkOperation)(this.registry,e)}run(e,t,r){return r?(0,v.run)(e,t,r,this.registry):(0,v.run)(e,t,this.registry)}currentContext(){return(0,v.getContext)()}configure(){let e=this.registry;(0,f.defineGenerateAction)(e),(0,p.configureFormats)(e);let t=[...this.options.plugins??[]];this.options.model&&this.registry.registerValue("defaultModel","defaultModel",this.options.model),null!==this.options.promptDir&&(0,c.loadPromptFolder)(this.registry,this.options.promptDir??"./prompts",""),t.forEach(t=>{if((0,S.isPluginV2)(t))E.logger.debug(`Registering v2 plugin ${t.name}...`),e.registerPluginProvider(t.name,{name:t.name,async initializer(){if(E.logger.debug(`Initializing plugin ${t.name}:`),!t.init)return;let r=await t.init();r?.forEach(r=>{C(e,r,t)})},async resolver(r,n){if(!t.resolve)return;let i=await t.resolve(r,n);i&&C(e,i,t)},listActions:async()=>"function"==typeof t.list?(await t.list()).map(e=>e.name.startsWith(`${t.name}/`)?e:{...e,name:`${t.name}/${e.name}`}):[]});else{let r=t(this);E.logger.debug(`Registering plugin ${r.name}...`),e.registerPluginProvider(r.name,{name:r.name,async initializer(){E.logger.debug(`Initializing plugin ${r.name}:`),await r.initializer()},async resolver(e,t){r.resolver&&await r.resolver(e,t)},listActions:async()=>r.listActions?await r.listActions():[]})}})}async stopServers(){await this.reflectionServer?.stop(),this.reflectionServer=null}}function C(e,t,r){if((0,v.isBackgroundAction)(t))(0,v.registerBackgroundAction)(e,t,{namespace:r.name});else if((0,v.isAction)(t)){if(!t.__action.actionType)throw new v.GenkitError({status:"INVALID_ARGUMENT",message:"Action type is missing for "+t.__action.name});e.registerAction(t.__action.actionType,t,{namespace:r.name})}else throw new v.GenkitError({status:"INVALID_ARGUMENT",message:"Unknown action type returned from plugin "+r.name})}function w(e){return new A(e)}let O=async()=>{E.logger.info("Shutting down all Genkit servers..."),await v.ReflectionServer.stopAll(),process.exit(0)};process.on("SIGTERM",O),process.on("SIGINT",O);let R=!1;function x(){R=!0}},47434:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=(e,t,r)=>(a(e,t,"default"),r&&a(r,t,"default")),u=e=>a(n({},"__esModule",{value:!0}),e),c={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(c,{Genkit:()=>d.Genkit,genkit:()=>d.genkit}),e.exports=u(c),l(c,r(59720),e.exports);var d=r(40381)},63778:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{logger:()=>c.logger}),e.exports=l(u);var c=r(72997)},49896:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{augmentWithContext:()=>c.augmentWithContext,downloadRequestMedia:()=>c.downloadRequestMedia,simulateSystemPrompt:()=>c.simulateSystemPrompt,validateSupport:()=>c.validateSupport}),e.exports=l(u);var c=r(28523)},16699:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{CandidateErrorSchema:()=>c.CandidateErrorSchema,CandidateSchema:()=>c.CandidateSchema,CustomPartSchema:()=>c.CustomPartSchema,DataPartSchema:()=>c.DataPartSchema,GenerateRequestSchema:()=>c.GenerateRequestSchema,GenerateResponseChunkSchema:()=>c.GenerateResponseChunkSchema,GenerateResponseSchema:()=>c.GenerateResponseSchema,GenerationCommonConfigDescriptions:()=>c.GenerationCommonConfigDescriptions,GenerationCommonConfigSchema:()=>c.GenerationCommonConfigSchema,GenerationUsageSchema:()=>c.GenerationUsageSchema,MediaPartSchema:()=>c.MediaPartSchema,MessageSchema:()=>c.MessageSchema,ModelInfoSchema:()=>c.ModelInfoSchema,ModelRequestSchema:()=>c.ModelRequestSchema,ModelResponseSchema:()=>c.ModelResponseSchema,PartSchema:()=>c.PartSchema,RoleSchema:()=>c.RoleSchema,TextPartSchema:()=>c.TextPartSchema,ToolDefinitionSchema:()=>c.ToolDefinitionSchema,ToolRequestPartSchema:()=>c.ToolRequestPartSchema,ToolResponsePartSchema:()=>c.ToolResponsePartSchema,getBasicUsageStats:()=>c.getBasicUsageStats,modelRef:()=>c.modelRef,simulateConstrainedGeneration:()=>c.simulateConstrainedGeneration}),e.exports=l(u);var c=r(95959)},57078:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{backgroundModel:()=>h.backgroundModel,embedder:()=>c.embedder,embedderActionMetadata:()=>c.embedderActionMetadata,evaluator:()=>d.evaluator,genkitPlugin:()=>m,genkitPluginV2:()=>g,indexer:()=>f.indexer,isPluginV2:()=>y,model:()=>h.model,modelActionMetadata:()=>h.modelActionMetadata,reranker:()=>p.reranker,retriever:()=>f.retriever}),e.exports=l(u);var c=r(65067),d=r(48891),h=r(95959),p=r(94147),f=r(79665);function m(e,t,r,n){return i=>({name:e,initializer:async()=>{await t(i)},resolver:async(e,t)=>{if(r)return await r(i,e,t)},listActions:async()=>n?await n():[]})}function g(e){return{...e,version:"v2"}}function y(e){return"v2"===e.version}},30025:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{Registry:()=>c.Registry}),e.exports=l(u);var c=r(90664)},26740:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,a=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of o(t))s.call(e,l)||l===r||n(e,l,{get:()=>t[l],enumerable:!(a=i(t,l))||a.enumerable});return e},l=e=>a(n({},"__esModule",{value:!0}),e),u={};((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(u,{SPAN_TYPE_ATTR:()=>c.SPAN_TYPE_ATTR,SpanContextSchema:()=>c.SpanContextSchema,SpanDataSchema:()=>c.SpanDataSchema,SpanMetadataSchema:()=>c.SpanMetadataSchema,SpanStatusSchema:()=>c.SpanStatusSchema,TimeEventSchema:()=>c.TimeEventSchema,TraceDataSchema:()=>c.TraceDataSchema,TraceMetadataSchema:()=>c.TraceMetadataSchema,TraceServerExporter:()=>c.TraceServerExporter,appendSpan:()=>c.appendSpan,disableOTelRootSpanDetection:()=>c.disableOTelRootSpanDetection,enableTelemetry:()=>c.enableTelemetry,flushTracing:()=>c.flushTracing,runInNewSpan:()=>c.runInNewSpan,setCustomMetadataAttribute:()=>c.setCustomMetadataAttribute,setCustomMetadataAttributes:()=>c.setCustomMetadataAttributes,setTelemetryServerUrl:()=>c.setTelemetryServerUrl,toDisplayPath:()=>c.toDisplayPath}),e.exports=l(u);var c=r(88186)},75775:(e,t)=>{var r,n=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;/**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   */var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function r(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function n(e){return!0===(e&&e.__isLong__)}function i(e){var t=Math.clz32(e&-e);return e?31-t:t}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=n;var o={},s={};function a(e,t){var r,n,i;return t?(e>>>=0,(i=0<=e&&e<256)&&(n=s[e]))?n:(r=u(e,0,!0),i&&(s[e]=r),r):(e|=0,(i=-128<=e&&e<128)&&(n=o[e]))?n:(r=u(e,e<0?-1:0,!1),i&&(o[e]=r),r)}function l(e,t){if(isNaN(e))return t?v:y;if(t){if(e<0)return v;if(e>=f)return T}else{if(e<=-m)return A;if(e+1>=m)return _}return e<0?l(-e,t).neg():u(e%p|0,e/p|0,t)}function u(e,t,n){return new r(e,t,n)}r.fromInt=a,r.fromNumber=l,r.fromBits=u;var c=Math.pow;function d(e,t,r){if(0===e.length)throw Error("empty string");if("number"==typeof t?(r=t,t=!1):t=!!t,"NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t?v:y;if((r=r||10)<2||36<r)throw RangeError("radix");if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return d(e.substring(1),t,r).neg();for(var n,i=l(c(r,8)),o=y,s=0;s<e.length;s+=8){var a=Math.min(8,e.length-s),u=parseInt(e.substring(s,s+a),r);if(a<8){var h=l(c(r,a));o=o.mul(h).add(l(u))}else o=(o=o.mul(i)).add(l(u))}return o.unsigned=t,o}function h(e,t){return"number"==typeof e?l(e,t):"string"==typeof e?d(e,t):u(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=d,r.fromValue=h;var p=4294967296,f=18446744073709552e3,m=0x7fffffffffffffff,g=a(16777216),y=a(0);r.ZERO=y;var v=a(0,!0);r.UZERO=v;var b=a(1);r.ONE=b;var E=a(1,!0);r.UONE=E;var S=a(-1);r.NEG_ONE=S;var _=u(-1,2147483647,!1);r.MAX_VALUE=_;var T=u(-1,-1,!0);r.MAX_UNSIGNED_VALUE=T;var A=u(0,-2147483648,!1);r.MIN_VALUE=A;var C=r.prototype;return C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},C.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(!this.eq(A))return"-"+this.neg().toString(e);var t=l(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}for(var i=l(c(e,6),this.unsigned),o=this,s="";;){var a=o.div(i),u=(o.sub(a.mul(i)).toInt()>>>0).toString(e);if((o=a).isZero())return u+s;for(;u.length<6;)u="0"+u;s=""+u+s}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(A)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&(e&1<<t)==0;t--);return 0!=this.high?t+33:t+1},C.isSafeInteger=function(){var e=this.high>>21;return!e||!this.unsigned&&-1===e&&!(0===this.low&&-2097152===this.high)},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return(1&this.low)==1},C.isEven=function(){return(1&this.low)==0},C.equals=function(e){return n(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},C.eq=C.equals,C.notEquals=function(e){return!this.eq(e)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(e){return 0>this.comp(e)},C.lt=C.lessThan,C.lessThanOrEqual=function(e){return 0>=this.comp(e)},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(e){return this.comp(e)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(e){return this.comp(e)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(e){if(n(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(A)?A:this.not().add(b)},C.neg=C.negate,C.add=function(e){n(e)||(e=h(e));var t,r,i=this.high>>>16,o=65535&this.high,s=this.low>>>16,a=65535&this.low,l=e.high>>>16,c=65535&e.high,d=e.low>>>16,p=65535&e.low,f=0,m=0;return t=0+((r=0+(a+p))>>>16),r&=65535,t+=s+d,m+=t>>>16,t&=65535,m+=o+c,f+=m>>>16,m&=65535,f+=i+l,u(t<<16|r,(f&=65535)<<16|m,this.unsigned)},C.subtract=function(e){return n(e)||(e=h(e)),this.add(e.neg())},C.sub=C.subtract,C.multiply=function(e){if(this.isZero())return this;if(n(e)||(e=h(e)),t)return u(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return this.unsigned?v:y;if(this.eq(A))return e.isOdd()?A:y;if(e.eq(A))return this.isOdd()?A:y;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(g)&&e.lt(g))return l(this.toNumber()*e.toNumber(),this.unsigned);var r,i,o=this.high>>>16,s=65535&this.high,a=this.low>>>16,c=65535&this.low,d=e.high>>>16,p=65535&e.high,f=e.low>>>16,m=65535&e.low,b=0,E=0;return r=0+((i=0+c*m)>>>16),i&=65535,r+=a*m,E+=r>>>16,r&=65535,r+=c*f,E+=r>>>16,r&=65535,E+=s*m,b+=E>>>16,E&=65535,E+=a*f,b+=E>>>16,E&=65535,E+=c*p,b+=E>>>16,E&=65535,b+=o*m+s*f+a*p+c*d,u(r<<16|i,(b&=65535)<<16|E,this.unsigned)},C.mul=C.multiply,C.divide=function(e){if(n(e)||(e=h(e)),e.isZero())throw Error("division by zero");if(t){var r,i,o;return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?u((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this}if(this.isZero())return this.unsigned?v:y;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return v;if(e.gt(this.shru(1)))return E;o=v}else{if(this.eq(A))return e.eq(b)||e.eq(S)?A:e.eq(A)?b:(r=this.shr(1).div(e).shl(1)).eq(y)?e.isNegative()?b:S:(i=this.sub(e.mul(r)),o=r.add(i.div(e)));if(e.eq(A))return this.unsigned?v:y;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=y}for(i=this;i.gte(e);){for(var s=Math.ceil(Math.log(r=Math.max(1,Math.floor(i.toNumber()/e.toNumber())))/Math.LN2),a=s<=48?1:c(2,s-48),d=l(r),p=d.mul(e);p.isNegative()||p.gt(i);)r-=a,p=(d=l(r,this.unsigned)).mul(e);d.isZero()&&(d=b),o=o.add(d),i=i.sub(p)}return o},C.div=C.divide,C.modulo=function(e){return(n(e)||(e=h(e)),t)?u((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return u(~this.low,~this.high,this.unsigned)},C.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},C.clz=C.countLeadingZeros,C.countTrailingZeros=function(){return this.low?i(this.low):i(this.high)+32},C.ctz=C.countTrailingZeros,C.and=function(e){return n(e)||(e=h(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},C.or=function(e){return n(e)||(e=h(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},C.xor=function(e){return n(e)||(e=h(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},C.shiftLeft=function(e){return(n(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(e){return(n(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(e){return(n(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):32===e?u(this.high,0,this.unsigned):u(this.high>>>e-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.rotateLeft=function(e){var t;return(n(e)&&(e=e.toInt()),0==(e&=63))?this:32===e?u(this.high,this.low,this.unsigned):e<32?(t=32-e,u(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(e-=32,t=32-e,u(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))},C.rotl=C.rotateLeft,C.rotateRight=function(e){var t;return(n(e)&&(e=e.toInt()),0==(e&=63))?this:32===e?u(this.high,this.low,this.unsigned):e<32?(t=32-e,u(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(e-=32,t=32-e,u(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))},C.rotr=C.rotateRight,C.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},C.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},C.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)},"function"==typeof BigInt&&(r.fromBigInt=function(e,t){return u(Number(BigInt.asIntN(32,e)),Number(BigInt.asIntN(32,e>>BigInt(32))),t)},r.fromValue=function(e,t){return"bigint"==typeof e?fromBigInt(e,t):h(e,t)},C.toBigInt=function(){var e=BigInt(this.low>>>0);return BigInt(this.unsigned?this.high>>>0:this.high)<<BigInt(32)|e}),e.default=r,"default"in e?e.default:e}({});void 0!==(r=(function(){return n}).apply(t,[]))&&(e.exports=r)},82647:(e,t,r)=>{"use strict";var n=r(28440),i=r(45134),o=r(31387),s=r(10472),a=r(7793),l=r(7209),u=r(5152);function c(e,t,r,n,i,o){let s="block-map"===r.type?a.resolveBlockMap(e,t,r,n,o):"block-seq"===r.type?l.resolveBlockSeq(e,t,r,n,o):u.resolveFlowCollection(e,t,r,n,o),c=s.constructor;return"!"===i||i===c.tagName?s.tag=c.tagName:i&&(s.tag=i),s}function d(e,t,r,a,l){let u=a.tag,d=u?t.directives.tagName(u.source,e=>l(u,"TAG_RESOLVE_FAILED",e)):null;if("block-seq"===r.type){let{anchor:e,newlineAfterProp:t}=a,r=e&&u?e.offset>u.offset?e:u:e??u;r&&(!t||t.offset<r.offset)&&l(r,"MISSING_CHAR","Missing newline after block sequence props")}let h="block-map"===r.type?"map":"block-seq"===r.type?"seq":"{"===r.start.source?"map":"seq";if(!u||!d||"!"===d||d===o.YAMLMap.tagName&&"map"===h||d===s.YAMLSeq.tagName&&"seq"===h)return c(e,t,r,l,d);let p=t.schema.tags.find(e=>e.tag===d&&e.collection===h);if(!p){let n=t.schema.knownTags[d];if(!n||n.collection!==h)return n?l(u,"BAD_COLLECTION_TYPE",`${n.tag} used for ${h} collection, but expects ${n.collection??"scalar"}`,!0):l(u,"TAG_RESOLVE_FAILED",`Unresolved tag: ${d}`,!0),c(e,t,r,l,d);t.schema.tags.push(Object.assign({},n,{default:!1})),p=n}let f=c(e,t,r,l,d,p),m=p.resolve?.(f,e=>l(u,"TAG_RESOLVE_FAILED",e),t.options)??f,g=n.isNode(m)?m:new i.Scalar(m);return g.range=f.range,g.tag=d,p?.format&&(g.format=p.format),g}t.composeCollection=d},97409:(e,t,r)=>{"use strict";var n=r(18227),i=r(88984),o=r(78146),s=r(72817);function a(e,t,{offset:r,start:a,value:l,end:u},c){let d=Object.assign({_directives:t},e),h=new n.Document(void 0,d),p={atKey:!1,atRoot:!0,directives:h.directives,options:h.options,schema:h.schema},f=s.resolveProps(a,{indicator:"doc-start",next:l??u?.[0],offset:r,onError:c,parentIndent:0,startOnNewline:!0});f.found&&(h.directives.docStart=!0,l&&("block-map"===l.type||"block-seq"===l.type)&&!f.hasNewline&&c(f.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),h.contents=l?i.composeNode(p,l,f,c):i.composeEmptyNode(p,f.end,a,null,f,c);let m=h.contents.range[2],g=o.resolveEnd(u,m,!1,c);return g.comment&&(h.comment=g.comment),h.range=[r,m,g.offset],h}t.composeDoc=a},88984:(e,t,r)=>{"use strict";var n=r(58522),i=r(28440),o=r(82647),s=r(4408),a=r(78146),l=r(18312);let u={composeNode:c,composeEmptyNode:d};function c(e,t,r,n){let a;let l=e.atKey,{spaceBefore:c,comment:p,anchor:f,tag:m}=r,g=!0;switch(t.type){case"alias":a=h(e,t,n),(f||m)&&n(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":a=s.composeScalar(e,t,m,n),f&&(a.anchor=f.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":a=o.composeCollection(u,e,t,r,n),f&&(a.anchor=f.source.substring(1));break;default:{let i="error"===t.type?t.message:`Unsupported token (type: ${t.type})`;n(t,"UNEXPECTED_TOKEN",i),a=d(e,t.offset,void 0,null,r,n),g=!1}}return f&&""===a.anchor&&n(f,"BAD_ALIAS","Anchor cannot be an empty string"),l&&e.options.stringKeys&&(!i.isScalar(a)||"string"!=typeof a.value||a.tag&&"tag:yaml.org,2002:str"!==a.tag)&&n(m??t,"NON_STRING_KEY","With stringKeys, all keys must be strings"),c&&(a.spaceBefore=!0),p&&("scalar"===t.type&&""===t.source?a.comment=p:a.commentBefore=p),e.options.keepSourceTokens&&g&&(a.srcToken=t),a}function d(e,t,r,n,{spaceBefore:i,comment:o,anchor:a,tag:u,end:c},d){let h={type:"scalar",offset:l.emptyScalarPosition(t,r,n),indent:-1,source:""},p=s.composeScalar(e,h,u,d);return a&&(p.anchor=a.source.substring(1),""===p.anchor&&d(a,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(p.spaceBefore=!0),o&&(p.comment=o,p.range[2]=c),p}function h({options:e},{offset:t,source:r,end:i},o){let s=new n.Alias(r.substring(1));""===s.source&&o(t,"BAD_ALIAS","Alias cannot be an empty string"),s.source.endsWith(":")&&o(t+r.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let l=t+r.length,u=a.resolveEnd(i,l,e.strict,o);return s.range=[t,l,u.offset],u.comment&&(s.comment=u.comment),s}t.composeEmptyNode=d,t.composeNode=c},4408:(e,t,r)=>{"use strict";var n=r(28440),i=r(45134),o=r(68272),s=r(64103);function a(e,t,r,a){let c,d;let{value:h,type:p,comment:f,range:m}="block-scalar"===t.type?o.resolveBlockScalar(e,t,a):s.resolveFlowScalar(t,e.options.strict,a),g=r?e.directives.tagName(r.source,e=>a(r,"TAG_RESOLVE_FAILED",e)):null;c=e.options.stringKeys&&e.atKey?e.schema[n.SCALAR]:g?l(e.schema,h,g,r,a):"scalar"===t.type?u(e,h,t,a):e.schema[n.SCALAR];try{let o=c.resolve(h,e=>a(r??t,"TAG_RESOLVE_FAILED",e),e.options);d=n.isScalar(o)?o:new i.Scalar(o)}catch(e){a(r??t,"TAG_RESOLVE_FAILED",e instanceof Error?e.message:String(e)),d=new i.Scalar(h)}return d.range=m,d.source=h,p&&(d.type=p),g&&(d.tag=g),c.format&&(d.format=c.format),f&&(d.comment=f),d}function l(e,t,r,i,o){if("!"===r)return e[n.SCALAR];let s=[];for(let t of e.tags)if(!t.collection&&t.tag===r){if(!t.default||!t.test)return t;s.push(t)}for(let e of s)if(e.test?.test(t))return e;let a=e.knownTags[r];return a&&!a.collection?(e.tags.push(Object.assign({},a,{default:!1,test:void 0})),a):(o(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${r}`,"tag:yaml.org,2002:str"!==r),e[n.SCALAR])}function u({atKey:e,directives:t,schema:r},i,o,s){let a=r.tags.find(t=>(!0===t.default||e&&"key"===t.default)&&t.test?.test(i))||r[n.SCALAR];if(r.compat){let e=r.compat.find(e=>e.default&&e.test?.test(i))??r[n.SCALAR];if(a.tag!==e.tag){let r=t.tagString(a.tag),n=t.tagString(e.tag);s(o,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${r} or ${n}`,!0)}}return a}t.composeScalar=a},82101:(e,t,r)=>{"use strict";var n=r(77282),i=r(2476),o=r(18227),s=r(98532),a=r(28440),l=r(97409),u=r(78146);function c(e){if("number"==typeof e)return[e,e+1];if(Array.isArray(e))return 2===e.length?e:[e[0],e[1]];let{offset:t,source:r}=e;return[t,t+("string"==typeof r?r.length:1)]}function d(e){let t="",r=!1,n=!1;for(let i=0;i<e.length;++i){let o=e[i];switch(o[0]){case"#":t+=(""===t?"":n?"\n\n":"\n")+(o.substring(1)||" "),r=!0,n=!1;break;case"%":e[i+1]?.[0]!=="#"&&(i+=1),r=!1;break;default:r||(n=!0),r=!1}}return{comment:t,afterEmptyLine:n}}class h{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(e,t,r,n)=>{let i=c(e);n?this.warnings.push(new s.YAMLWarning(i,t,r)):this.errors.push(new s.YAMLParseError(i,t,r))},this.directives=new i.Directives({version:e.version||"1.2"}),this.options=e}decorate(e,t){let{comment:r,afterEmptyLine:n}=d(this.prelude);if(r){let i=e.contents;if(t)e.comment=e.comment?`${e.comment}
${r}`:r;else if(n||e.directives.docStart||!i)e.commentBefore=r;else if(a.isCollection(i)&&!i.flow&&i.items.length>0){let e=i.items[0];a.isPair(e)&&(e=e.key);let t=e.commentBefore;e.commentBefore=t?`${r}
${t}`:r}else{let e=i.commentBefore;i.commentBefore=e?`${r}
${e}`:r}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:d(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,r=-1){for(let t of e)yield*this.next(t);yield*this.end(t,r)}*next(e){switch(n.env.LOG_STREAM&&console.dir(e,{depth:null}),e.type){case"directive":this.directives.add(e.source,(t,r,n)=>{let i=c(e);i[0]+=t,this.onError(i,"BAD_DIRECTIVE",r,n)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{let t=l.composeDoc(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{let t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,r=new s.YAMLParseError(c(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){let t="Unexpected doc-end without preceding document";this.errors.push(new s.YAMLParseError(c(e),"UNEXPECTED_TOKEN",t));break}this.doc.directives.docEnd=!0;let t=u.resolveEnd(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){let e=this.doc.comment;this.doc.comment=e?`${e}
${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new s.YAMLParseError(c(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){let e=Object.assign({_directives:this.directives},this.options),r=new o.Document(void 0,e);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),r.range=[0,t,t],this.decorate(r,!1),yield r}}}t.Composer=h},7793:(e,t,r)=>{"use strict";var n=r(61213),i=r(31387),o=r(72817),s=r(48190),a=r(1103),l=r(88954);let u="All mapping items must start at the same column";function c({composeNode:e,composeEmptyNode:t},r,c,d,h){let p=new(h?.nodeClass??i.YAMLMap)(r.schema);r.atRoot&&(r.atRoot=!1);let f=c.offset,m=null;for(let i of c.items){let{start:h,key:g,sep:y,value:v}=i,b=o.resolveProps(h,{indicator:"explicit-key-ind",next:g??y?.[0],offset:f,onError:d,parentIndent:c.indent,startOnNewline:!0}),E=!b.found;if(E){if(g&&("block-seq"===g.type?d(f,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in g&&g.indent!==c.indent&&d(f,"BAD_INDENT",u)),!b.anchor&&!b.tag&&!y){m=b.end,b.comment&&(p.comment?p.comment+="\n"+b.comment:p.comment=b.comment);continue}(b.newlineAfterProp||s.containsNewline(g))&&d(g??h[h.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else b.found?.indent!==c.indent&&d(f,"BAD_INDENT",u);r.atKey=!0;let S=b.end,_=g?e(r,g,b,d):t(r,S,h,null,b,d);r.schema.compat&&a.flowIndentCheck(c.indent,g,d),r.atKey=!1,l.mapIncludes(r,p.items,_)&&d(S,"DUPLICATE_KEY","Map keys must be unique");let T=o.resolveProps(y??[],{indicator:"map-value-ind",next:v,offset:_.range[2],onError:d,parentIndent:c.indent,startOnNewline:!g||"block-scalar"===g.type});if(f=T.end,T.found){E&&(v?.type!=="block-map"||T.hasNewline||d(f,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),r.options.strict&&b.start<T.found.offset-1024&&d(_.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let o=v?e(r,v,T,d):t(r,f,y,null,T,d);r.schema.compat&&a.flowIndentCheck(c.indent,v,d),f=o.range[2];let s=new n.Pair(_,o);r.options.keepSourceTokens&&(s.srcToken=i),p.items.push(s)}else{E&&d(_.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),T.comment&&(_.comment?_.comment+="\n"+T.comment:_.comment=T.comment);let e=new n.Pair(_);r.options.keepSourceTokens&&(e.srcToken=i),p.items.push(e)}}return m&&m<f&&d(m,"IMPOSSIBLE","Map comment with trailing content"),p.range=[c.offset,f,m??f],p}t.resolveBlockMap=c},68272:(e,t,r)=>{"use strict";var n=r(45134);function i(e,t,r){let i=t.offset,a=o(t,e.options.strict,r);if(!a)return{value:"",type:null,comment:"",range:[i,i,i]};let l=">"===a.mode?n.Scalar.BLOCK_FOLDED:n.Scalar.BLOCK_LITERAL,u=t.source?s(t.source):[],c=u.length;for(let e=u.length-1;e>=0;--e){let t=u[e][1];if(""===t||"\r"===t)c=e;else break}if(0===c){let e="+"===a.chomp&&u.length>0?"\n".repeat(Math.max(1,u.length-1)):"",r=i+a.length;return t.source&&(r+=t.source.length),{value:e,type:l,comment:a.comment,range:[i,r,r]}}let d=t.indent+a.indent,h=t.offset+a.length,p=0;for(let t=0;t<c;++t){let[n,i]=u[t];if(""===i||"\r"===i)0===a.indent&&n.length>d&&(d=n.length);else{if(n.length<d){let e="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";r(h+n.length,"MISSING_CHAR",e)}0===a.indent&&(d=n.length),p=t,0!==d||e.atRoot||r(h,"BAD_INDENT","Block scalar values in collections must be indented");break}h+=n.length+i.length+1}for(let e=u.length-1;e>=c;--e)u[e][0].length>d&&(c=e+1);let f="",m="",g=!1;for(let e=0;e<p;++e)f+=u[e][0].slice(d)+"\n";for(let e=p;e<c;++e){let[t,i]=u[e];h+=t.length+i.length+1;let o="\r"===i[i.length-1];if(o&&(i=i.slice(0,-1)),i&&t.length<d){let e=a.indent?"explicit indentation indicator":"first line",n=`Block scalar lines must not be less indented than their ${e}`;r(h-i.length-(o?2:1),"BAD_INDENT",n),t=""}l===n.Scalar.BLOCK_LITERAL?(f+=m+t.slice(d)+i,m="\n"):t.length>d||"	"===i[0]?(" "===m?m="\n":g||"\n"!==m||(m="\n\n"),f+=m+t.slice(d)+i,m="\n",g=!0):""===i?"\n"===m?f+="\n":m="\n":(f+=m+i,m=" ",g=!1)}switch(a.chomp){case"-":break;case"+":for(let e=c;e<u.length;++e)f+="\n"+u[e][0].slice(d);"\n"!==f[f.length-1]&&(f+="\n");break;default:f+="\n"}let y=i+a.length+t.source.length;return{value:f,type:l,comment:a.comment,range:[i,y,y]}}function o({offset:e,props:t},r,n){if("block-scalar-header"!==t[0].type)return n(t[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:i}=t[0],o=i[0],s=0,a="",l=-1;for(let t=1;t<i.length;++t){let r=i[t];if(a||"-"!==r&&"+"!==r){let n=Number(r);!s&&n?s=n:-1===l&&(l=e+t)}else a=r}-1!==l&&n(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let u=!1,c="",d=i.length;for(let e=1;e<t.length;++e){let i=t[e];switch(i.type){case"space":u=!0;case"newline":d+=i.source.length;break;case"comment":r&&!u&&n(i,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),d+=i.source.length,c=i.source.substring(1);break;case"error":n(i,"UNEXPECTED_TOKEN",i.message),d+=i.source.length;break;default:{let e=`Unexpected token in block scalar header: ${i.type}`;n(i,"UNEXPECTED_TOKEN",e);let t=i.source;t&&"string"==typeof t&&(d+=t.length)}}}return{mode:o,indent:s,chomp:a,comment:c,length:d}}function s(e){let t=e.split(/\n( *)/),r=t[0],n=r.match(/^( *)/),i=[n?.[1]?[n[1],r.slice(n[1].length)]:["",r]];for(let e=1;e<t.length;e+=2)i.push([t[e],t[e+1]]);return i}t.resolveBlockScalar=i},7209:(e,t,r)=>{"use strict";var n=r(10472),i=r(72817),o=r(1103);function s({composeNode:e,composeEmptyNode:t},r,s,a,l){let u=new(l?.nodeClass??n.YAMLSeq)(r.schema);r.atRoot&&(r.atRoot=!1),r.atKey&&(r.atKey=!1);let c=s.offset,d=null;for(let{start:n,value:l}of s.items){let h=i.resolveProps(n,{indicator:"seq-item-ind",next:l,offset:c,onError:a,parentIndent:s.indent,startOnNewline:!0});if(!h.found){if(h.anchor||h.tag||l)l&&"block-seq"===l.type?a(h.end,"BAD_INDENT","All sequence items must start at the same column"):a(c,"MISSING_CHAR","Sequence item without - indicator");else{d=h.end,h.comment&&(u.comment=h.comment);continue}}let p=l?e(r,l,h,a):t(r,h.end,n,null,h,a);r.schema.compat&&o.flowIndentCheck(s.indent,l,a),c=p.range[2],u.items.push(p)}return u.range=[s.offset,c,d??c],u}t.resolveBlockSeq=s},78146:(e,t)=>{"use strict";function r(e,t,r,n){let i="";if(e){let o=!1,s="";for(let a of e){let{source:e,type:l}=a;switch(l){case"space":o=!0;break;case"comment":{r&&!o&&n(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let t=e.substring(1)||" ";i?i+=s+t:i=t,s="";break}case"newline":i&&(s+=e),o=!0;break;default:n(a,"UNEXPECTED_TOKEN",`Unexpected ${l} at node end`)}t+=e.length}}return{comment:i,offset:t}}t.resolveEnd=r},5152:(e,t,r)=>{"use strict";var n=r(28440),i=r(61213),o=r(31387),s=r(10472),a=r(78146),l=r(72817),u=r(48190),c=r(88954);let d="Block collections are not allowed within flow collections",h=e=>e&&("block-map"===e.type||"block-seq"===e.type);function p({composeNode:e,composeEmptyNode:t},r,p,f,m){let g="{"===p.start.source,y=g?"flow map":"flow sequence",v=new(m?.nodeClass??(g?o.YAMLMap:s.YAMLSeq))(r.schema);v.flow=!0;let b=r.atRoot;b&&(r.atRoot=!1),r.atKey&&(r.atKey=!1);let E=p.offset+p.start.source.length;for(let s=0;s<p.items.length;++s){let a=p.items[s],{start:m,key:b,sep:S,value:_}=a,T=l.resolveProps(m,{flow:y,indicator:"explicit-key-ind",next:b??S?.[0],offset:E,onError:f,parentIndent:p.indent,startOnNewline:!1});if(!T.found){if(!T.anchor&&!T.tag&&!S&&!_){0===s&&T.comma?f(T.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${y}`):s<p.items.length-1&&f(T.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${y}`),T.comment&&(v.comment?v.comment+="\n"+T.comment:v.comment=T.comment),E=T.end;continue}!g&&r.options.strict&&u.containsNewline(b)&&f(b,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===s)T.comma&&f(T.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${y}`);else if(T.comma||f(T.start,"MISSING_CHAR",`Missing , between ${y} items`),T.comment){let e="";r:for(let t of m)switch(t.type){case"comma":case"space":break;case"comment":e=t.source.substring(1);break r;default:break r}if(e){let t=v.items[v.items.length-1];n.isPair(t)&&(t=t.value??t.key),t.comment?t.comment+="\n"+e:t.comment=e,T.comment=T.comment.substring(e.length+1)}}if(g||S||T.found){r.atKey=!0;let n=T.end,s=b?e(r,b,T,f):t(r,n,m,null,T,f);h(b)&&f(s.range,"BLOCK_IN_FLOW",d),r.atKey=!1;let u=l.resolveProps(S??[],{flow:y,indicator:"map-value-ind",next:_,offset:s.range[2],onError:f,parentIndent:p.indent,startOnNewline:!1});if(u.found){if(!g&&!T.found&&r.options.strict){if(S)for(let e of S){if(e===u.found)break;if("newline"===e.type){f(e,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}T.start<u.found.offset-1024&&f(u.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else _&&("source"in _&&_.source&&":"===_.source[0]?f(_,"MISSING_CHAR",`Missing space after : in ${y}`):f(u.start,"MISSING_CHAR",`Missing , or : between ${y} items`));let A=_?e(r,_,u,f):u.found?t(r,u.end,S,null,u,f):null;A?h(_)&&f(A.range,"BLOCK_IN_FLOW",d):u.comment&&(s.comment?s.comment+="\n"+u.comment:s.comment=u.comment);let C=new i.Pair(s,A);if(r.options.keepSourceTokens&&(C.srcToken=a),g){let e=v;c.mapIncludes(r,e.items,s)&&f(n,"DUPLICATE_KEY","Map keys must be unique"),e.items.push(C)}else{let e=new o.YAMLMap(r.schema);e.flow=!0,e.items.push(C);let t=(A??s).range;e.range=[s.range[0],t[1],t[2]],v.items.push(e)}E=A?A.range[2]:u.end}else{let n=_?e(r,_,T,f):t(r,T.end,S,null,T,f);v.items.push(n),E=n.range[2],h(_)&&f(n.range,"BLOCK_IN_FLOW",d)}}let S=g?"}":"]",[_,...T]=p.end,A=E;if(_&&_.source===S)A=_.offset+_.source.length;else{let e=y[0].toUpperCase()+y.substring(1),t=b?`${e} must end with a ${S}`:`${e} in block collection must be sufficiently indented and end with a ${S}`;f(E,b?"MISSING_CHAR":"BAD_INDENT",t),_&&1!==_.source.length&&T.unshift(_)}if(T.length>0){let e=a.resolveEnd(T,A,r.options.strict,f);e.comment&&(v.comment?v.comment+="\n"+e.comment:v.comment=e.comment),v.range=[p.offset,A,e.offset]}else v.range=[p.offset,A,A];return v}t.resolveFlowCollection=p},64103:(e,t,r)=>{"use strict";var n=r(45134),i=r(78146);function o(e,t,r){let o,l;let{offset:c,type:d,source:h,end:p}=e,f=(e,t,n)=>r(c+e,t,n);switch(d){case"scalar":o=n.Scalar.PLAIN,l=s(h,f);break;case"single-quoted-scalar":o=n.Scalar.QUOTE_SINGLE,l=a(h,f);break;case"double-quoted-scalar":o=n.Scalar.QUOTE_DOUBLE,l=u(h,f);break;default:return r(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${d}`),{value:"",type:null,comment:"",range:[c,c+h.length,c+h.length]}}let m=c+h.length,g=i.resolveEnd(p,m,t,r);return{value:l,type:o,comment:g.comment,range:[c,m,g.offset]}}function s(e,t){let r="";switch(e[0]){case"	":r="a tab character";break;case",":r="flow indicator character ,";break;case"%":r="directive indicator character %";break;case"|":case">":r=`block scalar indicator ${e[0]}`;break;case"@":case"`":r=`reserved character ${e[0]}`}return r&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${r}`),l(e)}function a(e,t){return("'"!==e[e.length-1]||1===e.length)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),l(e.slice(1,-1)).replace(/''/g,"'")}function l(e){let t,r;try{t=RegExp("(.*?)(?<![ 	])[ 	]*\r?\n","sy"),r=RegExp("[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?\n","sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,r=/[ \t]*(.*?)[ \t]*\r?\n/sy}let n=t.exec(e);if(!n)return e;let i=n[1],o=" ",s=t.lastIndex;for(r.lastIndex=s;n=r.exec(e);)""===n[1]?"\n"===o?i+=o:o="\n":(i+=o+n[1],o=" "),s=r.lastIndex;let a=/[ \t]*(.*)/sy;return a.lastIndex=s,n=a.exec(e),i+o+(n?.[1]??"")}function u(e,t){let r="";for(let n=1;n<e.length-1;++n){let i=e[n];if("\r"!==i||"\n"!==e[n+1]){if("\n"===i){let{fold:t,offset:i}=c(e,n);r+=t,n=i}else if("\\"===i){let i=e[++n],o=d[i];if(o)r+=o;else if("\n"===i)for(i=e[n+1];" "===i||"	"===i;)i=e[++n+1];else if("\r"===i&&"\n"===e[n+1])for(i=e[++n+1];" "===i||"	"===i;)i=e[++n+1];else if("x"===i||"u"===i||"U"===i){let o={x:2,u:4,U:8}[i];r+=h(e,n+1,o,t),n+=o}else{let i=e.substr(n-1,2);t(n-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${i}`),r+=i}}else if(" "===i||"	"===i){let t=n,o=e[n+1];for(;" "===o||"	"===o;)o=e[++n+1];"\n"===o||"\r"===o&&"\n"===e[n+2]||(r+=n>t?e.slice(t,n+1):i)}else r+=i}}return('"'!==e[e.length-1]||1===e.length)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),r}function c(e,t){let r="",n=e[t+1];for(;(" "===n||"	"===n||"\n"===n||"\r"===n)&&("\r"!==n||"\n"===e[t+2]);)"\n"===n&&(r+="\n"),t+=1,n=e[t+1];return r||(r=" "),{fold:r,offset:t}}let d={0:"\0",a:"\x07",b:"\b",e:"\x1b",f:"\f",n:"\n",r:"\r",t:"	",v:"\v",N:"\x85",_:"\xa0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function h(e,t,r,n){let i=e.substr(t,r),o=i.length===r&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(o)){let i=e.substr(t-2,r+2);return n(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${i}`),i}return String.fromCodePoint(o)}t.resolveFlowScalar=o},72817:(e,t)=>{"use strict";function r(e,{flow:t,indicator:r,next:n,offset:i,onError:o,parentIndent:s,startOnNewline:a}){let l=!1,u=a,c=a,d="",h="",p=!1,f=!1,m=null,g=null,y=null,v=null,b=null,E=null,S=null;for(let i of e)switch(f&&("space"!==i.type&&"newline"!==i.type&&"comma"!==i.type&&o(i.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),f=!1),m&&(u&&"comment"!==i.type&&"newline"!==i.type&&o(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),m=null),i.type){case"space":!t&&("doc-start"!==r||n?.type!=="flow-collection")&&i.source.includes("	")&&(m=i),c=!0;break;case"comment":{c||o(i,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let e=i.source.substring(1)||" ";d?d+=h+e:d=e,h="",u=!1;break}case"newline":u?d?d+=i.source:E&&"seq-item-ind"===r||(l=!0):h+=i.source,u=!0,p=!0,(g||y)&&(v=i),c=!0;break;case"anchor":g&&o(i,"MULTIPLE_ANCHORS","A node can have at most one anchor"),i.source.endsWith(":")&&o(i.offset+i.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),g=i,S??(S=i.offset),u=!1,c=!1,f=!0;break;case"tag":y&&o(i,"MULTIPLE_TAGS","A node can have at most one tag"),y=i,S??(S=i.offset),u=!1,c=!1,f=!0;break;case r:(g||y)&&o(i,"BAD_PROP_ORDER",`Anchors and tags must be after the ${i.source} indicator`),E&&o(i,"UNEXPECTED_TOKEN",`Unexpected ${i.source} in ${t??"collection"}`),E=i,u="seq-item-ind"===r||"explicit-key-ind"===r,c=!1;break;case"comma":if(t){b&&o(i,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),b=i,u=!1,c=!1;break}default:o(i,"UNEXPECTED_TOKEN",`Unexpected ${i.type} token`),u=!1,c=!1}let _=e[e.length-1],T=_?_.offset+_.source.length:i;return f&&n&&"space"!==n.type&&"newline"!==n.type&&"comma"!==n.type&&("scalar"!==n.type||""!==n.source)&&o(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m&&(u&&m.indent<=s||n?.type==="block-map"||n?.type==="block-seq")&&o(m,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:b,found:E,spaceBefore:l,comment:d,hasNewline:p,anchor:g,tag:y,newlineAfterProp:v,end:T,start:S??T}}t.resolveProps=r},48190:(e,t)=>{"use strict";function r(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes("\n"))return!0;if(e.end){for(let t of e.end)if("newline"===t.type)return!0}return!1;case"flow-collection":for(let t of e.items){for(let e of t.start)if("newline"===e.type)return!0;if(t.sep){for(let e of t.sep)if("newline"===e.type)return!0}if(r(t.key)||r(t.value))return!0}return!1;default:return!0}}t.containsNewline=r},18312:(e,t)=>{"use strict";function r(e,t,r){if(t){r??(r=t.length);for(let n=r-1;n>=0;--n){let r=t[n];switch(r.type){case"space":case"comment":case"newline":e-=r.source.length;continue}for(r=t[++n];r?.type==="space";)e+=r.source.length,r=t[++n];break}}return e}t.emptyScalarPosition=r},1103:(e,t,r)=>{"use strict";var n=r(48190);function i(e,t,r){if(t?.type==="flow-collection"){let i=t.end[0];i.indent===e&&("]"===i.source||"}"===i.source)&&n.containsNewline(t)&&r(i,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}t.flowIndentCheck=i},88954:(e,t,r)=>{"use strict";var n=r(28440);function i(e,t,r){let{uniqueKeys:i}=e.options;if(!1===i)return!1;let o="function"==typeof i?i:(e,t)=>e===t||n.isScalar(e)&&n.isScalar(t)&&e.value===t.value;return t.some(e=>o(e.key,r))}t.mapIncludes=i},18227:(e,t,r)=>{"use strict";var n=r(58522),i=r(85475),o=r(28440),s=r(61213),a=r(38933),l=r(40474),u=r(31466),c=r(51014),d=r(40880),h=r(86058),p=r(2476);class f{constructor(e,t,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,o.NODE_TYPE,{value:o.DOC});let n=null;"function"==typeof t||Array.isArray(t)?n=t:void 0===r&&t&&(r=t,t=void 0);let i=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=i;let{version:s}=i;r?._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(s=this.directives.yaml.version)):this.directives=new p.Directives({version:s}),this.setSchema(s,r),this.contents=void 0===e?null:this.createNode(e,n,r)}clone(){let e=Object.create(f.prototype,{[o.NODE_TYPE]:{value:o.DOC}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=o.isNode(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){m(this.contents)&&this.contents.add(e)}addIn(e,t){m(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){let r=c.anchorNames(this);e.anchor=!t||r.has(t)?c.findNewAnchor(t||"a",r):t}return new n.Alias(e.anchor)}createNode(e,t,r){let n;if("function"==typeof t)e=t.call({"":e},"",e),n=t;else if(Array.isArray(t)){let e=e=>"number"==typeof e||e instanceof String||e instanceof Number,r=t.filter(e).map(String);r.length>0&&(t=t.concat(r)),n=t}else void 0===r&&t&&(r=t,t=void 0);let{aliasDuplicateObjects:i,anchorPrefix:s,flow:a,keepUndefined:l,onTagObj:u,tag:d}=r??{},{onAnchor:p,setAnchors:f,sourceObjects:m}=c.createNodeAnchors(this,s||"a"),g={aliasDuplicateObjects:i??!0,keepUndefined:l??!1,onAnchor:p,onTagObj:u,replacer:n,schema:this.schema,sourceObjects:m},y=h.createNode(e,d,g);return a&&o.isCollection(y)&&(y.flow=!0),f(),y}createPair(e,t,r={}){let n=this.createNode(e,null,r),i=this.createNode(t,null,r);return new s.Pair(n,i)}delete(e){return!!m(this.contents)&&this.contents.delete(e)}deleteIn(e){return i.isEmptyPath(e)?null!=this.contents&&(this.contents=null,!0):!!m(this.contents)&&this.contents.deleteIn(e)}get(e,t){return o.isCollection(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return i.isEmptyPath(e)?!t&&o.isScalar(this.contents)?this.contents.value:this.contents:o.isCollection(this.contents)?this.contents.getIn(e,t):void 0}has(e){return!!o.isCollection(this.contents)&&this.contents.has(e)}hasIn(e){return i.isEmptyPath(e)?void 0!==this.contents:!!o.isCollection(this.contents)&&this.contents.hasIn(e)}set(e,t){null==this.contents?this.contents=i.collectionFromPath(this.schema,[e],t):m(this.contents)&&this.contents.set(e,t)}setIn(e,t){i.isEmptyPath(e)?this.contents=t:null==this.contents?this.contents=i.collectionFromPath(this.schema,Array.from(e),t):m(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){let r;switch("number"==typeof e&&(e=String(e)),e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new p.Directives({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new p.Directives({version:e}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{let t=JSON.stringify(e);throw Error(`Expected '1.1', '1.2' or null as first argument, but found: ${t}`)}}if(t.schema instanceof Object)this.schema=t.schema;else if(r)this.schema=new l.Schema(Object.assign(r,t));else throw Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:t,mapAsMap:r,maxAliasCount:n,onAnchor:i,reviver:o}={}){let s={anchors:new Map,doc:this,keep:!e,mapAsMap:!0===r,mapKeyWarned:!1,maxAliasCount:"number"==typeof n?n:100},l=a.toJS(this.contents,t??"",s);if("function"==typeof i)for(let{count:e,res:t}of s.anchors.values())i(t,e);return"function"==typeof o?d.applyReviver(o,{"":l},"",l):l}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||0>=Number(e.indent))){let t=JSON.stringify(e.indent);throw Error(`"indent" option must be a positive integer, not ${t}`)}return u.stringifyDocument(this,e)}}function m(e){if(o.isCollection(e))return!0;throw Error("Expected a YAML collection as document contents")}t.Document=f},51014:(e,t,r)=>{"use strict";var n=r(28440),i=r(36674);function o(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){let t=JSON.stringify(e);throw Error(`Anchor must not contain whitespace or control characters: ${t}`)}return!0}function s(e){let t=new Set;return i.visit(e,{Value(e,r){r.anchor&&t.add(r.anchor)}}),t}function a(e,t){for(let r=1;;++r){let n=`${e}${r}`;if(!t.has(n))return n}}function l(e,t){let r=[],i=new Map,o=null;return{onAnchor:n=>{r.push(n),o??(o=s(e));let i=a(t,o);return o.add(i),i},setAnchors:()=>{for(let e of r){let t=i.get(e);if("object"==typeof t&&t.anchor&&(n.isScalar(t.node)||n.isCollection(t.node)))t.node.anchor=t.anchor;else{let t=Error("Failed to resolve repeated object (this should not happen)");throw t.source=e,t}}},sourceObjects:i}}t.anchorIsValid=o,t.anchorNames=s,t.createNodeAnchors=l,t.findNewAnchor=a},40880:(e,t)=>{"use strict";function r(e,t,n,i){if(i&&"object"==typeof i){if(Array.isArray(i))for(let t=0,n=i.length;t<n;++t){let n=i[t],o=r(e,i,String(t),n);void 0===o?delete i[t]:o!==n&&(i[t]=o)}else if(i instanceof Map)for(let t of Array.from(i.keys())){let n=i.get(t),o=r(e,i,t,n);void 0===o?i.delete(t):o!==n&&i.set(t,o)}else if(i instanceof Set)for(let t of Array.from(i)){let n=r(e,i,t,t);void 0===n?i.delete(t):n!==t&&(i.delete(t),i.add(n))}else for(let[t,n]of Object.entries(i)){let o=r(e,i,t,n);void 0===o?delete i[t]:o!==n&&(i[t]=o)}}return e.call(t,n,i)}t.applyReviver=r},86058:(e,t,r)=>{"use strict";var n=r(58522),i=r(28440),o=r(45134);let s="tag:yaml.org,2002:";function a(e,t,r){if(t){let e=r.filter(e=>e.tag===t),n=e.find(e=>!e.format)??e[0];if(!n)throw Error(`Tag ${t} not found`);return n}return r.find(t=>t.identify?.(e)&&!t.format)}function l(e,t,r){let l;if(i.isDocument(e)&&(e=e.contents),i.isNode(e))return e;if(i.isPair(e)){let t=r.schema[i.MAP].createNode?.(r.schema,null,r);return t.items.push(e),t}(e instanceof String||e instanceof Number||e instanceof Boolean||"undefined"!=typeof BigInt&&e instanceof BigInt)&&(e=e.valueOf());let{aliasDuplicateObjects:u,onAnchor:c,onTagObj:d,schema:h,sourceObjects:p}=r;if(u&&e&&"object"==typeof e){if(l=p.get(e))return l.anchor??(l.anchor=c(e)),new n.Alias(l.anchor);l={anchor:null,node:null},p.set(e,l)}t?.startsWith("!!")&&(t=s+t.slice(2));let f=a(e,t,h.tags);if(!f){if(e&&"function"==typeof e.toJSON&&(e=e.toJSON()),!e||"object"!=typeof e){let t=new o.Scalar(e);return l&&(l.node=t),t}f=e instanceof Map?h[i.MAP]:Symbol.iterator in Object(e)?h[i.SEQ]:h[i.MAP]}d&&(d(f),delete r.onTagObj);let m=f?.createNode?f.createNode(r.schema,e,r):"function"==typeof f?.nodeClass?.from?f.nodeClass.from(r.schema,e,r):new o.Scalar(e);return t?m.tag=t:f.default||(m.tag=f.tag),l&&(l.node=m),m}t.createNode=l},2476:(e,t,r)=>{"use strict";var n=r(28440),i=r(36674);let o={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},s=e=>e.replace(/[!,[\]{}]/g,e=>o[e]);class a{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},a.defaultYaml,e),this.tags=Object.assign({},a.defaultTags,t)}clone(){let e=new a(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){let e=new a(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:a.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},a.defaultTags)}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:a.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},a.defaultTags),this.atNextDocument=!1);let r=e.trim().split(/[ \t]+/),n=r.shift();switch(n){case"%TAG":{if(2!==r.length&&(t(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;let[e,n]=r;return this.tags[e]=n,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==r.length)return t(0,"%YAML directive should contain exactly one part"),!1;let[e]=r;if("1.1"===e||"1.2"===e)return this.yaml.version=e,!0;{let r=/^\d+\.\d+$/.test(e);return t(6,`Unsupported YAML version ${e}`,r),!1}}default:return t(0,`Unknown directive ${n}`,!0),!1}}tagName(e,t){if("!"===e)return"!";if("!"!==e[0])return t(`Not a valid tag: ${e}`),null;if("<"===e[1]){let r=e.slice(2,-1);return"!"===r||"!!"===r?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(">"!==e[e.length-1]&&t("Verbatim tags must end with a >"),r)}let[,r,n]=e.match(/^(.*!)([^!]*)$/s);n||t(`The ${e} tag has no suffix`);let i=this.tags[r];if(i)try{return i+decodeURIComponent(n)}catch(e){return t(String(e)),null}return"!"===r?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(let[t,r]of Object.entries(this.tags))if(e.startsWith(r))return t+s(e.substring(r.length));return"!"===e[0]?e:`!<${e}>`}toString(e){let t;let r=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],o=Object.entries(this.tags);if(e&&o.length>0&&n.isNode(e.contents)){let r={};i.visit(e.contents,(e,t)=>{n.isNode(t)&&t.tag&&(r[t.tag]=!0)}),t=Object.keys(r)}else t=[];for(let[n,i]of o)("!!"!==n||"tag:yaml.org,2002:"!==i)&&(!e||t.some(e=>e.startsWith(i)))&&r.push(`%TAG ${n} ${i}`);return r.join("\n")}}a.defaultYaml={explicit:!1,version:"1.2"},a.defaultTags={"!!":"tag:yaml.org,2002:"},t.Directives=a},98532:(e,t)=>{"use strict";class r extends Error{constructor(e,t,r,n){super(),this.name=e,this.code=r,this.message=n,this.pos=t}}class n extends r{constructor(e,t,r){super("YAMLParseError",e,t,r)}}class i extends r{constructor(e,t,r){super("YAMLWarning",e,t,r)}}let o=(e,t)=>r=>{if(-1===r.pos[0])return;r.linePos=r.pos.map(e=>t.linePos(e));let{line:n,col:i}=r.linePos[0];r.message+=` at line ${n}, column ${i}`;let o=i-1,s=e.substring(t.lineStarts[n-1],t.lineStarts[n]).replace(/[\n\r]+$/,"");if(o>=60&&s.length>80){let e=Math.min(o-39,s.length-79);s=""+s.substring(e),o-=e-1}if(s.length>80&&(s=s.substring(0,79)+""),n>1&&/^ *$/.test(s.substring(0,o))){let r=e.substring(t.lineStarts[n-2],t.lineStarts[n-1]);r.length>80&&(r=r.substring(0,79)+"\n"),s=r+s}if(/[^ ]/.test(s)){let e=1,t=r.linePos[1];t&&t.line===n&&t.col>i&&(e=Math.max(1,Math.min(t.col-i,80-o)));let a=" ".repeat(o)+"^".repeat(e);r.message+=`:

${s}
${a}
`}};t.YAMLError=r,t.YAMLParseError=n,t.YAMLWarning=i,t.prettifyError=o},83056:(e,t,r)=>{"use strict";var n=r(82101),i=r(18227),o=r(40474),s=r(98532),a=r(58522),l=r(28440),u=r(61213),c=r(45134),d=r(31387),h=r(10472),p=r(39923),f=r(26653),m=r(80004),g=r(38010),y=r(56417),v=r(36674);t.Composer=n.Composer,t.Document=i.Document,t.Schema=o.Schema,t.YAMLError=s.YAMLError,t.YAMLParseError=s.YAMLParseError,t.YAMLWarning=s.YAMLWarning,t.Alias=a.Alias,t.isAlias=l.isAlias,t.isCollection=l.isCollection,t.isDocument=l.isDocument,t.isMap=l.isMap,t.isNode=l.isNode,t.isPair=l.isPair,t.isScalar=l.isScalar,t.isSeq=l.isSeq,t.Pair=u.Pair,t.Scalar=c.Scalar,t.YAMLMap=d.YAMLMap,t.YAMLSeq=h.YAMLSeq,t.CST=p,t.Lexer=f.Lexer,t.LineCounter=m.LineCounter,t.Parser=g.Parser,t.parse=y.parse,t.parseAllDocuments=y.parseAllDocuments,t.parseDocument=y.parseDocument,t.stringify=y.stringify,t.visit=v.visit,t.visitAsync=v.visitAsync},45271:(e,t,r)=>{"use strict";var n=r(77282);function i(e,...t){"debug"===e&&console.log(...t)}function o(e,t){("debug"===e||"warn"===e)&&("function"==typeof n.emitWarning?n.emitWarning(t):console.warn(t))}t.debug=i,t.warn=o},58522:(e,t,r)=>{"use strict";var n=r(51014),i=r(36674),o=r(28440),s=r(56197),a=r(38933);class l extends s.NodeBase{constructor(e){super(o.ALIAS),this.source=e,Object.defineProperty(this,"tag",{set(){throw Error("Alias nodes cannot have tags")}})}resolve(e,t){let r,n;for(let s of(t?.aliasResolveCache?r=t.aliasResolveCache:(r=[],i.visit(e,{Node:(e,t)=>{(o.isAlias(t)||o.hasAnchor(t))&&r.push(t)}}),t&&(t.aliasResolveCache=r)),r)){if(s===this)break;s.anchor===this.source&&(n=s)}return n}toJSON(e,t){if(!t)return{source:this.source};let{anchors:r,doc:n,maxAliasCount:i}=t,o=this.resolve(n,t);if(!o)throw ReferenceError(`Unresolved alias (the anchor must be set before the alias): ${this.source}`);let s=r.get(o);if(s||(a.toJS(o,null,t),s=r.get(o)),!s||void 0===s.res)throw ReferenceError("This should not happen: Alias anchor was not resolved?");if(i>=0&&(s.count+=1,0===s.aliasCount&&(s.aliasCount=u(n,o,r)),s.count*s.aliasCount>i))throw ReferenceError("Excessive alias count indicates a resource exhaustion attack");return s.res}toString(e,t,r){let i=`*${this.source}`;if(e){if(n.anchorIsValid(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source))throw Error(`Unresolved alias (the anchor must be set before the alias): ${this.source}`);if(e.implicitKey)return`${i} `}return i}}function u(e,t,r){if(o.isAlias(t)){let n=t.resolve(e),i=r&&n&&r.get(n);return i?i.count*i.aliasCount:0}if(o.isCollection(t)){let n=0;for(let i of t.items){let t=u(e,i,r);t>n&&(n=t)}return n}return o.isPair(t)?Math.max(u(e,t.key,r),u(e,t.value,r)):1}t.Alias=l},85475:(e,t,r)=>{"use strict";var n=r(86058),i=r(28440),o=r(56197);function s(e,t,r){let i=r;for(let e=t.length-1;e>=0;--e){let r=t[e];if("number"==typeof r&&Number.isInteger(r)&&r>=0){let e=[];e[r]=i,i=e}else i=new Map([[r,i]])}return n.createNode(i,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}let a=e=>null==e||"object"==typeof e&&!!e[Symbol.iterator]().next().done;class l extends o.NodeBase{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){let t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(t=>i.isNode(t)||i.isPair(t)?t.clone(e):t),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(a(e))this.add(t);else{let[r,...n]=e,o=this.get(r,!0);if(i.isCollection(o))o.addIn(n,t);else if(void 0===o&&this.schema)this.set(r,s(this.schema,n,t));else throw Error(`Expected YAML collection at ${r}. Remaining path: ${n}`)}}deleteIn(e){let[t,...r]=e;if(0===r.length)return this.delete(t);let n=this.get(t,!0);if(i.isCollection(n))return n.deleteIn(r);throw Error(`Expected YAML collection at ${t}. Remaining path: ${r}`)}getIn(e,t){let[r,...n]=e,o=this.get(r,!0);return 0===n.length?!t&&i.isScalar(o)?o.value:o:i.isCollection(o)?o.getIn(n,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!i.isPair(t))return!1;let r=t.value;return null==r||e&&i.isScalar(r)&&null==r.value&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(e){let[t,...r]=e;if(0===r.length)return this.has(t);let n=this.get(t,!0);return!!i.isCollection(n)&&n.hasIn(r)}setIn(e,t){let[r,...n]=e;if(0===n.length)this.set(r,t);else{let e=this.get(r,!0);if(i.isCollection(e))e.setIn(n,t);else if(void 0===e&&this.schema)this.set(r,s(this.schema,n,t));else throw Error(`Expected YAML collection at ${r}. Remaining path: ${n}`)}}}t.Collection=l,t.collectionFromPath=s,t.isEmptyPath=a},56197:(e,t,r)=>{"use strict";var n=r(40880),i=r(28440),o=r(38933);class s{constructor(e){Object.defineProperty(this,i.NODE_TYPE,{value:e})}clone(){let e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:r,onAnchor:s,reviver:a}={}){if(!i.isDocument(e))throw TypeError("A document argument is required");let l={anchors:new Map,doc:e,keep:!0,mapAsMap:!0===t,mapKeyWarned:!1,maxAliasCount:"number"==typeof r?r:100},u=o.toJS(this,"",l);if("function"==typeof s)for(let{count:e,res:t}of l.anchors.values())s(t,e);return"function"==typeof a?n.applyReviver(a,{"":u},"",u):u}}t.NodeBase=s},61213:(e,t,r)=>{"use strict";var n=r(86058),i=r(46813),o=r(3764),s=r(28440);function a(e,t,r){return new l(n.createNode(e,void 0,r),n.createNode(t,void 0,r))}class l{constructor(e,t=null){Object.defineProperty(this,s.NODE_TYPE,{value:s.PAIR}),this.key=e,this.value=t}clone(e){let{key:t,value:r}=this;return s.isNode(t)&&(t=t.clone(e)),s.isNode(r)&&(r=r.clone(e)),new l(t,r)}toJSON(e,t){let r=t?.mapAsMap?new Map:{};return o.addPairToJSMap(t,r,this)}toString(e,t,r){return e?.doc?i.stringifyPair(this,e,t,r):JSON.stringify(this)}}t.Pair=l,t.createPair=a},45134:(e,t,r)=>{"use strict";var n=r(28440),i=r(56197),o=r(38933);let s=e=>!e||"function"!=typeof e&&"object"!=typeof e;class a extends i.NodeBase{constructor(e){super(n.SCALAR),this.value=e}toJSON(e,t){return t?.keep?this.value:o.toJS(this.value,e,t)}toString(){return String(this.value)}}a.BLOCK_FOLDED="BLOCK_FOLDED",a.BLOCK_LITERAL="BLOCK_LITERAL",a.PLAIN="PLAIN",a.QUOTE_DOUBLE="QUOTE_DOUBLE",a.QUOTE_SINGLE="QUOTE_SINGLE",t.Scalar=a,t.isScalarValue=s},31387:(e,t,r)=>{"use strict";var n=r(46273),i=r(3764),o=r(85475),s=r(28440),a=r(61213),l=r(45134);function u(e,t){let r=s.isScalar(t)?t.value:t;for(let n of e)if(s.isPair(n)&&(n.key===t||n.key===r||s.isScalar(n.key)&&n.key.value===r))return n}class c extends o.Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(s.MAP,e),this.items=[]}static from(e,t,r){let{keepUndefined:n,replacer:i}=r,o=new this(e),s=(e,s)=>{if("function"==typeof i)s=i.call(t,e,s);else if(Array.isArray(i)&&!i.includes(e))return;(void 0!==s||n)&&o.items.push(a.createPair(e,s,r))};if(t instanceof Map)for(let[e,r]of t)s(e,r);else if(t&&"object"==typeof t)for(let e of Object.keys(t))s(e,t[e]);return"function"==typeof e.sortMapEntries&&o.items.sort(e.sortMapEntries),o}add(e,t){let r;r=s.isPair(e)?e:e&&"object"==typeof e&&"key"in e?new a.Pair(e.key,e.value):new a.Pair(e,e?.value);let n=u(this.items,r.key),i=this.schema?.sortMapEntries;if(n){if(!t)throw Error(`Key ${r.key} already set`);s.isScalar(n.value)&&l.isScalarValue(r.value)?n.value.value=r.value:n.value=r.value}else if(i){let e=this.items.findIndex(e=>0>i(r,e));-1===e?this.items.push(r):this.items.splice(e,0,r)}else this.items.push(r)}delete(e){let t=u(this.items,e);return!!t&&this.items.splice(this.items.indexOf(t),1).length>0}get(e,t){let r=u(this.items,e),n=r?.value;return(!t&&s.isScalar(n)?n.value:n)??void 0}has(e){return!!u(this.items,e)}set(e,t){this.add(new a.Pair(e,t),!0)}toJSON(e,t,r){let n=r?new r:t?.mapAsMap?new Map:{};for(let e of(t?.onCreate&&t.onCreate(n),this.items))i.addPairToJSMap(t,n,e);return n}toString(e,t,r){if(!e)return JSON.stringify(this);for(let e of this.items)if(!s.isPair(e))throw Error(`Map items must all be pairs; found ${JSON.stringify(e)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),n.stringifyCollection(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:r,onComment:t})}}t.YAMLMap=c,t.findPair=u},10472:(e,t,r)=>{"use strict";var n=r(86058),i=r(46273),o=r(85475),s=r(28440),a=r(45134),l=r(38933);class u extends o.Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(s.SEQ,e),this.items=[]}add(e){this.items.push(e)}delete(e){let t=c(e);return"number"==typeof t&&this.items.splice(t,1).length>0}get(e,t){let r=c(e);if("number"!=typeof r)return;let n=this.items[r];return!t&&s.isScalar(n)?n.value:n}has(e){let t=c(e);return"number"==typeof t&&t<this.items.length}set(e,t){let r=c(e);if("number"!=typeof r)throw Error(`Expected a valid index, not ${e}.`);let n=this.items[r];s.isScalar(n)&&a.isScalarValue(t)?n.value=t:this.items[r]=t}toJSON(e,t){let r=[];t?.onCreate&&t.onCreate(r);let n=0;for(let e of this.items)r.push(l.toJS(e,String(n++),t));return r}toString(e,t,r){return e?i.stringifyCollection(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:r,onComment:t}):JSON.stringify(this)}static from(e,t,r){let{replacer:i}=r,o=new this(e);if(t&&Symbol.iterator in Object(t)){let e=0;for(let s of t){if("function"==typeof i){let r=t instanceof Set?s:String(e++);s=i.call(t,r,s)}o.items.push(n.createNode(s,void 0,r))}}return o}}function c(e){let t=s.isScalar(e)?e.value:e;return t&&"string"==typeof t&&(t=Number(t)),"number"==typeof t&&Number.isInteger(t)&&t>=0?t:null}t.YAMLSeq=u},3764:(e,t,r)=>{"use strict";var n=r(45271),i=r(54486),o=r(21729),s=r(28440),a=r(38933);function l(e,t,{key:r,value:n}){if(s.isNode(r)&&r.addToJSMap)r.addToJSMap(e,t,n);else if(i.isMergeKey(e,r))i.addMergeToJSMap(e,t,n);else{let i=a.toJS(r,"",e);if(t instanceof Map)t.set(i,a.toJS(n,i,e));else if(t instanceof Set)t.add(i);else{let o=u(r,i,e),s=a.toJS(n,o,e);o in t?Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0}):t[o]=s}}return t}function u(e,t,r){if(null===t)return"";if("object"!=typeof t)return String(t);if(s.isNode(e)&&r?.doc){let t=o.createStringifyContext(r.doc,{});for(let e of(t.anchors=new Set,r.anchors.keys()))t.anchors.add(e.anchor);t.inFlow=!0,t.inStringifyKey=!0;let i=e.toString(t);if(!r.mapKeyWarned){let e=JSON.stringify(i);e.length>40&&(e=e.substring(0,36)+'..."'),n.warn(r.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${e}. Set mapAsMap: true to use object keys.`),r.mapKeyWarned=!0}return i}return JSON.stringify(t)}t.addPairToJSMap=l},28440:(e,t)=>{"use strict";let r=Symbol.for("yaml.alias"),n=Symbol.for("yaml.document"),i=Symbol.for("yaml.map"),o=Symbol.for("yaml.pair"),s=Symbol.for("yaml.scalar"),a=Symbol.for("yaml.seq"),l=Symbol.for("yaml.node.type"),u=e=>!!e&&"object"==typeof e&&e[l]===r,c=e=>!!e&&"object"==typeof e&&e[l]===n,d=e=>!!e&&"object"==typeof e&&e[l]===i,h=e=>!!e&&"object"==typeof e&&e[l]===o,p=e=>!!e&&"object"==typeof e&&e[l]===s,f=e=>!!e&&"object"==typeof e&&e[l]===a;function m(e){if(e&&"object"==typeof e)switch(e[l]){case i:case a:return!0}return!1}function g(e){if(e&&"object"==typeof e)switch(e[l]){case r:case i:case s:case a:return!0}return!1}let y=e=>(p(e)||m(e))&&!!e.anchor;t.ALIAS=r,t.DOC=n,t.MAP=i,t.NODE_TYPE=l,t.PAIR=o,t.SCALAR=s,t.SEQ=a,t.hasAnchor=y,t.isAlias=u,t.isCollection=m,t.isDocument=c,t.isMap=d,t.isNode=g,t.isPair=h,t.isScalar=p,t.isSeq=f},38933:(e,t,r)=>{"use strict";var n=r(28440);function i(e,t,r){if(Array.isArray(e))return e.map((e,t)=>i(e,String(t),r));if(e&&"function"==typeof e.toJSON){if(!r||!n.hasAnchor(e))return e.toJSON(t,r);let i={aliasCount:0,count:1,res:void 0};r.anchors.set(e,i),r.onCreate=e=>{i.res=e,delete r.onCreate};let o=e.toJSON(t,r);return r.onCreate&&r.onCreate(o),o}return"bigint"!=typeof e||r?.keep?e:Number(e)}t.toJS=i},48557:(e,t,r)=>{"use strict";var n=r(68272),i=r(64103),o=r(98532),s=r(49103);function a(e,t=!0,r){if(e){let s=(e,t,n)=>{let i="number"==typeof e?e:Array.isArray(e)?e[0]:e.offset;if(r)r(i,t,n);else throw new o.YAMLParseError([i,i+1],t,n)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return i.resolveFlowScalar(e,t,s);case"block-scalar":return n.resolveBlockScalar({options:{strict:t}},e,s)}}return null}function l(e,t){let{implicitKey:r=!1,indent:n,inFlow:i=!1,offset:o=-1,type:a="PLAIN"}=t,l=s.stringifyString({type:a,value:e},{implicitKey:r,indent:n>0?" ".repeat(n):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),u=t.end??[{type:"newline",offset:-1,indent:n,source:"\n"}];switch(l[0]){case"|":case">":{let e=l.indexOf("\n"),t=l.substring(0,e),r=l.substring(e+1)+"\n",i=[{type:"block-scalar-header",offset:o,indent:n,source:t}];return d(i,u)||i.push({type:"newline",offset:-1,indent:n,source:"\n"}),{type:"block-scalar",offset:o,indent:n,props:i,source:r}}case'"':return{type:"double-quoted-scalar",offset:o,indent:n,source:l,end:u};case"'":return{type:"single-quoted-scalar",offset:o,indent:n,source:l,end:u};default:return{type:"scalar",offset:o,indent:n,source:l,end:u}}}function u(e,t,r={}){let{afterKey:n=!1,implicitKey:i=!1,inFlow:o=!1,type:a}=r,l="indent"in e?e.indent:null;if(n&&"number"==typeof l&&(l+=2),!a)switch(e.type){case"single-quoted-scalar":a="QUOTE_SINGLE";break;case"double-quoted-scalar":a="QUOTE_DOUBLE";break;case"block-scalar":{let t=e.props[0];if("block-scalar-header"!==t.type)throw Error("Invalid block scalar header");a=">"===t.source[0]?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:a="PLAIN"}let u=s.stringifyString({type:a,value:t},{implicitKey:i||null===l,indent:null!==l&&l>0?" ".repeat(l):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}});switch(u[0]){case"|":case">":c(e,u);break;case'"':h(e,u,"double-quoted-scalar");break;case"'":h(e,u,"single-quoted-scalar");break;default:h(e,u,"scalar")}}function c(e,t){let r=t.indexOf("\n"),n=t.substring(0,r),i=t.substring(r+1)+"\n";if("block-scalar"===e.type){let t=e.props[0];if("block-scalar-header"!==t.type)throw Error("Invalid block scalar header");t.source=n,e.source=i}else{let{offset:t}=e,r="indent"in e?e.indent:-1,o=[{type:"block-scalar-header",offset:t,indent:r,source:n}];for(let t of(d(o,"end"in e?e.end:void 0)||o.push({type:"newline",offset:-1,indent:r,source:"\n"}),Object.keys(e)))"type"!==t&&"offset"!==t&&delete e[t];Object.assign(e,{type:"block-scalar",indent:r,props:o,source:i})}}function d(e,t){if(t)for(let r of t)switch(r.type){case"space":case"comment":e.push(r);break;case"newline":return e.push(r),!0}return!1}function h(e,t,r){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=r,e.source=t;break;case"block-scalar":{let n=e.props.slice(1),i=t.length;for(let t of("block-scalar-header"===e.props[0].type&&(i-=e.props[0].source.length),n))t.offset+=i;delete e.props,Object.assign(e,{type:r,source:t,end:n});break}case"block-map":case"block-seq":{let n={type:"newline",offset:e.offset+t.length,indent:e.indent,source:"\n"};delete e.items,Object.assign(e,{type:r,source:t,end:[n]});break}default:{let n="indent"in e?e.indent:-1,i="end"in e&&Array.isArray(e.end)?e.end.filter(e=>"space"===e.type||"comment"===e.type||"newline"===e.type):[];for(let t of Object.keys(e))"type"!==t&&"offset"!==t&&delete e[t];Object.assign(e,{type:r,indent:n,source:t,end:i})}}}t.createScalarToken=l,t.resolveAsScalar=a,t.setScalarValue=u},85431:(e,t)=>{"use strict";let r=e=>"type"in e?n(e):i(e);function n(e){switch(e.type){case"block-scalar":{let t="";for(let r of e.props)t+=n(r);return t+e.source}case"block-map":case"block-seq":{let t="";for(let r of e.items)t+=i(r);return t}case"flow-collection":{let t=e.start.source;for(let r of e.items)t+=i(r);for(let r of e.end)t+=r.source;return t}case"document":{let t=i(e);if(e.end)for(let r of e.end)t+=r.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(let r of e.end)t+=r.source;return t}}}function i({start:e,key:t,sep:r,value:i}){let o="";for(let t of e)o+=t.source;if(t&&(o+=n(t)),r)for(let e of r)o+=e.source;return i&&(o+=n(i)),o}t.stringify=r},28260:(e,t)=>{"use strict";let r=Symbol("break visit"),n=Symbol("skip children"),i=Symbol("remove item");function o(e,t){"type"in e&&"document"===e.type&&(e={start:e.start,value:e.value}),s(Object.freeze([]),e,t)}function s(e,t,n){let o=n(t,e);if("symbol"==typeof o)return o;for(let a of["key","value"]){let l=t[a];if(l&&"items"in l){for(let t=0;t<l.items.length;++t){let o=s(Object.freeze(e.concat([[a,t]])),l.items[t],n);if("number"==typeof o)t=o-1;else{if(o===r)return r;o===i&&(l.items.splice(t,1),t-=1)}}"function"==typeof o&&"key"===a&&(o=o(t,e))}}return"function"==typeof o?o(t,e):o}o.BREAK=r,o.SKIP=n,o.REMOVE=i,o.itemAtPath=(e,t)=>{let r=e;for(let[e,n]of t){let t=r?.[e];if(!t||!("items"in t))return;r=t.items[n]}return r},o.parentCollection=(e,t)=>{let r=o.itemAtPath(e,t.slice(0,-1)),n=t[t.length-1][0],i=r?.[n];if(i&&"items"in i)return i;throw Error("Parent collection not found")},t.visit=o},39923:(e,t,r)=>{"use strict";var n=r(48557),i=r(85431),o=r(28260);let s="\uFEFF",a="\x02",l="\x18",u="\x1f",c=e=>!!e&&"items"in e,d=e=>!!e&&("scalar"===e.type||"single-quoted-scalar"===e.type||"double-quoted-scalar"===e.type||"block-scalar"===e.type);function h(e){switch(e){case s:return"<BOM>";case a:return"<DOC>";case l:return"<FLOW_END>";case u:return"<SCALAR>";default:return JSON.stringify(e)}}function p(e){switch(e){case s:return"byte-order-mark";case a:return"doc-mode";case l:return"flow-error-end";case u:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}t.createScalarToken=n.createScalarToken,t.resolveAsScalar=n.resolveAsScalar,t.setScalarValue=n.setScalarValue,t.stringify=i.stringify,t.visit=o.visit,t.BOM=s,t.DOCUMENT=a,t.FLOW_END=l,t.SCALAR=u,t.isCollection=c,t.isScalar=d,t.prettyToken=h,t.tokenType=p},26653:(e,t,r)=>{"use strict";var n=r(39923);function i(e){switch(e){case void 0:case" ":case"\n":case"\r":case"	":return!0;default:return!1}}let o=new Set("0123456789ABCDEFabcdef"),s=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),a=new Set(",[]{}"),l=new Set(" ,[]{}\n\r	"),u=e=>!e||l.has(e);class c{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){if(e){if("string"!=typeof e)throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!t;let r=this.next??"stream";for(;r&&(t||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;" "===t||"	"===t;)t=this.buffer[++e];return!t||"#"===t||"\n"===t||"\r"===t&&"\n"===this.buffer[e+1]}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let r=0;for(;" "===t;)t=this.buffer[++r+e];if("\r"===t){let t=this.buffer[r+e+1];if("\n"===t||!t&&!this.atEnd)return e+r+1}return"\n"!==t&&!(r>=this.indentNext)&&(t||this.atEnd)?-1:e+r}if("-"===t||"."===t){let t=this.buffer.substr(e,3);if(("---"===t||"..."===t)&&i(this.buffer[e+3]))return -1}return e}getLine(){let e=this.lineEndPos;return(("number"!=typeof e||-1!==e&&e<this.pos)&&(e=this.buffer.indexOf("\n",this.pos),this.lineEndPos=e),-1===e)?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[e-1]&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(null===e)return this.setNext("stream");if(e[0]===n.BOM&&(yield*this.pushCount(1),e=e.substring(1)),"%"===e[0]){let t=e.length,r=e.indexOf("#");for(;-1!==r;){let n=e[r-1];if(" "===n||"	"===n){t=r-1;break}r=e.indexOf("#",r+1)}for(;;){let r=e[t-1];if(" "===r||"	"===r)t-=1;else break}let n=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-n),this.pushNewline(),"stream"}if(this.atLineEnd()){let t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield n.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if("-"===e||"."===e){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let e=this.peek(3);if(("---"===e||"..."===e)&&i(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"---"===e?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!i(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if(("-"===e||"?"===e||":"===e)&&i(t)){let e=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=e,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let e=this.getLine();if(null===e)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(u),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=(yield*this.parseBlockScalarHeader())+(yield*this.pushSpaces(!0)),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t;let r=-1;do(e=yield*this.pushNewline())>0?(t=yield*this.pushSpaces(!1),this.indentValue=r=t):t=0,t+=yield*this.pushSpaces(!0);while(e+t>0);let o=this.getLine();if(null===o)return this.setNext("flow");if((-1!==r&&r<this.indentNext&&"#"!==o[0]||0===r&&(o.startsWith("---")||o.startsWith("..."))&&i(o[3]))&&!(r===this.indentNext-1&&1===this.flowLevel&&("]"===o[0]||"}"===o[0])))return this.flowLevel=0,yield n.FLOW_END,yield*this.parseLineStart();let s=0;for(;","===o[s];)s+=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(o[s+=yield*this.pushIndicators()]){case void 0:return"flow";case"#":return yield*this.pushCount(o.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(u),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let e=this.charAt(1);if(this.flowKey||i(e)||","===e)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let e=this.charAt(0),t=this.buffer.indexOf(e,this.pos+1);if("'"===e)for(;-1!==t&&"'"===this.buffer[t+1];)t=this.buffer.indexOf("'",t+2);else for(;-1!==t;){let e=0;for(;"\\"===this.buffer[t-1-e];)e+=1;if(e%2==0)break;t=this.buffer.indexOf('"',t+1)}let r=this.buffer.substring(0,t),n=r.indexOf("\n",this.pos);if(-1!==n){for(;-1!==n;){let e=this.continueScalar(n+1);if(-1===e)break;n=r.indexOf("\n",e)}-1!==n&&(t=n-("\r"===r[n-1]?2:1))}if(-1===t){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){let t=this.buffer[++e];if("+"===t)this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if("-"!==t)break}return yield*this.pushUntil(e=>i(e)||"#"===e)}*parseBlockScalar(){let e,t=this.pos-1,r=0;r:for(let n=this.pos;e=this.buffer[n];++n)switch(e){case" ":r+=1;break;case"\n":t=n,r=0;break;case"\r":{let e=this.buffer[n+1];if(!e&&!this.atEnd)return this.setNext("block-scalar");if("\n"===e)break}default:break r}if(!e&&!this.atEnd)return this.setNext("block-scalar");if(r>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=r:this.indentNext=this.blockScalarIndent+(0===this.indentNext?1:this.indentNext);do{let e=this.continueScalar(t+1);if(-1===e)break;t=this.buffer.indexOf("\n",e)}while(-1!==t);if(-1===t){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let i=t+1;for(e=this.buffer[i];" "===e;)e=this.buffer[++i];if("	"===e){for(;"	"===e||" "===e||"\r"===e||"\n"===e;)e=this.buffer[++i];t=i-1}else if(!this.blockScalarKeep)for(;;){let e=t-1,n=this.buffer[e];"\r"===n&&(n=this.buffer[--e]);let i=e;for(;" "===n;)n=this.buffer[--e];if("\n"===n&&e>=this.pos&&e+1+r>i)t=e;else break}return yield n.SCALAR,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let e;let t=this.flowLevel>0,r=this.pos-1,o=this.pos-1;for(;e=this.buffer[++o];)if(":"===e){let e=this.buffer[o+1];if(i(e)||t&&a.has(e))break;r=o}else if(i(e)){let n=this.buffer[o+1];if("\r"===e&&("\n"===n?(o+=1,e="\n",n=this.buffer[o+1]):r=o),"#"===n||t&&a.has(n))break;if("\n"===e){let e=this.continueScalar(o+1);if(-1===e)break;o=Math.max(o,e-2)}}else{if(t&&a.has(e))break;r=o}return e||this.atEnd?(yield n.SCALAR,yield*this.pushToIndex(r+1,!0),t?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){let r=this.buffer.slice(this.pos,e);return r?(yield r,this.pos+=r.length,r.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(u))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let e=this.flowLevel>0,t=this.charAt(1);if(i(t)||e&&a.has(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if("<"===this.charAt(1)){let e=this.pos+2,t=this.buffer[e];for(;!i(t)&&">"!==t;)t=this.buffer[++e];return yield*this.pushToIndex(">"===t?e+1:e,!1)}{let e=this.pos+1,t=this.buffer[e];for(;t;)if(s.has(t))t=this.buffer[++e];else if("%"===t&&o.has(this.buffer[e+1])&&o.has(this.buffer[e+2]))t=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){let e=this.buffer[this.pos];return"\n"===e?yield*this.pushCount(1):"\r"===e&&"\n"===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(e){let t,r=this.pos-1;do t=this.buffer[++r];while(" "===t||e&&"	"===t);let n=r-this.pos;return n>0&&(yield this.buffer.substr(this.pos,n),this.pos=r),n}*pushUntil(e){let t=this.pos,r=this.buffer[t];for(;!e(r);)r=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}t.Lexer=c},80004:(e,t)=>{"use strict";class r{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,r=this.lineStarts.length;for(;t<r;){let n=t+r>>1;this.lineStarts[n]<e?t=n+1:r=n}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(0===t)return{line:0,col:e};let n=this.lineStarts[t-1];return{line:t,col:e-n+1}}}}t.LineCounter=r},38010:(e,t,r)=>{"use strict";var n=r(77282),i=r(39923),o=r(26653);function s(e,t){for(let r=0;r<e.length;++r)if(e[r].type===t)return!0;return!1}function a(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return -1}function l(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function u(e){switch(e.type){case"document":return e.start;case"block-map":{let t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function c(e){if(0===e.length)return[];let t=e.length;r:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break r}for(;e[++t]?.type==="space";);return e.splice(t,e.length)}function d(e){if("flow-seq-start"===e.start.type)for(let t of e.items)!t.sep||t.value||s(t.start,"explicit-key-ind")||s(t.sep,"map-value-ind")||(t.key&&(t.value=t.key),delete t.key,l(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class h{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new o.Lexer,this.onNewLine=e}*parse(e,t=!1){for(let r of(this.onNewLine&&0===this.offset&&this.onNewLine(0),this.lexer.lex(e,t)))yield*this.next(r);t||(yield*this.end())}*next(e){if(this.source=e,n.env.LOG_TOKENS&&console.log("|",i.prettyToken(e)),this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}let t=i.tokenType(e);if(t){if("scalar"===t)this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&" "===e[0]&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}}else{let t=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:t,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let e=this.peek(1);if("doc-end"===this.type&&(!e||"doc-end"!==e.type)){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){let t=e??this.stack.pop();if(t){if(0===this.stack.length)yield t;else{let e=this.peek(1);switch("block-scalar"===t.type?t.indent="indent"in e?e.indent:0:"flow-collection"===t.type&&"document"===e.type&&(t.indent=0),"flow-collection"===t.type&&d(t),e.type){case"document":e.value=t;break;case"block-scalar":e.props.push(t);break;case"block-map":{let r=e.items[e.items.length-1];if(r.value){e.items.push({start:[],key:t,sep:[]}),this.onKeyLine=!0;return}if(r.sep)r.value=t;else{Object.assign(r,{key:t,sep:[]}),this.onKeyLine=!r.explicitKey;return}break}case"block-seq":{let r=e.items[e.items.length-1];r.value?e.items.push({start:[],value:t}):r.value=t;break}case"flow-collection":{let r=e.items[e.items.length-1];!r||r.value?e.items.push({start:[],key:t,sep:[]}):r.sep?r.value=t:Object.assign(r,{key:t,sep:[]});return}default:yield*this.pop(),yield*this.pop(t)}if(("document"===e.type||"block-map"===e.type||"block-seq"===e.type)&&("block-map"===t.type||"block-seq"===t.type)){let r=t.items[t.items.length-1];r&&!r.sep&&!r.value&&r.start.length>0&&-1===a(r.start)&&(0===t.indent||r.start.every(e=>"comment"!==e.type||e.indent<t.indent))&&("document"===e.type?e.end=r.start:e.items.push({start:r.start}),t.items.splice(-1,1))}}}else{let e="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:e}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let e={type:"document",offset:this.offset,start:[]};"doc-start"===this.type&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":-1!==a(e.start)?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return;case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}let t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if("map-value-ind"===this.type){let t;let r=c(u(this.peek(2)));e.end?((t=e.end).push(this.sourceToken),delete e.end):t=[this.sourceToken];let n={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:t}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=n}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){let t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){let r="end"in t.value?t.value.end:void 0,n=Array.isArray(r)?r[r.length-1]:void 0;n?.type==="comment"?r?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){let r=e.items[e.items.length-2],n=r?.value?.end;if(Array.isArray(n)){Array.prototype.push.apply(n,t.start),n.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){let r=!this.onKeyLine&&this.indent===e.indent,n=r&&(t.sep||t.explicitKey)&&"seq-item-ind"!==this.type,i=[];if(n&&t.sep&&!t.value){let r=[];for(let n=0;n<t.sep.length;++n){let i=t.sep[n];switch(i.type){case"newline":r.push(n);break;case"space":break;case"comment":i.indent>e.indent&&(r.length=0);break;default:r.length=0}}r.length>=2&&(i=t.sep.splice(r[1]))}switch(this.type){case"anchor":case"tag":n||t.value?(i.push(this.sourceToken),e.items.push({start:i}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"explicit-key-ind":t.sep||t.explicitKey?n||t.value?(i.push(this.sourceToken),e.items.push({start:i,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}):(t.start.push(this.sourceToken),t.explicitKey=!0),this.onKeyLine=!0;return;case"map-value-ind":if(t.explicitKey){if(t.sep){if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(s(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]});else if(l(t.key)&&!s(t.sep,"newline")){let e=c(t.start),r=t.key,n=t.sep;n.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:r,sep:n}]})}else i.length>0?t.sep=t.sep.concat(i,this.sourceToken):t.sep.push(this.sourceToken)}else if(s(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{let e=c(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]})}}else t.sep?t.value||n?e.items.push({start:i,key:null,sep:[this.sourceToken]}):s(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let r=this.flowScalar(this.type);n||t.value?(e.items.push({start:i,key:r,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(r):(Object.assign(t,{key:r,sep:[]}),this.onKeyLine=!0);return}default:{let n=this.startBlockValue(e);if(n){if("block-seq"===n.type){if(!t.explicitKey&&t.sep&&!s(t.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else r&&e.items.push({start:i});this.stack.push(n);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){let t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){let r="end"in t.value?t.value.end:void 0,n=Array.isArray(r)?r[r.length-1]:void 0;n?.type==="comment"?r?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){let r=e.items[e.items.length-2],n=r?.value?.end;if(Array.isArray(n)){Array.prototype.push.apply(n,t.start),n.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;t.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;t.value||s(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return}if(this.indent>e.indent){let t=this.startBlockValue(e);if(t){this.stack.push(t);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){let t=e.items[e.items.length-1];if("flow-error-end"===this.type){let e;do yield*this.pop(),e=this.peek(1);while(e&&"flow-collection"===e.type)}else if(0===e.end.length){switch(this.type){case"comma":case"explicit-key-ind":!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return;case"map-value-ind":!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let r=this.flowScalar(this.type);!t||t.value?e.items.push({start:[],key:r,sep:[]}):t.sep?this.stack.push(r):Object.assign(t,{key:r,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}let r=this.startBlockValue(e);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{let t=this.peek(2);if("block-map"!==t.type||("map-value-ind"!==this.type||t.indent!==e.indent)&&("newline"!==this.type||t.items[t.items.length-1].sep)){if("map-value-ind"===this.type&&"flow-collection"!==t.type){let r=c(u(t));d(e);let n=e.end.splice(1,e.end.length);n.push(this.sourceToken);let i={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:n}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=i}else yield*this.lineEnd(e)}else yield*this.pop(),yield*this.step()}}flowScalar(e){if(this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let t=c(u(e));return t.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;let t=c(u(e));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return"comment"===this.type&&!(this.indent<=t)&&e.every(e=>"newline"===e.type||"space"===e.type)}*documentEnd(e){"doc-mode"!==this.type&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop())}}}t.Parser=h},56417:(e,t,r)=>{"use strict";var n=r(82101),i=r(18227),o=r(98532),s=r(45271),a=r(28440),l=r(80004),u=r(38010);function c(e){let t=!1!==e.prettyErrors;return{lineCounter:e.lineCounter||t&&new l.LineCounter||null,prettyErrors:t}}function d(e,t={}){let{lineCounter:r,prettyErrors:i}=c(t),s=new u.Parser(r?.addNewLine),a=new n.Composer(t),l=Array.from(a.compose(s.parse(e)));if(i&&r)for(let t of l)t.errors.forEach(o.prettifyError(e,r)),t.warnings.forEach(o.prettifyError(e,r));return l.length>0?l:Object.assign([],{empty:!0},a.streamInfo())}function h(e,t={}){let{lineCounter:r,prettyErrors:i}=c(t),s=new u.Parser(r?.addNewLine),a=new n.Composer(t),l=null;for(let t of a.compose(s.parse(e),!0,e.length))if(l){if("silent"!==l.options.logLevel){l.errors.push(new o.YAMLParseError(t.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else l=t;return i&&r&&(l.errors.forEach(o.prettifyError(e,r)),l.warnings.forEach(o.prettifyError(e,r))),l}function p(e,t,r){let n;"function"==typeof t?n=t:void 0===r&&t&&"object"==typeof t&&(r=t);let i=h(e,r);if(!i)return null;if(i.warnings.forEach(e=>s.warn(i.options.logLevel,e)),i.errors.length>0){if("silent"!==i.options.logLevel)throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:n},r))}function f(e,t,r){let n=null;if("function"==typeof t||Array.isArray(t)?n=t:void 0===r&&t&&(r=t),"string"==typeof r&&(r=r.length),"number"==typeof r){let e=Math.round(r);r=e<1?void 0:e>8?{indent:8}:{indent:e}}if(void 0===e){let{keepUndefined:e}=r??t??{};if(!e)return}return a.isDocument(e)&&!n?e.toString(r):new i.Document(e,n,r).toString(r)}t.parse=p,t.parseAllDocuments=d,t.parseDocument=h,t.stringify=f},40474:(e,t,r)=>{"use strict";var n=r(28440),i=r(97021),o=r(13980),s=r(95516),a=r(11435);let l=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class u{constructor({compat:e,customTags:t,merge:r,resolveKnownTags:u,schema:c,sortMapEntries:d,toStringDefaults:h}){this.compat=Array.isArray(e)?a.getTags(e,"compat"):e?a.getTags(null,e):null,this.name="string"==typeof c&&c||"core",this.knownTags=u?a.coreKnownTags:{},this.tags=a.getTags(t,this.name,r),this.toStringOptions=h??null,Object.defineProperty(this,n.MAP,{value:i.map}),Object.defineProperty(this,n.SCALAR,{value:s.string}),Object.defineProperty(this,n.SEQ,{value:o.seq}),this.sortMapEntries="function"==typeof d?d:!0===d?l:null}clone(){let e=Object.create(u.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}t.Schema=u},97021:(e,t,r)=>{"use strict";var n=r(28440),i=r(31387);let o={collection:"map",default:!0,nodeClass:i.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:(e,t)=>(n.isMap(e)||t("Expected a mapping for this tag"),e),createNode:(e,t,r)=>i.YAMLMap.from(e,t,r)};t.map=o},72182:(e,t,r)=>{"use strict";var n=r(45134);let i={identify:e=>null==e,createNode:()=>new n.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new n.Scalar(null),stringify:({source:e},t)=>"string"==typeof e&&i.test.test(e)?e:t.options.nullStr};t.nullTag=i},13980:(e,t,r)=>{"use strict";var n=r(28440),i=r(10472);let o={collection:"seq",default:!0,nodeClass:i.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:(e,t)=>(n.isSeq(e)||t("Expected a sequence for this tag"),e),createNode:(e,t,r)=>i.YAMLSeq.from(e,t,r)};t.seq=o},95516:(e,t,r)=>{"use strict";var n=r(49103);let i={identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:(e,t,r,i)=>(t=Object.assign({actualString:!0},t),n.stringifyString(e,t,r,i))};t.string=i},12253:(e,t,r)=>{"use strict";var n=r(45134);let i={identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new n.Scalar("t"===e[0]||"T"===e[0]),stringify:({source:e,value:t},r)=>e&&i.test.test(e)&&t===("t"===e[0]||"T"===e[0])?e:t?r.options.trueStr:r.options.falseStr};t.boolTag=i},20754:(e,t,r)=>{"use strict";var n=r(45134),i=r(24352);let o={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:i.stringifyNumber},s={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){let t=Number(e.value);return isFinite(t)?t.toExponential():i.stringifyNumber(e)}},a={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){let t=new n.Scalar(parseFloat(e)),r=e.indexOf(".");return -1!==r&&"0"===e[e.length-1]&&(t.minFractionDigits=e.length-r-1),t},stringify:i.stringifyNumber};t.float=a,t.floatExp=s,t.floatNaN=o},65447:(e,t,r)=>{"use strict";var n=r(24352);let i=e=>"bigint"==typeof e||Number.isInteger(e),o=(e,t,r,{intAsBigInt:n})=>n?BigInt(e):parseInt(e.substring(t),r);function s(e,t,r){let{value:o}=e;return i(o)&&o>=0?r+o.toString(t):n.stringifyNumber(e)}let a={identify:e=>i(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,r)=>o(e,2,8,r),stringify:e=>s(e,8,"0o")},l={identify:i,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,r)=>o(e,0,10,r),stringify:n.stringifyNumber},u={identify:e=>i(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,r)=>o(e,2,16,r),stringify:e=>s(e,16,"0x")};t.int=l,t.intHex=u,t.intOct=a},14406:(e,t,r)=>{"use strict";var n=r(97021),i=r(72182),o=r(13980),s=r(95516),a=r(12253),l=r(20754),u=r(65447);let c=[n.map,o.seq,s.string,i.nullTag,a.boolTag,u.intOct,u.int,u.intHex,l.floatNaN,l.floatExp,l.float];t.schema=c},28136:(e,t,r)=>{"use strict";var n=r(45134),i=r(97021),o=r(13980);function s(e){return"bigint"==typeof e||Number.isInteger(e)}let a=({value:e})=>JSON.stringify(e),l=[{identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:a},{identify:e=>null==e,createNode:()=>new n.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:a},{identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:e=>"true"===e,stringify:a},{identify:s,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:r})=>r?BigInt(e):parseInt(e,10),stringify:({value:e})=>s(e)?e.toString():JSON.stringify(e)},{identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:a}],u={default:!0,tag:"",test:/^/,resolve:(e,t)=>(t(`Unresolved plain scalar ${JSON.stringify(e)}`),e)},c=[i.map,o.seq].concat(l,u);t.schema=c},11435:(e,t,r)=>{"use strict";var n=r(97021),i=r(72182),o=r(13980),s=r(95516),a=r(12253),l=r(20754),u=r(65447),c=r(14406),d=r(28136),h=r(23173),p=r(54486),f=r(77925),m=r(44031),g=r(47275),y=r(21682),v=r(8632);let b=new Map([["core",c.schema],["failsafe",[n.map,o.seq,s.string]],["json",d.schema],["yaml11",g.schema],["yaml-1.1",g.schema]]),E={binary:h.binary,bool:a.boolTag,float:l.float,floatExp:l.floatExp,floatNaN:l.floatNaN,floatTime:v.floatTime,int:u.int,intHex:u.intHex,intOct:u.intOct,intTime:v.intTime,map:n.map,merge:p.merge,null:i.nullTag,omap:f.omap,pairs:m.pairs,seq:o.seq,set:y.set,timestamp:v.timestamp},S={"tag:yaml.org,2002:binary":h.binary,"tag:yaml.org,2002:merge":p.merge,"tag:yaml.org,2002:omap":f.omap,"tag:yaml.org,2002:pairs":m.pairs,"tag:yaml.org,2002:set":y.set,"tag:yaml.org,2002:timestamp":v.timestamp};function _(e,t,r){let n=b.get(t);if(n&&!e)return r&&!n.includes(p.merge)?n.concat(p.merge):n.slice();let i=n;if(!i){if(Array.isArray(e))i=[];else{let e=Array.from(b.keys()).filter(e=>"yaml11"!==e).map(e=>JSON.stringify(e)).join(", ");throw Error(`Unknown schema "${t}"; use one of ${e} or define customTags array`)}}if(Array.isArray(e))for(let t of e)i=i.concat(t);else"function"==typeof e&&(i=e(i.slice()));return r&&(i=i.concat(p.merge)),i.reduce((e,t)=>{let r="string"==typeof t?E[t]:t;if(!r){let e=JSON.stringify(t),r=Object.keys(E).map(e=>JSON.stringify(e)).join(", ");throw Error(`Unknown custom tag ${e}; use one of ${r}`)}return e.includes(r)||e.push(r),e},[])}t.coreKnownTags=S,t.getTags=_},23173:(e,t,r)=>{"use strict";var n=r(14300),i=r(45134),o=r(49103);let s={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if("function"==typeof n.Buffer)return n.Buffer.from(e,"base64");if("function"!=typeof atob)return t("This environment does not support reading binary tags; either Buffer or atob is required"),e;{let t=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}},stringify({comment:e,type:t,value:r},s,a,l){let u;if(!r)return"";let c=r;if("function"==typeof n.Buffer)u=c instanceof n.Buffer?c.toString("base64"):n.Buffer.from(c.buffer).toString("base64");else if("function"==typeof btoa){let e="";for(let t=0;t<c.length;++t)e+=String.fromCharCode(c[t]);u=btoa(e)}else throw Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t??(t=i.Scalar.BLOCK_LITERAL),t!==i.Scalar.QUOTE_DOUBLE){let e=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),r=Math.ceil(u.length/e),n=Array(r);for(let t=0,i=0;t<r;++t,i+=e)n[t]=u.substr(i,e);u=n.join(t===i.Scalar.BLOCK_LITERAL?"\n":" ")}return o.stringifyString({comment:e,type:t,value:u},s,a,l)}};t.binary=s},74039:(e,t,r)=>{"use strict";var n=r(45134);function i({value:e,source:t},r){let n=e?o:s;return t&&n.test.test(t)?t:e?r.options.trueStr:r.options.falseStr}let o={identify:e=>!0===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new n.Scalar(!0),stringify:i},s={identify:e=>!1===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new n.Scalar(!1),stringify:i};t.falseTag=s,t.trueTag=o},68286:(e,t,r)=>{"use strict";var n=r(45134),i=r(24352);let o={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:i.stringifyNumber},s={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){let t=Number(e.value);return isFinite(t)?t.toExponential():i.stringifyNumber(e)}},a={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){let t=new n.Scalar(parseFloat(e.replace(/_/g,""))),r=e.indexOf(".");if(-1!==r){let n=e.substring(r+1).replace(/_/g,"");"0"===n[n.length-1]&&(t.minFractionDigits=n.length)}return t},stringify:i.stringifyNumber};t.float=a,t.floatExp=s,t.floatNaN=o},32546:(e,t,r)=>{"use strict";var n=r(24352);let i=e=>"bigint"==typeof e||Number.isInteger(e);function o(e,t,r,{intAsBigInt:n}){let i=e[0];if(("-"===i||"+"===i)&&(t+=1),e=e.substring(t).replace(/_/g,""),n){switch(r){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`}let t=BigInt(e);return"-"===i?BigInt(-1)*t:t}let o=parseInt(e,r);return"-"===i?-1*o:o}function s(e,t,r){let{value:o}=e;if(i(o)){let e=o.toString(t);return o<0?"-"+r+e.substr(1):r+e}return n.stringifyNumber(e)}let a={identify:i,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,r)=>o(e,2,2,r),stringify:e=>s(e,2,"0b")},l={identify:i,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,r)=>o(e,1,8,r),stringify:e=>s(e,8,"0")},u={identify:i,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,r)=>o(e,0,10,r),stringify:n.stringifyNumber},c={identify:i,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,r)=>o(e,2,16,r),stringify:e=>s(e,16,"0x")};t.int=u,t.intBin=a,t.intHex=c,t.intOct=l},54486:(e,t,r)=>{"use strict";var n=r(28440),i=r(45134);let o="<<",s={identify:e=>e===o||"symbol"==typeof e&&e.description===o,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new i.Scalar(Symbol(o)),{addToJSMap:l}),stringify:()=>o},a=(e,t)=>(s.identify(t)||n.isScalar(t)&&(!t.type||t.type===i.Scalar.PLAIN)&&s.identify(t.value))&&e?.doc.schema.tags.some(e=>e.tag===s.tag&&e.default);function l(e,t,r){if(r=e&&n.isAlias(r)?r.resolve(e.doc):r,n.isSeq(r))for(let n of r.items)u(e,t,n);else if(Array.isArray(r))for(let n of r)u(e,t,n);else u(e,t,r)}function u(e,t,r){let i=e&&n.isAlias(r)?r.resolve(e.doc):r;if(!n.isMap(i))throw Error("Merge sources must be maps or map aliases");for(let[r,n]of i.toJSON(null,e,Map))t instanceof Map?t.has(r)||t.set(r,n):t instanceof Set?t.add(r):Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{value:n,writable:!0,enumerable:!0,configurable:!0});return t}t.addMergeToJSMap=l,t.isMergeKey=a,t.merge=s},77925:(e,t,r)=>{"use strict";var n=r(28440),i=r(38933),o=r(31387),s=r(10472),a=r(44031);class l extends s.YAMLSeq{constructor(){super(),this.add=o.YAMLMap.prototype.add.bind(this),this.delete=o.YAMLMap.prototype.delete.bind(this),this.get=o.YAMLMap.prototype.get.bind(this),this.has=o.YAMLMap.prototype.has.bind(this),this.set=o.YAMLMap.prototype.set.bind(this),this.tag=l.tag}toJSON(e,t){if(!t)return super.toJSON(e);let r=new Map;for(let e of(t?.onCreate&&t.onCreate(r),this.items)){let o,s;if(n.isPair(e)?(o=i.toJS(e.key,"",t),s=i.toJS(e.value,o,t)):o=i.toJS(e,"",t),r.has(o))throw Error("Ordered maps must not include duplicate keys");r.set(o,s)}return r}static from(e,t,r){let n=a.createPairs(e,t,r),i=new this;return i.items=n.items,i}}l.tag="tag:yaml.org,2002:omap";let u={collection:"seq",identify:e=>e instanceof Map,nodeClass:l,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){let r=a.resolvePairs(e,t),i=[];for(let{key:e}of r.items)n.isScalar(e)&&(i.includes(e.value)?t(`Ordered maps must not include duplicate keys: ${e.value}`):i.push(e.value));return Object.assign(new l,r)},createNode:(e,t,r)=>l.from(e,t,r)};t.YAMLOMap=l,t.omap=u},44031:(e,t,r)=>{"use strict";var n=r(28440),i=r(61213),o=r(45134),s=r(10472);function a(e,t){if(n.isSeq(e))for(let r=0;r<e.items.length;++r){let s=e.items[r];if(!n.isPair(s)){if(n.isMap(s)){s.items.length>1&&t("Each pair must have its own sequence indicator");let e=s.items[0]||new i.Pair(new o.Scalar(null));if(s.commentBefore&&(e.key.commentBefore=e.key.commentBefore?`${s.commentBefore}
${e.key.commentBefore}`:s.commentBefore),s.comment){let t=e.value??e.key;t.comment=t.comment?`${s.comment}
${t.comment}`:s.comment}s=e}e.items[r]=n.isPair(s)?s:new i.Pair(s)}}else t("Expected a sequence for this tag");return e}function l(e,t,r){let{replacer:n}=r,o=new s.YAMLSeq(e);o.tag="tag:yaml.org,2002:pairs";let a=0;if(t&&Symbol.iterator in Object(t))for(let e of t){let s,l;if("function"==typeof n&&(e=n.call(t,String(a++),e)),Array.isArray(e)){if(2===e.length)s=e[0],l=e[1];else throw TypeError(`Expected [key, value] tuple: ${e}`)}else if(e&&e instanceof Object){let t=Object.keys(e);if(1===t.length)l=e[s=t[0]];else throw TypeError(`Expected tuple with one key, not ${t.length} keys`)}else s=e;o.items.push(i.createPair(s,l,r))}return o}let u={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:a,createNode:l};t.createPairs=l,t.pairs=u,t.resolvePairs=a},47275:(e,t,r)=>{"use strict";var n=r(97021),i=r(72182),o=r(13980),s=r(95516),a=r(23173),l=r(74039),u=r(68286),c=r(32546),d=r(54486),h=r(77925),p=r(44031),f=r(21682),m=r(8632);let g=[n.map,o.seq,s.string,i.nullTag,l.trueTag,l.falseTag,c.intBin,c.intOct,c.int,c.intHex,u.floatNaN,u.floatExp,u.float,a.binary,d.merge,h.omap,p.pairs,f.set,m.intTime,m.floatTime,m.timestamp];t.schema=g},21682:(e,t,r)=>{"use strict";var n=r(28440),i=r(61213),o=r(31387);class s extends o.YAMLMap{constructor(e){super(e),this.tag=s.tag}add(e){let t;t=n.isPair(e)?e:e&&"object"==typeof e&&"key"in e&&"value"in e&&null===e.value?new i.Pair(e.key,null):new i.Pair(e,null),o.findPair(this.items,t.key)||this.items.push(t)}get(e,t){let r=o.findPair(this.items,e);return!t&&n.isPair(r)?n.isScalar(r.key)?r.key.value:r.key:r}set(e,t){if("boolean"!=typeof t)throw Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);let r=o.findPair(this.items,e);r&&!t?this.items.splice(this.items.indexOf(r),1):!r&&t&&this.items.push(new i.Pair(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,r);throw Error("Set items must all have null values")}static from(e,t,r){let{replacer:n}=r,o=new this(e);if(t&&Symbol.iterator in Object(t))for(let e of t)"function"==typeof n&&(e=n.call(t,e,e)),o.items.push(i.createPair(e,null,r));return o}}s.tag="tag:yaml.org,2002:set";let a={collection:"map",identify:e=>e instanceof Set,nodeClass:s,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,r)=>s.from(e,t,r),resolve(e,t){if(n.isMap(e)){if(e.hasAllNullValues(!0))return Object.assign(new s,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};t.YAMLSet=s,t.set=a},8632:(e,t,r)=>{"use strict";var n=r(24352);function i(e,t){let r=e[0],n="-"===r||"+"===r?e.substring(1):e,i=e=>t?BigInt(e):Number(e),o=n.replace(/_/g,"").split(":").reduce((e,t)=>e*i(60)+i(t),i(0));return"-"===r?i(-1)*o:o}function o(e){let{value:t}=e,r=e=>e;if("bigint"==typeof t)r=e=>BigInt(e);else if(isNaN(t)||!isFinite(t))return n.stringifyNumber(e);let i="";t<0&&(i="-",t*=r(-1));let o=r(60),s=[t%o];return t<60?s.unshift(0):(t=(t-s[0])/o,s.unshift(t%o),t>=60&&(t=(t-s[0])/o,s.unshift(t))),i+s.map(e=>String(e).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}let s={identify:e=>"bigint"==typeof e||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:r})=>i(e,r),stringify:o},a={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>i(e,!1),stringify:o},l={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){let t=e.match(l.test);if(!t)throw Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,r,n,o,s,a,u]=t.map(Number),c=Date.UTC(r,n-1,o,s||0,a||0,u||0,t[7]?Number((t[7]+"00").substr(1,3)):0),d=t[8];if(d&&"Z"!==d){let e=i(d,!1);30>Math.abs(e)&&(e*=60),c-=6e4*e}return new Date(c)},stringify:({value:e})=>e?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""};t.floatTime=a,t.intTime=s,t.timestamp=l},82718:(e,t)=>{"use strict";let r="flow",n="block",i="quoted";function o(e,t,r="flow",{indentAtStart:o,lineWidth:a=80,minContentWidth:l=20,onFold:u,onOverflow:c}={}){let d,h,p;if(!a||a<0)return e;a<l&&(l=0);let f=Math.max(1+l,1+a-t.length);if(e.length<=f)return e;let m=[],g={},y=a-t.length;"number"==typeof o&&(o>a-Math.max(2,l)?m.push(0):y=a-o);let v=!1,b=-1,E=-1,S=-1;for(r===n&&-1!==(b=s(e,b,t.length))&&(y=b+f);p=e[b+=1];){if(r===i&&"\\"===p){switch(E=b,e[b+1]){case"x":b+=3;break;case"u":b+=5;break;case"U":b+=9;break;default:b+=1}S=b}if("\n"===p)r===n&&(b=s(e,b,t.length)),y=b+t.length+f,d=void 0;else{if(" "===p&&h&&" "!==h&&"\n"!==h&&"	"!==h){let t=e[b+1];t&&" "!==t&&"\n"!==t&&"	"!==t&&(d=b)}if(b>=y){if(d)m.push(d),y=d+f,d=void 0;else if(r===i){for(;" "===h||"	"===h;)h=p,p=e[b+=1],v=!0;let t=b>S+1?b-2:E-1;if(g[t])return e;m.push(t),g[t]=!0,y=t+f,d=void 0}else v=!0}}h=p}if(v&&c&&c(),0===m.length)return e;u&&u();let _=e.slice(0,m[0]);for(let n=0;n<m.length;++n){let o=m[n],s=m[n+1]||e.length;0===o?_=`
${t}${e.slice(0,s)}`:(r===i&&g[o]&&(_+=`${e[o]}\\`),_+=`
${t}${e.slice(o+1,s)}`)}return _}function s(e,t,r){let n=t,i=t+1,o=e[i];for(;" "===o||"	"===o;)if(t<i+r)o=e[++t];else{do o=e[++t];while(o&&"\n"!==o);n=t,o=e[i=t+1]}return n}t.FOLD_BLOCK=n,t.FOLD_FLOW=r,t.FOLD_QUOTED=i,t.foldFlowLines=o},21729:(e,t,r)=>{"use strict";var n=r(51014),i=r(28440),o=r(91043),s=r(49103);function a(e,t){let r;let n=Object.assign({blockQuote:!0,commentString:o.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:"number"==typeof n.indent?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function l(e,t){let r,n;if(t.tag){let r=e.filter(e=>e.tag===t.tag);if(r.length>0)return r.find(e=>e.format===t.format)??r[0]}if(i.isScalar(t)){r=t.value;let i=e.filter(e=>e.identify?.(r));if(i.length>1){let e=i.filter(e=>e.test);e.length>0&&(i=e)}n=i.find(e=>e.format===t.format)??i.find(e=>!e.format)}else r=t,n=e.find(e=>e.nodeClass&&r instanceof e.nodeClass);if(!n){let e=r?.constructor?.name??(null===r?"null":typeof r);throw Error(`Tag not resolved for ${e} value`)}return n}function u(e,t,{anchors:r,doc:o}){if(!o.directives)return"";let s=[],a=(i.isScalar(e)||i.isCollection(e))&&e.anchor;a&&n.anchorIsValid(a)&&(r.add(a),s.push(`&${a}`));let l=e.tag??(t.default?null:t.tag);return l&&s.push(o.directives.tagString(l)),s.join(" ")}function c(e,t,r,n){let o;if(i.isPair(e))return e.toString(t,r,n);if(i.isAlias(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let a=i.isNode(e)?e:t.doc.createNode(e,{onTagObj:e=>o=e});o??(o=l(t.doc.schema.tags,a));let c=u(a,o,t);c.length>0&&(t.indentAtStart=(t.indentAtStart??0)+c.length+1);let d="function"==typeof o.stringify?o.stringify(a,t,r,n):i.isScalar(a)?s.stringifyString(a,t,r,n):a.toString(t,r,n);return c?i.isScalar(a)||"{"===d[0]||"["===d[0]?`${c} ${d}`:`${c}
${t.indent}${d}`:d}t.createStringifyContext=a,t.stringify=c},46273:(e,t,r)=>{"use strict";var n=r(28440),i=r(21729),o=r(91043);function s(e,t,r){return(t.inFlow??e.flow?l:a)(e,t,r)}function a({comment:e,items:t},r,{blockItemPrefix:s,flowChars:a,itemIndent:l,onChompKeep:c,onComment:d}){let h;let{indent:p,options:{commentString:f}}=r,m=Object.assign({},r,{indent:l,type:null}),g=!1,y=[];for(let e=0;e<t.length;++e){let a=t[e],c=null;if(n.isNode(a))!g&&a.spaceBefore&&y.push(""),u(r,y,a.commentBefore,g),a.comment&&(c=a.comment);else if(n.isPair(a)){let e=n.isNode(a.key)?a.key:null;e&&(!g&&e.spaceBefore&&y.push(""),u(r,y,e.commentBefore,g))}g=!1;let d=i.stringify(a,m,()=>c=null,()=>g=!0);c&&(d+=o.lineComment(d,l,f(c))),g&&c&&(g=!1),y.push(s+d)}if(0===y.length)h=a.start+a.end;else{h=y[0];for(let e=1;e<y.length;++e){let t=y[e];h+=t?`
${p}${t}`:"\n"}}return e?(h+="\n"+o.indentComment(f(e),p),d&&d()):g&&c&&c(),h}function l({items:e},t,{flowChars:r,itemIndent:s}){let{indent:a,indentStep:l,flowCollectionPadding:c,options:{commentString:d}}=t,h=Object.assign({},t,{indent:s+=l,inFlow:!0,type:null}),p=!1,f=0,m=[];for(let r=0;r<e.length;++r){let a=e[r],l=null;if(n.isNode(a))a.spaceBefore&&m.push(""),u(t,m,a.commentBefore,!1),a.comment&&(l=a.comment);else if(n.isPair(a)){let e=n.isNode(a.key)?a.key:null;e&&(e.spaceBefore&&m.push(""),u(t,m,e.commentBefore,!1),e.comment&&(p=!0));let r=n.isNode(a.value)?a.value:null;r?(r.comment&&(l=r.comment),r.commentBefore&&(p=!0)):null==a.value&&e?.comment&&(l=e.comment)}l&&(p=!0);let c=i.stringify(a,h,()=>l=null);r<e.length-1&&(c+=","),l&&(c+=o.lineComment(c,s,d(l))),!p&&(m.length>f||c.includes("\n"))&&(p=!0),m.push(c),f=m.length}let{start:g,end:y}=r;if(0===m.length)return g+y;if(!p){let e=m.reduce((e,t)=>e+t.length+2,2);p=t.options.lineWidth>0&&e>t.options.lineWidth}if(!p)return`${g}${c}${m.join(" ")}${c}${y}`;{let e=g;for(let t of m)e+=t?`
${l}${a}${t}`:"\n";return`${e}
${a}${y}`}}function u({indent:e,options:{commentString:t}},r,n,i){if(n&&i&&(n=n.replace(/^\n+/,"")),n){let i=o.indentComment(t(n),e);r.push(i.trimStart())}}t.stringifyCollection=s},91043:(e,t)=>{"use strict";let r=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function n(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}let i=(e,t,r)=>e.endsWith("\n")?n(r,t):r.includes("\n")?"\n"+n(r,t):(e.endsWith(" ")?"":" ")+r;t.indentComment=n,t.lineComment=i,t.stringifyComment=r},31466:(e,t,r)=>{"use strict";var n=r(28440),i=r(21729),o=r(91043);function s(e,t){let r=[],s=!0===t.directives;if(!1!==t.directives&&e.directives){let t=e.directives.toString(e);t?(r.push(t),s=!0):e.directives.docStart&&(s=!0)}s&&r.push("---");let a=i.createStringifyContext(e,t),{commentString:l}=a.options;if(e.commentBefore){1!==r.length&&r.unshift("");let t=l(e.commentBefore);r.unshift(o.indentComment(t,""))}let u=!1,c=null;if(e.contents){if(n.isNode(e.contents)){if(e.contents.spaceBefore&&s&&r.push(""),e.contents.commentBefore){let t=l(e.contents.commentBefore);r.push(o.indentComment(t,""))}a.forceBlockIndent=!!e.comment,c=e.contents.comment}let t=c?void 0:()=>u=!0,d=i.stringify(e.contents,a,()=>c=null,t);c&&(d+=o.lineComment(d,"",l(c))),("|"===d[0]||">"===d[0])&&"---"===r[r.length-1]?r[r.length-1]=`--- ${d}`:r.push(d)}else r.push(i.stringify(e.contents,a));if(e.directives?.docEnd){if(e.comment){let t=l(e.comment);t.includes("\n")?(r.push("..."),r.push(o.indentComment(t,""))):r.push(`... ${t}`)}else r.push("...")}else{let t=e.comment;t&&u&&(t=t.replace(/^\n+/,"")),t&&((!u||c)&&""!==r[r.length-1]&&r.push(""),r.push(o.indentComment(l(t),"")))}return r.join("\n")+"\n"}t.stringifyDocument=s},24352:(e,t)=>{"use strict";function r({format:e,minFractionDigits:t,tag:r,value:n}){if("bigint"==typeof n)return String(n);let i="number"==typeof n?n:Number(n);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let o=JSON.stringify(n);if(!e&&t&&(!r||"tag:yaml.org,2002:float"===r)&&/^\d/.test(o)){let e=o.indexOf(".");e<0&&(e=o.length,o+=".");let r=t-(o.length-e-1);for(;r-- >0;)o+="0"}return o}t.stringifyNumber=r},46813:(e,t,r)=>{"use strict";var n=r(28440),i=r(45134),o=r(21729),s=r(91043);function a({key:e,value:t},r,a,l){let u,c,d;let{allNullValues:h,doc:p,indent:f,indentStep:m,options:{commentString:g,indentSeq:y,simpleKeys:v}}=r,b=n.isNode(e)&&e.comment||null;if(v){if(b)throw Error("With simple keys, key nodes cannot have comments");if(n.isCollection(e)||!n.isNode(e)&&"object"==typeof e)throw Error("With simple keys, collection cannot be used as a key value")}let E=!v&&(!e||b&&null==t&&!r.inFlow||n.isCollection(e)||(n.isScalar(e)?e.type===i.Scalar.BLOCK_FOLDED||e.type===i.Scalar.BLOCK_LITERAL:"object"==typeof e));r=Object.assign({},r,{allNullValues:!1,implicitKey:!E&&(v||!h),indent:f+m});let S=!1,_=!1,T=o.stringify(e,r,()=>S=!0,()=>_=!0);if(!E&&!r.inFlow&&T.length>1024){if(v)throw Error("With simple keys, single line scalar must not span more than 1024 characters");E=!0}if(r.inFlow){if(h||null==t)return S&&a&&a(),""===T?"?":E?`? ${T}`:T}else if(h&&!v||null==t&&E)return T=`? ${T}`,b&&!S?T+=s.lineComment(T,r.indent,g(b)):_&&l&&l(),T;S&&(b=null),E?(b&&(T+=s.lineComment(T,r.indent,g(b))),T=`? ${T}
${f}:`):(T=`${T}:`,b&&(T+=s.lineComment(T,r.indent,g(b)))),n.isNode(t)?(u=!!t.spaceBefore,c=t.commentBefore,d=t.comment):(u=!1,c=null,d=null,t&&"object"==typeof t&&(t=p.createNode(t))),r.implicitKey=!1,!E&&!b&&n.isScalar(t)&&(r.indentAtStart=T.length+1),_=!1,!(!y&&m.length>=2&&!r.inFlow&&!E&&n.isSeq(t))||t.flow||t.tag||t.anchor||(r.indent=r.indent.substring(2));let A=!1,C=o.stringify(t,r,()=>A=!0,()=>_=!0),w=" ";if(b||u||c){if(w=u?"\n":"",c){let e=g(c);w+=`
${s.indentComment(e,r.indent)}`}""!==C||r.inFlow?w+=`
${r.indent}`:"\n"===w&&(w="\n\n")}else if(!E&&n.isCollection(t)){let e=C[0],n=C.indexOf("\n"),i=-1!==n,o=r.inFlow??t.flow??0===t.items.length;if(i||!o){let t=!1;if(i&&("&"===e||"!"===e)){let r=C.indexOf(" ");"&"===e&&-1!==r&&r<n&&"!"===C[r+1]&&(r=C.indexOf(" ",r+1)),(-1===r||n<r)&&(t=!0)}t||(w=`
${r.indent}`)}}else(""===C||"\n"===C[0])&&(w="");return T+=w+C,r.inFlow?A&&a&&a():d&&!A?T+=s.lineComment(T,r.indent,g(d)):_&&l&&l(),T}t.stringifyPair=a},49103:(e,t,r)=>{"use strict";let n;var i=r(45134),o=r(82718);let s=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),a=e=>/^(%|---|\.\.\.)/m.test(e);function l(e,t,r){if(!t||t<0)return!1;let n=t-r,i=e.length;if(i<=n)return!1;for(let t=0,r=0;t<i;++t)if("\n"===e[t]){if(t-r>n)return!0;if(i-(r=t+1)<=n)return!1}return!0}function u(e,t){let r=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return r;let{implicitKey:n}=t,i=t.options.doubleQuotedMinMultiLineLength,l=t.indent||(a(e)?"  ":""),u="",c=0;for(let e=0,t=r[e];t;t=r[++e])if(" "===t&&"\\"===r[e+1]&&"n"===r[e+2]&&(u+=r.slice(c,e)+"\\ ",e+=1,c=e,t="\\"),"\\"===t)switch(r[e+1]){case"u":{u+=r.slice(c,e);let t=r.substr(e+2,4);switch(t){case"0000":u+="\\0";break;case"0007":u+="\\a";break;case"000b":u+="\\v";break;case"001b":u+="\\e";break;case"0085":u+="\\N";break;case"00a0":u+="\\_";break;case"2028":u+="\\L";break;case"2029":u+="\\P";break;default:"00"===t.substr(0,2)?u+="\\x"+t.substr(2):u+=r.substr(e,6)}e+=5,c=e+1}break;case"n":if(n||'"'===r[e+2]||r.length<i)e+=1;else{for(u+=r.slice(c,e)+"\n\n";"\\"===r[e+2]&&"n"===r[e+3]&&'"'!==r[e+4];)u+="\n",e+=2;u+=l," "===r[e+2]&&(u+="\\"),e+=1,c=e+1}break;default:e+=1}return u=c?u+r.slice(c):r,n?u:o.foldFlowLines(u,l,o.FOLD_QUOTED,s(t,!1))}function c(e,t){if(!1===t.options.singleQuote||t.implicitKey&&e.includes("\n")||/[ \t]\n|\n[ \t]/.test(e))return u(e,t);let r=t.indent||(a(e)?"  ":""),n="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${r}`)+"'";return t.implicitKey?n:o.foldFlowLines(n,r,o.FOLD_FLOW,s(t,!1))}function d(e,t){let r;let{singleQuote:n}=t.options;if(!1===n)r=u;else{let t=e.includes('"'),i=e.includes("'");r=t&&!i?c:i&&!t?u:n?c:u}return r(e,t)}try{n=RegExp("(^|(?<!\n))\n+(?!\n|$)","g")}catch{n=/\n+(?!\n|$)/g}function h({comment:e,type:t,value:r},u,c,h){let p,f,m;let{blockQuote:g,commentString:y,lineWidth:v}=u.options;if(!g||/\n[\t ]+$/.test(r))return d(r,u);let b=u.indent||(u.forceBlockIndent||a(r)?"  ":""),E="literal"===g||"folded"!==g&&t!==i.Scalar.BLOCK_FOLDED&&(t===i.Scalar.BLOCK_LITERAL||!l(r,v,b.length));if(!r)return E?"|\n":">\n";for(f=r.length;f>0;--f){let e=r[f-1];if("\n"!==e&&"	"!==e&&" "!==e)break}let S=r.substring(f),_=S.indexOf("\n");-1===_?p="-":r===S||_!==S.length-1?(p="+",h&&h()):p="",S&&(r=r.slice(0,-S.length),"\n"===S[S.length-1]&&(S=S.slice(0,-1)),S=S.replace(n,`$&${b}`));let T=!1,A=-1;for(m=0;m<r.length;++m){let e=r[m];if(" "===e)T=!0;else if("\n"===e)A=m;else break}let C=r.substring(0,A<m?A+1:m);C&&(r=r.substring(C.length),C=C.replace(/\n+/g,`$&${b}`));let w=b?"2":"1",O=(T?w:"")+p;if(e&&(O+=" "+y(e.replace(/ ?[\r\n]+/g," ")),c&&c()),!E){let e=r.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${b}`),n=!1,a=s(u,!0);"folded"!==g&&t!==i.Scalar.BLOCK_FOLDED&&(a.onOverflow=()=>{n=!0});let l=o.foldFlowLines(`${C}${e}${S}`,b,o.FOLD_BLOCK,a);if(!n)return`>${O}
${b}${l}`}return r=r.replace(/\n+/g,`$&${b}`),`|${O}
${b}${C}${r}${S}`}function p(e,t,r,n){let{type:l,value:u}=e,{actualString:c,implicitKey:p,indent:f,indentStep:m,inFlow:g}=t;if(p&&u.includes("\n")||g&&/[[\]{},]/.test(u))return d(u,t);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(u))return p||g||!u.includes("\n")?d(u,t):h(e,t,r,n);if(!p&&!g&&l!==i.Scalar.PLAIN&&u.includes("\n"))return h(e,t,r,n);if(a(u)){if(""===f)return t.forceBlockIndent=!0,h(e,t,r,n);if(p&&f===m)return d(u,t)}let y=u.replace(/\n+/g,`$&
${f}`);if(c){let e=e=>e.default&&"tag:yaml.org,2002:str"!==e.tag&&e.test?.test(y),{compat:r,tags:n}=t.doc.schema;if(n.some(e)||r?.some(e))return d(u,t)}return p?y:o.foldFlowLines(y,f,o.FOLD_FLOW,s(t,!1))}function f(e,t,r,n){let{implicitKey:o,inFlow:s}=t,a="string"==typeof e.value?e:Object.assign({},e,{value:String(e.value)}),{type:l}=e;l!==i.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(a.value)&&(l=i.Scalar.QUOTE_DOUBLE);let f=e=>{switch(e){case i.Scalar.BLOCK_FOLDED:case i.Scalar.BLOCK_LITERAL:return o||s?d(a.value,t):h(a,t,r,n);case i.Scalar.QUOTE_DOUBLE:return u(a.value,t);case i.Scalar.QUOTE_SINGLE:return c(a.value,t);case i.Scalar.PLAIN:return p(a,t,r,n);default:return null}},m=f(l);if(null===m){let{defaultKeyType:e,defaultStringType:r}=t.options,n=o&&e||r;if(null===(m=f(n)))throw Error(`Unsupported default string type ${n}`)}return m}t.stringifyString=f},36674:(e,t,r)=>{"use strict";var n=r(28440);let i=Symbol("break visit"),o=Symbol("skip children"),s=Symbol("remove node");function a(e,t){let r=d(t);n.isDocument(e)?l(null,e.contents,r,Object.freeze([e]))===s&&(e.contents=null):l(null,e,r,Object.freeze([]))}function l(e,t,r,o){let a=h(e,t,r,o);if(n.isNode(a)||n.isPair(a))return p(e,o,a),l(e,a,r,o);if("symbol"!=typeof a){if(n.isCollection(t)){o=Object.freeze(o.concat(t));for(let e=0;e<t.items.length;++e){let n=l(e,t.items[e],r,o);if("number"==typeof n)e=n-1;else{if(n===i)return i;n===s&&(t.items.splice(e,1),e-=1)}}}else if(n.isPair(t)){o=Object.freeze(o.concat(t));let e=l("key",t.key,r,o);if(e===i)return i;e===s&&(t.key=null);let n=l("value",t.value,r,o);if(n===i)return i;n===s&&(t.value=null)}}return a}async function u(e,t){let r=d(t);n.isDocument(e)?await c(null,e.contents,r,Object.freeze([e]))===s&&(e.contents=null):await c(null,e,r,Object.freeze([]))}async function c(e,t,r,o){let a=await h(e,t,r,o);if(n.isNode(a)||n.isPair(a))return p(e,o,a),c(e,a,r,o);if("symbol"!=typeof a){if(n.isCollection(t)){o=Object.freeze(o.concat(t));for(let e=0;e<t.items.length;++e){let n=await c(e,t.items[e],r,o);if("number"==typeof n)e=n-1;else{if(n===i)return i;n===s&&(t.items.splice(e,1),e-=1)}}}else if(n.isPair(t)){o=Object.freeze(o.concat(t));let e=await c("key",t.key,r,o);if(e===i)return i;e===s&&(t.key=null);let n=await c("value",t.value,r,o);if(n===i)return i;n===s&&(t.value=null)}}return a}function d(e){return"object"==typeof e&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function h(e,t,r,i){return"function"==typeof r?r(e,t,i):n.isMap(t)?r.Map?.(e,t,i):n.isSeq(t)?r.Seq?.(e,t,i):n.isPair(t)?r.Pair?.(e,t,i):n.isScalar(t)?r.Scalar?.(e,t,i):n.isAlias(t)?r.Alias?.(e,t,i):void 0}function p(e,t,r){let i=t[t.length-1];if(n.isCollection(i))i.items[e]=r;else if(n.isPair(i))"key"===e?i.key=r:i.value=r;else if(n.isDocument(i))i.contents=r;else{let e=n.isAlias(i)?"alias":"scalar";throw Error(`Cannot replace node with ${e} parent`)}}a.BREAK=i,a.SKIP=o,a.REMOVE=s,u.BREAK=i,u.SKIP=o,u.REMOVE=s,t.visit=a,t.visitAsync=u},81598:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultOptions=t.defaultOptions=t.jsonDescription=t.ignoreOverride=void 0,t.ignoreOverride=Symbol("Let zodToJsonSchema decide on which parser to use");let r=(e,t)=>{if(t.description)try{return{...e,...JSON.parse(t.description)}}catch{}return e};t.jsonDescription=r,t.defaultOptions={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"};let n=e=>"string"==typeof e?{...t.defaultOptions,name:e}:{...t.defaultOptions,...e};t.getDefaultOptions=n},98812:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRefs=void 0;let n=r(81598),i=e=>{let t=(0,n.getDefaultOptions)(e),r=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,flags:{hasReferencedOpenAiAnyType:!1},currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([e,r])=>[r._def,{def:r._def,path:[...t.basePath,t.definitionPath,e],jsonSchema:void 0}]))}};t.getRefs=i},28142:(e,t)=>{"use strict";function r(e,t,r,n){n?.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}function n(e,t,n,i,o){e[t]=n,r(e,t,i,o)}Object.defineProperty(t,"__esModule",{value:!0}),t.setResponseValueAndErrors=t.addErrorMessage=void 0,t.addErrorMessage=r,t.setResponseValueAndErrors=n},66967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRelativePath=void 0;let r=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")};t.getRelativePath=r},8665:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(81598),t),i(r(98812),t),i(r(28142),t),i(r(66967),t),i(r(79691),t),i(r(94236),t),i(r(27943),t),i(r(55193),t),i(r(60828),t),i(r(37671),t),i(r(48786),t),i(r(44306),t),i(r(2558),t),i(r(63966),t),i(r(21516),t),i(r(81018),t),i(r(28735),t),i(r(84946),t),i(r(50280),t),i(r(48552),t),i(r(14943),t),i(r(39805),t),i(r(99976),t),i(r(10025),t),i(r(61842),t),i(r(17495),t),i(r(58270),t),i(r(38570),t),i(r(41793),t),i(r(56347),t),i(r(7423),t),i(r(84973),t),i(r(48142),t),i(r(31129),t),i(r(33871),t),i(r(87655),t),i(r(52058),t),i(r(53185),t);let o=r(53185);t.default=o.zodToJsonSchema},79691:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDef=void 0;let n=r(81598),i=r(52058),o=r(66967),s=r(27943);function a(e,t,r=!1){let o=t.seen.get(e);if(t.override){let i=t.override?.(e,t,o,r);if(i!==n.ignoreOverride)return i}if(o&&!r){let e=l(o,t);if(void 0!==e)return e}let s={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,s);let c=(0,i.selectParser)(e,e.typeName,t),d="function"==typeof c?a(c(),t):c;if(d&&u(e,t,d),t.postProcess){let r=t.postProcess(d,e,t);return s.jsonSchema=d,r}return s.jsonSchema=d,d}t.parseDef=a;let l=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:(0,o.getRelativePath)(t.currentPath,e.path)};case"none":case"seen":if(e.path.length<t.currentPath.length&&e.path.every((e,r)=>t.currentPath[r]===e))return console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),(0,s.parseAnyDef)(t);return"seen"===t.$refStrategy?(0,s.parseAnyDef)(t):void 0}},u=(e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r)},94236:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},27943:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseAnyDef=void 0;let n=r(66967);function i(e){if("openAi"!==e.target)return{};let t=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:"relative"===e.$refStrategy?(0,n.getRelativePath)(t,e.currentPath):t.join("/")}}t.parseAnyDef=i},55193:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseArrayDef=void 0;let n=r(17334),i=r(28142),o=r(79691);function s(e,t){let r={type:"array"};return e.type?._def&&e.type?._def?.typeName!==n.ZodFirstPartyTypeKind.ZodAny&&(r.items=(0,o.parseDef)(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(0,i.setResponseValueAndErrors)(r,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&(0,i.setResponseValueAndErrors)(r,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&((0,i.setResponseValueAndErrors)(r,"minItems",e.exactLength.value,e.exactLength.message,t),(0,i.setResponseValueAndErrors)(r,"maxItems",e.exactLength.value,e.exactLength.message,t)),r}t.parseArrayDef=s},60828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBigintDef=void 0;let n=r(28142);function i(e,t){let r={type:"integer",format:"int64"};if(!e.checks)return r;for(let i of e.checks)switch(i.kind){case"min":"jsonSchema7"===t.target?i.inclusive?(0,n.setResponseValueAndErrors)(r,"minimum",i.value,i.message,t):(0,n.setResponseValueAndErrors)(r,"exclusiveMinimum",i.value,i.message,t):(i.inclusive||(r.exclusiveMinimum=!0),(0,n.setResponseValueAndErrors)(r,"minimum",i.value,i.message,t));break;case"max":"jsonSchema7"===t.target?i.inclusive?(0,n.setResponseValueAndErrors)(r,"maximum",i.value,i.message,t):(0,n.setResponseValueAndErrors)(r,"exclusiveMaximum",i.value,i.message,t):(i.inclusive||(r.exclusiveMaximum=!0),(0,n.setResponseValueAndErrors)(r,"maximum",i.value,i.message,t));break;case"multipleOf":(0,n.setResponseValueAndErrors)(r,"multipleOf",i.value,i.message,t)}return r}t.parseBigintDef=i},37671:(e,t)=>{"use strict";function r(){return{type:"boolean"}}Object.defineProperty(t,"__esModule",{value:!0}),t.parseBooleanDef=void 0,t.parseBooleanDef=r},48786:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBrandedDef=void 0;let n=r(79691);function i(e,t){return(0,n.parseDef)(e.type._def,t)}t.parseBrandedDef=i},44306:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseCatchDef=void 0;let n=r(79691),i=(e,t)=>(0,n.parseDef)(e.innerType._def,t);t.parseCatchDef=i},2558:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDateDef=void 0;let n=r(28142);function i(e,t,r){let n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((r,n)=>i(e,t,r))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return o(e,t)}}t.parseDateDef=i;let o=(e,t)=>{let r={type:"integer",format:"unix-time"};if("openApi3"===t.target)return r;for(let i of e.checks)switch(i.kind){case"min":(0,n.setResponseValueAndErrors)(r,"minimum",i.value,i.message,t);break;case"max":(0,n.setResponseValueAndErrors)(r,"maximum",i.value,i.message,t)}return r}},63966:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDefaultDef=void 0;let n=r(79691);function i(e,t){return{...(0,n.parseDef)(e.innerType._def,t),default:e.defaultValue()}}t.parseDefaultDef=i},21516:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseEffectsDef=void 0;let n=r(79691),i=r(27943);function o(e,t){return"input"===t.effectStrategy?(0,n.parseDef)(e.schema._def,t):(0,i.parseAnyDef)(t)}t.parseEffectsDef=o},81018:(e,t)=>{"use strict";function r(e){return{type:"string",enum:Array.from(e.values)}}Object.defineProperty(t,"__esModule",{value:!0}),t.parseEnumDef=void 0,t.parseEnumDef=r},28735:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIntersectionDef=void 0;let n=r(79691),i=e=>(!("type"in e)||"string"!==e.type)&&"allOf"in e;function o(e,t){let r=[(0,n.parseDef)(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),(0,n.parseDef)(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(e=>!!e),o="jsonSchema2019-09"===t.target?{unevaluatedProperties:!1}:void 0,s=[];return r.forEach(e=>{if(i(e))s.push(...e.allOf),void 0===e.unevaluatedProperties&&(o=void 0);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){let{additionalProperties:r,...n}=e;t=n}else o=void 0;s.push(t)}}),s.length?{allOf:s,...o}:void 0}t.parseIntersectionDef=o},84946:(e,t)=>{"use strict";function r(e,t){let r=typeof e.value;return"bigint"!==r&&"number"!==r&&"boolean"!==r&&"string"!==r?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===t.target?{type:"bigint"===r?"integer":r,enum:[e.value]}:{type:"bigint"===r?"integer":r,const:e.value}}Object.defineProperty(t,"__esModule",{value:!0}),t.parseLiteralDef=void 0,t.parseLiteralDef=r},50280:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMapDef=void 0;let n=r(79691),i=r(56347),o=r(27943);function s(e,t){return"record"===t.mapStrategy?(0,i.parseRecordDef)(e,t):{type:"array",maxItems:125,items:{type:"array",items:[(0,n.parseDef)(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||(0,o.parseAnyDef)(t),(0,n.parseDef)(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||(0,o.parseAnyDef)(t)],minItems:2,maxItems:2}}}t.parseMapDef=s},48552:(e,t)=>{"use strict";function r(e){let t=e.values,r=Object.keys(e.values).filter(e=>"number"!=typeof t[t[e]]).map(e=>t[e]),n=Array.from(new Set(r.map(e=>typeof e)));return{type:1===n.length?"string"===n[0]?"string":"number":["string","number"],enum:r}}Object.defineProperty(t,"__esModule",{value:!0}),t.parseNativeEnumDef=void 0,t.parseNativeEnumDef=r},14943:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNeverDef=void 0;let n=r(27943);function i(e){return"openAi"===e.target?void 0:{not:(0,n.parseAnyDef)({...e,currentPath:[...e.currentPath,"not"]})}}t.parseNeverDef=i},39805:(e,t)=>{"use strict";function r(e){return"openApi3"===e.target?{enum:["null"],nullable:!0}:{type:"null"}}Object.defineProperty(t,"__esModule",{value:!0}),t.parseNullDef=void 0,t.parseNullDef=r},99976:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNullableDef=void 0;let n=r(79691),i=r(33871);function o(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===t.target?{type:i.primitiveMappings[e.innerType._def.typeName],nullable:!0}:{type:[i.primitiveMappings[e.innerType._def.typeName],"null"]};if("openApi3"===t.target){let r=(0,n.parseDef)(e.innerType._def,{...t,currentPath:[...t.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}let r=(0,n.parseDef)(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}t.parseNullableDef=o},10025:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNumberDef=void 0;let n=r(28142);function i(e,t){let r={type:"number"};if(!e.checks)return r;for(let i of e.checks)switch(i.kind){case"int":r.type="integer",(0,n.addErrorMessage)(r,"type",i.message,t);break;case"min":"jsonSchema7"===t.target?i.inclusive?(0,n.setResponseValueAndErrors)(r,"minimum",i.value,i.message,t):(0,n.setResponseValueAndErrors)(r,"exclusiveMinimum",i.value,i.message,t):(i.inclusive||(r.exclusiveMinimum=!0),(0,n.setResponseValueAndErrors)(r,"minimum",i.value,i.message,t));break;case"max":"jsonSchema7"===t.target?i.inclusive?(0,n.setResponseValueAndErrors)(r,"maximum",i.value,i.message,t):(0,n.setResponseValueAndErrors)(r,"exclusiveMaximum",i.value,i.message,t):(i.inclusive||(r.exclusiveMaximum=!0),(0,n.setResponseValueAndErrors)(r,"maximum",i.value,i.message,t));break;case"multipleOf":(0,n.setResponseValueAndErrors)(r,"multipleOf",i.value,i.message,t)}return r}t.parseNumberDef=i},61842:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseObjectDef=void 0;let n=r(79691);function i(e,t){let r="openAi"===t.target,i={type:"object",properties:{}},a=[],l=e.shape();for(let e in l){let o=l[e];if(void 0===o||void 0===o._def)continue;let u=s(o);u&&r&&("ZodOptional"===o._def.typeName&&(o=o._def.innerType),o.isNullable()||(o=o.nullable()),u=!1);let c=(0,n.parseDef)(o._def,{...t,currentPath:[...t.currentPath,"properties",e],propertyPath:[...t.currentPath,"properties",e]});void 0!==c&&(i.properties[e]=c,u||a.push(e))}a.length&&(i.required=a);let u=o(e,t);return void 0!==u&&(i.additionalProperties=u),i}function o(e,t){if("ZodNever"!==e.catchall._def.typeName)return(0,n.parseDef)(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return"strict"===t.removeAdditionalStrategy?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function s(e){try{return e.isOptional()}catch{return!0}}t.parseObjectDef=i},17495:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseOptionalDef=void 0;let n=r(79691),i=r(27943),o=(e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return(0,n.parseDef)(e.innerType._def,t);let r=(0,n.parseDef)(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:(0,i.parseAnyDef)(t)},r]}:(0,i.parseAnyDef)(t)};t.parseOptionalDef=o},58270:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePipelineDef=void 0;let n=r(79691),i=(e,t)=>{if("input"===t.pipeStrategy)return(0,n.parseDef)(e.in._def,t);if("output"===t.pipeStrategy)return(0,n.parseDef)(e.out._def,t);let r=(0,n.parseDef)(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),i=(0,n.parseDef)(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,i].filter(e=>void 0!==e)}};t.parsePipelineDef=i},38570:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePromiseDef=void 0;let n=r(79691);function i(e,t){return(0,n.parseDef)(e.type._def,t)}t.parsePromiseDef=i},41793:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseReadonlyDef=void 0;let n=r(79691),i=(e,t)=>(0,n.parseDef)(e.innerType._def,t);t.parseReadonlyDef=i},56347:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseRecordDef=void 0;let n=r(17334),i=r(79691),o=r(84973),s=r(48786),a=r(27943);function l(e,t){if("openAi"===t.target&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),"openApi3"===t.target&&e.keyType?._def.typeName===n.ZodFirstPartyTypeKind.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((r,n)=>({...r,[n]:(0,i.parseDef)(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",n]})??(0,a.parseAnyDef)(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};let r={type:"object",additionalProperties:(0,i.parseDef)(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if("openApi3"===t.target)return r;if(e.keyType?._def.typeName===n.ZodFirstPartyTypeKind.ZodString&&e.keyType._def.checks?.length){let{type:n,...i}=(0,o.parseStringDef)(e.keyType._def,t);return{...r,propertyNames:i}}if(e.keyType?._def.typeName===n.ZodFirstPartyTypeKind.ZodEnum)return{...r,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===n.ZodFirstPartyTypeKind.ZodBranded&&e.keyType._def.type._def.typeName===n.ZodFirstPartyTypeKind.ZodString&&e.keyType._def.type._def.checks?.length){let{type:n,...i}=(0,s.parseBrandedDef)(e.keyType._def,t);return{...r,propertyNames:i}}return r}t.parseRecordDef=l},7423:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSetDef=void 0;let n=r(28142),i=r(79691);function o(e,t){let r={type:"array",uniqueItems:!0,items:(0,i.parseDef)(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(0,n.setResponseValueAndErrors)(r,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&(0,n.setResponseValueAndErrors)(r,"maxItems",e.maxSize.value,e.maxSize.message,t),r}t.parseSetDef=o},84973:(e,t,r)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.parseStringDef=t.zodPatterns=void 0;let i=r(28142);function o(e,r){let n={type:"string"};if(e.checks)for(let o of e.checks)switch(o.kind){case"min":(0,i.setResponseValueAndErrors)(n,"minLength","number"==typeof n.minLength?Math.max(n.minLength,o.value):o.value,o.message,r);break;case"max":(0,i.setResponseValueAndErrors)(n,"maxLength","number"==typeof n.maxLength?Math.min(n.maxLength,o.value):o.value,o.message,r);break;case"email":switch(r.emailStrategy){case"format:email":u(n,"email",o.message,r);break;case"format:idn-email":u(n,"idn-email",o.message,r);break;case"pattern:zod":c(n,t.zodPatterns.email,o.message,r)}break;case"url":u(n,"uri",o.message,r);break;case"uuid":u(n,"uuid",o.message,r);break;case"regex":c(n,o.regex,o.message,r);break;case"cuid":c(n,t.zodPatterns.cuid,o.message,r);break;case"cuid2":c(n,t.zodPatterns.cuid2,o.message,r);break;case"startsWith":c(n,RegExp(`^${s(o.value,r)}`),o.message,r);break;case"endsWith":c(n,RegExp(`${s(o.value,r)}$`),o.message,r);break;case"datetime":u(n,"date-time",o.message,r);break;case"date":u(n,"date",o.message,r);break;case"time":u(n,"time",o.message,r);break;case"duration":u(n,"duration",o.message,r);break;case"length":(0,i.setResponseValueAndErrors)(n,"minLength","number"==typeof n.minLength?Math.max(n.minLength,o.value):o.value,o.message,r),(0,i.setResponseValueAndErrors)(n,"maxLength","number"==typeof n.maxLength?Math.min(n.maxLength,o.value):o.value,o.message,r);break;case"includes":c(n,RegExp(s(o.value,r)),o.message,r);break;case"ip":"v6"!==o.version&&u(n,"ipv4",o.message,r),"v4"!==o.version&&u(n,"ipv6",o.message,r);break;case"base64url":c(n,t.zodPatterns.base64url,o.message,r);break;case"jwt":c(n,t.zodPatterns.jwt,o.message,r);break;case"cidr":"v6"!==o.version&&c(n,t.zodPatterns.ipv4Cidr,o.message,r),"v4"!==o.version&&c(n,t.zodPatterns.ipv6Cidr,o.message,r);break;case"emoji":c(n,t.zodPatterns.emoji(),o.message,r);break;case"ulid":c(n,t.zodPatterns.ulid,o.message,r);break;case"base64":switch(r.base64Strategy){case"format:binary":u(n,"binary",o.message,r);break;case"contentEncoding:base64":(0,i.setResponseValueAndErrors)(n,"contentEncoding","base64",o.message,r);break;case"pattern:zod":c(n,t.zodPatterns.base64,o.message,r)}break;case"nanoid":c(n,t.zodPatterns.nanoid,o.message,r);case"toLowerCase":case"toUpperCase":case"trim":break;default:(e=>{})(0)}return n}function s(e,t){return"escape"===t.patternStrategy?l(e):e}t.zodPatterns={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===n&&(n=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),n),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/},t.parseStringDef=o;let a=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function l(e){let t="";for(let r=0;r<e.length;r++)a.has(e[r])||(t+="\\"),t+=e[r];return t}function u(e,t,r,n){e.format||e.anyOf?.some(e=>e.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):(0,i.setResponseValueAndErrors)(e,"format",t,r,n)}function c(e,t,r,n){e.pattern||e.allOf?.some(e=>e.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push({pattern:d(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):(0,i.setResponseValueAndErrors)(e,"pattern",d(t,n),r,n)}function d(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=r.i?e.source.toLowerCase():e.source,i="",o=!1,s=!1,a=!1;for(let e=0;e<n.length;e++){if(o){i+=n[e],o=!1;continue}if(r.i){if(s){if(n[e].match(/[a-z]/)){a?(i+=n[e]+`${n[e-2]}-${n[e]}`.toUpperCase(),a=!1):"-"===n[e+1]&&n[e+2]?.match(/[a-z]/)?(i+=n[e],a=!0):i+=`${n[e]}${n[e].toUpperCase()}`;continue}}else if(n[e].match(/[a-z]/)){i+=`[${n[e]}${n[e].toUpperCase()}]`;continue}}if(r.m){if("^"===n[e]){i+=`(^|(?<=[\r
]))`;continue}if("$"===n[e]){i+=`($|(?=[\r
]))`;continue}}if(r.s&&"."===n[e]){i+=s?`${n[e]}\r
`:`[${n[e]}\r
]`;continue}i+=n[e],"\\"===n[e]?o=!0:s&&"]"===n[e]?s=!1:s||"["!==n[e]||(s=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}},48142:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTupleDef=void 0;let n=r(79691);function i(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,r)=>(0,n.parseDef)(e._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:(0,n.parseDef)(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,r)=>(0,n.parseDef)(e._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[])}}t.parseTupleDef=i},31129:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUndefinedDef=void 0;let n=r(27943);function i(e){return{not:(0,n.parseAnyDef)(e)}}t.parseUndefinedDef=i},33871:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUnionDef=t.primitiveMappings=void 0;let n=r(79691);function i(e,r){if("openApi3"===r.target)return o(e,r);let n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(e=>e._def.typeName in t.primitiveMappings&&(!e._def.checks||!e._def.checks.length))){let e=n.reduce((e,r)=>{let n=t.primitiveMappings[r._def.typeName];return n&&!e.includes(n)?[...e,n]:e},[]);return{type:e.length>1?e:e[0]}}if(n.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){let e=n.reduce((e,t)=>{let r=typeof t._def.value;switch(r){case"string":case"number":case"boolean":return[...e,r];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===n.length){let t=e.filter((e,t,r)=>r.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:n.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(n.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:n.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return o(e,r)}t.primitiveMappings={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"},t.parseUnionDef=i;let o=(e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((e,r)=>(0,n.parseDef)(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${r}`]})).filter(e=>!!e&&(!t.strictUnions||"object"==typeof e&&Object.keys(e).length>0));return r.length?{anyOf:r}:void 0}},87655:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUnknownDef=void 0;let n=r(27943);function i(e){return(0,n.parseAnyDef)(e)}t.parseUnknownDef=i},52058:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectParser=void 0;let n=r(17334),i=r(27943),o=r(55193),s=r(60828),a=r(37671),l=r(48786),u=r(44306),c=r(2558),d=r(63966),h=r(21516),p=r(81018),f=r(28735),m=r(84946),g=r(50280),y=r(48552),v=r(14943),b=r(39805),E=r(99976),S=r(10025),_=r(61842),T=r(17495),A=r(58270),C=r(38570),w=r(56347),O=r(7423),R=r(84973),x=r(48142),I=r(31129),D=r(33871),P=r(87655),N=r(41793),k=(e,t,r)=>{switch(t){case n.ZodFirstPartyTypeKind.ZodString:return(0,R.parseStringDef)(e,r);case n.ZodFirstPartyTypeKind.ZodNumber:return(0,S.parseNumberDef)(e,r);case n.ZodFirstPartyTypeKind.ZodObject:return(0,_.parseObjectDef)(e,r);case n.ZodFirstPartyTypeKind.ZodBigInt:return(0,s.parseBigintDef)(e,r);case n.ZodFirstPartyTypeKind.ZodBoolean:return(0,a.parseBooleanDef)();case n.ZodFirstPartyTypeKind.ZodDate:return(0,c.parseDateDef)(e,r);case n.ZodFirstPartyTypeKind.ZodUndefined:return(0,I.parseUndefinedDef)(r);case n.ZodFirstPartyTypeKind.ZodNull:return(0,b.parseNullDef)(r);case n.ZodFirstPartyTypeKind.ZodArray:return(0,o.parseArrayDef)(e,r);case n.ZodFirstPartyTypeKind.ZodUnion:case n.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:return(0,D.parseUnionDef)(e,r);case n.ZodFirstPartyTypeKind.ZodIntersection:return(0,f.parseIntersectionDef)(e,r);case n.ZodFirstPartyTypeKind.ZodTuple:return(0,x.parseTupleDef)(e,r);case n.ZodFirstPartyTypeKind.ZodRecord:return(0,w.parseRecordDef)(e,r);case n.ZodFirstPartyTypeKind.ZodLiteral:return(0,m.parseLiteralDef)(e,r);case n.ZodFirstPartyTypeKind.ZodEnum:return(0,p.parseEnumDef)(e);case n.ZodFirstPartyTypeKind.ZodNativeEnum:return(0,y.parseNativeEnumDef)(e);case n.ZodFirstPartyTypeKind.ZodNullable:return(0,E.parseNullableDef)(e,r);case n.ZodFirstPartyTypeKind.ZodOptional:return(0,T.parseOptionalDef)(e,r);case n.ZodFirstPartyTypeKind.ZodMap:return(0,g.parseMapDef)(e,r);case n.ZodFirstPartyTypeKind.ZodSet:return(0,O.parseSetDef)(e,r);case n.ZodFirstPartyTypeKind.ZodLazy:return()=>e.getter()._def;case n.ZodFirstPartyTypeKind.ZodPromise:return(0,C.parsePromiseDef)(e,r);case n.ZodFirstPartyTypeKind.ZodNaN:case n.ZodFirstPartyTypeKind.ZodNever:return(0,v.parseNeverDef)(r);case n.ZodFirstPartyTypeKind.ZodEffects:return(0,h.parseEffectsDef)(e,r);case n.ZodFirstPartyTypeKind.ZodAny:return(0,i.parseAnyDef)(r);case n.ZodFirstPartyTypeKind.ZodUnknown:return(0,P.parseUnknownDef)(r);case n.ZodFirstPartyTypeKind.ZodDefault:return(0,d.parseDefaultDef)(e,r);case n.ZodFirstPartyTypeKind.ZodBranded:return(0,l.parseBrandedDef)(e,r);case n.ZodFirstPartyTypeKind.ZodReadonly:return(0,N.parseReadonlyDef)(e,r);case n.ZodFirstPartyTypeKind.ZodCatch:return(0,u.parseCatchDef)(e,r);case n.ZodFirstPartyTypeKind.ZodPipeline:return(0,A.parsePipelineDef)(e,r);case n.ZodFirstPartyTypeKind.ZodFunction:case n.ZodFirstPartyTypeKind.ZodVoid:case n.ZodFirstPartyTypeKind.ZodSymbol:return;default:let k;return void(k=0)}};t.selectParser=k},53185:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zodToJsonSchema=void 0;let n=r(79691),i=r(98812),o=r(27943),s=(e,t)=>{let r=(0,i.getRefs)(t),s="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce((e,[t,i])=>({...e,[t]:(0,n.parseDef)(i._def,{...r,currentPath:[...r.basePath,r.definitionPath,t]},!0)??(0,o.parseAnyDef)(r)}),{}):void 0,a="string"==typeof t?t:t?.nameStrategy==="title"?void 0:t?.name,l=(0,n.parseDef)(e._def,void 0===a?r:{...r,currentPath:[...r.basePath,r.definitionPath,a]},!1)??(0,o.parseAnyDef)(r),u="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==u&&(l.title=u),r.flags.hasReferencedOpenAiAnyType&&(s||(s={}),s[r.openAiAnyTypeName]||(s[r.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:"relative"===r.$refStrategy?"1":[...r.basePath,r.definitionPath,r.openAiAnyTypeName].join("/")}}));let c=void 0===a?s?{...l,[r.definitionPath]:s}:l:{$ref:[..."relative"===r.$refStrategy?[]:r.basePath,r.definitionPath,a].join("/"),[r.definitionPath]:{...s,[a]:l}};return"jsonSchema7"===r.target?c.$schema="http://json-schema.org/draft-07/schema#":("jsonSchema2019-09"===r.target||"openAi"===r.target)&&(c.$schema="https://json-schema.org/draft/2019-09/schema#"),"openAi"===r.target&&("anyOf"in c||"oneOf"in c||"allOf"in c||"type"in c&&Array.isArray(c.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),c};t.zodToJsonSchema=s},34955:(e,t,r)=>{"use strict";var n;let i,o;r.d(t,{Jn:()=>eC,qX:()=>e_,Xd:()=>eS,Mq:()=>eO,C6:()=>eR,ZF:()=>ew,KN:()=>ex});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s={NODE_CLIENT:!1},a=function(e){let t=[],r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:(i<2048?t[r++]=i>>6|192:((64512&i)==55296&&n+1<e.length&&(64512&e.charCodeAt(n+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),t[r++]=i>>18|240,t[r++]=i>>12&63|128):t[r++]=i>>12|224,t[r++]=i>>6&63|128),t[r++]=63&i|128)}return t},l=function(e){let t=[],r=0,n=0;for(;r<e.length;){let i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){let o=e[r++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){let o=((7&i)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(o>>10)),t[n++]=String.fromCharCode(56320+(1023&o))}else{let o=e[r++],s=e[r++];t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let t=0;t<e.length;t+=3){let i=e[t],o=t+1<e.length,s=o?e[t+1]:0,a=t+2<e.length,l=a?e[t+2]:0,u=i>>2,c=(3&i)<<4|s>>4,d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),n.push(r[u],r[c],r[d],r[h])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):l(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let t=0;t<e.length;){let i=r[e.charAt(t++)],o=t<e.length?r[e.charAt(t)]:0,s=++t<e.length?r[e.charAt(t)]:64,a=++t<e.length?r[e.charAt(t)]:64;if(++t,null==i||null==o||null==s||null==a)throw new c;let l=i<<2|o>>4;if(n.push(l),64!==s){let e=o<<4&240|s>>2;if(n.push(e),64!==a){let e=s<<6&192|a;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class c extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let d=function(e){let t=a(e);return u.encodeByteArray(t,!0)},h=function(e){return d(e).replace(/\./g,"")},p=function(e){try{return u.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m=()=>f().__FIREBASE_DEFAULTS__,g=()=>{if("undefined"==typeof process||void 0===process.env)return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},y=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&p(e[1]);return t&&JSON.parse(t)},v=()=>{try{return m()||g()||y()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},b=()=>{var e;return null===(e=v())||void 0===e?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function S(){try{return"object"==typeof indexedDB}catch(e){return!1}}function _(){return new Promise((e,t)=>{try{let r=!0,n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T="FirebaseError";class A extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=T,Object.setPrototypeOf(this,A.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,C.prototype.create)}}class C{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},n=`${this.service}/${e}`,i=this.errors[e],o=i?w(i,r):"Error",s=`${this.serviceName}: ${o} (${n}).`;return new A(n,s,r)}}function w(e,t){return e.replace(O,(e,r)=>{let n=t[r];return null!=n?String(n):`<${r}?>`})}let O=/\{\$([^}]+)}/g;function R(e,t){if(e===t)return!0;let r=Object.keys(e),n=Object.keys(t);for(let i of r){if(!n.includes(i))return!1;let r=e[i],o=t[i];if(x(r)&&x(o)){if(!R(r,o))return!1}else if(r!==o)return!1}for(let e of n)if(!r.includes(e))return!1;return!0}function x(e){return null!==e&&"object"==typeof e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */s.NODE_CLIENT=!0;class I{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new E;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&e.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(e){if(n)return null;throw e}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(k(e))try{this.getOrInitializeService({instanceIdentifier:D})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:r});t.resolve(e)}catch(e){}}}}clearInstance(e=D){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=D){return this.instances.has(e)}getOptions(e=D){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let n=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[e,t]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(e)&&t.resolve(n);return n}onInit(e,t){var r;let n=this.normalizeInstanceIdentifier(t),i=null!==(r=this.onInitCallbacks.get(n))&&void 0!==r?r:new Set;i.add(e),this.onInitCallbacks.set(n,i);let o=this.instances.get(n);return o&&e(o,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let n of r)try{n(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:N(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(e){}return r||null}normalizeInstanceIdentifier(e=D){return this.component?this.component.multipleInstances?e:D:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function N(e){return e===D?void 0:e}function k(e){return"EAGER"===e.instantiationMode}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new P(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(n||(n={}));let B={debug:n.DEBUG,verbose:n.VERBOSE,info:n.INFO,warn:n.WARN,error:n.ERROR,silent:n.SILENT},j=n.INFO,F={[n.DEBUG]:"log",[n.VERBOSE]:"log",[n.INFO]:"info",[n.WARN]:"warn",[n.ERROR]:"error"},U=(e,t,...r)=>{if(t<e.logLevel)return;let n=new Date().toISOString(),i=F[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class V{constructor(e){this.name=e,this._logLevel=j,this._logHandler=U,this._userLogHandler=null,L.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in n))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?B[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,n.DEBUG,...e),this._logHandler(this,n.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,n.VERBOSE,...e),this._logHandler(this,n.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,n.INFO,...e),this._logHandler(this,n.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,n.WARN,...e),this._logHandler(this,n.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,n.ERROR,...e),this._logHandler(this,n.ERROR,...e)}}let z=(e,t)=>t.some(t=>e instanceof t);function G(){return i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $(){return o||(o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}let H=new WeakMap,q=new WeakMap,W=new WeakMap,K=new WeakMap,Y=new WeakMap;function Z(e){let t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(er(e.result)),n()},o=()=>{r(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&H.set(t,e)}).catch(()=>{}),Y.set(t,e),t}function J(e){if(q.has(e))return;let t=new Promise((t,r)=>{let n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),n()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});q.set(e,t)}let Q={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return q.get(e);if("objectStoreNames"===t)return e.objectStoreNames||W.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return er(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function X(e){Q=e(Q)}function ee(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?$().includes(e)?function(...t){return e.apply(en(this),t),er(H.get(this))}:function(...t){return er(e.apply(en(this),t))}:function(t,...r){let n=e.call(en(this),t,...r);return W.set(n,t.sort?t.sort():[t]),er(n)}}function et(e){return"function"==typeof e?ee(e):(e instanceof IDBTransaction&&J(e),z(e,G()))?new Proxy(e,Q):e}function er(e){if(e instanceof IDBRequest)return Z(e);if(K.has(e))return K.get(e);let t=et(e);return t!==e&&(K.set(e,t),Y.set(t,e)),t}let en=e=>Y.get(e);function ei(e,t,{blocked:r,upgrade:n,blocking:i,terminated:o}={}){let s=indexedDB.open(e,t),a=er(s);return n&&s.addEventListener("upgradeneeded",e=>{n(er(s.result),e.oldVersion,e.newVersion,er(s.transaction),e)}),r&&s.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}let eo=["get","getKey","getAll","getAllKeys","count"],es=["put","add","delete","clear"],ea=new Map;function el(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(ea.get(t))return ea.get(t);let r=t.replace(/FromIndex$/,""),n=t!==r,i=es.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||eo.includes(r)))return;let o=async function(e,...t){let o=this.transaction(e,i?"readwrite":"readonly"),s=o.store;return n&&(s=s.index(t.shift())),(await Promise.all([s[r](...t),i&&o.done]))[0]};return ea.set(t,o),o}X(e=>({...e,get:(t,r,n)=>el(t,r)||e.get(t,r,n),has:(t,r)=>!!el(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!ec(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}function ec(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}let ed="@firebase/app",eh="0.10.13",ep=new V("@firebase/app"),ef="10.14.1",em="[DEFAULT]",eg={[ed]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},ey=new Map,ev=new Map,eb=new Map;function eE(e,t){try{e.container.addComponent(t)}catch(r){ep.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function eS(e){let t=e.name;if(eb.has(t))return ep.debug(`There were multiple attempts to register component ${t}.`),!1;for(let r of(eb.set(t,e),ey.values()))eE(r,e);for(let t of ev.values())eE(t,e);return!0}function e_(e,t){let r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}let eT=new C("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new I("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw eT.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eC=ef;function ew(e,t={}){let r=e;"object"!=typeof t&&(t={name:t});let n=Object.assign({name:em,automaticDataCollectionEnabled:!1},t),i=n.name;if("string"!=typeof i||!i)throw eT.create("bad-app-name",{appName:String(i)});if(r||(r=b()),!r)throw eT.create("no-options");let o=ey.get(i);if(o){if(R(r,o.options)&&R(n,o.config))return o;throw eT.create("duplicate-app",{appName:i})}let s=new M(i);for(let e of eb.values())s.addComponent(e);let a=new eA(r,n,s);return ey.set(i,a),a}function eO(e=em){let t=ey.get(e);if(!t&&e===em&&b())return ew();if(!t)throw eT.create("no-app",{appName:e});return t}function eR(){return Array.from(ey.values())}function ex(e,t,r){var n;let i=null!==(n=eg[e])&&void 0!==n?n:e;r&&(i+=`-${r}`);let o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let e=[`Unable to register library "${i}" with version "${t}":`];o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ep.warn(e.join(" "));return}eS(new I(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eI="firebase-heartbeat-database",eD=1,eP="firebase-heartbeat-store",eN=null;function ek(){return eN||(eN=ei(eI,eD,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(eP)}catch(e){console.warn(e)}}}).catch(e=>{throw eT.create("idb-open",{originalErrorMessage:e.message})})),eN}async function eM(e){try{let t=(await ek()).transaction(eP),r=await t.objectStore(eP).get(eB(e));return await t.done,r}catch(e){if(e instanceof A)ep.warn(e.message);else{let t=eT.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});ep.warn(t.message)}}}async function eL(e,t){try{let r=(await ek()).transaction(eP,"readwrite"),n=r.objectStore(eP);await n.put(t,eB(e)),await r.done}catch(e){if(e instanceof A)ep.warn(e.message);else{let t=eT.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});ep.warn(t.message)}}}function eB(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ej=1024,eF=2592e6;class eU{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new eG(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=eV();if((null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(e=>e.date===n))return;return this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf();return Date.now()-t<=eF}),this._storage.overwrite(this._heartbeatsCache)}catch(e){ep.warn(e)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null||0===this._heartbeatsCache.heartbeats.length)return"";let t=eV(),{heartbeatsToSend:r,unsentEntries:n}=ez(this._heartbeatsCache.heartbeats),i=h(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return ep.warn(e),""}}}function eV(){return new Date().toISOString().substring(0,10)}function ez(e,t=ej){let r=[],n=e.slice();for(let i of e){let e=r.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),e$(r)>t){e.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),e$(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class eG{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!S()&&_().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await eM(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let r=await this.read();return eL(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){let r=await this.read();return eL(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}}}function e$(e){return h(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){eS(new I("platform-logger",e=>new eu(e),"PRIVATE")),eS(new I("heartbeat",e=>new eU(e),"PRIVATE")),ex(ed,eh,""),ex(ed,eh,"esm2017"),ex("fire-js","")})(0)},60030:(e,t,r)=>{"use strict";function n(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Wrong positive integer: ${e}`)}function i(e,...t){if(!(e instanceof Uint8Array))throw Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function o(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function s(e,t){i(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}r.d(t,{Gg:()=>o,J8:()=>s,Rx:()=>n,aI:()=>i})},98177:(e,t,r)=>{"use strict";r.d(t,{GL:()=>o,Jq:()=>i,O0:()=>l,hE:()=>c,kb:()=>u,np:()=>s});/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */let n=e=>e instanceof Uint8Array,i=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),o=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),s=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw Error("Non little-endian hardware is not supported");function a(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function l(e){if("string"==typeof e&&(e=a(e)),!n(e))throw Error(`expected Uint8Array, got ${typeof e}`);return e}class u{clone(){return this._cloneInto()}}function c(e){let t=t=>e().update(l(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}},37125:(e,t,r)=>{"use strict";function n(e,[t,r]){return Math.min(r,Math.max(t,e))}r.d(t,{u:()=>n})},82561:(e,t,r)=>{"use strict";function n(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}r.d(t,{M:()=>n})},4150:(e,t,r)=>{"use strict";r.d(t,{Ee:()=>S,NY:()=>_,fC:()=>E});var n=r(17577),i=r(93095),o=r(55049),s=r(65819),a=r(45226),l=r(10326),u="Avatar",[c,d]=(0,i.b)(u),[h,p]=c(u),f=n.forwardRef((e,t)=>{let{__scopeAvatar:r,...i}=e,[o,s]=n.useState("idle");return(0,l.jsx)(h,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:s,children:(0,l.jsx)(a.WV.span,{...i,ref:t})})});f.displayName=u;var m="AvatarImage",g=n.forwardRef((e,t)=>{let{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...u}=e,c=p(m,r),d=b(n,u.referrerPolicy),h=(0,o.W)(e=>{i(e),c.onImageLoadingStatusChange(e)});return(0,s.b)(()=>{"idle"!==d&&h(d)},[d,h]),"loaded"===d?(0,l.jsx)(a.WV.img,{...u,ref:t,src:n}):null});g.displayName=m;var y="AvatarFallback",v=n.forwardRef((e,t)=>{let{__scopeAvatar:r,delayMs:i,...o}=e,s=p(y,r),[u,c]=n.useState(void 0===i);return n.useEffect(()=>{if(void 0!==i){let e=window.setTimeout(()=>c(!0),i);return()=>window.clearTimeout(e)}},[i]),u&&"loaded"!==s.imageLoadingStatus?(0,l.jsx)(a.WV.span,{...o,ref:t}):null});function b(e,t){let[r,i]=n.useState("idle");return(0,s.b)(()=>{if(!e){i("error");return}let r=!0,n=new window.Image,o=e=>()=>{r&&i(e)};return i("loading"),n.onload=o("loaded"),n.onerror=o("error"),n.src=e,t&&(n.referrerPolicy=t),()=>{r=!1}},[e,t]),r}v.displayName=y;var E=f,S=g,_=v},70545:(e,t,r)=>{"use strict";r.d(t,{B:()=>l});var n=r(17577),i=r(93095),o=r(48051),s=r(34214),a=r(10326);function l(e){let t=e+"CollectionProvider",[r,l]=(0,i.b)(t),[u,c]=r(t,{collectionRef:{current:null},itemMap:new Map}),d=e=>{let{scope:t,children:r}=e,i=n.useRef(null),o=n.useRef(new Map).current;return(0,a.jsx)(u,{scope:t,itemMap:o,collectionRef:i,children:r})};d.displayName=t;let h=e+"CollectionSlot",p=n.forwardRef((e,t)=>{let{scope:r,children:n}=e,i=c(h,r),l=(0,o.e)(t,i.collectionRef);return(0,a.jsx)(s.g7,{ref:l,children:n})});p.displayName=h;let f=e+"CollectionItemSlot",m="data-radix-collection-item",g=n.forwardRef((e,t)=>{let{scope:r,children:i,...l}=e,u=n.useRef(null),d=(0,o.e)(t,u),h=c(f,r);return n.useEffect(()=>(h.itemMap.set(u,{ref:u,...l}),()=>void h.itemMap.delete(u))),(0,a.jsx)(s.g7,{[m]:"",ref:d,children:i})});return g.displayName=f,[{Provider:d,Slot:p,ItemSlot:g},function(t){let r=c(e+"CollectionConsumer",t);return n.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${m}]`));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},l]}},48051:(e,t,r)=>{"use strict";r.d(t,{F:()=>o,e:()=>s});var n=r(17577);function i(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function o(...e){return t=>{let r=!1,n=e.map(e=>{let n=i(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():i(e[t],null)}}}}function s(...e){return n.useCallback(o(...e),e)}},93095:(e,t,r)=>{"use strict";r.d(t,{b:()=>s,k:()=>o});var n=r(17577),i=r(10326);function o(e,t){let r=n.createContext(t),o=e=>{let{children:t,...o}=e,s=n.useMemo(()=>o,Object.values(o));return(0,i.jsx)(r.Provider,{value:s,children:t})};return o.displayName=e+"Provider",[o,function(i){let o=n.useContext(r);if(o)return o;if(void 0!==t)return t;throw Error(`\`${i}\` must be used within \`${e}\``)}]}function s(e,t=[]){let r=[];function o(t,o){let s=n.createContext(o),a=r.length;r=[...r,o];let l=t=>{let{scope:r,children:o,...l}=t,u=r?.[e]?.[a]||s,c=n.useMemo(()=>l,Object.values(l));return(0,i.jsx)(u.Provider,{value:c,children:o})};return l.displayName=t+"Provider",[l,function(r,i){let l=i?.[e]?.[a]||s,u=n.useContext(l);if(u)return u;if(void 0!==o)return o;throw Error(`\`${r}\` must be used within \`${t}\``)}]}let s=()=>{let t=r.map(e=>n.createContext(e));return function(r){let i=r?.[e]||t;return n.useMemo(()=>({[`__scope${e}`]:{...r,[e]:i}}),[r,i])}};return s.scopeName=e,[o,a(s,...t)]}function a(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let i=r.reduce((t,{useScope:r,scopeName:n})=>{let i=r(e)[`__scope${n}`];return{...t,...i}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}},58256:(e,t,r)=>{"use strict";r.d(t,{x8:()=>tR,VY:()=>tC,dk:()=>tO,aV:()=>tA,h_:()=>tT,fC:()=>tS,Dx:()=>tw,xz:()=>t_});var n,i=r(17577),o=r.t(i,2);function s(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}function a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function l(...e){return t=>{let r=!1,n=e.map(e=>{let n=a(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():a(e[t],null)}}}}function u(...e){return i.useCallback(l(...e),e)}"undefined"!=typeof window&&window.document&&window.document.createElement;var c=r(10326);function d(e,t){let r=i.createContext(t),n=e=>{let{children:t,...n}=e,o=i.useMemo(()=>n,Object.values(n));return(0,c.jsx)(r.Provider,{value:o,children:t})};return n.displayName=e+"Provider",[n,function(n){let o=i.useContext(r);if(o)return o;if(void 0!==t)return t;throw Error(`\`${n}\` must be used within \`${e}\``)}]}function h(e,t=[]){let r=[];function n(t,n){let o=i.createContext(n),s=r.length;r=[...r,n];let a=t=>{let{scope:r,children:n,...a}=t,l=r?.[e]?.[s]||o,u=i.useMemo(()=>a,Object.values(a));return(0,c.jsx)(l.Provider,{value:u,children:n})};return a.displayName=t+"Provider",[a,function(r,a){let l=a?.[e]?.[s]||o,u=i.useContext(l);if(u)return u;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${t}\``)}]}let o=()=>{let t=r.map(e=>i.createContext(e));return function(r){let n=r?.[e]||t;return i.useMemo(()=>({[`__scope${e}`]:{...r,[e]:n}}),[r,n])}};return o.scopeName=e,[n,p(o,...t)]}function p(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=r.reduce((t,{useScope:r,scopeName:n})=>{let i=r(e)[`__scope${n}`];return{...t,...i}},{});return i.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}var f=globalThis?.document?i.useLayoutEffect:()=>{},m=o[" useId ".trim().toString()]||(()=>void 0),g=0;function y(e){let[t,r]=i.useState(m());return f(()=>{e||r(e=>e??String(g++))},[e]),e||(t?`radix-${t}`:"")}var v=o[" useInsertionEffect ".trim().toString()]||f;function b({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){let[o,s,a]=E({defaultProp:t,onChange:r}),l=void 0!==e,u=l?e:o;{let t=i.useRef(void 0!==e);i.useEffect(()=>{let e=t.current;if(e!==l){let t=e?"controlled":"uncontrolled",r=l?"controlled":"uncontrolled";console.warn(`${n} is changing from ${t} to ${r}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=l},[l,n])}return[u,i.useCallback(t=>{if(l){let r=S(t)?t(e):t;r!==e&&a.current?.(r)}else s(t)},[l,e,s,a])]}function E({defaultProp:e,onChange:t}){let[r,n]=i.useState(e),o=i.useRef(r),s=i.useRef(t);return v(()=>{s.current=t},[t]),i.useEffect(()=>{o.current!==r&&(s.current?.(r),o.current=r)},[r,o]),[r,n,s]}function S(e){return"function"==typeof e}function _(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}Symbol("RADIX:SYNC_STATE"),"undefined"!=typeof window&&window.document&&window.document.createElement;var T=r(60962);function A(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function C(...e){return t=>{let r=!1,n=e.map(e=>{let n=A(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():A(e[t],null)}}}}function w(...e){return i.useCallback(C(...e),e)}function O(e){let t=R(e),r=i.forwardRef((e,r)=>{let{children:n,...o}=e,s=i.Children.toArray(n),a=s.find(I);if(a){let e=a.props.children,n=s.map(t=>t!==a?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,c.jsx)(t,{...o,ref:r,children:i.isValidElement(e)?i.cloneElement(e,void 0,n):null})}return(0,c.jsx)(t,{...o,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}function R(e){let t=i.forwardRef((e,t)=>{let{children:r,...n}=e;if(i.isValidElement(r)){let e=P(r),o=D(n,r.props);return r.type!==i.Fragment&&(o.ref=t?C(t,e):e),i.cloneElement(r,o)}return i.Children.count(r)>1?i.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var x=Symbol("radix.slottable");function I(e){return i.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===x}function D(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{let t=o(...e);return i(...e),t}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function P(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}var N=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=O(`Primitive.${t}`),n=i.forwardRef((e,n)=>{let{asChild:i,...o}=e,s=i?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,c.jsx)(s,{...o,ref:n})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function k(e,t){e&&T.flushSync(()=>e.dispatchEvent(t))}function M(e){let t=i.useRef(e);return i.useEffect(()=>{t.current=e}),i.useMemo(()=>(...e)=>t.current?.(...e),[])}function L(e){let t=i.useRef(e);return i.useEffect(()=>{t.current=e}),i.useMemo(()=>(...e)=>t.current?.(...e),[])}function B(e,t=globalThis?.document){let r=L(e);i.useEffect(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}var j="DismissableLayer",F="dismissableLayer.update",U="dismissableLayer.pointerDownOutside",V="dismissableLayer.focusOutside",z=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),G=i.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...d}=e,h=i.useContext(z),[p,f]=i.useState(null),m=p?.ownerDocument??globalThis?.document,[,g]=i.useState({}),y=w(t,e=>f(e)),v=Array.from(h.layers),[b]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),E=v.indexOf(b),S=p?v.indexOf(p):-1,T=h.layersWithOutsidePointerEventsDisabled.size>0,A=S>=E,C=H(e=>{let t=e.target,r=[...h.branches].some(e=>e.contains(t));!A||r||(s?.(e),l?.(e),e.defaultPrevented||u?.())},m),O=q(e=>{let t=e.target;[...h.branches].some(e=>e.contains(t))||(a?.(e),l?.(e),e.defaultPrevented||u?.())},m);return B(e=>{S!==h.layers.size-1||(o?.(e),!e.defaultPrevented&&u&&(e.preventDefault(),u()))},m),i.useEffect(()=>{if(p)return r&&(0===h.layersWithOutsidePointerEventsDisabled.size&&(n=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),W(),()=>{r&&1===h.layersWithOutsidePointerEventsDisabled.size&&(m.body.style.pointerEvents=n)}},[p,m,r,h]),i.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),W())},[p,h]),i.useEffect(()=>{let e=()=>g({});return document.addEventListener(F,e),()=>document.removeEventListener(F,e)},[]),(0,c.jsx)(N.div,{...d,ref:y,style:{pointerEvents:T?A?"auto":"none":void 0,...e.style},onFocusCapture:_(e.onFocusCapture,O.onFocusCapture),onBlurCapture:_(e.onBlurCapture,O.onBlurCapture),onPointerDownCapture:_(e.onPointerDownCapture,C.onPointerDownCapture)})});G.displayName=j;var $="DismissableLayerBranch";function H(e,t=globalThis?.document){let r=M(e),n=i.useRef(!1),o=i.useRef(()=>{});return i.useEffect(()=>{let e=e=>{if(e.target&&!n.current){let n=function(){K(U,r,i,{discrete:!0})},i={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",o.current),o.current=n,t.addEventListener("click",o.current,{once:!0})):n()}else t.removeEventListener("click",o.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",e),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function q(e,t=globalThis?.document){let r=M(e),n=i.useRef(!1);return i.useEffect(()=>{let e=e=>{e.target&&!n.current&&K(V,r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function W(){let e=new CustomEvent(F);document.dispatchEvent(e)}function K(e,t,r,{discrete:n}){let i=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?k(i,o):i.dispatchEvent(o)}function Y(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Z(...e){return t=>{let r=!1,n=e.map(e=>{let n=Y(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():Y(e[t],null)}}}}function J(...e){return i.useCallback(Z(...e),e)}function Q(e){let t=X(e),r=i.forwardRef((e,r)=>{let{children:n,...o}=e,s=i.Children.toArray(n),a=s.find(et);if(a){let e=a.props.children,n=s.map(t=>t!==a?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,c.jsx)(t,{...o,ref:r,children:i.isValidElement(e)?i.cloneElement(e,void 0,n):null})}return(0,c.jsx)(t,{...o,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}function X(e){let t=i.forwardRef((e,t)=>{let{children:r,...n}=e;if(i.isValidElement(r)){let e=en(r),o=er(n,r.props);return r.type!==i.Fragment&&(o.ref=t?Z(t,e):e),i.cloneElement(r,o)}return i.Children.count(r)>1?i.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}i.forwardRef((e,t)=>{let r=i.useContext(z),n=i.useRef(null),o=w(t,n);return i.useEffect(()=>{let e=n.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,c.jsx)(N.div,{...e,ref:o})}).displayName=$;var ee=Symbol("radix.slottable");function et(e){return i.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ee}function er(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{let t=o(...e);return i(...e),t}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function en(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}var ei=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=Q(`Primitive.${t}`),n=i.forwardRef((e,n)=>{let{asChild:i,...o}=e,s=i?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,c.jsx)(s,{...o,ref:n})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function eo(e){let t=i.useRef(e);return i.useEffect(()=>{t.current=e}),i.useMemo(()=>(...e)=>t.current?.(...e),[])}var es="focusScope.autoFocusOnMount",ea="focusScope.autoFocusOnUnmount",el={bubbles:!1,cancelable:!0},eu="FocusScope",ec=i.forwardRef((e,t)=>{let{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...a}=e,[l,u]=i.useState(null),d=eo(o),h=eo(s),p=i.useRef(null),f=J(t,e=>u(e)),m=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(n){let e=function(e){if(m.paused||!l)return;let t=e.target;l.contains(t)?p.current=t:ey(p.current,{select:!0})},t=function(e){if(m.paused||!l)return;let t=e.relatedTarget;null===t||l.contains(t)||ey(p.current,{select:!0})},r=function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&ey(l)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let n=new MutationObserver(r);return l&&n.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[n,l,m.paused]),i.useEffect(()=>{if(l){ev.add(m);let e=document.activeElement;if(!l.contains(e)){let t=new CustomEvent(es,el);l.addEventListener(es,d),l.dispatchEvent(t),t.defaultPrevented||(ed(eS(ep(l)),{select:!0}),document.activeElement===e&&ey(l))}return()=>{l.removeEventListener(es,d),setTimeout(()=>{let t=new CustomEvent(ea,el);l.addEventListener(ea,h),l.dispatchEvent(t),t.defaultPrevented||ey(e??document.body,{select:!0}),l.removeEventListener(ea,h),ev.remove(m)},0)}}},[l,d,h,m]);let g=i.useCallback(e=>{if(!r&&!n||m.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){let t=e.currentTarget,[n,o]=eh(t);n&&o?e.shiftKey||i!==o?e.shiftKey&&i===n&&(e.preventDefault(),r&&ey(o,{select:!0})):(e.preventDefault(),r&&ey(n,{select:!0})):i===t&&e.preventDefault()}},[r,n,m.paused]);return(0,c.jsx)(ei.div,{tabIndex:-1,...a,ref:f,onKeyDown:g})});function ed(e,{select:t=!1}={}){let r=document.activeElement;for(let n of e)if(ey(n,{select:t}),document.activeElement!==r)return}function eh(e){let t=ep(e);return[ef(t,e),ef(t.reverse(),e)]}function ep(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ef(e,t){for(let r of e)if(!em(r,{upTo:t}))return r}function em(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function eg(e){return e instanceof HTMLInputElement&&"select"in e}function ey(e,{select:t=!1}={}){if(e&&e.focus){let r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&eg(e)&&t&&e.select()}}ec.displayName=eu;var ev=eb();function eb(){let e=[];return{add(t){let r=e[0];t!==r&&r?.pause(),(e=eE(e,t)).unshift(t)},remove(t){e=eE(e,t),e[0]?.resume()}}}function eE(e,t){let r=[...e],n=r.indexOf(t);return -1!==n&&r.splice(n,1),r}function eS(e){return e.filter(e=>"A"!==e.tagName)}function e_(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function eT(...e){return t=>{let r=!1,n=e.map(e=>{let n=e_(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():e_(e[t],null)}}}}function eA(e){let t=eC(e),r=i.forwardRef((e,r)=>{let{children:n,...o}=e,s=i.Children.toArray(n),a=s.find(eO);if(a){let e=a.props.children,n=s.map(t=>t!==a?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,c.jsx)(t,{...o,ref:r,children:i.isValidElement(e)?i.cloneElement(e,void 0,n):null})}return(0,c.jsx)(t,{...o,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}function eC(e){let t=i.forwardRef((e,t)=>{let{children:r,...n}=e;if(i.isValidElement(r)){let e=ex(r),o=eR(n,r.props);return r.type!==i.Fragment&&(o.ref=t?eT(t,e):e),i.cloneElement(r,o)}return i.Children.count(r)>1?i.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ew=Symbol("radix.slottable");function eO(e){return i.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===ew}function eR(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{let t=o(...e);return i(...e),t}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function ex(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}var eI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=eA(`Primitive.${t}`),n=i.forwardRef((e,n)=>{let{asChild:i,...o}=e,s=i?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,c.jsx)(s,{...o,ref:n})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),eD=globalThis?.document?i.useLayoutEffect:()=>{},eP="Portal",eN=i.forwardRef((e,t)=>{let{container:r,...n}=e,[o,s]=i.useState(!1);eD(()=>s(!0),[]);let a=r||o&&globalThis?.document?.body;return a?T.createPortal((0,c.jsx)(eI.div,{...n,ref:t}),a):null});function ek(e,t){return i.useReducer((e,r)=>t[e][r]??e,e)}eN.displayName=eP;var eM=e=>{let{present:t,children:r}=e,n=eL(t),o="function"==typeof r?r({present:n.isPresent}):i.Children.only(r),s=u(n.ref,ej(o));return"function"==typeof r||n.isPresent?i.cloneElement(o,{ref:s}):null};function eL(e){let[t,r]=i.useState(),n=i.useRef(null),o=i.useRef(e),s=i.useRef("none"),[a,l]=ek(e?"mounted":"unmounted",{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{let e=eB(n.current);s.current="mounted"===a?e:"none"},[a]),f(()=>{let t=n.current,r=o.current;if(r!==e){let n=s.current,i=eB(t);if(e)l("MOUNT");else if("none"===i||t?.display==="none")l("UNMOUNT");else{let e=n!==i;r&&e?l("ANIMATION_OUT"):l("UNMOUNT")}o.current=e}},[e,l]),f(()=>{if(t){let e;let r=t.ownerDocument.defaultView??window,i=i=>{let s=eB(n.current).includes(CSS.escape(i.animationName));if(i.target===t&&s&&(l("ANIMATION_END"),!o.current)){let n=t.style.animationFillMode;t.style.animationFillMode="forwards",e=r.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=n)})}},a=e=>{e.target===t&&(s.current=eB(n.current))};return t.addEventListener("animationstart",a),t.addEventListener("animationcancel",i),t.addEventListener("animationend",i),()=>{r.clearTimeout(e),t.removeEventListener("animationstart",a),t.removeEventListener("animationcancel",i),t.removeEventListener("animationend",i)}}l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:i.useCallback(e=>{n.current=e?getComputedStyle(e):null,r(e)},[])}}function eB(e){return e?.animationName||"none"}function ej(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}function eF(e){let t=eU(e),r=i.forwardRef((e,r)=>{let{children:n,...o}=e,s=i.Children.toArray(n),a=s.find(ez);if(a){let e=a.props.children,n=s.map(t=>t!==a?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,c.jsx)(t,{...o,ref:r,children:i.isValidElement(e)?i.cloneElement(e,void 0,n):null})}return(0,c.jsx)(t,{...o,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}function eU(e){let t=i.forwardRef((e,t)=>{let{children:r,...n}=e;if(i.isValidElement(r)){let e=e$(r),o=eG(n,r.props);return r.type!==i.Fragment&&(o.ref=t?l(t,e):e),i.cloneElement(r,o)}return i.Children.count(r)>1?i.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}eM.displayName="Presence";var eV=Symbol("radix.slottable");function ez(e){return i.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===eV}function eG(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{let t=o(...e);return i(...e),t}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function e$(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}var eH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=eF(`Primitive.${t}`),n=i.forwardRef((e,n)=>{let{asChild:i,...o}=e,s=i?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,c.jsx)(s,{...o,ref:n})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),eq=0;function eW(){i.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??eK()),document.body.insertAdjacentElement("beforeend",e[1]??eK()),eq++,()=>{1===eq&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),eq--}},[])}function eK(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var eY=r(17397),eZ=r(35664),eJ="Dialog",[eQ,eX]=h(eJ),[e0,e1]=eQ(eJ),e2=e=>{let{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:s,modal:a=!0}=e,l=i.useRef(null),u=i.useRef(null),[d,h]=b({prop:n,defaultProp:o??!1,onChange:s,caller:eJ});return(0,c.jsx)(e0,{scope:t,triggerRef:l,contentRef:u,contentId:y(),titleId:y(),descriptionId:y(),open:d,onOpenChange:h,onOpenToggle:i.useCallback(()=>h(e=>!e),[h]),modal:a,children:r})};e2.displayName=eJ;var e3="DialogTrigger",e6=i.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,i=e1(e3,r),o=u(t,i.triggerRef);return(0,c.jsx)(eH.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":tf(i.open),...n,ref:o,onClick:s(e.onClick,i.onOpenToggle)})});e6.displayName=e3;var e4="DialogPortal",[e5,e8]=eQ(e4,{forceMount:void 0}),e7=e=>{let{__scopeDialog:t,forceMount:r,children:n,container:o}=e,s=e1(e4,t);return(0,c.jsx)(e5,{scope:t,forceMount:r,children:i.Children.map(n,e=>(0,c.jsx)(eM,{present:r||s.open,children:(0,c.jsx)(eN,{asChild:!0,container:o,children:e})}))})};e7.displayName=e4;var e9="DialogOverlay",te=i.forwardRef((e,t)=>{let r=e8(e9,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,o=e1(e9,e.__scopeDialog);return o.modal?(0,c.jsx)(eM,{present:n||o.open,children:(0,c.jsx)(tr,{...i,ref:t})}):null});te.displayName=e9;var tt=eF("DialogOverlay.RemoveScroll"),tr=i.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,i=e1(e9,r);return(0,c.jsx)(eY.Z,{as:tt,allowPinchZoom:!0,shards:[i.contentRef],children:(0,c.jsx)(eH.div,{"data-state":tf(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),tn="DialogContent",ti=i.forwardRef((e,t)=>{let r=e8(tn,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,o=e1(tn,e.__scopeDialog);return(0,c.jsx)(eM,{present:n||o.open,children:o.modal?(0,c.jsx)(to,{...i,ref:t}):(0,c.jsx)(ts,{...i,ref:t})})});ti.displayName=tn;var to=i.forwardRef((e,t)=>{let r=e1(tn,e.__scopeDialog),n=i.useRef(null),o=u(t,r.contentRef,n);return i.useEffect(()=>{let e=n.current;if(e)return(0,eZ.Ry)(e)},[]),(0,c.jsx)(ta,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:s(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:s(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:s(e.onFocusOutside,e=>e.preventDefault())})}),ts=i.forwardRef((e,t)=>{let r=e1(tn,e.__scopeDialog),n=i.useRef(!1),o=i.useRef(!1);return(0,c.jsx)(ta,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||r.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"!==t.detail.originalEvent.type||(o.current=!0));let i=t.target;r.triggerRef.current?.contains(i)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}})}),ta=i.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:s,...a}=e,l=e1(tn,r),d=i.useRef(null),h=u(t,d);return eW(),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ec,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:s,children:(0,c.jsx)(G,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":tf(l.open),...a,ref:h,onDismiss:()=>l.onOpenChange(!1)})}),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(tv,{titleId:l.titleId}),(0,c.jsx)(tE,{contentRef:d,descriptionId:l.descriptionId})]})]})}),tl="DialogTitle",tu=i.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,i=e1(tl,r);return(0,c.jsx)(eH.h2,{id:i.titleId,...n,ref:t})});tu.displayName=tl;var tc="DialogDescription",td=i.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,i=e1(tc,r);return(0,c.jsx)(eH.p,{id:i.descriptionId,...n,ref:t})});td.displayName=tc;var th="DialogClose",tp=i.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,i=e1(th,r);return(0,c.jsx)(eH.button,{type:"button",...n,ref:t,onClick:s(e.onClick,()=>i.onOpenChange(!1))})});function tf(e){return e?"open":"closed"}tp.displayName=th;var tm="DialogTitleWarning",[tg,ty]=d(tm,{contentName:tn,titleName:tl,docsSlug:"dialog"}),tv=({titleId:e})=>{let t=ty(tm),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return i.useEffect(()=>{e&&!document.getElementById(e)&&console.error(r)},[r,e]),null},tb="DialogDescriptionWarning",tE=({contentRef:e,descriptionId:t})=>{let r=ty(tb),n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return i.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&!document.getElementById(t)&&console.warn(n)},[n,e,t]),null},tS=e2,t_=e6,tT=e7,tA=te,tC=ti,tw=tu,tO=td,tR=tp},17124:(e,t,r)=>{"use strict";r.d(t,{gm:()=>o});var n=r(17577);r(10326);var i=n.createContext(void 0);function o(e){let t=n.useContext(i);return e||t||"ltr"}},88957:(e,t,r)=>{"use strict";r.d(t,{M:()=>l});var n,i=r(17577),o=r(65819),s=(n||(n=r.t(i,2)))["useId".toString()]||(()=>void 0),a=0;function l(e){let[t,r]=i.useState(s());return(0,o.b)(()=>{e||r(e=>e??String(a++))},[e]),e||(t?`radix-${t}`:"")}},34478:(e,t,r)=>{"use strict";r.d(t,{f:()=>l});var n=r(17577),i=r(45226),o=r(10326),s="Label",a=n.forwardRef((e,t)=>(0,o.jsx)(i.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName=s;var l=a},86150:(e,t,r)=>{"use strict";r.d(t,{VY:()=>eA,h_:()=>eT,fC:()=>eS,xz:()=>e_});var n,i=r(17577),o=r(82561),s=r(48051),a=r(93095),l=r(45226),u=r(55049);function c(e,t=globalThis?.document){let r=(0,u.W)(e);i.useEffect(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}var d=r(10326),h="DismissableLayer",p="dismissableLayer.update",f="dismissableLayer.pointerDownOutside",m="dismissableLayer.focusOutside",g=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),y=i.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:m,...y}=e,v=i.useContext(g),[_,T]=i.useState(null),A=_?.ownerDocument??globalThis?.document,[,C]=i.useState({}),w=(0,s.e)(t,e=>T(e)),O=Array.from(v.layers),[R]=[...v.layersWithOutsidePointerEventsDisabled].slice(-1),x=O.indexOf(R),I=_?O.indexOf(_):-1,D=v.layersWithOutsidePointerEventsDisabled.size>0,P=I>=x,N=b(e=>{let t=e.target,r=[...v.branches].some(e=>e.contains(t));!P||r||(u?.(e),f?.(e),e.defaultPrevented||m?.())},A),k=E(e=>{let t=e.target;[...v.branches].some(e=>e.contains(t))||(h?.(e),f?.(e),e.defaultPrevented||m?.())},A);return c(e=>{I!==v.layers.size-1||(a?.(e),!e.defaultPrevented&&m&&(e.preventDefault(),m()))},A),i.useEffect(()=>{if(_)return r&&(0===v.layersWithOutsidePointerEventsDisabled.size&&(n=A.body.style.pointerEvents,A.body.style.pointerEvents="none"),v.layersWithOutsidePointerEventsDisabled.add(_)),v.layers.add(_),S(),()=>{r&&1===v.layersWithOutsidePointerEventsDisabled.size&&(A.body.style.pointerEvents=n)}},[_,A,r,v]),i.useEffect(()=>()=>{_&&(v.layers.delete(_),v.layersWithOutsidePointerEventsDisabled.delete(_),S())},[_,v]),i.useEffect(()=>{let e=()=>C({});return document.addEventListener(p,e),()=>document.removeEventListener(p,e)},[]),(0,d.jsx)(l.WV.div,{...y,ref:w,style:{pointerEvents:D?P?"auto":"none":void 0,...e.style},onFocusCapture:(0,o.M)(e.onFocusCapture,k.onFocusCapture),onBlurCapture:(0,o.M)(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:(0,o.M)(e.onPointerDownCapture,N.onPointerDownCapture)})});y.displayName=h;var v="DismissableLayerBranch";function b(e,t=globalThis?.document){let r=(0,u.W)(e),n=i.useRef(!1),o=i.useRef(()=>{});return i.useEffect(()=>{let e=e=>{if(e.target&&!n.current){let n=function(){_(f,r,i,{discrete:!0})},i={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",o.current),o.current=n,t.addEventListener("click",o.current,{once:!0})):n()}else t.removeEventListener("click",o.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",e),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function E(e,t=globalThis?.document){let r=(0,u.W)(e),n=i.useRef(!1);return i.useEffect(()=>{let e=e=>{e.target&&!n.current&&_(m,r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function S(){let e=new CustomEvent(p);document.dispatchEvent(e)}function _(e,t,r,{discrete:n}){let i=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?(0,l.jH)(i,o):i.dispatchEvent(o)}i.forwardRef((e,t)=>{let r=i.useContext(g),n=i.useRef(null),o=(0,s.e)(t,n);return i.useEffect(()=>{let e=n.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,d.jsx)(l.WV.div,{...e,ref:o})}).displayName=v;var T=0;function A(){i.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??C()),document.body.insertAdjacentElement("beforeend",e[1]??C()),T++,()=>{1===T&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),T--}},[])}function C(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var w="focusScope.autoFocusOnMount",O="focusScope.autoFocusOnUnmount",R={bubbles:!1,cancelable:!0},x="FocusScope",I=i.forwardRef((e,t)=>{let{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...c}=e,[h,p]=i.useState(null),f=(0,u.W)(o),m=(0,u.W)(a),g=i.useRef(null),y=(0,s.e)(t,e=>p(e)),v=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(n){let e=function(e){if(v.paused||!h)return;let t=e.target;h.contains(t)?g.current=t:B(g.current,{select:!0})},t=function(e){if(v.paused||!h)return;let t=e.relatedTarget;null===t||h.contains(t)||B(g.current,{select:!0})},r=function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&B(h)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let n=new MutationObserver(r);return h&&n.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[n,h,v.paused]),i.useEffect(()=>{if(h){j.add(v);let e=document.activeElement;if(!h.contains(e)){let t=new CustomEvent(w,R);h.addEventListener(w,f),h.dispatchEvent(t),t.defaultPrevented||(D(V(N(h)),{select:!0}),document.activeElement===e&&B(h))}return()=>{h.removeEventListener(w,f),setTimeout(()=>{let t=new CustomEvent(O,R);h.addEventListener(O,m),h.dispatchEvent(t),t.defaultPrevented||B(e??document.body,{select:!0}),h.removeEventListener(O,m),j.remove(v)},0)}}},[h,f,m,v]);let b=i.useCallback(e=>{if(!r&&!n||v.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){let t=e.currentTarget,[n,o]=P(t);n&&o?e.shiftKey||i!==o?e.shiftKey&&i===n&&(e.preventDefault(),r&&B(o,{select:!0})):(e.preventDefault(),r&&B(n,{select:!0})):i===t&&e.preventDefault()}},[r,n,v.paused]);return(0,d.jsx)(l.WV.div,{tabIndex:-1,...c,ref:y,onKeyDown:b})});function D(e,{select:t=!1}={}){let r=document.activeElement;for(let n of e)if(B(n,{select:t}),document.activeElement!==r)return}function P(e){let t=N(e);return[k(t,e),k(t.reverse(),e)]}function N(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function k(e,t){for(let r of e)if(!M(r,{upTo:t}))return r}function M(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function L(e){return e instanceof HTMLInputElement&&"select"in e}function B(e,{select:t=!1}={}){if(e&&e.focus){let r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&L(e)&&t&&e.select()}}I.displayName=x;var j=F();function F(){let e=[];return{add(t){let r=e[0];t!==r&&r?.pause(),(e=U(e,t)).unshift(t)},remove(t){e=U(e,t),e[0]?.resume()}}}function U(e,t){let r=[...e],n=r.indexOf(t);return -1!==n&&r.splice(n,1),r}function V(e){return e.filter(e=>"A"!==e.tagName)}var z=r(88957),G=r(9625),$=r(60962),H=r(65819),q="Portal",W=i.forwardRef((e,t)=>{let{container:r,...n}=e,[o,s]=i.useState(!1);(0,H.b)(()=>s(!0),[]);let a=r||o&&globalThis?.document?.body;return a?$.createPortal((0,d.jsx)(l.WV.div,{...n,ref:t}),a):null});W.displayName=q;var K=r(9815),Y=r(34214),Z=r(52067),J=r(35664),Q=r(17397),X="Popover",[ee,et]=(0,a.b)(X,[G.D7]),er=(0,G.D7)(),[en,ei]=ee(X),eo=e=>{let{__scopePopover:t,children:r,open:n,defaultOpen:o,onOpenChange:s,modal:a=!1}=e,l=er(t),u=i.useRef(null),[c,h]=i.useState(!1),[p=!1,f]=(0,Z.T)({prop:n,defaultProp:o,onChange:s});return(0,d.jsx)(G.fC,{...l,children:(0,d.jsx)(en,{scope:t,contentId:(0,z.M)(),triggerRef:u,open:p,onOpenChange:f,onOpenToggle:i.useCallback(()=>f(e=>!e),[f]),hasCustomAnchor:c,onCustomAnchorAdd:i.useCallback(()=>h(!0),[]),onCustomAnchorRemove:i.useCallback(()=>h(!1),[]),modal:a,children:r})})};eo.displayName=X;var es="PopoverAnchor";i.forwardRef((e,t)=>{let{__scopePopover:r,...n}=e,o=ei(es,r),s=er(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=o;return i.useEffect(()=>(a(),()=>l()),[a,l]),(0,d.jsx)(G.ee,{...s,...n,ref:t})}).displayName=es;var ea="PopoverTrigger",el=i.forwardRef((e,t)=>{let{__scopePopover:r,...n}=e,i=ei(ea,r),a=er(r),u=(0,s.e)(t,i.triggerRef),c=(0,d.jsx)(l.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":eE(i.open),...n,ref:u,onClick:(0,o.M)(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?c:(0,d.jsx)(G.ee,{asChild:!0,...a,children:c})});el.displayName=ea;var eu="PopoverPortal",[ec,ed]=ee(eu,{forceMount:void 0}),eh=e=>{let{__scopePopover:t,forceMount:r,children:n,container:i}=e,o=ei(eu,t);return(0,d.jsx)(ec,{scope:t,forceMount:r,children:(0,d.jsx)(K.z,{present:r||o.open,children:(0,d.jsx)(W,{asChild:!0,container:i,children:n})})})};eh.displayName=eu;var ep="PopoverContent",ef=i.forwardRef((e,t)=>{let r=ed(ep,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,o=ei(ep,e.__scopePopover);return(0,d.jsx)(K.z,{present:n||o.open,children:o.modal?(0,d.jsx)(em,{...i,ref:t}):(0,d.jsx)(eg,{...i,ref:t})})});ef.displayName=ep;var em=i.forwardRef((e,t)=>{let r=ei(ep,e.__scopePopover),n=i.useRef(null),a=(0,s.e)(t,n),l=i.useRef(!1);return i.useEffect(()=>{let e=n.current;if(e)return(0,J.Ry)(e)},[]),(0,d.jsx)(Q.Z,{as:Y.g7,allowPinchZoom:!0,children:(0,d.jsx)(ey,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,o.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),l.current||r.triggerRef.current?.focus()}),onPointerDownOutside:(0,o.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;l.current=n},{checkForDefaultPrevented:!1}),onFocusOutside:(0,o.M)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),eg=i.forwardRef((e,t)=>{let r=ei(ep,e.__scopePopover),n=i.useRef(!1),o=i.useRef(!1);return(0,d.jsx)(ey,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||r.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"!==t.detail.originalEvent.type||(o.current=!0));let i=t.target;r.triggerRef.current?.contains(i)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}})}),ey=i.forwardRef((e,t)=>{let{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:c,...h}=e,p=ei(ep,r),f=er(r);return A(),(0,d.jsx)(I,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:(0,d.jsx)(y,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:c,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:(0,d.jsx)(G.VY,{"data-state":eE(p.open),role:"dialog",id:p.contentId,...f,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ev="PopoverClose";i.forwardRef((e,t)=>{let{__scopePopover:r,...n}=e,i=ei(ev,r);return(0,d.jsx)(l.WV.button,{type:"button",...n,ref:t,onClick:(0,o.M)(e.onClick,()=>i.onOpenChange(!1))})}).displayName=ev;var eb="PopoverArrow";function eE(e){return e?"open":"closed"}i.forwardRef((e,t)=>{let{__scopePopover:r,...n}=e,i=er(r);return(0,d.jsx)(G.Eh,{...i,...n,ref:t})}).displayName=eb;var eS=eo,e_=el,eT=eh,eA=ef},9625:(e,t,r)=>{"use strict";r.d(t,{ee:()=>tF,Eh:()=>tV,VY:()=>tU,fC:()=>tj,D7:()=>t_});var n=r(17577);let i=["top","right","bottom","left"],o=Math.min,s=Math.max,a=Math.round,l=Math.floor,u=e=>({x:e,y:e}),c={left:"right",right:"left",bottom:"top",top:"bottom"},d={start:"end",end:"start"};function h(e,t,r){return s(e,o(t,r))}function p(e,t){return"function"==typeof e?e(t):e}function f(e){return e.split("-")[0]}function m(e){return e.split("-")[1]}function g(e){return"x"===e?"y":"x"}function y(e){return"y"===e?"height":"width"}let v=new Set(["top","bottom"]);function b(e){return v.has(f(e))?"y":"x"}function E(e){return g(b(e))}function S(e,t,r){void 0===r&&(r=!1);let n=m(e),i=E(e),o=y(i),s="x"===i?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=I(s)),[s,I(s)]}function _(e){let t=I(e);return[T(e),t,T(t)]}function T(e){return e.replace(/start|end/g,e=>d[e])}let A=["left","right"],C=["right","left"],w=["top","bottom"],O=["bottom","top"];function R(e,t,r){switch(e){case"top":case"bottom":if(r)return t?C:A;return t?A:C;case"left":case"right":return t?w:O;default:return[]}}function x(e,t,r,n){let i=m(e),o=R(f(e),"start"===r,n);return i&&(o=o.map(e=>e+"-"+i),t&&(o=o.concat(o.map(T)))),o}function I(e){return e.replace(/left|right|bottom|top/g,e=>c[e])}function D(e){return{top:0,right:0,bottom:0,left:0,...e}}function P(e){return"number"!=typeof e?D(e):{top:e,right:e,bottom:e,left:e}}function N(e){let{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function k(e,t,r){let n,{reference:i,floating:o}=e,s=b(t),a=E(t),l=y(a),u=f(t),c="y"===s,d=i.x+i.width/2-o.width/2,h=i.y+i.height/2-o.height/2,p=i[l]/2-o[l]/2;switch(u){case"top":n={x:d,y:i.y-o.height};break;case"bottom":n={x:d,y:i.y+i.height};break;case"right":n={x:i.x+i.width,y:h};break;case"left":n={x:i.x-o.width,y:h};break;default:n={x:i.x,y:i.y}}switch(m(t)){case"start":n[a]-=p*(r&&c?-1:1);break;case"end":n[a]+=p*(r&&c?-1:1)}return n}let M=async(e,t,r)=>{let{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:s}=r,a=o.filter(Boolean),l=await (null==s.isRTL?void 0:s.isRTL(t)),u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=k(u,n,l),h=n,p={},f=0;for(let r=0;r<a.length;r++){let{name:o,fn:m}=a[r],{x:g,y:y,data:v,reset:b}=await m({x:c,y:d,initialPlacement:n,placement:h,strategy:i,middlewareData:p,rects:u,platform:s,elements:{reference:e,floating:t}});c=null!=g?g:c,d=null!=y?y:d,p={...p,[o]:{...p[o],...v}},b&&f<=50&&(f++,"object"==typeof b&&(b.placement&&(h=b.placement),b.rects&&(u=!0===b.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):b.rects),{x:c,y:d}=k(u,h,l)),r=-1)}return{x:c,y:d,placement:h,strategy:i,middlewareData:p}};async function L(e,t){var r;void 0===t&&(t={});let{x:n,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=p(t,e),m=P(f),g="floating"===d?"reference":"floating",y=a[h?g:d],v=N(await o.getClippingRect({element:null==(r=await (null==o.isElement?void 0:o.isElement(y)))||r?y:y.contextElement||await (null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),b="floating"===d?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,E=await (null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),S=await (null==o.isElement?void 0:o.isElement(E))&&await (null==o.getScale?void 0:o.getScale(E))||{x:1,y:1},_=N(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:E,strategy:l}):b);return{top:(v.top-_.top+m.top)/S.y,bottom:(_.bottom-v.bottom+m.bottom)/S.y,left:(v.left-_.left+m.left)/S.x,right:(_.right-v.right+m.right)/S.x}}let B=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:n,placement:i,rects:s,platform:a,elements:l,middlewareData:u}=t,{element:c,padding:d=0}=p(e,t)||{};if(null==c)return{};let f=P(d),g={x:r,y:n},v=E(i),b=y(v),S=await a.getDimensions(c),_="y"===v,T=_?"top":"left",A=_?"bottom":"right",C=_?"clientHeight":"clientWidth",w=s.reference[b]+s.reference[v]-g[v]-s.floating[b],O=g[v]-s.reference[v],R=await (null==a.getOffsetParent?void 0:a.getOffsetParent(c)),x=R?R[C]:0;x&&await (null==a.isElement?void 0:a.isElement(R))||(x=l.floating[C]||s.floating[b]);let I=w/2-O/2,D=x/2-S[b]/2-1,N=o(f[T],D),k=o(f[A],D),M=N,L=x-S[b]-k,B=x/2-S[b]/2+I,j=h(M,B,L),F=!u.arrow&&null!=m(i)&&B!==j&&s.reference[b]/2-(B<M?N:k)-S[b]/2<0,U=F?B<M?B-M:B-L:0;return{[v]:g[v]+U,data:{[v]:j,centerOffset:B-j-U,...F&&{alignmentOffset:U}},reset:F}}}),j=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,n,i,o,s;let{placement:a,middlewareData:l,rects:u,initialPlacement:c,platform:d,elements:h}=t,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:y,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:T=!0,...A}=p(e,t);if(null!=(r=l.arrow)&&r.alignmentOffset)return{};let C=f(a),w=b(c),O=f(c)===c,R=await (null==d.isRTL?void 0:d.isRTL(h.floating)),D=y||(O||!T?[I(c)]:_(c)),P="none"!==E;!y&&P&&D.push(...x(c,T,E,R));let N=[c,...D],k=await L(t,A),M=[],B=(null==(n=l.flip)?void 0:n.overflows)||[];if(m&&M.push(k[C]),g){let e=S(a,u,R);M.push(k[e[0]],k[e[1]])}if(B=[...B,{placement:a,overflows:M}],!M.every(e=>e<=0)){let e=((null==(i=l.flip)?void 0:i.index)||0)+1,t=N[e];if(t&&(!("alignment"===g&&w!==b(t))||B.every(e=>b(e.placement)!==w||e.overflows[0]>0)))return{data:{index:e,overflows:B},reset:{placement:t}};let r=null==(o=B.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:o.placement;if(!r)switch(v){case"bestFit":{let e=null==(s=B.filter(e=>{if(P){let t=b(e.placement);return t===w||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:s[0];e&&(r=e);break}case"initialPlacement":r=c}if(a!==r)return{reset:{placement:r}}}return{}}}};function F(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function U(e){return i.some(t=>e[t]>=0)}let V=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){let{rects:r}=t,{strategy:n="referenceHidden",...i}=p(e,t);switch(n){case"referenceHidden":{let e=F(await L(t,{...i,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:U(e)}}}case"escaped":{let e=F(await L(t,{...i,altBoundary:!0}),r.floating);return{data:{escapedOffsets:e,escaped:U(e)}}}default:return{}}}}},z=new Set(["left","top"]);async function G(e,t){let{placement:r,platform:n,elements:i}=e,o=await (null==n.isRTL?void 0:n.isRTL(i.floating)),s=f(r),a=m(r),l="y"===b(r),u=z.has(s)?-1:1,c=o&&l?-1:1,d=p(t,e),{mainAxis:h,crossAxis:g,alignmentAxis:y}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&"number"==typeof y&&(g="end"===a?-1*y:y),l?{x:g*c,y:h*u}:{x:h*u,y:g*c}}let $=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,n;let{x:i,y:o,placement:s,middlewareData:a}=t,l=await G(t,e);return s===(null==(r=a.offset)?void 0:r.placement)&&null!=(n=a.arrow)&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},H=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){let{x:r,y:n,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...l}=p(e,t),u={x:r,y:n},c=await L(t,l),d=b(f(i)),m=g(d),y=u[m],v=u[d];if(o){let e="y"===m?"top":"left",t="y"===m?"bottom":"right",r=y+c[e],n=y-c[t];y=h(r,y,n)}if(s){let e="y"===d?"top":"left",t="y"===d?"bottom":"right",r=v+c[e],n=v-c[t];v=h(r,v,n)}let E=a.fn({...t,[m]:y,[d]:v});return{...E,data:{x:E.x-r,y:E.y-n,enabled:{[m]:o,[d]:s}}}}}},q=function(e){return void 0===e&&(e={}),{options:e,fn(t){let{x:r,y:n,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=p(e,t),c={x:r,y:n},d=b(i),h=g(d),m=c[h],y=c[d],v=p(a,t),E="number"==typeof v?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){let e="y"===h?"height":"width",t=o.reference[h]-o.floating[e]+E.mainAxis,r=o.reference[h]+o.reference[e]-E.mainAxis;m<t?m=t:m>r&&(m=r)}if(u){var S,_;let e="y"===h?"width":"height",t=z.has(f(i)),r=o.reference[d]-o.floating[e]+(t&&(null==(S=s.offset)?void 0:S[d])||0)+(t?0:E.crossAxis),n=o.reference[d]+o.reference[e]+(t?0:(null==(_=s.offset)?void 0:_[d])||0)-(t?E.crossAxis:0);y<r?y=r:y>n&&(y=n)}return{[h]:m,[d]:y}}}},W=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var r,n;let i,a;let{placement:l,rects:u,platform:c,elements:d}=t,{apply:h=()=>{},...g}=p(e,t),y=await L(t,g),v=f(l),E=m(l),S="y"===b(l),{width:_,height:T}=u.floating;"top"===v||"bottom"===v?(i=v,a=E===(await (null==c.isRTL?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(a=v,i="end"===E?"top":"bottom");let A=T-y.top-y.bottom,C=_-y.left-y.right,w=o(T-y[i],A),O=o(_-y[a],C),R=!t.middlewareData.shift,x=w,I=O;if(null!=(r=t.middlewareData.shift)&&r.enabled.x&&(I=C),null!=(n=t.middlewareData.shift)&&n.enabled.y&&(x=A),R&&!E){let e=s(y.left,0),t=s(y.right,0),r=s(y.top,0),n=s(y.bottom,0);S?I=_-2*(0!==e||0!==t?e+t:s(y.left,y.right)):x=T-2*(0!==r||0!==n?r+n:s(y.top,y.bottom))}await h({...t,availableWidth:I,availableHeight:x});let D=await c.getDimensions(d.floating);return _!==D.width||T!==D.height?{reset:{rects:!0}}:{}}}};function K(){return"undefined"!=typeof window}function Y(e){return Q(e)?(e.nodeName||"").toLowerCase():"#document"}function Z(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function J(e){var t;return null==(t=(Q(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Q(e){return!!K()&&(e instanceof Node||e instanceof Z(e).Node)}function X(e){return!!K()&&(e instanceof Element||e instanceof Z(e).Element)}function ee(e){return!!K()&&(e instanceof HTMLElement||e instanceof Z(e).HTMLElement)}function et(e){return!!K()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof Z(e).ShadowRoot)}let er=new Set(["inline","contents"]);function en(e){let{overflow:t,overflowX:r,overflowY:n,display:i}=eg(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!er.has(i)}let ei=new Set(["table","td","th"]);function eo(e){return ei.has(Y(e))}let es=[":popover-open",":modal"];function ea(e){return es.some(t=>{try{return e.matches(t)}catch(e){return!1}})}let el=["transform","translate","scale","rotate","perspective"],eu=["transform","translate","scale","rotate","perspective","filter"],ec=["paint","layout","strict","content"];function ed(e){let t=ep(),r=X(e)?eg(e):e;return el.some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||eu.some(e=>(r.willChange||"").includes(e))||ec.some(e=>(r.contain||"").includes(e))}function eh(e){let t=ev(e);for(;ee(t)&&!em(t);){if(ed(t))return t;if(ea(t))break;t=ev(t)}return null}function ep(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}let ef=new Set(["html","body","#document"]);function em(e){return ef.has(Y(e))}function eg(e){return Z(e).getComputedStyle(e)}function ey(e){return X(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ev(e){if("html"===Y(e))return e;let t=e.assignedSlot||e.parentNode||et(e)&&e.host||J(e);return et(t)?t.host:t}function eb(e){let t=ev(e);return em(t)?e.ownerDocument?e.ownerDocument.body:e.body:ee(t)&&en(t)?t:eb(t)}function eE(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);let i=eb(e),o=i===(null==(n=e.ownerDocument)?void 0:n.body),s=Z(i);if(o){let e=eS(s);return t.concat(s,s.visualViewport||[],en(i)?i:[],e&&r?eE(e):[])}return t.concat(i,eE(i,[],r))}function eS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function e_(e){let t=eg(e),r=parseFloat(t.width)||0,n=parseFloat(t.height)||0,i=ee(e),o=i?e.offsetWidth:r,s=i?e.offsetHeight:n,l=a(r)!==o||a(n)!==s;return l&&(r=o,n=s),{width:r,height:n,$:l}}function eT(e){return X(e)?e:e.contextElement}function eA(e){let t=eT(e);if(!ee(t))return u(1);let r=t.getBoundingClientRect(),{width:n,height:i,$:o}=e_(t),s=(o?a(r.width):r.width)/n,l=(o?a(r.height):r.height)/i;return s&&Number.isFinite(s)||(s=1),l&&Number.isFinite(l)||(l=1),{x:s,y:l}}let eC=u(0);function ew(e){let t=Z(e);return ep()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:eC}function eO(e,t,r){return void 0===t&&(t=!1),!!r&&(!t||r===Z(e))&&t}function eR(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);let i=e.getBoundingClientRect(),o=eT(e),s=u(1);t&&(n?X(n)&&(s=eA(n)):s=eA(e));let a=eO(o,r,n)?ew(o):u(0),l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,d=i.width/s.x,h=i.height/s.y;if(o){let e=Z(o),t=n&&X(n)?Z(n):n,r=e,i=eS(r);for(;i&&n&&t!==r;){let e=eA(i),t=i.getBoundingClientRect(),n=eg(i),o=t.left+(i.clientLeft+parseFloat(n.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(n.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,h*=e.y,l+=o,c+=s,i=eS(r=Z(i))}}return N({width:d,height:h,x:l,y:c})}function ex(e,t){let r=ey(e).scrollLeft;return t?t.left+r:eR(J(e)).left+r}function eI(e,t){let r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-ex(e,r),y:r.top+t.scrollTop}}function eD(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e,o="fixed"===i,s=J(n),a=!!t&&ea(t.floating);if(n===s||a&&o)return r;let l={scrollLeft:0,scrollTop:0},c=u(1),d=u(0),h=ee(n);if((h||!h&&!o)&&(("body"!==Y(n)||en(s))&&(l=ey(n)),ee(n))){let e=eR(n);c=eA(n),d.x=e.x+n.clientLeft,d.y=e.y+n.clientTop}let p=!s||h||o?u(0):eI(s,l);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:r.y*c.y-l.scrollTop*c.y+d.y+p.y}}function eP(e){return Array.from(e.getClientRects())}function eN(e){let t=J(e),r=ey(e),n=e.ownerDocument.body,i=s(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=s(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight),a=-r.scrollLeft+ex(e),l=-r.scrollTop;return"rtl"===eg(n).direction&&(a+=s(t.clientWidth,n.clientWidth)-i),{width:i,height:o,x:a,y:l}}let ek=25;function eM(e,t){let r=Z(e),n=J(e),i=r.visualViewport,o=n.clientWidth,s=n.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;let e=ep();(!e||e&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}let u=ex(n);if(u<=0){let e=n.ownerDocument,t=e.body,r=getComputedStyle(t),i="CSS1Compat"===e.compatMode&&parseFloat(r.marginLeft)+parseFloat(r.marginRight)||0,s=Math.abs(n.clientWidth-t.clientWidth-i);s<=ek&&(o-=s)}else u<=ek&&(o+=u);return{width:o,height:s,x:a,y:l}}let eL=new Set(["absolute","fixed"]);function eB(e,t){let r=eR(e,!0,"fixed"===t),n=r.top+e.clientTop,i=r.left+e.clientLeft,o=ee(e)?eA(e):u(1),s=e.clientWidth*o.x;return{width:s,height:e.clientHeight*o.y,x:i*o.x,y:n*o.y}}function ej(e,t,r){let n;if("viewport"===t)n=eM(e,r);else if("document"===t)n=eN(J(e));else if(X(t))n=eB(t,r);else{let r=ew(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return N(n)}function eF(e,t){let r=ev(e);return!(r===t||!X(r)||em(r))&&("fixed"===eg(r).position||eF(r,t))}function eU(e,t){let r=t.get(e);if(r)return r;let n=eE(e,[],!1).filter(e=>X(e)&&"body"!==Y(e)),i=null,o="fixed"===eg(e).position,s=o?ev(e):e;for(;X(s)&&!em(s);){let t=eg(s),r=ed(s);r||"fixed"!==t.position||(i=null),(o?!r&&!i:!r&&"static"===t.position&&!!i&&eL.has(i.position)||en(s)&&!r&&eF(e,s))?n=n.filter(e=>e!==s):i=t,s=ev(s)}return t.set(e,n),n}function eV(e,t,r){let n=ee(t),i=J(t),o="fixed"===r,s=eR(e,!0,o,t),a={scrollLeft:0,scrollTop:0},l=u(0);function c(){l.x=ex(i)}if(n||!n&&!o){if(("body"!==Y(t)||en(i))&&(a=ey(t)),n){let e=eR(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&c()}o&&!n&&i&&c();let d=!i||n||o?u(0):eI(i,a);return{x:s.left+a.scrollLeft-l.x-d.x,y:s.top+a.scrollTop-l.y-d.y,width:s.width,height:s.height}}function ez(e){return"static"===eg(e).position}function eG(e,t){if(!ee(e)||"fixed"===eg(e).position)return null;if(t)return t(e);let r=e.offsetParent;return J(e)===r&&(r=r.ownerDocument.body),r}function e$(e,t){let r=Z(e);if(ea(e))return r;if(!ee(e)){let t=ev(e);for(;t&&!em(t);){if(X(t)&&!ez(t))return t;t=ev(t)}return r}let n=eG(e,t);for(;n&&eo(n)&&ez(n);)n=eG(n,t);return n&&em(n)&&ez(n)&&!ed(n)?r:n||eh(e)||r}let eH=async function(e){let t=this.getOffsetParent||e$,r=this.getDimensions,n=await r(e.floating);return{reference:eV(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},eq={convertOffsetParentRelativeRectToViewportRelativeRect:eD,getDocumentElement:J,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e,a=[..."clippingAncestors"===r?ea(t)?[]:eU(t,this._c):[].concat(r),n],l=a[0],u=a.reduce((e,r)=>{let n=ej(t,r,i);return e.top=s(n.top,e.top),e.right=o(n.right,e.right),e.bottom=o(n.bottom,e.bottom),e.left=s(n.left,e.left),e},ej(t,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},getOffsetParent:e$,getElementRects:eH,getClientRects:eP,getDimensions:function(e){let{width:t,height:r}=e_(e);return{width:t,height:r}},getScale:eA,isElement:X,isRTL:function(e){return"rtl"===eg(e).direction}};function eW(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function eK(e,t){let r,n=null,i=J(e);function a(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}function u(c,d){void 0===c&&(c=!1),void 0===d&&(d=1),a();let h=e.getBoundingClientRect(),{left:p,top:f,width:m,height:g}=h;if(c||t(),!m||!g)return;let y=l(f),v={rootMargin:-y+"px "+-l(i.clientWidth-(p+m))+"px "+-l(i.clientHeight-(f+g))+"px "+-l(p)+"px",threshold:s(0,o(1,d))||1},b=!0;function E(t){let n=t[0].intersectionRatio;if(n!==d){if(!b)return u();n?u(!1,n):r=setTimeout(()=>{u(!1,1e-7)},1e3)}1!==n||eW(h,e.getBoundingClientRect())||u(),b=!1}try{n=new IntersectionObserver(E,{...v,root:i.ownerDocument})}catch(e){n=new IntersectionObserver(E,v)}n.observe(e)}return u(!0),a}function eY(e,t,r,n){let i;void 0===n&&(n={});let{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:u=!1}=n,c=eT(e),d=o||s?[...c?eE(c):[],...eE(t)]:[];d.forEach(e=>{o&&e.addEventListener("scroll",r,{passive:!0}),s&&e.addEventListener("resize",r)});let h=c&&l?eK(c,r):null,p=-1,f=null;a&&(f=new ResizeObserver(e=>{let[n]=e;n&&n.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=f)||e.observe(t)})),r()}),c&&!u&&f.observe(c),f.observe(t));let m=u?eR(e):null;function g(){let t=eR(e);m&&!eW(m,t)&&r(),m=t,i=requestAnimationFrame(g)}return u&&g(),r(),()=>{var e;d.forEach(e=>{o&&e.removeEventListener("scroll",r),s&&e.removeEventListener("resize",r)}),null==h||h(),null==(e=f)||e.disconnect(),f=null,u&&cancelAnimationFrame(i)}}let eZ=$,eJ=H,eQ=j,eX=W,e0=V,e1=B,e2=q,e3=(e,t,r)=>{let n=new Map,i={platform:eq,...r},o={...i.platform,_c:n};return M(e,t,{...i,platform:o})};var e6=r(60962),e4=function(){},e5="undefined"!=typeof document?n.useLayoutEffect:e4;function e8(e,t){let r,n,i;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(n=r;0!=n--;)if(!e8(e[n],t[n]))return!1;return!0}if((r=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!({}).hasOwnProperty.call(t,i[n]))return!1;for(n=r;0!=n--;){let r=i[n];if(("_owner"!==r||!e.$$typeof)&&!e8(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function e7(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function e9(e,t){let r=e7(e);return Math.round(t*r)/r}function te(e){let t=n.useRef(e);return e5(()=>{t.current=e}),t}function tt(e){void 0===e&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:i=[],platform:o,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:u,open:c}=e,[d,h]=n.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=n.useState(i);e8(p,i)||f(i);let[m,g]=n.useState(null),[y,v]=n.useState(null),b=n.useCallback(e=>{e!==T.current&&(T.current=e,g(e))},[]),E=n.useCallback(e=>{e!==A.current&&(A.current=e,v(e))},[]),S=s||m,_=a||y,T=n.useRef(null),A=n.useRef(null),C=n.useRef(d),w=null!=u,O=te(u),R=te(o),x=te(c),I=n.useCallback(()=>{if(!T.current||!A.current)return;let e={placement:t,strategy:r,middleware:p};R.current&&(e.platform=R.current),e3(T.current,A.current,e).then(e=>{let t={...e,isPositioned:!1!==x.current};D.current&&!e8(C.current,t)&&(C.current=t,e6.flushSync(()=>{h(t)}))})},[p,t,r,R,x]);e5(()=>{!1===c&&C.current.isPositioned&&(C.current.isPositioned=!1,h(e=>({...e,isPositioned:!1})))},[c]);let D=n.useRef(!1);e5(()=>(D.current=!0,()=>{D.current=!1}),[]),e5(()=>{if(S&&(T.current=S),_&&(A.current=_),S&&_){if(O.current)return O.current(S,_,I);I()}},[S,_,I,O,w]);let P=n.useMemo(()=>({reference:T,floating:A,setReference:b,setFloating:E}),[b,E]),N=n.useMemo(()=>({reference:S,floating:_}),[S,_]),k=n.useMemo(()=>{let e={position:r,left:0,top:0};if(!N.floating)return e;let t=e9(N.floating,d.x),n=e9(N.floating,d.y);return l?{...e,transform:"translate("+t+"px, "+n+"px)",...e7(N.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}},[r,l,N.floating,d.x,d.y]);return n.useMemo(()=>({...d,update:I,refs:P,elements:N,floatingStyles:k}),[d,I,P,N,k])}let tr=e=>{function t(e){return({}).hasOwnProperty.call(e,"current")}return{name:"arrow",options:e,fn(r){let{element:n,padding:i}="function"==typeof e?e(r):e;return n&&t(n)?null!=n.current?e1({element:n.current,padding:i}).fn(r):{}:n?e1({element:n,padding:i}).fn(r):{}}}},tn=(e,t)=>({...eZ(e),options:[e,t]}),ti=(e,t)=>({...eJ(e),options:[e,t]}),to=(e,t)=>({...e2(e),options:[e,t]}),ts=(e,t)=>({...eQ(e),options:[e,t]}),ta=(e,t)=>({...eX(e),options:[e,t]}),tl=(e,t)=>({...e0(e),options:[e,t]}),tu=(e,t)=>({...tr(e),options:[e,t]});var tc=r(45226),td=r(10326),th="Arrow",tp=n.forwardRef((e,t)=>{let{children:r,width:n=10,height:i=5,...o}=e;return(0,td.jsx)(tc.WV.svg,{...o,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,td.jsx)("polygon",{points:"0,0 30,0 15,10"})})});tp.displayName=th;var tf=tp,tm=r(48051),tg=r(93095),ty=r(55049),tv=r(65819);function tb(e){let[t,r]=n.useState(void 0);return(0,tv.b)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let n,i;if(!Array.isArray(t)||!t.length)return;let o=t[0];if("borderBoxSize"in o){let e=o.borderBoxSize,t=Array.isArray(e)?e[0]:e;n=t.inlineSize,i=t.blockSize}else n=e.offsetWidth,i=e.offsetHeight;r({width:n,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}var tE="Popper",[tS,t_]=(0,tg.b)(tE),[tT,tA]=tS(tE),tC=e=>{let{__scopePopper:t,children:r}=e,[i,o]=n.useState(null);return(0,td.jsx)(tT,{scope:t,anchor:i,onAnchorChange:o,children:r})};tC.displayName=tE;var tw="PopperAnchor",tO=n.forwardRef((e,t)=>{let{__scopePopper:r,virtualRef:i,...o}=e,s=tA(tw,r),a=n.useRef(null),l=(0,tm.e)(t,a);return n.useEffect(()=>{s.onAnchorChange(i?.current||a.current)}),i?null:(0,td.jsx)(tc.WV.div,{...o,ref:l})});tO.displayName=tw;var tR="PopperContent",[tx,tI]=tS(tR),tD=n.forwardRef((e,t)=>{let{__scopePopper:r,side:i="bottom",sideOffset:o=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:m,...g}=e,y=tA(tR,r),[v,b]=n.useState(null),E=(0,tm.e)(t,e=>b(e)),[S,_]=n.useState(null),T=tb(S),A=T?.width??0,C=T?.height??0,w=i+("center"!==s?"-"+s:""),O="number"==typeof d?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(c)?c:[c],x=R.length>0,I={padding:O,boundary:R.filter(tM),altBoundary:x},{refs:D,floatingStyles:P,placement:N,isPositioned:k,middlewareData:M}=tt({strategy:"fixed",placement:w,whileElementsMounted:(...e)=>eY(...e,{animationFrame:"always"===f}),elements:{reference:y.anchor},middleware:[tn({mainAxis:o+C,alignmentAxis:a}),u&&ti({mainAxis:!0,crossAxis:!1,limiter:"partial"===h?to():void 0,...I}),u&&ts({...I}),ta({...I,apply:({elements:e,rects:t,availableWidth:r,availableHeight:n})=>{let{width:i,height:o}=t.reference,s=e.floating.style;s.setProperty("--radix-popper-available-width",`${r}px`),s.setProperty("--radix-popper-available-height",`${n}px`),s.setProperty("--radix-popper-anchor-width",`${i}px`),s.setProperty("--radix-popper-anchor-height",`${o}px`)}}),S&&tu({element:S,padding:l}),tL({arrowWidth:A,arrowHeight:C}),p&&tl({strategy:"referenceHidden",...I})]}),[L,B]=tB(N),j=(0,ty.W)(m);(0,tv.b)(()=>{k&&j?.()},[k,j]);let F=M.arrow?.x,U=M.arrow?.y,V=M.arrow?.centerOffset!==0,[z,G]=n.useState();return(0,tv.b)(()=>{v&&G(window.getComputedStyle(v).zIndex)},[v]),(0,td.jsx)("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...P,transform:k?P.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:z,"--radix-popper-transform-origin":[M.transformOrigin?.x,M.transformOrigin?.y].join(" "),...M.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,td.jsx)(tx,{scope:r,placedSide:L,onArrowChange:_,arrowX:F,arrowY:U,shouldHideArrow:V,children:(0,td.jsx)(tc.WV.div,{"data-side":L,"data-align":B,...g,ref:E,style:{...g.style,animation:k?void 0:"none"}})})})});tD.displayName=tR;var tP="PopperArrow",tN={top:"bottom",right:"left",bottom:"top",left:"right"},tk=n.forwardRef(function(e,t){let{__scopePopper:r,...n}=e,i=tI(tP,r),o=tN[i.placedSide];return(0,td.jsx)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:(0,td.jsx)(tf,{...n,ref:t,style:{...n.style,display:"block"}})})});function tM(e){return null!==e}tk.displayName=tP;var tL=e=>({name:"transformOrigin",options:e,fn(t){let{placement:r,rects:n,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,s=o?0:e.arrowWidth,a=o?0:e.arrowHeight,[l,u]=tB(r),c={start:"0%",center:"50%",end:"100%"}[u],d=(i.arrow?.x??0)+s/2,h=(i.arrow?.y??0)+a/2,p="",f="";return"bottom"===l?(p=o?c:`${d}px`,f=`${-a}px`):"top"===l?(p=o?c:`${d}px`,f=`${n.floating.height+a}px`):"right"===l?(p=`${-a}px`,f=o?c:`${h}px`):"left"===l&&(p=`${n.floating.width+a}px`,f=o?c:`${h}px`),{data:{x:p,y:f}}}});function tB(e){let[t,r="center"]=e.split("-");return[t,r]}var tj=tC,tF=tO,tU=tD,tV=tk},9815:(e,t,r)=>{"use strict";r.d(t,{z:()=>a});var n=r(17577),i=r(48051),o=r(65819);function s(e,t){return n.useReducer((e,r)=>t[e][r]??e,e)}var a=e=>{let{present:t,children:r}=e,o=l(t),s="function"==typeof r?r({present:o.isPresent}):n.Children.only(r),a=(0,i.e)(o.ref,c(s));return"function"==typeof r||o.isPresent?n.cloneElement(s,{ref:a}):null};function l(e){let[t,r]=n.useState(),i=n.useRef({}),a=n.useRef(e),l=n.useRef("none"),[c,d]=s(e?"mounted":"unmounted",{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return n.useEffect(()=>{let e=u(i.current);l.current="mounted"===c?e:"none"},[c]),(0,o.b)(()=>{let t=i.current,r=a.current;if(r!==e){let n=l.current,i=u(t);if(e)d("MOUNT");else if("none"===i||t?.display==="none")d("UNMOUNT");else{let e=n!==i;r&&e?d("ANIMATION_OUT"):d("UNMOUNT")}a.current=e}},[e,d]),(0,o.b)(()=>{if(t){let e;let r=t.ownerDocument.defaultView??window,n=n=>{let o=u(i.current).includes(n.animationName);if(n.target===t&&o&&(d("ANIMATION_END"),!a.current)){let n=t.style.animationFillMode;t.style.animationFillMode="forwards",e=r.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=n)})}},o=e=>{e.target===t&&(l.current=u(i.current))};return t.addEventListener("animationstart",o),t.addEventListener("animationcancel",n),t.addEventListener("animationend",n),()=>{r.clearTimeout(e),t.removeEventListener("animationstart",o),t.removeEventListener("animationcancel",n),t.removeEventListener("animationend",n)}}d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:n.useCallback(e=>{e&&(i.current=getComputedStyle(e)),r(e)},[])}}function u(e){return e?.animationName||"none"}function c(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}a.displayName="Presence"},45226:(e,t,r)=>{"use strict";r.d(t,{WV:()=>a,jH:()=>l});var n=r(17577),i=r(60962),o=r(34214),s=r(10326),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=n.forwardRef((e,r)=>{let{asChild:n,...i}=e,a=n?o.g7:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(a,{...i,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function l(e,t){e&&i.flushSync(()=>e.dispatchEvent(t))}},87273:(e,t,r)=>{"use strict";r.d(t,{fC:()=>T,z$:()=>A});var n=r(17577),i=r(93095),o=r(45226),s=r(10326),a="Progress",l=100,[u,c]=(0,i.b)(a),[d,h]=u(a),p=n.forwardRef((e,t)=>{let{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=g,...u}=e;(i||0===i)&&!b(i)&&console.error(S(`${i}`,"Progress"));let c=b(i)?i:l;null===n||E(n,c)||console.error(_(`${n}`,"Progress"));let h=E(n,c)?n:null,p=v(h)?a(h,c):void 0;return(0,s.jsx)(d,{scope:r,value:h,max:c,children:(0,s.jsx)(o.WV.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":v(h)?h:void 0,"aria-valuetext":p,role:"progressbar","data-state":y(h,c),"data-value":h??void 0,"data-max":c,...u,ref:t})})});p.displayName=a;var f="ProgressIndicator",m=n.forwardRef((e,t)=>{let{__scopeProgress:r,...n}=e,i=h(f,r);return(0,s.jsx)(o.WV.div,{"data-state":y(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});function g(e,t){return`${Math.round(e/t*100)}%`}function y(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function v(e){return"number"==typeof e}function b(e){return v(e)&&!isNaN(e)&&e>0}function E(e,t){return v(e)&&!isNaN(e)&&e<=t&&e>=0}function S(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${l}\`.`}function _(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${l} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}m.displayName=f;var T=p,A=m},16999:(e,t,r)=>{"use strict";r.d(t,{Ns:()=>Q,fC:()=>Z,gb:()=>A,l_:()=>J,q4:()=>M});var n=r(17577),i=r(45226),o=r(9815),s=r(93095),a=r(48051),l=r(55049),u=r(17124),c=r(65819),d=r(37125),h=r(82561),p=r(10326);function f(e,t){return n.useReducer((e,r)=>t[e][r]??e,e)}var m="ScrollArea",[g,y]=(0,s.b)(m),[v,b]=g(m),E=n.forwardRef((e,t)=>{let{__scopeScrollArea:r,type:o="hover",dir:s,scrollHideDelay:l=600,...c}=e,[d,h]=n.useState(null),[f,m]=n.useState(null),[g,y]=n.useState(null),[b,E]=n.useState(null),[S,_]=n.useState(null),[T,A]=n.useState(0),[C,w]=n.useState(0),[O,R]=n.useState(!1),[x,I]=n.useState(!1),D=(0,a.e)(t,e=>h(e)),P=(0,u.gm)(s);return(0,p.jsx)(v,{scope:r,type:o,dir:P,scrollHideDelay:l,scrollArea:d,viewport:f,onViewportChange:m,content:g,onContentChange:y,scrollbarX:b,onScrollbarXChange:E,scrollbarXEnabled:O,onScrollbarXEnabledChange:R,scrollbarY:S,onScrollbarYChange:_,scrollbarYEnabled:x,onScrollbarYEnabledChange:I,onCornerWidthChange:A,onCornerHeightChange:w,children:(0,p.jsx)(i.WV.div,{dir:P,...c,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":T+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});E.displayName=m;var S="ScrollAreaViewport",_=n.forwardRef((e,t)=>{let{__scopeScrollArea:r,children:o,nonce:s,...l}=e,u=b(S,r),c=n.useRef(null),d=(0,a.e)(t,c,u.onViewportChange);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),(0,p.jsx)(i.WV.div,{"data-radix-scroll-area-viewport":"",...l,ref:d,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...e.style},children:(0,p.jsx)("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});_.displayName=S;var T="ScrollAreaScrollbar",A=n.forwardRef((e,t)=>{let{forceMount:r,...i}=e,o=b(T,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=o,l="horizontal"===e.orientation;return n.useEffect(()=>(l?s(!0):a(!0),()=>{l?s(!1):a(!1)}),[l,s,a]),"hover"===o.type?(0,p.jsx)(C,{...i,ref:t,forceMount:r}):"scroll"===o.type?(0,p.jsx)(w,{...i,ref:t,forceMount:r}):"auto"===o.type?(0,p.jsx)(O,{...i,ref:t,forceMount:r}):"always"===o.type?(0,p.jsx)(R,{...i,ref:t}):null});A.displayName=T;var C=n.forwardRef((e,t)=>{let{forceMount:r,...i}=e,s=b(T,e.__scopeScrollArea),[a,l]=n.useState(!1);return n.useEffect(()=>{let e=s.scrollArea,t=0;if(e){let r=()=>{window.clearTimeout(t),l(!0)},n=()=>{t=window.setTimeout(()=>l(!1),s.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",n),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",n)}}},[s.scrollArea,s.scrollHideDelay]),(0,p.jsx)(o.z,{present:r||a,children:(0,p.jsx)(O,{"data-state":a?"visible":"hidden",...i,ref:t})})}),w=n.forwardRef((e,t)=>{let{forceMount:r,...i}=e,s=b(T,e.__scopeScrollArea),a="horizontal"===e.orientation,l=K(()=>c("SCROLL_END"),100),[u,c]=f("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return n.useEffect(()=>{if("idle"===u){let e=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(e)}},[u,s.scrollHideDelay,c]),n.useEffect(()=>{let e=s.viewport,t=a?"scrollLeft":"scrollTop";if(e){let r=e[t],n=()=>{let n=e[t];r!==n&&(c("SCROLL"),l()),r=n};return e.addEventListener("scroll",n),()=>e.removeEventListener("scroll",n)}},[s.viewport,a,c,l]),(0,p.jsx)(o.z,{present:r||"hidden"!==u,children:(0,p.jsx)(R,{"data-state":"hidden"===u?"hidden":"visible",...i,ref:t,onPointerEnter:(0,h.M)(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:(0,h.M)(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),O=n.forwardRef((e,t)=>{let r=b(T,e.__scopeScrollArea),{forceMount:i,...s}=e,[a,l]=n.useState(!1),u="horizontal"===e.orientation,c=K(()=>{if(r.viewport){let e=r.viewport.offsetWidth<r.viewport.scrollWidth,t=r.viewport.offsetHeight<r.viewport.scrollHeight;l(u?e:t)}},10);return Y(r.viewport,c),Y(r.content,c),(0,p.jsx)(o.z,{present:i||a,children:(0,p.jsx)(R,{"data-state":a?"visible":"hidden",...s,ref:t})})}),R=n.forwardRef((e,t)=>{let{orientation:r="vertical",...i}=e,o=b(T,e.__scopeScrollArea),s=n.useRef(null),a=n.useRef(0),[l,u]=n.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=V(l.viewport,l.content),d={...i,sizes:l,onSizesChange:u,hasThumb:!!(c>0&&c<1),onThumbChange:e=>s.current=e,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:e=>a.current=e};function h(e,t){return G(e,a.current,l,t)}return"horizontal"===r?(0,p.jsx)(x,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){let e=$(o.viewport.scrollLeft,l,o.dir);s.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{o.viewport&&(o.viewport.scrollLeft=e)},onDragScroll:e=>{o.viewport&&(o.viewport.scrollLeft=h(e,o.dir))}}):"vertical"===r?(0,p.jsx)(I,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){let e=$(o.viewport.scrollTop,l);s.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{o.viewport&&(o.viewport.scrollTop=e)},onDragScroll:e=>{o.viewport&&(o.viewport.scrollTop=h(e))}}):null}),x=n.forwardRef((e,t)=>{let{sizes:r,onSizesChange:i,...o}=e,s=b(T,e.__scopeScrollArea),[l,u]=n.useState(),c=n.useRef(null),d=(0,a.e)(t,c,s.onScrollbarXChange);return n.useEffect(()=>{c.current&&u(getComputedStyle(c.current))},[c]),(0,p.jsx)(N,{"data-orientation":"horizontal",...o,ref:d,sizes:r,style:{bottom:0,left:"rtl"===s.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===s.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":z(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(s.viewport){let n=s.viewport.scrollLeft+t.deltaX;e.onWheelScroll(n),q(n,r)&&t.preventDefault()}},onResize:()=>{c.current&&s.viewport&&l&&i({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:U(l.paddingLeft),paddingEnd:U(l.paddingRight)}})}})}),I=n.forwardRef((e,t)=>{let{sizes:r,onSizesChange:i,...o}=e,s=b(T,e.__scopeScrollArea),[l,u]=n.useState(),c=n.useRef(null),d=(0,a.e)(t,c,s.onScrollbarYChange);return n.useEffect(()=>{c.current&&u(getComputedStyle(c.current))},[c]),(0,p.jsx)(N,{"data-orientation":"vertical",...o,ref:d,sizes:r,style:{top:0,right:"ltr"===s.dir?0:void 0,left:"rtl"===s.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":z(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(s.viewport){let n=s.viewport.scrollTop+t.deltaY;e.onWheelScroll(n),q(n,r)&&t.preventDefault()}},onResize:()=>{c.current&&s.viewport&&l&&i({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:U(l.paddingTop),paddingEnd:U(l.paddingBottom)}})}})}),[D,P]=g(T),N=n.forwardRef((e,t)=>{let{__scopeScrollArea:r,sizes:o,hasThumb:s,onThumbChange:u,onThumbPointerUp:c,onThumbPointerDown:d,onThumbPositionChange:f,onDragScroll:m,onWheelScroll:g,onResize:y,...v}=e,E=b(T,r),[S,_]=n.useState(null),A=(0,a.e)(t,e=>_(e)),C=n.useRef(null),w=n.useRef(""),O=E.viewport,R=o.content-o.viewport,x=(0,l.W)(g),I=(0,l.W)(f),P=K(y,10);function N(e){C.current&&m({x:e.clientX-C.current.left,y:e.clientY-C.current.top})}return n.useEffect(()=>{let e=e=>{let t=e.target;S?.contains(t)&&x(e,R)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[O,S,R,x]),n.useEffect(I,[o,I]),Y(S,P),Y(E.content,P),(0,p.jsx)(D,{scope:r,scrollbar:S,hasThumb:s,onThumbChange:(0,l.W)(u),onThumbPointerUp:(0,l.W)(c),onThumbPositionChange:I,onThumbPointerDown:(0,l.W)(d),children:(0,p.jsx)(i.WV.div,{...v,ref:A,style:{position:"absolute",...v.style},onPointerDown:(0,h.M)(e.onPointerDown,e=>{let t=0;e.button===t&&(e.target.setPointerCapture(e.pointerId),C.current=S.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",E.viewport&&(E.viewport.style.scrollBehavior="auto"),N(e))}),onPointerMove:(0,h.M)(e.onPointerMove,N),onPointerUp:(0,h.M)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=w.current,E.viewport&&(E.viewport.style.scrollBehavior=""),C.current=null})})})}),k="ScrollAreaThumb",M=n.forwardRef((e,t)=>{let{forceMount:r,...n}=e,i=P(k,e.__scopeScrollArea);return(0,p.jsx)(o.z,{present:r||i.hasThumb,children:(0,p.jsx)(L,{ref:t,...n})})}),L=n.forwardRef((e,t)=>{let{__scopeScrollArea:r,style:o,...s}=e,l=b(k,r),u=P(k,r),{onThumbPositionChange:c}=u,d=(0,a.e)(t,e=>u.onThumbChange(e)),f=n.useRef(void 0),m=K(()=>{f.current&&(f.current(),f.current=void 0)},100);return n.useEffect(()=>{let e=l.viewport;if(e){let t=()=>{if(m(),!f.current){let t=W(e,c);f.current=t,c()}};return c(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[l.viewport,m,c]),(0,p.jsx)(i.WV.div,{"data-state":u.hasThumb?"visible":"hidden",...s,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:(0,h.M)(e.onPointerDownCapture,e=>{let t=e.target.getBoundingClientRect(),r=e.clientX-t.left,n=e.clientY-t.top;u.onThumbPointerDown({x:r,y:n})}),onPointerUp:(0,h.M)(e.onPointerUp,u.onThumbPointerUp)})});M.displayName=k;var B="ScrollAreaCorner",j=n.forwardRef((e,t)=>{let r=b(B,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return"scroll"!==r.type&&n?(0,p.jsx)(F,{...e,ref:t}):null});j.displayName=B;var F=n.forwardRef((e,t)=>{let{__scopeScrollArea:r,...o}=e,s=b(B,r),[a,l]=n.useState(0),[u,c]=n.useState(0),d=!!(a&&u);return Y(s.scrollbarX,()=>{let e=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(e),c(e)}),Y(s.scrollbarY,()=>{let e=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(e),l(e)}),d?(0,p.jsx)(i.WV.div,{...o,ref:t,style:{width:a,height:u,position:"absolute",right:"ltr"===s.dir?0:void 0,left:"rtl"===s.dir?0:void 0,bottom:0,...e.style}}):null});function U(e){return e?parseInt(e,10):0}function V(e,t){let r=e/t;return isNaN(r)?0:r}function z(e){let t=V(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-r)*t,18)}function G(e,t,r,n="ltr"){let i=z(r),o=i/2,s=t||o,a=i-s,l=r.scrollbar.paddingStart+s,u=r.scrollbar.size-r.scrollbar.paddingEnd-a,c=r.content-r.viewport;return H([l,u],"ltr"===n?[0,c]:[-1*c,0])(e)}function $(e,t,r="ltr"){let n=z(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,s=t.content-t.viewport,a=o-n,l="ltr"===r?[0,s]:[-1*s,0],u=(0,d.u)(e,l);return H([0,s],[0,a])(u)}function H(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function q(e,t){return e>0&&e<t}var W=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function i(){let o={left:e.scrollLeft,top:e.scrollTop},s=r.left!==o.left,a=r.top!==o.top;(s||a)&&t(),r=o,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function K(e,t){let r=(0,l.W)(e),i=n.useRef(0);return n.useEffect(()=>()=>window.clearTimeout(i.current),[]),n.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(r,t)},[r,t])}function Y(e,t){let r=(0,l.W)(t);(0,c.b)(()=>{let t=0;if(e){let n=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(t),n.unobserve(e)}}},[e,r])}var Z=E,J=_,Q=j},34214:(e,t,r)=>{"use strict";r.d(t,{A4:()=>l,g7:()=>s});var n=r(17577),i=r(48051),o=r(10326),s=n.forwardRef((e,t)=>{let{children:r,...i}=e,s=n.Children.toArray(r),l=s.find(u);if(l){let e=l.props.children,r=s.map(t=>t!==l?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,o.jsx)(a,{...i,ref:t,children:n.isValidElement(e)?n.cloneElement(e,void 0,r):null})}return(0,o.jsx)(a,{...i,ref:t,children:r})});s.displayName="Slot";var a=n.forwardRef((e,t)=>{let{children:r,...o}=e;if(n.isValidElement(r)){let e=d(r),s=c(o,r.props);return r.type!==n.Fragment&&(s.ref=t?(0,i.F)(t,e):e),n.cloneElement(r,s)}return n.Children.count(r)>1?n.Children.only(null):null});a.displayName="SlotClone";var l=({children:e})=>(0,o.jsx)(o.Fragment,{children:e});function u(e){return n.isValidElement(e)&&e.type===l}function c(e,t){let r={...t};for(let n in t){let i=e[n],o=t[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...e)=>{o(...e),i(...e)}:i&&(r[n]=i):"style"===n?r[n]={...i,...o}:"className"===n&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function d(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}},589:(e,t,r)=>{"use strict";r.d(t,{aU:()=>eO,x8:()=>eR,dk:()=>ew,zt:()=>e_,fC:()=>eA,Dx:()=>eC,l_:()=>eT});var n,i=r(17577),o=r(60962),s=r(82561),a=r(48051),l=r(70545),u=r(93095),c=r(45226),d=r(55049);function h(e,t=globalThis?.document){let r=(0,d.W)(e);i.useEffect(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}var p=r(10326),f="DismissableLayer",m="dismissableLayer.update",g="dismissableLayer.pointerDownOutside",y="dismissableLayer.focusOutside",v=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),b=i.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,onDismiss:f,...g}=e,y=i.useContext(v),[b,E]=i.useState(null),S=b?.ownerDocument??globalThis?.document,[,C]=i.useState({}),w=(0,a.e)(t,e=>E(e)),O=Array.from(y.layers),[R]=[...y.layersWithOutsidePointerEventsDisabled].slice(-1),x=O.indexOf(R),I=b?O.indexOf(b):-1,D=y.layersWithOutsidePointerEventsDisabled.size>0,P=I>=x,N=_(e=>{let t=e.target,r=[...y.branches].some(e=>e.contains(t));!P||r||(l?.(e),d?.(e),e.defaultPrevented||f?.())},S),k=T(e=>{let t=e.target;[...y.branches].some(e=>e.contains(t))||(u?.(e),d?.(e),e.defaultPrevented||f?.())},S);return h(e=>{I!==y.layers.size-1||(o?.(e),!e.defaultPrevented&&f&&(e.preventDefault(),f()))},S),i.useEffect(()=>{if(b)return r&&(0===y.layersWithOutsidePointerEventsDisabled.size&&(n=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),y.layersWithOutsidePointerEventsDisabled.add(b)),y.layers.add(b),A(),()=>{r&&1===y.layersWithOutsidePointerEventsDisabled.size&&(S.body.style.pointerEvents=n)}},[b,S,r,y]),i.useEffect(()=>()=>{b&&(y.layers.delete(b),y.layersWithOutsidePointerEventsDisabled.delete(b),A())},[b,y]),i.useEffect(()=>{let e=()=>C({});return document.addEventListener(m,e),()=>document.removeEventListener(m,e)},[]),(0,p.jsx)(c.WV.div,{...g,ref:w,style:{pointerEvents:D?P?"auto":"none":void 0,...e.style},onFocusCapture:(0,s.M)(e.onFocusCapture,k.onFocusCapture),onBlurCapture:(0,s.M)(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:(0,s.M)(e.onPointerDownCapture,N.onPointerDownCapture)})});b.displayName=f;var E="DismissableLayerBranch",S=i.forwardRef((e,t)=>{let r=i.useContext(v),n=i.useRef(null),o=(0,a.e)(t,n);return i.useEffect(()=>{let e=n.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,p.jsx)(c.WV.div,{...e,ref:o})});function _(e,t=globalThis?.document){let r=(0,d.W)(e),n=i.useRef(!1),o=i.useRef(()=>{});return i.useEffect(()=>{let e=e=>{if(e.target&&!n.current){let n=function(){C(g,r,i,{discrete:!0})},i={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",o.current),o.current=n,t.addEventListener("click",o.current,{once:!0})):n()}else t.removeEventListener("click",o.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",e),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function T(e,t=globalThis?.document){let r=(0,d.W)(e),n=i.useRef(!1);return i.useEffect(()=>{let e=e=>{e.target&&!n.current&&C(y,r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function A(){let e=new CustomEvent(m);document.dispatchEvent(e)}function C(e,t,r,{discrete:n}){let i=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?(0,c.jH)(i,o):i.dispatchEvent(o)}S.displayName=E;var w=b,O=S,R=r(65819),x="Portal",I=i.forwardRef((e,t)=>{let{container:r,...n}=e,[s,a]=i.useState(!1);(0,R.b)(()=>a(!0),[]);let l=r||s&&globalThis?.document?.body;return l?o.createPortal((0,p.jsx)(c.WV.div,{...n,ref:t}),l):null});I.displayName=x;var D=r(9815),P=r(52067),N=r(6009),k="ToastProvider",[M,L,B]=(0,l.B)("Toast"),[j,F]=(0,u.b)("Toast",[B]),[U,V]=j(k),z=e=>{let{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:o="right",swipeThreshold:s=50,children:a}=e,[l,u]=i.useState(null),[c,d]=i.useState(0),h=i.useRef(!1),f=i.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${k}\`. Expected non-empty \`string\`.`),(0,p.jsx)(M.Provider,{scope:t,children:(0,p.jsx)(U,{scope:t,label:r,duration:n,swipeDirection:o,swipeThreshold:s,toastCount:c,viewport:l,onViewportChange:u,onToastAdd:i.useCallback(()=>d(e=>e+1),[]),onToastRemove:i.useCallback(()=>d(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:a})})};z.displayName=k;var G="ToastViewport",$=["F8"],H="toast.viewportPause",q="toast.viewportResume",W=i.forwardRef((e,t)=>{let{__scopeToast:r,hotkey:n=$,label:o="Notifications ({hotkey})",...s}=e,l=V(G,r),u=L(r),d=i.useRef(null),h=i.useRef(null),f=i.useRef(null),m=i.useRef(null),g=(0,a.e)(t,m,l.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=l.toastCount>0;i.useEffect(()=>{let e=e=>{0!==n.length&&n.every(t=>e[t]||e.code===t)&&m.current?.focus()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n]),i.useEffect(()=>{let e=d.current,t=m.current;if(v&&e&&t){let r=()=>{if(!l.isClosePausedRef.current){let e=new CustomEvent(H);t.dispatchEvent(e),l.isClosePausedRef.current=!0}},n=()=>{if(l.isClosePausedRef.current){let e=new CustomEvent(q);t.dispatchEvent(e),l.isClosePausedRef.current=!1}},i=t=>{e.contains(t.relatedTarget)||n()},o=()=>{e.contains(document.activeElement)||n()};return e.addEventListener("focusin",r),e.addEventListener("focusout",i),e.addEventListener("pointermove",r),e.addEventListener("pointerleave",o),window.addEventListener("blur",r),window.addEventListener("focus",n),()=>{e.removeEventListener("focusin",r),e.removeEventListener("focusout",i),e.removeEventListener("pointermove",r),e.removeEventListener("pointerleave",o),window.removeEventListener("blur",r),window.removeEventListener("focus",n)}}},[v,l.isClosePausedRef]);let b=i.useCallback(({tabbingDirection:e})=>{let t=u().map(t=>{let r=t.ref.current,n=[r,...eE(r)];return"forwards"===e?n:n.reverse()});return("forwards"===e?t.reverse():t).flat()},[u]);return i.useEffect(()=>{let e=m.current;if(e){let t=t=>{let r=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!r){let r=document.activeElement,n=t.shiftKey;if(t.target===e&&n){h.current?.focus();return}let i=b({tabbingDirection:n?"backwards":"forwards"}),o=i.findIndex(e=>e===r);eS(i.slice(o+1))?t.preventDefault():n?h.current?.focus():f.current?.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},[u,b]),(0,p.jsxs)(O,{ref:d,role:"region","aria-label":o.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&(0,p.jsx)(Y,{ref:h,onFocusFromOutsideViewport:()=>{eS(b({tabbingDirection:"forwards"}))}}),(0,p.jsx)(M.Slot,{scope:r,children:(0,p.jsx)(c.WV.ol,{tabIndex:-1,...s,ref:g})}),v&&(0,p.jsx)(Y,{ref:f,onFocusFromOutsideViewport:()=>{eS(b({tabbingDirection:"backwards"}))}})]})});W.displayName=G;var K="ToastFocusProxy",Y=i.forwardRef((e,t)=>{let{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,o=V(K,r);return(0,p.jsx)(N.T,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:e=>{let t=e.relatedTarget;o.viewport?.contains(t)||n()}})});Y.displayName=K;var Z="Toast",J="toast.swipeStart",Q="toast.swipeMove",X="toast.swipeCancel",ee="toast.swipeEnd",et=i.forwardRef((e,t)=>{let{forceMount:r,open:n,defaultOpen:i,onOpenChange:o,...a}=e,[l=!0,u]=(0,P.T)({prop:n,defaultProp:i,onChange:o});return(0,p.jsx)(D.z,{present:r||l,children:(0,p.jsx)(ei,{open:l,...a,ref:t,onClose:()=>u(!1),onPause:(0,d.W)(e.onPause),onResume:(0,d.W)(e.onResume),onSwipeStart:(0,s.M)(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:(0,s.M)(e.onSwipeMove,e=>{let{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${r}px`)}),onSwipeCancel:(0,s.M)(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:(0,s.M)(e.onSwipeEnd,e=>{let{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${r}px`),u(!1)})})})});et.displayName=Z;var[er,en]=j(Z,{onClose(){}}),ei=i.forwardRef((e,t)=>{let{__scopeToast:r,type:n="foreground",duration:l,open:u,onClose:h,onEscapeKeyDown:f,onPause:m,onResume:g,onSwipeStart:y,onSwipeMove:v,onSwipeCancel:b,onSwipeEnd:E,...S}=e,_=V(Z,r),[T,A]=i.useState(null),C=(0,a.e)(t,e=>A(e)),O=i.useRef(null),R=i.useRef(null),x=l||_.duration,I=i.useRef(0),D=i.useRef(x),P=i.useRef(0),{onToastAdd:N,onToastRemove:k}=_,L=(0,d.W)(()=>{T?.contains(document.activeElement)&&_.viewport?.focus(),h()}),B=i.useCallback(e=>{e&&e!==1/0&&(window.clearTimeout(P.current),I.current=new Date().getTime(),P.current=window.setTimeout(L,e))},[L]);i.useEffect(()=>{let e=_.viewport;if(e){let t=()=>{B(D.current),g?.()},r=()=>{let e=new Date().getTime()-I.current;D.current=D.current-e,window.clearTimeout(P.current),m?.()};return e.addEventListener(H,r),e.addEventListener(q,t),()=>{e.removeEventListener(H,r),e.removeEventListener(q,t)}}},[_.viewport,x,m,g,B]),i.useEffect(()=>{u&&!_.isClosePausedRef.current&&B(x)},[u,x,_.isClosePausedRef,B]),i.useEffect(()=>(N(),()=>k()),[N,k]);let j=i.useMemo(()=>T?em(T):null,[T]);return _.viewport?(0,p.jsxs)(p.Fragment,{children:[j&&(0,p.jsx)(eo,{__scopeToast:r,role:"status","aria-live":"foreground"===n?"assertive":"polite","aria-atomic":!0,children:j}),(0,p.jsx)(er,{scope:r,onClose:L,children:o.createPortal((0,p.jsx)(M.ItemSlot,{scope:r,children:(0,p.jsx)(w,{asChild:!0,onEscapeKeyDown:(0,s.M)(f,()=>{_.isFocusedToastEscapeKeyDownRef.current||L(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:(0,p.jsx)(c.WV.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":u?"open":"closed","data-swipe-direction":_.swipeDirection,...S,ref:C,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:(0,s.M)(e.onKeyDown,e=>{"Escape"!==e.key||(f?.(e.nativeEvent),e.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:(0,s.M)(e.onPointerDown,e=>{0===e.button&&(O.current={x:e.clientX,y:e.clientY})}),onPointerMove:(0,s.M)(e.onPointerMove,e=>{if(!O.current)return;let t=e.clientX-O.current.x,r=e.clientY-O.current.y,n=!!R.current,i=["left","right"].includes(_.swipeDirection),o=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,s=i?o(0,t):0,a=i?0:o(0,r),l="touch"===e.pointerType?10:2,u={x:s,y:a},c={originalEvent:e,delta:u};n?(R.current=u,eg(Q,v,c,{discrete:!1})):ey(u,_.swipeDirection,l)?(R.current=u,eg(J,y,c,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(r)>l)&&(O.current=null)}),onPointerUp:(0,s.M)(e.onPointerUp,e=>{let t=R.current,r=e.target;if(r.hasPointerCapture(e.pointerId)&&r.releasePointerCapture(e.pointerId),R.current=null,O.current=null,t){let r=e.currentTarget,n={originalEvent:e,delta:t};ey(t,_.swipeDirection,_.swipeThreshold)?eg(ee,E,n,{discrete:!0}):eg(X,b,n,{discrete:!0}),r.addEventListener("click",e=>e.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),eo=e=>{let{__scopeToast:t,children:r,...n}=e,o=V(Z,t),[s,a]=i.useState(!1),[l,u]=i.useState(!1);return ev(()=>a(!0)),i.useEffect(()=>{let e=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(e)},[]),l?null:(0,p.jsx)(I,{asChild:!0,children:(0,p.jsx)(N.T,{...n,children:s&&(0,p.jsxs)(p.Fragment,{children:[o.label," ",r]})})})},es="ToastTitle",ea=i.forwardRef((e,t)=>{let{__scopeToast:r,...n}=e;return(0,p.jsx)(c.WV.div,{...n,ref:t})});ea.displayName=es;var el="ToastDescription",eu=i.forwardRef((e,t)=>{let{__scopeToast:r,...n}=e;return(0,p.jsx)(c.WV.div,{...n,ref:t})});eu.displayName=el;var ec="ToastAction",ed=i.forwardRef((e,t)=>{let{altText:r,...n}=e;return r.trim()?(0,p.jsx)(ef,{altText:r,asChild:!0,children:(0,p.jsx)(ep,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${ec}\`. Expected non-empty \`string\`.`),null)});ed.displayName=ec;var eh="ToastClose",ep=i.forwardRef((e,t)=>{let{__scopeToast:r,...n}=e,i=en(eh,r);return(0,p.jsx)(ef,{asChild:!0,children:(0,p.jsx)(c.WV.button,{type:"button",...n,ref:t,onClick:(0,s.M)(e.onClick,i.onClose)})})});ep.displayName=eh;var ef=i.forwardRef((e,t)=>{let{__scopeToast:r,altText:n,...i}=e;return(0,p.jsx)(c.WV.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function em(e){let t=[];return Array.from(e.childNodes).forEach(e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),eb(e)){let r=e.ariaHidden||e.hidden||"none"===e.style.display,n=""===e.dataset.radixToastAnnounceExclude;if(!r){if(n){let r=e.dataset.radixToastAnnounceAlt;r&&t.push(r)}else t.push(...em(e))}}}),t}function eg(e,t,r,{discrete:n}){let i=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?(0,c.jH)(i,o):i.dispatchEvent(o)}var ey=(e,t,r=0)=>{let n=Math.abs(e.x),i=Math.abs(e.y),o=n>i;return"left"===t||"right"===t?o&&n>r:!o&&i>r};function ev(e=()=>{}){let t=(0,d.W)(e);(0,R.b)(()=>{let e=0,r=0;return e=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(r)}},[t])}function eb(e){return e.nodeType===e.ELEMENT_NODE}function eE(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function eS(e){let t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}var e_=z,eT=W,eA=et,eC=ea,ew=eu,eO=ed,eR=ep},76145:(e,t,r)=>{"use strict";r.d(t,{VY:()=>ed,zt:()=>el,fC:()=>eu,xz:()=>ec});var n,i=r(17577),o=r(82561),s=r(48051),a=r(93095),l=r(45226),u=r(55049);function c(e,t=globalThis?.document){let r=(0,u.W)(e);i.useEffect(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}var d=r(10326),h="DismissableLayer",p="dismissableLayer.update",f="dismissableLayer.pointerDownOutside",m="dismissableLayer.focusOutside",g=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),y=i.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:m,...y}=e,v=i.useContext(g),[_,T]=i.useState(null),A=_?.ownerDocument??globalThis?.document,[,C]=i.useState({}),w=(0,s.e)(t,e=>T(e)),O=Array.from(v.layers),[R]=[...v.layersWithOutsidePointerEventsDisabled].slice(-1),x=O.indexOf(R),I=_?O.indexOf(_):-1,D=v.layersWithOutsidePointerEventsDisabled.size>0,P=I>=x,N=b(e=>{let t=e.target,r=[...v.branches].some(e=>e.contains(t));!P||r||(u?.(e),f?.(e),e.defaultPrevented||m?.())},A),k=E(e=>{let t=e.target;[...v.branches].some(e=>e.contains(t))||(h?.(e),f?.(e),e.defaultPrevented||m?.())},A);return c(e=>{I!==v.layers.size-1||(a?.(e),!e.defaultPrevented&&m&&(e.preventDefault(),m()))},A),i.useEffect(()=>{if(_)return r&&(0===v.layersWithOutsidePointerEventsDisabled.size&&(n=A.body.style.pointerEvents,A.body.style.pointerEvents="none"),v.layersWithOutsidePointerEventsDisabled.add(_)),v.layers.add(_),S(),()=>{r&&1===v.layersWithOutsidePointerEventsDisabled.size&&(A.body.style.pointerEvents=n)}},[_,A,r,v]),i.useEffect(()=>()=>{_&&(v.layers.delete(_),v.layersWithOutsidePointerEventsDisabled.delete(_),S())},[_,v]),i.useEffect(()=>{let e=()=>C({});return document.addEventListener(p,e),()=>document.removeEventListener(p,e)},[]),(0,d.jsx)(l.WV.div,{...y,ref:w,style:{pointerEvents:D?P?"auto":"none":void 0,...e.style},onFocusCapture:(0,o.M)(e.onFocusCapture,k.onFocusCapture),onBlurCapture:(0,o.M)(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:(0,o.M)(e.onPointerDownCapture,N.onPointerDownCapture)})});y.displayName=h;var v="DismissableLayerBranch";function b(e,t=globalThis?.document){let r=(0,u.W)(e),n=i.useRef(!1),o=i.useRef(()=>{});return i.useEffect(()=>{let e=e=>{if(e.target&&!n.current){let n=function(){_(f,r,i,{discrete:!0})},i={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",o.current),o.current=n,t.addEventListener("click",o.current,{once:!0})):n()}else t.removeEventListener("click",o.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",e),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function E(e,t=globalThis?.document){let r=(0,u.W)(e),n=i.useRef(!1);return i.useEffect(()=>{let e=e=>{e.target&&!n.current&&_(m,r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function S(){let e=new CustomEvent(p);document.dispatchEvent(e)}function _(e,t,r,{discrete:n}){let i=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?(0,l.jH)(i,o):i.dispatchEvent(o)}i.forwardRef((e,t)=>{let r=i.useContext(g),n=i.useRef(null),o=(0,s.e)(t,n);return i.useEffect(()=>{let e=n.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,d.jsx)(l.WV.div,{...e,ref:o})}).displayName=v;var T=r(88957),A=r(9625),C=r(60962),w=r(65819),O="Portal";i.forwardRef((e,t)=>{let{container:r,...n}=e,[o,s]=i.useState(!1);(0,w.b)(()=>s(!0),[]);let a=r||o&&globalThis?.document?.body;return a?C.createPortal((0,d.jsx)(l.WV.div,{...n,ref:t}),a):null}).displayName=O;var R=r(9815),x=r(34214),I=r(52067),D=r(6009),[P,N]=(0,a.b)("Tooltip",[A.D7]),k=(0,A.D7)(),M="TooltipProvider",L=700,B="tooltip.open",[j,F]=P(M),U=e=>{let{__scopeTooltip:t,delayDuration:r=L,skipDelayDuration:n=300,disableHoverableContent:o=!1,children:s}=e,[a,l]=i.useState(!0),u=i.useRef(!1),c=i.useRef(0);return i.useEffect(()=>{let e=c.current;return()=>window.clearTimeout(e)},[]),(0,d.jsx)(j,{scope:t,isOpenDelayed:a,delayDuration:r,onOpen:i.useCallback(()=>{window.clearTimeout(c.current),l(!1)},[]),onClose:i.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:u,onPointerInTransitChange:i.useCallback(e=>{u.current=e},[]),disableHoverableContent:o,children:s})};U.displayName=M;var V="Tooltip",[z,G]=P(V),$=e=>{let{__scopeTooltip:t,children:r,open:n,defaultOpen:o=!1,onOpenChange:s,disableHoverableContent:a,delayDuration:l}=e,u=F(V,e.__scopeTooltip),c=k(t),[h,p]=i.useState(null),f=(0,T.M)(),m=i.useRef(0),g=a??u.disableHoverableContent,y=l??u.delayDuration,v=i.useRef(!1),[b=!1,E]=(0,I.T)({prop:n,defaultProp:o,onChange:e=>{e?(u.onOpen(),document.dispatchEvent(new CustomEvent(B))):u.onClose(),s?.(e)}}),S=i.useMemo(()=>b?v.current?"delayed-open":"instant-open":"closed",[b]),_=i.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v.current=!1,E(!0)},[E]),C=i.useCallback(()=>{window.clearTimeout(m.current),m.current=0,E(!1)},[E]),w=i.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{v.current=!0,E(!0),m.current=0},y)},[y,E]);return i.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),(0,d.jsx)(A.fC,{...c,children:(0,d.jsx)(z,{scope:t,contentId:f,open:b,stateAttribute:S,trigger:h,onTriggerChange:p,onTriggerEnter:i.useCallback(()=>{u.isOpenDelayed?w():_()},[u.isOpenDelayed,w,_]),onTriggerLeave:i.useCallback(()=>{g?C():(window.clearTimeout(m.current),m.current=0)},[C,g]),onOpen:_,onClose:C,disableHoverableContent:g,children:r})})};$.displayName=V;var H="TooltipTrigger",q=i.forwardRef((e,t)=>{let{__scopeTooltip:r,...n}=e,a=G(H,r),u=F(H,r),c=k(r),h=i.useRef(null),p=(0,s.e)(t,h,a.onTriggerChange),f=i.useRef(!1),m=i.useRef(!1),g=i.useCallback(()=>f.current=!1,[]);return i.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),(0,d.jsx)(A.ee,{asChild:!0,...c,children:(0,d.jsx)(l.WV.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:p,onPointerMove:(0,o.M)(e.onPointerMove,e=>{"touch"===e.pointerType||m.current||u.isPointerInTransitRef.current||(a.onTriggerEnter(),m.current=!0)}),onPointerLeave:(0,o.M)(e.onPointerLeave,()=>{a.onTriggerLeave(),m.current=!1}),onPointerDown:(0,o.M)(e.onPointerDown,()=>{f.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:(0,o.M)(e.onFocus,()=>{f.current||a.onOpen()}),onBlur:(0,o.M)(e.onBlur,a.onClose),onClick:(0,o.M)(e.onClick,a.onClose)})})});q.displayName=H;var[W,K]=P("TooltipPortal",{forceMount:void 0}),Y="TooltipContent",Z=i.forwardRef((e,t)=>{let r=K(Y,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...o}=e,s=G(Y,e.__scopeTooltip);return(0,d.jsx)(R.z,{present:n||s.open,children:s.disableHoverableContent?(0,d.jsx)(ee,{side:i,...o,ref:t}):(0,d.jsx)(J,{side:i,...o,ref:t})})}),J=i.forwardRef((e,t)=>{let r=G(Y,e.__scopeTooltip),n=F(Y,e.__scopeTooltip),o=i.useRef(null),a=(0,s.e)(t,o),[l,u]=i.useState(null),{trigger:c,onClose:h}=r,p=o.current,{onPointerInTransitChange:f}=n,m=i.useCallback(()=>{u(null),f(!1)},[f]),g=i.useCallback((e,t)=>{let r=e.currentTarget,n={x:e.clientX,y:e.clientY},i=er(n,r.getBoundingClientRect());u(es([...en(n,i),...ei(t.getBoundingClientRect())])),f(!0)},[f]);return i.useEffect(()=>()=>m(),[m]),i.useEffect(()=>{if(c&&p){let e=e=>g(e,p),t=e=>g(e,c);return c.addEventListener("pointerleave",e),p.addEventListener("pointerleave",t),()=>{c.removeEventListener("pointerleave",e),p.removeEventListener("pointerleave",t)}}},[c,p,g,m]),i.useEffect(()=>{if(l){let e=e=>{let t=e.target,r={x:e.clientX,y:e.clientY},n=c?.contains(t)||p?.contains(t),i=!eo(r,l);n?m():i&&(m(),h())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[c,p,l,h,m]),(0,d.jsx)(ee,{...e,ref:a})}),[Q,X]=P(V,{isInside:!1}),ee=i.forwardRef((e,t)=>{let{__scopeTooltip:r,children:n,"aria-label":o,onEscapeKeyDown:s,onPointerDownOutside:a,...l}=e,u=G(Y,r),c=k(r),{onClose:h}=u;return i.useEffect(()=>(document.addEventListener(B,h),()=>document.removeEventListener(B,h)),[h]),i.useEffect(()=>{if(u.trigger){let e=e=>{let t=e.target;t?.contains(u.trigger)&&h()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[u.trigger,h]),(0,d.jsx)(y,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:e=>e.preventDefault(),onDismiss:h,children:(0,d.jsxs)(A.VY,{"data-state":u.stateAttribute,...c,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,d.jsx)(x.A4,{children:n}),(0,d.jsx)(Q,{scope:r,isInside:!0,children:(0,d.jsx)(D.f,{id:u.contentId,role:"tooltip",children:o||n})})]})})});Z.displayName=Y;var et="TooltipArrow";function er(e,t){let r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,i,o)){case o:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw Error("unreachable")}}function en(e,t,r=5){let n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return n}function ei(e){let{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function eo(e,t){let{x:r,y:n}=e,i=!1;for(let e=0,o=t.length-1;e<t.length;o=e++){let s=t[e].x,a=t[e].y,l=t[o].x,u=t[o].y;a>n!=u>n&&r<(l-s)*(n-a)/(u-a)+s&&(i=!i)}return i}function es(e){let t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),ea(t)}function ea(e){if(e.length<=1)return e.slice();let t=[];for(let r=0;r<e.length;r++){let n=e[r];for(;t.length>=2;){let e=t[t.length-1],r=t[t.length-2];if((e.x-r.x)*(n.y-r.y)>=(e.y-r.y)*(n.x-r.x))t.pop();else break}t.push(n)}t.pop();let r=[];for(let t=e.length-1;t>=0;t--){let n=e[t];for(;r.length>=2;){let e=r[r.length-1],t=r[r.length-2];if((e.x-t.x)*(n.y-t.y)>=(e.y-t.y)*(n.x-t.x))r.pop();else break}r.push(n)}return(r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y)?t:t.concat(r)}i.forwardRef((e,t)=>{let{__scopeTooltip:r,...n}=e,i=k(r);return X(et,r).isInside?null:(0,d.jsx)(A.Eh,{...i,...n,ref:t})}).displayName=et;var el=U,eu=$,ec=q,ed=Z},55049:(e,t,r)=>{"use strict";r.d(t,{W:()=>i});var n=r(17577);function i(e){let t=n.useRef(e);return n.useEffect(()=>{t.current=e}),n.useMemo(()=>(...e)=>t.current?.(...e),[])}},52067:(e,t,r)=>{"use strict";r.d(t,{T:()=>o});var n=r(17577),i=r(55049);function o({prop:e,defaultProp:t,onChange:r=()=>{}}){let[o,a]=s({defaultProp:t,onChange:r}),l=void 0!==e,u=l?e:o,c=(0,i.W)(r);return[u,n.useCallback(t=>{if(l){let r=t,n="function"==typeof t?r(e):t;n!==e&&c(n)}else a(t)},[l,e,a,c])]}function s({defaultProp:e,onChange:t}){let r=n.useState(e),[o]=r,s=n.useRef(o),a=(0,i.W)(t);return n.useEffect(()=>{s.current!==o&&(a(o),s.current=o)},[o,s,a]),r}},65819:(e,t,r)=>{"use strict";r.d(t,{b:()=>i});var n=r(17577),i=globalThis?.document?n.useLayoutEffect:()=>{}},6009:(e,t,r)=>{"use strict";r.d(t,{T:()=>a,f:()=>l});var n=r(17577),i=r(45226),o=r(10326),s="VisuallyHidden",a=n.forwardRef((e,t)=>(0,o.jsx)(i.WV.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));a.displayName=s;var l=a},82478:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var n=`{
  "connect_wallet": {
    "label": "Connect Wallet",
    "wrong_network": {
      "label": "Wrong network"
    }
  },

  "intro": {
    "title": "What is a Wallet?",
    "description": "A wallet is used to send, receive, store, and display digital assets. It's also a new way to log in, without needing to create new accounts and passwords on every website.",
    "digital_asset": {
      "title": "A Home for your Digital Assets",
      "description": "Wallets are used to send, receive, store, and display digital assets like Ethereum and NFTs."
    },
    "login": {
      "title": "A New Way to Log In",
      "description": "Instead of creating new accounts and passwords on every website, just connect your wallet."
    },
    "get": {
      "label": "Get a Wallet"
    },
    "learn_more": {
      "label": "Learn More"
    }
  },

  "sign_in": {
    "label": "Verify your account",
    "description": "To finish connecting, you must sign a message in your wallet to verify that you are the owner of this account.",
    "message": {
      "send": "Sign message",
      "preparing": "Preparing message...",
      "cancel": "Cancel",
      "preparing_error": "Error preparing message, please retry!"
    },
    "signature": {
      "waiting": "Waiting for signature...",
      "verifying": "Verifying signature...",
      "signing_error": "Error signing message, please retry!",
      "verifying_error": "Error verifying signature, please retry!",
      "oops_error": "Oops, something went wrong!"
    }
  },

  "connect": {
    "label": "Connect",
    "title": "Connect a Wallet",
    "new_to_ethereum": {
      "description": "New to Ethereum wallets?",
      "learn_more": {
        "label": "Learn More"
      }
    },
    "learn_more": {
      "label": "Learn more"
    },
    "recent": "Recent",
    "status": {
      "opening": "Opening %{wallet}...",
      "connecting": "Connecting",
      "connect_mobile": "Continue in %{wallet}",
      "not_installed": "%{wallet} is not installed",
      "not_available": "%{wallet} is not available",
      "confirm": "Confirm connection in the extension",
      "confirm_mobile": "Accept connection request in the wallet"
    },
    "secondary_action": {
      "get": {
        "description": "Don't have %{wallet}?",
        "label": "GET"
      },
      "install": {
        "label": "INSTALL"
      },
      "retry": {
        "label": "RETRY"
      }
    },
    "walletconnect": {
      "description": {
        "full": "Need the official WalletConnect modal?",
        "compact": "Need the WalletConnect modal?"
      },
      "open": {
        "label": "OPEN"
      }
    }
  },

  "connect_scan": {
    "title": "Scan with %{wallet}",
    "fallback_title": "Scan with your phone"
  },

  "connector_group": {
    "installed": "Installed",
    "recommended": "Recommended",
    "other": "Other",
    "popular": "Popular",
    "more": "More",
    "others": "Others"
  },

  "get": {
    "title": "Get a Wallet",
    "action": {
      "label": "GET"
    },
    "mobile": {
      "description": "Mobile Wallet"
    },
    "extension": {
      "description": "Browser Extension"
    },
    "mobile_and_extension": {
      "description": "Mobile Wallet and Extension"
    },
    "mobile_and_desktop": {
      "description": "Mobile and Desktop Wallet"
    },
    "looking_for": {
      "title": "Not what you're looking for?",
      "mobile": {
        "description": "Select a wallet on the main screen to get started with a different wallet provider."
      },
      "desktop": {
        "compact_description": "Select a wallet on the main screen to get started with a different wallet provider.",
        "wide_description": "Select a wallet on the left to get started with a different wallet provider."
      }
    }
  },

  "get_options": {
    "title": "Get started with %{wallet}",
    "short_title": "Get %{wallet}",
    "mobile": {
      "title": "%{wallet} for Mobile",
      "description": "Use the mobile wallet to explore the world of Ethereum.",
      "download": {
        "label": "Get the app"
      }
    },
    "extension": {
      "title": "%{wallet} for %{browser}",
      "description": "Access your wallet right from your favorite web browser.",
      "download": {
        "label": "Add to %{browser}"
      }
    },
    "desktop": {
      "title": "%{wallet} for %{platform}",
      "description": "Access your wallet natively from your powerful desktop.",
      "download": {
        "label": "Add to %{platform}"
      }
    }
  },

  "get_mobile": {
    "title": "Install %{wallet}",
    "description": "Scan with your phone to download on iOS or Android",
    "continue": {
      "label": "Continue"
    }
  },

  "get_instructions": {
    "mobile": {
      "connect": {
        "label": "Connect"
      },
      "learn_more": {
        "label": "Learn More"
      }
    },
    "extension": {
      "refresh": {
        "label": "Refresh"
      },
      "learn_more": {
        "label": "Learn More"
      }
    },
    "desktop": {
      "connect": {
        "label": "Connect"
      },
      "learn_more": {
        "label": "Learn More"
      }
    }
  },

  "chains": {
    "title": "Switch Networks",
    "wrong_network": "Wrong network detected, switch or disconnect to continue.",
    "confirm": "Confirm in Wallet",
    "switching_not_supported": "Your wallet does not support switching networks from %{appName}. Try switching networks from within your wallet instead.",
    "switching_not_supported_fallback": "Your wallet does not support switching networks from this app. Try switching networks from within your wallet instead.",
    "disconnect": "Disconnect",
    "connected": "Connected"
  },

  "profile": {
    "disconnect": {
      "label": "Disconnect"
    },
    "copy_address": {
      "label": "Copy Address",
      "copied": "Copied!"
    },
    "explorer": {
      "label": "View more on explorer"
    },
    "transactions": {
      "description": "%{appName} transactions will appear here...",
      "description_fallback": "Your transactions will appear here...",
      "recent": {
        "title": "Recent Transactions"
      },
      "clear": {
        "label": "Clear All"
      }
    }
  },

  "wallet_connectors": {
    "argent": {
      "qr_code": {
        "step1": {
          "description": "Put Argent on your home screen for faster access to your wallet.",
          "title": "Open the Argent app"
        },
        "step2": {
          "description": "Create a wallet and username, or import an existing wallet.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "bifrost": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bifrost Wallet on your home screen for quicker access.",
          "title": "Open the Bifrost Wallet app"
        },
        "step2": {
          "description": "Create or import a wallet using your recovery phrase.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "bitget": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bitget Wallet on your home screen for quicker access.",
          "title": "Open the Bitget Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Bitget Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Bitget Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "bitski": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Bitski to your taskbar for quicker access to your wallet.",
          "title": "Install the Bitski extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "bitverse": {
      "qr_code": {
        "step1": {
          "title": "Open the Bitverse Wallet app",
          "description": "Add Bitverse Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "bloom": {
      "desktop": {
        "step1": {
          "title": "Open the Bloom Wallet app",
          "description": "We recommend putting Bloom Wallet on your home screen for quicker access."
        },
        "step2": {
          "description": "Create or import a wallet using your recovery phrase.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you have a wallet, click on Connect to connect via Bloom. A connection prompt in the app will appear for you to confirm the connection.",
          "title": "Click on Connect"
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Bloom Wallet app",
          "description": "We recommend putting Bloom Wallet on your home screen for quicker access."
        },
        "step2": {
          "description": "Create or import a wallet using your recovery phrase.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you have a wallet, click on Connect to connect via Bloom. A connection prompt in the app will appear for you to confirm the connection.",
          "title": "Click on Connect"
        }
      }
    },

    "bybit": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Bybit on your home screen for faster access to your wallet.",
          "title": "Open the Bybit app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "Click at the top right of your browser and pin Bybit Wallet for easy access.",
          "title": "Install the Bybit Wallet extension"
        },
        "step2": {
          "description": "Create a new wallet or import an existing one.",
          "title": "Create or Import a wallet"
        },
        "step3": {
          "description": "Once you set up Bybit Wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "coin98": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Coin98 Wallet on your home screen for faster access to your wallet.",
          "title": "Open the Coin98 Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },

      "extension": {
        "step1": {
          "description": "Click at the top right of your browser and pin Coin98 Wallet for easy access.",
          "title": "Install the Coin98 Wallet extension"
        },
        "step2": {
          "description": "Create a new wallet or import an existing one.",
          "title": "Create or Import a wallet"
        },
        "step3": {
          "description": "Once you set up Coin98 Wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "coinbase": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Coinbase Wallet on your home screen for quicker access.",
          "title": "Open the Coinbase Wallet app"
        },
        "step2": {
          "description": "You can easily backup your wallet using the cloud backup feature.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Coinbase Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Coinbase Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "core": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Core on your home screen for faster access to your wallet.",
          "title": "Open the Core app"
        },
        "step2": {
          "description": "You can easily backup your wallet using our backup feature on your phone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the WalletConnect button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Core to your taskbar for quicker access to your wallet.",
          "title": "Install the Core extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "fox": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting FoxWallet on your home screen for quicker access.",
          "title": "Open the FoxWallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      }
    },

    "frontier": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Frontier Wallet on your home screen for quicker access.",
          "title": "Open the Frontier Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Frontier Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Frontier Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "im_token": {
      "qr_code": {
        "step1": {
          "title": "Open the imToken app",
          "description": "Put imToken app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "kaikas": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Kaikas to your taskbar for quicker access to your wallet.",
          "title": "Install the Kaikas extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Kaikas app",
          "description": "Put Kaikas app on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap Scanner Icon in top right corner",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "kresus": {
      "qr_code": {
        "step1": {
          "title": "Open the Kresus Wallet app",
          "description": "Add Kresus Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "metamask": {
      "qr_code": {
        "step1": {
          "title": "Open the MetaMask app",
          "description": "We recommend putting MetaMask on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the MetaMask extension",
          "description": "We recommend pinning MetaMask to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "okx": {
      "qr_code": {
        "step1": {
          "title": "Open the OKX Wallet app",
          "description": "We recommend putting OKX Wallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the OKX Wallet extension",
          "description": "We recommend pinning OKX Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "omni": {
      "qr_code": {
        "step1": {
          "title": "Open the Omni app",
          "description": "Add Omni to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your home screen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "1inch": {
      "qr_code": {
        "step1": {
          "description": "Put 1inch Wallet on your home screen for faster access to your wallet.",
          "title": "Open the 1inch Wallet app"
        },
        "step2": {
          "description": "Create a wallet and username, or import an existing wallet.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the Scan QR button"
        }
      }
    },

    "token_pocket": {
      "qr_code": {
        "step1": {
          "title": "Open the TokenPocket app",
          "description": "We recommend putting TokenPocket on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the TokenPocket extension",
          "description": "We recommend pinning TokenPocket to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "trust": {
      "qr_code": {
        "step1": {
          "title": "Open the Trust Wallet app",
          "description": "Put Trust Wallet on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the Trust Wallet extension",
          "description": "Click at the top right of your browser and pin Trust Wallet for easy access."
        },
        "step2": {
          "title": "Create or Import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up Trust Wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "uniswap": {
      "qr_code": {
        "step1": {
          "title": "Open the Uniswap app",
          "description": "Add Uniswap Wallet to your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap the QR icon and scan",
          "description": "Tap the QR icon on your homescreen, scan the code and confirm the prompt to connect."
        }
      }
    },

    "zerion": {
      "qr_code": {
        "step1": {
          "title": "Open the Zerion app",
          "description": "We recommend putting Zerion on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      },

      "extension": {
        "step1": {
          "title": "Install the Zerion extension",
          "description": "We recommend pinning Zerion to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "rainbow": {
      "qr_code": {
        "step1": {
          "title": "Open the Rainbow app",
          "description": "We recommend putting Rainbow on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "You can easily backup your wallet using our backup feature on your phone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "enkrypt": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Enkrypt Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Enkrypt Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "frame": {
      "extension": {
        "step1": {
          "description": "We recommend pinning Frame to your taskbar for quicker access to your wallet.",
          "title": "Install Frame & the companion extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "one_key": {
      "extension": {
        "step1": {
          "title": "Install the OneKey Wallet extension",
          "description": "We recommend pinning OneKey Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "phantom": {
      "extension": {
        "step1": {
          "title": "Install the Phantom extension",
          "description": "We recommend pinning Phantom to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "rabby": {
      "extension": {
        "step1": {
          "title": "Install the Rabby extension",
          "description": "We recommend pinning Rabby to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "ronin": {
      "qr_code": {
        "step1": {
          "description": "We recommend putting Ronin Wallet on your home screen for quicker access.",
          "title": "Open the Ronin Wallet app"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "After you scan, a connection prompt will appear for you to connect your wallet.",
          "title": "Tap the scan button"
        }
      },

      "extension": {
        "step1": {
          "description": "We recommend pinning Ronin Wallet to your taskbar for quicker access to your wallet.",
          "title": "Install the Ronin Wallet extension"
        },
        "step2": {
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",
          "title": "Create or Import a Wallet"
        },
        "step3": {
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension.",
          "title": "Refresh your browser"
        }
      }
    },

    "ramper": {
      "extension": {
        "step1": {
          "title": "Install the Ramper extension",
          "description": "We recommend pinning Ramper to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "safeheron": {
      "extension": {
        "step1": {
          "title": "Install the Core extension",
          "description": "We recommend pinning Safeheron to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "taho": {
      "extension": {
        "step1": {
          "title": "Install the Taho extension",
          "description": "We recommend pinning Taho to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "talisman": {
      "extension": {
        "step1": {
          "title": "Install the Talisman extension",
          "description": "We recommend pinning Talisman to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import an Ethereum Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "xdefi": {
      "extension": {
        "step1": {
          "title": "Install the XDEFI Wallet extension",
          "description": "We recommend pinning XDEFI Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "zeal": {
      "extension": {
        "step1": {
          "title": "Install the Zeal extension",
          "description": "We recommend pinning Zeal to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "safepal": {
      "extension": {
        "step1": {
          "title": "Install the SafePal Wallet extension",
          "description": "Click at the top right of your browser and pin SafePal Wallet for easy access."
        },
        "step2": {
          "title": "Create or Import a wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up SafePal Wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the SafePal Wallet app",
          "description": "Put SafePal Wallet on your home screen for faster access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Create a new wallet or import an existing one."
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Choose New Connection, then scan the QR code and confirm the prompt to connect."
        }
      }
    },

    "desig": {
      "extension": {
        "step1": {
          "title": "Install the Desig extension",
          "description": "We recommend pinning Desig to your taskbar for easier access to your wallet."
        },
        "step2": {
          "title": "Create a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      }
    },

    "subwallet": {
      "extension": {
        "step1": {
          "title": "Install the SubWallet extension",
          "description": "We recommend pinning SubWallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your recovery phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the SubWallet app",
          "description": "We recommend putting SubWallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "clv": {
      "extension": {
        "step1": {
          "title": "Install the CLV Wallet extension",
          "description": "We recommend pinning CLV Wallet to your taskbar for quicker access to your wallet."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Refresh your browser",
          "description": "Once you set up your wallet, click below to refresh the browser and load up the extension."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the CLV Wallet app",
          "description": "We recommend putting CLV Wallet on your home screen for quicker access."
        },
        "step2": {
          "title": "Create or Import a Wallet",
          "description": "Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone."
        },
        "step3": {
          "title": "Tap the scan button",
          "description": "After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    },

    "okto": {
      "qr_code": {
        "step1": {
          "title": "Open the Okto app",
          "description": "Add Okto to your home screen for quick access"
        },
        "step2": {
          "title": "Create an MPC Wallet",
          "description": "Create an account and generate a wallet"
        },
        "step3": {
          "title": "Tap WalletConnect in Settings",
          "description": "Tap the Scan QR icon at the top right and confirm the prompt to connect."
        }
      }
    },

    "ledger": {
      "desktop": {
        "step1": {
          "title": "Open the Ledger Live app",
          "description": "We recommend putting Ledger Live on your home screen for quicker access."
        },
        "step2": {
          "title": "Set up your Ledger",
          "description": "Set up a new Ledger or connect to an existing one."
        },
        "step3": {
          "title": "Connect",
          "description": "A connection prompt will appear for you to connect your wallet."
        }
      },
      "qr_code": {
        "step1": {
          "title": "Open the Ledger Live app",
          "description": "We recommend putting Ledger Live on your home screen for quicker access."
        },
        "step2": {
          "title": "Set up your Ledger",
          "description": "You can either sync with the desktop app or connect your Ledger."
        },
        "step3": {
          "title": "Scan the code",
          "description": "Tap WalletConnect then Switch to Scanner. After you scan, a connection prompt will appear for you to connect your wallet."
        }
      }
    }
  }
}
`},77975:(e,t,r)=>{"use strict";let n,i,o,s,a,l,u,c,d,h,p,f,m,g,y,v,b,E;r.d(t,{NL:()=>c0,pj:()=>uc,a3:()=>c6,vX:()=>dd});var S,_,T='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',A={rounded:`SFRounded, ui-rounded, "SF Pro Rounded", ${T}`,system:T},C={large:{actionButton:"9999px",connectButton:"12px",modal:"24px",modalMobile:"28px"},medium:{actionButton:"10px",connectButton:"8px",modal:"16px",modalMobile:"18px"},none:{actionButton:"0px",connectButton:"0px",modal:"0px",modalMobile:"0px"},small:{actionButton:"4px",connectButton:"4px",modal:"8px",modalMobile:"8px"}},w={large:{modalOverlay:"blur(20px)"},none:{modalOverlay:"blur(0px)"},small:{modalOverlay:"blur(4px)"}},O=({borderRadius:e="large",fontStack:t="rounded",overlayBlur:r="none"})=>({blurs:{modalOverlay:w[r].modalOverlay},fonts:{body:A[t]},radii:{actionButton:C[e].actionButton,connectButton:C[e].connectButton,menuButton:C[e].connectButton,modal:C[e].modal,modalMobile:C[e].modalMobile}}),R={blue:{accentColor:"#0E76FD",accentColorForeground:"#FFF"},green:{accentColor:"#1DB847",accentColorForeground:"#FFF"},orange:{accentColor:"#FF801F",accentColorForeground:"#FFF"},pink:{accentColor:"#FF5CA0",accentColorForeground:"#FFF"},purple:{accentColor:"#5F5AFA",accentColorForeground:"#FFF"},red:{accentColor:"#FA423C",accentColorForeground:"#FFF"}},x=R.blue,I=({accentColor:e=x.accentColor,accentColorForeground:t=x.accentColorForeground,...r}={})=>({...O(r),colors:{accentColor:e,accentColorForeground:t,actionButtonBorder:"rgba(0, 0, 0, 0.04)",actionButtonBorderMobile:"rgba(0, 0, 0, 0.06)",actionButtonSecondaryBackground:"rgba(0, 0, 0, 0.06)",closeButton:"rgba(60, 66, 66, 0.8)",closeButtonBackground:"rgba(0, 0, 0, 0.06)",connectButtonBackground:"#FFF",connectButtonBackgroundError:"#FF494A",connectButtonInnerBackground:"linear-gradient(0deg, rgba(0, 0, 0, 0.03), rgba(0, 0, 0, 0.06))",connectButtonText:"#25292E",connectButtonTextError:"#FFF",connectionIndicator:"#30E000",downloadBottomCardBackground:"linear-gradient(126deg, rgba(255, 255, 255, 0) 9.49%, rgba(171, 171, 171, 0.04) 71.04%), #FFFFFF",downloadTopCardBackground:"linear-gradient(126deg, rgba(171, 171, 171, 0.2) 9.49%, rgba(255, 255, 255, 0) 71.04%), #FFFFFF",error:"#FF494A",generalBorder:"rgba(0, 0, 0, 0.06)",generalBorderDim:"rgba(0, 0, 0, 0.03)",menuItemBackground:"rgba(60, 66, 66, 0.1)",modalBackdrop:"rgba(0, 0, 0, 0.3)",modalBackground:"#FFF",modalBorder:"transparent",modalText:"#25292E",modalTextDim:"rgba(60, 66, 66, 0.3)",modalTextSecondary:"rgba(60, 66, 66, 0.6)",profileAction:"#FFF",profileActionHover:"rgba(255, 255, 255, 0.5)",profileForeground:"rgba(60, 66, 66, 0.06)",selectedOptionBorder:"rgba(60, 66, 66, 0.1)",standby:"#FFD641"},shadows:{connectButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",dialog:"0px 8px 32px rgba(0, 0, 0, 0.32)",profileDetailsAction:"0px 2px 6px rgba(37, 41, 46, 0.04)",selectedOption:"0px 2px 6px rgba(0, 0, 0, 0.24)",selectedWallet:"0px 2px 6px rgba(0, 0, 0, 0.12)",walletLogo:"0px 2px 16px rgba(0, 0, 0, 0.16)"}});I.accentColors=R;var D=r(82478),P=r(17577),N=function(e,t){return Object.defineProperty(e,"__recipe__",{value:t,writable:!1}),e};function k(e){var{conditions:t}=e;if(!t)throw Error("Styles have no conditions");return N(function(e){if("string"==typeof e||"number"==typeof e||"boolean"==typeof e){if(!t.defaultCondition)throw Error("No default condition");return{[t.defaultCondition]:e}}if(Array.isArray(e)){if(!("responsiveArray"in t))throw Error("Responsive arrays are not supported");var r={};for(var n in t.responsiveArray)null!=e[n]&&(r[t.responsiveArray[n]]=e[n]);return r}return e},{importPath:"@vanilla-extract/sprinkles/createUtils",importName:"createNormalizeValueFn",args:[{conditions:e.conditions}]})}function M(e){var{conditions:t}=e;if(!t)throw Error("Styles have no conditions");var r=k(e);return N(function(e,n){if("string"==typeof e||"number"==typeof e||"boolean"==typeof e){if(!t.defaultCondition)throw Error("No default condition");return n(e,t.defaultCondition)}var i=Array.isArray(e)?r(e):e,o={};for(var s in i)null!=i[s]&&(o[s]=n(i[s],s));return o},{importPath:"@vanilla-extract/sprinkles/createUtils",importName:"createMapValueFn",args:[{conditions:e.conditions}]})}function L(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function B(e){var t=L(e,"string");return"symbol"==typeof t?t:String(t)}function j(e,t,r){return(t=B(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach(function(t){j(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var V=e=>function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=Object.assign({},...r.map(e=>e.styles)),o=Object.keys(i),s=o.filter(e=>"mappings"in i[e]);return Object.assign(t=>{var r=[],n={},o=U({},t),a=!1;for(var l of s){var u=t[l];if(null!=u)for(var c of(a=!0,i[l].mappings))n[c]=u,null==o[c]&&delete o[c]}var d=a?U(U({},n),o):t,h=function(){var e=d[p],t=i[p];try{if(t.mappings)return"continue";if("string"==typeof e||"number"==typeof e)r.push(t.values[e].defaultClass);else if(Array.isArray(e))for(var n=0;n<e.length;n++){var o=e[n];if(null!=o){var s=t.responsiveArray[n];r.push(t.values[o].conditions[s])}}else for(var a in e){var l=e[a];null!=l&&r.push(t.values[l].conditions[a])}}catch(e){throw e}};for(var p in d)if("continue"===h())continue;return e(r.join(" "))},{properties:new Set(o)})},z=e=>e,G=function(){return V(z)(...arguments)};function $(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){let r,n;if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t)){if((r=e.length)!==t.length)return!1;for(n=r;0!=n--;)if(!$(e[n],t[n]))return!1;return!0}if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();let i=Object.keys(e);if((r=i.length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!Object.prototype.hasOwnProperty.call(t,i[n]))return!1;for(n=r;0!=n--;){let r=i[n];if(r&&!$(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function H(e){let t=e.state.current,r=e.state.connections.get(t),n=r?.accounts,i=n?.[0],o=e.chains.find(e=>e.id===r?.chainId),s=e.state.status;switch(s){case"connected":return{address:i,addresses:n,chain:o,chainId:r?.chainId,connector:r?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:s};case"reconnecting":return{address:i,addresses:n,chain:o,chainId:r?.chainId,connector:r?.connector,isConnected:!!i,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:s};case"connecting":return{address:i,addresses:n,chain:o,chainId:r?.chainId,connector:r?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:s};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:s}}}function q(e,t){let{onChange:r}=t;return e.subscribe(()=>H(e),r,{equalityFn(e,t){let{connector:r,...n}=e,{connector:i,...o}=t;return $(n,o)&&r?.id===i?.id&&r?.uid===i?.uid}})}var W=r(19598),K=r(27663);let Y="2.5.19",Z=()=>`wagmi@${Y}`;class J extends K.G{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return Z()}}class Q extends J{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function X(e={}){let t=e.config??(0,P.useContext)(W.V);if(!t)throw new Q;return t}var ee=r(21508);let et=e=>"object"==typeof e&&!Array.isArray(e);function er(e,t,r=t,n=$){let i=(0,P.useRef)([]),o=(0,ee.useSyncExternalStoreWithSelector)(e,t,r,e=>e,(e,t)=>{if(et(e)&&et(t)&&i.current.length){for(let r of i.current)if(!n(e[r],t[r]))return!1;return!0}return n(e,t)});if(et(o)){let e={...o};return Object.defineProperties(e,Object.entries(e).reduce((e,[t,r])=>({...e,[t]:{configurable:!1,enumerable:!0,get:()=>(i.current.includes(t)||i.current.push(t),r)}}),{})),e}return o}function en(e={}){let t=X(e);return er(e=>q(t,{onChange:e}),()=>H(t))}function ei(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e){if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=ei(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r)}return n}let eo=function(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=ei(e))&&(n&&(n+=" "),n+=t);return n};var es=r(43481),ea=r(65217),el=r(69947),eu=r(13118),ec=r(75247);async function ed(e,{address:t,blockNumber:r,blockTag:n="latest"}){let i=r?(0,ec.eC)(r):void 0;return BigInt(await e.request({method:"eth_getBalance",params:[t,i||n]}))}function eh(e,t,r){let n=e[t.name];if("function"==typeof n)return n;let i=e[r];return"function"==typeof i?i:r=>t(e,r)}var ep=r(87155);function ef(e){return"number"==typeof e?e:"wei"===e?0:Math.abs(ep.Bd[e])}var em=r(56764),eg=r(23375),ey=r(61885),ev=r(3325),eb=r(42068),eE=r(42627),eS=r(75275);let e_=3;function eT(e,{abi:t,address:r,args:n,docsPath:i,functionName:o,sender:s}){let{code:a,data:l,message:u,shortMessage:c}=e instanceof es.VQ?e:e instanceof ey.G?e.walk(e=>"data"in e)||e.walk():{},d=e instanceof eg.wb?new es.Dk({functionName:o}):[e_,eS.XS.code].includes(a)&&(l||u||c)?new es.Lu({abi:t,data:"object"==typeof l?l.data:l,functionName:o,message:c??u}):e;return new es.uq(d,{abi:t,args:n,contractAddress:r,docsPath:i,functionName:o,sender:s})}function eA(e,t,r){return n=>e[t.name]?.(n)??e[r]?.(n)??t(e,n)}var eC=r(49194);async function ew(e,t){let{abi:r,address:n,args:i,functionName:o,...s}=t,a=(0,eb.R)({abi:r,args:i,functionName:o});try{let{data:t}=await eA(e,eC.RE,"call")({...s,data:a,to:n});return(0,ev.k)({abi:r,args:i,functionName:o,data:t||"0x"})}catch(e){throw eT(e,{abi:r,address:n,args:i,docsPath:"/docs/contract/readContract",functionName:o})}}async function eO(e,t){let{allowFailure:r=!0,batchSize:n,blockNumber:i,blockTag:o,multicallAddress:s,stateOverride:a}=t,l=t.contracts,u=n??("object"==typeof e.batch?.multicall&&e.batch.multicall.batchSize||1024),c=s;if(!c){if(!e.chain)throw Error("client chain not configured. multicallAddress is required.");c=(0,eE.L)({blockNumber:i,chain:e.chain,contract:"multicall3"})}let d=[[]],h=0,p=0;for(let e=0;e<l.length;e++){let{abi:t,address:n,args:i,functionName:o}=l[e];try{let e=(0,eb.R)({abi:t,args:i,functionName:o});p+=(e.length-2)/2,u>0&&p>u&&d[h].length>0&&(h++,p=(e.length-2)/2,d[h]=[]),d[h]=[...d[h],{allowFailure:!0,callData:e,target:n}]}catch(s){let e=eT(s,{abi:t,address:n,args:i,docsPath:"/docs/contract/multicall",functionName:o});if(!r)throw e;d[h]=[...d[h],{allowFailure:!0,callData:"0x",target:n}]}}let f=await Promise.allSettled(d.map(t=>eA(e,ew,"readContract")({abi:em.F8,address:c,args:[t],blockNumber:i,blockTag:o,functionName:"aggregate3",stateOverride:a}))),m=[];for(let e=0;e<f.length;e++){let t=f[e];if("rejected"===t.status){if(!r)throw t.reason;for(let r=0;r<d[e].length;r++)m.push({status:"failure",error:t.reason,result:void 0});continue}let n=t.value;for(let t=0;t<n.length;t++){let{returnData:i,success:o}=n[t],{callData:s}=d[e][t],{abi:a,address:u,functionName:c,args:h}=l[m.length];try{if("0x"===s)throw new eg.wb;if(!o)throw new es.VQ({data:i});let e=(0,ev.k)({abi:a,args:h,data:i,functionName:c});m.push(r?{result:e,status:"success"}:e)}catch(t){let e=eT(t,{abi:a,address:u,args:h,docsPath:"/docs/contract/multicall",functionName:c});if(!r)throw e;m.push({error:e,result:void 0,status:"failure"})}}}if(m.length!==l.length)throw new ey.G("multicall results mismatch");return m}async function eR(e,t){let{allowFailure:r=!0,chainId:n,contracts:i,...o}=t;return eh(e.getClient({chainId:n}),eO,"multicall")({allowFailure:r,contracts:i,...o})}function ex(e,t){let{chainId:r,...n}=t;return eh(e.getClient({chainId:r}),ew,"readContract")(n)}async function eI(e,t){let{allowFailure:r=!0,blockNumber:n,blockTag:i,...o}=t,s=t.contracts;try{let t=s.reduce((t,r,n)=>{let i=r.chainId??e.state.chainId;return{...t,[i]:[...t[i]||[],{contract:r,index:n}]}},{}),a=()=>Object.entries(t).map(([t,s])=>eR(e,{...o,allowFailure:r,blockNumber:n,blockTag:i,chainId:parseInt(t),contracts:s.map(({contract:e})=>e)})),l=(await Promise.all(a())).flat(),u=Object.values(t).flatMap(e=>e.map(({index:e})=>e));return l.reduce((e,t,r)=>(e&&(e[u[r]]=t),e),[])}catch(o){if(o instanceof es.uq)throw o;let t=()=>s.map(t=>ex(e,{...t,blockNumber:n,blockTag:i}));if(r)return(await Promise.allSettled(t())).map(e=>"fulfilled"===e.status?{result:e.value,status:"success"}:{error:e.reason,result:void 0,status:"failure"});return await Promise.all(t())}}async function eD(e,t){let{address:r,blockNumber:n,blockTag:i,chainId:o,token:s,unit:a="ether"}=t;if(s)try{return eP(e,{balanceAddress:r,chainId:o,symbolType:"string",tokenAddress:s})}catch(t){if(t instanceof es.uq){let t=await eP(e,{balanceAddress:r,chainId:o,symbolType:"bytes32",tokenAddress:s}),n=(0,ea.rR)((0,el.f)(t.symbol,{dir:"right"}));return{...t,symbol:n}}throw t}let l=e.getClient({chainId:o}),u=eh(l,ed,"getBalance"),c=await u(n?{address:r,blockNumber:n}:{address:r,blockTag:i}),d=e.chains.find(e=>e.id===o)??l.chain;return{decimals:d.nativeCurrency.decimals,formatted:(0,eu.b)(c,ef(a)),symbol:d.nativeCurrency.symbol,value:c}}async function eP(e,t){let{balanceAddress:r,chainId:n,symbolType:i,tokenAddress:o,unit:s}=t,a={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:i}]}],address:o},[l,u,c]=await eI(e,{allowFailure:!1,contracts:[{...a,functionName:"balanceOf",args:[r],chainId:n},{...a,functionName:"decimals",chainId:n},{...a,functionName:"symbol",chainId:n}]}),d=(0,eu.b)(l??"0",ef(s??u));return{decimals:u,formatted:d,symbol:c,value:l}}function eN(e){return JSON.stringify(e,(e,t)=>ek(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):"bigint"==typeof t?t.toString():t)}function ek(e){if(!eM(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!!(eM(r)&&r.hasOwnProperty("isPrototypeOf"))}function eM(e){return"[object Object]"===Object.prototype.toString.call(e)}function eL(e){let{_defaulted:t,behavior:r,gcTime:n,initialData:i,initialDataUpdatedAt:o,maxPages:s,meta:a,networkMode:l,queryFn:u,queryHash:c,queryKey:d,queryKeyHashFn:h,retry:p,retryDelay:f,structuralSharing:m,getPreviousPageParam:g,getNextPageParam:y,initialPageParam:v,_optimisticResults:b,enabled:E,notifyOnChangeProps:S,placeholderData:_,refetchInterval:T,refetchIntervalInBackground:A,refetchOnMount:C,refetchOnReconnect:w,refetchOnWindowFocus:O,retryOnMount:R,select:x,staleTime:I,suspense:D,throwOnError:P,config:N,connector:k,query:M,...L}=e;return L}function eB(e,t={}){return{async queryFn({queryKey:t}){let{address:r,scopeKey:n,...i}=t[1];if(!r)throw Error("address is required");return await eD(e,{...i,address:r})??null},queryKey:ej(t)}}function ej(e={}){return["balance",eL(e)]}var eF=r(3341),eU=r(12113),eV=r(81943),ez=r(64351),eG=r(96143),e$=class extends ez.l{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.bindMethods(),this.setOptions(t)}#e;#r=void 0;#n=void 0;#i=void 0;#o;#s;#t;#a;#l;#u;#c;#d;#h;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#r.addObserver(this),eq(this.#r,this.options)?this.#f():this.updateResult(),this.#m())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return eW(this.#r,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return eW(this.#r,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#g(),this.#y(),this.#r.removeObserver(this)}setOptions(e,t){let r=this.options,n=this.#r;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw Error("Expected enabled to be a boolean");this.#v(),this.#r.setOptions(this.options),r._defaulted&&!(0,eF.VS)(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#r,observer:this});let i=this.hasListeners();i&&eK(this.#r,n,this.options,r)&&this.#f(),this.updateResult(t),i&&(this.#r!==n||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.#b();let o=this.#E();i&&(this.#r!==n||this.options.enabled!==r.enabled||o!==this.#h)&&this.#S(o)}getOptimisticResult(e){let t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return eZ(this,r)&&(this.#i=r,this.#s=this.options,this.#o=this.#r.state),r}getCurrentResult(){return this.#i}trackResult(e,t){let r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),t?.(n),e[n])})}),r}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#r}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#f({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#f(e){this.#v();let t=this.#r.fetch(this.options,e);return e?.throwOnError||(t=t.catch(eF.ZT)),t}#b(){if(this.#g(),eF.sk||this.#i.isStale||!(0,eF.PN)(this.options.staleTime))return;let e=(0,eF.Kp)(this.#i.dataUpdatedAt,this.options.staleTime)+1;this.#c=setTimeout(()=>{this.#i.isStale||this.updateResult()},e)}#E(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#r):this.options.refetchInterval)??!1}#S(e){this.#y(),this.#h=e,!eF.sk&&!1!==this.options.enabled&&(0,eF.PN)(this.#h)&&0!==this.#h&&(this.#d=setInterval(()=>{(this.options.refetchIntervalInBackground||eV.j.isFocused())&&this.#f()},this.#h))}#m(){this.#b(),this.#S(this.#E())}#g(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#y(){this.#d&&(clearInterval(this.#d),this.#d=void 0)}createResult(e,t){let r;let n=this.#r,i=this.options,o=this.#i,s=this.#o,a=this.#s,l=e!==n?e.state:this.#n,{state:u}=e,c={...u},d=!1;if(t._optimisticResults){let r=this.hasListeners(),o=!r&&eq(e,t),s=r&&eK(e,n,t,i);(o||s)&&(c={...c,...(0,eG.z)(u.data,e.options)}),"isRestoring"===t._optimisticResults&&(c.fetchStatus="idle")}let{error:h,errorUpdatedAt:p,status:f}=c;if(t.select&&void 0!==c.data){if(o&&c.data===s?.data&&t.select===this.#a)r=this.#l;else try{this.#a=t.select,r=t.select(c.data),r=(0,eF.oE)(o?.data,r,t),this.#l=r,this.#t=null}catch(e){this.#t=e}}else r=c.data;if(void 0!==t.placeholderData&&void 0===r&&"pending"===f){let e;if(o?.isPlaceholderData&&t.placeholderData===a?.placeholderData)e=o.data;else if(e="function"==typeof t.placeholderData?t.placeholderData(this.#u?.state.data,this.#u):t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),this.#t=null}catch(e){this.#t=e}void 0!==e&&(f="success",r=(0,eF.oE)(o?.data,e,t),d=!0)}this.#t&&(h=this.#t,r=this.#l,p=Date.now(),f="error");let m="fetching"===c.fetchStatus,g="pending"===f,y="error"===f,v=g&&m,b=void 0!==r;return{status:f,fetchStatus:c.fetchStatus,isPending:g,isSuccess:"success"===f,isError:y,isInitialLoading:v,isLoading:v,data:r,dataUpdatedAt:c.dataUpdatedAt,error:h,errorUpdatedAt:p,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>l.dataUpdateCount||c.errorUpdateCount>l.errorUpdateCount,isFetching:m,isRefetching:m&&!g,isLoadingError:y&&!b,isPaused:"paused"===c.fetchStatus,isPlaceholderData:d,isRefetchError:y&&b,isStale:eY(e,t),refetch:this.refetch}}updateResult(e){let t=this.#i,r=this.createResult(this.#r,this.options);if(this.#o=this.#r.state,this.#s=this.options,void 0!==this.#o.data&&(this.#u=this.#r),(0,eF.VS)(r,t))return;this.#i=r;let n={},i=()=>{if(!t)return!0;let{notifyOnChangeProps:e}=this.options,r="function"==typeof e?e():e;if("all"===r||!r&&!this.#p.size)return!0;let n=new Set(r??this.#p);return this.options.throwOnError&&n.add("error"),Object.keys(this.#i).some(e=>{let r=e;return this.#i[r]!==t[r]&&n.has(r)})};e?.listeners!==!1&&i()&&(n.listeners=!0),this.#_({...n,...e})}#v(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#r)return;let t=this.#r;this.#r=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#m()}#_(e){eU.V.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#r,type:"observerResultsUpdated"})})}};function eH(e,t){return!1!==t.enabled&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}function eq(e,t){return eH(e,t)||void 0!==e.state.data&&eW(e,t,t.refetchOnMount)}function eW(e,t,r){if(!1!==t.enabled){let n="function"==typeof r?r(e):r;return"always"===n||!1!==n&&eY(e,t)}return!1}function eK(e,t,r,n){return(e!==t||!1===n.enabled)&&(!r.suspense||"error"!==e.state.status)&&eY(e,r)}function eY(e,t){return!1!==t.enabled&&e.isStaleByTime(t.staleTime)}function eZ(e,t){return!(0,eF.VS)(e.getCurrentResult(),t)}function eJ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}r(10326);var eQ=P.createContext(eJ()),eX=()=>P.useContext(eQ),e0=r(44976),e1=P.createContext(!1),e2=()=>P.useContext(e1);function e3(e,t){return"function"==typeof e?e(...t):!!e}function e6(){}e1.Provider;var e4=(e,t)=>{(e.suspense||e.throwOnError)&&!t.isReset()&&(e.retryOnMount=!1)},e5=e=>{P.useEffect(()=>{e.clearReset()},[e])},e8=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&e3(r,[e.error,n]),e7=e=>{e.suspense&&"number"!=typeof e.staleTime&&(e.staleTime=1e3)},e9=(e,t)=>e?.suspense&&t.isPending,te=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function tt(e,t,r){let n=(0,e0.NL)(r),i=e2(),o=eX(),s=n.defaultQueryOptions(e);s._optimisticResults=i?"isRestoring":"optimistic",e7(s),e4(s,o),e5(o);let[a]=P.useState(()=>new t(n,s)),l=a.getOptimisticResult(s);if(P.useSyncExternalStore(P.useCallback(e=>{let t=i?()=>void 0:a.subscribe(eU.V.batchCalls(e));return a.updateResult(),t},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),P.useEffect(()=>{a.setOptions(s,{listeners:!1})},[s,a]),e9(s,l))throw te(s,a,o);if(e8({result:l,errorResetBoundary:o,throwOnError:s.throwOnError,query:n.getQueryCache().get(s.queryHash)}))throw l.error;return s.notifyOnChangeProps?l:a.trackResult(l)}function tr(e,t){return tt(e,e$,t)}function tn(e){let t=tr({...e,queryKeyHashFn:eN});return t.queryKey=e.queryKey,t}function ti(e,t){let{onChange:r}=t;return e.subscribe(e=>e.chainId,r)}function to(e){return e.state.chainId}function ts(e={}){let t=X(e);return(0,P.useSyncExternalStore)(e=>ti(t,{onChange:e}),()=>to(t),()=>to(t))}function ta(e={}){let{address:t,query:r={}}=e,n=X(e),i=ts({config:n}),o=eB(n,{...e,chainId:e.chainId??i}),s=!!(t&&(r.enabled??!0));return tn({...r,...o,enabled:s})}var tl="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";let tu=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),tc=4;function td(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),i=1,o=[0,1];for(let e=1;e<n;e++)o.push(i+=r());let s=r(),a=t;t+=s;let l=0,u=0;function c(){return 0==l&&(u=u<<8|e[t++],l=8),u>>--l&1}let d=31,h=2147483648,p=1073741824,f=536870912,m=2147483648-1,g=0;for(let e=0;e<d;e++)g=g<<1|c();let y=[],v=0,b=h;for(;;){let e=Math.floor(((g-v+1)*i-1)/b),t=0,r=n;for(;r-t>1;){let n=t+r>>>1;e<o[n]?r=n:t=n}if(0==t)break;y.push(t);let s=v+Math.floor(b*o[t]/i),a=v+Math.floor(b*o[t+1]/i)-1;for(;((s^a)&p)==0;)g=g<<1&m|c(),s=s<<1&m,a=a<<1&m|1;for(;s&~a&f;)g=g&p|g<<1&m>>>1|c(),s=s<<1^p,a=(a^p)<<1|p|1;v=s,b=1+a-s}let E=n-4;return y.map(t=>{switch(t-E){case 3:return E+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return E+256+(e[a++]<<8|e[a++]);case 1:return E+e[a++];default:return t-1}})}function th(e){let t=0;return()=>e[t++]}function tp(e){return th(td(tf(e)))}function tf(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((e,r)=>t[e.charCodeAt(0)]=r);let r=e.length,n=new Uint8Array(6*r>>3);for(let i=0,o=0,s=0,a=0;i<r;i++)a=a<<6|t[e.charCodeAt(i)],(s+=6)>=8&&(n[o++]=a>>(s-=8));return n}function tm(e){return 1&e?~e>>1:e>>1}function tg(e,t){let r=Array(e);for(let n=0,i=0;n<e;n++)r[n]=i+=tm(t());return r}function ty(e,t=0){let r=[];for(;;){let n=e(),i=e();if(!i)break;t+=n;for(let e=0;e<i;e++)r.push(t+e);t+=i+1}return r}function tv(e){return tE(()=>{let t=ty(e);if(t.length)return t})}function tb(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(t_(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(tT(r,e))}return t.flat()}function tE(e){let t=[];for(;;){let r=e(t.length);if(!r)break;t.push(r)}return t}function tS(e,t,r){let n=Array(e).fill().map(()=>[]);for(let i=0;i<t;i++)tg(e,r).forEach((e,t)=>n[t].push(e));return n}function t_(e,t){let r=1+t(),n=t(),i=tE(t);return tS(i.length,1+e,t).flatMap((e,t)=>{let[o,...s]=e;return Array(i[t]).fill().map((e,t)=>{let i=t*n;return[o+t*r,s.map(e=>e+i)]})})}function tT(e,t){return tS(1+t(),1+e,t).map(e=>[e[0],e.slice(1)])}function tA(e){let t=[],r=ty(e);return i(n([]),[]),t;function n(t){return{S:e(),B:tE(()=>{let t=ty(e).map(e=>r[e]);if(t.length)return n(t)}),Q:t}}function i({S:e,B:r},n,o){if(!(4&e)||o!==n[n.length-1])for(let s of(2&e&&(o=n[n.length-1]),1&e&&t.push(n),r))for(let e of s.Q)i(s,[...n,e],o)}}function tC(e){return e.toString(16).toUpperCase().padStart(2,"0")}function tw(e){return`{${tC(e)}}`}function tO(e){let t=[];for(let r=0,n=e.length;r<n;){let n=e.codePointAt(r);r+=n<65536?1:2,t.push(n)}return t}function tR(e){let t=4096,r=e.length;if(r<t)return String.fromCodePoint(...e);let n=[];for(let i=0;i<r;)n.push(String.fromCodePoint(...e.slice(i,i+=t)));return n.join("")}function tx(e,t){let r=e.length,n=r-t.length;for(let i=0;0==n&&i<r;i++)n=e[i]-t[i];return n}var tI="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";let tD=44032,tP=4352,tN=4449,tk=4519,tM=28,tL=588,tB=55204,tj=4371,tF=4470,tU=4547;function tV(e){return e>>24&255}function tz(e){return 16777215&e}function tG(){let e=tp(tI);for(let[t,r]of(n=new Map(tv(e).flatMap((e,t)=>e.map(e=>[e,t+1<<24]))),i=new Set(ty(e)),o=new Map,s=new Map,tb(e))){if(!i.has(t)&&2==r.length){let[e,n]=r,i=s.get(e);i||(i=new Map,s.set(e,i)),i.set(n,t)}o.set(t,r.reverse())}}function t$(e){return e>=tD&&e<tB}function tH(e,t){if(e>=tP&&e<tj&&t>=tN&&t<tF)return tD+(e-tP)*tL+(t-tN)*tM;if(t$(e)&&t>tk&&t<tU&&(e-tD)%tM==0)return e+(t-tk);{let r=s.get(e);return r&&(r=r.get(t))?r:-1}}function tq(e){n||tG();let t=[],r=[],i=!1;function s(e){let r=n.get(e);r&&(i=!0,e|=r),t.push(e)}for(let n of e)for(;;){if(n<128)t.push(n);else if(t$(n)){let e=n-tD,t=e/tL|0,r=e%tL/tM|0,i=e%tM;s(tP+t),s(tN+r),i>0&&s(tk+i)}else{let e=o.get(n);e?r.push(...e):s(n)}if(!r.length)break;n=r.pop()}if(i&&t.length>1){let e=tV(t[0]);for(let r=1;r<t.length;r++){let n=tV(t[r]);if(0==n||e<=n){e=n;continue}let i=r-1;for(;;){let r=t[i+1];if(t[i+1]=t[i],t[i]=r,!i||(e=tV(t[--i]))<=n)break}e=tV(t[r])}}return t}function tW(e){let t=[],r=[],n=-1,i=0;for(let o of e){let e=tV(o),s=tz(o);if(-1==n)0==e?n=s:t.push(s);else if(i>0&&i>=e)0==e?(t.push(n,...r),r.length=0,n=s):r.push(s),i=e;else{let o=tH(n,s);o>=0?n=o:0==i&&0==e?(t.push(n),n=s):(r.push(s),i=e)}}return n>=0&&t.push(n,...r),t}function tK(e){return tq(e).map(tz)}function tY(e){return tW(tq(e))}let tZ=45,tJ=".",tQ=65039,tX=1,t0=e=>Array.from(e);function t1(e,t){return e.P.has(t)||e.Q.has(t)}class t2 extends Array{get is_emoji(){return!0}}function t3(){if(a)return;let e=tp(tl),t=()=>ty(e),r=()=>new Set(t());a=new Map(tb(e)),l=r(),u=t(),c=new Set(t().map(e=>u[e])),u=new Set(u),d=r(),h=r();let n=tv(e),i=e(),o=()=>new Set(t().flatMap(e=>n[e]).concat(t()));p=tE(t=>{let r=tE(e).map(e=>e+96);if(r.length){let n=t>=i;return r[0]-=32,r=tR(r),n&&(r=`Restricted[${r}]`),{N:r,P:o(),Q:o(),M:!e(),R:n}}}),f=r(),m=new Map;let s=t().concat(t0(f)).sort((e,t)=>e-t);for(let{V:t,M:r}of(s.forEach((t,r)=>{let n=e(),i=s[r]=n?s[r-n]:{V:[],M:new Map};i.V.push(t),f.has(t)||m.set(t,i)}),new Set(m.values()))){let e=[];for(let r of t){let t=p.filter(e=>t1(e,r)),n=e.find(({G:e})=>t.some(t=>e.has(t)));n||(n={G:new Set,V:[]},e.push(n)),n.V.push(r),t.forEach(e=>n.G.add(e))}let n=e.flatMap(e=>t0(e.G));for(let{G:t,V:i}of e){let e=new Set(n.filter(e=>!t.has(e)));for(let t of i)r.set(t,e)}}let b=new Set,E=new Set,S=e=>b.has(e)?E.add(e):b.add(e);for(let e of p){for(let t of e.P)S(t);for(let t of e.Q)S(t)}for(let e of b)m.has(e)||E.has(e)||m.set(e,tX);for(let t of(g=new Set(t0(b).concat(t0(tK(b)))),y=tA(e).map(e=>t2.from(e)).sort(tx),v=new Map,y)){let e=[v];for(let r of t){let t=e.map(e=>{let t=e.get(r);return t||(t=new Map,e.set(r,t)),t});r===tQ?e.push(...t):e=t}for(let r of e)r.V=t}}function t6(e){return(rt(e)?"":`${t4(t9([e]))} `)+tw(e)}function t4(e){return`"${e}"\u200E`}function t5(e){if(e.length>=4&&e[2]==tZ&&e[3]==tZ)throw Error(`invalid label extension: "${tR(e.slice(0,4))}"`)}function t8(e){let t=95;for(let r=e.lastIndexOf(t);r>0;)if(e[--r]!==t)throw Error("underscore allowed only at start")}function t7(e){let t=e[0],r=tu.get(t);if(r)throw ru(`leading ${r}`);let n=e.length,i=-1;for(let o=1;o<n;o++){t=e[o];let n=tu.get(t);if(n){if(i==o)throw ru(`${r} + ${n}`);i=o+1,r=n}}if(i==n)throw ru(`trailing ${r}`)}function t9(e,t=tw){let r=[];re(e[0])&&r.push("");let n=0,i=e.length;for(let o=0;o<i;o++){let i=e[o];rt(i)&&(r.push(tR(e.slice(n,o))),r.push(t(i)),n=o+1)}return r.push(tR(e.slice(n,i))),r.join("")}function re(e){return t3(),u.has(e)}function rt(e){return t3(),d.has(e)}function rr(e){return rs(rn(e,tY,rh))}function rn(e,t,r){if(!e)return[];t3();let n=0;return e.split(tJ).map(e=>{let i=tO(e),o={input:i,offset:n};n+=i.length+1;try{let e,n=o.tokens=rd(i,t,r),s=n.length;if(!s)throw Error("empty label");let a=o.output=n.flat();if(t8(a),!(o.emoji=s>1||n[0].is_emoji)&&a.every(e=>e<128))t5(a),e="ASCII";else{let t=n.flatMap(e=>e.is_emoji?[]:e);if(t.length){if(u.has(a[0]))throw ru("leading combining mark");for(let e=1;e<s;e++){let t=n[e];if(!t.is_emoji&&u.has(t[0]))throw ru(`emoji + combining mark: "${tR(n[e-1])} + ${t9([t[0]])}"`)}t7(a);let r=t0(new Set(t)),[i]=ro(r);rc(i,t),ri(i,r),e=i.N}else e="Emoji"}o.type=e}catch(e){o.error=e}return o})}function ri(e,t){let r;let n=[];for(let e of t){let t=m.get(e);if(t===tX)return;if(t){let n=t.M.get(e);if(!(r=r?r.filter(e=>n.has(e)):t0(n)).length)return}else n.push(e)}if(r){for(let t of r)if(n.every(e=>t1(t,e)))throw Error(`whole-script confusable: ${e.N}/${t.N}`)}}function ro(e){let t=p;for(let r of e){let e=t.filter(e=>t1(e,r));if(!e.length){if(p.some(e=>t1(e,r)))throw rl(t[0],r);throw ra(r)}if(t=e,1==e.length)break}return t}function rs(e){return e.map(({input:t,error:r,output:n})=>{if(r){let n=r.message;throw Error(1==e.length?n:`Invalid label ${t4(t9(t))}: ${n}`)}return tR(n)}).join(tJ)}function ra(e){return Error(`disallowed character: ${t6(e)}`)}function rl(e,t){let r=t6(t),n=p.find(e=>e.P.has(t));return n&&(r=`${n.N} ${r}`),Error(`illegal mixture: ${e.N} + ${r}`)}function ru(e){return Error(`illegal placement: ${e}`)}function rc(e,t){for(let r of t)if(!t1(e,r))throw rl(e,r);if(e.M){let e=tK(t);for(let t=1,r=e.length;t<r;t++)if(c.has(e[t])){let n=t+1;for(let i;n<r&&c.has(i=e[n]);n++)for(let r=t;r<n;r++)if(e[r]==i)throw Error(`duplicate non-spacing marks: ${t6(i)}`);if(n-t>tc)throw Error(`excessive non-spacing marks: ${t4(t9(e.slice(t-1,n)))} (${n-t}/${tc})`);t=n}}}function rd(e,t,r){let n=[],i=[];for(e=e.slice().reverse();e.length;){let o=rp(e);if(o)i.length&&(n.push(t(i)),i=[]),n.push(r(o));else{let t=e.pop();if(g.has(t))i.push(t);else{let e=a.get(t);if(e)i.push(...e);else if(!l.has(t))throw ra(t)}}}return i.length&&n.push(t(i)),n}function rh(e){return e.filter(e=>e!=tQ)}function rp(e,t){let r,n=v,i=e.length;for(;i&&(n=n.get(e[--i]));){let{V:o}=n;o&&(r=o,t&&t.push(...e.slice(i).reverse()),e.length=i)}return r}function rf(e){return rr(e)}class rm extends ey.G{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class rg extends ey.G{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class ry extends ey.G{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class rv extends ey.G{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}let rb=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,rE=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,rS=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,r_=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function rT(e){try{let t=await fetch(e,{method:"HEAD"});if(200===t.status){let e=t.headers.get("content-type");return e?.startsWith("image/")}return!1}catch(t){if("object"==typeof t&&void 0!==t.response||!globalThis.hasOwnProperty("Image"))return!1;return new Promise(t=>{let r=new Image;r.onload=()=>{t(!0)},r.onerror=()=>{t(!1)},r.src=e})}}function rA(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function rC({uri:e,gatewayUrls:t}){let r=rS.test(e);if(r)return{uri:e,isOnChain:!0,isEncoded:r};let n=rA(t?.ipfs,"https://ipfs.io"),i=rA(t?.arweave,"https://arweave.net"),o=e.match(rb),{protocol:s,subpath:a,target:l,subtarget:u=""}=o?.groups||{},c="ipns:/"===s||"ipns/"===a,d="ipfs:/"===s||"ipfs/"===a||rE.test(e);if(e.startsWith("http")&&!c&&!d){let r=e;return t?.arweave&&(r=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:r,isOnChain:!1,isEncoded:!1}}if((c||d)&&l)return{uri:`${n}/${c?"ipns":"ipfs"}/${l}${u}`,isOnChain:!1,isEncoded:!1};if("ar:/"===s&&l)return{uri:`${i}/${l}${u||""}`,isOnChain:!1,isEncoded:!1};let h=e.replace(r_,"");if(h.startsWith("<svg")&&(h=`data:image/svg+xml;base64,${btoa(h)}`),h.startsWith("data:")||h.startsWith("{"))return{uri:h,isOnChain:!0,isEncoded:!1};throw new ry({uri:e})}function rw(e){if("object"!=typeof e||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new rm({data:e});return e.image||e.image_url||e.image_data}async function rO({gatewayUrls:e,uri:t}){try{let r=await fetch(t).then(e=>e.json());return await rR({gatewayUrls:e,uri:rw(r)})}catch{throw new ry({uri:t})}}async function rR({gatewayUrls:e,uri:t}){let{uri:r,isOnChain:n}=rC({uri:t,gatewayUrls:e});if(n||await rT(r))return r;throw new ry({uri:t})}function rx(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));let[r,n,i]=t.split("/"),[o,s]=r.split(":"),[a,l]=n.split(":");if(!o||"eip155"!==o.toLowerCase())throw new rg({reason:"Only EIP-155 supported"});if(!s)throw new rg({reason:"Chain ID not found"});if(!l)throw new rg({reason:"Contract address not found"});if(!i)throw new rg({reason:"Token ID not found"});if(!a)throw new rg({reason:"ERC namespace not found"});return{chainID:parseInt(s),namespace:a.toLowerCase(),contractAddress:l,tokenID:i}}async function rI(e,{nft:t}){if("erc721"===t.namespace)return ew(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if("erc1155"===t.namespace)return ew(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new rv({namespace:t.namespace})}async function rD(e,{gatewayUrls:t,record:r}){return/eip155:/i.test(r)?rP(e,{gatewayUrls:t,record:r}):rR({uri:r,gatewayUrls:t})}async function rP(e,{gatewayUrls:t,record:r}){let n=rx(r),{uri:i,isOnChain:o,isEncoded:s}=rC({uri:await rI(e,{nft:n}),gatewayUrls:t});if(o&&(i.includes("data:application/json;base64,")||i.startsWith("{")))return rR({uri:rw(JSON.parse(s?atob(i.replace("data:application/json;base64,","")):i)),gatewayUrls:t});let a=n.tokenID;return"erc1155"===n.namespace&&(a=a.replace("0x","").padStart(64,"0")),rO({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,a)})}var rN=r(78410);function rk(e,t){if(!(e instanceof ey.G))return!1;let r=e.walk(e=>e instanceof es.Lu);return r instanceof es.Lu&&(!!(r.data?.errorName==="ResolverNotFound"||r.data?.errorName==="ResolverWildcardNotSupported"||r.data?.errorName==="ResolverNotContract"||r.data?.errorName==="ResolverError"||r.data?.errorName==="HttpError"||r.reason?.includes("Wildcard on non-extended resolvers is not supported"))||"reverse"===t&&r.reason===rN.$[50])}var rM=r(59075),rL=r(84808),rB=r(60475),rj=r(78238);function rF(e){if(66!==e.length||0!==e.indexOf("[")||65!==e.indexOf("]"))return null;let t=`0x${e.slice(1,65)}`;return(0,rj.v)(t)?t:null}function rU(e){let t=new Uint8Array(32).fill(0);if(!e)return(0,ec.ci)(t);let r=e.split(".");for(let e=r.length-1;e>=0;e-=1){let n=rF(r[e]),i=n?(0,rL.O0)(n):(0,rB.w)((0,rL.qX)(r[e]),"bytes");t=(0,rB.w)((0,rM.zo)([t,i]),"bytes")}return(0,ec.ci)(t)}function rV(e){return`[${e.slice(2)}]`}function rz(e){let t=new Uint8Array(32).fill(0);return e?rF(e)||(0,rB.w)((0,rL.qX)(e)):(0,ec.ci)(t)}function rG(e){let t=e.replace(/^\.|\.$/gm,"");if(0===t.length)return new Uint8Array(1);let r=new Uint8Array((0,rL.qX)(t).byteLength+2),n=0,i=t.split(".");for(let e=0;e<i.length;e++){let t=(0,rL.qX)(i[e]);t.byteLength>255&&(t=(0,rL.qX)(rV(rz(i[e])))),r[n]=t.length,r.set(t,n+1),n+=t.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}async function r$(e,{blockNumber:t,blockTag:r,name:n,key:i,gatewayUrls:o,strict:s,universalResolverAddress:a}){let l=a;if(!l){if(!e.chain)throw Error("client chain not configured. universalResolverAddress is required.");l=(0,eE.L)({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{let s={address:l,abi:em.k3,functionName:"resolve",args:[(0,ec.NC)(rG(n)),(0,eb.R)({abi:em.nZ,functionName:"text",args:[rU(n),i]})],blockNumber:t,blockTag:r},a=eA(e,ew,"readContract"),u=o?await a({...s,args:[...s.args,o]}):await a(s);if("0x"===u[0])return null;let c=(0,ev.k)({abi:em.nZ,functionName:"text",data:u[0]});return""===c?null:c}catch(e){if(s)throw e;if(rk(e,"resolve"))return null;throw e}}async function rH(e,{blockNumber:t,blockTag:r,assetGatewayUrls:n,name:i,gatewayUrls:o,strict:s,universalResolverAddress:a}){let l=await eA(e,r$,"getEnsText")({blockNumber:t,blockTag:r,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:o,strict:s});if(!l)return null;try{return await rD(e,{record:l,gatewayUrls:n})}catch{return null}}function rq(e,t){let{chainId:r,...n}=t;return eh(e.getClient({chainId:r}),rH,"getEnsAvatar")(n)}function rW(e,t={}){return{async queryFn({queryKey:t}){let{name:r,scopeKey:n,...i}=t[1];if(!r)throw Error("name is required");return rq(e,{...i,name:r})},queryKey:rK(t)}}function rK(e={}){return["ensAvatar",eL(e)]}function rY(e={}){let{name:t,query:r={}}=e,n=X(e),i=ts({config:n}),o=rW(n,{...e,chainId:e.chainId??i}),s=!!(t&&(r.enabled??!0));return tn({...r,...o,enabled:s})}var rZ=r(77872);async function rJ(e,{address:t,blockNumber:r,blockTag:n,gatewayUrls:i,strict:o,universalResolverAddress:s}){let a=s;if(!a){if(!e.chain)throw Error("client chain not configured. universalResolverAddress is required.");a=(0,eE.L)({blockNumber:r,chain:e.chain,contract:"ensUniversalResolver"})}let l=`${t.toLowerCase().substring(2)}.addr.reverse`;try{let o={address:a,abi:em.du,functionName:"reverse",args:[(0,ec.NC)(rG(l))],blockNumber:r,blockTag:n},s=eA(e,ew,"readContract"),[u,c]=i?await s({...o,args:[...o.args,i]}):await s(o);if(t.toLowerCase()!==c.toLowerCase())return null;return u}catch(e){if(o)throw e;if(rk(e,"reverse"))return null;throw e}}function rQ(e,t){let{chainId:r,...n}=t;return eh(e.getClient({chainId:r}),rJ,"getEnsName")(n)}function rX(e,t={}){return{async queryFn({queryKey:t}){let{address:r,scopeKey:n,...i}=t[1];if(!r)throw Error("address is required");return rQ(e,{...i,address:r})},queryKey:r0(t)}}function r0(e={}){return["ensName",eL(e)]}function r1(e={}){let{address:t,query:r={}}=e,n=X(e),i=ts({config:n}),o=rX(n,{...e,chainId:e.chainId??i}),s=!!(t&&(r.enabled??!0));return tn({...r,...o,enabled:s})}async function r2(e,{blockNumber:t,blockTag:r,coinType:n,name:i,gatewayUrls:o,strict:s,universalResolverAddress:a}){let l=a;if(!l){if(!e.chain)throw Error("client chain not configured. universalResolverAddress is required.");l=(0,eE.L)({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{let s=(0,eb.R)({abi:em.X$,functionName:"addr",...null!=n?{args:[rU(i),BigInt(n)]}:{args:[rU(i)]}}),a={address:l,abi:em.k3,functionName:"resolve",args:[(0,ec.NC)(rG(i)),s],blockNumber:t,blockTag:r},u=eA(e,ew,"readContract"),c=o?await u({...a,args:[...a.args,o]}):await u(a);if("0x"===c[0])return null;let d=(0,ev.k)({abi:em.X$,args:null!=n?[rU(i),BigInt(n)]:void 0,functionName:"addr",data:c[0]});if("0x"===d||"0x00"===(0,el.f)(d))return null;return d}catch(e){if(s)throw e;if(rk(e,"resolve"))return null;throw e}}async function r3(e,{blockNumber:t,blockTag:r,name:n,universalResolverAddress:i}){let o=i;if(!o){if(!e.chain)throw Error("client chain not configured. universalResolverAddress is required.");o=(0,eE.L)({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}let[s]=await eA(e,ew,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,ec.NC)(rG(n))],blockNumber:t,blockTag:r});return s}function r6(e,{method:t}){let r={};return"fallback"===e.transport.type&&e.transport.onResponse?.(({method:e,response:n,status:i,transport:o})=>{"success"===i&&t===e&&(r[n]=o.request)}),t=>r[t]||e.request}async function r4(e){let t=r6(e,{method:"eth_newBlockFilter"}),r=await e.request({method:"eth_newBlockFilter"});return{id:r,request:t(r),type:"block"}}class r5 extends ey.G{constructor(e){super(`Filter type "${e}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}var r8=r(44749),r7=r(73601),r9=r(44812),ne=r(33832);let nt="/docs/contract/encodeEventTopics";function nr(e){let{abi:t,eventName:r,args:n}=e,i=t[0];if(r){let e=(0,ne.mE)({abi:t,name:r});if(!e)throw new eg.mv(r,{docsPath:nt});i=e}if("event"!==i.type)throw new eg.mv(void 0,{docsPath:nt});let o=(0,r9.t)(i),s=(0,r8.n)(o),a=[];if(n&&"inputs"in i){let e=i.inputs?.filter(e=>"indexed"in e&&e.indexed),t=Array.isArray(n)?n:Object.values(n).length>0?e?.map(e=>n[e.name])??[]:[];t.length>0&&(a=e?.map((e,r)=>Array.isArray(t[r])?t[r].map((n,i)=>nn({param:e,value:t[r][i]})):t[r]?nn({param:e,value:t[r]}):null)??[])}return[s,...a]}function nn({param:e,value:t}){if("string"===e.type||"bytes"===e.type)return(0,rB.w)((0,rL.O0)(t));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new r5(e.type);return(0,r7.E)([e],[t])}async function ni(e,t){let{address:r,abi:n,args:i,eventName:o,fromBlock:s,strict:a,toBlock:l}=t,u=r6(e,{method:"eth_newFilter"}),c=o?nr({abi:n,args:i,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:r,fromBlock:"bigint"==typeof s?(0,ec.eC)(s):s,toBlock:"bigint"==typeof l?(0,ec.eC)(l):l,topics:c}]});return{abi:n,args:i,eventName:o,id:d,request:u(d),strict:!!a,type:"event"}}async function no(e,{address:t,args:r,event:n,events:i,fromBlock:o,strict:s,toBlock:a}={}){let l=i??(n?[n]:void 0),u=r6(e,{method:"eth_newFilter"}),c=[];l&&(c=[l.flatMap(e=>nr({abi:[e],eventName:e.name,args:r}))],n&&(c=c[0]));let d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof o?(0,ec.eC)(o):o,toBlock:"bigint"==typeof a?(0,ec.eC)(a):a,...c.length?{topics:c}:{}}]});return{abi:l,args:r,eventName:n?n.name:void 0,fromBlock:o,id:d,request:u(d),strict:!!s,toBlock:a,type:"event"}}async function ns(e){let t=r6(e,{method:"eth_newPendingTransactionFilter"}),r=await e.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:t(r),type:"transaction"}}var na=r(92406),nl=r(86889),nu=r(35301),nc=r(22412);class nd extends ey.G{constructor(e,{account:t,docsPath:r,chain:n,data:i,gas:o,gasPrice:s,maxFeePerGas:a,maxPriorityFeePerGas:l,nonce:u,to:c,value:d}){super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",(0,nc.xr)({from:t?.address,to:c,value:void 0!==d&&`${(0,nl.d)(d)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:o,gasPrice:void 0!==s&&`${(0,nu.o)(s)} gwei`,maxFeePerGas:void 0!==a&&`${(0,nu.o)(a)} gwei`,maxPriorityFeePerGas:void 0!==l&&`${(0,nu.o)(l)} gwei`,nonce:u})].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=e}}var nh=r(43561),np=r(35377);function nf(e,{docsPath:t,...r}){return new nd((()=>{let t=(0,np.k)(e,r);return t instanceof nh.cj?e:t})(),{docsPath:t,...r})}var nm=r(57663),ng=r(23924),ny=r(12127);class nv extends ey.G{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class nb extends ey.G{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class nE extends ey.G{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,nu.o)(e)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class nS extends ey.G{constructor({blockHash:e,blockNumber:t}){let r="Block";e&&(r=`Block at hash "${e}"`),t&&(r=`Block at number "${t}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}var n_=r(3383);async function nT(e,{blockHash:t,blockNumber:r,blockTag:n,includeTransactions:i}={}){let o=n??"latest",s=i??!1,a=void 0!==r?(0,ec.eC)(r):void 0,l=null;if(!(l=t?await e.request({method:"eth_getBlockByHash",params:[t,s]}):await e.request({method:"eth_getBlockByNumber",params:[a||o,s]})))throw new nS({blockHash:t,blockNumber:r});return(e.chain?.formatters?.block?.format||n_.Z)(l)}async function nA(e){return BigInt(await e.request({method:"eth_gasPrice"}))}async function nC(e,t){return nw(e,t)}async function nw(e,t){let{block:r,chain:n=e.chain,request:i}=t||{};if("function"==typeof n?.fees?.defaultPriorityFee){let t=r||await eA(e,nT,"getBlock")({});return n.fees.defaultPriorityFee({block:t,client:e,request:i})}if(void 0!==n?.fees?.defaultPriorityFee)return n?.fees?.defaultPriorityFee;try{let t=await e.request({method:"eth_maxPriorityFeePerGas"});return(0,ea.y_)(t)}catch{let[t,n]=await Promise.all([r?Promise.resolve(r):eA(e,nT,"getBlock")({}),eA(e,nA,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new nb;let i=n-t.baseFeePerGas;if(i<0n)return 0n;return i}}async function nO(e,t){return nR(e,t)}async function nR(e,t){let{block:r,chain:n=e.chain,request:i,type:o="eip1559"}=t||{},s=await (async()=>"function"==typeof n?.fees?.baseFeeMultiplier?n.fees.baseFeeMultiplier({block:r,client:e,request:i}):n?.fees?.baseFeeMultiplier??1.2)();if(s<1)throw new nv;let a=10**(s.toString().split(".")[1]?.length??0),l=e=>e*BigInt(Math.ceil(s*a))/BigInt(a),u=r||await eA(e,nT,"getBlock")({});if("function"==typeof n?.fees?.estimateFeesPerGas){let t=await n.fees.estimateFeesPerGas({block:r,client:e,multiply:l,request:i,type:o});if(null!==t)return t}if("eip1559"===o){if("bigint"!=typeof u.baseFeePerGas)throw new nb;let t="bigint"==typeof i?.maxPriorityFeePerGas?i.maxPriorityFeePerGas:await nw(e,{block:u,chain:n,request:i}),r=l(u.baseFeePerGas);return{maxFeePerGas:i?.maxFeePerGas??r+t,maxPriorityFeePerGas:t}}return{gasPrice:i?.gasPrice??l(await eA(e,nA,"getGasPrice")({}))}}async function nx(e,{address:t,blockTag:r="latest",blockNumber:n}){let i=await e.request({method:"eth_getTransactionCount",params:[t,n?(0,ec.eC)(n):r]});return(0,ea.ly)(i)}var nI=r(19823),nD=r(51956),nP=r(15117),nN=r(78718),nk=r(52202);async function nM(e){let t=await e.request({method:"eth_chainId"});return(0,ea.ly)(t)}let nL=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function nB(e,t){let r;let{account:n=e.account,blobs:i,chain:o,chainId:s,gas:a,kzg:l,nonce:u,parameters:c=nL,type:d}=t,h=n?(0,na.T)(n):void 0,p={...t,...h?{from:h?.address}:{}};async function f(){return r||(r=await eA(e,nT,"getBlock")({blockTag:"latest"}))}if((c.includes("blobVersionedHashes")||c.includes("sidecars"))&&i&&l){let e=(0,nI.P)({blobs:i,kzg:l});if(c.includes("blobVersionedHashes")){let t=(0,nP.C)({commitments:e,to:"hex"});p.blobVersionedHashes=t}if(c.includes("sidecars")){let t=(0,nD.y)({blobs:i,commitments:e,kzg:l}),r=(0,nN.j)({blobs:i,commitments:e,proofs:t,to:"hex"});p.sidecars=r}}if(c.includes("chainId")&&(o?p.chainId=o.id:void 0!==s?p.chainId=s:p.chainId=await eA(e,nM,"getChainId")({})),c.includes("nonce")&&void 0===u&&h&&(p.nonce=await eA(e,nx,"getTransactionCount")({address:h.address,blockTag:"pending"})),(c.includes("fees")||c.includes("type"))&&void 0===d)try{p.type=(0,nk.l)(p)}catch{let e=await f();p.type="bigint"==typeof e?.baseFeePerGas?"eip1559":"legacy"}if(c.includes("fees")){if("eip1559"===p.type||"eip4844"===p.type){if(void 0===p.maxFeePerGas||void 0===p.maxPriorityFeePerGas){let r=await f(),{maxFeePerGas:n,maxPriorityFeePerGas:i}=await nR(e,{block:r,chain:o,request:p});if(void 0===t.maxPriorityFeePerGas&&t.maxFeePerGas&&t.maxFeePerGas<i)throw new nE({maxPriorityFeePerGas:i});p.maxPriorityFeePerGas=i,p.maxFeePerGas=n}}else{if(void 0!==t.maxFeePerGas||void 0!==t.maxPriorityFeePerGas)throw new nb;let r=await f(),{gasPrice:n}=await nR(e,{block:r,chain:o,request:p,type:"legacy"});p.gasPrice=n}}return c.includes("gas")&&void 0===a&&(p.gas=await eA(e,nj,"estimateGas")({...p,account:h?{address:h.address,type:"json-rpc"}:void 0})),(0,ny.F)(p),delete p.parameters,p}async function nj(e,t){let r=t.account??e.account,n=r?(0,na.T)(r):void 0;try{let{accessList:r,blobs:i,blobVersionedHashes:o,blockNumber:s,blockTag:a,data:l,gas:u,gasPrice:c,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:f,to:m,value:g,...y}=await nB(e,{...t,parameters:n?.type==="local"?void 0:["blobVersionedHashes"]}),v=(s?(0,ec.eC)(s):void 0)||a;(0,ny.F)(t);let b=e.chain?.formatters?.transactionRequest?.format,E=(b||ng.tG)({...(0,nm.K)(y,{format:b}),from:n?.address,accessList:r,blobs:i,blobVersionedHashes:o,data:l,gas:u,gasPrice:c,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:f,to:m,value:g}),S=await e.request({method:"eth_estimateGas",params:v?[E,v]:[E]});return BigInt(S)}catch(r){throw nf(r,{...t,account:n,chain:e.chain})}}async function nF(e,t){let{abi:r,address:n,args:i,functionName:o,...s}=t,a=(0,eb.R)({abi:r,args:i,functionName:o});try{return await eA(e,nj,"estimateGas")({data:a,to:n,...s})}catch(t){let e=s.account?(0,na.T)(s.account):void 0;throw eT(t,{abi:r,address:n,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:e?.address})}}async function nU(e){return BigInt(await e.request({method:"eth_blobBaseFee"}))}let nV=new Map,nz=new Map;function nG(e){let t=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:r=>t.set(e,r)}),r=t(e,nV),n=t(e,nz);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}async function n$(e,{cacheKey:t,cacheTime:r=1/0}){let n=nG(t),i=n.response.get();if(i&&r>0&&new Date().getTime()-i.created.getTime()<r)return i.data;let o=n.promise.get();o||(o=e(),n.promise.set(o));try{let e=await o;return n.response.set({created:new Date,data:e}),e}finally{n.promise.clear()}}let nH=e=>`blockNumber.${e}`;async function nq(e,{cacheTime:t=e.cacheTime}={}){return BigInt(await n$(()=>e.request({method:"eth_blockNumber"}),{cacheKey:nH(e.uid),cacheTime:t}))}async function nW(e,{blockHash:t,blockNumber:r,blockTag:n="latest"}={}){let i;let o=void 0!==r?(0,ec.eC)(r):void 0;return i=t?await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]}):await e.request({method:"eth_getBlockTransactionCountByNumber",params:[o||n]}),(0,ea.ly)(i)}async function nK(e,{address:t,blockNumber:r,blockTag:n="latest"}){let i=void 0!==r?(0,ec.eC)(r):void 0,o=await e.request({method:"eth_getCode",params:[t,i||n]});if("0x"!==o)return o}var nY=r(76460),nZ=r(22418),nJ=r(81646);let nQ="/docs/contract/decodeEventLog";function nX(e){let{abi:t,data:r,strict:n,topics:i}=e,o=n??!0,[s,...a]=i;if(!s)throw new eg.FM({docsPath:nQ});let l=t.find(e=>"event"===e.type&&s===(0,r8.n)((0,r9.t)(e)));if(!(l&&"name"in l)||"event"!==l.type)throw new eg.lC(s,{docsPath:nQ});let{name:u,inputs:c}=l,d=c?.some(e=>!("name"in e&&e.name)),h=d?[]:{},p=c.filter(e=>"indexed"in e&&e.indexed);for(let e=0;e<p.length;e++){let t=p[e],r=a[e];if(!r)throw new eg.Gy({abiItem:l,param:t});h[d?e:t.name||e]=n0({param:t,value:r})}let f=c.filter(e=>!("indexed"in e&&e.indexed));if(f.length>0){if(r&&"0x"!==r)try{let e=(0,nJ.r)(f,r);if(e){if(d)h=[...h,...e];else for(let t=0;t<f.length;t++)h[f[t].name]=e[t]}}catch(e){if(o){if(e instanceof eg.xB||e instanceof nZ.lQ)throw new eg.SM({abiItem:l,data:r,params:f,size:(0,nY.d)(r)});throw e}}else if(o)throw new eg.SM({abiItem:l,data:"0x",params:f,size:0})}return{eventName:u,args:Object.values(h).length>0?h:void 0}}function n0({param:e,value:t}){return"string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/)?t:((0,nJ.r)([e],t)||[])[0]}function n1({abi:e,eventName:t,logs:r,strict:n=!0}){return r.map(r=>{try{let i=nX({...r,abi:e,strict:n});if(t&&!t.includes(i.eventName))return null;return{...i,...r}}catch(i){let e,t;if(i instanceof eg.lC)return null;if(i instanceof eg.SM||i instanceof eg.Gy){if(n)return null;e=i.abiItem.name,t=i.abiItem.inputs?.some(e=>!("name"in e&&e.name))}return{...r,args:t?[]:{},eventName:e}}}).filter(Boolean)}var n2=r(99786);async function n3(e,{address:t,blockHash:r,fromBlock:n,toBlock:i,event:o,events:s,args:a,strict:l}={}){let u;let c=l??!1,d=s??(o?[o]:void 0),h=[];d&&(h=[d.flatMap(e=>nr({abi:[e],eventName:e.name,args:a}))],o&&(h=h[0]));let p=(u=r?await e.request({method:"eth_getLogs",params:[{address:t,topics:h,blockHash:r}]}):await e.request({method:"eth_getLogs",params:[{address:t,topics:h,fromBlock:"bigint"==typeof n?(0,ec.eC)(n):n,toBlock:"bigint"==typeof i?(0,ec.eC)(i):i}]})).map(e=>(0,n2.U)(e));return d?n1({abi:d,logs:p,strict:c}):p}async function n6(e,t){let{abi:r,address:n,args:i,blockHash:o,eventName:s,fromBlock:a,toBlock:l,strict:u}=t,c=s?(0,ne.mE)({abi:r,name:s}):void 0,d=c?void 0:r.filter(e=>"event"===e.type);return eA(e,n3,"getLogs")({address:n,args:i,blockHash:o,event:c,events:d,fromBlock:a,toBlock:l,strict:u})}function n4(e){return{baseFeePerGas:e.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(e=>e.map(e=>BigInt(e)))}}async function n5(e,{blockCount:t,blockNumber:r,blockTag:n="latest",rewardPercentiles:i}){let o=r?(0,ec.eC)(r):void 0;return n4(await e.request({method:"eth_feeHistory",params:[(0,ec.eC)(t),o||n,i]}))}async function n8(e,{filter:t}){let r="strict"in t&&t.strict,n=await t.request({method:"eth_getFilterChanges",params:[t.id]});if("string"==typeof n[0])return n;let i=n.map(e=>(0,n2.U)(e));return"abi"in t&&t.abi?n1({abi:t.abi,logs:i,strict:r}):i}async function n7(e,{filter:t}){let r=t.strict??!1,n=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(e=>(0,n2.U)(e));return t.abi?n1({abi:t.abi,logs:n,strict:r}):n}function n9(e){return e.map(e=>({...e,value:BigInt(e.value)}))}function ie(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?(0,ea.ly)(e.nonce):void 0,storageProof:e.storageProof?n9(e.storageProof):void 0}}async function it(e,{address:t,blockNumber:r,blockTag:n,storageKeys:i}){let o=n??"latest",s=void 0!==r?(0,ec.eC)(r):void 0;return ie(await e.request({method:"eth_getProof",params:[t,i,s||o]}))}async function ir(e,{address:t,blockNumber:r,blockTag:n="latest",slot:i}){let o=void 0!==r?(0,ec.eC)(r):void 0;return await e.request({method:"eth_getStorageAt",params:[t,i,o||n]})}var ii=r(20036);async function io(e,{blockHash:t,blockNumber:r,blockTag:n,hash:i,index:o}){let s=n||"latest",a=void 0!==r?(0,ec.eC)(r):void 0,l=null;if(i?l=await e.request({method:"eth_getTransactionByHash",params:[i]}):t?l=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,(0,ec.eC)(o)]}):(a||s)&&(l=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||s,(0,ec.eC)(o)]})),!l)throw new nc.Bh({blockHash:t,blockNumber:r,blockTag:s,hash:i,index:o});return(e.chain?.formatters?.transaction?.format||ii.Tr)(l)}async function is(e,{hash:t,transactionReceipt:r}){let[n,i]=await Promise.all([eA(e,nq,"getBlockNumber")({}),t?eA(e,io,"getBlockNumber")({hash:t}):void 0]),o=r?.blockNumber||i?.blockNumber;return o?n-o+1n:0n}var ia=r(60158);async function il(e,{hash:t}){let r=await e.request({method:"eth_getTransactionReceipt",params:[t]});if(!r)throw new nc.Yb({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||ia.fA)(r)}async function iu(e,t){let{abi:r,address:n,args:i,dataSuffix:o,functionName:s,...a}=t,l=a.account?(0,na.T)(a.account):e.account,u=(0,eb.R)({abi:r,args:i,functionName:s});try{let{data:c}=await eA(e,eC.RE,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:n,...a,account:l}),d=(0,ev.k)({abi:r,args:i,functionName:s,data:c||"0x"}),h=r.filter(e=>"name"in e&&e.name===t.functionName);return{result:d,request:{abi:h,address:n,args:i,dataSuffix:o,functionName:s,...a,account:l}}}catch(e){throw eT(e,{abi:r,address:n,args:i,docsPath:"/docs/contract/simulateContract",functionName:s,sender:l?.address})}}async function ic(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}let id="\x19Ethereum Signed Message:\n";function ih(e,t){let r="string"==typeof e?(0,rL.qX)(e):e.raw instanceof Uint8Array?e.raw:(0,rL.O0)(e.raw),n=(0,rL.qX)(`${id}${r.length}`);return(0,rB.w)((0,rM.zo)([n,r]),t)}let ip="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";BigInt(0),BigInt(1),BigInt(2),(e,t)=>t.toString(16).padStart(2,"0");function im(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function ig(e,t){return im((0,rj.v)(e)?(0,rL.O0)(e):e,(0,rj.v)(t)?(0,rL.O0)(t):t)}let iy="/docs/contract/encodeDeployData";function iv(e){let{abi:t,args:r,bytecode:n}=e;if(!r||0===r.length)return n;let i=t.find(e=>"type"in e&&"constructor"===e.type);if(!i)throw new eg.fM({docsPath:iy});if(!("inputs"in i)||!i.inputs||0===i.inputs.length)throw new eg.cO({docsPath:iy});let o=(0,r7.E)(i.inputs,r);return(0,rM.SM)([n,o])}async function ib(e,{address:t,hash:r,signature:n,...i}){let o=(0,rj.v)(n)?n:(0,ec.NC)(n);try{let{data:n}=await eA(e,eC.RE,"call")({data:iv({abi:em.$o,args:[t,r,o],bytecode:ip}),...i});return ig(n??"0x0","0x1")}catch(e){if(e instanceof es.cg)return!1;throw e}}async function iE(e,{address:t,message:r,signature:n,...i}){return ib(e,{address:t,hash:ih(r),signature:n,...i})}var iS=r(20587),i_=r(39328);let iT=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,iA=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function iC(e){let{domain:t,message:r,primaryType:n,types:i}=e,o=(e,t)=>{for(let r of e){let{name:e,type:n}=r,s=t[e],a=n.match(iA);if(a&&("number"==typeof s||"bigint"==typeof s)){let[e,t,r]=a;(0,ec.eC)(s,{signed:"int"===t,size:parseInt(r)/8})}if("address"===n&&"string"==typeof s&&!(0,i_.U)(s))throw new iS.b({address:s});let l=n.match(iT);if(l){let[e,t]=l;if(t&&(0,nY.d)(s)!==parseInt(t))throw new eg.KY({expectedSize:parseInt(t),givenSize:(0,nY.d)(s)})}let u=i[n];u&&o(u,s)}};i.EIP712Domain&&t&&o(i.EIP712Domain,t),"EIP712Domain"!==n&&o(i[n],r)}function iw({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},"number"==typeof e?.chainId&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function iO(e){let{domain:t={},message:r,primaryType:n}=e,i={EIP712Domain:iw({domain:t}),...e.types};iC({domain:t,message:r,primaryType:n,types:i});let o=["0x1901"];return t&&o.push(iR({domain:t,types:i})),"EIP712Domain"!==n&&o.push(ix({data:r,primaryType:n,types:i})),(0,rB.w)((0,rM.zo)(o))}function iR({domain:e,types:t}){return ix({data:e,primaryType:"EIP712Domain",types:t})}function ix({data:e,primaryType:t,types:r}){let n=iI({data:e,primaryType:t,types:r});return(0,rB.w)(n)}function iI({data:e,primaryType:t,types:r}){let n=[{type:"bytes32"}],i=[iD({primaryType:t,types:r})];for(let o of r[t]){let[t,s]=ik({types:r,name:o.name,type:o.type,value:e[o.name]});n.push(t),i.push(s)}return(0,r7.E)(n,i)}function iD({primaryType:e,types:t}){let r=(0,ec.NC)(iP({primaryType:e,types:t}));return(0,rB.w)(r)}function iP({primaryType:e,types:t}){let r="",n=iN({primaryType:e,types:t});for(let i of(n.delete(e),[e,...Array.from(n).sort()]))r+=`${i}(${t[i].map(({name:e,type:t})=>`${t} ${e}`).join(",")})`;return r}function iN({primaryType:e,types:t},r=new Set){let n=e.match(/^\w*/u),i=n?.[0];if(r.has(i)||void 0===t[i])return r;for(let e of(r.add(i),t[i]))iN({primaryType:e.type,types:t},r);return r}function ik({types:e,name:t,type:r,value:n}){if(void 0!==e[r])return[{type:"bytes32"},(0,rB.w)(iI({data:n,primaryType:r,types:e}))];if("bytes"===r){let e=n.length%2?"0":"";return n=`0x${e+n.slice(2)}`,[{type:"bytes32"},(0,rB.w)(n)]}if("string"===r)return[{type:"bytes32"},(0,rB.w)((0,ec.NC)(n))];if(r.lastIndexOf("]")===r.length-1){let i=r.slice(0,r.lastIndexOf("[")),o=n.map(r=>ik({name:t,type:i,types:e,value:r}));return[{type:"bytes32"},(0,rB.w)((0,r7.E)(o.map(([e])=>e),o.map(([,e])=>e)))]}return[{type:r},n]}async function iM(e,t){let{address:r,signature:n,message:i,primaryType:o,types:s,domain:a,...l}=t;return ib(e,{address:r,hash:iO({message:i,primaryType:o,types:s,domain:a}),signature:n,...l})}let iL=new Map,iB=new Map,ij=0;function iF(e,t,r){let n=++ij,i=()=>iL.get(e)||[],o=()=>{let t=i();iL.set(e,t.filter(e=>e.id!==n))},s=()=>{let t=iB.get(e);1===i().length&&t&&t(),o()},a=i();if(iL.set(e,[...a,{id:n,fns:t}]),a&&a.length>0)return s;let l={};for(let e in t)l[e]=(...t)=>{let r=i();if(0!==r.length)for(let n of r)n.fns[e]?.(...t)};let u=r(l);return"function"==typeof u&&iB.set(e,u),s}var iU=r(5448),iV=r(96838),iz=r(21180);function iG(e,{emitOnBegin:t,initialWaitTime:r,interval:n}){let i=!0,o=()=>i=!1;return(async()=>{let s;t&&(s=await e({unpoll:o}));let a=await r?.(s)??n;await (0,iz.D)(a);let l=async()=>{i&&(await e({unpoll:o}),await (0,iz.D)(n),l())};l()})(),o}function i$(e,{emitOnBegin:t=!1,emitMissed:r=!1,onBlockNumber:n,onError:i,poll:o,pollingInterval:s=e.pollingInterval}){let a;let l=void 0!==o?o:"webSocket"!==e.transport.type,u=()=>iF((0,iV.P)(["watchBlockNumber",e.uid,t,r,s]),{onBlockNumber:n,onError:i},n=>iG(async()=>{try{let t=await eA(e,nq,"getBlockNumber")({cacheTime:0});if(a){if(t===a)return;if(t-a>1&&r)for(let e=a+1n;e<t;e++)n.onBlockNumber(e,a),a=e}(!a||t>a)&&(n.onBlockNumber(t,a),a=t)}catch(e){n.onError?.(e)}},{emitOnBegin:t,interval:s})),c=()=>iF((0,iV.P)(["watchBlockNumber",e.uid,t,r]),{onBlockNumber:n,onError:i},t=>{let r=!0,n=()=>r=!1;return(async()=>{try{let{unsubscribe:i}=await e.transport.subscribe({params:["newHeads"],onData(e){if(!r)return;let n=(0,ea.y_)(e.result?.number);t.onBlockNumber(n,a),a=n},onError(e){t.onError?.(e)}});n=i,r||n()}catch(e){i?.(e)}})(),()=>n()});return l?u():c()}async function iH(e,{confirmations:t=1,hash:r,onReplaced:n,pollingInterval:i=e.pollingInterval,retryCount:o=6,retryDelay:s=({count:e})=>200*~~(1<<e),timeout:a}){let l,u,c;let d=(0,iV.P)(["waitForTransactionReceipt",e.uid,r]),h=!1;return new Promise((p,f)=>{a&&setTimeout(()=>f(new nc.mc({hash:r})),a);let m=iF(d,{onReplaced:n,resolve:p,reject:f},n=>{let a=eA(e,i$,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:i,async onBlockNumber(i){if(h)return;let d=i,p=e=>{a(),e(),m()};try{if(c){if(t>1&&(!c.blockNumber||d-c.blockNumber+1n<t))return;p(()=>n.resolve(c));return}if(l||(h=!0,await (0,iU.J)(async()=>{(l=await eA(e,io,"getTransaction")({hash:r})).blockNumber&&(d=l.blockNumber)},{delay:s,retryCount:o}),h=!1),c=await eA(e,il,"getTransactionReceipt")({hash:r}),t>1&&(!c.blockNumber||d-c.blockNumber+1n<t))return;p(()=>n.resolve(c))}catch(r){if(r instanceof nc.Bh||r instanceof nc.Yb){if(!l){h=!1;return}try{u=l,h=!0;let r=await (0,iU.J)(()=>eA(e,nT,"getBlock")({blockNumber:d,includeTransactions:!0}),{delay:s,retryCount:o,shouldRetry:({error:e})=>e instanceof nS});h=!1;let i=r.transactions.find(({from:e,nonce:t})=>e===u.from&&t===u.nonce);if(!i||(c=await eA(e,il,"getTransactionReceipt")({hash:i.hash}),t>1&&(!c.blockNumber||d-c.blockNumber+1n<t)))return;let a="replaced";i.to===u.to&&i.value===u.value?a="repriced":i.from===i.to&&0n===i.value&&(a="cancelled"),p(()=>{n.onReplaced?.({reason:a,replacedTransaction:u,transaction:i,transactionReceipt:c}),n.resolve(c)})}catch(e){p(()=>n.reject(e))}}else p(()=>n.reject(r))}}})})})}function iq(e,{blockTag:t="latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:i,onError:o,includeTransactions:s,poll:a,pollingInterval:l=e.pollingInterval}){let u;let c=void 0!==a?a:"webSocket"!==e.transport.type,d=s??!1,h=()=>iF((0,iV.P)(["watchBlocks",e.uid,t,r,n,d,l]),{onBlock:i,onError:o},i=>iG(async()=>{try{let n=await eA(e,nT,"getBlock")({blockTag:t,includeTransactions:d});if(n.number&&u?.number){if(n.number===u.number)return;if(n.number-u.number>1&&r)for(let t=u?.number+1n;t<n.number;t++){let r=await eA(e,nT,"getBlock")({blockNumber:t,includeTransactions:d});i.onBlock(r,u),u=r}}(!u?.number||"pending"===t&&!n?.number||n.number&&n.number>u.number)&&(i.onBlock(n,u),u=n)}catch(e){i.onError?.(e)}},{emitOnBegin:n,interval:l})),p=()=>{let t=!0,r=()=>t=!1;return(async()=>{try{let{unsubscribe:n}=await e.transport.subscribe({params:["newHeads"],onData(r){if(!t)return;let n=(e.chain?.formatters?.block?.format||n_.Z)(r.result);i(n,u),u=n},onError(e){o?.(e)}});r=n,t||r()}catch(e){o?.(e)}})(),()=>r()};return c?h():p()}function iW(e,t){let{abi:r,address:n,args:i,batch:o=!0,eventName:s,fromBlock:a,onError:l,onLogs:u,poll:c,pollingInterval:d=e.pollingInterval,strict:h}=t,p=void 0!==c?c:"webSocket"!==e.transport.type||"number"==typeof a,f=()=>{let t=h??!1;return iF((0,iV.P)(["watchContractEvent",n,i,o,e.uid,s,d,t,a]),{onLogs:u,onError:l},l=>{let u,c;void 0!==a&&(u=a-1n);let h=!1,p=iG(async()=>{if(!h){try{c=await eA(e,ni,"createContractEventFilter")({abi:r,address:n,args:i,eventName:s,strict:t,fromBlock:a})}catch{}h=!0;return}try{let a;if(c)a=await eA(e,n8,"getFilterChanges")({filter:c});else{let o=await eA(e,nq,"getBlockNumber")({});a=u&&u!==o?await eA(e,n6,"getContractEvents")({abi:r,address:n,args:i,eventName:s,fromBlock:u+1n,toBlock:o,strict:t}):[],u=o}if(0===a.length)return;if(o)l.onLogs(a);else for(let e of a)l.onLogs([e])}catch(e){c&&e instanceof eS.yR&&(h=!1),l.onError?.(e)}},{emitOnBegin:!0,interval:d});return async()=>{c&&await eA(e,ic,"uninstallFilter")({filter:c}),p()}})},m=()=>{let t=h??!1,a=(0,iV.P)(["watchContractEvent",n,i,o,e.uid,s,d,t]),c=!0,p=()=>c=!1;return iF(a,{onLogs:u,onError:l},t=>((async()=>{try{let o=s?nr({abi:r,eventName:s,args:i}):[],{unsubscribe:a}=await e.transport.subscribe({params:["logs",{address:n,topics:o}],onData(e){if(!c)return;let n=e.result;try{let{eventName:e,args:i}=nX({abi:r,data:n.data,topics:n.topics,strict:h}),o=(0,n2.U)(n,{args:i,eventName:e});t.onLogs([o])}catch(o){let e,r;if(o instanceof eg.SM||o instanceof eg.Gy){if(h)return;e=o.abiItem.name,r=o.abiItem.inputs?.some(e=>!("name"in e&&e.name))}let i=(0,n2.U)(n,{args:r?[]:{},eventName:e});t.onLogs([i])}},onError(e){t.onError?.(e)}});p=a,c||p()}catch(e){l?.(e)}})(),()=>p()))};return p?f():m()}function iK(e,{address:t,args:r,batch:n=!0,event:i,events:o,fromBlock:s,onError:a,onLogs:l,poll:u,pollingInterval:c=e.pollingInterval,strict:d}){let h=void 0!==u?u:"webSocket"!==e.transport.type||"bigint"==typeof s,p=d??!1,f=()=>iF((0,iV.P)(["watchEvent",t,r,n,e.uid,i,c,s]),{onLogs:l,onError:a},a=>{let l,u;void 0!==s&&(l=s-1n);let d=!1,h=iG(async()=>{if(!d){try{u=await eA(e,no,"createEventFilter")({address:t,args:r,event:i,events:o,strict:p,fromBlock:s})}catch{}d=!0;return}try{let s;if(u)s=await eA(e,n8,"getFilterChanges")({filter:u});else{let n=await eA(e,nq,"getBlockNumber")({});s=l&&l!==n?await eA(e,n3,"getLogs")({address:t,args:r,event:i,events:o,fromBlock:l+1n,toBlock:n}):[],l=n}if(0===s.length)return;if(n)a.onLogs(s);else for(let e of s)a.onLogs([e])}catch(e){u&&e instanceof eS.yR&&(d=!1),a.onError?.(e)}},{emitOnBegin:!0,interval:c});return async()=>{u&&await eA(e,ic,"uninstallFilter")({filter:u}),h()}}),m=()=>{let n=!0,s=()=>n=!1;return(async()=>{try{let u=o??(i?[i]:void 0),c=[];u&&(c=[u.flatMap(e=>nr({abi:[e],eventName:e.name,args:r}))],i&&(c=c[0]));let{unsubscribe:h}=await e.transport.subscribe({params:["logs",{address:t,topics:c}],onData(e){if(!n)return;let t=e.result;try{let{eventName:e,args:r}=nX({abi:u??[],data:t.data,topics:t.topics,strict:p}),n=(0,n2.U)(t,{args:r,eventName:e});l([n])}catch(i){let e,r;if(i instanceof eg.SM||i instanceof eg.Gy){if(d)return;e=i.abiItem.name,r=i.abiItem.inputs?.some(e=>!("name"in e&&e.name))}let n=(0,n2.U)(t,{args:r?[]:{},eventName:e});l([n])}},onError(e){a?.(e)}});s=h,n||s()}catch(e){a?.(e)}})(),()=>s()};return h?f():m()}function iY(e,{batch:t=!0,onError:r,onTransactions:n,poll:i,pollingInterval:o=e.pollingInterval}){let s=void 0!==i?i:"webSocket"!==e.transport.type,a=()=>iF((0,iV.P)(["watchPendingTransactions",e.uid,t,o]),{onTransactions:n,onError:r},r=>{let n;let i=iG(async()=>{try{if(!n)try{n=await eA(e,ns,"createPendingTransactionFilter")({});return}catch(e){throw i(),e}let o=await eA(e,n8,"getFilterChanges")({filter:n});if(0===o.length)return;if(t)r.onTransactions(o);else for(let e of o)r.onTransactions([e])}catch(e){r.onError?.(e)}},{emitOnBegin:!0,interval:o});return async()=>{n&&await eA(e,ic,"uninstallFilter")({filter:n}),i()}}),l=()=>{let t=!0,i=()=>t=!1;return(async()=>{try{let{unsubscribe:o}=await e.transport.subscribe({params:["newPendingTransactions"],onData(e){if(!t)return;let r=e.result;n([r])},onError(e){r?.(e)}});i=o,t||i()}catch(e){r?.(e)}})(),()=>i()};return s?a():l()}async function iZ(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}function iJ(e){return{call:t=>(0,eC.RE)(e,t),createBlockFilter:()=>r4(e),createContractEventFilter:t=>ni(e,t),createEventFilter:t=>no(e,t),createPendingTransactionFilter:()=>ns(e),estimateContractGas:t=>nF(e,t),estimateGas:t=>nj(e,t),getBalance:t=>ed(e,t),getBlobBaseFee:()=>nU(e),getBlock:t=>nT(e,t),getBlockNumber:t=>nq(e,t),getBlockTransactionCount:t=>nW(e,t),getBytecode:t=>nK(e,t),getChainId:()=>nM(e),getContractEvents:t=>n6(e,t),getEnsAddress:t=>r2(e,t),getEnsAvatar:t=>rH(e,t),getEnsName:t=>rJ(e,t),getEnsResolver:t=>r3(e,t),getEnsText:t=>r$(e,t),getFeeHistory:t=>n5(e,t),estimateFeesPerGas:t=>nO(e,t),getFilterChanges:t=>n8(e,t),getFilterLogs:t=>n7(e,t),getGasPrice:()=>nA(e),getLogs:t=>n3(e,t),getProof:t=>it(e,t),estimateMaxPriorityFeePerGas:t=>nC(e,t),getStorageAt:t=>ir(e,t),getTransaction:t=>io(e,t),getTransactionConfirmations:t=>is(e,t),getTransactionCount:t=>nx(e,t),getTransactionReceipt:t=>il(e,t),multicall:t=>eO(e,t),prepareTransactionRequest:t=>nB(e,t),readContract:t=>ew(e,t),sendRawTransaction:t=>iZ(e,t),simulateContract:t=>iu(e,t),verifyMessage:t=>iE(e,t),verifyTypedData:t=>iM(e,t),uninstallFilter:t=>ic(e,t),waitForTransactionReceipt:t=>iH(e,t),watchBlocks:t=>iq(e,t),watchBlockNumber:t=>i$(e,t),watchContractEvent:t=>iW(e,t),watchEvent:t=>iK(e,t),watchPendingTransactions:t=>iY(e,t)}}function iQ(e,t={}){let r;try{r=e.getClient(t)}catch{}return r}function iX(e,t={}){let r=iQ(e,t);return r?.extend(iJ)}function i0(e,t){let{onChange:r}=t;return e.subscribe(()=>iX(e),r,{equalityFn:(e,t)=>e?.uid===t?.uid})}function i1(e={}){let t=X(e);return(0,ee.useSyncExternalStoreWithSelector)(e=>i0(t,{onChange:e}),()=>iX(t,e),()=>iX(t,e),e=>e,(e,t)=>e?.uid===t?.uid)}function i2(e={}){let{onConnect:t,onDisconnect:r}=e;X(e)}var i3=r(71180),i6=class extends ez.l{#e;#i=void 0;#T;#A;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#C()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,eF.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#T,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,eF.Ym)(t.mutationKey)!==(0,eF.Ym)(this.options.mutationKey)?this.reset():this.#T?.state.status==="pending"&&this.#T.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#T?.removeObserver(this)}onMutationUpdate(e){this.#C(),this.#_(e)}getCurrentResult(){return this.#i}reset(){this.#T?.removeObserver(this),this.#T=void 0,this.#C(),this.#_()}mutate(e,t){return this.#A=t,this.#T?.removeObserver(this),this.#T=this.#e.getMutationCache().build(this.#e,this.options),this.#T.addObserver(this),this.#T.execute(e)}#C(){let e=this.#T?.state??(0,i3.R)();this.#i={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#_(e){eU.V.batch(()=>{if(this.#A&&this.hasListeners()){let t=this.#i.variables,r=this.#i.context;e?.type==="success"?(this.#A.onSuccess?.(e.data,t,r),this.#A.onSettled?.(e.data,null,t,r)):e?.type==="error"&&(this.#A.onError?.(e.error,t,r),this.#A.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(e=>{e(this.#i)})})}};function i4(e,t){let r=(0,e0.NL)(t),[n]=P.useState(()=>new i6(r,e));P.useEffect(()=>{n.setOptions(e)},[n,e]);let i=P.useSyncExternalStore(P.useCallback(e=>n.subscribe(eU.V.batchCalls(e)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=P.useCallback((e,t)=>{n.mutate(e,t).catch(e6)},[n]);if(i.error&&e3(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}async function i5(e,t={}){let r;if(t.connector)r=t.connector;else{let{connections:t,current:n}=e.state,i=t.get(n);r=i?.connector}let n=e.state.connections;r&&(await r.disconnect(),r.emitter.off("change",e._internal.events.change),r.emitter.off("disconnect",e._internal.events.disconnect),r.emitter.on("connect",e._internal.events.connect),n.delete(r.uid)),e.setState(e=>{if(0===n.size)return{...e,connections:new Map,current:void 0,status:"disconnected"};let t=n.values().next().value;return{...e,connections:new Map(n),current:t.connector.uid}});{let t=e.state.current;if(!t)return;let r=e.state.connections.get(t)?.connector;if(!r)return;await e.storage?.setItem("recentConnectorId",r.id)}}function i8(e){return{mutationFn:t=>i5(e,t),mutationKey:["disconnect"]}}let i7=[];function i9(e){let t=[...e.state.connections.values()];return"reconnecting"===e.state.status||$(i7,t)?i7:(i7=t,t)}function oe(e,t){let{onChange:r}=t;return e.subscribe(()=>i9(e),r,{equalityFn:$})}function ot(e={}){let t=X(e);return(0,P.useSyncExternalStore)(e=>oe(t,{onChange:e}),()=>i9(t),()=>i9(t))}function or(e={}){let{mutation:t}=e,r=X(e),n=i8(r),{mutate:i,mutateAsync:o,...s}=i4({...t,...n});return{...s,connectors:ot({config:r}).map(e=>e.connector),disconnect:i,disconnectAsync:o}}var on=r(60962),oi=r(65826),oo=r(32064),os=r(55745),oa=(0,r(45305)._)(),ol=function(){},ou=P.forwardRef(function(e,t){var r=P.useRef(null),n=P.useState({onScrollCapture:ol,onWheelCapture:ol,onTouchMoveCapture:ol}),i=n[0],o=n[1],s=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,d=e.shards,h=e.sideCar,p=e.noIsolation,f=e.inert,m=e.allowPinchZoom,g=e.as,y=void 0===g?"div":g,v=e.gapMode,b=(0,oi.__rest)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,S=(0,os.q)([r,t]),_=(0,oi.__assign)((0,oi.__assign)({},b),i);return P.createElement(P.Fragment,null,c&&P.createElement(E,{sideCar:oa,removeScrollBar:u,shards:d,noIsolation:p,inert:f,setCallbacks:o,allowPinchZoom:!!m,lockRef:r,gapMode:v}),s?P.cloneElement(P.Children.only(a),(0,oi.__assign)((0,oi.__assign)({},_),{ref:S})):P.createElement(y,(0,oi.__assign)({},_,{className:l,ref:S}),a))});ou.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},ou.classNames={fullWidth:oo.zi,zeroRight:oo.pF};var oc=r(73943),od=r(3566),oh=r(98848),op=!1;if("undefined"!=typeof window)try{var of=Object.defineProperty({},"passive",{get:function(){return op=!0,!0}});window.addEventListener("test",of,of),window.removeEventListener("test",of,of)}catch(e){op=!1}var om=!!op&&{passive:!1},og=function(e){return"TEXTAREA"===e.tagName},oy=function(e,t){var r=window.getComputedStyle(e);return"hidden"!==r[t]&&!(r.overflowY===r.overflowX&&!og(e)&&"visible"===r[t])},ov=function(e){return oy(e,"overflowY")},ob=function(e){return oy(e,"overflowX")},oE=function(e,t){var r=t.ownerDocument,n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),oT(e,n)){var i=oA(e,n);if(i[1]>i[2])return!0}n=n.parentNode}while(n&&n!==r.body);return!1},oS=function(e){return[e.scrollTop,e.scrollHeight,e.clientHeight]},o_=function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]},oT=function(e,t){return"v"===e?ov(t):ob(t)},oA=function(e,t){return"v"===e?oS(t):o_(t)},oC=function(e,t){return"h"===e&&"rtl"===t?-1:1},ow=function(e,t,r,n,i){var o=oC(e,window.getComputedStyle(t).direction),s=o*n,a=r.target,l=t.contains(a),u=!1,c=s>0,d=0,h=0;do{var p=oA(e,a),f=p[0],m=p[1]-p[2]-o*f;(f||m)&&oT(e,a)&&(d+=m,h+=f),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return c&&(i&&1>Math.abs(d)||!i&&s>d)?u=!0:!c&&(i&&1>Math.abs(h)||!i&&-s>h)&&(u=!0),u},oO=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},oR=function(e){return[e.deltaX,e.deltaY]},ox=function(e){return e&&"current"in e?e.current:e},oI=function(e,t){return e[0]===t[0]&&e[1]===t[1]},oD=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},oP=0,oN=[];function ok(e){var t=P.useRef([]),r=P.useRef([0,0]),n=P.useRef(),i=P.useState(oP++)[0],o=P.useState(oh.Ws)[0],s=P.useRef(e);P.useEffect(function(){s.current=e},[e]),P.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=(0,oi.__spreadArray)([e.lockRef.current],(e.shards||[]).map(ox),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=P.useCallback(function(e,t){if("touches"in e&&2===e.touches.length)return!s.current.allowPinchZoom;var i,o=oO(e),a=r.current,l="deltaX"in e?e.deltaX:a[0]-o[0],u="deltaY"in e?e.deltaY:a[1]-o[1],c=e.target,d=Math.abs(l)>Math.abs(u)?"h":"v";if("touches"in e&&"h"===d&&"range"===c.type)return!1;var h=oE(d,c);if(!h)return!0;if(h?i=d:(i="v"===d?"h":"v",h=oE(d,c)),!h)return!1;if(!n.current&&"changedTouches"in e&&(l||u)&&(n.current=i),!i)return!0;var p=n.current||i;return ow(p,t,e,"h"===p?l:u,!0)},[]),l=P.useCallback(function(e){var r=e;if(oN.length&&oN[oN.length-1]===o){var n="deltaY"in r?oR(r):oO(r),i=t.current.filter(function(e){return e.name===r.type&&(e.target===r.target||r.target===e.shadowParent)&&oI(e.delta,n)})[0];if(i&&i.should){r.cancelable&&r.preventDefault();return}if(!i){var l=(s.current.shards||[]).map(ox).filter(Boolean).filter(function(e){return e.contains(r.target)});(l.length>0?a(r,l[0]):!s.current.noIsolation)&&r.cancelable&&r.preventDefault()}}},[]),u=P.useCallback(function(e,r,n,i){var o={name:e,delta:r,target:n,should:i,shadowParent:oM(n)};t.current.push(o),setTimeout(function(){t.current=t.current.filter(function(e){return e!==o})},1)},[]),c=P.useCallback(function(e){r.current=oO(e),n.current=void 0},[]),d=P.useCallback(function(t){u(t.type,oR(t),t.target,a(t,e.lockRef.current))},[]),h=P.useCallback(function(t){u(t.type,oO(t),t.target,a(t,e.lockRef.current))},[]);P.useEffect(function(){return oN.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,om),document.addEventListener("touchmove",l,om),document.addEventListener("touchstart",c,om),function(){oN=oN.filter(function(e){return e!==o}),document.removeEventListener("wheel",l,om),document.removeEventListener("touchmove",l,om),document.removeEventListener("touchstart",c,om)}},[]);var p=e.removeScrollBar,f=e.inert;return P.createElement(P.Fragment,null,f?P.createElement(o,{styles:oD(i)}):null,p?P.createElement(od.jp,{gapMode:e.gapMode}):null)}function oM(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}let oL=(0,oc.L)(oa,ok);var oB=P.forwardRef(function(e,t){return P.createElement(ou,(0,oi.__assign)({},e,{ref:t,sideCar:oL}))});oB.classNames=ou.classNames;let oj=oB;function oF(e){var t=e.match(/^var\((.*)\)$/);return t?t[1]:e}function oU(e,t){var r=e;for(var n of t){if(!(n in r))throw Error("Path ".concat(t.join(" -> ")," does not exist in object"));r=r[n]}return r}function oV(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n={};for(var i in e){var o=e[i],s=[...r,i];"string"==typeof o||"number"==typeof o||null==o?n[i]=t(o,s):"object"!=typeof o||Array.isArray(o)?console.warn('Skipping invalid key "'.concat(s.join("."),'". Should be a string, number, null or object. Received: "').concat(Array.isArray(o)?"Array":typeof o,'"')):n[i]=oV(o,t,s)}return n}function oz(e,t){var r={};if("object"==typeof t){var n=e;oV(t,(e,t)=>{null!=e&&(r[oF(oU(n,t))]=String(e))})}else{var i=e;for(var o in i){var s=i[o];null!=s&&(r[oF(o)]=s)}}return Object.defineProperty(r,"toString",{value:function(){return Object.keys(this).map(e=>"".concat(e,":").concat(this[e])).join(";")},writable:!1}),r}var oG=r(61587);async function o$(e,t){let r;if((r="function"==typeof t.connector?e._internal.connectors.setup(t.connector):t.connector).uid===e.state.current)throw new oG.wi;try{e.setState(e=>({...e,status:"connecting"})),r.emitter.emit("message",{type:"connecting"});let n=await r.connect({chainId:t.chainId}),i=n.accounts;return r.emitter.off("connect",e._internal.events.connect),r.emitter.on("change",e._internal.events.change),r.emitter.on("disconnect",e._internal.events.disconnect),await e.storage?.setItem("recentConnectorId",r.id),e.setState(e=>({...e,connections:new Map(e.connections).set(r.uid,{accounts:i,chainId:n.chainId,connector:r}),current:r.uid,status:"connected"})),{accounts:i,chainId:n.chainId}}catch(t){throw e.setState(e=>({...e,status:e.current?"connected":"disconnected"})),t}}function oH(e){return{mutationFn:t=>o$(e,t),mutationKey:["connect"]}}function oq(e,t){let{onChange:r}=t;return e._internal.connectors.subscribe((e,t)=>{r(Object.values(e),t)})}let oW=[];function oK(e){let t=e.connectors;return $(oW,t)?oW:(oW=t,t)}function oY(e={}){let t=X(e);return(0,P.useSyncExternalStore)(e=>oq(t,{onChange:e}),()=>oK(t),()=>oK(t))}function oZ(e={}){let{mutation:t}=e,r=X(e),n=oY({config:r}),i=oH(r),{mutate:o,mutateAsync:s,...a}=i4({...t,...i});return{...a,connect:o,connectAsync:s,connectors:n}}var oJ=r(53557);class oQ extends ey.G{constructor({docsPath:e}={}){super("Could not find an Account to execute with this Action.\nPlease provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient.",{docsPath:e,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}async function oX(e,{account:t=e.account,message:r}){if(!t)throw new oQ({docsPath:"/docs/actions/wallet/signMessage"});let n=(0,na.T)(t);if("local"===n.type)return n.signMessage({message:r});let i="string"==typeof r?(0,ec.$G)(r):r.raw instanceof Uint8Array?(0,ec.NC)(r.raw):r.raw;return e.request({method:"personal_sign",params:[i,n.address]},{retryCount:0})}let o0=256,o1=256;function o2(e=11){if(!b||o1+e>2*o0){b="",o1=0;for(let e=0;e<o0;e++)b+=(256+256*Math.random()|0).toString(16).substring(1)}return b.substring(o1,o1+++e)}function o3(e){let{batch:t,cacheTime:r=e.pollingInterval??4e3,ccipRead:n,key:i="base",name:o="Base Client",pollingInterval:s=4e3,type:a="base"}=e,l=e.chain,u=e.account?(0,na.T)(e.account):void 0,{config:c,request:d,value:h}=e.transport({chain:l,pollingInterval:s}),p={account:u,batch:t,cacheTime:r,ccipRead:n,chain:l,key:i,name:o,pollingInterval:s,request:d,transport:{...c,...h},type:a,uid:o2()};function f(e){return t=>{let r=t(e);for(let e in p)delete r[e];let n={...e,...r};return Object.assign(n,{extend:f(n)})}}return Object.assign(p,{extend:f(p)})}var o6=r(2090);function o4(e,t={}){return async(r,n={})=>{let{retryDelay:i=150,retryCount:o=3}={...t,...n};return(0,iU.J)(async()=>{try{return await e(r)}catch(t){let e=t;switch(e.code){case eS.s7.code:throw new eS.s7(e);case eS.B.code:throw new eS.B(e);case eS.LX.code:throw new eS.LX(e);case eS.nY.code:throw new eS.nY(e);case eS.XS.code:throw new eS.XS(e);case eS.yR.code:throw new eS.yR(e);case eS.Og.code:throw new eS.Og(e);case eS.pT.code:throw new eS.pT(e);case eS.KB.code:throw new eS.KB(e);case eS.gS.code:throw new eS.gS(e);case eS.Pv.code:throw new eS.Pv(e);case eS.GD.code:throw new eS.GD(e);case eS.ab.code:throw new eS.ab(e);case eS.PE.code:throw new eS.PE(e);case eS.Ts.code:throw new eS.Ts(e);case eS.u5.code:throw new eS.u5(e);case eS.I0.code:throw new eS.I0(e);case eS.x3.code:throw new eS.x3(e);case 5e3:throw new eS.ab(e);default:if(t instanceof ey.G)throw t;throw new eS.ir(e)}}},{delay:({count:e,error:t})=>{if(t&&t instanceof o6.Gg){let e=t?.headers?.get("Retry-After");if(e?.match(/\d/))return 1e3*parseInt(e)}return~~(1<<e)*i},retryCount:o,shouldRetry:({error:e})=>o5(e)})}}function o5(e){return"code"in e&&"number"==typeof e.code?-1===e.code||e.code===eS.Pv.code||e.code===eS.XS.code:!(e instanceof o6.Gg)||!e.status||403===e.status||408===e.status||413===e.status||429===e.status||500===e.status||502===e.status||503===e.status||504===e.status}function o8({key:e,name:t,request:r,retryCount:n=3,retryDelay:i=150,timeout:o,type:s},a){return{config:{key:e,name:t,request:r,retryCount:n,retryDelay:i,timeout:o,type:s},request:o4(r,{retryCount:n,retryDelay:i}),value:a}}function o7(e,t={}){let{key:r="custom",name:n="Custom Provider",retryDelay:i}=t;return({retryCount:o})=>o8({key:r,name:n,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:i,type:"custom"})}var o9=r(48489);async function se(e,t={}){let r;if(t.connector){let{connector:e}=t,[n,i]=await Promise.all([e.getAccounts(),e.getChainId()]);r={accounts:n,chainId:i,connector:e}}else r=e.state.connections.get(e.state.current);if(!r)throw new oG.aH;let n=t.chainId??r.chainId,i=r.connector;if(i.getClient)return i.getClient({chainId:n});let o=(0,na.T)(t.account??r.accounts[0]);o.address=(0,o9.K)(o.address);let s=e.chains.find(e=>e.id===n),a=await r.connector.getProvider({chainId:n});if(t.account&&!r.accounts.includes(o.address))throw new oG.JK({address:o.address,connector:i});return o3({account:o,chain:s,name:"Connector Client",transport:e=>o7(a)({...e,retryCount:0})})}async function st(e,t){let r;let{account:n,connector:i,...o}=t;return eh(r="object"==typeof n&&"local"===n.type?e.getClient():await se(e,{account:n,connector:i}),oX,"signMessage")({...o,...n?{account:n}:{}})}function sr(e){return{mutationFn:t=>st(e,t),mutationKey:["signMessage"]}}function sn(e={}){let{mutation:t}=e,r=sr(X(e)),{mutate:n,mutateAsync:i,...o}=i4({...t,...r});return{...o,signMessage:n,signMessageAsync:i}}var si=r(47699);async function so(e,t){let{chainId:r}=t,n=e.state.connections.get(t.connector?.uid??e.state.current);if(n){let e=n.connector;if(!e.switchChain)throw new si.O({connector:e});return await e.switchChain({chainId:r})}let i=e.chains.find(e=>e.id===r);if(!i)throw new oG.X4;return e.setState(e=>({...e,chainId:r})),i}function ss(e){return{mutationFn:t=>so(e,t),mutationKey:["switchChain"]}}let sa=[];function sl(e){let t=e.chains;return $(sa,t)?sa:(sa=t,t)}function su(e,t){let{onChange:r}=t;return e._internal.chains.subscribe((e,t)=>{r(e,t)})}function sc(e={}){let t=X(e);return(0,P.useSyncExternalStore)(e=>su(t,{onChange:e}),()=>sl(t),()=>sl(t))}function sd(e={}){let{mutation:t}=e,r=X(e),n=ss(r),{mutate:i,mutateAsync:o,...s}=i4({...t,...n});return{...s,chains:sc({config:r}),switchChain:i,switchChainAsync:o}}var sh=r(31270);class sp extends ey.G{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}var sf=r(59797),sm=r(17143);let sg=function(){return{current:0,take(){return this.current++},reset(){this.current=0}}}();function sy(e,t={}){return{async request(r){let{body:n,fetchOptions:i={},onRequest:o=t.onRequest,onResponse:s=t.onResponse,timeout:a=t.timeout??1e4}=r,{headers:l,method:u,signal:c}={...t.fetchOptions,...i};try{let t;let r=await (0,sm.F)(async({signal:t})=>{let r={...i,body:Array.isArray(n)?(0,iV.P)(n.map(e=>({jsonrpc:"2.0",id:e.id??sg.take(),...e}))):(0,iV.P)({jsonrpc:"2.0",id:n.id??sg.take(),...n}),headers:{...l,"Content-Type":"application/json"},method:u||"POST",signal:c||(a>0?t:null)},s=new Request(e,r);return o&&await o(s),await fetch(e,r)},{errorInstance:new o6.W5({body:n,url:e}),timeout:a,signal:!0});if(s&&await s(r),t=r.headers.get("Content-Type")?.startsWith("application/json")?await r.json():await r.text(),!r.ok)throw new o6.Gg({body:n,details:(0,iV.P)(t.error)||r.statusText,headers:r.headers,status:r.status,url:e});return t}catch(t){if(t instanceof o6.Gg||t instanceof o6.W5)throw t;throw new o6.Gg({body:n,details:t.message,url:e})}}}}function sv(e,t={}){let{batch:r,fetchOptions:n,key:i="http",name:o="HTTP JSON-RPC",onFetchRequest:s,onFetchResponse:a,retryDelay:l}=t;return({chain:u,retryCount:c,timeout:d})=>{let{batchSize:h=1e3,wait:p=0}="object"==typeof r?r:{},f=t.retryCount??c,m=d??t.timeout??1e4,g=e||u?.rpcUrls.default.http[0];if(!g)throw new sp;let y=sy(g,{fetchOptions:n,onRequest:s,onResponse:a,timeout:m});return o8({key:i,name:o,async request({method:t,params:n}){let i={method:t,params:n},{schedule:o}=(0,sf.S)({id:`${e}`,wait:p,shouldSplitBatch:e=>e.length>h,fn:e=>y.request({body:e}),sort:(e,t)=>e.id-t.id}),s=async e=>r?o(e):[await y.request({body:e})],[{error:a,result:l}]=await s(i);if(a)throw new o6.bs({body:i,error:a,url:g});return l},retryCount:f,retryDelay:l,timeout:m,type:"http"},{fetchOptions:n,url:g})}}function sb(e){let t=t=>e(t.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)}function sE(){let e=new Set,t=[],r=()=>sb(r=>{t.some(({info:e})=>e.uuid===r.info.uuid)||(t=[...t,r],e.forEach(e=>e(t,{added:[r]})))}),n=r();return{_listeners:()=>e,clear(){e.forEach(e=>e([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),n()},findProvider:({rdns:e})=>t.find(t=>t.info.rdns===e),getProviders:()=>t,reset(){this.clear(),n(),n=r()},subscribe:(r,{emitImmediately:n}={})=>(e.add(r),n&&r(t,{added:t}),()=>e.delete(r))}}let sS=e=>(t,r,n)=>{let i=n.subscribe;return n.subscribe=(e,t,r)=>{let o=e;if(t){let i=(null==r?void 0:r.equalityFn)||Object.is,s=e(n.getState());o=r=>{let n=e(r);if(!i(s,n)){let e=s;t(s=n,e)}},(null==r?void 0:r.fireImmediately)&&t(s,s)}return i(o)},e(t,r,n)};function s_(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var n;let i=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),o=null!=(n=r.getItem(e))?n:null;return o instanceof Promise?o.then(i):i(o)},setItem:(e,n)=>r.setItem(e,JSON.stringify(n,null==t?void 0:t.replacer)),removeItem:e=>r.removeItem(e)}}let sT=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>sT(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>sT(t)(e)}}},sA=(e,t)=>(r,n,i)=>{let o,s,a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},l=!1,u=new Set,c=new Set;try{o=a.getStorage()}catch(e){}if(!o)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...e)},n,i);let d=sT(a.serialize),h=()=>{let e;let t=d({state:a.partialize({...n()}),version:a.version}).then(e=>o.setItem(a.name,e)).catch(t=>{e=t});if(e)throw e;return t},p=i.setState;i.setState=(e,t)=>{p(e,t),h()};let f=e((...e)=>{r(...e),h()},n,i),m=()=>{var e;if(!o)return;l=!1,u.forEach(e=>e(n()));let t=(null==(e=a.onRehydrateStorage)?void 0:e.call(a,n()))||void 0;return sT(o.getItem.bind(o))(a.name).then(e=>{if(e)return a.deserialize(e)}).then(e=>{if(e){if("number"!=typeof e.version||e.version===a.version)return e.state;if(a.migrate)return a.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}}).then(e=>{var t;return r(s=a.merge(e,null!=(t=n())?t:f),!0),h()}).then(()=>{null==t||t(s,void 0),l=!0,c.forEach(e=>e(s))}).catch(e=>{null==t||t(void 0,e)})};return i.persist={setOptions:e=>{a={...a,...e},e.getStorage&&(o=e.getStorage())},clearStorage:()=>{null==o||o.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>m(),hasHydrated:()=>l,onHydrate:e=>(u.add(e),()=>{u.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},m(),s||f},sC=(e,t)=>(r,n,i)=>{let o,s={storage:s_(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},a=!1,l=new Set,u=new Set,c=s.storage;if(!c)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...e)},n,i);let d=()=>{let e=s.partialize({...n()});return c.setItem(s.name,{state:e,version:s.version})},h=i.setState;i.setState=(e,t)=>{h(e,t),d()};let p=e((...e)=>{r(...e),d()},n,i),f=()=>{var e,t;if(!c)return;a=!1,l.forEach(e=>{var t;return e(null!=(t=n())?t:p)});let i=(null==(t=s.onRehydrateStorage)?void 0:t.call(s,null!=(e=n())?e:p))||void 0;return sT(c.getItem.bind(c))(s.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===s.version)return e.state;if(s.migrate)return s.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}}).then(e=>{var t;return r(o=s.merge(e,null!=(t=n())?t:p),!0),d()}).then(()=>{null==i||i(o,void 0),o=n(),a=!0,u.forEach(e=>e(o))}).catch(e=>{null==i||i(void 0,e)})};return i.persist={setOptions:e=>{s={...s,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>f(),hasHydrated:()=>a,onHydrate:e=>(l.add(e),()=>{l.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},s.skipHydration||f(),o||p},sw=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),sA(e,t)):sC(e,t),sO=e=>{let t;let r=new Set,n=(e,n)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=n?n:"object"!=typeof i)?i:Object.assign({},t,i),r.forEach(r=>r(t,e))}},i=()=>t,o={setState:n,getState:i,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}};return t=e(n,i,o),o},sR=e=>e?sO(e):sO;var sx=r(78376),sI=r(26196),sD=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class sP{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:e}),S.set(this,new sI)}on(e,t){sD(this,S,"f").on(e,t)}once(e,t){sD(this,S,"f").once(e,t)}off(e,t){sD(this,S,"f").off(e,t)}emit(e,...t){let r=t[0];sD(this,S,"f").emit(e,{uid:this.uid,...r})}listenerCount(e){return sD(this,S,"f").listenerCount(e)}}function sN(e){return new sP(e)}function sk(e,t){return JSON.parse(e,(e,r)=>{let n=r;return n?.__type==="bigint"&&(n=BigInt(n.value)),n?.__type==="Map"&&(n=new Map(n.value)),t?.(e,n)??n})}function sM(e,t){return e.slice(0,t).join(".")||"."}function sL(e,t){let{length:r}=e;for(let n=0;n<r;++n)if(e[n]===t)return n+1;return 0}function sB(e,t){let r="function"==typeof e,n="function"==typeof t,i=[],o=[];return function(s,a){if("object"==typeof a){if(i.length){let e=sL(i,this);0===e?i[i.length]=this:(i.splice(e),o.splice(e)),o[o.length]=s;let r=sL(i,a);if(0!==r)return n?t.call(this,s,a,sM(o,r)):`[ref=${sM(o,r)}]`}else i[0]=a,o[0]=s}return r?e.call(this,s,a):a}}function sj(e,t,r,n){return JSON.stringify(e,sB((e,r)=>{let n=r;return"bigint"==typeof n&&(n={__type:"bigint",value:r.toString()}),n instanceof Map&&(n={__type:"Map",value:Array.from(r.entries())}),t?.(e,n)??n},n),r??void 0)}function sF(e){let{deserialize:t=sk,key:r="wagmi",serialize:n=sj,storage:i=sU}=e;function o(e){return e instanceof Promise?e.then(e=>e).catch(()=>null):e}return{...i,key:r,async getItem(e,n){let s=i.getItem(`${r}.${e}`),a=await o(s);return a?t(a)??null:n??null},async setItem(e,t){let s=`${r}.${e}`;null===t?await o(i.removeItem(s)):await o(i.setItem(s,n(t)))},async removeItem(e){await o(i.removeItem(`${r}.${e}`))}}}S=new WeakMap;let sU={getItem:()=>null,setItem:()=>{},removeItem:()=>{}},sV=256,sz=256;function sG(e=11){if(!E||sz+e>2*sV){E="",sz=0;for(let e=0;e<sV;e++)E+=(256+256*Math.random()|0).toString(16).substring(1)}return E.substring(sz,sz+++e)}var s$=r(16473);function sH(e){let t;let{multiInjectedProviderDiscovery:r=!0,storage:n=sF({storage:"undefined"!=typeof window&&window.localStorage?window.localStorage:sU}),syncConnectedChain:i=!0,ssr:o,...s}=e,a="undefined"!=typeof window&&r?sE():void 0,l=sR(()=>s.chains),u=sR(()=>[...s.connectors??[],...o?[]:a?.getProviders().map(d)??[]].map(c));function c(e){let t=sN(sG()),r={...e({emitter:t,chains:l.getState(),storage:n}),emitter:t,uid:t.uid};return t.on("connect",v),r.setup?.(),r}function d(e){let{info:t}=e,r=e.provider;return(0,sx.L)({target:{...t,id:t.rdns,provider:r}})}let h=new Map;function p(e={}){let t;let r=e.chainId??g.getState().chainId,n=l.getState().find(e=>e.id===r);if(e.chainId&&!n)throw new oG.X4;{let e=h.get(g.getState().chainId);if(e&&!n)return e;if(!n)throw new oG.X4}{let e=h.get(r);if(e)return e}if(s.client)t=s.client({chain:n});else{let e=n.id,r=l.getState().map(e=>e.id),i={};for(let[t,n]of Object.entries(s))if("chains"!==t&&"client"!==t&&"connectors"!==t&&"transports"!==t){if("object"==typeof n){if(e in n)i[t]=n[e];else{if(r.some(e=>e in n))continue;i[t]=n}}else i[t]=n}t=o3({...i,chain:n,batch:i.batch??{multicall:!0},transport:t=>s.transports[e]({...t,connectors:u})})}return h.set(r,t),t}function f(){return{chainId:l.getState()[0].id,connections:new Map,current:void 0,status:"disconnected"}}let m="0.0.0-canary-";t=s$.i.startsWith(m)?parseInt(s$.i.replace(m,"")):parseInt(s$.i.split(".")[0]??"0");let g=sR(sS(n?sw(f,{migrate(e,r){if(r===t)return e;let n=f(),i=e&&"object"==typeof e&&"chainId"in e&&"number"==typeof e.chainId?e.chainId:n.chainId;return{...n,chainId:i}},name:"store",partialize:e=>({connections:{__type:"Map",value:Array.from(e.connections.entries()).map(([e,t])=>{let{id:r,name:n,type:i,uid:o}=t.connector,s={id:r,name:n,type:i,uid:o};return[e,{...t,connector:s}]})},chainId:e.chainId,current:e.current}),skipHydration:o,storage:n,version:t}):f));function y(e){g.setState(t=>{let r=t.connections.get(e.uid);return r?{...t,connections:new Map(t.connections).set(e.uid,{accounts:e.accounts??r.accounts,chainId:e.chainId??r.chainId,connector:r.connector})}:t})}function v(e){"connecting"!==g.getState().status&&"reconnecting"!==g.getState().status&&g.setState(t=>{let r=u.getState().find(t=>t.uid===e.uid);return r?(r.emitter.listenerCount("connect")&&r.emitter.off("connect",y),r.emitter.listenerCount("change")||r.emitter.on("change",y),r.emitter.listenerCount("disconnect")||r.emitter.on("disconnect",b),{...t,connections:new Map(t.connections).set(e.uid,{accounts:e.accounts,chainId:e.chainId,connector:r}),current:e.uid,status:"connected"}):t})}function b(e){g.setState(t=>{let r=t.connections.get(e.uid);if(r){let e=r.connector;e.emitter.listenerCount("change")&&r.connector.emitter.off("change",y),e.emitter.listenerCount("disconnect")&&r.connector.emitter.off("disconnect",b),e.emitter.listenerCount("connect")||r.connector.emitter.on("connect",v)}if(t.connections.delete(e.uid),0===t.connections.size)return{...t,connections:new Map,current:void 0,status:"disconnected"};let n=t.connections.values().next().value;return{...t,connections:new Map(t.connections),current:n.connector.uid}})}return i&&g.subscribe(({connections:e,current:t})=>t?e.get(t)?.chainId:void 0,e=>{if(l.getState().some(t=>t.id===e))return g.setState(t=>({...t,chainId:e??t.chainId}))}),a?.subscribe(e=>{let t=new Map;for(let e of u.getState())t.set(e.id,!0);let r=[];for(let n of e){let e=c(d(n));t.has(e.id)||r.push(e)}(!n||g.persist.hasHydrated())&&u.setState(e=>[...e,...r],!0)}),{get chains(){return l.getState()},get connectors(){return u.getState()},storage:n,getClient:p,get state(){return g.getState()},setState(e){let t;t="function"==typeof e?e(g.getState()):e;let r=f();"object"!=typeof t&&(t=r),Object.keys(r).some(e=>!(e in t))&&(t=r),g.setState(t,!0)},subscribe:(e,t,r)=>g.subscribe(e,t,r?{...r,fireImmediately:r.emitImmediately}:void 0),_internal:{mipd:a,store:g,ssr:!!o,syncConnectedChain:i,transports:s.transports,chains:{setState(e){let t="function"==typeof e?e(l.getState()):e;if(0!==t.length)return l.setState(t,!0)},subscribe:e=>l.subscribe(e)},connectors:{providerDetailToConnector:d,setup:c,setState:e=>u.setState("function"==typeof e?e(u.getState()):e,!0),subscribe:e=>u.subscribe(e)},events:{change:y,connect:v,disconnect:b}}}}var sq=r(93435),sW=r(89714);function sK(e){let t,n,i,o,s;let a=!1;return(0,sq.K)(l=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",type:sK.type,async connect({chainId:e}={}){try{let t=await this.getProvider(),r=(await t.request({method:"eth_requestAccounts"})).map(e=>(0,o9.K)(e));i||(i=this.onAccountsChanged.bind(this),t.on("accountsChanged",i)),o||(o=this.onChainChanged.bind(this),t.on("chainChanged",o)),s||(s=this.onDisconnect.bind(this),t.on("disconnect",s));let n=await this.getChainId();if(e&&n!==e){let t=await this.switchChain({chainId:e}).catch(e=>{if(e.code===eS.ab.code)throw e;return{id:n}});n=t?.id??n}return{accounts:r,chainId:n}}catch(e){if(/(user closed modal|accounts received is empty|user denied account)/i.test(e.message))throw new eS.ab(e);throw e}},async disconnect(){let e=await this.getProvider();i&&(e.removeListener("accountsChanged",i),i=void 0),o&&(e.removeListener("chainChanged",o),o=void 0),s&&(e.removeListener("disconnect",s),s=void 0),e.disconnect(),e.close()},async getAccounts(){let e=await this.getProvider();return(await e.request({method:"eth_accounts"})).map(e=>(0,o9.K)(e))},async getChainId(){let e=await this.getProvider();return Number(await e.request({method:"eth_chainId"}))},async getProvider(){if(!n){let i;let{default:o}=await r.e(54).then(r.t.bind(r,50054,19));t=new(i="function"!=typeof o&&"function"==typeof o.default?o.default:o)({reloadOnDisconnect:a,...e});let s=t.walletExtension?.getChainId(),u=l.chains.find(t=>e.chainId?t.id===e.chainId:t.id===s)||l.chains[0],c=e.chainId||u?.id,d=e.jsonRpcUrl||u?.rpcUrls.default.http[0];n=t.makeWeb3Provider(d,c)}return n},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({chainId:e}){let t=l.chains.find(t=>t.id===e);if(!t)throw new eS.x3(new oG.X4);let r=await this.getProvider(),n=(0,ec.eC)(t.id);try{return await r.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]}),t}catch(e){if(4902===e.code)try{return await r.request({method:"wallet_addEthereumChain",params:[{chainId:n,chainName:t.name,nativeCurrency:t.nativeCurrency,rpcUrls:[t.rpcUrls.default?.http[0]??""],blockExplorerUrls:[t.blockExplorers?.default.url]}]}),t}catch(e){throw new eS.ab(e)}throw new eS.x3(e)}},onAccountsChanged(e){0===e.length?this.onDisconnect():l.emitter.emit("change",{accounts:e.map(e=>(0,o9.K)(e))})},onChainChanged(e){let t=Number(e);l.emitter.emit("change",{chainId:t})},async onDisconnect(e){l.emitter.emit("disconnect");let t=await this.getProvider();i&&(t.removeListener("accountsChanged",i),i=void 0),o&&(t.removeListener("chainChanged",o),o=void 0),s&&(t.removeListener("disconnect",s),s=void 0)}}))}sK.type="coinbaseWallet";var sY=768,sZ=M({conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0}}),sJ=k({conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0}}),sQ=G({conditions:{defaultCondition:"base",conditionNames:["base","hover","active"],responsiveArray:void 0},styles:{background:{values:{accentColor:{conditions:{base:"ju367v9i",hover:"ju367v9j",active:"ju367v9k"},defaultClass:"ju367v9i"},accentColorForeground:{conditions:{base:"ju367v9l",hover:"ju367v9m",active:"ju367v9n"},defaultClass:"ju367v9l"},actionButtonBorder:{conditions:{base:"ju367v9o",hover:"ju367v9p",active:"ju367v9q"},defaultClass:"ju367v9o"},actionButtonBorderMobile:{conditions:{base:"ju367v9r",hover:"ju367v9s",active:"ju367v9t"},defaultClass:"ju367v9r"},actionButtonSecondaryBackground:{conditions:{base:"ju367v9u",hover:"ju367v9v",active:"ju367v9w"},defaultClass:"ju367v9u"},closeButton:{conditions:{base:"ju367v9x",hover:"ju367v9y",active:"ju367v9z"},defaultClass:"ju367v9x"},closeButtonBackground:{conditions:{base:"ju367va0",hover:"ju367va1",active:"ju367va2"},defaultClass:"ju367va0"},connectButtonBackground:{conditions:{base:"ju367va3",hover:"ju367va4",active:"ju367va5"},defaultClass:"ju367va3"},connectButtonBackgroundError:{conditions:{base:"ju367va6",hover:"ju367va7",active:"ju367va8"},defaultClass:"ju367va6"},connectButtonInnerBackground:{conditions:{base:"ju367va9",hover:"ju367vaa",active:"ju367vab"},defaultClass:"ju367va9"},connectButtonText:{conditions:{base:"ju367vac",hover:"ju367vad",active:"ju367vae"},defaultClass:"ju367vac"},connectButtonTextError:{conditions:{base:"ju367vaf",hover:"ju367vag",active:"ju367vah"},defaultClass:"ju367vaf"},connectionIndicator:{conditions:{base:"ju367vai",hover:"ju367vaj",active:"ju367vak"},defaultClass:"ju367vai"},downloadBottomCardBackground:{conditions:{base:"ju367val",hover:"ju367vam",active:"ju367van"},defaultClass:"ju367val"},downloadTopCardBackground:{conditions:{base:"ju367vao",hover:"ju367vap",active:"ju367vaq"},defaultClass:"ju367vao"},error:{conditions:{base:"ju367var",hover:"ju367vas",active:"ju367vat"},defaultClass:"ju367var"},generalBorder:{conditions:{base:"ju367vau",hover:"ju367vav",active:"ju367vaw"},defaultClass:"ju367vau"},generalBorderDim:{conditions:{base:"ju367vax",hover:"ju367vay",active:"ju367vaz"},defaultClass:"ju367vax"},menuItemBackground:{conditions:{base:"ju367vb0",hover:"ju367vb1",active:"ju367vb2"},defaultClass:"ju367vb0"},modalBackdrop:{conditions:{base:"ju367vb3",hover:"ju367vb4",active:"ju367vb5"},defaultClass:"ju367vb3"},modalBackground:{conditions:{base:"ju367vb6",hover:"ju367vb7",active:"ju367vb8"},defaultClass:"ju367vb6"},modalBorder:{conditions:{base:"ju367vb9",hover:"ju367vba",active:"ju367vbb"},defaultClass:"ju367vb9"},modalText:{conditions:{base:"ju367vbc",hover:"ju367vbd",active:"ju367vbe"},defaultClass:"ju367vbc"},modalTextDim:{conditions:{base:"ju367vbf",hover:"ju367vbg",active:"ju367vbh"},defaultClass:"ju367vbf"},modalTextSecondary:{conditions:{base:"ju367vbi",hover:"ju367vbj",active:"ju367vbk"},defaultClass:"ju367vbi"},profileAction:{conditions:{base:"ju367vbl",hover:"ju367vbm",active:"ju367vbn"},defaultClass:"ju367vbl"},profileActionHover:{conditions:{base:"ju367vbo",hover:"ju367vbp",active:"ju367vbq"},defaultClass:"ju367vbo"},profileForeground:{conditions:{base:"ju367vbr",hover:"ju367vbs",active:"ju367vbt"},defaultClass:"ju367vbr"},selectedOptionBorder:{conditions:{base:"ju367vbu",hover:"ju367vbv",active:"ju367vbw"},defaultClass:"ju367vbu"},standby:{conditions:{base:"ju367vbx",hover:"ju367vby",active:"ju367vbz"},defaultClass:"ju367vbx"}}},borderColor:{values:{accentColor:{conditions:{base:"ju367vc0",hover:"ju367vc1",active:"ju367vc2"},defaultClass:"ju367vc0"},accentColorForeground:{conditions:{base:"ju367vc3",hover:"ju367vc4",active:"ju367vc5"},defaultClass:"ju367vc3"},actionButtonBorder:{conditions:{base:"ju367vc6",hover:"ju367vc7",active:"ju367vc8"},defaultClass:"ju367vc6"},actionButtonBorderMobile:{conditions:{base:"ju367vc9",hover:"ju367vca",active:"ju367vcb"},defaultClass:"ju367vc9"},actionButtonSecondaryBackground:{conditions:{base:"ju367vcc",hover:"ju367vcd",active:"ju367vce"},defaultClass:"ju367vcc"},closeButton:{conditions:{base:"ju367vcf",hover:"ju367vcg",active:"ju367vch"},defaultClass:"ju367vcf"},closeButtonBackground:{conditions:{base:"ju367vci",hover:"ju367vcj",active:"ju367vck"},defaultClass:"ju367vci"},connectButtonBackground:{conditions:{base:"ju367vcl",hover:"ju367vcm",active:"ju367vcn"},defaultClass:"ju367vcl"},connectButtonBackgroundError:{conditions:{base:"ju367vco",hover:"ju367vcp",active:"ju367vcq"},defaultClass:"ju367vco"},connectButtonInnerBackground:{conditions:{base:"ju367vcr",hover:"ju367vcs",active:"ju367vct"},defaultClass:"ju367vcr"},connectButtonText:{conditions:{base:"ju367vcu",hover:"ju367vcv",active:"ju367vcw"},defaultClass:"ju367vcu"},connectButtonTextError:{conditions:{base:"ju367vcx",hover:"ju367vcy",active:"ju367vcz"},defaultClass:"ju367vcx"},connectionIndicator:{conditions:{base:"ju367vd0",hover:"ju367vd1",active:"ju367vd2"},defaultClass:"ju367vd0"},downloadBottomCardBackground:{conditions:{base:"ju367vd3",hover:"ju367vd4",active:"ju367vd5"},defaultClass:"ju367vd3"},downloadTopCardBackground:{conditions:{base:"ju367vd6",hover:"ju367vd7",active:"ju367vd8"},defaultClass:"ju367vd6"},error:{conditions:{base:"ju367vd9",hover:"ju367vda",active:"ju367vdb"},defaultClass:"ju367vd9"},generalBorder:{conditions:{base:"ju367vdc",hover:"ju367vdd",active:"ju367vde"},defaultClass:"ju367vdc"},generalBorderDim:{conditions:{base:"ju367vdf",hover:"ju367vdg",active:"ju367vdh"},defaultClass:"ju367vdf"},menuItemBackground:{conditions:{base:"ju367vdi",hover:"ju367vdj",active:"ju367vdk"},defaultClass:"ju367vdi"},modalBackdrop:{conditions:{base:"ju367vdl",hover:"ju367vdm",active:"ju367vdn"},defaultClass:"ju367vdl"},modalBackground:{conditions:{base:"ju367vdo",hover:"ju367vdp",active:"ju367vdq"},defaultClass:"ju367vdo"},modalBorder:{conditions:{base:"ju367vdr",hover:"ju367vds",active:"ju367vdt"},defaultClass:"ju367vdr"},modalText:{conditions:{base:"ju367vdu",hover:"ju367vdv",active:"ju367vdw"},defaultClass:"ju367vdu"},modalTextDim:{conditions:{base:"ju367vdx",hover:"ju367vdy",active:"ju367vdz"},defaultClass:"ju367vdx"},modalTextSecondary:{conditions:{base:"ju367ve0",hover:"ju367ve1",active:"ju367ve2"},defaultClass:"ju367ve0"},profileAction:{conditions:{base:"ju367ve3",hover:"ju367ve4",active:"ju367ve5"},defaultClass:"ju367ve3"},profileActionHover:{conditions:{base:"ju367ve6",hover:"ju367ve7",active:"ju367ve8"},defaultClass:"ju367ve6"},profileForeground:{conditions:{base:"ju367ve9",hover:"ju367vea",active:"ju367veb"},defaultClass:"ju367ve9"},selectedOptionBorder:{conditions:{base:"ju367vec",hover:"ju367ved",active:"ju367vee"},defaultClass:"ju367vec"},standby:{conditions:{base:"ju367vef",hover:"ju367veg",active:"ju367veh"},defaultClass:"ju367vef"}}},boxShadow:{values:{connectButton:{conditions:{base:"ju367vei",hover:"ju367vej",active:"ju367vek"},defaultClass:"ju367vei"},dialog:{conditions:{base:"ju367vel",hover:"ju367vem",active:"ju367ven"},defaultClass:"ju367vel"},profileDetailsAction:{conditions:{base:"ju367veo",hover:"ju367vep",active:"ju367veq"},defaultClass:"ju367veo"},selectedOption:{conditions:{base:"ju367ver",hover:"ju367ves",active:"ju367vet"},defaultClass:"ju367ver"},selectedWallet:{conditions:{base:"ju367veu",hover:"ju367vev",active:"ju367vew"},defaultClass:"ju367veu"},walletLogo:{conditions:{base:"ju367vex",hover:"ju367vey",active:"ju367vez"},defaultClass:"ju367vex"}}},color:{values:{accentColor:{conditions:{base:"ju367vf0",hover:"ju367vf1",active:"ju367vf2"},defaultClass:"ju367vf0"},accentColorForeground:{conditions:{base:"ju367vf3",hover:"ju367vf4",active:"ju367vf5"},defaultClass:"ju367vf3"},actionButtonBorder:{conditions:{base:"ju367vf6",hover:"ju367vf7",active:"ju367vf8"},defaultClass:"ju367vf6"},actionButtonBorderMobile:{conditions:{base:"ju367vf9",hover:"ju367vfa",active:"ju367vfb"},defaultClass:"ju367vf9"},actionButtonSecondaryBackground:{conditions:{base:"ju367vfc",hover:"ju367vfd",active:"ju367vfe"},defaultClass:"ju367vfc"},closeButton:{conditions:{base:"ju367vff",hover:"ju367vfg",active:"ju367vfh"},defaultClass:"ju367vff"},closeButtonBackground:{conditions:{base:"ju367vfi",hover:"ju367vfj",active:"ju367vfk"},defaultClass:"ju367vfi"},connectButtonBackground:{conditions:{base:"ju367vfl",hover:"ju367vfm",active:"ju367vfn"},defaultClass:"ju367vfl"},connectButtonBackgroundError:{conditions:{base:"ju367vfo",hover:"ju367vfp",active:"ju367vfq"},defaultClass:"ju367vfo"},connectButtonInnerBackground:{conditions:{base:"ju367vfr",hover:"ju367vfs",active:"ju367vft"},defaultClass:"ju367vfr"},connectButtonText:{conditions:{base:"ju367vfu",hover:"ju367vfv",active:"ju367vfw"},defaultClass:"ju367vfu"},connectButtonTextError:{conditions:{base:"ju367vfx",hover:"ju367vfy",active:"ju367vfz"},defaultClass:"ju367vfx"},connectionIndicator:{conditions:{base:"ju367vg0",hover:"ju367vg1",active:"ju367vg2"},defaultClass:"ju367vg0"},downloadBottomCardBackground:{conditions:{base:"ju367vg3",hover:"ju367vg4",active:"ju367vg5"},defaultClass:"ju367vg3"},downloadTopCardBackground:{conditions:{base:"ju367vg6",hover:"ju367vg7",active:"ju367vg8"},defaultClass:"ju367vg6"},error:{conditions:{base:"ju367vg9",hover:"ju367vga",active:"ju367vgb"},defaultClass:"ju367vg9"},generalBorder:{conditions:{base:"ju367vgc",hover:"ju367vgd",active:"ju367vge"},defaultClass:"ju367vgc"},generalBorderDim:{conditions:{base:"ju367vgf",hover:"ju367vgg",active:"ju367vgh"},defaultClass:"ju367vgf"},menuItemBackground:{conditions:{base:"ju367vgi",hover:"ju367vgj",active:"ju367vgk"},defaultClass:"ju367vgi"},modalBackdrop:{conditions:{base:"ju367vgl",hover:"ju367vgm",active:"ju367vgn"},defaultClass:"ju367vgl"},modalBackground:{conditions:{base:"ju367vgo",hover:"ju367vgp",active:"ju367vgq"},defaultClass:"ju367vgo"},modalBorder:{conditions:{base:"ju367vgr",hover:"ju367vgs",active:"ju367vgt"},defaultClass:"ju367vgr"},modalText:{conditions:{base:"ju367vgu",hover:"ju367vgv",active:"ju367vgw"},defaultClass:"ju367vgu"},modalTextDim:{conditions:{base:"ju367vgx",hover:"ju367vgy",active:"ju367vgz"},defaultClass:"ju367vgx"},modalTextSecondary:{conditions:{base:"ju367vh0",hover:"ju367vh1",active:"ju367vh2"},defaultClass:"ju367vh0"},profileAction:{conditions:{base:"ju367vh3",hover:"ju367vh4",active:"ju367vh5"},defaultClass:"ju367vh3"},profileActionHover:{conditions:{base:"ju367vh6",hover:"ju367vh7",active:"ju367vh8"},defaultClass:"ju367vh6"},profileForeground:{conditions:{base:"ju367vh9",hover:"ju367vha",active:"ju367vhb"},defaultClass:"ju367vh9"},selectedOptionBorder:{conditions:{base:"ju367vhc",hover:"ju367vhd",active:"ju367vhe"},defaultClass:"ju367vhc"},standby:{conditions:{base:"ju367vhf",hover:"ju367vhg",active:"ju367vhh"},defaultClass:"ju367vhf"}}}}},{conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0},styles:{alignItems:{values:{"flex-start":{conditions:{smallScreen:"ju367v0",largeScreen:"ju367v1"},defaultClass:"ju367v0"},"flex-end":{conditions:{smallScreen:"ju367v2",largeScreen:"ju367v3"},defaultClass:"ju367v2"},center:{conditions:{smallScreen:"ju367v4",largeScreen:"ju367v5"},defaultClass:"ju367v4"}}},display:{values:{none:{conditions:{smallScreen:"ju367v6",largeScreen:"ju367v7"},defaultClass:"ju367v6"},block:{conditions:{smallScreen:"ju367v8",largeScreen:"ju367v9"},defaultClass:"ju367v8"},flex:{conditions:{smallScreen:"ju367va",largeScreen:"ju367vb"},defaultClass:"ju367va"},inline:{conditions:{smallScreen:"ju367vc",largeScreen:"ju367vd"},defaultClass:"ju367vc"}}}}},{conditions:void 0,styles:{margin:{mappings:["marginTop","marginBottom","marginLeft","marginRight"]},marginX:{mappings:["marginLeft","marginRight"]},marginY:{mappings:["marginTop","marginBottom"]},padding:{mappings:["paddingTop","paddingBottom","paddingLeft","paddingRight"]},paddingX:{mappings:["paddingLeft","paddingRight"]},paddingY:{mappings:["paddingTop","paddingBottom"]},alignSelf:{values:{"flex-start":{defaultClass:"ju367ve"},"flex-end":{defaultClass:"ju367vf"},center:{defaultClass:"ju367vg"}}},backgroundSize:{values:{cover:{defaultClass:"ju367vh"}}},borderRadius:{values:{1:{defaultClass:"ju367vi"},6:{defaultClass:"ju367vj"},10:{defaultClass:"ju367vk"},13:{defaultClass:"ju367vl"},actionButton:{defaultClass:"ju367vm"},connectButton:{defaultClass:"ju367vn"},menuButton:{defaultClass:"ju367vo"},modal:{defaultClass:"ju367vp"},modalMobile:{defaultClass:"ju367vq"},"25%":{defaultClass:"ju367vr"},full:{defaultClass:"ju367vs"}}},borderStyle:{values:{solid:{defaultClass:"ju367vt"}}},borderWidth:{values:{0:{defaultClass:"ju367vu"},1:{defaultClass:"ju367vv"},2:{defaultClass:"ju367vw"},4:{defaultClass:"ju367vx"}}},cursor:{values:{pointer:{defaultClass:"ju367vy"},none:{defaultClass:"ju367vz"}}},pointerEvents:{values:{none:{defaultClass:"ju367v10"},all:{defaultClass:"ju367v11"}}},minHeight:{values:{8:{defaultClass:"ju367v12"},44:{defaultClass:"ju367v13"}}},flexDirection:{values:{row:{defaultClass:"ju367v14"},column:{defaultClass:"ju367v15"}}},fontFamily:{values:{body:{defaultClass:"ju367v16"}}},fontSize:{values:{12:{defaultClass:"ju367v17"},13:{defaultClass:"ju367v18"},14:{defaultClass:"ju367v19"},16:{defaultClass:"ju367v1a"},18:{defaultClass:"ju367v1b"},20:{defaultClass:"ju367v1c"},23:{defaultClass:"ju367v1d"}}},fontWeight:{values:{regular:{defaultClass:"ju367v1e"},medium:{defaultClass:"ju367v1f"},semibold:{defaultClass:"ju367v1g"},bold:{defaultClass:"ju367v1h"},heavy:{defaultClass:"ju367v1i"}}},gap:{values:{0:{defaultClass:"ju367v1j"},1:{defaultClass:"ju367v1k"},2:{defaultClass:"ju367v1l"},3:{defaultClass:"ju367v1m"},4:{defaultClass:"ju367v1n"},5:{defaultClass:"ju367v1o"},6:{defaultClass:"ju367v1p"},8:{defaultClass:"ju367v1q"},10:{defaultClass:"ju367v1r"},12:{defaultClass:"ju367v1s"},14:{defaultClass:"ju367v1t"},16:{defaultClass:"ju367v1u"},18:{defaultClass:"ju367v1v"},20:{defaultClass:"ju367v1w"},24:{defaultClass:"ju367v1x"},28:{defaultClass:"ju367v1y"},32:{defaultClass:"ju367v1z"},36:{defaultClass:"ju367v20"},44:{defaultClass:"ju367v21"},64:{defaultClass:"ju367v22"},"-1":{defaultClass:"ju367v23"}}},height:{values:{1:{defaultClass:"ju367v24"},2:{defaultClass:"ju367v25"},4:{defaultClass:"ju367v26"},8:{defaultClass:"ju367v27"},12:{defaultClass:"ju367v28"},20:{defaultClass:"ju367v29"},24:{defaultClass:"ju367v2a"},28:{defaultClass:"ju367v2b"},30:{defaultClass:"ju367v2c"},32:{defaultClass:"ju367v2d"},34:{defaultClass:"ju367v2e"},36:{defaultClass:"ju367v2f"},40:{defaultClass:"ju367v2g"},44:{defaultClass:"ju367v2h"},48:{defaultClass:"ju367v2i"},54:{defaultClass:"ju367v2j"},60:{defaultClass:"ju367v2k"},200:{defaultClass:"ju367v2l"},full:{defaultClass:"ju367v2m"},max:{defaultClass:"ju367v2n"}}},justifyContent:{values:{"flex-start":{defaultClass:"ju367v2o"},"flex-end":{defaultClass:"ju367v2p"},center:{defaultClass:"ju367v2q"},"space-between":{defaultClass:"ju367v2r"},"space-around":{defaultClass:"ju367v2s"}}},textAlign:{values:{left:{defaultClass:"ju367v2t"},center:{defaultClass:"ju367v2u"},inherit:{defaultClass:"ju367v2v"}}},marginBottom:{values:{0:{defaultClass:"ju367v2w"},1:{defaultClass:"ju367v2x"},2:{defaultClass:"ju367v2y"},3:{defaultClass:"ju367v2z"},4:{defaultClass:"ju367v30"},5:{defaultClass:"ju367v31"},6:{defaultClass:"ju367v32"},8:{defaultClass:"ju367v33"},10:{defaultClass:"ju367v34"},12:{defaultClass:"ju367v35"},14:{defaultClass:"ju367v36"},16:{defaultClass:"ju367v37"},18:{defaultClass:"ju367v38"},20:{defaultClass:"ju367v39"},24:{defaultClass:"ju367v3a"},28:{defaultClass:"ju367v3b"},32:{defaultClass:"ju367v3c"},36:{defaultClass:"ju367v3d"},44:{defaultClass:"ju367v3e"},64:{defaultClass:"ju367v3f"},"-1":{defaultClass:"ju367v3g"}}},marginLeft:{values:{0:{defaultClass:"ju367v3h"},1:{defaultClass:"ju367v3i"},2:{defaultClass:"ju367v3j"},3:{defaultClass:"ju367v3k"},4:{defaultClass:"ju367v3l"},5:{defaultClass:"ju367v3m"},6:{defaultClass:"ju367v3n"},8:{defaultClass:"ju367v3o"},10:{defaultClass:"ju367v3p"},12:{defaultClass:"ju367v3q"},14:{defaultClass:"ju367v3r"},16:{defaultClass:"ju367v3s"},18:{defaultClass:"ju367v3t"},20:{defaultClass:"ju367v3u"},24:{defaultClass:"ju367v3v"},28:{defaultClass:"ju367v3w"},32:{defaultClass:"ju367v3x"},36:{defaultClass:"ju367v3y"},44:{defaultClass:"ju367v3z"},64:{defaultClass:"ju367v40"},"-1":{defaultClass:"ju367v41"}}},marginRight:{values:{0:{defaultClass:"ju367v42"},1:{defaultClass:"ju367v43"},2:{defaultClass:"ju367v44"},3:{defaultClass:"ju367v45"},4:{defaultClass:"ju367v46"},5:{defaultClass:"ju367v47"},6:{defaultClass:"ju367v48"},8:{defaultClass:"ju367v49"},10:{defaultClass:"ju367v4a"},12:{defaultClass:"ju367v4b"},14:{defaultClass:"ju367v4c"},16:{defaultClass:"ju367v4d"},18:{defaultClass:"ju367v4e"},20:{defaultClass:"ju367v4f"},24:{defaultClass:"ju367v4g"},28:{defaultClass:"ju367v4h"},32:{defaultClass:"ju367v4i"},36:{defaultClass:"ju367v4j"},44:{defaultClass:"ju367v4k"},64:{defaultClass:"ju367v4l"},"-1":{defaultClass:"ju367v4m"}}},marginTop:{values:{0:{defaultClass:"ju367v4n"},1:{defaultClass:"ju367v4o"},2:{defaultClass:"ju367v4p"},3:{defaultClass:"ju367v4q"},4:{defaultClass:"ju367v4r"},5:{defaultClass:"ju367v4s"},6:{defaultClass:"ju367v4t"},8:{defaultClass:"ju367v4u"},10:{defaultClass:"ju367v4v"},12:{defaultClass:"ju367v4w"},14:{defaultClass:"ju367v4x"},16:{defaultClass:"ju367v4y"},18:{defaultClass:"ju367v4z"},20:{defaultClass:"ju367v50"},24:{defaultClass:"ju367v51"},28:{defaultClass:"ju367v52"},32:{defaultClass:"ju367v53"},36:{defaultClass:"ju367v54"},44:{defaultClass:"ju367v55"},64:{defaultClass:"ju367v56"},"-1":{defaultClass:"ju367v57"}}},maxWidth:{values:{1:{defaultClass:"ju367v58"},2:{defaultClass:"ju367v59"},4:{defaultClass:"ju367v5a"},8:{defaultClass:"ju367v5b"},12:{defaultClass:"ju367v5c"},20:{defaultClass:"ju367v5d"},24:{defaultClass:"ju367v5e"},28:{defaultClass:"ju367v5f"},30:{defaultClass:"ju367v5g"},32:{defaultClass:"ju367v5h"},34:{defaultClass:"ju367v5i"},36:{defaultClass:"ju367v5j"},40:{defaultClass:"ju367v5k"},44:{defaultClass:"ju367v5l"},48:{defaultClass:"ju367v5m"},54:{defaultClass:"ju367v5n"},60:{defaultClass:"ju367v5o"},200:{defaultClass:"ju367v5p"},full:{defaultClass:"ju367v5q"},max:{defaultClass:"ju367v5r"}}},minWidth:{values:{1:{defaultClass:"ju367v5s"},2:{defaultClass:"ju367v5t"},4:{defaultClass:"ju367v5u"},8:{defaultClass:"ju367v5v"},12:{defaultClass:"ju367v5w"},20:{defaultClass:"ju367v5x"},24:{defaultClass:"ju367v5y"},28:{defaultClass:"ju367v5z"},30:{defaultClass:"ju367v60"},32:{defaultClass:"ju367v61"},34:{defaultClass:"ju367v62"},36:{defaultClass:"ju367v63"},40:{defaultClass:"ju367v64"},44:{defaultClass:"ju367v65"},48:{defaultClass:"ju367v66"},54:{defaultClass:"ju367v67"},60:{defaultClass:"ju367v68"},200:{defaultClass:"ju367v69"},full:{defaultClass:"ju367v6a"},max:{defaultClass:"ju367v6b"}}},overflow:{values:{hidden:{defaultClass:"ju367v6c"}}},paddingBottom:{values:{0:{defaultClass:"ju367v6d"},1:{defaultClass:"ju367v6e"},2:{defaultClass:"ju367v6f"},3:{defaultClass:"ju367v6g"},4:{defaultClass:"ju367v6h"},5:{defaultClass:"ju367v6i"},6:{defaultClass:"ju367v6j"},8:{defaultClass:"ju367v6k"},10:{defaultClass:"ju367v6l"},12:{defaultClass:"ju367v6m"},14:{defaultClass:"ju367v6n"},16:{defaultClass:"ju367v6o"},18:{defaultClass:"ju367v6p"},20:{defaultClass:"ju367v6q"},24:{defaultClass:"ju367v6r"},28:{defaultClass:"ju367v6s"},32:{defaultClass:"ju367v6t"},36:{defaultClass:"ju367v6u"},44:{defaultClass:"ju367v6v"},64:{defaultClass:"ju367v6w"},"-1":{defaultClass:"ju367v6x"}}},paddingLeft:{values:{0:{defaultClass:"ju367v6y"},1:{defaultClass:"ju367v6z"},2:{defaultClass:"ju367v70"},3:{defaultClass:"ju367v71"},4:{defaultClass:"ju367v72"},5:{defaultClass:"ju367v73"},6:{defaultClass:"ju367v74"},8:{defaultClass:"ju367v75"},10:{defaultClass:"ju367v76"},12:{defaultClass:"ju367v77"},14:{defaultClass:"ju367v78"},16:{defaultClass:"ju367v79"},18:{defaultClass:"ju367v7a"},20:{defaultClass:"ju367v7b"},24:{defaultClass:"ju367v7c"},28:{defaultClass:"ju367v7d"},32:{defaultClass:"ju367v7e"},36:{defaultClass:"ju367v7f"},44:{defaultClass:"ju367v7g"},64:{defaultClass:"ju367v7h"},"-1":{defaultClass:"ju367v7i"}}},paddingRight:{values:{0:{defaultClass:"ju367v7j"},1:{defaultClass:"ju367v7k"},2:{defaultClass:"ju367v7l"},3:{defaultClass:"ju367v7m"},4:{defaultClass:"ju367v7n"},5:{defaultClass:"ju367v7o"},6:{defaultClass:"ju367v7p"},8:{defaultClass:"ju367v7q"},10:{defaultClass:"ju367v7r"},12:{defaultClass:"ju367v7s"},14:{defaultClass:"ju367v7t"},16:{defaultClass:"ju367v7u"},18:{defaultClass:"ju367v7v"},20:{defaultClass:"ju367v7w"},24:{defaultClass:"ju367v7x"},28:{defaultClass:"ju367v7y"},32:{defaultClass:"ju367v7z"},36:{defaultClass:"ju367v80"},44:{defaultClass:"ju367v81"},64:{defaultClass:"ju367v82"},"-1":{defaultClass:"ju367v83"}}},paddingTop:{values:{0:{defaultClass:"ju367v84"},1:{defaultClass:"ju367v85"},2:{defaultClass:"ju367v86"},3:{defaultClass:"ju367v87"},4:{defaultClass:"ju367v88"},5:{defaultClass:"ju367v89"},6:{defaultClass:"ju367v8a"},8:{defaultClass:"ju367v8b"},10:{defaultClass:"ju367v8c"},12:{defaultClass:"ju367v8d"},14:{defaultClass:"ju367v8e"},16:{defaultClass:"ju367v8f"},18:{defaultClass:"ju367v8g"},20:{defaultClass:"ju367v8h"},24:{defaultClass:"ju367v8i"},28:{defaultClass:"ju367v8j"},32:{defaultClass:"ju367v8k"},36:{defaultClass:"ju367v8l"},44:{defaultClass:"ju367v8m"},64:{defaultClass:"ju367v8n"},"-1":{defaultClass:"ju367v8o"}}},position:{values:{absolute:{defaultClass:"ju367v8p"},fixed:{defaultClass:"ju367v8q"},relative:{defaultClass:"ju367v8r"}}},WebkitUserSelect:{values:{none:{defaultClass:"ju367v8s"}}},right:{values:{0:{defaultClass:"ju367v8t"}}},transition:{values:{default:{defaultClass:"ju367v8u"},transform:{defaultClass:"ju367v8v"}}},userSelect:{values:{none:{defaultClass:"ju367v8w"}}},width:{values:{1:{defaultClass:"ju367v8x"},2:{defaultClass:"ju367v8y"},4:{defaultClass:"ju367v8z"},8:{defaultClass:"ju367v90"},12:{defaultClass:"ju367v91"},20:{defaultClass:"ju367v92"},24:{defaultClass:"ju367v93"},28:{defaultClass:"ju367v94"},30:{defaultClass:"ju367v95"},32:{defaultClass:"ju367v96"},34:{defaultClass:"ju367v97"},36:{defaultClass:"ju367v98"},40:{defaultClass:"ju367v99"},44:{defaultClass:"ju367v9a"},48:{defaultClass:"ju367v9b"},54:{defaultClass:"ju367v9c"},60:{defaultClass:"ju367v9d"},200:{defaultClass:"ju367v9e"},full:{defaultClass:"ju367v9f"},max:{defaultClass:"ju367v9g"}}},backdropFilter:{values:{modalOverlay:{defaultClass:"ju367v9h"}}}}}),sX={colors:{accentColor:"var(--rk-colors-accentColor)",accentColorForeground:"var(--rk-colors-accentColorForeground)",actionButtonBorder:"var(--rk-colors-actionButtonBorder)",actionButtonBorderMobile:"var(--rk-colors-actionButtonBorderMobile)",actionButtonSecondaryBackground:"var(--rk-colors-actionButtonSecondaryBackground)",closeButton:"var(--rk-colors-closeButton)",closeButtonBackground:"var(--rk-colors-closeButtonBackground)",connectButtonBackground:"var(--rk-colors-connectButtonBackground)",connectButtonBackgroundError:"var(--rk-colors-connectButtonBackgroundError)",connectButtonInnerBackground:"var(--rk-colors-connectButtonInnerBackground)",connectButtonText:"var(--rk-colors-connectButtonText)",connectButtonTextError:"var(--rk-colors-connectButtonTextError)",connectionIndicator:"var(--rk-colors-connectionIndicator)",downloadBottomCardBackground:"var(--rk-colors-downloadBottomCardBackground)",downloadTopCardBackground:"var(--rk-colors-downloadTopCardBackground)",error:"var(--rk-colors-error)",generalBorder:"var(--rk-colors-generalBorder)",generalBorderDim:"var(--rk-colors-generalBorderDim)",menuItemBackground:"var(--rk-colors-menuItemBackground)",modalBackdrop:"var(--rk-colors-modalBackdrop)",modalBackground:"var(--rk-colors-modalBackground)",modalBorder:"var(--rk-colors-modalBorder)",modalText:"var(--rk-colors-modalText)",modalTextDim:"var(--rk-colors-modalTextDim)",modalTextSecondary:"var(--rk-colors-modalTextSecondary)",profileAction:"var(--rk-colors-profileAction)",profileActionHover:"var(--rk-colors-profileActionHover)",profileForeground:"var(--rk-colors-profileForeground)",selectedOptionBorder:"var(--rk-colors-selectedOptionBorder)",standby:"var(--rk-colors-standby)"},fonts:{body:"var(--rk-fonts-body)"},radii:{actionButton:"var(--rk-radii-actionButton)",connectButton:"var(--rk-radii-connectButton)",menuButton:"var(--rk-radii-menuButton)",modal:"var(--rk-radii-modal)",modalMobile:"var(--rk-radii-modalMobile)"},shadows:{connectButton:"var(--rk-shadows-connectButton)",dialog:"var(--rk-shadows-dialog)",profileDetailsAction:"var(--rk-shadows-profileDetailsAction)",selectedOption:"var(--rk-shadows-selectedOption)",selectedWallet:"var(--rk-shadows-selectedWallet)",walletLogo:"var(--rk-shadows-walletLogo)"},blurs:{modalOverlay:"var(--rk-blurs-modalOverlay)"}},s0={shrink:"_12cbo8i6",shrinkSm:"_12cbo8i7"},s1="_12cbo8i3 ju367v8r",s2={grow:"_12cbo8i4",growLg:"_12cbo8i5"};function s3({active:e,hover:t}){return[s1,t&&s2[t],s0[e]]}var s6=(0,P.createContext)(null);function s4(){var e;let{adapter:t}=null!=(e=(0,P.useContext)(s6))?e:{};if(!t)throw Error("No authentication adapter found");return t}function s5(){var e;let t=(0,P.useContext)(s6);return null!=(e=null==t?void 0:t.status)?e:null}function s8(){let e=s5(),{isConnected:t}=en();return t?e&&("loading"===e||"unauthenticated"===e)?e:"connected":"disconnected"}function s7(){return"undefined"!=typeof navigator&&/android/i.test(navigator.userAgent)}function s9(){return"undefined"!=typeof navigator&&/iPhone|iPod/.test(navigator.userAgent)}function ae(){return"undefined"!=typeof navigator&&(/iPad/.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)}function at(){return s9()||ae()}function ar(){return s7()||at()}var an="iekbcc0",ai={a:"iekbcca",blockquote:"iekbcc2",button:"iekbcc9",input:"iekbcc8 iekbcc5 iekbcc4",mark:"iekbcc6",ol:"iekbcc1",q:"iekbcc2",select:"iekbcc7 iekbcc5 iekbcc4",table:"iekbcc3",textarea:"iekbcc5 iekbcc4",ul:"iekbcc1"},ao=({reset:e,...t})=>e?eo(an,ai[e],sQ(t)):sQ(t),as=P.forwardRef(({as:e="div",className:t,testId:r,...n},i)=>{let o={},s={};for(let e in n)sQ.properties.has(e)?o[e]=n[e]:s[e]=n[e];let a=ao({reset:"string"==typeof e?e:"div",...o});return P.createElement(e,{className:eo(a,t),...s,"data-testid":r?`rk-${r.replace(/^rk-/,"")}`:void 0,ref:i})});as.displayName="Box";var aa=new Map,al=new Map;async function au(e){let t=al.get(e);if(t)return t;let r=async()=>e().then(async t=>(aa.set(e,t),t)),n=r().catch(t=>r().catch(t=>{al.delete(e)}));return al.set(e,n),n}async function ac(...e){return await Promise.all(e.map(e=>"function"==typeof e?au(e):e))}function ad(){let[,e]=(0,P.useReducer)(e=>e+1,0);return e}function ah(e){let t="function"==typeof e?aa.get(e):void 0;return ad(),"function"==typeof e?t:e}function ap({alt:e,background:t,borderColor:r,borderRadius:n,useAsImage:i,boxShadow:o,height:s,src:a,width:l,testId:u}){let c=at(),d=ah(a),h=d&&/^http/.test(d),[p,f]=(0,P.useReducer)(()=>!0,!1);return P.createElement(as,{"aria-label":e,borderRadius:n,boxShadow:o,height:"string"==typeof s?s:void 0,overflow:"hidden",position:"relative",role:"img",style:{background:t,height:"number"==typeof s?s:void 0,width:"number"==typeof l?l:void 0},width:"string"==typeof l?l:void 0,testId:u},P.createElement(as,{...i?{"aria-hidden":!0,as:"img",src:d}:h?{"aria-hidden":!0,as:"img",onLoad:f,src:d}:{backgroundSize:"cover"},height:"full",position:"absolute",...c?{WebkitUserSelect:"none"}:{},style:{WebkitTouchCallout:"none",transition:"opacity .15s linear",userSelect:"none",...i?{}:h?{opacity:p?1:0}:{backgroundImage:d?`url(${d})`:void 0,backgroundRepeat:"no-repeat",opacity:d?1:0}},width:"full"}),r?P.createElement(as,{..."object"==typeof r&&"custom"in r?{style:{borderColor:r.custom}}:{borderColor:r},borderRadius:n,borderStyle:"solid",borderWidth:"1",height:"full",position:"relative",width:"full"}):null)}var af="_1luule42",am="_1luule43",ag=e=>(0,P.useMemo)(()=>`${e}_${Math.round(1e9*Math.random())}`,[e]),ay=({height:e=21,width:t=21})=>{let r=ag("spinner");return P.createElement("svg",{className:af,fill:"none",height:e,viewBox:"0 0 21 21",width:t,xmlns:"http://www.w3.org/2000/svg"},P.createElement("title",null,"Loading"),P.createElement("clipPath",{id:r},P.createElement("path",{d:"M10.5 3C6.35786 3 3 6.35786 3 10.5C3 14.6421 6.35786 18 10.5 18C11.3284 18 12 18.6716 12 19.5C12 20.3284 11.3284 21 10.5 21C4.70101 21 0 16.299 0 10.5C0 4.70101 4.70101 0 10.5 0C16.299 0 21 4.70101 21 10.5C21 11.3284 20.3284 12 19.5 12C18.6716 12 18 11.3284 18 10.5C18 6.35786 14.6421 3 10.5 3Z"})),P.createElement("foreignObject",{clipPath:`url(#${r})`,height:"21",width:"21",x:"0",y:"0"},P.createElement("div",{className:am})))},av=["#FC5C54","#FFD95A","#E95D72","#6A87C8","#5FD0F3","#75C06B","#FFDD86","#5FC6D4","#FF949A","#FF8024","#9BA1A4","#EC66FF","#FF8CBC","#FF9A23","#C5DADB","#A8CE63","#71ABFF","#FFE279","#B6B1B6","#FF6780","#A575FF","#4D82FF","#FFB35A"],ab=[{color:av[0],emoji:"\uD83C\uDF36"},{color:av[1],emoji:"\uD83E\uDD11"},{color:av[2],emoji:"\uD83D\uDC19"},{color:av[3],emoji:"\uD83E\uDED0"},{color:av[4],emoji:"\uD83D\uDC33"},{color:av[0],emoji:"\uD83E\uDD36"},{color:av[5],emoji:"\uD83C\uDF32"},{color:av[6],emoji:"\uD83C\uDF1E"},{color:av[7],emoji:"\uD83D\uDC12"},{color:av[8],emoji:"\uD83D\uDC35"},{color:av[9],emoji:"\uD83E\uDD8A"},{color:av[10],emoji:"\uD83D\uDC3C"},{color:av[11],emoji:"\uD83E\uDD84"},{color:av[12],emoji:"\uD83D\uDC37"},{color:av[13],emoji:"\uD83D\uDC27"},{color:av[8],emoji:"\uD83E\uDDA9"},{color:av[14],emoji:"\uD83D\uDC7D"},{color:av[0],emoji:"\uD83C\uDF88"},{color:av[8],emoji:"\uD83C\uDF49"},{color:av[1],emoji:"\uD83C\uDF89"},{color:av[15],emoji:"\uD83D\uDC32"},{color:av[16],emoji:"\uD83C\uDF0E"},{color:av[17],emoji:"\uD83C\uDF4A"},{color:av[18],emoji:"\uD83D\uDC2D"},{color:av[19],emoji:"\uD83C\uDF63"},{color:av[1],emoji:"\uD83D\uDC25"},{color:av[20],emoji:"\uD83D\uDC7E"},{color:av[15],emoji:"\uD83E\uDD66"},{color:av[0],emoji:"\uD83D\uDC79"},{color:av[17],emoji:"\uD83D\uDE40"},{color:av[4],emoji:""},{color:av[21],emoji:""},{color:av[17],emoji:"\uD83E\uDD73"},{color:av[8],emoji:"\uD83E\uDD2F"},{color:av[22],emoji:"\uD83E\uDD20"}];function aE(e){let t=0;if(0===e.length)return t;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r)|0;return t}function aS(e){let t=Math.abs(aE(("string"==typeof e?e:"").toLowerCase())%ab.length);return ab[null!=t?t:0]}var a_=({address:e,ensImage:t,size:r})=>{let[n,i]=(0,P.useState)(!1);(0,P.useEffect)(()=>{if(t){let e=new Image;e.src=t,e.onload=()=>i(!0)}},[t]);let{color:o,emoji:s}=(0,P.useMemo)(()=>aS(e),[e]);return t?n?P.createElement(as,{backgroundSize:"cover",borderRadius:"full",position:"absolute",style:{backgroundImage:`url(${t})`,backgroundPosition:"center",height:r,width:r}}):P.createElement(as,{alignItems:"center",backgroundSize:"cover",borderRadius:"full",color:"modalText",display:"flex",justifyContent:"center",position:"absolute",style:{height:r,width:r}},P.createElement(ay,null)):P.createElement(as,{alignItems:"center",display:"flex",justifyContent:"center",overflow:"hidden",style:{...!t&&{backgroundColor:o},height:r,width:r}},s)},aT=(0,P.createContext)(a_);function aA({address:e,imageUrl:t,loading:r,size:n}){let i=(0,P.useContext)(aT);return P.createElement(as,{"aria-hidden":!0,borderRadius:"full",overflow:"hidden",position:"relative",style:{height:`${n}px`,width:`${n}px`},userSelect:"none"},P.createElement(as,{alignItems:"center",borderRadius:"full",display:"flex",justifyContent:"center",overflow:"hidden",position:"absolute",style:{fontSize:`${Math.round(.55*n)}px`,height:`${n}px`,transform:r?"scale(0.72)":void 0,transition:".25s ease",transitionDelay:r?void 0:".1s",width:`${n}px`,willChange:"transform"},userSelect:"none"},P.createElement(i,{address:e,ensImage:t,size:n})),r&&P.createElement(as,{color:"accentColor",display:"flex",height:"full",position:"absolute",width:"full"},P.createElement(ay,{height:"100%",width:"100%"})))}var aC=()=>P.createElement("svg",{fill:"none",height:"7",width:"14",xmlns:"http://www.w3.org/2000/svg"},P.createElement("title",null,"Dropdown"),P.createElement("path",{d:"M12.75 1.54001L8.51647 5.0038C7.77974 5.60658 6.72026 5.60658 5.98352 5.0038L1.75 1.54001",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",xmlns:"http://www.w3.org/2000/svg"})),aw={defaultLocale:"en",locale:"en"},aO=new class{constructor(e){for(let[t,r]of(this.listeners=new Set,this.defaultLocale=aw.defaultLocale,this.enableFallback=!1,this.locale=aw.locale,this.cachedLocales=[],this.translations={},Object.entries(e)))this.cachedLocales=[...this.cachedLocales,t],this.translations={...this.translations,...this.flattenTranslation(r,t)}}missingMessage(e){return`[missing: "${this.locale}.${e}" translation]`}flattenTranslation(e,t){let r={},n=(e,t)=>{for(let i of Object.keys(e)){let o=`${t}.${i}`,s=e[i];"object"==typeof s&&null!==s?n(s,o):r[o]=s}};return n(e,t),r}translateWithReplacements(e,t={}){let r=e;for(let e in t){let n=t[e];r=r.replace(`%{${e}}`,n)}return r}t(e,t,r){let n=`${this.locale}.${e}`,i=this.translations[n];if(!i){if(this.enableFallback){let r=`${this.defaultLocale}.${e}`,n=this.translations[r];if(n)return this.translateWithReplacements(n,t)}return(null==r?void 0:r.rawKeyIfTranslationMissing)?e:this.missingMessage(e)}return this.translateWithReplacements(i,t)}isLocaleCached(e){return this.cachedLocales.includes(e)}updateLocale(e){this.locale=e,this.notifyListeners()}setTranslations(e,t){this.isLocaleCached(e)||(this.cachedLocales=[...this.cachedLocales,e],this.translations={...this.translations,...this.flattenTranslation(t,e)}),this.locale=e,this.notifyListeners()}notifyListeners(){for(let e of this.listeners)e()}onChange(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}}({en:JSON.parse(D.I),"en-US":JSON.parse(D.I)});aO.defaultLocale="en-US",aO.locale="en-US",aO.enableFallback=!0;var aR=async e=>{switch(e){case"ar":case"ar-AR":return(await r.e(7567).then(r.bind(r,97567))).default;case"en":case"en-US":default:return(await r.e(7327).then(r.bind(r,27327))).default;case"es":case"es-419":return(await r.e(8525).then(r.bind(r,48525))).default;case"fr":case"fr-FR":return(await r.e(549).then(r.bind(r,90549))).default;case"hi":case"hi-IN":return(await r.e(4191).then(r.bind(r,44191))).default;case"id":case"id-ID":return(await r.e(3027).then(r.bind(r,3027))).default;case"ja":case"ja-JP":return(await r.e(8542).then(r.bind(r,78542))).default;case"ko":case"ko-KR":return(await r.e(3293).then(r.bind(r,23293))).default;case"pt":case"pt-BR":return(await r.e(7261).then(r.bind(r,37261))).default;case"ru":case"ru-RU":return(await r.e(6862).then(r.bind(r,26862))).default;case"th":case"th-TH":return(await r.e(3136).then(r.bind(r,83136))).default;case"tr":case"tr-TR":return(await r.e(3530).then(r.bind(r,53530))).default;case"ua":case"uk-UA":return(await r.e(8837).then(r.bind(r,78837))).default;case"zh":case"zh-CN":return(await r.e(2146).then(r.bind(r,82146))).default}};async function ax(e){if(aO.isLocaleCached(e)){aO.updateLocale(e);return}let t=await aR(e);aO.setTranslations(e,JSON.parse(t))}var aI=()=>{},aD=(0,P.createContext)({i18n:aO}),aP=({children:e,locale:t})=>{let[r,n]=(0,P.useState)(0),i=(0,P.useMemo)(()=>aI(),[]);(0,P.useEffect)(()=>aO.onChange(()=>{n(e=>e+1)}),[]),(0,P.useEffect)(()=>{t&&t!==aO.locale?ax(t):!t&&i&&i!==aO.locale&&ax(i)},[t,i]);let o=(0,P.useMemo)(()=>({t:(e,t)=>aO.t(e,t),i18n:aO}),[r]);return P.createElement(aD.Provider,{value:o},e)};function aN(e){return null!=e}var ak={iconBackground:"#96bedc",iconUrl:async()=>(await r.e(3304).then(r.bind(r,43304))).default},aM={iconBackground:"#e84141",iconUrl:async()=>(await r.e(4394).then(r.bind(r,94394))).default},aL={iconBackground:"#0052ff",iconUrl:async()=>(await r.e(9856).then(r.bind(r,29856))).default},aB={iconBackground:"#000000",iconUrl:async()=>(await r.e(873).then(r.bind(r,873))).default},aj={iconBackground:"#ebac0e",iconUrl:async()=>(await r.e(7685).then(r.bind(r,7685))).default},aF={iconBackground:"#002D74",iconUrl:async()=>(await r.e(3106).then(r.bind(r,3106))).default},aU={iconBackground:"#484c50",iconUrl:async()=>(await r.e(7888).then(r.bind(r,77888))).default},aV={iconBackground:"#f9f7ec",iconUrl:async()=>(await r.e(9055).then(r.bind(r,49055))).default},az={iconBackground:"transparent",iconUrl:async()=>(await r.e(4912).then(r.bind(r,14912))).default},aG={iconBackground:"#ff5a57",iconUrl:async()=>(await r.e(4214).then(r.bind(r,4214))).default},a$={iconBackground:"#9f71ec",iconUrl:async()=>(await r.e(3994).then(r.bind(r,53994))).default},aH={iconBackground:"#f9f7ec",iconUrl:async()=>(await r.e(9598).then(r.bind(r,1382))).default},aq={iconBackground:"#000000",iconUrl:async()=>(await r.e(7724).then(r.bind(r,17724))).default},aW={iconBackground:"#f9f7ec",iconUrl:async()=>(await r.e(5720).then(r.bind(r,75720))).default},aK={iconBackground:"#000000",iconUrl:async()=>(await r.e(3199).then(r.bind(r,43199))).default},aY={iconBackground:"#1273EA",iconUrl:async()=>(await r.e(9043).then(r.bind(r,19043))).default},aZ=Object.fromEntries(Object.values({arbitrum:{chainId:42161,name:"Arbitrum",...ak},arbitrumGoerli:{chainId:421613,...ak},arbitrumSepolia:{chainId:421614,...ak},avalanche:{chainId:43114,...aM},avalancheFuji:{chainId:43113,...aM},base:{chainId:8453,name:"Base",...aL},baseGoerli:{chainId:84531,...aL},baseSepolia:{chainId:84532,...aL},blast:{chainId:81457,name:"Blast",...aB},blastSepolia:{chainId:168587773,...aB},bsc:{chainId:56,name:"BSC",...aj},bscTestnet:{chainId:97,...aj},cronos:{chainId:25,...aF},cronosTestnet:{chainId:338,...aF},goerli:{chainId:5,...aU},hardhat:{chainId:31337,...aV},holesky:{chainId:17e3,...aU},kovan:{chainId:42,...aU},klaytn:{chainId:8217,name:"Klaytn",...az},klaytnBaobab:{chainId:1001,name:"Klaytn Baobab",...az},localhost:{chainId:1337,...aU},mainnet:{chainId:1,name:"Ethereum",...aU},optimism:{chainId:10,name:"Optimism",...aG},optimismGoerli:{chainId:420,...aG},optimismKovan:{chainId:69,...aG},optimismSepolia:{chainId:11155420,...aG},polygon:{chainId:137,name:"Polygon",...a$},polygonMumbai:{chainId:80001,...a$},rinkeby:{chainId:4,...aU},ropsten:{chainId:3,...aU},ronin:{chainId:2020,...aY},sepolia:{chainId:11155111,...aU},xdc:{chainId:50,name:"XinFin",...aH},xdcTestnet:{chainId:51,...aH},zetachain:{chainId:7e3,name:"ZetaChain",...aq},zetachainAthensTestnet:{chainId:7001,name:"Zeta Athens",...aq},zkSync:{chainId:324,name:"zkSync",...aW},zkSyncTestnet:{chainId:280,...aW},zora:{chainId:7777777,name:"Zora",...aK},zoraSepolia:{chainId:999999999,...aK},zoraTestnet:{chainId:999,...aK}}).filter(aN).map(({chainId:e,...t})=>[e,t])),aJ=e=>e.map(e=>{var t,r,n,i;let o=null!=(t=aZ[e.id])?t:{};return{...e,name:null!=(r=o.name)?r:e.name,iconUrl:null!=(n=e.iconUrl)?n:o.iconUrl,iconBackground:null!=(i=e.iconBackground)?i:o.iconBackground}}),aQ=(0,P.createContext)({chains:[]});function aX({children:e,initialChain:t}){let{chains:r}=X();return P.createElement(aQ.Provider,{value:(0,P.useMemo)(()=>({chains:aJ(r),initialChainId:"number"==typeof t?t:null==t?void 0:t.id}),[r,t])},e)}var a0=()=>(0,P.useContext)(aQ).chains,a1=()=>(0,P.useContext)(aQ).initialChainId,a2=()=>{let e=a0();return(0,P.useMemo)(()=>{let t={};for(let r of e)t[r.id]=r;return t},[e])},a3=(0,P.createContext)({showBalance:void 0,setShowBalance:()=>{}});function a6({children:e}){let[t,r]=(0,P.useState)();return P.createElement(a3.Provider,{value:{showBalance:t,setShowBalance:r}},e)}var a4=()=>(0,P.useContext)(a3);function a5(){let[e,t]=(0,P.useState)(!1);return(0,P.useCallback)(()=>e,[e])}function a8(){let e=a0(),t=rZ.R.id;return e.some(e=>e.id===t)}function a7(e){let t=a8(),r=e=>{try{return rf(e)}catch{}},{data:n}=rY({chainId:rZ.R.id,name:e?r(e):void 0,query:{enabled:t}});return n}function a9(e){let t=a8(),{data:r}=r1({chainId:rZ.R.id,address:e,query:{enabled:t}});return r}function le(){var e;let{chain:t}=en();return null!=(e=null==t?void 0:t.id)?e:null}var lt="rk-transactions";function lr(e){try{let t=e?JSON.parse(e):{};return"object"==typeof t?t:{}}catch{return{}}}function ln(){return lr("undefined"!=typeof localStorage?localStorage.getItem(lt):null)}var li=/^0x([A-Fa-f0-9]{64})$/;function lo(e){let t=[];return li.test(e.hash)||t.push("Invalid transaction hash"),"string"!=typeof e.description&&t.push("Transaction must have a description"),void 0!==e.confirmations&&(!Number.isInteger(e.confirmations)||e.confirmations<1)&&t.push("Transaction confirmations must be a positiver integer"),t}function ls({provider:e}){let t=ln(),r=e,n=new Set,i=new Map;function o(e,r){var n,i;return null!=(i=null==(n=t[e])?void 0:n[r])?i:[]}function s(e,t,r,n){l(e,t,e=>e.map(e=>e.hash===r?{...e,status:n}:e))}async function a(e,t){await Promise.all(o(e,t).filter(e=>"pending"===e.status).map(async n=>{let{confirmations:o,hash:a}=n,l=i.get(a);if(l)return await l;let u=r.waitForTransactionReceipt({confirmations:o,hash:a,timeout:3e5}).then(({status:r})=>{i.delete(a),void 0!==r&&s(e,t,a,0===r||"reverted"===r?"failed":"confirmed")}).catch(()=>{s(e,t,a,"failed")});return i.set(a,u),await u}))}function l(e,r,n){var i,o;(t=ln())[e]=null!=(i=t[e])?i:{};let s=0,l=10,d=n(null!=(o=t[e][r])?o:[]).filter(({status:e})=>"pending"===e||s++<=l);t[e][r]=d.length>0?d:void 0,u(),c(),a(e,r)}function u(){localStorage.setItem(lt,JSON.stringify(t))}function c(){for(let e of n)e()}return{addTransaction:function(e,t,r){let n=lo(r);if(n.length>0)throw Error(["Unable to add transaction",...n].join("\n"));l(e,t,e=>[{...r,status:"pending"},...e.filter(({hash:e})=>e!==r.hash)])},clearTransactions:function(e,t){l(e,t,()=>[])},getTransactions:o,onChange:function(e){return n.add(e),()=>{n.delete(e)}},setProvider:function(e){r=e},waitForPendingTransactions:a}}var la=(0,P.createContext)(null);function ll({children:e}){let t=i1(),{address:r}=en();le();let[n]=(0,P.useState)(()=>null!=_?_:_=ls({provider:t}));return P.createElement(la.Provider,{value:n},e)}function lu(){let e=(0,P.useContext)(la);if(!e)throw Error("Transaction hooks must be used within RainbowKitProvider");return e}function lc(){let e=lu(),{address:t}=en(),r=le(),[n,i]=(0,P.useState)(()=>e&&t&&r?e.getTransactions(t,r):[]);return(0,P.useEffect)(()=>{if(e&&t&&r)return i(e.getTransactions(t,r)),e.onChange(()=>{i(e.getTransactions(t,r))})},[e,t,r]),n}var ld=e=>"function"==typeof e?e():e;function lh(e,{extends:t}={}){let r={...oz(sX,ld(e))};if(!t)return r;let n=oz(sX,ld(t));return Object.fromEntries(Object.entries(r).filter(([e,t])=>t!==n[e]))}function lp(e,t={}){return Object.entries(lh(e,t)).map(([e,t])=>`${e}:${t.replace(/[:;{}</>]/g,"")};`).join("")}var lf={appName:void 0,disclaimer:void 0,learnMoreUrl:"https://learn.rainbow.me/understanding-web3?utm_source=rainbowkit&utm_campaign=learnmore"},lm=(0,P.createContext)(lf),lg=(0,P.createContext)(!1);function ly(e,t){let r;return()=>{r&&clearTimeout(r),r=setTimeout(()=>{r=null,e()},t)}}var lv=()=>{let[e,t]=(0,P.useState)({height:void 0,width:void 0});return(0,P.useEffect)(()=>{let e=ly(()=>{t({height:window.innerHeight,width:window.innerWidth})},500);return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),e},lb=(0,P.createContext)({connector:null,setConnector:()=>{}});function lE({children:e}){let[t,r]=(0,P.useState)(null);return P.createElement(lb.Provider,{value:(0,P.useMemo)(()=>({connector:t,setConnector:r}),[t])},e)}var lS={COMPACT:"compact",WIDE:"wide"},l_=(0,P.createContext)(lS.WIDE);function lT({children:e,modalSize:t}){let{width:r}=lv(),n=r&&r<sY,{connector:i}=(0,P.useContext)(lb);return P.createElement(l_.Provider,{value:n||i?lS.COMPACT:t},e)}var lA=(0,P.createContext)(!1),lC="rk-version";function lw({version:e}){localStorage.setItem(lC,e)}function lO(){(0,P.useCallback)(()=>{lw({version:"2.0.5"})},[])}function lR(e,t){let r={};for(let n of e){let e=t(n);e&&(r[e]=n)}return r}function lx(){return"undefined"!=typeof navigator&&/Version\/([0-9._]+).*Safari/.test(navigator.userAgent)}function lI(){return"undefined"!=typeof document&&""!==getComputedStyle(document.body).getPropertyValue("--arc-palette-focus")}function lD(){var e;if("undefined"==typeof navigator)return"Browser";let t=navigator.userAgent.toLowerCase();return(null==(e=navigator.brave)?void 0:e.isBrave)?"Brave":t.indexOf("edg/")>-1?"Edge":t.indexOf("op")>-1?"Opera":lI()?"Arc":t.indexOf("chrome")>-1?"Chrome":t.indexOf("firefox")>-1?"Firefox":lx()?"Safari":"Browser"}var{os:lP}=(0,oJ.UAParser)();function lN(){return"Windows"===lP.name}function lk(){return"Mac OS"===lP.name}function lM(){return["Ubuntu","Mint","Fedora","Debian","Arch","Linux"].includes(lP.name)}function lL(){return lN()?"Windows":lk()?"macOS":lM()?"Linux":"Desktop"}var lB=e=>{var t,r,n,i,o,s,a,l,u,c,d,h;let p=lD();return null!=(h=({Arc:null==(t=null==e?void 0:e.downloadUrls)?void 0:t.chrome,Brave:null==(r=null==e?void 0:e.downloadUrls)?void 0:r.chrome,Chrome:null==(n=null==e?void 0:e.downloadUrls)?void 0:n.chrome,Edge:(null==(i=null==e?void 0:e.downloadUrls)?void 0:i.edge)||(null==(o=null==e?void 0:e.downloadUrls)?void 0:o.chrome),Firefox:null==(s=null==e?void 0:e.downloadUrls)?void 0:s.firefox,Opera:(null==(a=null==e?void 0:e.downloadUrls)?void 0:a.opera)||(null==(l=null==e?void 0:e.downloadUrls)?void 0:l.chrome),Safari:null==(u=null==e?void 0:e.downloadUrls)?void 0:u.safari,Browser:null==(c=null==e?void 0:e.downloadUrls)?void 0:c.browserExtension})[p])?h:null==(d=null==e?void 0:e.downloadUrls)?void 0:d.browserExtension},lj=e=>{var t,r,n,i;return null!=(i=at()?null==(t=null==e?void 0:e.downloadUrls)?void 0:t.ios:null==(r=null==e?void 0:e.downloadUrls)?void 0:r.android)?i:null==(n=null==e?void 0:e.downloadUrls)?void 0:n.mobile},lF=e=>{var t,r,n,i,o,s;let a=lL();return null!=(s=({Windows:null==(t=null==e?void 0:e.downloadUrls)?void 0:t.windows,macOS:null==(r=null==e?void 0:e.downloadUrls)?void 0:r.macos,Linux:null==(n=null==e?void 0:e.downloadUrls)?void 0:n.linux,Desktop:null==(i=null==e?void 0:e.downloadUrls)?void 0:i.desktop})[a])?s:null==(o=null==e?void 0:e.downloadUrls)?void 0:o.desktop},lU=(e,t)=>e.some(e=>e.id===t),lV=e=>!!e.isRainbowKitConnector,lz=e=>{var t;return!!(!e.isRainbowKitConnector&&(null==(t=e.icon)?void 0:t.startsWith("data:image"))&&e.uid&&e.name)},lG=(e,t)=>"walletConnect"===e.id&&t?{...e,walletConnectModalConnector:t}:e,l$=({wallets:e,recentWallets:t})=>[...t,...e.filter(e=>!lU(t,e.id))],lH="rk-recent";function lq(e){try{let t=e?JSON.parse(e):[];return Array.isArray(t)?t:[]}catch{return[]}}function lW(){return"undefined"!=typeof localStorage?lq(localStorage.getItem(lH)):[]}function lK(e){return[...new Set(e)]}function lY(e){let t=lK([e,...lW()]);localStorage.setItem(lH,JSON.stringify(t))}function lZ(e=!1){var t,r,n,i;let o=a0(),s=a1(),{connectAsync:a,connectors:l}=oZ(),u=l,{setIsWalletConnectModalOpen:c}=cY(),d=u.map(e=>({...e,...e.rkDetails||{}}));async function h(e){var t,r,n;let i=await e.getChainId(),l=await a({chainId:null!=(n=null!=s?s:null==(t=o.find(({id:e})=>e===i))?void 0:t.id)?n:null==(r=o[0])?void 0:r.id,connector:e});return l&&lY(e.id),l}async function p(e){try{c(!0),await h(e),c(!1)}catch(t){let e="UserRejectedRequestError"===t.name||"Connection request reset. Please try again."===t.message;if(c(!1),!e)throw t}}let f=async(e,t)=>{let r=await e.getProvider();return"coinbase"===e.id?r.qrUrl:new Promise(e=>r.once("display_uri",r=>{e(t(r))}))},m=d.find(e=>"walletConnect"===e.id&&e.isWalletConnectModalConnector),g=d.filter(lz).map(e=>({...e,groupIndex:0})),y=d.filter(lV).filter(e=>!e.isWalletConnectModalConnector).filter(t=>!e||!g.some(e=>e.id===t.rdns)).map(e=>lG(e,m)),v=[...g,...y],b=lR(v,e=>e.id),E=3,S=lW().map(e=>b[e]).filter(Boolean).slice(0,E),_=[];for(let e of l$({wallets:v,recentWallets:S})){if(!e)continue;let o=lz(e),s=lU(S,e.id);if(o){_.push({...e,iconUrl:e.icon,ready:!0,connect:()=>h(e),groupName:"Installed",recent:s});continue}_.push({...e,ready:null==(t=e.installed)||t,connect:()=>h(e),desktopDownloadUrl:lF(e),extensionDownloadUrl:lB(e),groupName:e.groupName,mobileDownloadUrl:lj(e),getQrCodeUri:(null==(r=e.qrCode)?void 0:r.getUri)?()=>f(e,e.qrCode.getUri):void 0,getDesktopUri:(null==(n=e.desktop)?void 0:n.getUri)?()=>f(e,e.desktop.getUri):void 0,getMobileUri:(null==(i=e.mobile)?void 0:i.getUri)?()=>{var t;return f(e,null==(t=e.mobile)?void 0:t.getUri)}:void 0,recent:s,showWalletConnectModal:e.walletConnectModalConnector?()=>p(e.walletConnectModalConnector):void 0})}return _}var lJ=async()=>(await r.e(6936).then(r.bind(r,16936))).default,lQ=()=>ac(lJ),lX=()=>P.createElement(ap,{background:"#d0d5de",borderRadius:"10",height:"48",src:lJ,width:"48"}),l0=async()=>(await r.e(9117).then(r.bind(r,39117))).default,l1=()=>ac(l0),l2=()=>P.createElement(ap,{background:"#d0d5de",borderRadius:"10",height:"48",src:l0,width:"48"}),l3=P.forwardRef(({as:e="div",children:t,className:r,color:n,display:i,font:o="body",id:s,size:a="16",style:l,tabIndex:u,textAlign:c="inherit",weight:d="regular",testId:h},p)=>P.createElement(as,{as:e,className:r,color:n,display:i,fontFamily:o,fontSize:a,fontWeight:d,id:s,ref:p,style:l,tabIndex:u,textAlign:c,testId:h},t));l3.displayName="Text";var l6={large:{fontSize:"16",paddingX:"24",paddingY:"10"},medium:{fontSize:"14",height:"28",paddingX:"12",paddingY:"4"},small:{fontSize:"14",paddingX:"10",paddingY:"5"}};function l4({disabled:e=!1,href:t,label:r,onClick:n,rel:i="noreferrer noopener",size:o="medium",target:s="_blank",testId:a,type:l="primary"}){let u="primary"===l,c="large"!==o,d=ar(),h=e?"actionButtonSecondaryBackground":u?"accentColor":c?"actionButtonSecondaryBackground":null,{fontSize:p,height:f,paddingX:m,paddingY:g}=l6[o],y=!d||!c;return P.createElement(as,{...t?e?{}:{as:"a",href:t,rel:i,target:s}:{as:"button",type:"button"},onClick:e?void 0:n,...y?{borderColor:!d||c||u?"actionButtonBorder":"actionButtonBorderMobile",borderStyle:"solid",borderWidth:"1"}:{},borderRadius:"actionButton",className:!e&&s3({active:"shrinkSm",hover:"grow"}),display:"block",paddingX:m,paddingY:g,style:{willChange:"transform"},testId:a,textAlign:"center",transition:"transform",...h?{background:h}:{},...f?{height:f}:{}},P.createElement(l3,{color:e?"modalTextSecondary":u?"accentColorForeground":"accentColor",size:p,weight:"bold"},r))}var l5=()=>ar()?P.createElement("svg",{"aria-hidden":!0,fill:"none",height:"11.5",viewBox:"0 0 11.5 11.5",width:"11.5",xmlns:"http://www.w3.org/2000/svg"},P.createElement("title",null,"Close"),P.createElement("path",{d:"M2.13388 0.366117C1.64573 -0.122039 0.854272 -0.122039 0.366117 0.366117C-0.122039 0.854272 -0.122039 1.64573 0.366117 2.13388L3.98223 5.75L0.366117 9.36612C-0.122039 9.85427 -0.122039 10.6457 0.366117 11.1339C0.854272 11.622 1.64573 11.622 2.13388 11.1339L5.75 7.51777L9.36612 11.1339C9.85427 11.622 10.6457 11.622 11.1339 11.1339C11.622 10.6457 11.622 9.85427 11.1339 9.36612L7.51777 5.75L11.1339 2.13388C11.622 1.64573 11.622 0.854272 11.1339 0.366117C10.6457 -0.122039 9.85427 -0.122039 9.36612 0.366117L5.75 3.98223L2.13388 0.366117Z",fill:"currentColor"})):P.createElement("svg",{"aria-hidden":!0,fill:"none",height:"10",viewBox:"0 0 10 10",width:"10",xmlns:"http://www.w3.org/2000/svg"},P.createElement("title",null,"Close"),P.createElement("path",{d:"M1.70711 0.292893C1.31658 -0.0976311 0.683417 -0.0976311 0.292893 0.292893C-0.0976311 0.683417 -0.0976311 1.31658 0.292893 1.70711L3.58579 5L0.292893 8.29289C-0.0976311 8.68342 -0.0976311 9.31658 0.292893 9.70711C0.683417 10.0976 1.31658 10.0976 1.70711 9.70711L5 6.41421L8.29289 9.70711C8.68342 10.0976 9.31658 10.0976 9.70711 9.70711C10.0976 9.31658 10.0976 8.68342 9.70711 8.29289L6.41421 5L9.70711 1.70711C10.0976 1.31658 10.0976 0.683417 9.70711 0.292893C9.31658 -0.0976311 8.68342 -0.0976311 8.29289 0.292893L5 3.58579L1.70711 0.292893Z",fill:"currentColor"})),l8=({"aria-label":e="Close",onClose:t})=>{let r=ar();return P.createElement(as,{alignItems:"center","aria-label":e,as:"button",background:"closeButtonBackground",borderColor:"actionButtonBorder",borderRadius:"full",borderStyle:"solid",borderWidth:r?"0":"1",className:s3({active:"shrinkSm",hover:"growLg"}),color:"closeButton",display:"flex",height:r?"30":"28",justifyContent:"center",onClick:t,style:{willChange:"transform"},transition:"default",type:"button",width:r?"30":"28"},P.createElement(l5,null))},l7=async()=>(await r.e(2412).then(r.bind(r,62412))).default;function l9({onClose:e,onCloseModal:t}){let{i18n:r}=(0,P.useContext)(aD),[{status:n,...i},o]=P.useState({status:"idle"}),s=s4(),a=(0,P.useCallback)(async()=>{try{let e=await s.getNonce();o(t=>({...t,nonce:e}))}catch{o(e=>({...e,errorMessage:r.t("sign_in.message.preparing_error"),status:"idle"}))}},[s,r.t]),l=(0,P.useRef)(!1);P.useEffect(()=>{l.current||(l.current=!0,a())},[a]);let u=ar(),{address:c,chain:d}=en(),{signMessageAsync:h}=sn(),p=async()=>{try{let e;let n=null==d?void 0:d.id,{nonce:a}=i;if(!c||!n||!a)return;o(e=>({...e,errorMessage:void 0,status:"signing"}));let l=s.createMessage({address:c,chainId:n,nonce:a});try{e=await h({message:s.getMessageBody({message:l})})}catch(e){if(e instanceof eS.ab)return o(e=>({...e,status:"idle"}));return o(e=>({...e,errorMessage:r.t("sign_in.signature.signing_error"),status:"idle"}))}o(e=>({...e,status:"verifying"}));try{if(await s.verify({message:l,signature:e})){t();return}throw Error()}catch{return o(e=>({...e,errorMessage:r.t("sign_in.signature.verifying_error"),status:"idle"}))}}catch{o({errorMessage:r.t("sign_in.signature.oops_error"),status:"idle"})}};return P.createElement(as,{position:"relative"},P.createElement(as,{display:"flex",paddingRight:"16",paddingTop:"16",position:"absolute",right:"0"},P.createElement(l8,{onClose:e})),P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"column",gap:u?"32":"24",padding:"24",paddingX:"18",style:{paddingTop:u?"60px":"36px"}},P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"column",gap:u?"6":"4",style:{maxWidth:u?320:280}},P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"column",gap:u?"32":"16"},P.createElement(ap,{height:40,src:l7,width:40}),P.createElement(l3,{color:"modalText",size:u?"20":"18",textAlign:"center",weight:"heavy"},r.t("sign_in.label"))),P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"column",gap:u?"16":"12"},P.createElement(l3,{color:"modalTextSecondary",size:u?"16":"14",textAlign:"center"},r.t("sign_in.description")),"idle"===n&&i.errorMessage?P.createElement(l3,{color:"error",size:u?"16":"14",textAlign:"center",weight:"bold"},i.errorMessage):null)),P.createElement(as,{alignItems:u?void 0:"center",display:"flex",flexDirection:"column",gap:"8",width:"full"},P.createElement(l4,{disabled:!i.nonce||"signing"===n||"verifying"===n,label:i.nonce?"signing"===n?r.t("sign_in.signature.waiting"):"verifying"===n?r.t("sign_in.signature.verifying"):r.t("sign_in.message.send"):r.t("sign_in.message.preparing"),onClick:p,size:u?"large":"medium",testId:"auth-message-button"}),u?P.createElement(l4,{label:"Cancel",onClick:e,size:"large",type:"secondary"}):P.createElement(as,{as:"button",borderRadius:"full",className:s3({active:"shrink",hover:"grow"}),display:"block",onClick:e,paddingX:"10",paddingY:"5",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},P.createElement(l3,{color:"closeButton",size:u?"16":"14",weight:"bold"},r.t("sign_in.message.cancel"))))))}function ue(){let e=a0(),t=lZ(),r="unauthenticated"===s5();(0,P.useCallback)(()=>{ac(...t.map(e=>e.iconUrl),...e.map(e=>e.iconUrl).filter(aN)),ar()||(lQ(),l1()),r&&ac(l7)},[t,e,r])}var ut="WALLETCONNECT_DEEPLINK_CHOICE";function ur({mobileUri:e,name:t}){localStorage.setItem(ut,JSON.stringify({href:e.split("?")[0],name:t}))}function un(){localStorage.removeItem(ut)}var ui=(0,P.createContext)(void 0),uo="data-rk",us=e=>({[uo]:e||""}),ua=e=>{if(e&&!/^[a-zA-Z0-9_]+$/.test(e))throw Error(`Invalid ID: ${e}`);return e?`[${uo}="${e}"]`:`[${uo}]`},ul=()=>us((0,P.useContext)(ui)),uu=I();function uc({appInfo:e,avatar:t,children:r,coolMode:n=!1,id:i,initialChain:o,locale:s,modalSize:a=lS.WIDE,showRecentTransactions:l=!1,theme:u=uu}){if(ue(),lO(),i2({onDisconnect:un}),"function"==typeof u)throw Error('A theme function was provided to the "theme" prop instead of a theme object. You must execute this function to get the resulting theme object.');let c=ua(i),d={...lf,...e},h=null!=t?t:a_;return P.createElement(aX,{initialChain:o},P.createElement(lE,null,P.createElement(aP,{locale:s},P.createElement(lg.Provider,{value:n},P.createElement(lT,{modalSize:a},P.createElement(lA.Provider,{value:l},P.createElement(ll,null,P.createElement(aT.Provider,{value:h},P.createElement(lm.Provider,{value:d},P.createElement(ui.Provider,{value:i},P.createElement(a6,null,P.createElement(cH,null,u?P.createElement("div",{...us(i)},P.createElement("style",{dangerouslySetInnerHTML:{__html:[`${c}{${lp("lightMode"in u?u.lightMode:u)}}`,"darkMode"in u?`@media(prefers-color-scheme:dark){${c}{${lp(u.darkMode,{extends:u.lightMode})}}}`:null].join("")}}),r):r))))))))))))}var ud="_9pm4ki5 ju367va ju367v15 ju367v8r",uh="_9pm4ki3 ju367v9h ju367vb3 ju367va ju367v2q ju367v8q",up=(e,t)=>{let r=e.querySelectorAll("button:not(:disabled), a[href]");0!==r.length&&r["end"===t?r.length-1:0].focus()};function uf(e){let t=(0,P.useRef)(null);return P.createElement(P.Fragment,null,P.createElement("div",{onFocus:(0,P.useCallback)(()=>t.current&&up(t.current,"end"),[]),tabIndex:0}),P.createElement("div",{ref:t,style:{outline:"none"},tabIndex:-1,...e}),P.createElement("div",{onFocus:(0,P.useCallback)(()=>t.current&&up(t.current,"start"),[]),tabIndex:0}))}var um=e=>e.stopPropagation();function ug({children:e,onClose:t,open:r,titleId:n}){(0,P.useEffect)(()=>{let e=e=>r&&"Escape"===e.key&&t();return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[r,t]);let[i,o]=(0,P.useState)(!0);(0,P.useEffect)(()=>{o("hidden"!==getComputedStyle(window.document.body).overflow)},[]);let s=(0,P.useCallback)(()=>t(),[t]),a=ul(),l=ar();return P.createElement(P.Fragment,null,r?(0,on.createPortal)(P.createElement(oj,{enabled:i},P.createElement(as,{...a},P.createElement(as,{...a,alignItems:l?"flex-end":"center","aria-labelledby":n,"aria-modal":!0,className:uh,onClick:s,position:"fixed",role:"dialog"},P.createElement(uf,{className:ud,onClick:um,role:"document"},e)))),document.body):null)}var uy="_1ckjpok7",uv="_1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",ub="_1ckjpok4 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",uE="_1ckjpok6 ju367vq",uS="_1ckjpok3 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r",u_="_1ckjpok2 _1ckjpok1 ju367vb6 ju367vdr ju367vp ju367vt ju367vv ju367vel ju367va ju367v15 ju367v6c ju367v8r";function uT({bottomSheetOnMobile:e=!1,children:t,marginTop:r,padding:n="16",paddingBottom:i,wide:o=!1}){let s=ar(),a=(0,P.useContext)(l_)===lS.COMPACT;return P.createElement(as,{marginTop:r},P.createElement(as,{className:[o?s?u_:a?ub:uS:uv,s?uE:null,s&&e?uy:null].join(" ")},P.createElement(as,{padding:n,paddingBottom:null!=i?i:n},t)))}var uA=["k","m","b","t"];function uC(e,t=1){return e.toString().replace(RegExp(`(.+\\.\\d{${t}})\\d+`),"$1").replace(/(\.[1-9]*)0+$/,"$1").replace(/\.$/,"")}function uw(e){if(e<1)return uC(e,3);if(e<100)return uC(e,2);if(e<1e4)return new Intl.NumberFormat().format(parseFloat(uC(e,1)));let t=10,r=String(e);for(let n=uA.length-1;n>=0;n--){let i=10**((n+1)*3);if(i<=e){r=uC(e=e*t/i/t,1)+uA[n];break}}return r}function uO(e){let t=4,r=4;return e.length<t+r?e:`${e.substring(0,t)}\u2026${e.substring(e.length-r)}`}function uR(e){if(!e)return"";let t=e.split("."),r=t.pop();return t.join(".").length>24?`${t.join(".").substring(0,24)}...`:`${t.join(".")}.${r}`}var ux=()=>P.createElement("svg",{fill:"none",height:"13",viewBox:"0 0 13 13",width:"13",xmlns:"http://www.w3.org/2000/svg"},P.createElement("title",null,"Copied"),P.createElement("path",{d:"M4.94568 12.2646C5.41052 12.2646 5.77283 12.0869 6.01892 11.7109L12.39 1.96973C12.5677 1.69629 12.6429 1.44336 12.6429 1.2041C12.6429 0.561523 12.1644 0.0966797 11.5082 0.0966797C11.057 0.0966797 10.7767 0.260742 10.5033 0.691406L4.9115 9.50977L2.07458 5.98926C1.82166 5.68848 1.54822 5.55176 1.16541 5.55176C0.502319 5.55176 0.0238037 6.02344 0.0238037 6.66602C0.0238037 6.95312 0.112671 7.20605 0.358765 7.48633L3.88611 11.7588C4.18005 12.1074 4.50818 12.2646 4.94568 12.2646Z",fill:"currentColor"})),uI=()=>P.createElement("svg",{fill:"none",height:"16",viewBox:"0 0 17 16",width:"17",xmlns:"http://www.w3.org/2000/svg"},P.createElement("title",null,"Copy"),P.createElement("path",{d:"M3.04236 12.3027H4.18396V13.3008C4.18396 14.8525 5.03845 15.7002 6.59705 15.7002H13.6244C15.183 15.7002 16.0375 14.8525 16.0375 13.3008V6.24609C16.0375 4.69434 15.183 3.84668 13.6244 3.84668H12.4828V2.8418C12.4828 1.29688 11.6283 0.442383 10.0697 0.442383H3.04236C1.48376 0.442383 0.629272 1.29004 0.629272 2.8418V9.90332C0.629272 11.4551 1.48376 12.3027 3.04236 12.3027ZM3.23376 10.5391C2.68689 10.5391 2.39294 10.2656 2.39294 9.68457V3.06055C2.39294 2.47949 2.68689 2.21289 3.23376 2.21289H9.8783C10.4252 2.21289 10.7191 2.47949 10.7191 3.06055V3.84668H6.59705C5.03845 3.84668 4.18396 4.69434 4.18396 6.24609V10.5391H3.23376ZM6.78845 13.9365C6.24158 13.9365 5.94763 13.6699 5.94763 13.0889V6.45801C5.94763 5.87695 6.24158 5.61035 6.78845 5.61035H13.433C13.9799 5.61035 14.2738 5.87695 14.2738 6.45801V13.0889C14.2738 13.6699 13.9799 13.9365 13.433 13.9365H6.78845Z",fill:"currentColor"})),uD=()=>P.createElement("svg",{fill:"none",height:"16",viewBox:"0 0 18 16",width:"18",xmlns:"http://www.w3.org/2000/svg"},P.createElement("title",null,"Disconnect"),P.createElement("path",{d:"M2.67834 15.5908H9.99963C11.5514 15.5908 12.399 14.7432 12.399 13.1777V10.2656H10.6354V12.9863C10.6354 13.5332 10.3688 13.8271 9.78772 13.8271H2.89026C2.3092 13.8271 2.0426 13.5332 2.0426 12.9863V3.15625C2.0426 2.60254 2.3092 2.30859 2.89026 2.30859H9.78772C10.3688 2.30859 10.6354 2.60254 10.6354 3.15625V5.89746H12.399V2.95801C12.399 1.39941 11.5514 0.544922 9.99963 0.544922H2.67834C1.12659 0.544922 0.278931 1.39941 0.278931 2.95801V13.1777C0.278931 14.7432 1.12659 15.5908 2.67834 15.5908ZM7.43616 8.85059H14.0875L15.0924 8.78906L14.566 9.14453L13.6842 9.96484C13.5406 10.1016 13.4586 10.2861 13.4586 10.4844C13.4586 10.8398 13.7321 11.168 14.1217 11.168C14.3199 11.168 14.4635 11.0928 14.6002 10.9561L16.7809 8.68652C16.986 8.48145 17.0543 8.27637 17.0543 8.06445C17.0543 7.85254 16.986 7.64746 16.7809 7.43555L14.6002 5.17285C14.4635 5.03613 14.3199 4.9541 14.1217 4.9541C13.7321 4.9541 13.4586 5.27539 13.4586 5.6377C13.4586 5.83594 13.5406 6.02734 13.6842 6.15723L14.566 6.98438L15.0924 7.33984L14.0875 7.27148H7.43616C7.01917 7.27148 6.65686 7.62012 6.65686 8.06445C6.65686 8.50195 7.01917 8.85059 7.43616 8.85059Z",fill:"currentColor"}));function uP(){let e=lu(),{address:t}=en(),r=le();return(0,P.useCallback)(()=>{if(!t||!r)throw Error("No address or chain ID found");e.clearTransactions(t,r)},[e,t,r])}var uN=e=>{var t,r;return null==(r=null==(t=null==e?void 0:e.blockExplorers)?void 0:t.default)?void 0:r.url},uk=()=>P.createElement("svg",{fill:"none",height:"19",viewBox:"0 0 20 19",width:"20",xmlns:"http://www.w3.org/2000/svg"},P.createElement("title",null,"Link"),P.createElement("path",{d:"M10 18.9443C15.0977 18.9443 19.2812 14.752 19.2812 9.6543C19.2812 4.56543 15.0889 0.373047 10 0.373047C4.90234 0.373047 0.71875 4.56543 0.71875 9.6543C0.71875 14.752 4.91113 18.9443 10 18.9443ZM10 16.6328C6.1416 16.6328 3.03906 13.5215 3.03906 9.6543C3.03906 5.7959 6.13281 2.68457 10 2.68457C13.8584 2.68457 16.9697 5.7959 16.9697 9.6543C16.9785 13.5215 13.8672 16.6328 10 16.6328ZM12.7158 12.1416C13.2432 12.1416 13.5684 11.7549 13.5684 11.1836V7.19336C13.5684 6.44629 13.1377 6.05957 12.417 6.05957H8.40918C7.8291 6.05957 7.45117 6.38477 7.45117 6.91211C7.45117 7.43945 7.8291 7.77344 8.40918 7.77344H9.69238L10.7207 7.63281L9.53418 8.67871L6.73047 11.4912C6.53711 11.6758 6.41406 11.9395 6.41406 12.2031C6.41406 12.7832 6.85352 13.1699 7.39844 13.1699C7.68848 13.1699 7.92578 13.0732 8.1543 12.8623L10.9316 10.0762L11.9775 8.89844L11.8545 9.98828V11.1836C11.8545 11.7725 12.1885 12.1416 12.7158 12.1416Z",fill:"currentColor"})),uM=()=>P.createElement("svg",{fill:"none",height:"19",viewBox:"0 0 20 19",width:"20",xmlns:"http://www.w3.org/2000/svg"},P.createElement("title",null,"Cancel"),P.createElement("path",{d:"M10 18.9443C15.0977 18.9443 19.2812 14.752 19.2812 9.6543C19.2812 4.56543 15.0889 0.373047 10 0.373047C4.90234 0.373047 0.71875 4.56543 0.71875 9.6543C0.71875 14.752 4.91113 18.9443 10 18.9443ZM10 16.6328C6.1416 16.6328 3.03906 13.5215 3.03906 9.6543C3.03906 5.7959 6.13281 2.68457 10 2.68457C13.8584 2.68457 16.9697 5.7959 16.9697 9.6543C16.9785 13.5215 13.8672 16.6328 10 16.6328ZM7.29297 13.3018C7.58301 13.3018 7.81152 13.2139 7.99609 13.0205L10 11.0166L12.0127 13.0205C12.1973 13.2051 12.4258 13.3018 12.707 13.3018C13.2432 13.3018 13.6562 12.8887 13.6562 12.3525C13.6562 12.0977 13.5508 11.8691 13.3662 11.6934L11.3535 9.67188L13.375 7.6416C13.5596 7.44824 13.6562 7.22852 13.6562 6.98242C13.6562 6.44629 13.2432 6.0332 12.7158 6.0332C12.4346 6.0332 12.2148 6.12109 12.0215 6.31445L10 8.32715L7.9873 6.32324C7.80273 6.12988 7.58301 6.04199 7.29297 6.04199C6.76562 6.04199 6.35254 6.45508 6.35254 6.99121C6.35254 7.2373 6.44922 7.46582 6.63379 7.6416L8.65527 9.67188L6.63379 11.6934C6.44922 11.8691 6.35254 12.1064 6.35254 12.3525C6.35254 12.8887 6.76562 13.3018 7.29297 13.3018Z",fill:"currentColor"})),uL=()=>P.createElement("svg",{fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg"},P.createElement("title",null,"Success"),P.createElement("path",{d:"M10 19.4443C15.0977 19.4443 19.2812 15.252 19.2812 10.1543C19.2812 5.06543 15.0889 0.873047 10 0.873047C4.90234 0.873047 0.71875 5.06543 0.71875 10.1543C0.71875 15.252 4.91113 19.4443 10 19.4443ZM10 17.1328C6.1416 17.1328 3.03906 14.0215 3.03906 10.1543C3.03906 6.2959 6.13281 3.18457 10 3.18457C13.8584 3.18457 16.9697 6.2959 16.9697 10.1543C16.9785 14.0215 13.8672 17.1328 10 17.1328ZM9.07715 14.3379C9.4375 14.3379 9.7627 14.1533 9.97363 13.8369L13.7441 8.00977C13.8848 7.79883 13.9814 7.5791 13.9814 7.36816C13.9814 6.84961 13.5244 6.48926 13.0322 6.48926C12.707 6.48926 12.4258 6.66504 12.2148 7.0166L9.05957 12.0967L7.5918 10.2949C7.37207 10.0225 7.13477 9.9082 6.84473 9.9082C6.33496 9.9082 5.92188 10.3125 5.92188 10.8223C5.92188 11.0684 6.00098 11.2793 6.18555 11.5078L8.1543 13.8545C8.40918 14.1709 8.70801 14.3379 9.07715 14.3379Z",fill:"currentColor"})),uB=e=>{switch(e){case"pending":default:return ay;case"confirmed":return uL;case"failed":return uM}};function uj({tx:e}){let t=ar(),r=uB(e.status),n="failed"===e.status?"error":"accentColor",{chain:i}=en(),o="confirmed"===e.status?"Confirmed":"failed"===e.status?"Failed":"Pending",s=uN(i);return P.createElement(P.Fragment,null,P.createElement(as,{...s?{as:"a",background:{hover:"profileForeground"},borderRadius:"menuButton",className:s3({active:"shrink"}),href:`${s}/tx/${e.hash}`,rel:"noreferrer noopener",target:"_blank",transition:"default"}:{},color:"modalText",display:"flex",flexDirection:"row",justifyContent:"space-between",padding:"8",width:"full"},P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"row",gap:t?"16":"14"},P.createElement(as,{color:n},P.createElement(r,null)),P.createElement(as,{display:"flex",flexDirection:"column",gap:t?"3":"1"},P.createElement(as,null,P.createElement(l3,{color:"modalText",font:"body",size:t?"16":"14",weight:"bold"},null==e?void 0:e.description)),P.createElement(as,null,P.createElement(l3,{color:"pending"===e.status?"modalTextSecondary":n,font:"body",size:"14",weight:t?"medium":"regular"},o)))),s&&P.createElement(as,{alignItems:"center",color:"modalTextDim",display:"flex"},P.createElement(uk,null))))}var uF=3;function uU({address:e}){let t=lc(),r=uP(),{chain:n}=en(),i=uN(n),o=t.slice(0,uF),s=o.length>0,a=ar(),{appName:l}=(0,P.useContext)(lm),{i18n:u}=(0,P.useContext)(aD);return P.createElement(P.Fragment,null,P.createElement(as,{display:"flex",flexDirection:"column",gap:"10",paddingBottom:"2",paddingTop:"16",paddingX:a?"8":"18"},s&&P.createElement(as,{paddingBottom:a?"4":"0",paddingTop:"8",paddingX:a?"12":"6"},P.createElement(as,{display:"flex",justifyContent:"space-between"},P.createElement(l3,{color:"modalTextSecondary",size:a?"16":"14",weight:"semibold"},u.t("profile.transactions.recent.title")),P.createElement(as,{style:{marginBottom:-6,marginLeft:-10,marginRight:-10,marginTop:-6}},P.createElement(as,{as:"button",background:{hover:"profileForeground"},borderRadius:"actionButton",className:s3({active:"shrink"}),onClick:r,paddingX:a?"8":"12",paddingY:a?"4":"5",transition:"default",type:"button"},P.createElement(l3,{color:"modalTextSecondary",size:a?"16":"14",weight:"semibold"},u.t("profile.transactions.clear.label")))))),P.createElement(as,{display:"flex",flexDirection:"column",gap:"4"},s?o.map(e=>P.createElement(uj,{key:e.hash,tx:e})):P.createElement(P.Fragment,null,P.createElement(as,{padding:a?"12":"8"},P.createElement(l3,{color:"modalTextDim",size:a?"16":"14",weight:a?"medium":"bold"},l?u.t("profile.transactions.description",{appName:l}):u.t("profile.transactions.description_fallback"))),a&&P.createElement(as,{background:"generalBorderDim",height:"1",marginX:"12",marginY:"8"})))),i&&P.createElement(as,{paddingBottom:"18",paddingX:a?"8":"18"},P.createElement(as,{alignItems:"center",as:"a",background:{hover:"profileForeground"},borderRadius:"menuButton",className:s3({active:"shrink"}),color:"modalTextDim",display:"flex",flexDirection:"row",href:`${i}/address/${e}`,justifyContent:"space-between",paddingX:"8",paddingY:"12",rel:"noreferrer noopener",style:{willChange:"transform"},target:"_blank",transition:"default",width:"full",...a?{paddingLeft:"12"}:{}},P.createElement(l3,{color:"modalText",font:"body",size:a?"16":"14",weight:a?"semibold":"bold"},u.t("profile.explorer.label")),P.createElement(uk,null))))}function uV({action:e,icon:t,label:r,testId:n,url:i}){let o=ar();return P.createElement(as,{...i?{as:"a",href:i,rel:"noreferrer noopener",target:"_blank"}:{as:"button",type:"button"},background:{base:"profileAction",...o?{}:{hover:"profileActionHover"}},borderRadius:"menuButton",boxShadow:"profileDetailsAction",className:s3({active:"shrinkSm",hover:o?void 0:"grow"}),display:"flex",onClick:e,padding:o?"6":"8",style:{willChange:"transform"},testId:n,transition:"default",width:"full"},P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"column",gap:"1",justifyContent:"center",paddingTop:"2",width:"full"},P.createElement(as,{color:"modalText",height:"max"},t),P.createElement(as,null,P.createElement(l3,{color:"modalText",size:o?"12":"13",weight:"semibold"},r))))}function uz({address:e,ensAvatar:t,ensName:r,onClose:n,onDisconnect:i}){let o=(0,P.useContext)(lA),{data:s}=ta({address:e}),[a,l]=(0,P.useState)(!1),u=(0,P.useCallback)(()=>{e&&(navigator.clipboard.writeText(e),l(!0))},[e]);if(!e)return null;let c=r?uR(r):uO(e),d=null==s?void 0:s.formatted,h=d?uw(parseFloat(d)):void 0,p="rk_profile_title",f=ar(),{i18n:m}=(0,P.useContext)(aD);return P.createElement(P.Fragment,null,P.createElement(as,{display:"flex",flexDirection:"column"},P.createElement(as,{background:"profileForeground",padding:"16"},P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"column",gap:f?"16":"12",justifyContent:"center",margin:"8",style:{textAlign:"center"}},P.createElement(as,{style:{position:"absolute",right:16,top:16,willChange:"transform"}},P.createElement(l8,{onClose:n}))," ",P.createElement(as,{marginTop:f?"24":"0"},P.createElement(aA,{address:e,imageUrl:t,size:f?82:74})),P.createElement(as,{display:"flex",flexDirection:"column",gap:f?"4":"0",textAlign:"center"},P.createElement(as,{textAlign:"center"},P.createElement(l3,{as:"h1",color:"modalText",id:p,size:f?"20":"18",weight:"heavy"},c)),!!s&&P.createElement(as,{textAlign:"center"},P.createElement(l3,{as:"h1",color:"modalTextSecondary",id:p,size:f?"16":"14",weight:"semibold"},h," ",s.symbol)))),P.createElement(as,{display:"flex",flexDirection:"row",gap:"8",margin:"2",marginTop:"16"},P.createElement(uV,{action:u,icon:a?P.createElement(ux,null):P.createElement(uI,null),label:a?m.t("profile.copy_address.copied"):m.t("profile.copy_address.label")}),P.createElement(uV,{action:i,icon:P.createElement(uD,null),label:m.t("profile.disconnect.label"),testId:"disconnect-button"}))),o&&P.createElement(P.Fragment,null,P.createElement(as,{background:"generalBorder",height:"1",marginTop:"-1"}),P.createElement(as,null,P.createElement(uU,{address:e})))))}function uG({onClose:e,open:t}){let{address:r}=en(),n=a9(r),i=a7(n),{disconnect:o}=or();if(!r)return null;let s="rk_account_modal_title";return P.createElement(P.Fragment,null,r&&P.createElement(ug,{onClose:e,open:t,titleId:s},P.createElement(uT,{bottomSheetOnMobile:!0,padding:"0"},P.createElement(uz,{address:r,ensAvatar:i,ensName:n,onClose:e,onDisconnect:o}))))}var u$=({size:e})=>P.createElement("svg",{fill:"none",height:e,viewBox:"0 0 28 28",width:e,xmlns:"http://www.w3.org/2000/svg"},P.createElement("title",null,"Disconnect"),P.createElement("path",{d:"M6.742 22.195h8.367c1.774 0 2.743-.968 2.743-2.758V16.11h-2.016v3.11c0 .625-.305.96-.969.96H6.984c-.664 0-.968-.335-.968-.96V7.984c0-.632.304-.968.968-.968h7.883c.664 0 .969.336.969.968v3.133h2.016v-3.36c0-1.78-.97-2.757-2.743-2.757H6.742C4.97 5 4 5.977 4 7.758v11.68c0 1.789.969 2.757 2.742 2.757Zm5.438-7.703h7.601l1.149-.07-.602.406-1.008.938a.816.816 0 0 0-.258.593c0 .407.313.782.758.782.227 0 .39-.086.547-.243l2.492-2.593c.235-.235.313-.47.313-.711 0-.242-.078-.477-.313-.719l-2.492-2.586c-.156-.156-.32-.25-.547-.25-.445 0-.758.367-.758.781 0 .227.094.446.258.594l1.008.945.602.407-1.149-.079H12.18a.904.904 0 0 0 0 1.805Z",fill:"currentColor"})),uH="v9horb0",uq=P.forwardRef(({children:e,currentlySelected:t=!1,onClick:r,testId:n,...i},o)=>{let s=ar();return P.createElement(as,{as:"button",borderRadius:"menuButton",disabled:t,display:"flex",onClick:r,ref:o,testId:n,type:"button"},P.createElement(as,{borderRadius:"menuButton",className:[s?uH:void 0,!t&&s3({active:"shrink"})],padding:s?"8":"6",transition:"default",width:"full",...t?{background:"accentColor",borderColor:"selectedOptionBorder",borderStyle:"solid",borderWidth:"1",boxShadow:"selectedOption",color:"accentColorForeground"}:{background:{hover:"menuItemBackground"},color:"modalText",transition:"default"},...i},e))});uq.displayName="MenuButton";var uW=({chainId:e,currentChainId:t,switchChain:r,chainIconSize:n,isLoading:i,src:o,name:s,iconBackground:a,idx:l})=>{let u=ar(),{i18n:c}=(0,P.useContext)(aD),d=a0(),h=t===e;return P.createElement(P.Fragment,null,P.createElement(uq,{currentlySelected:h,onClick:h?void 0:()=>r({chainId:e}),testId:`chain-option-${e}`},P.createElement(as,{fontFamily:"body",fontSize:"16",fontWeight:"bold"},P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between"},P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",height:n},o&&P.createElement(as,{height:"full",marginRight:"8"},P.createElement(ap,{alt:s,background:a,borderRadius:"full",height:n,src:o,width:n,testId:`chain-option-${e}-icon`})),P.createElement("div",null,s)),h&&P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"row",marginRight:"6"},P.createElement(l3,{color:"accentColorForeground",size:"14",weight:"medium"},c.t("chains.connected")),P.createElement(as,{background:"connectionIndicator",borderColor:"selectedOptionBorder",borderRadius:"full",borderStyle:"solid",borderWidth:"1",height:"8",marginLeft:"8",width:"8"})),i&&P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"row",marginRight:"6"},P.createElement(l3,{color:"modalText",size:"14",weight:"medium"},c.t("chains.confirm")),P.createElement(as,{background:"standby",borderRadius:"full",height:"8",marginLeft:"8",width:"8"}))))),u&&l<d.length-1&&P.createElement(as,{background:"generalBorderDim",height:"1",marginX:"8"}))},uK="_18dqw9x0",uY="_18dqw9x1";function uZ({onClose:e,open:t}){let{chainId:r}=en(),{chains:n}=X(),[i,o]=(0,P.useState)(null),{switchChain:s}=sd({mutation:{onMutate:({chainId:e})=>{o(e)},onSuccess:()=>{i&&o(null)},onError:()=>{i&&o(null)},onSettled:()=>{e()}}}),{i18n:a}=(0,P.useContext)(aD),{disconnect:l}=or(),u="rk_chain_modal_title",c=ar(),d=n.some(e=>e.id===r),h=c?"36":"28",p=a0();return r?P.createElement(ug,{onClose:e,open:t,titleId:u},P.createElement(uT,{bottomSheetOnMobile:!0,paddingBottom:"0"},P.createElement(as,{display:"flex",flexDirection:"column",gap:"14"},P.createElement(as,{display:"flex",flexDirection:"row",justifyContent:"space-between"},c&&P.createElement(as,{width:"30"}),P.createElement(as,{paddingBottom:"0",paddingLeft:"8",paddingTop:"4"},P.createElement(l3,{as:"h1",color:"modalText",id:u,size:c?"20":"18",weight:"heavy"},a.t("chains.title"))),P.createElement(l8,{onClose:e})),!d&&P.createElement(as,{marginX:"8",textAlign:c?"center":"left"},P.createElement(l3,{color:"modalTextSecondary",size:"14",weight:"medium"},a.t("chains.wrong_network"))),P.createElement(as,{className:c?uY:uK,display:"flex",flexDirection:"column",gap:"4",padding:"2",paddingBottom:"16"},p.map(({iconBackground:e,iconUrl:t,id:n,name:o},a)=>P.createElement(uW,{key:n,chainId:n,currentChainId:r,switchChain:s,chainIconSize:h,isLoading:i===n,src:t,name:o,iconBackground:e,idx:a})),!d&&P.createElement(P.Fragment,null,P.createElement(as,{background:"generalBorderDim",height:"1",marginX:"8"}),P.createElement(uq,{onClick:()=>l(),testId:"chain-option-disconnect"},P.createElement(as,{color:"error",fontFamily:"body",fontSize:"16",fontWeight:"bold"},P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between"},P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",height:h},P.createElement(as,{alignItems:"center",color:"error",height:h,justifyContent:"center",marginRight:"8"},P.createElement(u$,{size:Number(h)})),P.createElement("div",null,a.t("chains.disconnect"))))))))))):null}function uJ(e,t){let r={};for(let n of e){let e=t(n);e&&(r[e]||(r[e]=[]),r[e].push(n))}return r}var uQ=({children:e,href:t})=>P.createElement(as,{as:"a",color:"accentColor",href:t,rel:"noreferrer",target:"_blank"},e),uX=({children:e})=>P.createElement(l3,{color:"modalTextSecondary",size:"12",weight:"medium"},e);function u0({compactModeEnabled:e=!1,getWallet:t}){let{disclaimer:r,learnMoreUrl:n}=(0,P.useContext)(lm),{i18n:i}=(0,P.useContext)(aD);return P.createElement(P.Fragment,null,P.createElement(as,{alignItems:"center",color:"accentColor",display:"flex",flexDirection:"column",height:"full",justifyContent:"space-around"},P.createElement(as,{marginBottom:"10"},!e&&P.createElement(l3,{color:"modalText",size:"18",weight:"heavy"},i.t("intro.title"))),P.createElement(as,{display:"flex",flexDirection:"column",gap:"32",justifyContent:"center",marginY:"20",style:{maxWidth:312}},P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},P.createElement(as,{borderRadius:"6",height:"48",minWidth:"48",width:"48"},P.createElement(lX,null)),P.createElement(as,{display:"flex",flexDirection:"column",gap:"4"},P.createElement(l3,{color:"modalText",size:"14",weight:"bold"},i.t("intro.digital_asset.title")),P.createElement(l3,{color:"modalTextSecondary",size:"14",weight:"medium"},i.t("intro.digital_asset.description")))),P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},P.createElement(as,{borderRadius:"6",height:"48",minWidth:"48",width:"48"},P.createElement(l2,null)),P.createElement(as,{display:"flex",flexDirection:"column",gap:"4"},P.createElement(l3,{color:"modalText",size:"14",weight:"bold"},i.t("intro.login.title")),P.createElement(l3,{color:"modalTextSecondary",size:"14",weight:"medium"},i.t("intro.login.description"))))),P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",margin:"10"},P.createElement(l4,{label:i.t("intro.get.label"),onClick:t}),P.createElement(as,{as:"a",className:s3({active:"shrink",hover:"grow"}),display:"block",href:n,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},P.createElement(l3,{color:"accentColor",size:"14",weight:"bold"},i.t("intro.learn_more.label")))),r&&!e&&P.createElement(as,{marginBottom:"8",marginTop:"12",textAlign:"center"},P.createElement(r,{Link:uQ,Text:uX}))))}var u1=()=>P.createElement("svg",{fill:"none",height:"17",viewBox:"0 0 11 17",width:"11",xmlns:"http://www.w3.org/2000/svg"},P.createElement("title",null,"Back"),P.createElement("path",{d:"M0.99707 8.6543C0.99707 9.08496 1.15527 9.44531 1.51562 9.79688L8.16016 16.3096C8.43262 16.5732 8.74902 16.7051 9.13574 16.7051C9.90918 16.7051 10.5508 16.0811 10.5508 15.3076C10.5508 14.9121 10.3838 14.5605 10.0938 14.2705L4.30176 8.64551L10.0938 3.0293C10.3838 2.74805 10.5508 2.3877 10.5508 2.00098C10.5508 1.23633 9.90918 0.603516 9.13574 0.603516C8.74902 0.603516 8.43262 0.735352 8.16016 0.999023L1.51562 7.51172C1.15527 7.85449 1.00586 8.21484 0.99707 8.6543Z",fill:"currentColor"})),u2=()=>P.createElement("svg",{fill:"none",height:"12",viewBox:"0 0 8 12",width:"8",xmlns:"http://www.w3.org/2000/svg"},P.createElement("title",null,"Info"),P.createElement("path",{d:"M3.64258 7.99609C4.19336 7.99609 4.5625 7.73828 4.68555 7.24609C4.69141 7.21094 4.70312 7.16406 4.70898 7.13477C4.80859 6.60742 5.05469 6.35547 6.04492 5.76367C7.14648 5.10156 7.67969 4.3457 7.67969 3.24414C7.67969 1.39844 6.17383 0.255859 3.95898 0.255859C2.32422 0.255859 1.05859 0.894531 0.548828 1.86719C0.396484 2.14844 0.320312 2.44727 0.320312 2.74023C0.314453 3.37305 0.742188 3.79492 1.42188 3.79492C1.91406 3.79492 2.33594 3.54883 2.53516 3.11523C2.78711 2.47656 3.23242 2.21289 3.83594 2.21289C4.55664 2.21289 5.10742 2.65234 5.10742 3.29102C5.10742 3.9707 4.7793 4.29883 3.81836 4.87891C3.02148 5.36523 2.50586 5.92773 2.50586 6.76562V6.90039C2.50586 7.55664 2.96289 7.99609 3.64258 7.99609ZM3.67188 11.4473C4.42773 11.4473 5.04297 10.8672 5.04297 10.1406C5.04297 9.41406 4.42773 8.83984 3.67188 8.83984C2.91602 8.83984 2.30664 9.41406 2.30664 10.1406C2.30664 10.8672 2.91602 11.4473 3.67188 11.4473Z",fill:"currentColor"})),u3=({"aria-label":e="Info",onClick:t})=>{let r=ar();return P.createElement(as,{alignItems:"center","aria-label":e,as:"button",background:"closeButtonBackground",borderColor:"actionButtonBorder",borderRadius:"full",borderStyle:"solid",borderWidth:r?"0":"1",className:s3({active:"shrinkSm",hover:"growLg"}),color:"closeButton",display:"flex",height:r?"30":"28",justifyContent:"center",onClick:t,style:{willChange:"transform"},transition:"default",type:"button",width:r?"30":"28"},P.createElement(u2,null))},u6=e=>{let t=(0,P.useRef)(null),r=(0,P.useContext)(lg),n=ah(e);return(0,P.useEffect)(()=>{if(r&&t.current&&n)return u8(t.current,n)},[r,n]),t},u4=()=>{let e="_rk_coolMode",t=document.getElementById(e);if(t)return t;let r=document.createElement("div");return r.setAttribute("id",e),r.setAttribute("style","overflow:hidden;position:fixed;height:100%;top:0;left:0;right:0;bottom:0;pointer-events:none;z-index:2147483647"),document.body.appendChild(r),r},u5=0;function u8(e,t){let r;u5++;let n=[15,20,25,35,45],i=35,o=[],s=!1,a=0,l=0,u=u4();function c(){let e=n[Math.floor(Math.random()*n.length)],r=10*Math.random(),i=25*Math.random(),s=360*Math.random(),c=35*Math.random()*(.5>=Math.random()?-1:1),d=l-e/2,h=a-e/2,p=.5>=Math.random()?-1:1,f=document.createElement("div");f.innerHTML=`<img src="${t}" width="${e}" height="${e}" style="border-radius: 25%">`,f.setAttribute("style",`position:absolute;will-change:transform;top:${d}px;left:${h}px;transform:rotate(${s}deg)`),u.appendChild(f),o.push({direction:p,element:f,left:h,size:e,speedHorz:r,speedUp:i,spinSpeed:c,spinVal:s,top:d})}function d(){for(let e of o)e.left=e.left-e.speedHorz*e.direction,e.top=e.top-e.speedUp,e.speedUp=Math.min(e.size,e.speedUp-1),e.spinVal=e.spinVal+e.spinSpeed,e.top>=Math.max(window.innerHeight,document.body.clientHeight)+e.size&&(o=o.filter(t=>t!==e),e.element.remove()),e.element.setAttribute("style",`position:absolute;will-change:transform;top:${e.top}px;left:${e.left}px;transform:rotate(${e.spinVal}deg)`)}function h(){s&&o.length<i&&c(),d(),r=requestAnimationFrame(h)}h();let p="ontouchstart"in window||navigator.msMaxTouchPoints,f=p?"touchstart":"mousedown",m=p?"touchend":"mouseup",g=p?"touchmove":"mousemove",y=e=>{var t,r;"touches"in e?(a=null==(t=e.touches)?void 0:t[0].clientX,l=null==(r=e.touches)?void 0:r[0].clientY):(a=e.clientX,l=e.clientY)},v=e=>{y(e),s=!0},b=()=>{s=!1};return e.addEventListener(g,y,{passive:!1}),e.addEventListener(f,v),e.addEventListener(m,b),e.addEventListener("mouseleave",b),()=>{e.removeEventListener(g,y),e.removeEventListener(f,v),e.removeEventListener(m,b),e.removeEventListener("mouseleave",b);let t=setInterval(()=>{r&&0===o.length&&(cancelAnimationFrame(r),clearInterval(t),0==--u5&&u.remove())},500)}}var u7="g5kl0l0",u9=({as:e="button",currentlySelected:t=!1,iconBackground:r,iconUrl:n,name:i,onClick:o,ready:s,recent:a,testId:l,isRainbowKitConnector:u,...c})=>{let d=u6(n),[h,p]=(0,P.useState)(!1),{i18n:f}=(0,P.useContext)(aD);return P.createElement(as,{display:"flex",flexDirection:"column",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),ref:d},P.createElement(as,{as:e,borderRadius:"menuButton",borderStyle:"solid",borderWidth:"1",className:t?void 0:[u7,s3({active:"shrink"})],disabled:t,onClick:o,padding:"5",style:{willChange:"transform"},testId:l,transition:"default",width:"full",...t?{background:"accentColor",borderColor:"selectedOptionBorder",boxShadow:"selectedWallet"}:{background:{hover:"menuItemBackground"}},...c},P.createElement(as,{color:t?"accentColorForeground":"modalText",disabled:!s,fontFamily:"body",fontSize:"16",fontWeight:"bold",transition:"default"},P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"row",gap:"12"},P.createElement(ap,{background:r,...!h&&u?{borderColor:"actionButtonBorder"}:{},useAsImage:!u,borderRadius:"6",height:"28",src:n,width:"28"}),P.createElement(as,null,P.createElement(as,{style:{marginTop:a?-2:void 0},maxWidth:"200"},i),a&&P.createElement(l3,{color:t?"accentColorForeground":"accentColor",size:"12",style:{lineHeight:1,marginTop:-1},weight:"medium"},f.t("connect.recent")))))))};u9.displayName="ModalSelection";var ce="rk-latest-id";function ct(){return"undefined"!=typeof localStorage&&localStorage.getItem(ce)||""}function cr(e){localStorage.setItem(ce,e)}function cn(){localStorage.removeItem(ce)}var ci=(e,t=1)=>{let r=e.replace("#","");3===r.length&&(r=`${r[0]}${r[0]}${r[1]}${r[1]}${r[2]}${r[2]}`);let n=parseInt(r.substring(0,2),16),i=parseInt(r.substring(2,4),16),o=parseInt(r.substring(4,6),16);return t>1&&t<=100&&(t/=100),`rgba(${n},${i},${o},${t})`},co=e=>e?[ci(e,.2),ci(e,.14),ci(e,.1)]:null,cs=e=>/^#([0-9a-f]{3}){1,2}$/i.test(e),ca=async()=>(await r.e(9809).then(r.bind(r,19809))).default,cl=()=>P.createElement(ap,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:ca,width:"48"}),cu=async()=>(await r.e(2029).then(r.bind(r,92029))).default,cc=()=>P.createElement(ap,{background:"#e3a5e8",borderColor:"generalBorder",borderRadius:"10",height:"48",src:cu,width:"48"}),cd=async()=>(await r.e(7101).then(r.bind(r,47101))).default,ch=()=>P.createElement(ap,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:cd,width:"48"}),cp=async()=>(await r.e(4508).then(r.bind(r,94508))).default,cf=()=>P.createElement(ap,{background:"#515a70",borderColor:"generalBorder",borderRadius:"10",height:"48",src:cp,width:"48"}),cm="_1vwt0cg0",cg="_1vwt0cg2 ju367v7a ju367v7v",cy="_1vwt0cg3",cv="_1vwt0cg4",cb=(e,t)=>{let r=Array.prototype.slice.call(sh.create(e,{errorCorrectionLevel:t}).modules.data,0),n=Math.sqrt(r.length);return r.reduce((e,t,r)=>(r%n==0?e.push([t]):e[e.length-1].push(t))&&e,[])};function cE({ecl:e="M",logoBackground:t,logoMargin:r=10,logoSize:n=50,logoUrl:i,size:o=200,uri:s}){let a="20",l=o-2*parseInt(a,10),u=(0,P.useMemo)(()=>{let t=[],r=cb(s,e),i=l/r.length;[{x:0,y:0},{x:1,y:0},{x:0,y:1}].forEach(({x:e,y:n})=>{let o=(r.length-7)*i*e,s=(r.length-7)*i*n;for(let r=0;r<3;r++)t.push(P.createElement("rect",{fill:r%2!=0?"white":"black",height:i*(7-2*r),key:`${r}-${e}-${n}`,rx:-((r-2)*5)+(0===r?2:0),ry:-((r-2)*5)+(0===r?2:0),width:i*(7-2*r),x:o+i*r,y:s+i*r}))});let o=Math.floor((n+25)/i),a=r.length/2-o/2,u=r.length/2+o/2-1;return r.forEach((e,n)=>{e.forEach((e,o)=>{!r[n][o]||n<7&&o<7||n>r.length-8&&o<7||n<7&&o>r.length-8||n>a&&n<u&&o>a&&o<u||t.push(P.createElement("circle",{cx:n*i+i/2,cy:o*i+i/2,fill:"black",key:`circle-${n}-${o}`,r:i/3}))})}),t},[e,n,l,s]),c=l/2-n/2,d=n+2*r;return P.createElement(as,{borderColor:"generalBorder",borderRadius:"menuButton",borderStyle:"solid",borderWidth:"1",className:cm,padding:a,width:"max"},P.createElement(as,{style:{height:l,userSelect:"none",width:l},userSelect:"none"},P.createElement(as,{display:"flex",justifyContent:"center",position:"relative",style:{height:0,top:c,width:l},width:"full"},P.createElement(ap,{background:t,borderColor:{custom:"rgba(0, 0, 0, 0.06)"},borderRadius:"13",height:n,src:i,width:n})),P.createElement("svg",{height:l,style:{all:"revert"},width:l},P.createElement("title",null,"QR Code"),P.createElement("defs",null,P.createElement("clipPath",{id:"clip-wrapper"},P.createElement("rect",{height:d,width:d})),P.createElement("clipPath",{id:"clip-logo"},P.createElement("rect",{height:n,width:n}))),P.createElement("rect",{fill:"transparent",height:l,width:l}),u)))}var cS=async()=>{switch(lD()){case"Arc":return(await r.e(3617).then(r.bind(r,23617))).default;case"Brave":return(await r.e(1020).then(r.bind(r,11020))).default;case"Chrome":return(await r.e(500).then(r.bind(r,60500))).default;case"Edge":return(await r.e(5297).then(r.bind(r,65297))).default;case"Firefox":return(await r.e(2892).then(r.bind(r,12892))).default;case"Opera":return(await r.e(9997).then(r.bind(r,29997))).default;case"Safari":return(await r.e(8192).then(r.bind(r,78192))).default;default:return(await r.e(6811).then(r.bind(r,76811))).default}},c_=async()=>{switch(lL()){case"Windows":return(await r.e(4290).then(r.bind(r,44290))).default;case"macOS":return(await r.e(7287).then(r.bind(r,67287))).default;default:return(await r.e(3411).then(r.bind(r,53411))).default}};function cT({getWalletDownload:e,compactModeEnabled:t}){let r=lZ().filter(e=>e.isRainbowKitConnector).splice(0,5),{i18n:n}=(0,P.useContext)(aD);return P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",marginTop:"18",width:"full"},P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"column",gap:"28",height:"full",width:"full"},null==r?void 0:r.filter(e=>{var t;return e.extensionDownloadUrl||e.desktopDownloadUrl||e.qrCode&&(null==(t=e.downloadUrls)?void 0:t.qrCode)}).map(t=>{let{downloadUrls:r,iconBackground:i,iconUrl:o,id:s,name:a,qrCode:l}=t,u=(null==r?void 0:r.qrCode)&&l,c=!!t.extensionDownloadUrl,d=(null==r?void 0:r.qrCode)&&c,h=(null==r?void 0:r.qrCode)&&!!t.desktopDownloadUrl;return P.createElement(as,{alignItems:"center",display:"flex",gap:"16",justifyContent:"space-between",key:t.id,width:"full"},P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16"},P.createElement(ap,{background:i,borderColor:"actionButtonBorder",borderRadius:"10",height:"48",src:o,width:"48"}),P.createElement(as,{display:"flex",flexDirection:"column",gap:"2"},P.createElement(l3,{color:"modalText",size:"14",weight:"bold"},a),P.createElement(l3,{color:"modalTextSecondary",size:"14",weight:"medium"},d?n.t("get.mobile_and_extension.description"):h?n.t("get.mobile_and_desktop.description"):u?n.t("get.mobile.description"):c?n.t("get.extension.description"):null))),P.createElement(as,{display:"flex",flexDirection:"column",gap:"4"},P.createElement(l4,{label:n.t("get.action.label"),onClick:()=>e(s),type:"secondary"})))})),P.createElement(as,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"column",gap:"8",justifyContent:"space-between",marginBottom:"4",paddingY:"8",style:{maxWidth:275,textAlign:"center"}},P.createElement(l3,{color:"modalText",size:"14",weight:"bold"},n.t("get.looking_for.title")),P.createElement(l3,{color:"modalTextSecondary",size:"14",weight:"medium"},t?n.t("get.looking_for.desktop.compact_description"):n.t("get.looking_for.desktop.wide_description"))))}var cA="44";function cC({changeWalletStep:e,compactModeEnabled:t,connectionError:r,onClose:n,qrCodeUri:i,reconnect:o,wallet:s}){let{downloadUrls:a,iconBackground:l,iconUrl:u,name:c,qrCode:d,ready:h,showWalletConnectModal:p,getDesktopUri:f}=s,m=!!f,g=lx(),{i18n:y}=(0,P.useContext)(aD),v=!!s.extensionDownloadUrl,b=(null==a?void 0:a.qrCode)&&v,E=(null==a?void 0:a.qrCode)&&!!s.desktopDownloadUrl,S=d&&i,_=async()=>{let e=await (null==f?void 0:f());window.open(e,g?"_blank":"_self")},T=p?{description:t?y.t("connect.walletconnect.description.compact"):y.t("connect.walletconnect.description.full"),label:y.t("connect.walletconnect.open.label"),onClick:()=>{n(),p()}}:S?{description:y.t("connect.secondary_action.get.description",{wallet:c}),label:y.t("connect.secondary_action.get.label"),onClick:()=>e(b||E?"DOWNLOAD_OPTIONS":"DOWNLOAD")}:null,{width:A}=lv(),C=A&&A<768;return P.createElement(as,{display:"flex",flexDirection:"column",height:"full",width:"full"},S?P.createElement(as,{alignItems:"center",display:"flex",height:"full",justifyContent:"center"},P.createElement(cE,{logoBackground:l,logoSize:t?60:72,logoUrl:u,size:t?318:C?Math.max(280,Math.min(A-308,382)):382,uri:i})):P.createElement(as,{alignItems:"center",display:"flex",justifyContent:"center",style:{flexGrow:1}},P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"column",gap:"8"},P.createElement(as,{borderRadius:"10",height:cA,overflow:"hidden"},P.createElement(ap,{useAsImage:!s.isRainbowKitConnector,height:cA,src:u,width:cA})),P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"column",gap:"4",paddingX:"32",style:{textAlign:"center"}},P.createElement(l3,{color:"modalText",size:"18",weight:"bold"},h?y.t("connect.status.opening",{wallet:c}):v?y.t("connect.status.not_installed",{wallet:c}):y.t("connect.status.not_available",{wallet:c})),!h&&v?P.createElement(as,{paddingTop:"20"},P.createElement(l4,{href:s.extensionDownloadUrl,label:y.t("connect.secondary_action.install.label"),type:"secondary"})):null,h&&!S&&P.createElement(P.Fragment,null,P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},P.createElement(l3,{color:"modalTextSecondary",size:"14",textAlign:"center",weight:"medium"},y.t("connect.status.confirm"))),P.createElement(as,{alignItems:"center",color:"modalText",display:"flex",flexDirection:"row",height:"32",marginTop:"8"},r?P.createElement(l4,{label:y.t("connect.secondary_action.retry.label"),onClick:async()=>{m&&_(),o(s)}}):P.createElement(as,{color:"modalTextSecondary"},P.createElement(ay,null))))))),P.createElement(as,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"row",gap:"8",height:"28",justifyContent:"space-between",marginTop:"12"},h&&T&&P.createElement(P.Fragment,null,P.createElement(l3,{color:"modalTextSecondary",size:"14",weight:"medium"},T.description),P.createElement(l4,{label:T.label,onClick:T.onClick,type:"secondary"}))))}var cw=({actionLabel:e,description:t,iconAccent:r,iconBackground:n,iconUrl:i,isCompact:o,onAction:s,title:a,url:l,variant:u})=>{let c="browser"===u,d=!c&&r&&co(r);return P.createElement(as,{alignItems:"center",borderRadius:"13",display:"flex",justifyContent:"center",overflow:"hidden",paddingX:o?"18":"44",position:"relative",style:{flex:1,isolation:"isolate"},width:"full"},P.createElement(as,{borderColor:"actionButtonBorder",borderRadius:"13",borderStyle:"solid",borderWidth:"1",style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0",zIndex:1}}),c&&P.createElement(as,{background:"downloadTopCardBackground",height:"full",position:"absolute",style:{zIndex:0},width:"full"},P.createElement(as,{display:"flex",flexDirection:"row",justifyContent:"space-between",style:{bottom:"0",filter:"blur(20px)",left:"0",position:"absolute",right:"0",top:"0",transform:"translate3d(0, 0, 0)"}},P.createElement(as,{style:{filter:"blur(100px)",marginLeft:-27,marginTop:-20,opacity:.6,transform:"translate3d(0, 0, 0)"}},P.createElement(ap,{borderRadius:"full",height:"200",src:i,width:"200"})),P.createElement(as,{style:{filter:"blur(100px)",marginRight:0,marginTop:105,opacity:.6,overflow:"auto",transform:"translate3d(0, 0, 0)"}},P.createElement(ap,{borderRadius:"full",height:"200",src:i,width:"200"})))),!c&&d&&P.createElement(as,{background:"downloadBottomCardBackground",style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0"}},P.createElement(as,{position:"absolute",style:{background:`radial-gradient(50% 50% at 50% 50%, ${d[0]} 0%, ${d[1]} 25%, rgba(0,0,0,0) 100%)`,height:564,left:-215,top:-197,transform:"translate3d(0, 0, 0)",width:564}}),P.createElement(as,{position:"absolute",style:{background:`radial-gradient(50% 50% at 50% 50%, ${d[2]} 0%, rgba(0, 0, 0, 0) 100%)`,height:564,left:-1,top:-76,transform:"translate3d(0, 0, 0)",width:564}})),P.createElement(as,{alignItems:"flex-start",display:"flex",flexDirection:"row",gap:"24",height:"max",justifyContent:"center",style:{zIndex:1}},P.createElement(as,null,P.createElement(ap,{height:"60",src:i,width:"60",...n?{background:n,borderColor:"generalBorder",borderRadius:"10"}:null})),P.createElement(as,{display:"flex",flexDirection:"column",gap:"4",style:{flex:1},width:"full"},P.createElement(l3,{color:"modalText",size:"14",weight:"bold"},a),P.createElement(l3,{color:"modalTextSecondary",size:"14",weight:"medium"},t),P.createElement(as,{marginTop:"14",width:"max"},P.createElement(l4,{href:l,label:e,onClick:s,size:"medium"})))))};function cO({changeWalletStep:e,wallet:t}){let r=lD(),n=lL(),i="compact"===(0,P.useContext)(l_),{desktop:o,desktopDownloadUrl:s,extension:a,extensionDownloadUrl:l,mobileDownloadUrl:u}=t,{i18n:c}=(0,P.useContext)(aD);return P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"column",gap:"24",height:"full",marginBottom:"8",marginTop:"4",width:"full"},P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"column",gap:"8",height:"full",justifyContent:"center",width:"full"},l&&P.createElement(cw,{actionLabel:c.t("get_options.extension.download.label",{browser:r}),description:c.t("get_options.extension.description"),iconUrl:cS,isCompact:i,onAction:()=>e((null==a?void 0:a.instructions)?"INSTRUCTIONS_EXTENSION":"CONNECT"),title:c.t("get_options.extension.title",{wallet:t.name,browser:r}),url:l,variant:"browser"}),s&&P.createElement(cw,{actionLabel:c.t("get_options.desktop.download.label",{platform:n}),description:c.t("get_options.desktop.description"),iconUrl:c_,isCompact:i,onAction:()=>e((null==o?void 0:o.instructions)?"INSTRUCTIONS_DESKTOP":"CONNECT"),title:c.t("get_options.desktop.title",{wallet:t.name,platform:n}),url:s,variant:"desktop"}),u&&P.createElement(cw,{actionLabel:c.t("get_options.mobile.download.label",{wallet:t.name}),description:c.t("get_options.mobile.description"),iconAccent:t.iconAccent,iconBackground:t.iconBackground,iconUrl:t.iconUrl,isCompact:i,onAction:()=>{e("DOWNLOAD")},title:c.t("get_options.mobile.title",{wallet:t.name}),variant:"app"})))}function cR({changeWalletStep:e,wallet:t}){let{downloadUrls:r,qrCode:n}=t,{i18n:i}=(0,P.useContext)(aD);return P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"column",gap:"24",height:"full",width:"full"},P.createElement(as,{style:{maxWidth:220,textAlign:"center"}},P.createElement(l3,{color:"modalTextSecondary",size:"14",weight:"semibold"},i.t("get_mobile.description"))),P.createElement(as,{height:"full"},(null==r?void 0:r.qrCode)?P.createElement(cE,{logoSize:0,size:268,uri:r.qrCode}):null),P.createElement(as,{alignItems:"center",borderRadius:"10",display:"flex",flexDirection:"row",gap:"8",height:"34",justifyContent:"space-between",marginBottom:"12",paddingY:"8"},P.createElement(l4,{label:i.t("get_mobile.continue.label"),onClick:()=>e((null==n?void 0:n.instructions)?"INSTRUCTIONS_MOBILE":"CONNECT")})))}var cx={connect:()=>P.createElement(cl,null),create:()=>P.createElement(cc,null),install:e=>P.createElement(ap,{background:e.iconBackground,borderColor:"generalBorder",borderRadius:"10",height:"48",src:e.iconUrl,width:"48"}),refresh:()=>P.createElement(ch,null),scan:()=>P.createElement(cf,null)};function cI({connectWallet:e,wallet:t}){var r,n,i,o;let{i18n:s}=(0,P.useContext)(aD);return P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},P.createElement(as,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},null==(n=null==(r=null==t?void 0:t.qrCode)?void 0:r.instructions)?void 0:n.steps.map((e,r)=>{var n;return P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:r},P.createElement(as,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},null==(n=cx[e.step])?void 0:n.call(cx,t)),P.createElement(as,{display:"flex",flexDirection:"column",gap:"4"},P.createElement(l3,{color:"modalText",size:"14",weight:"bold"},s.t(e.title,void 0,{rawKeyIfTranslationMissing:!0})),P.createElement(l3,{color:"modalTextSecondary",size:"14",weight:"medium"},s.t(e.description,void 0,{rawKeyIfTranslationMissing:!0}))))})),P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},P.createElement(l4,{label:s.t("get_instructions.mobile.connect.label"),onClick:()=>e(t)}),P.createElement(as,{as:"a",className:s3({active:"shrink",hover:"grow"}),display:"block",href:null==(o=null==(i=null==t?void 0:t.qrCode)?void 0:i.instructions)?void 0:o.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},P.createElement(l3,{color:"accentColor",size:"14",weight:"bold"},s.t("get_instructions.mobile.learn_more.label")))))}function cD({wallet:e}){var t,r,n,i;let{i18n:o}=(0,P.useContext)(aD);return P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},P.createElement(as,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},null==(r=null==(t=null==e?void 0:e.extension)?void 0:t.instructions)?void 0:r.steps.map((t,r)=>{var n;return P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:r},P.createElement(as,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},null==(n=cx[t.step])?void 0:n.call(cx,e)),P.createElement(as,{display:"flex",flexDirection:"column",gap:"4"},P.createElement(l3,{color:"modalText",size:"14",weight:"bold"},o.t(t.title,void 0,{rawKeyIfTranslationMissing:!0})),P.createElement(l3,{color:"modalTextSecondary",size:"14",weight:"medium"},o.t(t.description,void 0,{rawKeyIfTranslationMissing:!0}))))})),P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},P.createElement(l4,{label:o.t("get_instructions.extension.refresh.label"),onClick:window.location.reload.bind(window.location)}),P.createElement(as,{as:"a",className:s3({active:"shrink",hover:"grow"}),display:"block",href:null==(i=null==(n=null==e?void 0:e.extension)?void 0:n.instructions)?void 0:i.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},P.createElement(l3,{color:"accentColor",size:"14",weight:"bold"},o.t("get_instructions.extension.learn_more.label")))))}function cP({connectWallet:e,wallet:t}){var r,n,i,o;let{i18n:s}=(0,P.useContext)(aD);return P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",width:"full"},P.createElement(as,{display:"flex",flexDirection:"column",gap:"28",height:"full",justifyContent:"center",paddingY:"32",style:{maxWidth:320}},null==(n=null==(r=null==t?void 0:t.desktop)?void 0:r.instructions)?void 0:n.steps.map((e,r)=>{var n;return P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"row",gap:"16",key:r},P.createElement(as,{borderRadius:"10",height:"48",minWidth:"48",overflow:"hidden",position:"relative",width:"48"},null==(n=cx[e.step])?void 0:n.call(cx,t)),P.createElement(as,{display:"flex",flexDirection:"column",gap:"4"},P.createElement(l3,{color:"modalText",size:"14",weight:"bold"},s.t(e.title,void 0,{rawKeyIfTranslationMissing:!0})),P.createElement(l3,{color:"modalTextSecondary",size:"14",weight:"medium"},s.t(e.description,void 0,{rawKeyIfTranslationMissing:!0}))))})),P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"column",gap:"12",justifyContent:"center",marginBottom:"16"},P.createElement(l4,{label:s.t("get_instructions.desktop.connect.label"),onClick:()=>e(t)}),P.createElement(as,{as:"a",className:s3({active:"shrink",hover:"grow"}),display:"block",href:null==(o=null==(i=null==t?void 0:t.desktop)?void 0:i.instructions)?void 0:o.learnMoreUrl,paddingX:"12",paddingY:"4",rel:"noreferrer",style:{willChange:"transform"},target:"_blank",transition:"default"},P.createElement(l3,{color:"accentColor",size:"14",weight:"bold"},s.t("get_instructions.desktop.learn_more.label")))))}function cN({onClose:e}){let t;let r="rk_connect_title",[n,i]=(0,P.useState)(),[o,s]=(0,P.useState)(),[a,l]=(0,P.useState)(),u=!!(null==o?void 0:o.qrCode)&&a,[c,d]=(0,P.useState)(!1),h=(0,P.useContext)(l_)===lS.COMPACT,{disclaimer:p}=(0,P.useContext)(lm),{i18n:f}=(0,P.useContext)(aD),m=lx(),g=(0,P.useRef)(!1),{connector:y}=(0,P.useContext)(lb),v=lZ(!y).filter(e=>e.ready||!!e.extensionDownloadUrl).sort((e,t)=>e.groupIndex-t.groupIndex),b=uJ(v,e=>e.groupName),E=["Recommended","Other","Popular","More","Others","Installed"];(0,P.useEffect)(()=>{y&&!g.current&&(O("CONNECT"),A(y),g.current=!0)},[y]);let S=e=>{var t,r;d(!1),e.ready&&(null==(r=null==(t=null==e?void 0:e.connect)?void 0:t.call(e))||r.catch(()=>{d(!0)}))},_=async e=>{let t=v.find(t=>e.id===t.id);(null==t?void 0:t.getDesktopUri)&&setTimeout(async()=>{var e;let r=await (null==(e=null==t?void 0:t.getDesktopUri)?void 0:e.call(t));r&&window.open(r,m?"_blank":"_self")},0)},T=async e=>{var t;let r=v.find(t=>e.id===t.id),n=await (null==(t=null==r?void 0:r.getQrCodeUri)?void 0:t.call(r));l(n),setTimeout(()=>{s(r),O("CONNECT")},n?0:50)},A=async e=>{cr(e.id),e.ready&&(T(e),_(e)),S(e),i(e.id),e.ready||(s(e),O((null==e?void 0:e.extensionDownloadUrl)?"DOWNLOAD_OPTIONS":"CONNECT"))},C=e=>{var t;i(e);let r=v.find(t=>e===t.id),n=null==(t=null==r?void 0:r.downloadUrls)?void 0:t.qrCode,o=!!(null==r?void 0:r.desktopDownloadUrl),a=!!(null==r?void 0:r.extensionDownloadUrl);s(r),n&&(a||o)?O("DOWNLOAD_OPTIONS"):n?O("DOWNLOAD"):o?O("INSTRUCTIONS_DESKTOP"):O("INSTRUCTIONS_EXTENSION")},w=()=>{i(void 0),s(void 0),l(void 0)},O=(e,t=!1)=>{t&&"GET"===e&&"GET"===R?w():t||"GET"!==e?t||"CONNECT"!==e||x("CONNECT"):x("GET"),D(e)},[R,x]=(0,P.useState)("NONE"),[I,D]=(0,P.useState)("NONE"),N=null,k=null,M=null;(0,P.useEffect)(()=>{d(!1)},[I,o]);let L=!!((null==o?void 0:o.extensionDownloadUrl)&&(null==o?void 0:o.mobileDownloadUrl));switch(I){case"NONE":N=P.createElement(u0,{getWallet:()=>O("GET")});break;case"LEARN_COMPACT":N=P.createElement(u0,{compactModeEnabled:h,getWallet:()=>O("GET")}),k=f.t("intro.title"),M="NONE";break;case"GET":N=P.createElement(cT,{getWalletDownload:C,compactModeEnabled:h}),k=f.t("get.title"),M=h?"LEARN_COMPACT":"NONE";break;case"CONNECT":N=o&&P.createElement(cC,{changeWalletStep:O,compactModeEnabled:h,connectionError:c,onClose:e,qrCodeUri:a,reconnect:S,wallet:o}),k=u&&("WalletConnect"===o.name?f.t("connect_scan.fallback_title"):f.t("connect_scan.title",{wallet:o.name})),M=h?y?null:"NONE":null,t=h?y?()=>{}:w:()=>{};break;case"DOWNLOAD_OPTIONS":N=o&&P.createElement(cO,{changeWalletStep:O,wallet:o}),k=o&&f.t("get_options.short_title",{wallet:o.name}),M=y?"CONNECT":h?"NONE":null;break;case"DOWNLOAD":N=o&&P.createElement(cR,{changeWalletStep:O,wallet:o}),k=o&&f.t("get_mobile.title",{wallet:o.name}),M=L?"DOWNLOAD_OPTIONS":R;break;case"INSTRUCTIONS_MOBILE":N=o&&P.createElement(cI,{connectWallet:A,wallet:o}),k=o&&f.t("get_options.title",{wallet:h&&o.shortName||o.name}),M="DOWNLOAD";break;case"INSTRUCTIONS_EXTENSION":N=o&&P.createElement(cD,{wallet:o}),k=o&&f.t("get_options.title",{wallet:h&&o.shortName||o.name}),M="DOWNLOAD_OPTIONS";break;case"INSTRUCTIONS_DESKTOP":N=o&&P.createElement(cP,{connectWallet:A,wallet:o}),k=o&&f.t("get_options.title",{wallet:h&&o.shortName||o.name}),M="DOWNLOAD_OPTIONS"}return P.createElement(as,{display:"flex",flexDirection:"row",style:{maxHeight:h?468:504}},(!h||"NONE"===I)&&P.createElement(as,{className:h?cv:cy,display:"flex",flexDirection:"column",marginTop:"16"},P.createElement(as,{display:"flex",justifyContent:"space-between"},h&&p&&P.createElement(as,{marginLeft:"16",width:"28"},P.createElement(u3,{onClick:()=>O("LEARN_COMPACT")})),h&&!p&&P.createElement(as,{marginLeft:"16",width:"28"}),P.createElement(as,{marginLeft:h?"0":"6",paddingBottom:"8",paddingTop:"2",paddingX:"18"},P.createElement(l3,{as:"h1",color:"modalText",id:r,size:"18",weight:"heavy",testId:"connect-header-label"},f.t("connect.title"))),h&&P.createElement(as,{marginRight:"16"},P.createElement(l8,{onClose:e}))),P.createElement(as,{className:cg,paddingBottom:"18"},Object.entries(b).map(([e,t],r)=>t.length>0&&P.createElement(P.Fragment,{key:r},e?P.createElement(as,{marginBottom:"8",marginTop:"16",marginX:"6"},P.createElement(l3,{color:"Installed"===e?"accentColor":"modalTextSecondary",size:"14",weight:"bold"},E.includes(e)?f.t(`connector_group.${e.toLowerCase()}`):e)):null,P.createElement(as,{display:"flex",flexDirection:"column",gap:"4"},t.map(e=>P.createElement(u9,{currentlySelected:e.id===n,iconBackground:e.iconBackground,iconUrl:e.iconUrl,key:e.id,name:e.name,onClick:()=>A(e),ready:e.ready,recent:e.recent,testId:`wallet-option-${e.id}`,isRainbowKitConnector:e.isRainbowKitConnector})))))),h&&P.createElement(P.Fragment,null,P.createElement(as,{background:"generalBorder",height:"1",marginTop:"-1"}),p?P.createElement(as,{paddingX:"24",paddingY:"16",textAlign:"center"},P.createElement(p,{Link:uQ,Text:uX})):P.createElement(as,{alignItems:"center",display:"flex",justifyContent:"space-between",paddingX:"24",paddingY:"16"},P.createElement(as,{paddingY:"4"},P.createElement(l3,{color:"modalTextSecondary",size:"14",weight:"medium"},f.t("connect.new_to_ethereum.description"))),P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"row",gap:"4",justifyContent:"center"},P.createElement(as,{className:s3({active:"shrink",hover:"grow"}),cursor:"pointer",onClick:()=>O("LEARN_COMPACT"),paddingY:"4",style:{willChange:"transform"},transition:"default"},P.createElement(l3,{color:"accentColor",size:"14",weight:"bold"},f.t("connect.new_to_ethereum.learn_more.label"))))))),(!h||"NONE"!==I)&&P.createElement(P.Fragment,null,!h&&P.createElement(as,{background:"generalBorder",minWidth:"1",width:"1"}),P.createElement(as,{display:"flex",flexDirection:"column",margin:"16",style:{flexGrow:1}},P.createElement(as,{alignItems:"center",display:"flex",justifyContent:"space-between",marginBottom:"12"},P.createElement(as,{width:"28"},M&&P.createElement(as,{as:"button",className:s3({active:"shrinkSm",hover:"growLg"}),color:"accentColor",onClick:()=>{M&&O(M,!0),null==t||t()},paddingX:"8",paddingY:"4",style:{boxSizing:"content-box",height:17,willChange:"transform"},transition:"default",type:"button"},P.createElement(u1,null))),P.createElement(as,{display:"flex",justifyContent:"center",style:{flexGrow:1}},k&&P.createElement(l3,{color:"modalText",size:"18",textAlign:"center",weight:"heavy"},k)),P.createElement(l8,{onClose:e})),P.createElement(as,{display:"flex",flexDirection:"column",style:{minHeight:h?396:432}},P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"column",gap:"6",height:"full",justifyContent:"center",marginX:"8"},N)))))}var ck="_1am14412",cM="_1am14410",cL="_1am14413",cB=({wallet:e})=>{let t=80,r=80,n=20,i=160;return P.createElement("svg",{className:cL,viewBox:"0 0 86 86",width:"86",height:"86"},P.createElement("title",null,"Loading"),P.createElement("rect",{x:"3",y:"3",width:t,height:r,rx:n,ry:n,strokeDasharray:`${i/3} ${2*i/3}`,strokeDashoffset:i,className:ck,style:{stroke:(null==e?void 0:e.iconAccent)||"#0D3887"}}))};function cj({onClose:e,wallet:t,connecting:r}){let{connect:n,iconBackground:i,iconUrl:o,id:s,name:a,getMobileUri:l,ready:u,shortName:c,showWalletConnectModal:d}=t,h=u6(o);(0,P.useRef)(!1);let{i18n:p}=(0,P.useContext)(aD),f=(0,P.useCallback)(async()=>{let t=async()=>{let e=await (null==l?void 0:l());if(e){if(e&&ur({mobileUri:e,name:a}),e.startsWith("http")){let t=document.createElement("a");t.href=e,t.target="_blank",t.rel="noreferrer noopener",t.click()}else window.location.href=e}};if("walletConnect"!==s&&t(),d){d(),null==e||e();return}null==n||n()},[n,l,d,e,a,s]);return P.createElement(as,{as:"button",color:u?"modalText":"modalTextSecondary",disabled:!u,fontFamily:"body",key:s,onClick:f,ref:h,style:{overflow:"visible",textAlign:"center"},testId:`wallet-option-${s}`,type:"button",width:"full"},P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},P.createElement(as,{display:"flex",alignItems:"center",justifyContent:"center",paddingBottom:"8",paddingTop:"10",position:"relative"},r?P.createElement(cB,{wallet:t}):null,P.createElement(ap,{background:i,borderRadius:"13",boxShadow:"walletLogo",height:"60",src:o,width:"60"})),r?null:P.createElement(as,{display:"flex",flexDirection:"column",textAlign:"center"},P.createElement(l3,{as:"h2",color:t.ready?"modalText":"modalTextSecondary",size:"13",weight:"medium"},P.createElement(as,{as:"span",position:"relative"},null!=c?c:a,!t.ready&&" (unsupported)")),t.recent&&P.createElement(l3,{color:"accentColor",size:"12",weight:"medium"},p.t("connect.recent")))))}function cF({onClose:e}){var t;let r="rk_connect_title",n=lZ().filter(e=>e.isRainbowKitConnector),{disclaimer:i,learnMoreUrl:o}=(0,P.useContext)(lm),s=null,a=null,l=!1,u=null,[c,d]=(0,P.useState)("CONNECT"),{i18n:h}=(0,P.useContext)(aD),p=at();switch(c){case"CONNECT":s=h.t("connect.title"),l=!0,a=P.createElement(as,null,P.createElement(as,{background:"profileForeground",className:cM,display:"flex",paddingBottom:"20",paddingTop:"6"},P.createElement(as,{display:"flex",style:{margin:"0 auto"}},n.filter(e=>e.ready).map(t=>P.createElement(as,{key:t.id,paddingX:"20"},P.createElement(as,{width:"60"},P.createElement(cj,{onClose:e,wallet:t})))))),P.createElement(as,{background:"generalBorder",height:"1",marginBottom:"32",marginTop:"-1"}),P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"column",gap:"32",paddingX:"32",style:{textAlign:"center"}},P.createElement(as,{display:"flex",flexDirection:"column",gap:"8",textAlign:"center"},P.createElement(l3,{color:"modalText",size:"16",weight:"bold"},h.t("intro.title")),P.createElement(l3,{color:"modalTextSecondary",size:"16"},h.t("intro.description")))),P.createElement(as,{paddingTop:"32",paddingX:"20"},P.createElement(as,{display:"flex",gap:"14",justifyContent:"center"},P.createElement(l4,{label:h.t("intro.get.label"),onClick:()=>d("GET"),size:"large",type:"secondary"}),P.createElement(l4,{href:o,label:h.t("intro.learn_more.label"),size:"large",type:"secondary"}))),i&&P.createElement(as,{marginTop:"28",marginX:"32",textAlign:"center"},P.createElement(i,{Link:uQ,Text:uX})));break;case"GET":{s=h.t("get.title"),u="CONNECT";let e=null==(t=null==n?void 0:n.filter(e=>{var t,r,n;return(null==(t=e.downloadUrls)?void 0:t.ios)||(null==(r=e.downloadUrls)?void 0:r.android)||(null==(n=e.downloadUrls)?void 0:n.mobile)}))?void 0:t.splice(0,3);a=P.createElement(as,null,P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"column",height:"full",marginBottom:"36",marginTop:"5",paddingTop:"12",width:"full"},e.map((t,r)=>{let{downloadUrls:n,iconBackground:i,iconUrl:o,name:s}=t;return(null==n?void 0:n.ios)||(null==n?void 0:n.android)||(null==n?void 0:n.mobile)?P.createElement(as,{display:"flex",gap:"16",key:t.id,paddingX:"20",width:"full"},P.createElement(as,{style:{minHeight:48,minWidth:48}},P.createElement(ap,{background:i,borderColor:"generalBorder",borderRadius:"10",height:"48",src:o,width:"48"})),P.createElement(as,{display:"flex",flexDirection:"column",width:"full"},P.createElement(as,{alignItems:"center",display:"flex",height:"48"},P.createElement(as,{width:"full"},P.createElement(l3,{color:"modalText",size:"18",weight:"bold"},s)),P.createElement(l4,{href:(p?null==n?void 0:n.ios:null==n?void 0:n.android)||(null==n?void 0:n.mobile),label:h.t("get.action.label"),size:"small",type:"secondary"})),r<e.length-1&&P.createElement(as,{background:"generalBorderDim",height:"1",marginY:"10",width:"full"}))):null})),P.createElement(as,{style:{marginBottom:"42px"}}),P.createElement(as,{alignItems:"center",display:"flex",flexDirection:"column",gap:"36",paddingX:"36",style:{textAlign:"center"}},P.createElement(as,{display:"flex",flexDirection:"column",gap:"12",textAlign:"center"},P.createElement(l3,{color:"modalText",size:"16",weight:"bold"},h.t("get.looking_for.title")),P.createElement(l3,{color:"modalTextSecondary",size:"16"},h.t("get.looking_for.mobile.description")))))}}return P.createElement(as,{display:"flex",flexDirection:"column",paddingBottom:"36"},P.createElement(as,{background:l?"profileForeground":"modalBackground",display:"flex",flexDirection:"column",paddingBottom:"4",paddingTop:"14"},P.createElement(as,{display:"flex",justifyContent:"center",paddingBottom:"6",paddingX:"20",position:"relative"},u&&P.createElement(as,{display:"flex",position:"absolute",style:{left:0,marginBottom:-20,marginTop:-20}},P.createElement(as,{alignItems:"center",as:"button",className:s3({active:"shrinkSm",hover:"growLg"}),color:"accentColor",display:"flex",marginLeft:"4",marginTop:"20",onClick:()=>d(u),padding:"16",style:{height:17,willChange:"transform"},transition:"default",type:"button"},P.createElement(u1,null))),P.createElement(as,{marginTop:"4",textAlign:"center",width:"full"},P.createElement(l3,{as:"h1",color:"modalText",id:r,size:"20",weight:"bold"},s)),P.createElement(as,{alignItems:"center",display:"flex",height:"32",paddingRight:"14",position:"absolute",right:"0"},P.createElement(as,{style:{marginBottom:-20,marginTop:-20}},P.createElement(l8,{onClose:e}))))),P.createElement(as,{display:"flex",flexDirection:"column"},a))}var cU=({onClose:e})=>{let{connector:t}=(0,P.useContext)(lb),{i18n:r}=(0,P.useContext)(aD),n=(null==t?void 0:t.name)||"";return P.createElement(as,null,P.createElement(as,{display:"flex",paddingBottom:"32",justifyContent:"center",alignItems:"center",background:"profileForeground",flexDirection:"column"},P.createElement(as,{width:"full",display:"flex",justifyContent:"flex-end",marginTop:"18",marginRight:"24"},P.createElement(l8,{onClose:e})),P.createElement(as,{width:"60"},P.createElement(cj,{onClose:e,wallet:t,connecting:!0})),P.createElement(as,{marginTop:"20"},P.createElement(l3,{textAlign:"center",color:"modalText",size:"18",weight:"semibold"},r.t("connect.status.connect_mobile",{wallet:n}))),P.createElement(as,{maxWidth:"full",marginTop:"8"},P.createElement(l3,{textAlign:"center",color:"modalText",size:"16",weight:"medium"},r.t("connect.status.confirm_mobile",{wallet:n})))))};function cV({onClose:e}){let{connector:t}=(0,P.useContext)(lb);return ar()?t?P.createElement(cU,{onClose:e}):P.createElement(cF,{onClose:e}):P.createElement(cN,{onClose:e})}function cz({onClose:e,open:t}){let r="rk_connect_title",n=s8(),{disconnect:i}=or(),{isConnecting:o}=en(),s=P.useCallback(()=>{e(),i()},[e,i]),a=P.useCallback(()=>{o&&i(),e()},[e,i,o]);return"disconnected"===n?P.createElement(ug,{onClose:a,open:t,titleId:r},P.createElement(uT,{bottomSheetOnMobile:!0,padding:"0",wide:!0},P.createElement(cV,{onClose:a}))):"unauthenticated"===n?P.createElement(ug,{onClose:s,open:t,titleId:r},P.createElement(uT,{bottomSheetOnMobile:!0,padding:"0"},P.createElement(l9,{onClose:s,onCloseModal:e}))):null}function cG(){let[e,t]=(0,P.useState)(!1);return{closeModal:(0,P.useCallback)(()=>t(!1),[]),isModalOpen:e,openModal:(0,P.useCallback)(()=>t(!0),[])}}var c$=(0,P.createContext)({accountModalOpen:!1,chainModalOpen:!1,connectModalOpen:!1,isWalletConnectModalOpen:!1,setIsWalletConnectModalOpen:()=>{}});function cH({children:e}){let{closeModal:t,isModalOpen:r,openModal:n}=cG(),{closeModal:i,isModalOpen:o,openModal:s}=cG(),{closeModal:a,isModalOpen:l,openModal:u}=cG(),[c,d]=(0,P.useState)(!1),h=s8(),{chainId:p}=en(),{chains:f}=X(),m=f.some(e=>e.id===p);function g({keepConnectModalOpen:e=!1}={}){e||t(),i(),a()}let y="unauthenticated"===s5();return i2({onConnect:()=>g({keepConnectModalOpen:y}),onDisconnect:()=>g()}),(0,P.useEffect)(()=>{y&&g()},[y]),P.createElement(c$.Provider,{value:(0,P.useMemo)(()=>({accountModalOpen:o,chainModalOpen:l,connectModalOpen:r,isWalletConnectModalOpen:c,openAccountModal:m&&"connected"===h?s:void 0,openChainModal:"connected"===h?u:void 0,openConnectModal:"disconnected"===h||"unauthenticated"===h?n:void 0,setIsWalletConnectModalOpen:d}),[h,o,l,r,s,u,n,m,c])},e,P.createElement(cz,{onClose:t,open:r}),P.createElement(uG,{onClose:i,open:o}),P.createElement(uZ,{onClose:a,open:l}))}function cq(){let{accountModalOpen:e,chainModalOpen:t,connectModalOpen:r}=(0,P.useContext)(c$);return{accountModalOpen:e,chainModalOpen:t,connectModalOpen:r}}function cW(){let{accountModalOpen:e,openAccountModal:t}=(0,P.useContext)(c$);return{accountModalOpen:e,openAccountModal:t}}function cK(){let{chainModalOpen:e,openChainModal:t}=(0,P.useContext)(c$);return{chainModalOpen:e,openChainModal:t}}function cY(){let{isWalletConnectModalOpen:e,setIsWalletConnectModalOpen:t}=(0,P.useContext)(c$);return{isWalletConnectModalOpen:e,setIsWalletConnectModalOpen:t}}function cZ(){let{connectModalOpen:e,openConnectModal:t}=(0,P.useContext)(c$),{isWalletConnectModalOpen:r}=cY();return{connectModalOpen:e||r,openConnectModal:t}}var cJ=()=>{};function cQ({children:e}){var t,r,n,i;let o=a5(),{address:s}=en(),a=a9(s),l=a7(a),{chainId:u}=en(),{chains:c}=X(),d=c.some(e=>e.id===u),h=a2(),p=null!=(t=s5())?t:void 0,f=u?h[u]:void 0,m=null!=(r=null==f?void 0:f.name)?r:void 0,g=null!=(n=null==f?void 0:f.iconUrl)?n:void 0,y=null!=(i=null==f?void 0:f.iconBackground)?i:void 0,v=ah(g),b=(0,P.useContext)(lA),E=lc().some(({status:e})=>"pending"===e)&&b,{showBalance:S}=a4(),{data:_}=ta({address:("boolean"==typeof S?S:!S||sJ(S)[ar()?"smallScreen":"largeScreen"])?s:void 0}),T=_?`${uw(parseFloat(_.formatted))} ${_.symbol}`:void 0,{openConnectModal:A}=cZ(),{openChainModal:C}=cK(),{openAccountModal:w}=cW(),{accountModalOpen:O,chainModalOpen:R,connectModalOpen:x}=cq();return P.createElement(P.Fragment,null,e({account:s?{address:s,balanceDecimals:null==_?void 0:_.decimals,balanceFormatted:null==_?void 0:_.formatted,balanceSymbol:null==_?void 0:_.symbol,displayBalance:T,displayName:a?uR(a):uO(s),ensAvatar:null!=l?l:void 0,ensName:null!=a?a:void 0,hasPendingTransactions:E}:void 0,accountModalOpen:O,authenticationStatus:p,chain:u?{hasIcon:!!g,iconBackground:y,iconUrl:v,id:u,name:m,unsupported:!d}:void 0,chainModalOpen:R,connectModalOpen:x,mounted:o(),openAccountModal:null!=w?w:cJ,openChainModal:null!=C?C:cJ,openConnectModal:null!=A?A:cJ}))}cQ.displayName="ConnectButton.Custom";var cX={accountStatus:"full",chainStatus:{largeScreen:"full",smallScreen:"icon"},label:"Connect Wallet",showBalance:{largeScreen:!0,smallScreen:!1}};function c0({accountStatus:e=cX.accountStatus,chainStatus:t=cX.chainStatus,label:r=cX.label,showBalance:n=cX.showBalance}){let i=a0(),o=s8(),{setShowBalance:s}=a4(),[a,l]=(0,P.useState)(!1),{i18n:u}=(0,P.useContext)(aD);return(0,P.useEffect)(()=>{s(n),a||l(!0)},[n,s]),a?P.createElement(cQ,null,({account:s,chain:a,mounted:l,openAccountModal:c,openChainModal:d,openConnectModal:h})=>{var p,f,m;let g=l&&"loading"!==o,y=null!=(p=null==a?void 0:a.unsupported)&&p;return P.createElement(as,{display:"flex",gap:"12",...!g&&{"aria-hidden":!0,style:{opacity:0,pointerEvents:"none",userSelect:"none"}}},g&&s&&"connected"===o?P.createElement(P.Fragment,null,a&&(i.length>1||y)&&P.createElement(as,{alignItems:"center","aria-label":"Chain Selector",as:"button",background:y?"connectButtonBackgroundError":"connectButtonBackground",borderRadius:"connectButton",boxShadow:"connectButton",className:s3({active:"shrink",hover:"grow"}),color:y?"connectButtonTextError":"connectButtonText",display:sZ(t,e=>"none"===e?"none":"flex"),fontFamily:"body",fontWeight:"bold",gap:"6",key:y?"unsupported":"supported",onClick:d,paddingX:"10",paddingY:"8",testId:y?"wrong-network-button":"chain-button",transition:"default",type:"button"},y?P.createElement(as,{alignItems:"center",display:"flex",height:"24",paddingX:"4"},u.t("connect_wallet.wrong_network.label")):P.createElement(as,{alignItems:"center",display:"flex",gap:"6"},a.hasIcon?P.createElement(as,{display:sZ(t,e=>"full"===e||"icon"===e?"block":"none"),height:"24",width:"24"},P.createElement(ap,{alt:null!=(f=a.name)?f:"Chain icon",background:a.iconBackground,borderRadius:"full",height:"24",src:a.iconUrl,width:"24"})):null,P.createElement(as,{display:sZ(t,e=>"icon"!==e||a.iconUrl?"full"===e||"name"===e?"block":"none":"block")},null!=(m=a.name)?m:a.id)),P.createElement(aC,null)),!y&&P.createElement(as,{alignItems:"center",as:"button",background:"connectButtonBackground",borderRadius:"connectButton",boxShadow:"connectButton",className:s3({active:"shrink",hover:"grow"}),color:"connectButtonText",display:"flex",fontFamily:"body",fontWeight:"bold",onClick:c,testId:"account-button",transition:"default",type:"button"},s.displayBalance&&P.createElement(as,{display:sZ(n,e=>e?"block":"none"),padding:"8",paddingLeft:"12"},s.displayBalance),P.createElement(as,{background:sJ(n)[ar()?"smallScreen":"largeScreen"]?"connectButtonInnerBackground":"connectButtonBackground",borderColor:"connectButtonBackground",borderRadius:"connectButton",borderStyle:"solid",borderWidth:"2",color:"connectButtonText",fontFamily:"body",fontWeight:"bold",paddingX:"8",paddingY:"6",transition:"default"},P.createElement(as,{alignItems:"center",display:"flex",gap:"6",height:"24"},P.createElement(as,{display:sZ(e,e=>"full"===e||"avatar"===e?"block":"none")},P.createElement(aA,{address:s.address,imageUrl:s.ensAvatar,loading:s.hasPendingTransactions,size:24})),P.createElement(as,{alignItems:"center",display:"flex",gap:"6"},P.createElement(as,{display:sZ(e,e=>"full"===e||"address"===e?"block":"none")},s.displayName),P.createElement(aC,null)))))):P.createElement(as,{as:"button",background:"accentColor",borderRadius:"connectButton",boxShadow:"connectButton",className:s3({active:"shrink",hover:"grow"}),color:"accentColorForeground",fontFamily:"body",fontWeight:"bold",height:"40",key:"connect",onClick:h,paddingX:"14",testId:"connect-button",transition:"default",type:"button"},l&&"Connect Wallet"===r?u.t("connect_wallet.label"):r))}):P.createElement(P.Fragment,null)}c0.__defaultProps=cX,c0.Custom=cQ;var c1=({appName:e,appDescription:t,appUrl:r,appIcon:n})=>({name:e,description:null!=t?t:e,url:null!=r?r:"",icons:[...n?[n]:[]]});function c2(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>void 0!==t))}function c3(e,t){let r=[];for(let n of e)r.some(e=>e[t]===n[t])||r.push(n);return r}var c6=(e,{projectId:t,walletConnectParameters:r,appName:n,appDescription:i,appUrl:o,appIcon:s})=>{if(!e.length)throw Error("No wallet list was provided");for(let{wallets:t,groupName:r}of e)if(!t.length)throw Error(`No wallets provided for group: ${r}`);let a=-1,l=[],u=[],c=[],d=c1({appName:n,appDescription:i,appUrl:o,appIcon:s});for(let{createConnector:i,groupIndex:o,groupName:h,hidden:p,...f}of(e.forEach(({groupName:e,wallets:i},o)=>{i.forEach(i=>{a++;let l=i({projectId:t,appName:n,appIcon:s,options:{metadata:d,...r},walletConnectParameters:{metadata:d,...r}});if((null==l?void 0:l.iconAccent)&&!cs(null==l?void 0:l.iconAccent))throw Error(`Property \`iconAccent\` is not a hex value for wallet: ${l.name}`);let h={...l,groupIndex:o+1,groupName:e,index:a};"function"==typeof l.hidden?c.push(h):u.push(h)})}),c3([...u,...c],"id"))){if("function"==typeof p&&p())continue;let e=e=>({rkDetails:c2({...f,groupIndex:o,groupName:h,isRainbowKitConnector:!0,...e||{}})});"walletConnect"===f.id&&l.push(i(e({isWalletConnectModalConnector:!0,showQrModal:!0})));let t=i(e());l.push(t)}return l},c4=new Map,c5=({projectId:e,walletConnectParameters:t,rkDetailsShowQrModal:r})=>{let n={...t||{},projectId:e,showQrModal:!1};r&&(n={...n,showQrModal:!0});let i=JSON.stringify(n),o=c4.get(i);if(o)return o;let s=(0,sW.a)(n);return c4.set(i,s),s};function c8({projectId:e,walletDetails:t,walletConnectParameters:r}){return(0,sq.K)(n=>({...c5({projectId:e,walletConnectParameters:r,rkDetailsShowQrModal:t.rkDetails.showQrModal})(n),...t}))}function c7({projectId:e,walletConnectParameters:t}){let r="21fef48091f12692cad574a6f7753643";if(!e||""===e)throw Error("No projectId found. Every dApp must now provide a WalletConnect Cloud projectId to enable WalletConnect v2 https://www.rainbowkit.com/docs/installation#configure");return"YOUR_PROJECT_ID"===e&&(e=r),r=>c8({projectId:e,walletDetails:r,walletConnectParameters:t})}function c9(e){}function de(e){}function dt({flag:e,namespace:t}){return!!t&&void 0!==de(t)||!!e&&void 0!==c9(e)}function dr({flag:e,namespace:t}){}function dn(e){return t=>{let r=e?{target:()=>({id:t.rkDetails.id,name:t.rkDetails.name,provider:e})}:{};return(0,sq.K)(e=>({...(0,sx.L)(r)(e),...t}))}}function di({flag:e,namespace:t,target:r}){return dn(r||dr({flag:e,namespace:t}))}var ds=({appName:e,appIcon:t})=>{let n=dt({flag:"isCoinbaseWallet"}),i=e=>e;return{id:"coinbase",name:"Coinbase Wallet",shortName:"Coinbase",rdns:"com.coinbase.wallet",iconUrl:async()=>(await r.e(6751).then(r.bind(r,36751))).default,iconAccent:"#2c5ff6",iconBackground:"#2c5ff6",installed:n||void 0,downloadUrls:{android:"https://play.google.com/store/apps/details?id=org.toshi",ios:"https://apps.apple.com/us/app/coinbase-wallet-store-crypto/id1278383455",mobile:"https://coinbase.com/wallet/downloads",qrCode:"https://coinbase-wallet.onelink.me/q5Sx/fdb9b250",chrome:"https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad",browserExtension:"https://coinbase.com/wallet"},...at()?{}:{qrCode:{getUri:i,instructions:{learnMoreUrl:"https://coinbase.com/wallet/articles/getting-started-mobile",steps:[{description:"wallet_connectors.coinbase.qr_code.step1.description",step:"install",title:"wallet_connectors.coinbase.qr_code.step1.title"},{description:"wallet_connectors.coinbase.qr_code.step2.description",step:"create",title:"wallet_connectors.coinbase.qr_code.step2.title"},{description:"wallet_connectors.coinbase.qr_code.step3.description",step:"scan",title:"wallet_connectors.coinbase.qr_code.step3.title"}]}},extension:{instructions:{learnMoreUrl:"https://coinbase.com/wallet/articles/getting-started-extension",steps:[{description:"wallet_connectors.coinbase.extension.step1.description",step:"install",title:"wallet_connectors.coinbase.extension.step1.title"},{description:"wallet_connectors.coinbase.extension.step2.description",step:"create",title:"wallet_connectors.coinbase.extension.step2.title"},{description:"wallet_connectors.coinbase.extension.step3.description",step:"refresh",title:"wallet_connectors.coinbase.extension.step3.title"}]}}},createConnector:r=>(0,sq.K)(n=>({...sK({appName:e,appLogoUrl:t,headlessMode:!0})(n),...r}))}},da=({projectId:e,walletConnectParameters:t})=>{let n=dt({flag:"isMetaMask"}),i=!n,o=e=>s7()?e:at()?`metamask://wc?uri=${encodeURIComponent(e)}`:`https://metamask.app.link/wc?uri=${encodeURIComponent(e)}`;return{id:"metaMask",name:"MetaMask",rdns:"io.metamask",iconUrl:async()=>(await r.e(4341).then(r.bind(r,14341))).default,iconAccent:"#f6851a",iconBackground:"#fff",installed:i?void 0:n,downloadUrls:{android:"https://play.google.com/store/apps/details?id=io.metamask",ios:"https://apps.apple.com/us/app/metamask/id1438144202",mobile:"https://metamask.io/download",qrCode:"https://metamask.io/download",chrome:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",edge:"https://microsoftedge.microsoft.com/addons/detail/metamask/ejbalbakoplchlghecdalmeeeajnimhm",firefox:"https://addons.mozilla.org/firefox/addon/ether-metamask",opera:"https://addons.opera.com/extensions/details/metamask-10",browserExtension:"https://metamask.io/download"},mobile:{getUri:i?o:void 0},qrCode:i?{getUri:o,instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"wallet_connectors.metamask.qr_code.step1.description",step:"install",title:"wallet_connectors.metamask.qr_code.step1.title"},{description:"wallet_connectors.metamask.qr_code.step2.description",step:"create",title:"wallet_connectors.metamask.qr_code.step2.title"},{description:"wallet_connectors.metamask.qr_code.step3.description",step:"refresh",title:"wallet_connectors.metamask.qr_code.step3.title"}]}}:void 0,extension:{instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"wallet_connectors.metamask.extension.step1.description",step:"install",title:"wallet_connectors.metamask.extension.step1.title"},{description:"wallet_connectors.metamask.extension.step2.description",step:"create",title:"wallet_connectors.metamask.extension.step2.title"},{description:"wallet_connectors.metamask.extension.step3.description",step:"refresh",title:"wallet_connectors.metamask.extension.step3.title"}]}},createConnector:i?c7({projectId:e,walletConnectParameters:t}):di({target:void 0})}},dl=({projectId:e,walletConnectParameters:t})=>{let n=dt({flag:"isRainbow"}),i=!n,o=e=>s7()?e:at()?`rainbow://wc?uri=${encodeURIComponent(e)}&connector=rainbowkit`:`https://rnbwapp.com/wc?uri=${encodeURIComponent(e)}&connector=rainbowkit`;return{id:"rainbow",name:"Rainbow",rdns:"me.rainbow",iconUrl:async()=>(await r.e(614).then(r.bind(r,70614))).default,iconBackground:"#0c2f78",installed:i?void 0:n,downloadUrls:{android:"https://play.google.com/store/apps/details?id=me.rainbow&referrer=utm_source%3Drainbowkit&utm_source=rainbowkit",ios:"https://apps.apple.com/app/apple-store/id1457119021?pt=119997837&ct=rainbowkit&mt=8",mobile:"https://rainbow.download?utm_source=rainbowkit",qrCode:"https://rainbow.download?utm_source=rainbowkit&utm_medium=qrcode",browserExtension:"https://rainbow.me/extension?utm_source=rainbowkit"},mobile:{getUri:i?o:void 0},qrCode:i?{getUri:o,instructions:{learnMoreUrl:"https://learn.rainbow.me/connect-to-a-website-or-app?utm_source=rainbowkit&utm_medium=connector&utm_campaign=learnmore",steps:[{description:"wallet_connectors.rainbow.qr_code.step1.description",step:"install",title:"wallet_connectors.rainbow.qr_code.step1.title"},{description:"wallet_connectors.rainbow.qr_code.step2.description",step:"create",title:"wallet_connectors.rainbow.qr_code.step2.title"},{description:"wallet_connectors.rainbow.qr_code.step3.description",step:"scan",title:"wallet_connectors.rainbow.qr_code.step3.title"}]}}:void 0,createConnector:i?c7({projectId:e,walletConnectParameters:t}):di({flag:"isRainbow"})}},du=({projectId:e,options:t})=>({id:"walletConnect",name:"WalletConnect",installed:void 0,iconUrl:async()=>(await r.e(1241).then(r.bind(r,51241))).default,iconBackground:"#3b99fc",qrCode:{getUri:e=>e},createConnector:c7({projectId:e,walletConnectParameters:t})}),dc=e=>e.reduce((e,t)=>(e[t.id]=sv(),e),{}),dd=({appName:e,appDescription:t,appUrl:r,appIcon:n,wallets:i,projectId:o,...s})=>{let{transports:a,chains:l,...u}=s,c=c1({appName:e,appDescription:t,appUrl:r,appIcon:n});return sH({connectors:c6(i||[{groupName:"Popular",wallets:[dl,ds,da,du]}],{projectId:o,appName:e,appDescription:t,appUrl:r,appIcon:n,walletConnectParameters:{metadata:c}}),chains:l,transports:a||dc(l),...u})}},98249:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});var n=r(48775),i=({projectId:e,options:t})=>({id:"walletConnect",name:"WalletConnect",installed:void 0,iconUrl:async()=>(await r.e(7286).then(r.bind(r,37286))).default,iconBackground:"#3b99fc",qrCode:{getUri:e=>e},createConnector:(0,n.d)({projectId:e,walletConnectParameters:t})})},14974:(e,t,r)=>{"use strict";r.d(t,{P:()=>s});var n=r(48775),i=r(44321),o=r(81833),s=({projectId:e,walletConnectParameters:t})=>{let s=(0,o.B)({flag:"isMetaMask"}),a=!s,l=e=>(0,i.Dt)()?e:(0,i.gn)()?`metamask://wc?uri=${encodeURIComponent(e)}`:`https://metamask.app.link/wc?uri=${encodeURIComponent(e)}`;return{id:"metaMask",name:"MetaMask",rdns:"io.metamask",iconUrl:async()=>(await r.e(4705).then(r.bind(r,34705))).default,iconAccent:"#f6851a",iconBackground:"#fff",installed:a?void 0:s,downloadUrls:{android:"https://play.google.com/store/apps/details?id=io.metamask",ios:"https://apps.apple.com/us/app/metamask/id1438144202",mobile:"https://metamask.io/download",qrCode:"https://metamask.io/download",chrome:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",edge:"https://microsoftedge.microsoft.com/addons/detail/metamask/ejbalbakoplchlghecdalmeeeajnimhm",firefox:"https://addons.mozilla.org/firefox/addon/ether-metamask",opera:"https://addons.opera.com/extensions/details/metamask-10",browserExtension:"https://metamask.io/download"},mobile:{getUri:a?l:void 0},qrCode:a?{getUri:l,instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"wallet_connectors.metamask.qr_code.step1.description",step:"install",title:"wallet_connectors.metamask.qr_code.step1.title"},{description:"wallet_connectors.metamask.qr_code.step2.description",step:"create",title:"wallet_connectors.metamask.qr_code.step2.title"},{description:"wallet_connectors.metamask.qr_code.step3.description",step:"refresh",title:"wallet_connectors.metamask.qr_code.step3.title"}]}}:void 0,extension:{instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"wallet_connectors.metamask.extension.step1.description",step:"install",title:"wallet_connectors.metamask.extension.step1.title"},{description:"wallet_connectors.metamask.extension.step2.description",step:"create",title:"wallet_connectors.metamask.extension.step2.title"},{description:"wallet_connectors.metamask.extension.step3.description",step:"refresh",title:"wallet_connectors.metamask.extension.step3.title"}]}},createConnector:a?(0,n.d)({projectId:e,walletConnectParameters:t}):(0,o.K)({target:void 0})}}},81833:(e,t,r)=>{"use strict";r.d(t,{B:()=>a,K:()=>c});var n=r(93435),i=r(78376);function o(e){}function s(e){}function a({flag:e,namespace:t}){return!!t&&void 0!==s(t)||!!e&&void 0!==o(e)}function l({flag:e,namespace:t}){}function u(e){return t=>{let r=e?{target:()=>({id:t.rkDetails.id,name:t.rkDetails.name,provider:e})}:{};return(0,n.K)(e=>({...(0,i.L)(r)(e),...t}))}}function c({flag:e,namespace:t,target:r}){return u(r||l({flag:e,namespace:t}))}},48775:(e,t,r)=>{"use strict";r.d(t,{d:()=>l});var n=r(93435),i=r(89714),o=new Map,s=({projectId:e,walletConnectParameters:t,rkDetailsShowQrModal:r})=>{let n={...t||{},projectId:e,showQrModal:!1};r&&(n={...n,showQrModal:!0});let s=JSON.stringify(n),a=o.get(s);if(a)return a;let l=(0,i.a)(n);return o.set(s,l),l};function a({projectId:e,walletDetails:t,walletConnectParameters:r}){return(0,n.K)(n=>({...s({projectId:e,walletConnectParameters:r,rkDetailsShowQrModal:t.rkDetails.showQrModal})(n),...t}))}function l({projectId:e,walletConnectParameters:t}){let r="21fef48091f12692cad574a6f7753643";if(!e||""===e)throw Error("No projectId found. Every dApp must now provide a WalletConnect Cloud projectId to enable WalletConnect v2 https://www.rainbowkit.com/docs/installation#configure");return"YOUR_PROJECT_ID"===e&&(e=r),r=>a({projectId:e,walletDetails:r,walletConnectParameters:t})}},78298:(e,t,r)=>{"use strict";r.d(t,{u:()=>s});var n=r(48775),i=r(44321),o=r(81833),s=({projectId:e,walletConnectParameters:t})=>{let s=(0,o.B)({flag:"isRainbow"}),a=!s,l=e=>(0,i.Dt)()?e:(0,i.gn)()?`rainbow://wc?uri=${encodeURIComponent(e)}&connector=rainbowkit`:`https://rnbwapp.com/wc?uri=${encodeURIComponent(e)}&connector=rainbowkit`;return{id:"rainbow",name:"Rainbow",rdns:"me.rainbow",iconUrl:async()=>(await r.e(1407).then(r.bind(r,61407))).default,iconBackground:"#0c2f78",installed:a?void 0:s,downloadUrls:{android:"https://play.google.com/store/apps/details?id=me.rainbow&referrer=utm_source%3Drainbowkit&utm_source=rainbowkit",ios:"https://apps.apple.com/app/apple-store/id1457119021?pt=119997837&ct=rainbowkit&mt=8",mobile:"https://rainbow.download?utm_source=rainbowkit",qrCode:"https://rainbow.download?utm_source=rainbowkit&utm_medium=qrcode",browserExtension:"https://rainbow.me/extension?utm_source=rainbowkit"},mobile:{getUri:a?l:void 0},qrCode:a?{getUri:l,instructions:{learnMoreUrl:"https://learn.rainbow.me/connect-to-a-website-or-app?utm_source=rainbowkit&utm_medium=connector&utm_campaign=learnmore",steps:[{description:"wallet_connectors.rainbow.qr_code.step1.description",step:"install",title:"wallet_connectors.rainbow.qr_code.step1.title"},{description:"wallet_connectors.rainbow.qr_code.step2.description",step:"create",title:"wallet_connectors.rainbow.qr_code.step2.title"},{description:"wallet_connectors.rainbow.qr_code.step3.description",step:"scan",title:"wallet_connectors.rainbow.qr_code.step3.title"}]}}:void 0,createConnector:a?(0,n.d)({projectId:e,walletConnectParameters:t}):(0,o.K)({flag:"isRainbow"})}}},76377:(e,t,r)=>{"use strict";r.d(t,{U:()=>i});var n=r(81833),i=()=>({id:"injected",name:"Browser Wallet",iconUrl:async()=>(await r.e(8780).then(r.bind(r,68780))).default,iconBackground:"#fff",createConnector:(0,n.K)({})})},44321:(e,t,r)=>{"use strict";function n(){return"undefined"!=typeof navigator&&/android/i.test(navigator.userAgent)}function i(){return"undefined"!=typeof navigator&&/iPhone|iPod/.test(navigator.userAgent)}function o(){return"undefined"!=typeof navigator&&(/iPad/.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)}function s(){return i()||o()}r.d(t,{Dt:()=>n,gn:()=>s})},98285:(e,t,r)=>{"use strict";function n(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw TypeError("attempted to use private field on non-instance");return e}r.r(t),r.d(t,{_:()=>n,_class_private_field_loose_base:()=>n})},78817:(e,t,r)=>{"use strict";r.r(t),r.d(t,{_:()=>i,_class_private_field_loose_key:()=>i});var n=0;function i(e){return"__private_"+n+++"_"+e}},91174:(e,t,r)=>{"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.r(t),r.d(t,{_:()=>n,_interop_require_default:()=>n})},58374:(e,t,r)=>{"use strict";function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}return i.default=e,r&&r.set(e,i),i}r.r(t),r.d(t,{_:()=>i,_interop_require_wildcard:()=>i})},81943:(e,t,r)=>{"use strict";r.d(t,{j:()=>o});var n=r(64351),i=r(3341),o=new class extends n.l{#w;#O;#R;constructor(){super(),this.#R=e=>{if(!i.sk&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#O||this.setEventListener(this.#R)}onUnsubscribe(){this.hasListeners()||(this.#O?.(),this.#O=void 0)}setEventListener(e){this.#R=e,this.#O?.(),this.#O=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#w!==e&&(this.#w=e,this.onFocus())}onFocus(){let e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#w?this.#w:globalThis.document?.visibilityState!=="hidden"}}},71180:(e,t,r)=>{"use strict";r.d(t,{R:()=>a,m:()=>s});var n=r(12113),i=r(65621),o=r(41432),s=class extends i.F{#x;#I;#D;constructor(e){super(),this.mutationId=e.mutationId,this.#I=e.mutationCache,this.#x=[],this.state=e.state||a(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#x.includes(e)||(this.#x.push(e),this.clearGcTimeout(),this.#I.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#x=this.#x.filter(t=>t!==e),this.scheduleGc(),this.#I.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#x.length||("pending"===this.state.status?this.scheduleGc():this.#I.remove(this))}continue(){return this.#D?.continue()??this.execute(this.state.variables)}async execute(e){this.#D=(0,o.Mz)({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#P({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#P({type:"pause"})},onContinue:()=>{this.#P({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#I.canRun(this)});let t="pending"===this.state.status,r=!this.#D.canStart();try{if(!t){this.#P({type:"pending",variables:e,isPaused:r}),await this.#I.config.onMutate?.(e,this);let t=await this.options.onMutate?.(e);t!==this.state.context&&this.#P({type:"pending",context:t,variables:e,isPaused:r})}let n=await this.#D.start();return await this.#I.config.onSuccess?.(n,e,this.state.context,this),await this.options.onSuccess?.(n,e,this.state.context),await this.#I.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,e,this.state.context),this.#P({type:"success",data:n}),n}catch(t){try{throw await this.#I.config.onError?.(t,e,this.state.context,this),await this.options.onError?.(t,e,this.state.context),await this.#I.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,t,e,this.state.context),t}finally{this.#P({type:"error",error:t})}}finally{this.#I.runNext(this)}}#P(e){let t=t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),n.V.batch(()=>{this.#x.forEach(t=>{t.onMutationUpdate(e)}),this.#I.notify({mutation:this,type:"updated",action:e})})}};function a(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},12113:(e,t,r)=>{"use strict";r.d(t,{V:()=>n});var n=function(){let e=[],t=0,r=e=>{e()},n=e=>{e()},i=e=>setTimeout(e,0),o=n=>{t?e.push(n):i(()=>{r(n)})},s=()=>{let t=e;e=[],t.length&&i(()=>{n(()=>{t.forEach(e=>{r(e)})})})};return{batch:e=>{let r;t++;try{r=e()}finally{--t||s()}return r},batchCalls:e=>(...t)=>{o(()=>{e(...t)})},schedule:o,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{n=e},setScheduler:e=>{i=e}}}()},21753:(e,t,r)=>{"use strict";r.d(t,{N:()=>o});var n=r(64351),i=r(3341),o=new class extends n.l{#N=!0;#O;#R;constructor(){super(),this.#R=e=>{if(!i.sk&&window.addEventListener){let t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#O||this.setEventListener(this.#R)}onUnsubscribe(){this.hasListeners()||(this.#O?.(),this.#O=void 0)}setEventListener(e){this.#R=e,this.#O?.(),this.#O=e(this.setOnline.bind(this))}setOnline(e){this.#N!==e&&(this.#N=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#N}}},96143:(e,t,r)=>{"use strict";r.d(t,{A:()=>a,z:()=>l});var n=r(3341),i=r(12113),o=r(41432),s=r(65621),a=class extends s.F{#k;#M;#L;#D;#B;#j;constructor(e){super(),this.#j=!1,this.#B=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#L=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#k=e.state||u(this.options),this.state=this.#k,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.#B,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#L.remove(this)}setData(e,t){let r=(0,n.oE)(this.state.data,e,this.options);return this.#P({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#P({type:"setState",state:e,setStateOptions:t})}cancel(e){let t=this.#D?.promise;return this.#D?.cancel(e),t?t.then(n.ZT).catch(n.ZT):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#k)}isActive(){return this.observers.some(e=>!1!==e.options.enabled)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data)}isStaleByTime(e=0){return this.state.isInvalidated||void 0===this.state.data||!(0,n.Kp)(this.state.dataUpdatedAt,e)}onFocus(){let e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#D?.continue()}onOnline(){let e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#D?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#L.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#D&&(this.#j?this.#D.cancel({revert:!0}):this.#D.cancelRetry()),this.scheduleGc()),this.#L.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#P({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus){if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#D)return this.#D.continueRetry(),this.#D.promise}if(e&&this.setOptions(e),!this.options.queryFn){let e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}let r=new AbortController,i={queryKey:this.queryKey,meta:this.meta},s=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#j=!0,r.signal)})};s(i);let a=()=>this.options.queryFn&&this.options.queryFn!==n.CN?(this.#j=!1,this.options.persister)?this.options.persister(this.options.queryFn,i,this):this.options.queryFn(i):Promise.reject(Error(`Missing queryFn: '${this.options.queryHash}'`)),l={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(l),this.options.behavior?.onFetch(l,this),this.#M=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#P({type:"fetch",meta:l.fetchOptions?.meta});let u=e=>{(0,o.DV)(e)&&e.silent||this.#P({type:"error",error:e}),(0,o.DV)(e)||(this.#L.config.onError?.(e,this),this.#L.config.onSettled?.(this.state.data,e,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.#D=(0,o.Mz)({fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:e=>{if(void 0===e){u(Error(`${this.queryHash} data is undefined`));return}this.setData(e),this.#L.config.onSuccess?.(e,this),this.#L.config.onSettled?.(e,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:u,onFail:(e,t)=>{this.#P({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#P({type:"pause"})},onContinue:()=>{this.#P({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}),this.#D.start()}#P(e){let t=t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...l(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let r=e.error;if((0,o.DV)(r)&&r.revert&&this.#M)return{...this.#M,fetchStatus:"idle"};return{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}};this.state=t(this.state),i.V.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#L.notify({query:this,type:"updated",action:e})})}};function l(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,o.Kw)(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}function u(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,n=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}},22852:(e,t,r)=>{"use strict";r.d(t,{S:()=>g});var n=r(3341),i=r(96143),o=r(12113),s=r(64351),a=class extends s.l{constructor(e={}){super(),this.config=e,this.#F=new Map}#F;build(e,t,r){let o=t.queryKey,s=t.queryHash??(0,n.Rm)(o,t),a=this.get(s);return a||(a=new i.A({cache:this,queryKey:o,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(o)}),this.add(a)),a}add(e){this.#F.has(e.queryHash)||(this.#F.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#F.get(e.queryHash);t&&(e.destroy(),t===e&&this.#F.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){o.V.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#F.get(e)}getAll(){return[...this.#F.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,n._x)(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>(0,n._x)(e,t)):t}notify(e){o.V.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){o.V.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){o.V.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},l=r(71180),u=class extends s.l{constructor(e={}){super(),this.config=e,this.#U=new Map,this.#V=Date.now()}#U;#V;build(e,t,r){let n=new l.m({mutationCache:this,mutationId:++this.#V,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){let t=c(e),r=this.#U.get(t)??[];r.push(e),this.#U.set(t,r),this.notify({type:"added",mutation:e})}remove(e){let t=c(e);if(this.#U.has(t)){let r=this.#U.get(t)?.filter(t=>t!==e);r&&(0===r.length?this.#U.delete(t):this.#U.set(t,r))}this.notify({type:"removed",mutation:e})}canRun(e){let t=this.#U.get(c(e))?.find(e=>"pending"===e.state.status);return!t||t===e}runNext(e){let t=this.#U.get(c(e))?.find(t=>t!==e&&t.state.isPaused);return t?.continue()??Promise.resolve()}clear(){o.V.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#U.values()].flat()}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,n.X7)(t,e))}findAll(e={}){return this.getAll().filter(t=>(0,n.X7)(e,t))}notify(e){o.V.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return o.V.batch(()=>Promise.all(e.map(e=>e.continue().catch(n.ZT))))}};function c(e){return e.options.scope?.id??String(e.mutationId)}var d=r(81943),h=r(21753);function p(e){return{onFetch:(t,r)=>{let i=async()=>{let r;let i=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],a=t.state.data?.pageParams||[],l={pages:[],pageParams:[]},u=!1,c=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},d=t.options.queryFn&&t.options.queryFn!==n.CN?t.options.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${t.options.queryHash}'`)),h=async(e,r,i)=>{if(u)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);let o={queryKey:t.queryKey,pageParam:r,direction:i?"backward":"forward",meta:t.options.meta};c(o);let s=await d(o),{maxPages:a}=t.options,l=i?n.Ht:n.VX;return{pages:l(e.pages,s,a),pageParams:l(e.pageParams,r,a)}};if(o&&s.length){let e="backward"===o,t={pages:s,pageParams:a},n=(e?m:f)(i,t);r=await h(t,n,e)}else{r=await h(l,a[0]??i.initialPageParam);let t=e??s.length;for(let e=1;e<t;e++){let e=f(i,r);r=await h(r,e)}}return r};t.options.persister?t.fetchFn=()=>t.options.persister?.(i,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=i}}}function f(e,{pages:t,pageParams:r}){let n=t.length-1;return e.getNextPageParam(t[n],t,r[n],r)}function m(e,{pages:t,pageParams:r}){return e.getPreviousPageParam?.(t[0],t,r[0],r)}var g=class{#z;#I;#B;#G;#$;#H;#q;#W;constructor(e={}){this.#z=e.queryCache||new a,this.#I=e.mutationCache||new u,this.#B=e.defaultOptions||{},this.#G=new Map,this.#$=new Map,this.#H=0}mount(){this.#H++,1===this.#H&&(this.#q=d.j.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#z.onFocus())}),this.#W=h.N.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#z.onOnline())}))}unmount(){this.#H--,0===this.#H&&(this.#q?.(),this.#q=void 0,this.#W?.(),this.#W=void 0)}isFetching(e){return this.#z.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#I.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#z.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.getQueryData(e.queryKey);if(void 0===t)return this.fetchQuery(e);{let r=this.defaultQueryOptions(e),n=this.#z.build(this,r);return e.revalidateIfStale&&n.isStaleByTime(r.staleTime)&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return this.#z.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){let i=this.defaultQueryOptions({queryKey:e}),o=this.#z.get(i.queryHash),s=o?.state.data,a=(0,n.SE)(t,s);if(void 0!==a)return this.#z.build(this,i).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return o.V.batch(()=>this.#z.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#z.get(t.queryHash)?.state}removeQueries(e){let t=this.#z;o.V.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let r=this.#z,n={type:"active",...e};return o.V.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){let r={revert:!0,...t};return Promise.all(o.V.batch(()=>this.#z.findAll(e).map(e=>e.cancel(r)))).then(n.ZT).catch(n.ZT)}invalidateQueries(e={},t={}){return o.V.batch(()=>{if(this.#z.findAll(e).forEach(e=>{e.invalidate()}),"none"===e.refetchType)return Promise.resolve();let r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){let r={...t,cancelRefetch:t?.cancelRefetch??!0};return Promise.all(o.V.batch(()=>this.#z.findAll(e).filter(e=>!e.isDisabled()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(n.ZT)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(n.ZT)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let r=this.#z.build(this,t);return r.isStaleByTime(t.staleTime)?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(n.ZT).catch(n.ZT)}fetchInfiniteQuery(e){return e.behavior=p(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(n.ZT).catch(n.ZT)}resumePausedMutations(){return h.N.isOnline()?this.#I.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#z}getMutationCache(){return this.#I}getDefaultOptions(){return this.#B}setDefaultOptions(e){this.#B=e}setQueryDefaults(e,t){this.#G.set((0,n.Ym)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#G.values()],r={};return t.forEach(t=>{(0,n.to)(e,t.queryKey)&&(r={...r,...t.defaultOptions})}),r}setMutationDefaults(e,t){this.#$.set((0,n.Ym)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#$.values()],r={};return t.forEach(t=>{(0,n.to)(e,t.mutationKey)&&(r={...r,...t.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#B.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,n.Rm)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),!0!==t.enabled&&t.queryFn===n.CN&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#B.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#z.clear(),this.#I.clear()}}},65621:(e,t,r)=>{"use strict";r.d(t,{F:()=>i});var n=r(3341),i=class{#K;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,n.PN)(this.gcTime)&&(this.#K=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(n.sk?1/0:3e5))}clearGcTimeout(){this.#K&&(clearTimeout(this.#K),this.#K=void 0)}}},41432:(e,t,r)=>{"use strict";r.d(t,{DV:()=>u,Kw:()=>a,Mz:()=>c});var n=r(81943),i=r(21753),o=r(3341);function s(e){return Math.min(1e3*2**e,3e4)}function a(e){return(e??"online")!=="online"||i.N.isOnline()}var l=class{constructor(e){this.revert=e?.revert,this.silent=e?.silent}};function u(e){return e instanceof l}function c(e){let t,r,u,c=!1,d=0,h=!1,p=new Promise((e,t)=>{r=e,u=t}),f=()=>n.j.isFocused()&&("always"===e.networkMode||i.N.isOnline())&&e.canRun(),m=()=>a(e.networkMode)&&e.canRun(),g=n=>{h||(h=!0,e.onSuccess?.(n),t?.(),r(n))},y=r=>{h||(h=!0,e.onError?.(r),t?.(),u(r))},v=()=>new Promise(r=>{t=e=>{(h||f())&&r(e)},e.onPause?.()}).then(()=>{t=void 0,h||e.onContinue?.()}),b=()=>{let t;if(!h){try{t=e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(g).catch(t=>{if(h)return;let r=e.retry??(o.sk?0:3),n=e.retryDelay??s,i="function"==typeof n?n(d,t):n,a=!0===r||"number"==typeof r&&d<r||"function"==typeof r&&r(d,t);if(c||!a){y(t);return}d++,e.onFail?.(d,t),(0,o._v)(i).then(()=>f()?void 0:v()).then(()=>{c?y(t):b()})})}};return{promise:p,cancel:t=>{h||(y(new l(t)),e.abort?.())},continue:()=>(t?.(),p),cancelRetry:()=>{c=!0},continueRetry:()=>{c=!1},canStart:m,start:()=>(m()?b():v().then(b),p)}}},64351:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});var n=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},3341:(e,t,r)=>{"use strict";r.d(t,{CN:()=>_,Ht:()=>S,Kp:()=>a,PN:()=>s,Rm:()=>c,SE:()=>o,VS:()=>f,VX:()=>E,X7:()=>u,Ym:()=>d,ZT:()=>i,_v:()=>v,_x:()=>l,oE:()=>b,sk:()=>n,to:()=>h});var n="undefined"==typeof window||"Deno"in globalThis;function i(){}function o(e,t){return"function"==typeof e?e(t):e}function s(e){return"number"==typeof e&&e>=0&&e!==1/0}function a(e,t){return Math.max(e+(t||0)-Date.now(),0)}function l(e,t){let{type:r="all",exact:n,fetchStatus:i,predicate:o,queryKey:s,stale:a}=e;if(s){if(n){if(t.queryHash!==c(s,t.options))return!1}else if(!h(t.queryKey,s))return!1}if("all"!==r){let e=t.isActive();if("active"===r&&!e||"inactive"===r&&e)return!1}return("boolean"!=typeof a||t.isStale()===a)&&(!i||i===t.state.fetchStatus)&&(!o||!!o(t))}function u(e,t){let{exact:r,status:n,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(d(t.options.mutationKey)!==d(o))return!1}else if(!h(t.options.mutationKey,o))return!1}return(!n||t.state.status===n)&&(!i||!!i(t))}function c(e,t){return(t?.queryKeyHashFn||d)(e)}function d(e){return JSON.stringify(e,(e,t)=>g(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function h(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&!Object.keys(t).some(r=>!h(e[r],t[r]))}function p(e,t){if(e===t)return e;let r=m(e)&&m(t);if(r||g(e)&&g(t)){let n=r?e:Object.keys(e),i=n.length,o=r?t:Object.keys(t),s=o.length,a=r?[]:{},l=0;for(let i=0;i<s;i++){let s=r?i:o[i];(!r&&n.includes(s)||r)&&void 0===e[s]&&void 0===t[s]?(a[s]=void 0,l++):(a[s]=p(e[s],t[s]),a[s]===e[s]&&void 0!==e[s]&&l++)}return i===s&&l===i?e:a}return t}function f(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}function m(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function g(e){if(!y(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!!(y(r)&&r.hasOwnProperty("isPrototypeOf"))&&Object.getPrototypeOf(e)===Object.prototype}function y(e){return"[object Object]"===Object.prototype.toString.call(e)}function v(e){return new Promise(t=>{setTimeout(t,e)})}function b(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?p(e,t):t}function E(e,t,r=0){let n=[...e,t];return r&&n.length>r?n.slice(1):n}function S(e,t,r=0){let n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var _=Symbol()},44976:(e,t,r)=>{"use strict";r.d(t,{NL:()=>s,aH:()=>a});var n=r(17577),i=r(10326),o=n.createContext(void 0),s=e=>{let t=n.useContext(o);if(e)return e;if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},a=({client:e,children:t})=>(n.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),(0,i.jsx)(o.Provider,{value:e,children:t}))},89714:(e,t,r)=>{"use strict";r.d(t,{a:()=>u});var n=r(93435),i=r(47699),o=r(61587),s=r(48489),a=r(75275),l=r(75247);function u(e){let t,c;let d=e.isNewChainsStale??!0,h="eip155";return(0,n.K)(n=>({id:"walletConnect",name:"WalletConnect",type:u.type,async setup(){let e=await this.getProvider().catch(()=>null);e&&(e.on("connect",this.onConnect.bind(this)),e.on("session_delete",this.onSessionDelete.bind(this)))},async connect({chainId:e,...t}={}){try{let r=await this.getProvider();if(!r)throw new i.M;r.on("display_uri",this.onDisplayUri);let o=e;if(!o){let e=await n.storage?.getItem("state")??{};o=n.chains.some(t=>t.id===e.chainId)?e.chainId:n.chains[0]?.id}if(!o)throw Error("No chains found on connector.");let a=await this.isChainsStale();if(r.session&&a&&await r.disconnect(),!r.session||a){let e=n.chains.filter(e=>e.id!==o).map(e=>e.id);await r.connect({optionalChains:[o,...e],..."pairingTopic"in t?{pairingTopic:t.pairingTopic}:{}}),this.setRequestedChainsIds(n.chains.map(e=>e.id))}let l=(await r.enable()).map(e=>(0,s.K)(e)),u=await this.getChainId();return r.removeListener("display_uri",this.onDisplayUri),r.removeListener("connect",this.onConnect.bind(this)),r.on("accountsChanged",this.onAccountsChanged.bind(this)),r.on("chainChanged",this.onChainChanged),r.on("disconnect",this.onDisconnect.bind(this)),r.on("session_delete",this.onSessionDelete.bind(this)),{accounts:l,chainId:u}}catch(e){if(/(user rejected|connection request reset)/i.test(e?.message))throw new a.ab(e);throw e}},async disconnect(){let e=await this.getProvider();try{await e?.disconnect()}catch(e){if(!/No matching key/i.test(e.message))throw e}finally{e?.removeListener("accountsChanged",this.onAccountsChanged.bind(this)),e?.removeListener("chainChanged",this.onChainChanged),e?.removeListener("disconnect",this.onDisconnect.bind(this)),e?.removeListener("session_delete",this.onSessionDelete.bind(this)),e?.on("connect",this.onConnect.bind(this)),this.setRequestedChainsIds([])}},async getAccounts(){return(await this.getProvider()).accounts.map(e=>(0,s.K)(e))},async getProvider({chainId:i}={}){async function o(){let t=n.chains.map(e=>e.id);if(!t.length)return;let{EthereumProvider:i}=await r.e(6352).then(r.bind(r,46352));return await i.init({...e,disableProviderPing:!0,optionalChains:t,projectId:e.projectId,rpcMap:Object.fromEntries(n.chains.map(e=>[e.id,e.rpcUrls.default.http[0]])),showQrModal:e.showQrModal??!0})}return t||(c||(c=o()),t=await c,t?.events.setMaxListeners(1/0)),i&&await this.switchChain?.({chainId:i}),t},async getChainId(){return(await this.getProvider()).chainId},async isAuthorized(){try{let[e,t]=await Promise.all([this.getAccounts(),this.getProvider()]);if(!e.length)return!1;if(await this.isChainsStale()&&t.session)return await t.disconnect().catch(()=>{}),!1;return!0}catch{return!1}},async switchChain({chainId:e}){let t=n.chains.find(t=>t.id===e);if(!t)throw new a.x3(new o.X4);try{let r=await this.getProvider(),n=this.getNamespaceChainsIds(),i=this.getNamespaceMethods();if(!n.includes(e)&&i.includes("wallet_addEthereumChain")){await r.request({method:"wallet_addEthereumChain",params:[{chainId:(0,l.eC)(t.id),blockExplorerUrls:[t.blockExplorers?.default.url],chainName:t.name,nativeCurrency:t.nativeCurrency,rpcUrls:[...t.rpcUrls.default.http]}]});let n=await this.getRequestedChainsIds();this.setRequestedChainsIds([...n,e])}return await r.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,l.eC)(e)}]}),t}catch(t){let e="string"==typeof t?t:t?.message;if(/user rejected request/i.test(e))throw new a.ab(t);throw new a.x3(t)}},onAccountsChanged(e){0===e.length?this.onDisconnect():n.emitter.emit("change",{accounts:e.map(e=>(0,s.K)(e))})},onChainChanged(e){let t=Number(e);n.emitter.emit("change",{chainId:t})},async onConnect(e){let t=Number(e.chainId),r=await this.getAccounts();n.emitter.emit("connect",{accounts:r,chainId:t})},async onDisconnect(e){this.setRequestedChainsIds([]),n.emitter.emit("disconnect");let t=await this.getProvider();t.removeListener("accountsChanged",this.onAccountsChanged.bind(this)),t.removeListener("chainChanged",this.onChainChanged),t.removeListener("disconnect",this.onDisconnect.bind(this)),t.removeListener("session_delete",this.onSessionDelete.bind(this)),t.on("connect",this.onConnect.bind(this))},onDisplayUri(e){n.emitter.emit("message",{type:"display_uri",data:e})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds:()=>t?t.session?.namespaces[h]?.chains?.map(e=>parseInt(e.split(":")[1]||""))??[]:[],getNamespaceMethods:()=>t?t.session?.namespaces[h]?.methods??[]:[],async getRequestedChainsIds(){return await n.storage?.getItem(this.requestedChainsStorageKey)??[]},async isChainsStale(){if(this.getNamespaceMethods().includes("wallet_addEthereumChain")||!d)return!1;let e=n.chains.map(e=>e.id),t=this.getNamespaceChainsIds();if(t.length&&!t.some(t=>e.includes(t)))return!1;let r=await this.getRequestedChainsIds();return!e.every(e=>r.includes(e))},async setRequestedChainsIds(e){await n.storage?.setItem(this.requestedChainsStorageKey,e)},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}}))}u.type="walletConnect"},93435:(e,t,r)=>{"use strict";function n(e){return e}r.d(t,{K:()=>n})},78376:(e,t,r)=>{"use strict";r.d(t,{L:()=>h});var n=r(48489),i=r(75275),o=r(5448),s=r(17143),a=r(75247),l=r(61587),u=r(47699),c=r(93435);let d={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider:e=>e?.coinbaseWalletExtension?e.coinbaseWalletExtension:p(e,"isCoinbaseWallet")},metaMask:{id:"metaMask",name:"MetaMask",provider:e=>p(e,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;for(let t of["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPortal","isRabby","isTokenPocket","isTokenary","isZerion"])if(e[t])return!1;return!0})},phantom:{id:"phantom",name:"Phantom",provider:e=>e?.phantom?.ethereum?e.phantom?.ethereum:p(e,"isPhantom")}};function h(e={}){let t,r,f,m;let{shimDisconnect:g=!0,unstable_shimAsyncInject:y}=e;function v(){let t=e.target;if("function"==typeof t){let e=t();if(e)return e}return"object"==typeof t?t:"string"==typeof t?{...d[t]??{id:t,name:`${t[0].toUpperCase()}${t.slice(1)}`,provider:`is${t[0].toUpperCase()}${t.slice(1)}`}}:{id:"injected",name:"Injected",provider:e=>e?.ethereum}}return(0,c.K)(c=>({get icon(){return v().icon},get id(){return v().id},get name(){return v().name},type:h.type,async setup(){let r=await this.getProvider();r&&e.target&&(f||(f=this.onConnect.bind(this),r.on("connect",f)),t||(t=this.onAccountsChanged.bind(this),r.on("accountsChanged",t)))},async connect({chainId:o,isReconnecting:s}={}){let a=await this.getProvider();if(!a)throw new u.M;let l=[];if(s)l=await this.getAccounts().catch(()=>[]);else if(g)try{let e=await a.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});l=e[0]?.caveats?.[0]?.value?.map(e=>n.K(e))}catch(t){let e=t;if(e.code===i.ab.code)throw new i.ab(e);if(e.code===i.pT.code)throw e}try{l?.length||s||(l=(await a.request({method:"eth_requestAccounts"})).map(e=>(0,n.K)(e))),f&&(a.removeListener("connect",f),f=void 0),t||(t=this.onAccountsChanged.bind(this),a.on("accountsChanged",t)),r||(r=this.onChainChanged.bind(this),a.on("chainChanged",r)),m||(m=this.onDisconnect.bind(this),a.on("disconnect",m));let u=await this.getChainId();if(o&&u!==o){let e=await this.switchChain({chainId:o}).catch(e=>{if(e.code===i.ab.code)throw e;return{id:u}});u=e?.id??u}return g&&(await c.storage?.removeItem(`${this.id}.disconnected`),e.target||await c.storage?.setItem("injected.connected",!0)),{accounts:l,chainId:u}}catch(t){let e=t;if(e.code===i.ab.code)throw new i.ab(e);if(e.code===i.pT.code)throw new i.pT(e);throw e}},async disconnect(){let t=await this.getProvider();if(!t)throw new u.M;r&&(t.removeListener("chainChanged",r),r=void 0),m&&(t.removeListener("disconnect",m),m=void 0),f||(f=this.onConnect.bind(this),t.on("connect",f)),g&&(await c.storage?.setItem(`${this.id}.disconnected`,!0),e.target||await c.storage?.removeItem("injected.connected"))},async getAccounts(){let e=await this.getProvider();if(!e)throw new u.M;return(await e.request({method:"eth_accounts"})).map(e=>(0,n.K)(e))},async getChainId(){let e=await this.getProvider();if(!e)throw new u.M;return Number(await e.request({method:"eth_chainId"}))},async getProvider(){let e;if("undefined"==typeof window)return;let t=v();return(e="function"==typeof t.provider?t.provider(window):"string"==typeof t.provider?p(window,t.provider):t.provider)&&!e.removeListener&&("off"in e&&"function"==typeof e.off?e.removeListener=e.off:e.removeListener=()=>{}),e},async isAuthorized(){try{if(g&&await c.storage?.getItem(`${this.id}.disconnected`)||!e.target&&!await c.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(void 0!==y&&!1!==y){let e=async()=>("undefined"!=typeof window&&window.removeEventListener("ethereum#initialized",e),!!await this.getProvider()),t="number"==typeof y?y:1e3;if(await Promise.race([..."undefined"!=typeof window?[new Promise(t=>window.addEventListener("ethereum#initialized",()=>t(e()),{once:!0}))]:[],new Promise(r=>setTimeout(()=>r(e()),t))]))return!0}throw new u.M}return!!(await (0,o.J)(()=>(0,s.F)(()=>this.getAccounts(),{timeout:100}))).length}catch{return!1}},async switchChain({chainId:e}){let t=await this.getProvider();if(!t)throw new u.M;let r=c.chains.find(t=>t.id===e);if(!r)throw new i.x3(new l.X4);try{return await Promise.all([t.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,a.eC)(e)}]}),new Promise(r=>{let n=i=>{console.log("[injected] switchChain.listener",{data:i,chainId:e}),Number(i)===e&&(t.removeListener("chainChanged",n),r())};t.on("chainChanged",n)})]),r}catch(o){let n=o;if(4902===n.code||n?.data?.originalError?.code===4902)try{let n;let{default:o,...s}=r.blockExplorers??{};if(o&&(n=[o.url,...Object.values(s).map(e=>e.url)]),await t.request({method:"wallet_addEthereumChain",params:[{chainId:(0,a.eC)(e),chainName:r.name,nativeCurrency:r.nativeCurrency,rpcUrls:[r.rpcUrls.default?.http[0]??""],blockExplorerUrls:n}]}),await this.getChainId()!==e)throw new i.ab(Error("User rejected switch after adding network."));return r}catch(e){throw new i.ab(e)}if(n.code===i.ab.code)throw new i.ab(n);throw new i.x3(n)}},async onAccountsChanged(e){if(console.log("[injected] onAccountsChanged",e),0===e.length)this.onDisconnect();else if(c.emitter.listenerCount("connect")){let e=(await this.getChainId()).toString();this.onConnect({chainId:e}),g&&await c.storage?.removeItem(`${this.id}.disconnected`)}else c.emitter.emit("change",{accounts:e.map(e=>(0,n.K)(e))})},onChainChanged(e){console.log("[injected] onChainChanged",e);let t=Number(e);c.emitter.emit("change",{chainId:t})},async onConnect(e){let n=await this.getAccounts();if(0===n.length)return;let i=Number(e.chainId);c.emitter.emit("connect",{accounts:n,chainId:i});let o=await this.getProvider();o&&(f&&(o.removeListener("connect",f),f=void 0),t||(t=this.onAccountsChanged.bind(this),o.on("accountsChanged",t)),r||(r=this.onChainChanged.bind(this),o.on("chainChanged",r)),m||(m=this.onDisconnect.bind(this),o.on("disconnect",m)))},async onDisconnect(e){let t=await this.getProvider();e&&1013===e.code&&t&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),t&&(r&&(t.removeListener("chainChanged",r),r=void 0),m&&(t.removeListener("disconnect",m),m=void 0),f||(f=this.onConnect.bind(this),t.on("connect",f))))}}))}function p(e,t){function r(e){return"function"==typeof t?t(e):"string"!=typeof t||e[t]}let n=e.ethereum;return n?.providers?n.providers.find(e=>r(e)):n&&r(n)?n:void 0}h.type="injected"},27663:(e,t,r)=>{"use strict";r.d(t,{G:()=>l});var n,i,o=r(16473);let s=()=>`@wagmi/core@${o.i}`;var a=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class l extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return s()}constructor(e,t={}){super(),n.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});let r=t.cause instanceof l?t.cause.details:t.cause?.message?t.cause.message:t.details,i=t.cause instanceof l&&t.cause.docsPath||t.docsPath;this.message=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${t.docsSlug?`#${t.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join("\n"),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=i,this.metaMessages=t.metaMessages,this.shortMessage=e}walk(e){return a(this,n,"m",i).call(this,this,e)}}n=new WeakSet,i=function e(t,r){return r?.(t)?t:t.cause?a(this,n,"m",e).call(this,t.cause,r):t}},61587:(e,t,r)=>{"use strict";r.d(t,{JK:()=>a,X4:()=>i,aH:()=>s,wi:()=>o});var n=r(27663);class i extends n.G{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class o extends n.G{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class s extends n.G{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class a extends n.G{constructor({address:e,connector:t}){super(`Account "${e}" not found for connector "${t.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}},47699:(e,t,r)=>{"use strict";r.d(t,{M:()=>i,O:()=>o});var n=r(27663);class i extends n.G{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class o extends n.G{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}},16473:(e,t,r)=>{"use strict";r.d(t,{i:()=>n});let n="2.6.16"},79360:(e,t,r)=>{"use strict";r.d(t,{j:()=>s});var n=r(41135);let i=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,o=n.W,s=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return o(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:s,defaultVariants:a}=t,l=Object.keys(s).map(e=>{let t=null==r?void 0:r[e],n=null==a?void 0:a[e];if(null===t)return null;let o=i(t)||i(n);return s[e][o]}),u=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return o(e,l,null==t?void 0:null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n,...i}=t;return Object.entries(i).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...a,...u}[t]):({...a,...u})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},41135:(e,t,r)=>{"use strict";function n(e){var t,r,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e){if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=n(e[t]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r)}return i}function i(){for(var e,t,r=0,i="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=n(e))&&(i&&(i+=" "),i+=t);return i}r.d(t,{W:()=>i})},1762:(e,t,r)=>{"use strict";r.d(t,{mY:()=>G});var n=1,i=.9,o=.8,s=.17,a=.1,l=.999,u=.9999,c=.99,d=/[\\\/_+.#"@\[\(\{&]/,h=/[\\\/_+.#"@\[\(\{&]/g,p=/[\s-]/,f=/[\s-]/g;function m(e,t,r,g,y,v,b){if(v===t.length)return y===e.length?n:c;var E=`${y},${v}`;if(void 0!==b[E])return b[E];for(var S,_,T,A,C=g.charAt(v),w=r.indexOf(C,y),O=0;w>=0;)(S=m(e,t,r,g,w+1,v+1,b))>O&&(w===y?S*=n:d.test(e.charAt(w-1))?(S*=o,(T=e.slice(y,w-1).match(h))&&y>0&&(S*=Math.pow(l,T.length))):p.test(e.charAt(w-1))?(S*=i,(A=e.slice(y,w-1).match(f))&&y>0&&(S*=Math.pow(l,A.length))):(S*=s,y>0&&(S*=Math.pow(l,w-y))),e.charAt(w)!==t.charAt(v)&&(S*=u)),(S<a&&r.charAt(w-1)===g.charAt(v+1)||g.charAt(v+1)===g.charAt(v)&&r.charAt(w-1)!==g.charAt(v))&&(_=m(e,t,r,g,w+1,v+2,b))*a>S&&(S=_*a),S>O&&(O=S),w=r.indexOf(C,w+1);return b[E]=O,O}function g(e){return e.toLowerCase().replace(f," ")}function y(e,t,r){return m(e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,t,g(e),g(t),0,0,{})}var v=r(58256),b=r(17577),E=r(45226),S=r(88957),_=r(48051),T='[cmdk-group=""]',A='[cmdk-group-items=""]',C='[cmdk-group-heading=""]',w='[cmdk-item=""]',O=`${w}:not([aria-disabled="true"])`,R="cmdk-item-select",x="data-value",I=(e,t,r)=>y(e,t,r),D=b.createContext(void 0),P=()=>b.useContext(D),N=b.createContext(void 0),k=()=>b.useContext(N),M=b.createContext(void 0),L=b.forwardRef((e,t)=>{let r=K(()=>{var t,r;return{search:"",value:null!=(r=null!=(t=e.value)?t:e.defaultValue)?r:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=K(()=>new Set),i=K(()=>new Map),o=K(()=>new Map),s=K(()=>new Set),a=q(e),{label:l,children:u,value:c,onValueChange:d,filter:h,shouldFilter:p,loop:f,disablePointerSelection:m=!1,vimBindings:g=!0,...y}=e,v=(0,S.M)(),_=(0,S.M)(),P=(0,S.M)(),k=b.useRef(null),M=J();W(()=>{if(void 0!==c){let e=c.trim();r.current.value=e,L.emit()}},[c]),W(()=>{M(6,z)},[]);let L=b.useMemo(()=>({subscribe:e=>(s.current.add(e),()=>s.current.delete(e)),snapshot:()=>r.current,setState:(e,t,n)=>{var i,o,s,l;if(!Object.is(r.current[e],t)){if(r.current[e]=t,"search"===e)V(),F(),M(1,U);else if("value"===e){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let e=document.getElementById(P);e?e.focus():null==(i=document.getElementById(v))||i.focus()}if(M(7,()=>{var e;r.current.selectedItemId=null==(e=G())?void 0:e.id,L.emit()}),n||M(5,z),(null==(o=a.current)?void 0:o.value)!==void 0){let e=null!=t?t:"";null==(l=(s=a.current).onValueChange)||l.call(s,e);return}}L.emit()}},emit:()=>{s.current.forEach(e=>e())}}),[]),B=b.useMemo(()=>({value:(e,t,n)=>{var i;t!==(null==(i=o.current.get(e))?void 0:i.value)&&(o.current.set(e,{value:t,keywords:n}),r.current.filtered.items.set(e,j(t,n)),M(2,()=>{F(),L.emit()}))},item:(e,t)=>(n.current.add(e),t&&(i.current.has(t)?i.current.get(t).add(e):i.current.set(t,new Set([e]))),M(3,()=>{V(),F(),r.current.value||U(),L.emit()}),()=>{o.current.delete(e),n.current.delete(e),r.current.filtered.items.delete(e);let t=G();M(4,()=>{V(),(null==t?void 0:t.getAttribute("id"))===e&&U(),L.emit()})}),group:e=>(i.current.has(e)||i.current.set(e,new Set),()=>{o.current.delete(e),i.current.delete(e)}),filter:()=>a.current.shouldFilter,label:l||e["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:v,inputId:P,labelId:_,listInnerRef:k}),[]);function j(e,t){var n,i;let o=null!=(i=null==(n=a.current)?void 0:n.filter)?i:I;return e?o(e,r.current.search,t):0}function F(){if(!r.current.search||!1===a.current.shouldFilter)return;let e=r.current.filtered.items,t=[];r.current.filtered.groups.forEach(r=>{let n=i.current.get(r),o=0;n.forEach(t=>{o=Math.max(e.get(t),o)}),t.push([r,o])});let n=k.current;Y().sort((t,r)=>{var n,i;let o=t.getAttribute("id"),s=r.getAttribute("id");return(null!=(n=e.get(s))?n:0)-(null!=(i=e.get(o))?i:0)}).forEach(e=>{let t=e.closest(A);t?t.appendChild(e.parentElement===t?e:e.closest(`${A} > *`)):n.appendChild(e.parentElement===n?e:e.closest(`${A} > *`))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{var t;let r=null==(t=k.current)?void 0:t.querySelector(`${T}[${x}="${encodeURIComponent(e[0])}"]`);null==r||r.parentElement.appendChild(r)})}function U(){let e=Y().find(e=>"true"!==e.getAttribute("aria-disabled")),t=null==e?void 0:e.getAttribute(x);L.setState("value",t||void 0)}function V(){var e,t,s,l;if(!r.current.search||!1===a.current.shouldFilter){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let u=0;for(let i of n.current){let n=j(null!=(t=null==(e=o.current.get(i))?void 0:e.value)?t:"",null!=(l=null==(s=o.current.get(i))?void 0:s.keywords)?l:[]);r.current.filtered.items.set(i,n),n>0&&u++}for(let[e,t]of i.current)for(let n of t)if(r.current.filtered.items.get(n)>0){r.current.filtered.groups.add(e);break}r.current.filtered.count=u}function z(){var e,t,r;let n=G();n&&((null==(e=n.parentElement)?void 0:e.firstChild)===n&&(null==(r=null==(t=n.closest(T))?void 0:t.querySelector(C))||r.scrollIntoView({block:"nearest"})),n.scrollIntoView({block:"nearest"}))}function G(){var e;return null==(e=k.current)?void 0:e.querySelector(`${w}[aria-selected="true"]`)}function Y(){var e;return Array.from((null==(e=k.current)?void 0:e.querySelectorAll(O))||[])}function Z(e){let t=Y()[e];t&&L.setState("value",t.getAttribute(x))}function Q(e){var t;let r=G(),n=Y(),i=n.findIndex(e=>e===r),o=n[i+e];null!=(t=a.current)&&t.loop&&(o=i+e<0?n[n.length-1]:i+e===n.length?n[0]:n[i+e]),o&&L.setState("value",o.getAttribute(x))}function et(e){let t=G(),r=null==t?void 0:t.closest(T),n;for(;r&&!n;)n=null==(r=e>0?$(r,T):H(r,T))?void 0:r.querySelector(O);n?L.setState("value",n.getAttribute(x)):Q(e)}let er=()=>Z(Y().length-1),en=e=>{e.preventDefault(),e.metaKey?er():e.altKey?et(1):Q(1)},ei=e=>{e.preventDefault(),e.metaKey?Z(0):e.altKey?et(-1):Q(-1)};return b.createElement(E.WV.div,{ref:t,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:e=>{var t;null==(t=y.onKeyDown)||t.call(y,e);let r=e.nativeEvent.isComposing||229===e.keyCode;if(!(e.defaultPrevented||r))switch(e.key){case"n":case"j":g&&e.ctrlKey&&en(e);break;case"ArrowDown":en(e);break;case"p":case"k":g&&e.ctrlKey&&ei(e);break;case"ArrowUp":ei(e);break;case"Home":e.preventDefault(),Z(0);break;case"End":e.preventDefault(),er();break;case"Enter":{e.preventDefault();let t=G();if(t){let e=new Event(R);t.dispatchEvent(e)}}}}},b.createElement("label",{"cmdk-label":"",htmlFor:B.inputId,id:B.labelId,style:ee},l),X(e,e=>b.createElement(N.Provider,{value:L},b.createElement(D.Provider,{value:B},e))))}),B=b.forwardRef((e,t)=>{var r,n;let i=(0,S.M)(),o=b.useRef(null),s=b.useContext(M),a=P(),l=q(e),u=null!=(n=null==(r=l.current)?void 0:r.forceMount)?n:null==s?void 0:s.forceMount;W(()=>{if(!u)return a.item(i,null==s?void 0:s.id)},[u]);let c=Z(i,o,[e.value,e.children,o],e.keywords),d=k(),h=Y(e=>e.value&&e.value===c.current),p=Y(e=>!!u||!1===a.filter()||!e.search||e.filtered.items.get(i)>0);function f(){var e,t;m(),null==(t=(e=l.current).onSelect)||t.call(e,c.current)}function m(){d.setState("value",c.current,!0)}if(b.useEffect(()=>{let t=o.current;if(!(!t||e.disabled))return t.addEventListener(R,f),()=>t.removeEventListener(R,f)},[p,e.onSelect,e.disabled]),!p)return null;let{disabled:g,value:y,onSelect:v,forceMount:T,keywords:A,...C}=e;return b.createElement(E.WV.div,{ref:(0,_.F)(o,t),...C,id:i,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!h,"data-disabled":!!g,"data-selected":!!h,onPointerMove:g||a.getDisablePointerSelection()?void 0:m,onClick:g?void 0:f},e.children)}),j=b.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:i,...o}=e,s=(0,S.M)(),a=b.useRef(null),l=b.useRef(null),u=(0,S.M)(),c=P(),d=Y(e=>!!i||!1===c.filter()||!e.search||e.filtered.groups.has(s));W(()=>c.group(s),[]),Z(s,a,[e.value,e.heading,l]);let h=b.useMemo(()=>({id:s,forceMount:i}),[i]);return b.createElement(E.WV.div,{ref:(0,_.F)(a,t),...o,"cmdk-group":"",role:"presentation",hidden:!d||void 0},r&&b.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),X(e,e=>b.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},b.createElement(M.Provider,{value:h},e))))}),F=b.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,i=b.useRef(null),o=Y(e=>!e.search);return r||o?b.createElement(E.WV.div,{ref:(0,_.F)(i,t),...n,"cmdk-separator":"",role:"separator"}):null}),U=b.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,i=null!=e.value,o=k(),s=Y(e=>e.search),a=Y(e=>e.selectedItemId),l=P();return b.useEffect(()=>{null!=e.value&&o.setState("search",e.value)},[e.value]),b.createElement(E.WV.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":a,id:l.inputId,type:"text",value:i?e.value:s,onChange:e=>{i||o.setState("search",e.target.value),null==r||r(e.target.value)}})}),V=b.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...i}=e,o=b.useRef(null),s=b.useRef(null),a=Y(e=>e.selectedItemId),l=P();return b.useEffect(()=>{if(s.current&&o.current){let e=s.current,t=o.current,r,n=new ResizeObserver(()=>{r=requestAnimationFrame(()=>{let r=e.offsetHeight;t.style.setProperty("--cmdk-list-height",r.toFixed(1)+"px")})});return n.observe(e),()=>{cancelAnimationFrame(r),n.unobserve(e)}}},[]),b.createElement(E.WV.div,{ref:(0,_.F)(o,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":n,id:l.listId},X(e,e=>b.createElement("div",{ref:(0,_.F)(s,l.listInnerRef),"cmdk-list-sizer":""},e)))}),z=b.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:i,contentClassName:o,container:s,...a}=e;return b.createElement(v.fC,{open:r,onOpenChange:n},b.createElement(v.h_,{container:s},b.createElement(v.aV,{"cmdk-overlay":"",className:i}),b.createElement(v.VY,{"aria-label":e.label,"cmdk-dialog":"",className:o},b.createElement(L,{ref:t,...a}))))}),G=Object.assign(L,{List:V,Item:B,Input:U,Group:j,Separator:F,Dialog:z,Empty:b.forwardRef((e,t)=>Y(e=>0===e.filtered.count)?b.createElement(E.WV.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Loading:b.forwardRef((e,t)=>{let{progress:r,children:n,label:i="Loading...",...o}=e;return b.createElement(E.WV.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},X(e,e=>b.createElement("div",{"aria-hidden":!0},e)))})});function $(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function H(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function q(e){let t=b.useRef(e);return W(()=>{t.current=e}),t}var W=b.useEffect;function K(e){let t=b.useRef();return void 0===t.current&&(t.current=e()),t}function Y(e){let t=k(),r=()=>e(t.snapshot());return b.useSyncExternalStore(t.subscribe,r,r)}function Z(e,t,r,n=[]){let i=b.useRef(),o=P();return W(()=>{var s;let a=(()=>{var e;for(let t of r){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():i.current}})(),l=n.map(e=>e.trim());o.value(e,a,l),null==(s=t.current)||s.setAttribute(x,a),i.current=a}),i}var J=()=>{let[e,t]=b.useState(),r=K(()=>new Map);return W(()=>{r.current.forEach(e=>e()),r.current=new Map},[e]),(e,n)=>{r.current.set(e,n),t({})}};function Q(e){let t=e.type;return"function"==typeof t?t(e.props):"render"in t?t.render(e.props):e}function X({asChild:e,children:t},r){return e&&b.isValidElement(t)?b.cloneElement(Q(t),{ref:t.ref},r(t.props.children)):r(t)}var ee={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"}},42585:(e,t,r)=>{"use strict";r.d(t,{C6:()=>n.C6,Mq:()=>n.Mq,ZF:()=>n.ZF});var n=r(34955),i="firebase",o="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(0,n.KN)(i,o,"app")},49398:(e,t,r)=>{"use strict";r.d(t,{JU:()=>fL,ad:()=>fV,pl:()=>mK});var n,i,o,s,a,l=r(34955);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u={NODE_CLIENT:!1},c=function(e){let t=[],r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:(i<2048?t[r++]=i>>6|192:((64512&i)==55296&&n+1<e.length&&(64512&e.charCodeAt(n+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),t[r++]=i>>18|240,t[r++]=i>>12&63|128):t[r++]=i>>12|224,t[r++]=i>>6&63|128),t[r++]=63&i|128)}return t},d=function(e){let t=[],r=0,n=0;for(;r<e.length;){let i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){let o=e[r++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){let o=((7&i)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(o>>10)),t[n++]=String.fromCharCode(56320+(1023&o))}else{let o=e[r++],s=e[r++];t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let t=0;t<e.length;t+=3){let i=e[t],o=t+1<e.length,s=o?e[t+1]:0,a=t+2<e.length,l=a?e[t+2]:0,u=i>>2,c=(3&i)<<4|s>>4,d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),n.push(r[u],r[c],r[d],r[h])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(c(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):d(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let t=0;t<e.length;){let i=r[e.charAt(t++)],o=t<e.length?r[e.charAt(t)]:0,s=++t<e.length?r[e.charAt(t)]:64,a=++t<e.length?r[e.charAt(t)]:64;if(++t,null==i||null==o||null==s||null==a)throw new p;let l=i<<2|o>>4;if(n.push(l),64!==s){let e=o<<4&240|s>>2;if(n.push(e),64!==a){let e=s<<6&192|a;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class p extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let f=function(e){let t=c(e);return h.encodeByteArray(t,!0)},m=function(e){return f(e).replace(/\./g,"")},g=function(e){try{return h.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v=()=>y().__FIREBASE_DEFAULTS__,b=()=>{if("undefined"==typeof process||void 0===process.env)return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},E=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&g(e[1]);return t&&JSON.parse(t)},S=()=>{try{return v()||b()||E()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},_=e=>{var t,r;return null===(r=null===(t=S())||void 0===t?void 0:t.emulatorHosts)||void 0===r?void 0:r[e]},T=e=>{let t=_(e);if(!t)return;let r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let n=parseInt(t.substring(r+1),10);return"["===t[0]?[t.substring(1,r-1),n]:[t.substring(0,r),n]};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[m(JSON.stringify(r)),m(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function w(){var e;let t=null===(e=S())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function O(){return!w()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R(){try{return"object"==typeof indexedDB}catch(e){return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x="FirebaseError";class I extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=x,Object.setPrototypeOf(this,I.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,D.prototype.create)}}class D{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},n=`${this.service}/${e}`,i=this.errors[e],o=i?P(i,r):"Error",s=`${this.serviceName}: ${o} (${n}).`;return new I(n,s,r)}}function P(e,t){return e.replace(N,(e,r)=>{let n=t[r];return null!=n?String(n):`<${r}?>`})}let N=/\{\$([^}]+)}/g;function k(e,t){if(e===t)return!0;let r=Object.keys(e),n=Object.keys(t);for(let i of r){if(!n.includes(i))return!1;let r=e[i],o=t[i];if(M(r)&&M(o)){if(!k(r,o))return!1}else if(r!==o)return!1}for(let e of n)if(!r.includes(e))return!1;return!0}function M(e){return null!==e&&"object"==typeof e}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(e){return e&&e._delegate?e._delegate:e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */u.NODE_CLIENT=!0;class B{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(n||(n={}));let F={debug:n.DEBUG,verbose:n.VERBOSE,info:n.INFO,warn:n.WARN,error:n.ERROR,silent:n.SILENT},U=n.INFO,V={[n.DEBUG]:"log",[n.VERBOSE]:"log",[n.INFO]:"info",[n.WARN]:"warn",[n.ERROR]:"error"},z=(e,t,...r)=>{if(t<e.logLevel)return;let n=new Date().toISOString(),i=V[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class G{constructor(e){this.name=e,this._logLevel=U,this._logHandler=z,this._userLogHandler=null,j.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in n))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?F[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,n.DEBUG,...e),this._logHandler(this,n.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,n.VERBOSE,...e),this._logHandler(this,n.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,n.INFO,...e),this._logHandler(this,n.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,n.WARN,...e),this._logHandler(this,n.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,n.ERROR,...e),this._logHandler(this,n.ERROR,...e)}}var $=r(73837),H=r(6113),q="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},W={};(function(){function e(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function t(e,t,r){r||(r=0);var n=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)n[i]=t.charCodeAt(r++)|t.charCodeAt(r++)<<8|t.charCodeAt(r++)<<16|t.charCodeAt(r++)<<24;else for(i=0;16>i;++i)n[i]=t[r++]|t[r++]<<8|t[r++]<<16|t[r++]<<24;t=e.g[0],r=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^r&(i^o))+n[0]+3614090360&4294967295;s=o+(i^(t=r+(s<<7&4294967295|s>>>25))&(r^i))+n[1]+3905402710&4294967295,s=i+(r^(o=t+(s<<12&4294967295|s>>>20))&(t^r))+n[2]+606105819&4294967295,s=r+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+n[3]+3250441966&4294967295,s=t+(o^(r=i+(s<<22&4294967295|s>>>10))&(i^o))+n[4]+4118548399&4294967295,s=o+(i^(t=r+(s<<7&4294967295|s>>>25))&(r^i))+n[5]+1200080426&4294967295,s=i+(r^(o=t+(s<<12&4294967295|s>>>20))&(t^r))+n[6]+2821735955&4294967295,s=r+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+n[7]+4249261313&4294967295,s=t+(o^(r=i+(s<<22&4294967295|s>>>10))&(i^o))+n[8]+1770035416&4294967295,s=o+(i^(t=r+(s<<7&4294967295|s>>>25))&(r^i))+n[9]+2336552879&4294967295,s=i+(r^(o=t+(s<<12&4294967295|s>>>20))&(t^r))+n[10]+4294925233&4294967295,s=r+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+n[11]+2304563134&4294967295,s=t+(o^(r=i+(s<<22&4294967295|s>>>10))&(i^o))+n[12]+1804603682&4294967295,s=o+(i^(t=r+(s<<7&4294967295|s>>>25))&(r^i))+n[13]+4254626195&4294967295,s=i+(r^(o=t+(s<<12&4294967295|s>>>20))&(t^r))+n[14]+2792965006&4294967295,s=r+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+n[15]+1236535329&4294967295,r=i+(s<<22&4294967295|s>>>10),s=t+(i^o&(r^i))+n[1]+4129170786&4294967295,t=r+(s<<5&4294967295|s>>>27),s=o+(r^i&(t^r))+n[6]+3225465664&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^r&(o^t))+n[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=r+(o^t&(i^o))+n[0]+3921069994&4294967295,r=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(r^i))+n[5]+3593408605&4294967295,t=r+(s<<5&4294967295|s>>>27),s=o+(r^i&(t^r))+n[10]+38016083&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^r&(o^t))+n[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=r+(o^t&(i^o))+n[4]+3889429448&4294967295,r=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(r^i))+n[9]+568446438&4294967295,t=r+(s<<5&4294967295|s>>>27),s=o+(r^i&(t^r))+n[14]+3275163606&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^r&(o^t))+n[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=r+(o^t&(i^o))+n[8]+1163531501&4294967295,r=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(r^i))+n[13]+2850285829&4294967295,t=r+(s<<5&4294967295|s>>>27),s=o+(r^i&(t^r))+n[2]+4243563512&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^r&(o^t))+n[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=r+(o^t&(i^o))+n[12]+2368359562&4294967295,s=t+((r=i+(s<<20&4294967295|s>>>12))^i^o)+n[5]+4294588738&4294967295,s=o+((t=r+(s<<4&4294967295|s>>>28))^r^i)+n[8]+2272392833&4294967295,s=i+((o=t+(s<<11&4294967295|s>>>21))^t^r)+n[11]+1839030562&4294967295,s=r+((i=o+(s<<16&4294967295|s>>>16))^o^t)+n[14]+4259657740&4294967295,s=t+((r=i+(s<<23&4294967295|s>>>9))^i^o)+n[1]+2763975236&4294967295,s=o+((t=r+(s<<4&4294967295|s>>>28))^r^i)+n[4]+1272893353&4294967295,s=i+((o=t+(s<<11&4294967295|s>>>21))^t^r)+n[7]+4139469664&4294967295,s=r+((i=o+(s<<16&4294967295|s>>>16))^o^t)+n[10]+3200236656&4294967295,s=t+((r=i+(s<<23&4294967295|s>>>9))^i^o)+n[13]+681279174&4294967295,s=o+((t=r+(s<<4&4294967295|s>>>28))^r^i)+n[0]+3936430074&4294967295,s=i+((o=t+(s<<11&4294967295|s>>>21))^t^r)+n[3]+3572445317&4294967295,s=r+((i=o+(s<<16&4294967295|s>>>16))^o^t)+n[6]+76029189&4294967295,s=t+((r=i+(s<<23&4294967295|s>>>9))^i^o)+n[9]+3654602809&4294967295,s=o+((t=r+(s<<4&4294967295|s>>>28))^r^i)+n[12]+3873151461&4294967295,s=i+((o=t+(s<<11&4294967295|s>>>21))^t^r)+n[15]+530742520&4294967295,s=r+((i=o+(s<<16&4294967295|s>>>16))^o^t)+n[2]+3299628645&4294967295,r=i+(s<<23&4294967295|s>>>9),s=t+(i^(r|~o))+n[0]+4096336452&4294967295,t=r+(s<<6&4294967295|s>>>26),s=o+(r^(t|~i))+n[7]+1126891415&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~r))+n[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=r+(o^(i|~t))+n[5]+4237533241&4294967295,r=i+(s<<21&4294967295|s>>>11),s=t+(i^(r|~o))+n[12]+1700485571&4294967295,t=r+(s<<6&4294967295|s>>>26),s=o+(r^(t|~i))+n[3]+2399980690&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~r))+n[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=r+(o^(i|~t))+n[1]+2240044497&4294967295,r=i+(s<<21&4294967295|s>>>11),s=t+(i^(r|~o))+n[8]+1873313359&4294967295,t=r+(s<<6&4294967295|s>>>26),s=o+(r^(t|~i))+n[15]+4264355552&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~r))+n[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=r+(o^(i|~t))+n[13]+1309151649&4294967295,r=i+(s<<21&4294967295|s>>>11),s=t+(i^(r|~o))+n[4]+4149444226&4294967295,t=r+(s<<6&4294967295|s>>>26),s=o+(r^(t|~i))+n[11]+3174756917&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~r))+n[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=r+(o^(i|~t))+n[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){var r=a;return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}function n(e,t){this.h=t;for(var r=[],n=!0,i=e.length-1;0<=i;i--){var o=0|e[i];n&&o==t||(r[i]=o,n=!1)}this.g=r}(function(e,t){function r(){}r.prototype=t.prototype,e.D=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.C=function(e,r,n){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[r].apply(e,i)}})(e,function(){this.blockSize=-1}),e.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},e.prototype.u=function(e,r){void 0===r&&(r=e.length);for(var n=r-this.blockSize,i=this.B,o=this.h,s=0;s<r;){if(0==o)for(;s<=n;)t(this,e,s),s+=this.blockSize;if("string"==typeof e){for(;s<r;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){t(this,i),o=0;break}}else for(;s<r;)if(i[o++]=e[s++],o==this.blockSize){t(this,i),o=0;break}}this.h=o,this.o+=r},e.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var r=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&r,r/=256;for(this.u(e),e=Array(16),t=r=0;4>t;++t)for(var n=0;32>n;n+=8)e[r++]=this.g[t]>>>n&255;return e};var s,a={};function l(e){return -128<=e&&128>e?r(e,function(e){return new n([0|e],0>e?-1:0)}):new n([0|e],0>e?-1:0)}function u(e){if(isNaN(e)||!isFinite(e))return d;if(0>e)return g(u(-e));for(var t=[],r=1,i=0;e>=r;i++)t[i]=e/r|0,r*=4294967296;return new n(t,0)}function c(e,t){if(0==e.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==e.charAt(0))return g(c(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=u(Math.pow(t,8)),n=d,i=0;i<e.length;i+=8){var o=Math.min(8,e.length-i),s=parseInt(e.substring(i,i+o),t);8>o?(o=u(Math.pow(t,o)),n=n.j(o).add(u(s))):n=(n=n.j(r)).add(u(s))}return n}var d=l(0),h=l(1),p=l(16777216);function f(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function m(e){return -1==e.h}function g(e){for(var t=e.g.length,r=[],i=0;i<t;i++)r[i]=~e.g[i];return new n(r,~e.h).add(h)}function y(e,t){return e.add(g(t))}function v(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function b(e,t){this.g=e,this.h=t}function E(e,t){if(f(t))throw Error("division by zero");if(f(e))return new b(d,d);if(m(e))return t=E(g(e),t),new b(g(t.g),g(t.h));if(m(t))return t=E(e,g(t)),new b(g(t.g),t.h);if(30<e.g.length){if(m(e)||m(t))throw Error("slowDivide_ only works with positive integers.");for(var r=h,n=t;0>=n.l(e);)r=S(r),n=S(n);var i=_(r,1),o=_(n,1);for(n=_(n,2),r=_(r,2);!f(n);){var s=o.add(n);0>=s.l(e)&&(i=i.add(r),o=s),n=_(n,1),r=_(r,1)}return t=y(e,i.j(t)),new b(i,t)}for(i=d;0<=e.l(t);){for(n=48>=(n=Math.ceil(Math.log(r=Math.max(1,Math.floor(e.m()/t.m())))/Math.LN2))?1:Math.pow(2,n-48),s=(o=u(r)).j(t);m(s)||0<s.l(e);)r-=n,s=(o=u(r)).j(t);f(o)&&(o=h),i=i.add(o),e=y(e,s)}return new b(i,e)}function S(e){for(var t=e.g.length+1,r=[],i=0;i<t;i++)r[i]=e.i(i)<<1|e.i(i-1)>>>31;return new n(r,e.h)}function _(e,t){var r=t>>5;t%=32;for(var i=e.g.length-r,o=[],s=0;s<i;s++)o[s]=0<t?e.i(s+r)>>>t|e.i(s+r+1)<<32-t:e.i(s+r);return new n(o,e.h)}(s=n.prototype).m=function(){if(m(this))return-g(this).m();for(var e=0,t=1,r=0;r<this.g.length;r++){var n=this.i(r);e+=(0<=n?n:4294967296+n)*t,t*=4294967296}return e},s.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(f(this))return"0";if(m(this))return"-"+g(this).toString(e);for(var t=u(Math.pow(e,6)),r=this,n="";;){var i=E(r,t).g,o=((0<(r=y(r,i.j(t))).g.length?r.g[0]:r.h)>>>0).toString(e);if(f(r=i))return o+n;for(;6>o.length;)o="0"+o;n=o+n}},s.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},s.l=function(e){return m(e=y(this,e))?-1:f(e)?0:1},s.abs=function(){return m(this)?g(this):this},s.add=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],i=0,o=0;o<=t;o++){var s=i+(65535&this.i(o))+(65535&e.i(o)),a=(s>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=a>>>16,s&=65535,a&=65535,r[o]=a<<16|s}return new n(r,-2147483648&r[r.length-1]?-1:0)},s.j=function(e){if(f(this)||f(e))return d;if(m(this))return m(e)?g(this).j(g(e)):g(g(this).j(e));if(m(e))return g(this.j(g(e)));if(0>this.l(p)&&0>e.l(p))return u(this.m()*e.m());for(var t=this.g.length+e.g.length,r=[],i=0;i<2*t;i++)r[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var s=this.i(i)>>>16,a=65535&this.i(i),l=e.i(o)>>>16,c=65535&e.i(o);r[2*i+2*o]+=a*c,v(r,2*i+2*o),r[2*i+2*o+1]+=s*c,v(r,2*i+2*o+1),r[2*i+2*o+1]+=a*l,v(r,2*i+2*o+1),r[2*i+2*o+2]+=s*l,v(r,2*i+2*o+2)}for(i=0;i<t;i++)r[i]=r[2*i+1]<<16|r[2*i];for(i=t;i<2*t;i++)r[i]=0;return new n(r,0)},s.A=function(e){return E(this,e).h},s.and=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],i=0;i<t;i++)r[i]=this.i(i)&e.i(i);return new n(r,this.h&e.h)},s.or=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],i=0;i<t;i++)r[i]=this.i(i)|e.i(i);return new n(r,this.h|e.h)},s.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],i=0;i<t;i++)r[i]=this.i(i)^e.i(i);return new n(r,this.h^e.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,o=W.Md5=e,n.prototype.add=n.prototype.add,n.prototype.multiply=n.prototype.j,n.prototype.modulo=n.prototype.A,n.prototype.compare=n.prototype.l,n.prototype.toNumber=n.prototype.m,n.prototype.toString=n.prototype.toString,n.prototype.getBits=n.prototype.i,n.fromNumber=u,n.fromString=c,i=W.Integer=n}).apply(void 0!==q?q:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var K=r(1968),Y=r(13716);let Z="@firebase/firestore",J="4.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Q.UNAUTHENTICATED=new Q(null),Q.GOOGLE_CREDENTIALS=new Q("google-credentials-uid"),Q.FIRST_PARTY=new Q("first-party-uid"),Q.MOCK_USER=new Q("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X="10.14.0";function ee(e){X=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(e){return(0,$.inspect)(e,{depth:100})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let er=new G("@firebase/firestore");function en(){return er.logLevel}function ei(e,...t){if(er.logLevel<=n.DEBUG){let r=t.map(ea);er.debug(`Firestore (${X}): ${e}`,...r)}}function eo(e,...t){if(er.logLevel<=n.ERROR){let r=t.map(ea);er.error(`Firestore (${X}): ${e}`,...r)}}function es(e,...t){if(er.logLevel<=n.WARN){let r=t.map(ea);er.warn(`Firestore (${X}): ${e}`,...r)}}function ea(e){if("string"==typeof e)return e;try{return et(e)}catch(t){return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(e="Unexpected state"){let t=`FIRESTORE (${X}) INTERNAL ASSERTION FAILED: `+e;throw eo(t),Error(t)}function eu(e,t){e||el()}function ec(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ed={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class eh extends I{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class em{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Q.UNAUTHENTICATED))}shutdown(){}}class eg{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ey{constructor(e){this.authProvider=e,this.currentUser=Q.UNAUTHENTICATED,this.tokenCounter=0,this.forceRefresh=!1,this.auth=null}start(e,t){eu(void 0===this.tokenListener);let r=this.tokenCounter,n=e=>this.tokenCounter!==r?(r=this.tokenCounter,t(e)):Promise.resolve(),i=new ep;this.tokenListener=()=>{this.tokenCounter++,this.currentUser=this.getUser(),i.resolve(),i=new ep,e.enqueueRetryable(()=>n(this.currentUser))};let o=()=>{let t=i;e.enqueueRetryable(async()=>{await t.promise,await n(this.currentUser)})},s=e=>{ei("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.tokenListener&&(this.auth.addAuthTokenListener(this.tokenListener),o())};this.authProvider.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){let e=this.authProvider.getImmediate({optional:!0});e?s(e):(ei("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ep)}},0),o()}getToken(){let e=this.tokenCounter,t=this.forceRefresh;return(this.forceRefresh=!1,this.auth)?this.auth.getToken(t).then(t=>this.tokenCounter!==e?(ei("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(eu("string"==typeof t.accessToken),new ef(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.tokenListener&&this.auth.removeAuthTokenListener(this.tokenListener),this.tokenListener=void 0}getUser(){let e=this.auth&&this.auth.getUid();return eu(null===e||"string"==typeof e),new Q(e)}}class ev{constructor(e,t,r){this.sessionIndex=e,this.iamToken=t,this.authTokenFactory=r,this.type="FirstParty",this.user=Q.FIRST_PARTY,this._headers=new Map}getAuthToken(){return this.authTokenFactory?this.authTokenFactory():null}get headers(){this._headers.set("X-Goog-AuthUser",this.sessionIndex);let e=this.getAuthToken();return e&&this._headers.set("Authorization",e),this.iamToken&&this._headers.set("X-Goog-Iam-Authorization-Token",this.iamToken),this._headers}}class eb{constructor(e,t,r){this.sessionIndex=e,this.iamToken=t,this.authTokenFactory=r}getToken(){return Promise.resolve(new ev(this.sessionIndex,this.iamToken,this.authTokenFactory))}start(e,t){e.enqueueRetryable(()=>t(Q.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eS{constructor(e){this.appCheckProvider=e,this.forceRefresh=!1,this.appCheck=null,this.latestAppCheckToken=null}start(e,t){eu(void 0===this.tokenListener);let r=e=>{null!=e.error&&ei("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let r=e.token!==this.latestAppCheckToken;return this.latestAppCheckToken=e.token,ei("FirebaseAppCheckTokenProvider",`Received ${r?"new":"existing"} token.`),r?t(e.token):Promise.resolve()};this.tokenListener=t=>{e.enqueueRetryable(()=>r(t))};let n=e=>{ei("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.tokenListener&&this.appCheck.addTokenListener(this.tokenListener)};this.appCheckProvider.onInit(e=>n(e)),setTimeout(()=>{if(!this.appCheck){let e=this.appCheckProvider.getImmediate({optional:!0});e?n(e):ei("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return(this.forceRefresh=!1,this.appCheck)?this.appCheck.getToken(e).then(e=>e?(eu("string"==typeof e.token),this.latestAppCheckToken=e.token,new eE(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.tokenListener&&this.appCheck.removeTokenListener(this.tokenListener),this.tokenListener=void 0}}function e_(e){if(!e)return new em;switch(e.type){case"firstParty":return new eb(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new eh(ed.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(e){return(0,H.randomBytes)(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="",n=20;for(;r.length<n;){let i=eT(40);for(let o=0;o<i.length;++o)r.length<n&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function eC(e,t){return e<t?-1:e>t?1:0}function ew(e,t,r){return e.length===t.length&&e.every((e,n)=>r(e,t[n]))}function eO(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eR=-62135596800,ex=1e6;class eI{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new eh(ed.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<eR||e>=253402300800)throw new eh(ed.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return eI.fromMillis(Date.now())}static fromDate(e){return eI.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*ex);return new eI(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ex}_compareTo(e){return this.seconds===e.seconds?eC(this.nanoseconds,e.nanoseconds):eC(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds-eR).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.timestamp=e}static fromTimestamp(e){return new eD(e)}static min(){return new eD(new eI(0,0))}static max(){return new eD(new eI(253402300799,1e9-1))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eP="__name__";class eN{constructor(e,t,r){void 0===t?t=0:t>e.length&&el(),void 0===r?r=e.length-t:r>e.length-t&&el(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===eN.comparator(this,e)}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof eN?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let n=0;n<r;n++){let r=e.get(n),i=t.get(n);if(r<i)return -1;if(r>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ek extends eN{construct(e,t,r){return new ek(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new eh(ed.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(e=>e.length>0))}return new ek(t)}static emptyPath(){return new ek([])}}let eM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class eL extends eN{construct(e,t,r){return new eL(e,t,r)}static isValidIdentifier(e){return eM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),eL.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===eP}static keyField(){return new eL([eP])}static fromServerFormat(e){let t=[],r="",n=0,i=()=>{if(0===r.length)throw new eh(ed.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;n<e.length;){let t=e[n];if("\\"===t){if(n+1===e.length)throw new eh(ed.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let t=e[n+1];if(!("\\"===t||"."===t||"`"===t))throw new eh(ed.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=t,n+=2}else"`"===t?o=!o:"."!==t||o?r+=t:i(),n++}if(i(),o)throw new eh(ed.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new eL(t)}static emptyPath(){return new eL([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e){this.path=e}static fromPath(e){return new eB(ek.fromString(e))}static fromName(e){return new eB(ek.fromString(e).popFirst(5))}static empty(){return new eB(ek.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ek.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ek.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new eB(new ek(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ej=-1,eF=0;class eU{constructor(e,t,r,n){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=n}}function eV(e){return e.fields.find(e=>2===e.kind)}function ez(e){return e.fields.filter(e=>2!==e.kind)}function eG(e){let t=ez(e);return 0===t.length?0:t[t.length-1].kind}function e$(e,t){let r=eC(e.collectionGroup,t.collectionGroup);if(0!==r)return r;for(let n=0;n<Math.min(e.fields.length,t.fields.length);++n)if(0!==(r=eW(e.fields[n],t.fields[n])))return r;return eC(e.fields.length,t.fields.length)}function eH(e){return`id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map(e=>`${e.fieldPath}:${e.kind}`).join(",")}`}eU.UNKNOWN_ID=-1;class eq{constructor(e,t){this.fieldPath=e,this.kind=t}}function eW(e,t){let r=eL.comparator(e.fieldPath,t.fieldPath);return 0!==r?r:eC(e.kind,t.kind)}class eK{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new eK(eF,eJ.min())}}function eY(e,t){let r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1;return new eJ(eD.fromTimestamp(1e9===n?new eI(r+1,0):new eI(r,n)),eB.empty(),t)}function eZ(e){return new eJ(e.readTime,e.key,ej)}class eJ{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new eJ(eD.min(),eB.empty(),ej)}static max(){return new eJ(eD.max(),eB.empty(),ej)}}function eQ(e,t){let r=e.readTime.compareTo(t.readTime);return 0!==r||0!==(r=eB.comparator(e.documentKey,t.documentKey))?r:eC(e.largestBatchId,t.largestBatchId)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e1(e){if(e.code===ed.FAILED_PRECONDITION&&e.message===eX)ei("LocalStore","Unexpectedly lost primary lease");else throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return(this.callbackAttached&&el(),this.callbackAttached=!0,this.isDone)?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new e2((r,n)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(r,n)},this.catchCallback=e=>{this.wrapFailure(t,e).next(r,n)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();if(t instanceof e2)return t;return e2.resolve(t)}catch(e){return e2.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):e2.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):e2.reject(t)}static resolve(e){return new e2((t,r)=>{t(e)})}static reject(e){return new e2((t,r)=>{r(e)})}static waitFor(e){return new e2((t,r)=>{let n=0,i=0,o=!1;e.forEach(e=>{++n,e.next(()=>{++i,o&&i===n&&t()},e=>r(e))}),o=!0,i===n&&t()})}static or(e){let t=e2.resolve(!1);for(let r of e)t=t.next(e=>e?e2.resolve(e):r());return t}static forEach(e,t){let r=[];return e.forEach((e,n)=>{r.push(t.call(this,e,n))}),this.waitFor(r)}static mapArray(e,t){return new e2((r,n)=>{let i=e.length,o=Array(i),s=0;for(let a=0;a<i;a++){let l=a;t(e[l]).next(e=>{o[l]=e,++s===i&&r(o)},e=>n(e))}})}static doWhile(e,t){return new e2((r,n)=>{let i=()=>{!0===e()?t().next(()=>{i()},n):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e3="SimpleDb",e6=3;class e4{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.completionDeferred=new ep,this.transaction.oncomplete=()=>{this.completionDeferred.resolve()},this.transaction.onabort=()=>{t.error?this.completionDeferred.reject(new e9(e,t.error)):this.completionDeferred.resolve()},this.transaction.onerror=t=>{let r=ti(t.target.error);this.completionDeferred.reject(new e9(e,r))}}static open(e,t,r,n){try{return new e4(t,e.transaction(n,r))}catch(e){throw new e9(t,e)}}get completionPromise(){return this.completionDeferred.promise}abort(e){e&&this.completionDeferred.reject(e),this.aborted||(ei(e3,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}maybeCommit(){let e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){return new tt(this.transaction.objectStore(e))}}class e5{constructor(e,t,r){this.name=e,this.version=t,this.schemaConverter=r,12.2===e5.getIOSVersion(C())&&eo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ei(e3,"Removing database:",e),tr(window.indexedDB.deleteDatabase(e)).toPromise()}static isAvailable(){if(!R())return!1;if(e5.isMockPersistence())return!0;let e=C(),t=e5.getIOSVersion(e),r=0<t&&t<10,n=e8(e),i=0<n&&n<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0)&&!r&&!i}static isMockPersistence(){var e;return"undefined"!=typeof process&&(null===(e=process.env)||void 0===e?void 0:e.USE_MOCK_PERSISTENCE)==="YES"}static getStore(e,t){return e.store(t)}static getIOSVersion(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i);return Number(t?t[1].split("_").slice(0,2).join("."):"-1")}async ensureDb(e){return this.db||(ei(e3,"Opening database:",this.name),this.db=await new Promise((t,r)=>{let n=indexedDB.open(this.name,this.version);n.onsuccess=e=>{t(e.target.result)},n.onblocked=()=>{r(new e9(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},n.onerror=t=>{let n=t.target.error;"VersionError"===n.name?r(new eh(ed.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new eh(ed.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new e9(e,n))},n.onupgradeneeded=e=>{ei(e3,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);let t=e.target.result;this.schemaConverter.createOrUpgrade(t,n.transaction,e.oldVersion,this.version).next(()=>{ei(e3,"Database upgrade to version "+this.version+" complete")})}})),this.versionchangelistener&&(this.db.onversionchange=e=>this.versionchangelistener(e)),this.db}setVersionChangeListener(e){this.versionchangelistener=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,n){let i="readonly"===t,o=0;for(;;){++o;try{this.db=await this.ensureDb(e);let t=e4.open(this.db,e,i?"readonly":"readwrite",r),o=n(t).next(e=>(t.maybeCommit(),e)).catch(e=>(t.abort(e),e2.reject(e))).toPromise();return o.catch(()=>{}),await t.completionPromise,o}catch(r){let e=r,t="FirebaseError"!==e.name&&o<e6;if(ei(e3,"Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}function e8(e){let t=e.match(/Android ([\d.]+)/i);return Number(t?t[1].split(".").slice(0,2).join("."):"-1")}class e7{constructor(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}get isDone(){return this.shouldStop}get skipToKey(){return this.nextKey}set cursor(e){this.dbCursor=e}done(){this.shouldStop=!0}skip(e){this.nextKey=e}delete(){return tr(this.dbCursor.delete())}}class e9 extends eh{constructor(e,t){super(ed.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function te(e){return"IndexedDbTransactionError"===e.name}class tt{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ei(e3,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(ei(e3,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),tr(r)}add(e){return ei(e3,"ADD",this.store.name,e,e),tr(this.store.add(e))}get(e){return tr(this.store.get(e)).next(t=>(void 0===t&&(t=null),ei(e3,"GET",this.store.name,e,t),t))}delete(e){return ei(e3,"DELETE",this.store.name,e),tr(this.store.delete(e))}count(){return ei(e3,"COUNT",this.store.name),tr(this.store.count())}loadAll(e,t){let r=this.options(e,t),n=r.index?this.store.index(r.index):this.store;if("function"==typeof n.getAll){let e=n.getAll(r.range);return new e2((t,r)=>{e.onerror=e=>{r(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}{let e=this.cursor(r),t=[];return this.iterateCursor(e,(e,r)=>{t.push(r)}).next(()=>t)}}loadFirst(e,t){let r=this.store.getAll(e,null===t?void 0:t);return new e2((e,t)=>{r.onerror=e=>{t(e.target.error)},r.onsuccess=t=>{e(t.target.result)}})}deleteAll(e,t){ei(e3,"DELETE ALL",this.store.name);let r=this.options(e,t);r.keysOnly=!1;let n=this.cursor(r);return this.iterateCursor(n,(e,t,r)=>r.delete())}iterate(e,t){let r;t?r=e:(r={},t=e);let n=this.cursor(r);return this.iterateCursor(n,t)}iterateSerial(e){let t=this.cursor({});return new e2((r,n)=>{t.onerror=e=>{n(ti(e.target.error))},t.onsuccess=t=>{let n=t.target.result;if(!n){r();return}e(n.primaryKey,n.value).next(e=>{e?n.continue():r()})}})}iterateCursor(e,t){let r=[];return new e2((n,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{let i=e.target.result;if(!i){n();return}let o=new e7(i),s=t(i.primaryKey,i.value,o);if(s instanceof e2){let e=s.catch(e=>(o.done(),e2.reject(e)));r.push(e)}o.isDone?n():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}}).next(()=>e2.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),!e.index)return this.store.openCursor(e.range,t);{let r=this.store.index(e.index);return e.keysOnly?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}}}function tr(e){return new e2((t,r)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{r(ti(e.target.error))}})}let tn=!1;function ti(e){let t=e5.getIOSVersion(C());if(t>=12.2&&t<13){let t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){let e=new eh("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return tn||(tn=!0,setTimeout(()=>{throw e},0)),e}}return e}let to="IndexBackfiller",ts=15e3,ta=6e4,tl=50;class tu{constructor(e,t){this.asyncQueue=e,this.backfiller=t,this.task=null}start(){this.schedule(ts)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}schedule(e){ei(to,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{let e=await this.backfiller.backfill();ei(to,`Documents written: ${e}`)}catch(e){te(e)?ei(to,"Ignoring IndexedDB error during index backfill: ",e):await e1(e)}await this.schedule(ta)})}}class tc{constructor(e,t){this.localStore=e,this.persistence=t}async backfill(e=tl){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.writeIndexEntries(t,e))}writeIndexEntries(e,t){let r=new Set,n=t,i=!0;return e2.doWhile(()=>!0===i&&n>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(!(null===t||r.has(t)))return ei(to,`Processing collection: ${t}`),this.writeEntriesForCollectionGroup(e,t,n).next(e=>{n-=e,r.add(t)});i=!1})).next(()=>t-n)}writeEntriesForCollectionGroup(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(n=>this.localStore.localDocuments.getNextDocuments(e,t,n,r).next(r=>{let i=r.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next(()=>this.getNewOffset(n,r)).next(r=>(ei(to,`Updating offset: ${r}`),this.localStore.indexManager.updateCollectionGroup(e,t,r))).next(()=>i.size)}))}getNewOffset(e,t){let r=e;return t.changes.forEach((e,t)=>{let n=eZ(t);eQ(n,r)>0&&(r=n)}),new eJ(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.setPreviousValue(e),this.writeNewSequenceNumber=e=>t.writeSequenceNumber(e))}setPreviousValue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(e),e}}td.INVALID=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th="\x01",tp="\x01",tf="\x10",tm="\x11";function tg(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=tv(t)),t=ty(e.get(r),t);return tv(t)}function ty(e,t){let r=t,n=e.length;for(let t=0;t<n;t++){let n=e.charAt(t);switch(n){case"\0":r+=th+tf;break;case th:r+=th+tm;break;default:r+=n}}return r}function tv(e){return e+th+tp}function tb(e){let t=e.length;if(eu(t>=2),2===t)return eu(e.charAt(0)===th&&e.charAt(1)===tp),ek.emptyPath();let r=t-2,n=[],i="";for(let o=0;o<t;){let t=e.indexOf(th,o);switch((t<0||t>r)&&el(),e.charAt(t+1)){case tp:let s;let a=e.substring(o,t);0===i.length?s=a:(i+=a,s=i,i=""),n.push(s);break;case tf:i+=e.substring(o,t)+"\0";break;case tm:i+=e.substring(o,t+1);break;default:el()}o=t+2}return new ek(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tE="remoteDocuments",tS="owner",t_="owner",tT="mutationQueues",tA="userId",tC="mutations",tw="batchId",tO="userMutationsIndex",tR=["userId","batchId"];function tx(e){return[e]}function tI(e,t){return[e,tg(t)]}function tD(e,t,r){return[e,tg(t),r]}let tP={},tN="documentMutations",tk="remoteDocumentsV14",tM=["prefixPath","collectionGroup","readTime","documentId"],tL="documentKeyIndex",tB=["prefixPath","collectionGroup","documentId"],tj="collectionGroupIndex",tF=["collectionGroup","readTime","prefixPath","documentId"],tU="remoteDocumentGlobal",tV="remoteDocumentGlobalKey",tz="targets",tG="targetId",t$="queryTargetsIndex",tH=["canonicalId","targetId"],tq="targetDocuments",tW=["targetId","path"],tK="documentTargetsIndex",tY=["path","targetId"],tZ="targetGlobalKey",tJ="targetGlobal",tQ="collectionParents",tX=["collectionId","parent"],t0="clientMetadata",t1="clientId",t2="bundles",t3="bundleId",t6="namedQueries",t4="name",t5="indexConfiguration",t8="indexId",t7="collectionGroupIndex",t9="collectionGroup",re="indexState",rt=["indexId","uid"],rr="sequenceNumberIndex",rn=["uid","sequenceNumber"],ri="indexEntries",ro=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],rs="documentKeyIndex",ra=["indexId","uid","orderedDocumentKey"],rl="documentOverlays",ru=["userId","collectionPath","documentId"],rc="collectionPathOverlayIndex",rd=["userId","collectionPath","largestBatchId"],rh="collectionGroupOverlayIndex",rp=["userId","collectionGroup","largestBatchId"],rf="globals",rm="name",rg=[tT,tC,tN,tE,tz,tS,tJ,tq,t0,tU,tQ,t2,t6],ry=[...rg,rl],rv=[tT,tC,tN,tk,tz,tS,tJ,tq,t0,tU,tQ,t2,t6,rl],rb=rv,rE=[...rb,t5,re,ri],rS=rE,r_=[...rE,rf];function rT(e){return 17===e?r_:16===e?rS:15===e?rE:14===e?rb:13===e?rv:12===e?ry:11===e?rg:void el()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA extends e0{constructor(e,t){super(),this.simpleDbTransaction=e,this.currentSequenceNumber=t}}function rC(e,t){let r=ec(e);return e5.getStore(r.simpleDbTransaction,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function rO(e,t){for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function rR(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,t){this.comparator=e,this.root=t||rD.EMPTY}insert(e,t){return new rx(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rD.BLACK,null,null))}remove(e){return new rx(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rD.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let n=this.comparator(e,r.key);if(0===n)return t+r.left.size;n<0?r=r.left:(t+=r.left.size+1,r=r.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rI(this.root,e,this.comparator,!1)}getReverseIterator(){return new rI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rI(this.root,e,this.comparator,!0)}}class rI{constructor(e,t,r,n){this.isReverse=n,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&n&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else if(0===i){this.nodeStack.push(e);break}else this.nodeStack.push(e),e=this.isReverse?e.right:e.left}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rD{constructor(e,t,r,n,i){this.key=e,this.value=t,this.color=null!=r?r:rD.RED,this.left=null!=n?n:rD.EMPTY,this.right=null!=i?i:rD.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,n,i){return new rD(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=n?n:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let n=this,i=r(e,n.key);return(n=i<0?n.copy(null,null,null,n.left.insert(e,t,r),null):0===i?n.copy(null,t,null,null,null):n.copy(null,null,null,null,n.right.insert(e,t,r))).fixUp()}removeMin(){if(this.left.isEmpty())return rD.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,t){let r;let n=this;if(0>t(e,n.key))n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===t(e,n.key)){if(n.right.isEmpty())return rD.EMPTY;r=n.right.min(),n=n.copy(r.key,r.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}rotateLeft(){let e=this.copy(null,null,rD.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,rD.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return Math.pow(2,this.check())<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw el();let e=this.left.check();if(e===this.right.check())return e+(this.isRed()?0:1);throw el()}}rD.EMPTY=null,rD.RED=!0,rD.BLACK=!1;class rP{constructor(){this.size=0}get key(){throw el()}get value(){throw el()}get color(){throw el()}get left(){throw el()}get right(){throw el()}copy(e,t,r,n,i){return this}insert(e,t,r){return new rD(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}}rD.EMPTY=new rP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.comparator=e,this.data=new rx(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let n=r.getNext();if(this.comparator(n.key,e[1])>=0)return;t(n.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rk(this.data.getIterator())}getIteratorFrom(e){return new rk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof rN)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let e=t.getNext().key,n=r.getNext().key;if(0!==this.comparator(e,n))return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new rN(this.comparator);return t.data=e,t}}class rk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function rM(e,t,r,n,i){let o=e.getIterator(),s=t.getIterator(),a=rL(o),l=rL(s);for(;a||l;){let e=!1,t=!1;if(a&&l){let n=r(a,l);n<0?t=!0:n>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(n(l),l=rL(s)):t?(i(a),a=rL(o)):(a=rL(o),l=rL(s))}}function rL(e){return e.hasNext()?e.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e){this.fields=e,e.sort(eL.comparator)}static empty(){return new rB([])}unionWith(e){let t=new rN(eL.comparator);for(let e of this.fields)t=t.add(e);for(let r of e)t=t.add(r);return new rB(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ew(this.fields,e.fields,(e,t)=>e.isEqual(t))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(e){return Buffer.from(e,"base64").toString("binary")}function rF(e){return Buffer.from(e,"binary").toString("base64")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e){this.binaryString=e}static fromBase64String(e){return new rU(rj(e))}static fromUint8Array(e){return new rU(rV(e))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return rF(this.binaryString)}toUint8Array(){return rz(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return eC(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function rV(e){let t="";for(let r=0;r<e.length;++r)t+=String.fromCharCode(e[r]);return t}function rz(e){let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}rU.EMPTY_BYTE_STRING=new rU("");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function r$(e){if(eu(!!e),"string"==typeof e){let t=0,r=rG.exec(e);if(eu(!!r),r[1]){let e=r[1];t=Number(e=(e+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(e).getTime()/1e3),nanos:t}}return{seconds:rH(e.seconds),nanos:rH(e.nanos)}}function rH(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function rq(e){return"string"==typeof e?rU.fromBase64String(e):rU.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rW="server_timestamp",rK="__type__",rY="__previous_value__",rZ="__local_write_time__";function rJ(e){var t,r;return(null===(r=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[rK])||void 0===r?void 0:r.stringValue)===rW}function rQ(e,t){let r={fields:{[rK]:{stringValue:rW},[rZ]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&rJ(t)&&(t=rX(t)),t&&(r.fields[rY]=t),{mapValue:r}}function rX(e){let t=e.mapValue.fields[rY];return rJ(t)?rX(t):t}function r0(e){let t=r$(e.mapValue.fields[rZ].timestampValue);return new eI(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,t,r,n,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=n,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}let r2="(default)";class r3{constructor(e,t){this.projectId=e,this.database=t||r2}static empty(){return new r3("","")}get isDefaultDatabase(){return this.database===r2}isEqual(e){return e instanceof r3&&e.projectId===this.projectId&&e.database===this.database}}function r6(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new eh(ed.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new r3(e.options.projectId,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r4=-1;function r5(e){return null==e}function r8(e){return 0===e&&1/e==-1/0}function r7(e){return"number"==typeof e&&Number.isInteger(e)&&!r8(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r9="__type__",ne="__max__",nt={mapValue:{fields:{__type__:{stringValue:ne}}}},nr="__vector__",nn="value",ni={nullValue:"NULL_VALUE"};function no(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?rJ(e)?4:nG(e)?9007199254740991:nV(e)?10:11:el()}function ns(e,t){if(e===t)return!0;let r=no(e);if(r!==no(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return r0(e).isEqual(r0(t));case 3:return na(e,t);case 5:return e.stringValue===t.stringValue;case 6:return nu(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return nl(e,t);case 2:return nc(e,t);case 9:return ew(e.arrayValue.values||[],t.arrayValue.values||[],ns);case 10:case 11:return nd(e,t);default:return el()}}function na(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let r=r$(e.timestampValue),n=r$(t.timestampValue);return r.seconds===n.seconds&&r.nanos===n.nanos}function nl(e,t){return rH(e.geoPointValue.latitude)===rH(t.geoPointValue.latitude)&&rH(e.geoPointValue.longitude)===rH(t.geoPointValue.longitude)}function nu(e,t){return rq(e.bytesValue).isEqual(rq(t.bytesValue))}function nc(e,t){if("integerValue"in e&&"integerValue"in t)return rH(e.integerValue)===rH(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){let r=rH(e.doubleValue),n=rH(t.doubleValue);return r===n?r8(r)===r8(n):isNaN(r)&&isNaN(n)}return!1}function nd(e,t){let r=e.mapValue.fields||{},n=t.mapValue.fields||{};if(rw(r)!==rw(n))return!1;for(let e in r)if(r.hasOwnProperty(e)&&(void 0===n[e]||!ns(r[e],n[e])))return!1;return!0}function nh(e,t){return void 0!==(e.values||[]).find(e=>ns(e,t))}function np(e,t){if(e===t)return 0;let r=no(e),n=no(t);if(r!==n)return eC(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return eC(e.booleanValue,t.booleanValue);case 2:return nf(e,t);case 3:return nm(e.timestampValue,t.timestampValue);case 4:return nm(r0(e),r0(t));case 5:return eC(e.stringValue,t.stringValue);case 6:return nv(e.bytesValue,t.bytesValue);case 7:return ng(e.referenceValue,t.referenceValue);case 8:return ny(e.geoPointValue,t.geoPointValue);case 9:return nb(e.arrayValue,t.arrayValue);case 10:return nE(e.mapValue,t.mapValue);case 11:return nS(e.mapValue,t.mapValue);default:throw el()}}function nf(e,t){let r=rH(e.integerValue||e.doubleValue),n=rH(t.integerValue||t.doubleValue);return r<n?-1:r>n?1:r===n?0:isNaN(r)?isNaN(n)?0:-1:1}function nm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return eC(e,t);let r=r$(e),n=r$(t),i=eC(r.seconds,n.seconds);return 0!==i?i:eC(r.nanos,n.nanos)}function ng(e,t){let r=e.split("/"),n=t.split("/");for(let e=0;e<r.length&&e<n.length;e++){let t=eC(r[e],n[e]);if(0!==t)return t}return eC(r.length,n.length)}function ny(e,t){let r=eC(rH(e.latitude),rH(t.latitude));return 0!==r?r:eC(rH(e.longitude),rH(t.longitude))}function nv(e,t){let r=rq(e),n=rq(t);return r.compareTo(n)}function nb(e,t){let r=e.values||[],n=t.values||[];for(let e=0;e<r.length&&e<n.length;++e){let t=np(r[e],n[e]);if(t)return t}return eC(r.length,n.length)}function nE(e,t){var r,n,i,o;let s=e.fields||{},a=t.fields||{},l=null===(r=s[nn])||void 0===r?void 0:r.arrayValue,u=null===(n=a[nn])||void 0===n?void 0:n.arrayValue,c=eC((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==u?void 0:u.values)||void 0===o?void 0:o.length)||0);return 0!==c?c:nb(l,u)}function nS(e,t){if(e===nt.mapValue&&t===nt.mapValue)return 0;if(e===nt.mapValue)return 1;if(t===nt.mapValue)return -1;let r=e.fields||{},n=Object.keys(r),i=t.fields||{},o=Object.keys(i);n.sort(),o.sort();for(let e=0;e<n.length&&e<o.length;++e){let t=eC(n[e],o[e]);if(0!==t)return t;let s=np(r[n[e]],i[o[e]]);if(0!==s)return s}return eC(n.length,o.length)}function n_(e){return nT(e)}function nT(e){if("nullValue"in e)return"null";if("booleanValue"in e)return""+e.booleanValue;if("integerValue"in e)return""+e.integerValue;if("doubleValue"in e)return""+e.doubleValue;if("timestampValue"in e)return nC(e.timestampValue);if("stringValue"in e)return e.stringValue;if("bytesValue"in e)return nA(e.bytesValue);else if("referenceValue"in e)return nO(e.referenceValue);else if("geoPointValue"in e)return nw(e.geoPointValue);else if("arrayValue"in e)return nx(e.arrayValue);else if("mapValue"in e)return nR(e.mapValue);else return el()}function nA(e){return rq(e).toBase64()}function nC(e){let t=r$(e);return`time(${t.seconds},${t.nanos})`}function nw(e){return`geo(${e.latitude},${e.longitude})`}function nO(e){return eB.fromName(e).toString()}function nR(e){let t=Object.keys(e.fields||{}).sort(),r="{",n=!0;for(let i of t)n?n=!1:r+=",",r+=`${i}:${nT(e.fields[i])}`;return r+"}"}function nx(e){let t="[",r=!0;for(let n of e.values||[])r?r=!1:t+=",",t+=nT(n);return t+"]"}function nI(e){switch(no(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let t=rX(e);return t?16+nI(t):16;case 5:return 2*e.stringValue.length;case 6:return rq(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return nP(e.arrayValue);case 10:case 11:return nD(e.mapValue);default:throw el()}}function nD(e){let t=0;return rO(e.fields,(e,r)=>{t+=e.length+nI(r)}),t}function nP(e){return(e.values||[]).reduce((e,t)=>e+nI(t),0)}function nN(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function nk(e){return!!e&&"integerValue"in e}function nM(e){return!!e&&"doubleValue"in e}function nL(e){return nk(e)||nM(e)}function nB(e){return!!e&&"arrayValue"in e}function nj(e){return!!e&&"nullValue"in e}function nF(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function nU(e){return!!e&&"mapValue"in e}function nV(e){var t,r;return(null===(r=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[r9])||void 0===r?void 0:r.stringValue)===nr}function nz(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){let t={mapValue:{fields:{}}};return rO(e.mapValue.fields,(e,r)=>t.mapValue.fields[e]=nz(r)),t}{if(!e.arrayValue)return Object.assign({},e);let t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=nz(e.arrayValue.values[r]);return t}}function nG(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===ne}let n$={mapValue:{fields:{[r9]:{stringValue:nr},[nn]:{arrayValue:{}}}}};function nH(e){if("nullValue"in e)return ni;if("booleanValue"in e)return{booleanValue:!1};if("integerValue"in e||"doubleValue"in e)return{doubleValue:NaN};if("timestampValue"in e)return{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}};if("stringValue"in e)return{stringValue:""};if("bytesValue"in e)return{bytesValue:""};if("referenceValue"in e)return nN(r3.empty(),eB.empty());else if("geoPointValue"in e)return{geoPointValue:{latitude:-90,longitude:-180}};else if("arrayValue"in e)return{arrayValue:{}};else if(!("mapValue"in e))return el();else return nV(e)?n$:{mapValue:{}}}function nq(e){if("nullValue"in e)return{booleanValue:!1};if("booleanValue"in e)return{doubleValue:NaN};if("integerValue"in e||"doubleValue"in e)return{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}};if("timestampValue"in e)return{stringValue:""};if("stringValue"in e)return{bytesValue:""};if("bytesValue"in e)return nN(r3.empty(),eB.empty());if("referenceValue"in e)return{geoPointValue:{latitude:-90,longitude:-180}};else if("geoPointValue"in e)return{arrayValue:{}};else if("arrayValue"in e)return n$;else if(!("mapValue"in e))return el();else return nV(e)?{mapValue:{}}:nt}function nW(e,t){let r=np(e.value,t.value);return 0!==r?r:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function nK(e,t){let r=np(e.value,t.value);return 0!==r?r:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nY{constructor(e){this.value=e}static empty(){return new nY({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(!nU(t=(t.mapValue.fields||{})[e.get(r)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nz(t)}setAll(e){let t=eL.emptyPath(),r={},n=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,r,n),r={},n=[],t=i.popLast()}e?r[i.lastSegment()]=nz(e):n.push(i.lastSegment())});let i=this.getFieldsMap(t);this.applyChanges(i,r,n)}delete(e){let t=this.field(e.popLast());nU(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ns(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let n=t.mapValue.fields[e.get(r)];nU(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=n),t=n}return t.mapValue.fields}applyChanges(e,t,r){for(let n of(rO(t,(t,r)=>e[t]=r),r))delete e[n]}clone(){return new nY(nz(this.value))}}function nZ(e){let t=[];return rO(e.fields,(e,r)=>{let n=new eL([e]);if(nU(r)){let e=nZ(r.mapValue).fields;if(0===e.length)t.push(n);else for(let r of e)t.push(n.child(r))}else t.push(n)}),new rB(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nJ{constructor(e,t,r,n,i,o,s){this.key=e,this.documentType=t,this.version=r,this.readTime=n,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new nJ(e,0,eD.min(),eD.min(),eD.min(),nY.empty(),0)}static newFoundDocument(e,t,r,n){return new nJ(e,1,t,eD.min(),r,n,0)}static newNoDocument(e,t){return new nJ(e,2,t,eD.min(),eD.min(),nY.empty(),0)}static newUnknownDocument(e,t){return new nJ(e,3,t,eD.min(),eD.min(),nY.empty(),2)}convertToFoundDocument(e,t){return this.createTime.isEqual(eD.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nY.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nY.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=eD.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof nJ&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nJ(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function nQ(e,t,r){let n=t.data.field(e),i=r.data.field(e);return null!==n&&null!==i?np(n,i):el()}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nX{constructor(e,t){this.position=e,this.inclusive=t}}function n0(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){let o=t[i],s=e.position[i];if(n=o.field.isKeyField()?eB.comparator(eB.fromName(s.referenceValue),r.key):np(s,r.data.field(o.field)),"desc"===o.dir&&(n*=-1),0!==n)break}return n}function n1(e,t,r){let n=n0(e,t,r);return e.inclusive?n>=0:n>0}function n2(e,t,r){let n=n0(e,t,r);return e.inclusive?n<=0:n<0}function n3(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!ns(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,t="asc"){this.field=e,this.dir=t}}function n4(e){return e.field.canonicalString()+e.dir}function n5(e){return`${e.field.canonicalString()} (${e.dir})`}function n8(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{}class n9 extends n7{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new im(e,t,r):"array-contains"===t?new ib(e,r):"in"===t?new iE(e,r):"not-in"===t?new iS(e,r):"array-contains-any"===t?new i_(e,r):new n9(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new ig(e,r):new iy(e,r)}matches(e){let t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(np(t,this.value)):null!==t&&no(this.value)===no(t)&&this.matchesComparison(np(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return el()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ie extends n7{constructor(e,t){super(),this.filters=e,this.op=t,this.memoizedFlattenedFilters=null}static create(e,t){return new ie(e,t)}matches(e){return it(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.memoizedFlattenedFilters||(this.memoizedFlattenedFilters=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.memoizedFlattenedFilters}getFilters(){return Object.assign([],this.filters)}}function it(e){return"and"===e.op}function ir(e){return"or"===e.op}function ii(e){return io(e)&&it(e)}function io(e){for(let t of e.filters)if(t instanceof ie)return!1;return!0}function is(e){if(e instanceof n9)return e.field.canonicalString()+e.op.toString()+n_(e.value);if(ii(e))return e.filters.map(e=>is(e)).join(",");{let t=e.filters.map(e=>is(e)).join(",");return`${e.op}(${t})`}}function ia(e,t){return e instanceof n9?il(e,t):e instanceof ie?iu(e,t):void el()}function il(e,t){return t instanceof n9&&e.op===t.op&&e.field.isEqual(t.field)&&ns(e.value,t.value)}function iu(e,t){return t instanceof ie&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,r,n)=>e&&ia(r,t.filters[n]),!0)}function ic(e,t){let r=e.filters.concat(t);return ie.create(r,e.op)}function id(e){return e instanceof n9?ip(e):e instanceof ie?ih(e):"Filter"}function ih(e){return e.op.toString()+" {"+e.getFilters().map(id).join(" ,")+"}"}function ip(e){return`${e.field.canonicalString()} ${e.op} ${n_(e.value)}`}class im extends n9{constructor(e,t,r){super(e,t,r),this.key=eB.fromName(r.referenceValue)}matches(e){let t=eB.comparator(e.key,this.key);return this.matchesComparison(t)}}class ig extends n9{constructor(e,t){super(e,"in",t),this.keys=iv("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class iy extends n9{constructor(e,t){super(e,"not-in",t),this.keys=iv("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function iv(e,t){var r;return((null===(r=t.arrayValue)||void 0===r?void 0:r.values)||[]).map(e=>eB.fromName(e.referenceValue))}class ib extends n9{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return nB(t)&&nh(t.arrayValue,this.value)}}class iE extends n9{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return null!==t&&nh(this.value.arrayValue,t)}}class iS extends n9{constructor(e,t){super(e,"not-in",t)}matches(e){if(nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return null!==t&&!nh(this.value.arrayValue,t)}}class i_ extends n9{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!!nB(t)&&!!t.arrayValue.values&&t.arrayValue.values.some(e=>nh(this.value.arrayValue,e))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,t=null,r=[],n=[],i=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=n,this.limit=i,this.startAt=o,this.endAt=s,this.memoizedCanonicalId=null}}function iA(e,t=null,r=[],n=[],i=null,o=null,s=null){return new iT(e,t,r,n,i,o,s)}function iC(e){let t=ec(e);if(null===t.memoizedCanonicalId){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:"+t.filters.map(e=>is(e)).join(",")+"|ob:"+t.orderBy.map(e=>n4(e)).join(","),r5(t.limit)||(e+="|l:"+t.limit),t.startAt&&(e+="|lb:"+(t.startAt.inclusive?"b:":"a:")+t.startAt.position.map(e=>n_(e)).join(",")),t.endAt&&(e+="|ub:"+(t.endAt.inclusive?"a:":"b:")+t.endAt.position.map(e=>n_(e)).join(",")),t.memoizedCanonicalId=e}return t.memoizedCanonicalId}function iw(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>id(e)).join(", ")}]`),r5(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>n5(e)).join(", ")}]`),e.startAt&&(t+=", startAt: "+(e.startAt.inclusive?"b:":"a:")+e.startAt.position.map(e=>n_(e)).join(",")),e.endAt&&(t+=", endAt: "+(e.endAt.inclusive?"a:":"b:")+e.endAt.position.map(e=>n_(e)).join(",")),`Target(${t})`}function iO(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!n8(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!ia(e.filters[r],t.filters[r]))return!1;return!!(e.collectionGroup===t.collectionGroup&&e.path.isEqual(t.path)&&n3(e.startAt,t.startAt))&&n3(e.endAt,t.endAt)}function iR(e){return eB.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function ix(e,t){return e.filters.filter(e=>e instanceof n9&&e.field.isEqual(t))}function iI(e,t){let r=eV(t);if(void 0===r)return null;for(let t of ix(e,r.fieldPath))switch(t.op){case"array-contains-any":return t.value.arrayValue.values||[];case"array-contains":return[t.value]}return null}function iD(e,t){let r=new Map;for(let n of ez(t))for(let t of ix(e,n.fieldPath))switch(t.op){case"==":case"in":r.set(n.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return r.set(n.fieldPath.canonicalString(),t.value),Array.from(r.values())}return null}function iP(e,t){let r=[],n=!0;for(let i of ez(t)){let t=0===i.kind?ik(e,i.fieldPath,e.startAt):iM(e,i.fieldPath,e.startAt);r.push(t.value),n&&(n=t.inclusive)}return new nX(r,n)}function iN(e,t){let r=[],n=!0;for(let i of ez(t)){let t=0===i.kind?iM(e,i.fieldPath,e.endAt):ik(e,i.fieldPath,e.endAt);r.push(t.value),n&&(n=t.inclusive)}return new nX(r,n)}function ik(e,t,r){let n=ni,i=!0;for(let r of ix(e,t)){let e=ni,t=!0;switch(r.op){case"<":case"<=":e=nH(r.value);break;case"==":case"in":case">=":e=r.value;break;case">":e=r.value,t=!1;break;case"!=":case"not-in":e=ni}0>nW({value:n,inclusive:i},{value:e,inclusive:t})&&(n=e,i=t)}if(null!==r){for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){let e=r.position[o];0>nW({value:n,inclusive:i},{value:e,inclusive:r.inclusive})&&(n=e,i=r.inclusive);break}}return{value:n,inclusive:i}}function iM(e,t,r){let n=nt,i=!0;for(let r of ix(e,t)){let e=nt,t=!0;switch(r.op){case">=":case">":e=nq(r.value),t=!1;break;case"==":case"in":case"<=":e=r.value;break;case"<":e=r.value,t=!1;break;case"!=":case"not-in":e=nt}nK({value:n,inclusive:i},{value:e,inclusive:t})>0&&(n=e,i=t)}if(null!==r){for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){let e=r.position[o];nK({value:n,inclusive:i},{value:e,inclusive:r.inclusive})>0&&(n=e,i=r.inclusive);break}}return{value:n,inclusive:i}}function iL(e){let t=new rN(eL.comparator),r=!1;for(let n of e.filters)for(let e of n.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?r=!0:t=t.add(e.field));for(let r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(r?1:0)}function iB(e){return null!==e.limit}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,t=null,r=[],n=[],i=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=n,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.memoizedNormalizedOrderBy=null,this.memoizedTarget=null,this.memoizedAggregateTarget=null,this.startAt,this.endAt}}function iF(e,t,r,n,i,o,s,a){return new ij(e,t,r,n,i,o,s,a)}function iU(e){return new ij(e)}function iV(e,t){return new ij(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function iz(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function iG(e){let t=new rN(eL.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}function i$(e){return eB.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function iH(e){return null!==e.collectionGroup}function iq(e){let t=ec(e);if(null===t.memoizedNormalizedOrderBy){t.memoizedNormalizedOrderBy=[];let e=new Set;for(let r of t.explicitOrderBy)t.memoizedNormalizedOrderBy.push(r),e.add(r.field.canonicalString());let r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";iG(t).forEach(n=>{e.has(n.canonicalString())||n.isKeyField()||t.memoizedNormalizedOrderBy.push(new n6(n,r))}),e.has(eL.keyField().canonicalString())||t.memoizedNormalizedOrderBy.push(new n6(eL.keyField(),r))}return t.memoizedNormalizedOrderBy}function iW(e){let t=ec(e);return t.memoizedTarget||(t.memoizedTarget=iY(t,iq(e))),t.memoizedTarget}function iK(e){let t=ec(e);return t.memoizedAggregateTarget||(t.memoizedAggregateTarget=iY(t,e.explicitOrderBy)),t.memoizedAggregateTarget}function iY(e,t){if("F"===e.limitType)return iA(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{let t="desc"===e.dir?"asc":"desc";return new n6(e.field,t)});let r=e.endAt?new nX(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new nX(e.startAt.position,e.startAt.inclusive):null;return iA(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function iZ(e,t){let r=e.filters.concat([t]);return new ij(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function iJ(e,t){let r=e.explicitOrderBy.concat([t]);return new ij(e.path,e.collectionGroup,r,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}function iQ(e,t,r){return new ij(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function iX(e,t){return new ij(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}function i0(e,t){return new ij(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}function i1(e,t){return iO(iW(e),iW(t))&&e.limitType===t.limitType}function i2(e){return`${iC(iW(e))}|lt:${e.limitType}`}function i3(e){return`Query(target=${iw(iW(e))}; limitType=${e.limitType})`}function i6(e,t){return t.isFoundDocument()&&i4(e,t)&&i5(e,t)&&i8(e,t)&&i7(e,t)}function i4(e,t){let r=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):eB.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}function i5(e,t){for(let r of iq(e))if(!r.field.isKeyField()&&null===t.data.field(r.field))return!1;return!0}function i8(e,t){for(let r of e.filters)if(!r.matches(t))return!1;return!0}function i7(e,t){return(!e.startAt||!!n2(e.startAt,iq(e),t))&&(!e.endAt||!!n1(e.endAt,iq(e),t))}function i9(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function oe(e){return(t,r)=>{let n=!1;for(let i of iq(e)){let e=ot(i,t,r);if(0!==e)return e;n=n||i.field.isKeyField()}return 0}}function ot(e,t,r){let n=e.field.isKeyField()?eB.comparator(t.key,r.key):nQ(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return -1*n;default:return el()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r){for(let[t,n]of r)if(this.equalsFn(t,e))return n}}has(e){return void 0!==this.get(e)}set(e,t){let r=this.mapKeyFn(e),n=this.inner[r];if(void 0===n){this.inner[r]=[[e,t]],this.innerSize++;return}for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e)){n[r]=[e,t];return}n.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return 1===r.length?delete this.inner[t]:r.splice(n,1),this.innerSize--,!0;return!1}forEach(e){rO(this.inner,(t,r)=>{for(let[t,n]of r)e(t,n)})}isEmpty(){return rR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let on=new rx(eB.comparator);function oi(){return on}let oo=new rx(eB.comparator);function os(...e){let t=oo;for(let r of e)t=t.insert(r.key,r);return t}function oa(){return od()}function ol(e){let t=oo;return e.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function ou(){return od()}function oc(){return od()}function od(){return new or(e=>e.toString(),(e,t)=>e.isEqual(t))}let oh=new rx(eB.comparator);function op(){return oh}let of=new rN(eB.comparator);function om(...e){let t=of;for(let r of e)t=t.add(r);return t}let og=new rN(eC);function oy(){return og}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:r8(t)?"-0":t}}function ob(e){return{integerValue:""+e}}function oE(e,t){return r7(t)?ob(t):ov(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(){this._=void 0}}function o_(e,t,r){return e instanceof ow?rQ(r,t):e instanceof oO?oR(e,t):e instanceof ox?oI(e,t):oP(e,t)}function oT(e,t,r){return e instanceof oO?oR(e,t):e instanceof ox?oI(e,t):r}function oA(e,t){return e instanceof oD?nL(t)?t:{integerValue:0}:null}function oC(e,t){return e instanceof oO&&t instanceof oO||e instanceof ox&&t instanceof ox?ew(e.elements,t.elements,ns):e instanceof oD&&t instanceof oD?ns(e.operand,t.operand):e instanceof ow&&t instanceof ow}class ow extends oS{}class oO extends oS{constructor(e){super(),this.elements=e}}function oR(e,t){let r=ok(t);for(let t of e.elements)r.some(e=>ns(e,t))||r.push(t);return{arrayValue:{values:r}}}class ox extends oS{constructor(e){super(),this.elements=e}}function oI(e,t){let r=ok(t);for(let t of e.elements)r=r.filter(e=>!ns(e,t));return{arrayValue:{values:r}}}class oD extends oS{constructor(e,t){super(),this.serializer=e,this.operand=t}}function oP(e,t){let r=oA(e,t),n=oN(r)+oN(e.operand);return nk(r)&&nk(e.operand)?ob(n):ov(e.serializer,n)}function oN(e){return rH(e.integerValue||e.doubleValue)}function ok(e){return nB(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,t){this.field=e,this.transform=t}}function oL(e,t){return e.field.isEqual(t.field)&&oC(e.transform,t.transform)}function oB(e,t){return void 0===e&&void 0===t||!!e&&!!t&&ew(e,t,(e,t)=>oL(e,t))}class oj{constructor(e,t){this.version=e,this.transformResults=t}}class oF{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new oF}static exists(e){return new oF(void 0,e)}static updateTime(e){return new oF(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oU(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class oV{}function oz(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new o2(e.key,oF.none()):new oW(e.key,e.data,oF.none());{let r=e.data,n=nY.empty(),i=new rN(eL.comparator);for(let e of t.fields)if(!i.has(e)){let t=r.field(e);null===t&&e.length>1&&(e=e.popLast(),t=r.field(e)),null===t?n.delete(e):n.set(e,t),i=i.add(e)}return new oZ(e.key,n,new rB(i.toArray()),oF.none())}}function oG(e,t,r){e instanceof oW?oK(e,t,r):e instanceof oZ?oJ(e,t,r):o3(e,t,r)}function o$(e,t,r,n){return e instanceof oW?oY(e,t,r,n):e instanceof oZ?oQ(e,t,r,n):o6(e,t,r)}function oH(e,t){let r=null;for(let n of e.fieldTransforms){let e=t.data.field(n.field),i=oA(n.transform,e||null);null!=i&&(null===r&&(r=nY.empty()),r.set(n.field,i))}return r||null}function oq(e,t){return!!(e.type===t.type&&e.key.isEqual(t.key)&&e.precondition.isEqual(t.precondition)&&oB(e.fieldTransforms,t.fieldTransforms))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class oW extends oV{constructor(e,t,r,n=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}function oK(e,t,r){let n=e.value.clone(),i=o0(e.fieldTransforms,t,r.transformResults);n.setAll(i),t.convertToFoundDocument(r.version,n).setHasCommittedMutations()}function oY(e,t,r,n){if(!oU(e.precondition,t))return r;let i=e.value.clone(),o=o1(e.fieldTransforms,n,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}class oZ extends oV{constructor(e,t,r,n,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=n,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function oJ(e,t,r){if(!oU(e.precondition,t)){t.convertToUnknownDocument(r.version);return}let n=o0(e.fieldTransforms,t,r.transformResults),i=t.data;i.setAll(oX(e)),i.setAll(n),t.convertToFoundDocument(r.version,i).setHasCommittedMutations()}function oQ(e,t,r,n){if(!oU(e.precondition,t))return r;let i=o1(e.fieldTransforms,n,t),o=t.data;return(o.setAll(oX(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===r)?null:r.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}function oX(e){let t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){let n=e.data.field(r);t.set(r,n)}}),t}function o0(e,t,r){let n=new Map;eu(e.length===r.length);for(let i=0;i<r.length;i++){let o=e[i],s=o.transform,a=t.data.field(o.field);n.set(o.field,oT(s,a,r[i]))}return n}function o1(e,t,r){let n=new Map;for(let i of e){let e=i.transform,o=r.data.field(i.field);n.set(i.field,o_(e,o,t))}return n}class o2 extends oV{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}function o3(e,t,r){t.convertToNoDocument(r.version).setHasCommittedMutations()}function o6(e,t,r){return oU(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):r}class o4 extends oV{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e,t,r,n){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=n}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let n=this.mutations[t];n.key.isEqual(e.key)&&oG(n,e,r[t])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=o$(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=o$(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=oc();return this.mutations.forEach(n=>{let i=e.get(n.key),o=i.overlayedDocument,s=this.applyToLocalView(o,i.mutatedFields),a=oz(o,s=t.has(n.key)?null:s);null!==a&&r.set(n.key,a),o.isValidDocument()||o.convertToNoDocument(eD.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),om())}isEqual(e){return this.batchId===e.batchId&&ew(this.mutations,e.mutations,(e,t)=>oq(e,t))&&ew(this.baseMutations,e.baseMutations,(e,t)=>oq(e,t))}}class o8{constructor(e,t,r,n){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=n}static from(e,t,r){eu(e.mutations.length===r.length);let n=op(),i=e.mutations;for(let e=0;e<i.length;e++)n=n.insert(i[e].key,r[e].version);return new o8(e,t,r,n)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,t){this.count=e,this.unchangedNames=t}}function se(e){switch(e){case ed.OK:return el();case ed.CANCELLED:case ed.UNKNOWN:case ed.DEADLINE_EXCEEDED:case ed.RESOURCE_EXHAUSTED:case ed.INTERNAL:case ed.UNAVAILABLE:case ed.UNAUTHENTICATED:return!1;case ed.INVALID_ARGUMENT:case ed.NOT_FOUND:case ed.ALREADY_EXISTS:case ed.PERMISSION_DENIED:case ed.FAILED_PRECONDITION:case ed.ABORTED:case ed.OUT_OF_RANGE:case ed.UNIMPLEMENTED:case ed.DATA_LOSS:return!0;default:return el()}}function st(e){return se(e)&&e!==ed.ABORTED}function sr(e){if(void 0===e)return eo("GRPC error has no .code"),ed.UNKNOWN;switch(e){case s.OK:return ed.OK;case s.CANCELLED:return ed.CANCELLED;case s.UNKNOWN:return ed.UNKNOWN;case s.DEADLINE_EXCEEDED:return ed.DEADLINE_EXCEEDED;case s.RESOURCE_EXHAUSTED:return ed.RESOURCE_EXHAUSTED;case s.INTERNAL:return ed.INTERNAL;case s.UNAVAILABLE:return ed.UNAVAILABLE;case s.UNAUTHENTICATED:return ed.UNAUTHENTICATED;case s.INVALID_ARGUMENT:return ed.INVALID_ARGUMENT;case s.NOT_FOUND:return ed.NOT_FOUND;case s.ALREADY_EXISTS:return ed.ALREADY_EXISTS;case s.PERMISSION_DENIED:return ed.PERMISSION_DENIED;case s.FAILED_PRECONDITION:return ed.FAILED_PRECONDITION;case s.ABORTED:return ed.ABORTED;case s.OUT_OF_RANGE:return ed.OUT_OF_RANGE;case s.UNIMPLEMENTED:return ed.UNIMPLEMENTED;case s.DATA_LOSS:return ed.DATA_LOSS;default:return el()}}!function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS"}(s||(s={}));/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let si=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(){return new $.TextEncoder}function ss(){return new TextDecoder("utf-8")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sa=new i([4294967295,4294967295],0);function sl(e){let t=so().encode(e),r=new o;return r.update(t),new Uint8Array(r.digest())}function su(e){let t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),o=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new i([r,n],0),new i([o,s],0)]}class sc{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new sd(`Invalid padding: ${t}`);if(r<0||e.length>0&&0===this.hashCount)throw new sd(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new sd(`Invalid padding when bitmap length is 0: ${t}`);this.bitCount=8*e.length-t,this.bitCountInInteger=i.fromNumber(this.bitCount)}getBitIndex(e,t,r){let n=e.add(t.multiply(i.fromNumber(r)));return 1===n.compare(sa)&&(n=new i([n.getBits(0),n.getBits(1)],0)),n.modulo(this.bitCountInInteger).toNumber()}isBitSet(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(0===this.bitCount)return!1;let[t,r]=su(sl(e));for(let e=0;e<this.hashCount;e++){let n=this.getBitIndex(t,r,e);if(!this.isBitSet(n))return!1}return!0}static create(e,t,r){let n=e%8==0?0:8-e%8,i=new sc(new Uint8Array(Math.ceil(e/8)),n,t);return r.forEach(e=>i.insert(e)),i}insert(e){if(0===this.bitCount)return;let[t,r]=su(sl(e));for(let e=0;e<this.hashCount;e++){let n=this.getBitIndex(t,r,e);this.setBit(n)}}setBit(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class sd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,t,r,n,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=n,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let n=new Map;return n.set(e,sp.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new sh(eD.min(),n,new rx(eC),oi(),om())}}class sp{constructor(e,t,r,n,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=n,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new sp(r,t,om(),om(),om())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t,r,n){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=r,this.newDoc=n}}class sm{constructor(e,t){this.targetId=e,this.existenceFilter=t}}class sg{constructor(e,t,r=rU.EMPTY_BYTE_STRING,n=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=n}}class sy{constructor(){this.pendingResponses=0,this.documentChanges=sS(),this._resumeToken=rU.EMPTY_BYTE_STRING,this._current=!1,this._hasPendingChanges=!0}get current(){return this._current}get resumeToken(){return this._resumeToken}get isPending(){return 0!==this.pendingResponses}get hasPendingChanges(){return this._hasPendingChanges}updateResumeToken(e){e.approximateByteSize()>0&&(this._hasPendingChanges=!0,this._resumeToken=e)}toTargetChange(){let e=om(),t=om(),r=om();return this.documentChanges.forEach((n,i)=>{switch(i){case 0:e=e.add(n);break;case 2:t=t.add(n);break;case 1:r=r.add(n);break;default:el()}}),new sp(this._resumeToken,this._current,e,t,r)}clearPendingChanges(){this._hasPendingChanges=!1,this.documentChanges=sS()}addDocumentChange(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)}removeDocumentChange(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)}recordPendingTargetRequest(){this.pendingResponses+=1}recordTargetResponse(){this.pendingResponses-=1,eu(this.pendingResponses>=0)}markCurrent(){this._hasPendingChanges=!0,this._current=!0}}let sv="WatchChangeAggregator";class sb{constructor(e){this.metadataProvider=e,this.targetStates=new Map,this.pendingDocumentUpdates=oi(),this.pendingDocumentTargetMapping=sE(),this.pendingTargetResets=new rx(eC)}handleDocumentChange(e){for(let t of e.updatedTargetIds)e.newDoc&&e.newDoc.isFoundDocument()?this.addDocumentToTarget(t,e.newDoc):this.removeDocumentFromTarget(t,e.key,e.newDoc);for(let t of e.removedTargetIds)this.removeDocumentFromTarget(t,e.key,e.newDoc)}handleTargetChange(e){this.forEachTarget(e,t=>{let r=this.ensureTargetState(t);switch(e.state){case 0:this.isActiveTarget(t)&&r.updateResumeToken(e.resumeToken);break;case 1:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case 2:r.recordTargetResponse(),r.isPending||this.removeTarget(t);break;case 3:this.isActiveTarget(t)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case 4:this.isActiveTarget(t)&&(this.resetTarget(t),r.updateResumeToken(e.resumeToken));break;default:el()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.targetStates.forEach((e,r)=>{this.isActiveTarget(r)&&t(r)})}handleExistenceFilter(e){let t=e.targetId,r=e.existenceFilter.count,n=this.targetDataForActiveTarget(t);if(n){let i=n.target;if(iR(i)){if(0===r){let e=new eB(i.path);this.removeDocumentFromTarget(t,e,nJ.newNoDocument(e,eD.min()))}else eu(1===r)}else{let n=this.getCurrentDocumentCountForTarget(t);if(n!==r){let r=this.parseBloomFilter(e),i=r?this.applyBloomFilter(r,e,n):1;if(0!==i){this.resetTarget(t);let e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.pendingTargetResets=this.pendingTargetResets.insert(t,e)}null==si||si.notifyOnExistenceFilterMismatch(s_(n,e.existenceFilter,this.metadataProvider.getDatabaseId(),r,i))}}}}parseBloomFilter(e){let t,r;let n=e.existenceFilter.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:o=0},hashCount:s=0}=n;try{t=rq(i).toUint8Array()}catch(e){if(e instanceof sn)return es("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new sc(t,o,s)}catch(e){return e instanceof sd?es("BloomFilter error: ",e):es("Applying bloom filter failed: ",e),null}return 0===r.bitCount?null:r}applyBloomFilter(e,t,r){return t.existenceFilter.count===r-this.filterRemovedDocuments(e,t.targetId)?0:2}filterRemovedDocuments(e,t){let r=this.metadataProvider.getRemoteKeysForTarget(t),n=0;return r.forEach(r=>{let i=this.metadataProvider.getDatabaseId(),o=`projects/${i.projectId}/databases/${i.database}/documents/${r.path.canonicalString()}`;!e.mightContain(o)&&(this.removeDocumentFromTarget(t,r,null),n++)}),n}createRemoteEvent(e){let t=new Map;this.targetStates.forEach((r,n)=>{let i=this.targetDataForActiveTarget(n);if(i){if(r.current&&iR(i.target)){let t=new eB(i.target.path);null!==this.pendingDocumentUpdates.get(t)||this.targetContainsDocument(n,t)||this.removeDocumentFromTarget(n,t,nJ.newNoDocument(t,e))}r.hasPendingChanges&&(t.set(n,r.toTargetChange()),r.clearPendingChanges())}});let r=om();this.pendingDocumentTargetMapping.forEach((e,t)=>{let n=!0;t.forEachWhile(e=>{let t=this.targetDataForActiveTarget(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(n=!1,!1)}),n&&(r=r.add(e))}),this.pendingDocumentUpdates.forEach((t,r)=>r.setReadTime(e));let n=new sh(e,t,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=oi(),this.pendingDocumentTargetMapping=sE(),this.pendingTargetResets=new rx(eC),n}addDocumentToTarget(e,t){if(!this.isActiveTarget(e))return;let r=this.targetContainsDocument(e,t.key)?2:0;this.ensureTargetState(e).addDocumentChange(t.key,r),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}removeDocumentFromTarget(e,t,r){if(!this.isActiveTarget(e))return;let n=this.ensureTargetState(e);this.targetContainsDocument(e,t)?n.addDocumentChange(t,1):n.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),r&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,r))}removeTarget(e){this.targetStates.delete(e)}getCurrentDocumentCountForTarget(e){let t=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}recordPendingTargetRequest(e){this.ensureTargetState(e).recordPendingTargetRequest()}ensureTargetState(e){let t=this.targetStates.get(e);return t||(t=new sy,this.targetStates.set(e,t)),t}ensureDocumentTargetMapping(e){let t=this.pendingDocumentTargetMapping.get(e);return t||(t=new rN(eC),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t}isActiveTarget(e){let t=null!==this.targetDataForActiveTarget(e);return t||ei(sv,"Detected inactive target",e),t}targetDataForActiveTarget(e){let t=this.targetStates.get(e);return t&&t.isPending?null:this.metadataProvider.getTargetDataForTarget(e)}resetTarget(e){this.targetStates.set(e,new sy),this.metadataProvider.getRemoteKeysForTarget(e).forEach(t=>{this.removeDocumentFromTarget(e,t,null)})}targetContainsDocument(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)}}function sE(){return new rx(eB.comparator)}function sS(){return new rx(eB.comparator)}function s_(e,t,r,n,i){var o,s,a,l,u,c;let d={localCacheCount:e,existenceFilterCount:t.count,databaseId:r.database,projectId:r.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(c=null===(u=null==h?void 0:h.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==n?void 0:n.mightContain(e))&&void 0!==t&&t}}),d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sT=(()=>{let e={};return e.asc="ASCENDING",e.desc="DESCENDING",e})(),sA=(()=>{let e={};return e["<"]="LESS_THAN",e["<="]="LESS_THAN_OR_EQUAL",e[">"]="GREATER_THAN",e[">="]="GREATER_THAN_OR_EQUAL",e["=="]="EQUAL",e["!="]="NOT_EQUAL",e["array-contains"]="ARRAY_CONTAINS",e.in="IN",e["not-in"]="NOT_IN",e["array-contains-any"]="ARRAY_CONTAINS_ANY",e})(),sC=(()=>{let e={};return e.and="AND",e.or="OR",e})();class sw{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sO(e){return new eh(void 0===e.code?ed.UNKNOWN:sr(e.code),e.message||"")}function sR(e,t){return e.useProto3Json||r5(t)?t:{value:t}}function sx(e){let t;return r5(t="object"==typeof e?e.value:e)?null:t}function sI(e,t){if(!e.useProto3Json)return{seconds:""+t.seconds,nanos:t.nanoseconds};{let e=new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),r=("000000000"+t.nanoseconds).slice(-9);return`${e}.${r}Z`}}function sD(e){let t=r$(e);return new eI(t.seconds,t.nanos)}function sP(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function sN(e,t){return e.useProto3Json?(eu(void 0===t||"string"==typeof t),rU.fromBase64String(t||"")):(eu(void 0===t||t instanceof Buffer||t instanceof Uint8Array),rU.fromUint8Array(t||new Uint8Array))}function sk(e,t){return sI(e,t.toTimestamp())}function sM(e){return eu(!!e),eD.fromTimestamp(sD(e))}function sL(e,t){return sB(e,t).canonicalString()}function sB(e,t){let r=s$(e).child("documents");return void 0===t?r:r.child(t)}function sj(e){let t=ek.fromString(e);return eu(aM(t)),t}function sF(e,t){return sL(e.databaseId,t.path)}function sU(e,t){let r=sj(t);if(r.get(1)!==e.databaseId.projectId)throw new eh(ed.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new eh(ed.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new eB(sH(r))}function sV(e,t){return sL(e.databaseId,t)}function sz(e){let t=sj(e);return 4===t.length?ek.emptyPath():sH(t)}function sG(e){return new ek(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function s$(e){return new ek(["projects",e.projectId,"databases",e.database])}function sH(e){return eu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function sq(e,t,r){return{name:sF(e,t),fields:r.value.mapValue.fields}}function sW(e,t){return{name:sF(e,t.key),fields:t.data.value.mapValue.fields,updateTime:sI(e,t.version.toTimestamp()),createTime:sI(e,t.createTime.toTimestamp())}}function sK(e,t,r){let n=sU(e,t.name),i=sM(t.updateTime),o=t.createTime?sM(t.createTime):eD.min(),s=new nY({mapValue:{fields:t.fields}}),a=nJ.newFoundDocument(n,i,o,s);return r&&a.setHasCommittedMutations(),r?a.setHasCommittedMutations():a}function sY(e,t){eu(!!t.found),t.found.name,t.found.updateTime;let r=sU(e,t.found.name),n=sM(t.found.updateTime),i=t.found.createTime?sM(t.found.createTime):eD.min(),o=new nY({mapValue:{fields:t.found.fields}});return nJ.newFoundDocument(r,n,i,o)}function sZ(e,t){eu(!!t.missing),eu(!!t.readTime);let r=sU(e,t.missing),n=sM(t.readTime);return nJ.newNoDocument(r,n)}function sJ(e,t){return"found"in t?sY(e,t):"missing"in t?sZ(e,t):el()}function sQ(e,t){let r;if("targetChange"in t){t.targetChange;let n=sX(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=sN(e,t.targetChange.resumeToken),s=t.targetChange.cause;r=new sg(n,i,o,s&&sO(s)||null)}else if("documentChange"in t){t.documentChange;let n=t.documentChange;n.document,n.document.name,n.document.updateTime;let i=sU(e,n.document.name),o=sM(n.document.updateTime),s=n.document.createTime?sM(n.document.createTime):eD.min(),a=new nY({mapValue:{fields:n.document.fields}}),l=nJ.newFoundDocument(i,o,s,a);r=new sf(n.targetIds||[],n.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){t.documentDelete;let n=t.documentDelete;n.document;let i=sU(e,n.document),o=n.readTime?sM(n.readTime):eD.min(),s=nJ.newNoDocument(i,o);r=new sf([],n.removedTargetIds||[],s.key,s)}else if("documentRemove"in t){t.documentRemove;let n=t.documentRemove;n.document;let i=sU(e,n.document);r=new sf([],n.removedTargetIds||[],i,null)}else{if(!("filter"in t))return el();t.filter;let e=t.filter;e.targetId;let{count:n=0,unchangedNames:i}=e,o=new o9(n,i);r=new sm(e.targetId,o)}return r}function sX(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:el()}function s0(e){if(!("targetChange"in e))return eD.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length||!t.readTime?eD.min():sM(t.readTime)}function s1(e,t){let r;if(t instanceof oW)r={update:sq(e,t.key,t.value)};else if(t instanceof o2)r={delete:sF(e,t.key)};else if(t instanceof oZ)r={update:sq(e,t.key,t.data),updateMask:aN(t.fieldMask)};else{if(!(t instanceof o4))return el();r={verify:sF(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(t=>s8(e,t))),t.precondition.isNone||(r.currentDocument=s3(e,t.precondition)),r}function s2(e,t){let r=t.currentDocument?s6(t.currentDocument):oF.none(),n=t.updateTransforms?t.updateTransforms.map(t=>s7(e,t)):[];if(t.update){t.update.name;let i=sU(e,t.update.name),o=new nY({mapValue:{fields:t.update.fields}});return t.updateMask?new oZ(i,o,ak(t.updateMask),r,n):new oW(i,o,r,n)}return t.delete?new o2(sU(e,t.delete),r):t.verify?new o4(sU(e,t.verify),r):el()}function s3(e,t){return void 0!==t.updateTime?{updateTime:sk(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:el()}function s6(e){return void 0!==e.updateTime?oF.updateTime(sM(e.updateTime)):void 0!==e.exists?oF.exists(e.exists):oF.none()}function s4(e,t){let r=e.updateTime?sM(e.updateTime):sM(t);return r.isEqual(eD.min())&&(r=sM(t)),new oj(r,e.transformResults||[])}function s5(e,t){return e&&e.length>0?(eu(void 0!==t),e.map(e=>s4(e,t))):[]}function s8(e,t){let r=t.transform;if(r instanceof ow)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(r instanceof oO)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:r.elements}};if(r instanceof ox)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:r.elements}};if(r instanceof oD)return{fieldPath:t.field.canonicalString(),increment:r.operand};throw el()}function s7(e,t){let r=null;return"setToServerValue"in t?(eu("REQUEST_TIME"===t.setToServerValue),r=new ow):"appendMissingElements"in t?r=new oO(t.appendMissingElements.values||[]):"removeAllFromArray"in t?r=new ox(t.removeAllFromArray.values||[]):"increment"in t?r=new oD(e,t.increment):el(),new oM(eL.fromServerFormat(t.fieldPath),r)}function s9(e,t){return{documents:[sV(e,t.path)]}}function ae(e){return eu(1===e.documents.length),iW(iU(sz(e.documents[0])))}function at(e,t){let r;let n={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=sV(e,r);let o=al(t.filters);o&&(n.structuredQuery.where=o);let s=ad(t.orderBy);s&&(n.structuredQuery.orderBy=s);let a=sR(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=ap(t.startAt)),t.endAt&&(n.structuredQuery.endAt=af(t.endAt)),{queryTarget:n,parent:r}}function ar(e,t,r,n){let{queryTarget:i,parent:o}=at(e,t),s={},a=[],l=0;return r.forEach(e=>{let t=n?e.alias:`aggregate_${l++}`;s[t]=e.alias,"count"===e.aggregateType?a.push({alias:t,count:{}}):"avg"===e.aggregateType?a.push({alias:t,avg:{field:aT(e.fieldPath)}}):"sum"===e.aggregateType&&a.push({alias:t,sum:{field:aT(e.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:i.structuredQuery},parent:i.parent},aliasMap:s,parent:o}}function an(e){let t=sz(e.parent),r=e.structuredQuery,n=r.from?r.from.length:0,i=null;if(n>0){eu(1===n);let e=r.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];r.where&&(o=au(r.where));let s=[];r.orderBy&&(s=ah(r.orderBy));let a=null;r.limit&&(a=sx(r.limit));let l=null;r.startAt&&(l=am(r.startAt));let u=null;return r.endAt&&(u=ag(r.endAt)),iF(t,i,s,o,a,"F",l,u)}function ai(e){return iW(an(e))}function ao(e,t){let r=as(t.purpose);return null==r?null:{"goog-listen-tags":r}}function as(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return el()}}function aa(e,t){let r;let n=t.target;if((r=iR(n)?{documents:s9(e,n)}:{query:at(e,n).queryTarget}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){r.resumeToken=sP(e,t.resumeToken);let n=sR(e,t.expectedCount);null!==n&&(r.expectedCount=n)}else if(t.snapshotVersion.compareTo(eD.min())>0){r.readTime=sI(e,t.snapshotVersion.toTimestamp());let n=sR(e,t.expectedCount);null!==n&&(r.expectedCount=n)}return r}function al(e){if(0!==e.length)return aO(ie.create(e,"and"))}function au(e){let t=ac(e);return t instanceof ie&&ii(t)?t.getFilters():[t]}function ac(e){return void 0!==e.unaryFilter?aI(e):void 0!==e.fieldFilter?aD(e):void 0!==e.compositeFilter?aP(e):el()}function ad(e){if(0!==e.length)return e.map(e=>aC(e))}function ah(e){return e.map(e=>aw(e))}function ap(e){return{before:e.inclusive,values:e.position}}function af(e){return{before:!e.inclusive,values:e.position}}function am(e){let t=!!e.before;return new nX(e.values||[],t)}function ag(e){let t=!e.before;return new nX(e.values||[],t)}function ay(e){return sT[e]}function av(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}function ab(e){return sA[e]}function aE(e){return sC[e]}function aS(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return el()}}function a_(e){switch(e){case"AND":return"and";case"OR":return"or";default:return el()}}function aT(e){return{fieldPath:e.canonicalString()}}function aA(e){return eL.fromServerFormat(e.fieldPath)}function aC(e){return{field:aT(e.field),direction:ay(e.dir)}}function aw(e){return new n6(aA(e.field),av(e.direction))}function aO(e){return e instanceof n9?ax(e):e instanceof ie?aR(e):el()}function aR(e){let t=e.getFilters().map(e=>aO(e));return 1===t.length?t[0]:{compositeFilter:{op:aE(e.op),filters:t}}}function ax(e){if("=="===e.op){if(nF(e.value))return{unaryFilter:{field:aT(e.field),op:"IS_NAN"}};if(nj(e.value))return{unaryFilter:{field:aT(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(nF(e.value))return{unaryFilter:{field:aT(e.field),op:"IS_NOT_NAN"}};if(nj(e.value))return{unaryFilter:{field:aT(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:aT(e.field),op:ab(e.op),value:e.value}}}function aI(e){switch(e.unaryFilter.op){case"IS_NAN":let t=aA(e.unaryFilter.field);return n9.create(t,"==",{doubleValue:NaN});case"IS_NULL":let r=aA(e.unaryFilter.field);return n9.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let n=aA(e.unaryFilter.field);return n9.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=aA(e.unaryFilter.field);return n9.create(i,"!=",{nullValue:"NULL_VALUE"});default:return el()}}function aD(e){return n9.create(aA(e.fieldFilter.field),aS(e.fieldFilter.op),e.fieldFilter.value)}function aP(e){return ie.create(e.compositeFilter.filters.map(e=>ac(e)),a_(e.compositeFilter.op))}function aN(e){let t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function ak(e){return new rB((e.fieldPaths||[]).map(e=>eL.fromServerFormat(e)))}function aM(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,t,r,n,i=eD.min(),o=eD.min(),s=rU.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=n,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new aL(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new aL(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new aL(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new aL(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e){this.remoteSerializer=e}}function aj(e,t){let r;if(t.document)r=sK(e.remoteSerializer,t.document,!!t.hasCommittedMutations);else if(t.noDocument){let e=eB.fromSegments(t.noDocument.path),n=aG(t.noDocument.readTime);r=nJ.newNoDocument(e,n),t.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!t.unknownDocument)return el();let e=eB.fromSegments(t.unknownDocument.path),n=aG(t.unknownDocument.version);r=nJ.newUnknownDocument(e,n)}return t.readTime&&r.setReadTime(aV(t.readTime)),r}function aF(e,t){let r=t.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:aU(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())n.document=sW(e.remoteSerializer,t);else if(t.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:az(t.version)};else{if(!t.isUnknownDocument())return el();n.unknownDocument={path:r.path.toArray(),version:az(t.version)}}return n}function aU(e){let t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function aV(e){let t=new eI(e[0],e[1]);return eD.fromTimestamp(t)}function az(e){let t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function aG(e){let t=new eI(e.seconds,e.nanoseconds);return eD.fromTimestamp(t)}function a$(e,t,r){let n=r.baseMutations.map(t=>s1(e.remoteSerializer,t)),i=r.mutations.map(t=>s1(e.remoteSerializer,t));return{userId:t,batchId:r.batchId,localWriteTimeMs:r.localWriteTime.toMillis(),baseMutations:n,mutations:i}}function aH(e,t){let r=(t.baseMutations||[]).map(t=>s2(e.remoteSerializer,t));for(let e=0;e<t.mutations.length-1;++e){let r=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){let n=t.mutations[e+1];r.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}let n=t.mutations.map(t=>s2(e.remoteSerializer,t)),i=eI.fromMillis(t.localWriteTimeMs);return new o5(t.batchId,i,r,n)}function aq(e){let t;let r=aG(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?aG(e.lastLimboFreeSnapshotVersion):eD.min();return new aL(t=aK(e.query)?ae(e.query):ai(e.query),e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,n,rU.fromBase64String(e.resumeToken))}function aW(e,t){let r;let n=az(t.snapshotVersion),i=az(t.lastLimboFreeSnapshotVersion);r=iR(t.target)?s9(e.remoteSerializer,t.target):at(e.remoteSerializer,t.target).queryTarget;let o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:iC(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function aK(e){return void 0!==e.documents}function aY(e){return{id:e.bundleId,createTime:aG(e.createTime),version:e.version}}function aZ(e){return{bundleId:e.id,createTime:az(sM(e.createTime)),version:e.version}}function aJ(e){return{name:e.name,query:aX(e.bundledQuery),readTime:aG(e.readTime)}}function aQ(e){return{name:e.name,readTime:az(sM(e.readTime)),bundledQuery:e.bundledQuery}}function aX(e){let t=an({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?iQ(t,t.limit,"L"):t}function a0(e){return{name:e.name,query:aX(e.bundledQuery),readTime:sM(e.readTime)}}function a1(e){return{id:e.id,version:e.version,createTime:sM(e.createTime)}}function a2(e,t){return new o7(t.largestBatchId,s2(e.remoteSerializer,t.overlayMutation))}function a3(e,t,r){let[n,i,o]=a6(t,r.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:r.mutation.key.getCollectionGroup(),largestBatchId:r.largestBatchId,overlayMutation:s1(e.remoteSerializer,r.mutation)}}function a6(e,t){let r=t.path.lastSegment();return[e,tg(t.path.popLast()),r]}function a4(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])}}function a5(e,t){let r=t?new eK(t.sequenceNumber,new eJ(aG(t.readTime),new eB(tb(t.documentKey)),t.largestBatchId)):eK.empty(),n=e.fields.map(([e,t])=>new eq(eL.fromServerFormat(e),t));return new eU(e.indexId,e.collectionGroup,n,r)}function a8(e,t,r,n){return{indexId:e,uid:t,sequenceNumber:r,readTime:az(n.readTime),documentKey:tg(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{getBundleMetadata(e,t){return a9(e).get(t).next(e=>{if(e)return aY(e)})}saveBundleMetadata(e,t){return a9(e).put(aZ(t))}getNamedQuery(e,t){return le(e).get(t).next(e=>{if(e)return aJ(e)})}saveNamedQuery(e,t){return le(e).put(aQ(t))}}function a9(e){return rC(e,t2)}function le(e){return rC(e,t6)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,t){this.serializer=e,this.userId=t}static forUser(e,t){return new lt(e,t.uid||"")}getOverlay(e,t){return lr(e).get(a6(this.userId,t)).next(e=>e?a2(this.serializer,e):null)}getOverlays(e,t){let r=ou();return e2.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&r.set(t,e)})).next(()=>r)}saveOverlays(e,t,r){let n=[];return r.forEach((r,i)=>{let o=new o7(t,i);n.push(this.saveOverlay(e,o))}),e2.waitFor(n)}removeOverlaysForBatchId(e,t,r){let n=new Set;t.forEach(e=>n.add(tg(e.getCollectionPath())));let i=[];return n.forEach(t=>{let n=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,r+1],!1,!0);i.push(lr(e).deleteAll(rc,n))}),e2.waitFor(i)}getOverlaysForCollection(e,t,r){let n=ou(),i=tg(t),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return lr(e).loadAll(rc,o).next(e=>{for(let t of e){let e=a2(this.serializer,t);n.set(e.getKey(),e)}return n})}getOverlaysForCollectionGroup(e,t,r,n){let i;let o=ou(),s=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return lr(e).iterate({index:rh,range:s},(e,t,r)=>{let s=a2(this.serializer,t);o.size()<n||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):r.done()}).next(()=>o)}saveOverlay(e,t){return lr(e).put(a3(this.serializer,this.userId,t))}}function lr(e){return rC(e,rl)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{globalsStore(e){return rC(e,rf)}getSessionToken(e){return this.globalsStore(e).get("sessionToken").next(e=>{let t=null==e?void 0:e.value;return t?rU.fromUint8Array(t):rU.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.globalsStore(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let li=5,lo=10,ls=13,la=15,ll=20,lu=25,lc=30,ld=37,lh=45,lp=50,lf=53,lm=55,lg=60,ly=2;class lv{constructor(){}writeIndexValue(e,t){this.writeIndexValueAux(e,t),t.writeInfinity()}writeIndexValueAux(e,t){if("nullValue"in e)this.writeValueTypeLabel(t,li);else if("booleanValue"in e)this.writeValueTypeLabel(t,lo),t.writeNumber(e.booleanValue?1:0);else if("integerValue"in e)this.writeValueTypeLabel(t,la),t.writeNumber(rH(e.integerValue));else if("doubleValue"in e){let r=rH(e.doubleValue);isNaN(r)?this.writeValueTypeLabel(t,ls):(this.writeValueTypeLabel(t,la),r8(r)?t.writeNumber(0):t.writeNumber(r))}else if("timestampValue"in e){let r=e.timestampValue;this.writeValueTypeLabel(t,ll),"string"==typeof r&&(r=r$(r)),t.writeString(`${r.seconds||""}`),t.writeNumber(r.nanos||0)}else if("stringValue"in e)this.writeIndexString(e.stringValue,t),this.writeTruncationMarker(t);else if("bytesValue"in e)this.writeValueTypeLabel(t,lc),t.writeBytes(rq(e.bytesValue)),this.writeTruncationMarker(t);else if("referenceValue"in e)this.writeIndexEntityRef(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.writeValueTypeLabel(t,lh),t.writeNumber(r.latitude||0),t.writeNumber(r.longitude||0)}else"mapValue"in e?nG(e)?this.writeValueTypeLabel(t,Number.MAX_SAFE_INTEGER):nV(e)?this.writeIndexVector(e.mapValue,t):(this.writeIndexMap(e.mapValue,t),this.writeTruncationMarker(t)):"arrayValue"in e?(this.writeIndexArray(e.arrayValue,t),this.writeTruncationMarker(t)):el()}writeIndexString(e,t){this.writeValueTypeLabel(t,lu),this.writeUnlabeledIndexString(e,t)}writeUnlabeledIndexString(e,t){t.writeString(e)}writeIndexMap(e,t){let r=e.fields||{};for(let e of(this.writeValueTypeLabel(t,lm),Object.keys(r)))this.writeIndexString(e,t),this.writeIndexValueAux(r[e],t)}writeIndexVector(e,t){var r,n;let i=e.fields||{};this.writeValueTypeLabel(t,lf);let o=nn,s=(null===(n=null===(r=i[o].arrayValue)||void 0===r?void 0:r.values)||void 0===n?void 0:n.length)||0;this.writeValueTypeLabel(t,la),t.writeNumber(rH(s)),this.writeIndexString(o,t),this.writeIndexValueAux(i[o],t)}writeIndexArray(e,t){let r=e.values||[];for(let e of(this.writeValueTypeLabel(t,lp),r))this.writeIndexValueAux(e,t)}writeIndexEntityRef(e,t){this.writeValueTypeLabel(t,ld),eB.fromName(e).path.forEach(e=>{this.writeValueTypeLabel(t,lg),this.writeUnlabeledIndexString(e,t)})}writeValueTypeLabel(e,t){e.writeNumber(t)}writeTruncationMarker(e){e.writeNumber(ly)}}lv.INSTANCE=new lv;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lb="\uD800",lE="\uDBFF",lS=0,l_=255,lT=1,lA=255,lC=255,lw=0,lO=64,lR=8,lx=1024;function lI(e){let t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}function lD(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function lP(e){let t=0;for(let r=0;r<8;++r){let n=lD(255&e[r]);if(t+=n,8!==n)break}return t}function lN(e){return Math.ceil((lO-lP(e))/lR)}class lk{constructor(){this.buffer=new Uint8Array(lx),this.position=0}writeBytesAscending(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.writeByteAscending(r.value),r=t.next();this.writeSeparatorAscending()}writeBytesDescending(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.writeByteDescending(r.value),r=t.next();this.writeSeparatorDescending()}writeUtf8Ascending(e){for(let t of e){let e=t.charCodeAt(0);if(e<128)this.writeByteAscending(e);else if(e<2048)this.writeByteAscending(960|e>>>6),this.writeByteAscending(128|63&e);else if(t<lb||lE<t)this.writeByteAscending(480|e>>>12),this.writeByteAscending(128|63&e>>>6),this.writeByteAscending(128|63&e);else{let e=t.codePointAt(0);this.writeByteAscending(240|e>>>18),this.writeByteAscending(128|63&e>>>12),this.writeByteAscending(128|63&e>>>6),this.writeByteAscending(128|63&e)}}this.writeSeparatorAscending()}writeUtf8Descending(e){for(let t of e){let e=t.charCodeAt(0);if(e<128)this.writeByteDescending(e);else if(e<2048)this.writeByteDescending(960|e>>>6),this.writeByteDescending(128|63&e);else if(t<lb||lE<t)this.writeByteDescending(480|e>>>12),this.writeByteDescending(128|63&e>>>6),this.writeByteDescending(128|63&e);else{let e=t.codePointAt(0);this.writeByteDescending(240|e>>>18),this.writeByteDescending(128|63&e>>>12),this.writeByteDescending(128|63&e>>>6),this.writeByteDescending(128|63&e)}}this.writeSeparatorDescending()}writeNumberAscending(e){let t=this.toOrderedBits(e),r=lN(t);this.ensureAvailable(1+r),this.buffer[this.position++]=255&r;for(let e=t.length-r;e<t.length;++e)this.buffer[this.position++]=255&t[e]}writeNumberDescending(e){let t=this.toOrderedBits(e),r=lN(t);this.ensureAvailable(1+r),this.buffer[this.position++]=~(255&r);for(let e=t.length-r;e<t.length;++e)this.buffer[this.position++]=~(255&t[e])}writeInfinityAscending(){this.writeEscapedByteAscending(lA),this.writeEscapedByteAscending(lC)}writeInfinityDescending(){this.writeEscapedByteDescending(lA),this.writeEscapedByteDescending(lC)}reset(){this.position=0}seed(e){this.ensureAvailable(e.length),this.buffer.set(e,this.position),this.position+=e.length}encodedBytes(){return this.buffer.slice(0,this.position)}toOrderedBits(e){let t=lI(e),r=(128&t[0])!=0;t[0]^=r?255:128;for(let e=1;e<t.length;++e)t[e]^=r?255:0;return t}writeByteAscending(e){let t=255&e;t===lS?(this.writeEscapedByteAscending(lS),this.writeEscapedByteAscending(l_)):t===lA?(this.writeEscapedByteAscending(lA),this.writeEscapedByteAscending(lw)):this.writeEscapedByteAscending(t)}writeByteDescending(e){let t=255&e;t===lS?(this.writeEscapedByteDescending(lS),this.writeEscapedByteDescending(l_)):t===lA?(this.writeEscapedByteDescending(lA),this.writeEscapedByteDescending(lw)):this.writeEscapedByteDescending(e)}writeSeparatorAscending(){this.writeEscapedByteAscending(lS),this.writeEscapedByteAscending(lT)}writeSeparatorDescending(){this.writeEscapedByteDescending(lS),this.writeEscapedByteDescending(lT)}writeEscapedByteAscending(e){this.ensureAvailable(1),this.buffer[this.position++]=e}writeEscapedByteDescending(e){this.ensureAvailable(1),this.buffer[this.position++]=~e}ensureAvailable(e){let t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);let n=new Uint8Array(r);n.set(this.buffer),this.buffer=n}}class lM{constructor(e){this.orderedCode=e}writeBytes(e){this.orderedCode.writeBytesAscending(e)}writeString(e){this.orderedCode.writeUtf8Ascending(e)}writeNumber(e){this.orderedCode.writeNumberAscending(e)}writeInfinity(){this.orderedCode.writeInfinityAscending()}}class lL{constructor(e){this.orderedCode=e}writeBytes(e){this.orderedCode.writeBytesDescending(e)}writeString(e){this.orderedCode.writeUtf8Descending(e)}writeNumber(e){this.orderedCode.writeNumberDescending(e)}writeInfinity(){this.orderedCode.writeInfinityDescending()}}class lB{constructor(){this.orderedCode=new lk,this.ascending=new lM(this.orderedCode),this.descending=new lL(this.orderedCode)}seed(e){this.orderedCode.seed(e)}forKind(e){return 0===e?this.ascending:this.descending}encodedBytes(){return this.orderedCode.encodedBytes()}reset(){this.orderedCode.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e,t,r,n){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=n}successor(){let e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new lj(this.indexId,this.documentKey,this.arrayValue,r)}}function lF(e,t){let r=e.indexId-t.indexId;return 0!==r||0!==(r=lU(e.arrayValue,t.arrayValue))||0!==(r=lU(e.directionalValue,t.directionalValue))?r:eB.comparator(e.documentKey,t.documentKey)}function lU(e,t){for(let r=0;r<e.length&&r<t.length;++r){let n=e[r]-t[r];if(0!==n)return n}return e.length-t.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e){for(let t of(this.inequalityFilters=new rN((e,t)=>eL.comparator(e.field,t.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.orderBys=e.orderBy,this.equalityFilters=[],e.filters)){let e=t;e.isInequality()?this.inequalityFilters=this.inequalityFilters.add(e):this.equalityFilters.push(e)}}get hasMultipleInequality(){return this.inequalityFilters.size>1}servedByIndex(e){if(eu(e.collectionGroup===this.collectionId),this.hasMultipleInequality)return!1;let t=eV(e);if(void 0!==t&&!this.hasMatchingEqualityFilter(t))return!1;let r=ez(e),n=new Set,i=0,o=0;for(;i<r.length;++i)if(this.hasMatchingEqualityFilter(r[i]))n=n.add(r[i].fieldPath.canonicalString());else break;if(i===r.length)return!0;if(this.inequalityFilters.size>0){let e=this.inequalityFilters.getIterator().getNext();if(!n.has(e.field.canonicalString())){let t=r[i];if(!this.matchesFilter(e,t)||!this.matchesOrderBy(this.orderBys[o++],t))return!1}++i}for(;i<r.length;++i){let e=r[i];if(o>=this.orderBys.length||!this.matchesOrderBy(this.orderBys[o++],e))return!1}return!0}buildTargetIndex(){if(this.hasMultipleInequality)return null;let e=new rN(eL.comparator),t=[];for(let r of this.equalityFilters)if(!r.field.isKeyField()){if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new eq(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new eq(r.field,0))}}for(let r of this.orderBys)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new eq(r.field,"asc"===r.dir?0:1)));return new eU(eU.UNKNOWN_ID,this.collectionId,t,eK.empty())}hasMatchingEqualityFilter(e){for(let t of this.equalityFilters)if(this.matchesFilter(t,e))return!0;return!1}matchesFilter(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;let r="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===r}matchesOrderBy(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(e){var t,r;if(eu(e instanceof n9||e instanceof ie),e instanceof n9){if(!(e instanceof iE))return e;{let n=(null===(r=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===r?void 0:r.map(t=>n9.create(e.field,"==",t)))||[];return ie.create(n,"or")}}let n=e.filters.map(e=>lz(e));return ie.create(n,e.op)}function lG(e){if(0===e.getFilters().length)return[];let t=lK(lz(e));return(eu(lq(t)),l$(t)||lH(t))?[t]:t.getFilters()}function l$(e){return e instanceof n9}function lH(e){return e instanceof ie&&ii(e)}function lq(e){return l$(e)||lH(e)||lW(e)}function lW(e){if(e instanceof ie&&ir(e)){for(let t of e.getFilters())if(!l$(t)&&!lH(t))return!1;return!0}return!1}function lK(e){if(eu(e instanceof n9||e instanceof ie),e instanceof n9)return e;if(1===e.filters.length)return lK(e.filters[0]);let t=e.filters.map(e=>lK(e)),r=ie.create(t,e.op);return lq(r=lX(r))?r:(eu(r instanceof ie),eu(it(r)),eu(r.filters.length>1),r.filters.reduce((e,t)=>lY(e,t)))}function lY(e,t){let r;return eu(e instanceof n9||e instanceof ie),eu(t instanceof n9||t instanceof ie),lX(r=e instanceof n9?t instanceof n9?lZ(e,t):lQ(e,t):t instanceof n9?lQ(t,e):lJ(e,t))}function lZ(e,t){return ie.create([e,t],"and")}function lJ(e,t){if(eu(e.filters.length>0&&t.filters.length>0),it(e)&&it(t))return ic(e,t.getFilters());let r=ir(e)?e:t,n=ir(e)?t:e,i=r.filters.map(e=>lY(e,n));return ie.create(i,"or")}function lQ(e,t){if(it(t))return ic(t,e.getFilters());{let r=t.filters.map(t=>lY(e,t));return ie.create(r,"or")}}function lX(e){if(eu(e instanceof n9||e instanceof ie),e instanceof n9)return e;let t=e.getFilters();if(1===t.length)return lX(t[0]);if(io(e))return e;let r=t.map(e=>lX(e)),n=[];return(r.forEach(t=>{t instanceof n9?n.push(t):t instanceof ie&&(t.op===e.op?n.push(...t.filters):n.push(t))}),1===n.length)?n[0]:ie.create(n,e.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this.collectionParentIndex=new l1}addToCollectionParentIndex(e,t){return this.collectionParentIndex.add(t),e2.resolve()}getCollectionParents(e,t){return e2.resolve(this.collectionParentIndex.getEntries(t))}addFieldIndex(e,t){return e2.resolve()}deleteFieldIndex(e,t){return e2.resolve()}deleteAllFieldIndexes(e){return e2.resolve()}createTargetIndexes(e,t){return e2.resolve()}getDocumentsMatchingTarget(e,t){return e2.resolve(null)}getIndexType(e,t){return e2.resolve(0)}getFieldIndexes(e,t){return e2.resolve([])}getNextCollectionGroupToUpdate(e){return e2.resolve(null)}getMinOffset(e,t){return e2.resolve(eJ.min())}getMinOffsetFromCollectionGroup(e,t){return e2.resolve(eJ.min())}updateCollectionGroup(e,t,r){return e2.resolve()}updateIndexEntries(e,t){return e2.resolve()}}class l1{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),n=this.index[t]||new rN(ek.comparator),i=!n.has(r);return this.index[t]=n.add(r),i}has(e){let t=e.lastSegment(),r=e.popLast(),n=this.index[t];return n&&n.has(r)}getEntries(e){return(this.index[e]||new rN(ek.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l2="IndexedDbIndexManager",l3=new Uint8Array(0);class l6{constructor(e,t){this.databaseId=t,this.collectionParentsCache=new l1,this.targetToDnfSubTargets=new or(e=>iC(e),(e,t)=>iO(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.collectionParentsCache.has(t)){let r=t.lastSegment(),n=t.popLast();e.addOnCommittedListener(()=>{this.collectionParentsCache.add(t)});let i={collectionId:r,parent:tg(n)};return l4(e).put(i)}return e2.resolve()}getCollectionParents(e,t){let r=[],n=IDBKeyRange.bound([t,""],[eO(t),""],!1,!0);return l4(e).loadAll(n).next(e=>{for(let n of e){if(n.collectionId!==t)break;r.push(tb(n.parent))}return r})}addFieldIndex(e,t){let r=l8(e),n=a4(t);delete n.indexId;let i=r.add(n);if(!t.indexState)return i.next();{let r=l7(e);return i.next(e=>{r.put(a8(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}}deleteFieldIndex(e,t){let r=l8(e),n=l7(e),i=l5(e);return r.delete(t.indexId).next(()=>n.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=l8(e),r=l5(e),n=l7(e);return t.deleteAll().next(()=>r.deleteAll()).next(()=>n.deleteAll())}createTargetIndexes(e,t){return e2.forEach(this.getSubTargets(t),t=>this.getIndexType(e,t).next(r=>{if(0===r||1===r){let r=new lV(t).buildTargetIndex();if(null!=r)return this.addFieldIndex(e,r)}}))}getDocumentsMatchingTarget(e,t){let r=l5(e),n=!0,i=new Map;return e2.forEach(this.getSubTargets(t),t=>this.getFieldIndex(e,t).next(e=>{n&&(n=!!e),i.set(t,e)})).next(()=>{if(!n)return e2.resolve(null);{let e=om(),n=[];return e2.forEach(i,(i,o)=>{ei(l2,`Using index ${eH(i)} to execute ${iC(t)}`);let s=iI(o,i),a=iD(o,i),l=iP(o,i),u=iN(o,i),c=this.encodeBound(i,o,l),d=this.encodeBound(i,o,u),h=this.encodeValues(i,o,a),p=this.generateIndexRanges(i.indexId,s,c,l.inclusive,d,u.inclusive,h);return e2.forEach(p,i=>r.loadFirst(i,t.limit).next(t=>{t.forEach(t=>{let r=eB.fromSegments(t.documentKey);e.has(r)||(e=e.add(r),n.push(r))})}))}).next(()=>n)}})}getSubTargets(e){let t=this.targetToDnfSubTargets.get(e);return t||(t=0===e.filters.length?[e]:lG(ie.create(e.filters,"and")).map(t=>iA(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.targetToDnfSubTargets.set(e,t)),t}generateIndexRanges(e,t,r,n,i,o,s){let a=(null!=t?t.length:1)*Math.max(r.length,i.length),l=a/(null!=t?t.length:1),u=[];for(let c=0;c<a;++c){let a=t?this.encodeSingleElement(t[c/l]):l3,d=this.generateLowerBound(e,a,r[c%l],n),h=this.generateUpperBound(e,a,i[c%l],o),p=s.map(t=>this.generateLowerBound(e,a,t,!0));u.push(...this.createRange(d,h,p))}return u}generateLowerBound(e,t,r,n){let i=new lj(e,eB.empty(),t,r);return n?i:i.successor()}generateUpperBound(e,t,r,n){let i=new lj(e,eB.empty(),t,r);return n?i.successor():i}getFieldIndex(e,t){let r=new lV(t),n=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,n).next(e=>{let t=null;for(let n of e)r.servedByIndex(n)&&(!t||n.fields.length>t.fields.length)&&(t=n);return t})}getIndexType(e,t){let r=2,n=this.getSubTargets(t);return e2.forEach(n,t=>this.getFieldIndex(e,t).next(e=>{e?0!==r&&e.fields.length<iL(t)&&(r=1):r=0})).next(()=>iB(t)&&n.length>1&&2===r?1:r)}encodeDirectionalElements(e,t){let r=new lB;for(let n of ez(e)){let e=t.data.field(n.fieldPath);if(null==e)return null;let i=r.forKind(n.kind);lv.INSTANCE.writeIndexValue(e,i)}return r.encodedBytes()}encodeSingleElement(e){let t=new lB;return lv.INSTANCE.writeIndexValue(e,t.forKind(0)),t.encodedBytes()}encodeDirectionalKey(e,t){let r=new lB;return lv.INSTANCE.writeIndexValue(nN(this.databaseId,t),r.forKind(eG(e))),r.encodedBytes()}encodeValues(e,t,r){if(null===r)return[];let n=[];n.push(new lB);let i=0;for(let o of ez(e)){let e=r[i++];for(let r of n)if(this.isInFilter(t,o.fieldPath)&&nB(e))n=this.expandIndexValues(n,o,e);else{let t=r.forKind(o.kind);lv.INSTANCE.writeIndexValue(e,t)}}return this.getEncodedBytes(n)}encodeBound(e,t,r){return this.encodeValues(e,t,r.position)}getEncodedBytes(e){let t=[];for(let r=0;r<e.length;++r)t[r]=e[r].encodedBytes();return t}expandIndexValues(e,t,r){let n=[...e],i=[];for(let e of r.arrayValue.values||[])for(let r of n){let n=new lB;n.seed(r.encodedBytes()),lv.INSTANCE.writeIndexValue(e,n.forKind(t.kind)),i.push(n)}return i}isInFilter(e,t){return!!e.filters.find(e=>e instanceof n9&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){let r=l8(e),n=l7(e);return(t?r.loadAll(t7,IDBKeyRange.bound(t,t)):r.loadAll()).next(e=>{let t=[];return e2.forEach(e,e=>n.get([e.indexId,this.uid]).next(r=>{t.push(a5(e,r))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{let r=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==r?r:eC(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,r){let n=l8(e),i=l7(e);return this.getNextSequenceNumber(e).next(e=>n.loadAll(t7,IDBKeyRange.bound(t,t)).next(t=>e2.forEach(t,t=>i.put(a8(t.indexId,this.uid,e,r)))))}updateIndexEntries(e,t){let r=new Map;return e2.forEach(t,(t,n)=>{let i=r.get(t.collectionGroup);return(i?e2.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next(i=>(r.set(t.collectionGroup,i),e2.forEach(i,r=>this.getExistingIndexEntries(e,t,r).next(t=>{let i=this.computeIndexEntries(n,r);return t.isEqual(i)?e2.resolve():this.updateEntries(e,n,r,t,i)}))))})}addIndexEntry(e,t,r,n){return l5(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,orderedDocumentKey:this.encodeDirectionalKey(r,t.key),documentKey:t.key.path.toArray()})}deleteIndexEntry(e,t,r,n){return l5(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,this.encodeDirectionalKey(r,t.key),t.key.path.toArray()])}getExistingIndexEntries(e,t,r){let n=l5(e),i=new rN(lF);return n.iterate({index:rs,range:IDBKeyRange.only([r.indexId,this.uid,this.encodeDirectionalKey(r,t)])},(e,n)=>{i=i.add(new lj(r.indexId,t,n.arrayValue,n.directionalValue))}).next(()=>i)}computeIndexEntries(e,t){let r=new rN(lF),n=this.encodeDirectionalElements(t,e);if(null==n)return r;let i=eV(t);if(null!=i){let o=e.data.field(i.fieldPath);if(nB(o))for(let i of o.arrayValue.values||[])r=r.add(new lj(t.indexId,e.key,this.encodeSingleElement(i),n))}else r=r.add(new lj(t.indexId,e.key,l3,n));return r}updateEntries(e,t,r,n,i){ei(l2,"Updating index entries for document '%s'",t.key);let o=[];return rM(n,i,lF,n=>{o.push(this.addIndexEntry(e,t,r,n))},n=>{o.push(this.deleteIndexEntry(e,t,r,n))}),e2.waitFor(o)}getNextSequenceNumber(e){let t=1;return l7(e).iterate({index:rr,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,r,n)=>{n.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((e,t)=>lF(e,t)).filter((e,t,r)=>!t||0!==lF(e,r[t-1]));let n=[];for(let i of(n.push(e),r)){let r=lF(i,e),o=lF(i,t);if(0===r)n[0]=e.successor();else if(r>0&&o<0)n.push(i),n.push(i.successor());else if(o>0)break}n.push(t);let i=[];for(let e=0;e<n.length;e+=2){if(this.isRangeMatchable(n[e],n[e+1]))return[];let t=[n[e].indexId,this.uid,n[e].arrayValue,n[e].directionalValue,l3,[]],r=[n[e+1].indexId,this.uid,n[e+1].arrayValue,n[e+1].directionalValue,l3,[]];i.push(IDBKeyRange.bound(t,r))}return i}isRangeMatchable(e,t){return lF(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(l9)}getMinOffset(e,t){return e2.mapArray(this.getSubTargets(t),t=>this.getFieldIndex(e,t).next(e=>e||el())).next(l9)}}function l4(e){return rC(e,tQ)}function l5(e){return rC(e,ri)}function l8(e){return rC(e,t5)}function l7(e){return rC(e,re)}function l9(e){eu(0!==e.length);let t=e[0].indexState.offset,r=t.largestBatchId;for(let n=1;n<e.length;n++){let i=e[n].indexState.offset;0>eQ(i,t)&&(t=i),r<i.largestBatchId&&(r=i.largestBatchId)}return new eJ(t.readTime,t.documentKey,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(e,t,r){let n=e.store(tC),i=e.store(tN),o=[],s=IDBKeyRange.only(r.batchId),a=0,l=n.iterate({range:s},(e,t,r)=>(a++,r.delete()));o.push(l.next(()=>{eu(1===a)}));let u=[];for(let e of r.mutations){let n=tD(t,e.key.path,r.batchId);o.push(i.delete(n)),u.push(e.key)}return e2.waitFor(o).next(()=>u)}function ut(e){let t;if(!e)return 0;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else if(e.noDocument)t=e.noDocument;else throw el();return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,t,r,n){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=n,this.documentKeysByBatchId={}}static forUser(e,t,r,n){return eu(""!==e.uid),new ur(e.isAuthenticated()?e.uid:"",t,r,n)}checkEmpty(e){let t=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uo(e).iterate({index:tO,range:r},(e,r,n)=>{t=!1,n.done()}).next(()=>t)}addMutationBatch(e,t,r,n){let i=us(e),o=uo(e);return o.add({}).next(s=>{eu("number"==typeof s);let a=new o5(s,t,r,n),l=a$(this.serializer,this.userId,a),u=[],c=new rN((e,t)=>eC(e.canonicalString(),t.canonicalString()));for(let e of n){let t=tD(this.userId,e.key.path,s);c=c.add(e.key.path.popLast()),u.push(o.put(l)),u.push(i.put(t,tP))}return c.forEach(t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.documentKeysByBatchId[s]=a.keys()}),e2.waitFor(u).next(()=>a)})}lookupMutationBatch(e,t){return uo(e).get(t).next(e=>e?(eu(e.userId===this.userId),aH(this.serializer,e)):null)}lookupMutationKeys(e,t){return this.documentKeysByBatchId[t]?e2.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next(e=>{if(!e)return null;{let r=e.keys();return this.documentKeysByBatchId[t]=r,r}})}getNextMutationBatchAfterBatchId(e,t){let r=t+1,n=IDBKeyRange.lowerBound([this.userId,r]),i=null;return uo(e).iterate({index:tO,range:n},(e,t,n)=>{t.userId===this.userId&&(eu(t.batchId>=r),i=aH(this.serializer,t)),n.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=r4;return uo(e).iterate({index:tO,range:t,reverse:!0},(e,t,n)=>{r=t.batchId,n.done()}).next(()=>r)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,r4],[this.userId,Number.POSITIVE_INFINITY]);return uo(e).loadAll(tO,t).next(e=>e.map(e=>aH(this.serializer,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){let r=tI(this.userId,t.path),n=IDBKeyRange.lowerBound(r),i=[];return us(e).iterate({range:n},(r,n,o)=>{let[s,a,l]=r,u=tb(a);if(s!==this.userId||!t.path.isEqual(u)){o.done();return}return uo(e).get(l).next(e=>{if(!e)throw el();eu(e.userId===this.userId),i.push(aH(this.serializer,e))})}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rN(eC),n=[];return t.forEach(t=>{let i=tI(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=us(e).iterate({range:o},(e,n,i)=>{let[o,s,a]=e,l=tb(s);if(o!==this.userId||!t.path.isEqual(l)){i.done();return}r=r.add(a)});n.push(s)}),e2.waitFor(n).next(()=>this.lookupMutationBatches(e,r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,n=r.length+1,i=tI(this.userId,r),o=IDBKeyRange.lowerBound(i),s=new rN(eC);return us(e).iterate({range:o},(e,t,i)=>{let[o,a,l]=e,u=tb(a);if(o!==this.userId||!r.isPrefixOf(u)){i.done();return}u.length===n&&(s=s.add(l))}).next(()=>this.lookupMutationBatches(e,s))}lookupMutationBatches(e,t){let r=[],n=[];return t.forEach(t=>{n.push(uo(e).get(t).next(e=>{if(null===e)throw el();eu(e.userId===this.userId),r.push(aH(this.serializer,e))}))}),e2.waitFor(n).next(()=>r)}removeMutationBatch(e,t){return ue(e.simpleDbTransaction,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.removeCachedMutationKeys(t.batchId)}),e2.forEach(r,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}removeCachedMutationKeys(e){delete this.documentKeysByBatchId[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return e2.resolve();let r=IDBKeyRange.lowerBound(tx(this.userId)),n=[];return us(e).iterate({range:r},(e,t,r)=>{if(e[0]!==this.userId){r.done();return}{let t=tb(e[1]);n.push(t)}}).next(()=>{eu(0===n.length)})})}containsKey(e,t){return un(e,this.userId,t)}getMutationQueueMetadata(e){return ua(e).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:r4,lastStreamToken:""})}}function un(e,t,r){let n=tI(t,r.path),i=n[1],o=IDBKeyRange.lowerBound(n),s=!1;return us(e).iterate({range:o,keysOnly:!0},(e,r,n)=>{let[o,a,l]=e;o===t&&a===i&&(s=!0),n.done()}).next(()=>s)}function ui(e,t){let r=!1;return ua(e).iterateSerial(n=>un(e,n,t).next(e=>(e&&(r=!0),e2.resolve(!e)))).next(()=>r)}function uo(e){return rC(e,tC)}function us(e){return rC(e,tN)}function ua(e){return rC(e,tT)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul=2;class uu{constructor(e){this.lastId=e}next(){return this.lastId+=ul,this.lastId}static forTargetCache(){return new uu(2-ul)}static forSyncEngine(){return new uu(1-ul)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.retrieveMetadata(e).next(t=>{let r=new uu(t.highestTargetId);return t.highestTargetId=r.next(),this.saveMetadata(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.retrieveMetadata(e).next(e=>eD.fromTimestamp(new eI(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.retrieveMetadata(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.retrieveMetadata(e).next(n=>(n.highestListenSequenceNumber=t,r&&(n.lastRemoteSnapshotVersion=r.toTimestamp()),t>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t),this.saveMetadata(e,n)))}addTargetData(e,t){return this.saveTargetData(e,t).next(()=>this.retrieveMetadata(e).next(r=>(r.targetCount+=1,this.updateMetadataFromTargetData(t,r),this.saveMetadata(e,r))))}updateTargetData(e,t){return this.saveTargetData(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ud(e).delete(t.targetId)).next(()=>this.retrieveMetadata(e)).next(t=>(eu(t.targetCount>0),t.targetCount-=1,this.saveMetadata(e,t)))}removeTargets(e,t,r){let n=0,i=[];return ud(e).iterate((o,s)=>{let a=aq(s);a.sequenceNumber<=t&&null===r.get(a.targetId)&&(n++,i.push(this.removeTargetData(e,a)))}).next(()=>e2.waitFor(i)).next(()=>n)}forEachTarget(e,t){return ud(e).iterate((e,r)=>{t(aq(r))})}retrieveMetadata(e){return uh(e).get(tZ).next(e=>(eu(null!==e),e))}saveMetadata(e,t){return uh(e).put(tZ,t)}saveTargetData(e,t){return ud(e).put(aW(this.serializer,t))}updateMetadataFromTargetData(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.retrieveMetadata(e).next(e=>e.targetCount)}getTargetData(e,t){let r=iC(t),n=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),i=null;return ud(e).iterate({range:n,index:t$},(e,r,n)=>{let o=aq(r);iO(t,o.target)&&(i=o,n.done())}).next(()=>i)}addMatchingKeys(e,t,r){let n=[],i=up(e);return t.forEach(t=>{let o=tg(t.path);n.push(i.put({targetId:r,path:o})),n.push(this.referenceDelegate.addReference(e,r,t))}),e2.waitFor(n)}removeMatchingKeys(e,t,r){let n=up(e);return e2.forEach(t,t=>{let i=tg(t.path);return e2.waitFor([n.delete([r,i]),this.referenceDelegate.removeReference(e,r,t)])})}removeMatchingKeysForTargetId(e,t){let r=up(e),n=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(n)}getMatchingKeysForTargetId(e,t){let r=IDBKeyRange.bound([t],[t+1],!1,!0),n=up(e),i=om();return n.iterate({range:r,keysOnly:!0},(e,t,r)=>{let n=new eB(tb(e[1]));i=i.add(n)}).next(()=>i)}containsKey(e,t){let r=tg(t.path),n=IDBKeyRange.bound([r],[eO(r)],!1,!0),i=0;return up(e).iterate({index:tK,keysOnly:!0,range:n},([e,t],r,n)=>{0!==e&&(i++,n.done())}).next(()=>i>0)}getTargetDataForTarget(e,t){return ud(e).get(t).next(e=>e?aq(e):null)}}function ud(e){return rC(e,tz)}function uh(e){return rC(e,tJ)}function up(e){return rC(e,tq)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},um=-1,ug=41943040;class uy{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new uy(e,uy.DEFAULT_COLLECTION_PERCENTILE,uy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}uy.DEFAULT_COLLECTION_PERCENTILE=10,uy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,uy.DEFAULT=new uy(ug,uy.DEFAULT_COLLECTION_PERCENTILE,uy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),uy.DISABLED=new uy(um,0,0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uv="LruGarbageCollector",ub=1048576,uE=6e4,uS=3e5;function u_([e,t],[r,n]){let i=eC(e,r);return 0===i?eC(t,n):i}class uT{constructor(e){this.maxElements=e,this.buffer=new rN(u_),this.previousIndex=0}nextIndex(){return++this.previousIndex}addElement(e){let t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();0>u_(t,e)&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uA{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.gcTask=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==um&&this.scheduleGC(uE)}stop(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)}get started(){return null!==this.gcTask}scheduleGC(e){ei(uv,`Garbage collection scheduled in ${e}ms`),this.gcTask=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.gcTask=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){te(e)?ei(uv,"Ignoring IndexedDB error during garbage collection: ",e):await e1(e)}await this.scheduleGC(uS)})}}class uC{constructor(e,t){this.delegate=e,this.params=t}calculateTargetCount(e,t){return this.delegate.getSequenceNumberCount(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return e2.resolve(td.INVALID);let r=new uT(t);return this.delegate.forEachTarget(e,e=>r.addElement(e.sequenceNumber)).next(()=>this.delegate.forEachOrphanedDocumentSequenceNumber(e,e=>r.addElement(e))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.delegate.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.delegate.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===um?(ei("LruGarbageCollector","Garbage collection skipped; disabled"),e2.resolve(uf)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ei("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uf):this.runGarbageCollection(e,t))}getCacheSize(e){return this.delegate.getCacheSize(e)}runGarbageCollection(e,t){let r,i,o,s,a,l,u;let c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(ei("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),i=this.params.maximumSequenceNumbersToCollect):i=t,s=Date.now(),this.nthSequenceNumber(e,i))).next(n=>(r=n,a=Date.now(),this.removeTargets(e,r,t))).next(t=>(o=t,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(e=>(u=Date.now(),en()<=n.DEBUG&&ei("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in ${a-s}ms
	Removed ${o} targets in ${l-a}ms
	Removed ${e} documents in ${u-l}ms
Total Duration: ${u-c}ms`),e2.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:e})))}}function uw(e,t){return new uC(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,t){this.db=e,this.garbageCollector=uw(this,t)}getSequenceNumberCount(e){let t=this.orphanedDocumentCount(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}orphanedDocumentCount(e){let t=0;return this.forEachOrphanedDocumentSequenceNumber(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}forEachOrphanedDocumentSequenceNumber(e,t){return this.forEachOrphanedDocument(e,(e,r)=>t(r))}addReference(e,t,r){return uI(e,r)}removeReference(e,t,r){return uI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return uI(e,t)}isPinned(e,t){return ui(e,t)}removeOrphanedDocuments(e,t){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),n=[],i=0;return this.forEachOrphanedDocument(e,(o,s)=>{if(s<=t){let t=this.isPinned(e,o).next(t=>{if(!t)return i++,r.getEntry(e,o).next(()=>(r.removeEntry(o,eD.min()),up(e).delete(uR(o))))});n.push(t)}}).next(()=>e2.waitFor(n)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return uI(e,t)}forEachOrphanedDocument(e,t){let r;let n=up(e),i=td.INVALID;return n.iterate({index:tK},([e,n],{path:o,sequenceNumber:s})=>{0===e?(i!==td.INVALID&&t(new eB(tb(r)),i),i=s,r=o):i=td.INVALID}).next(()=>{i!==td.INVALID&&t(new eB(tb(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function uR(e){return[0,tg(e.path)]}function ux(e,t){return{targetId:0,path:tg(e.path),sequenceNumber:t}}function uI(e,t){return up(e).put(ux(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.changes=new or(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nJ.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return void 0!==r?e2.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return uL(e).put(r)}removeEntry(e,t,r){return uL(e).delete(uj(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.setMetadata(e,r)))}getEntry(e,t){let r=nJ.newInvalidDocument(t);return uL(e).iterate({index:tL,range:IDBKeyRange.only(uB(t))},(e,n)=>{r=this.maybeDecodeDocument(t,n)}).next(()=>r)}getSizedEntry(e,t){let r={size:0,document:nJ.newInvalidDocument(t)};return uL(e).iterate({index:tL,range:IDBKeyRange.only(uB(t))},(e,n)=>{r={document:this.maybeDecodeDocument(t,n),size:ut(n)}}).next(()=>r)}getEntries(e,t){let r=oi();return this.forEachDbEntry(e,t,(e,t)=>{let n=this.maybeDecodeDocument(e,t);r=r.insert(e,n)}).next(()=>r)}getSizedEntries(e,t){let r=oi(),n=new rx(eB.comparator);return this.forEachDbEntry(e,t,(e,t)=>{let i=this.maybeDecodeDocument(e,t);r=r.insert(e,i),n=n.insert(e,ut(t))}).next(()=>({documents:r,sizeMap:n}))}forEachDbEntry(e,t,r){if(t.isEmpty())return e2.resolve();let n=new rN(uU);t.forEach(e=>n=n.add(e));let i=IDBKeyRange.bound(uB(n.first()),uB(n.last())),o=n.getIterator(),s=o.getNext();return uL(e).iterate({index:tL,range:i},(e,t,n)=>{let i=eB.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&0>uU(s,i);)r(s,null),s=o.getNext();s&&s.isEqual(i)&&(r(s,t),s=o.hasNext()?o.getNext():null),s?n.skip(uB(s)):n.done()}).next(()=>{for(;s;)r(s,null),s=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,r,n,i){let o=t.path,s=[o.popLast().toArray(),o.lastSegment(),aU(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return uL(e).loadAll(IDBKeyRange.bound(s,a,!0)).next(e=>{null==i||i.incrementDocumentReadCount(e.length);let r=oi();for(let i of e){let e=this.maybeDecodeDocument(eB.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(i6(t,e)||n.has(e.key))&&(r=r.insert(e.key,e))}return r})}getAllFromCollectionGroup(e,t,r,n){let i=oi(),o=uF(t,r),s=uF(t,eJ.max());return uL(e).iterate({index:tj,range:IDBKeyRange.bound(o,s,!0)},(e,t,r)=>{let o=this.maybeDecodeDocument(eB.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(i=i.insert(o.key,o)).size===n&&r.done()}).next(()=>i)}newChangeBuffer(e){return new uk(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return uM(e).get(tV).next(e=>(eu(!!e),e))}setMetadata(e,t){return uM(e).put(tV,t)}maybeDecodeDocument(e,t){if(t){let e=aj(this.serializer,t);if(!(e.isNoDocument()&&e.version.isEqual(eD.min())))return e}return nJ.newInvalidDocument(e)}}function uN(e){return new uP(e)}class uk extends uD{constructor(e,t){super(),this.documentCache=e,this.trackRemovals=t,this.documentStates=new or(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){let t=[],r=0,n=new rN((e,t)=>eC(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,o)=>{let s=this.documentStates.get(i);if(t.push(this.documentCache.removeEntry(e,i,s.readTime)),o.isValidDocument()){let a=aF(this.documentCache.serializer,o);n=n.add(i.path.popLast());let l=ut(a);r+=l-s.size,t.push(this.documentCache.addEntry(e,i,a))}else if(r-=s.size,this.trackRemovals){let r=aF(this.documentCache.serializer,o.convertToNoDocument(eD.min()));t.push(this.documentCache.addEntry(e,i,r))}}),n.forEach(r=>{t.push(this.documentCache.indexManager.addToCollectionParentIndex(e,r))}),t.push(this.documentCache.updateMetadata(e,r)),e2.waitFor(t)}getFromCache(e,t){return this.documentCache.getSizedEntry(e,t).next(e=>(this.documentStates.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.documentCache.getSizedEntries(e,t).next(({documents:e,sizeMap:t})=>(t.forEach((t,r)=>{this.documentStates.set(t,{size:r,readTime:e.get(t).readTime})}),e))}}function uM(e){return rC(e,tU)}function uL(e){return rC(e,tk)}function uB(e){let t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function uj(e,t){let r=e.path.toArray();return[r.slice(0,r.length-2),r[r.length-2],aU(t),r[r.length-1]]}function uF(e,t){let r=t.documentKey.path.toArray();return[e,aU(t.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function uU(e,t){let r=e.path.toArray(),n=t.path.toArray(),i=0;for(let e=0;e<r.length-2&&e<n.length-2;++e)if(i=eC(r[e],n[e]))return i;return(i=eC(r.length,n.length))||(i=eC(r[r.length-2],n[n.length-2]))?i:eC(r[r.length-1],n[n.length-1])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uV=17;/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e,t,r,n){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=n}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(n=>(r=n,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==r&&o$(r.mutation,e,rB.empty(),eI.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,om()).next(()=>t))}getLocalViewOfDocuments(e,t,r=om()){let n=ou();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,r).next(e=>{let t=os();return e.forEach((e,r)=>{t=t.insert(e,r.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){let r=ou();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,om()))}populateOverlays(e,t,r){let n=[];return r.forEach(e=>{t.has(e)||n.push(e)}),this.documentOverlayCache.getOverlays(e,n).next(e=>{e.forEach((e,r)=>{t.set(e,r)})})}computeViews(e,t,r,n){let i=oi(),o=od(),s=oa();return t.forEach((e,t)=>{let s=r.get(t.key);n.has(t.key)&&(void 0===s||s.mutation instanceof oZ)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),o$(s.mutation,t,s.mutation.getFieldMask(),eI.now())):o.set(t.key,rB.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var r;return s.set(e,new uz(t,null!==(r=o.get(e))&&void 0!==r?r:null))}),s))}recalculateAndSaveOverlays(e,t){let r=od(),n=new rx((e,t)=>e-t),i=om();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(let i of e)i.keys().forEach(e=>{let o=t.get(e);if(null===o)return;let s=r.get(e)||rB.empty();s=i.applyToLocalView(o,s),r.set(e,s);let a=(n.get(i.batchId)||om()).add(e);n=n.insert(i.batchId,a)})}).next(()=>{let o=[],s=n.getReverseIterator();for(;s.hasNext();){let n=s.getNext(),a=n.key,l=n.value,u=oc();l.forEach(e=>{if(!i.has(e)){let n=oz(t.get(e),r.get(e));null!==n&&u.set(e,n),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,a,u))}return e2.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,r,n){return i$(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):iH(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,n):this.getDocumentsMatchingCollectionQuery(e,t,r,n)}getNextDocuments(e,t,r,n){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,n).next(i=>{let o=n-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,n-i.size):e2.resolve(ou()),s=ej,a=i;return o.next(t=>e2.forEach(t,(t,r)=>(s<r.largestBatchId&&(s=r.largestBatchId),i.get(t))?e2.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)})).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,om())).next(e=>({batchId:s,changes:ol(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new eB(t)).next(e=>{let t=os();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,r,n){let i=t.collectionGroup,o=os();return this.indexManager.getCollectionParents(e,i).next(s=>e2.forEach(s,s=>{let a=iV(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,r,n).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,n){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,n))).next(e=>{i.forEach((t,r)=>{let n=r.getKey();null===e.get(n)&&(e=e.insert(n,nJ.newInvalidDocument(n)))});let r=os();return e.forEach((e,n)=>{let o=i.get(e);void 0!==o&&o$(o.mutation,n,rB.empty(),eI.now()),i6(t,n)&&(r=r.insert(e,n))}),r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e){this.serializer=e,this.bundles=new Map,this.namedQueries=new Map}getBundleMetadata(e,t){return e2.resolve(this.bundles.get(t))}saveBundleMetadata(e,t){return this.bundles.set(t.id,a1(t)),e2.resolve()}getNamedQuery(e,t){return e2.resolve(this.namedQueries.get(t))}saveNamedQuery(e,t){return this.namedQueries.set(t.name,a0(t)),e2.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(){this.overlays=new rx(eB.comparator),this.overlayByBatchId=new Map}getOverlay(e,t){return e2.resolve(this.overlays.get(t))}getOverlays(e,t){let r=ou();return e2.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&r.set(t,e)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((r,n)=>{this.saveOverlay(e,t,n)}),e2.resolve()}removeOverlaysForBatchId(e,t,r){let n=this.overlayByBatchId.get(r);return void 0!==n&&(n.forEach(e=>this.overlays=this.overlays.remove(e)),this.overlayByBatchId.delete(r)),e2.resolve()}getOverlaysForCollection(e,t,r){let n=ou(),i=t.length+1,o=new eB(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){let e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>r&&n.set(e.getKey(),e)}return e2.resolve(n)}getOverlaysForCollectionGroup(e,t,r,n){let i=new rx((e,t)=>e-t),o=this.overlays.getIterator();for(;o.hasNext();){let e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>r){let t=i.get(e.largestBatchId);null===t&&(t=ou(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let s=ou(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=n)););return e2.resolve(s)}saveOverlay(e,t,r){let n=this.overlays.get(r.key);if(null!==n){let e=this.overlayByBatchId.get(n.largestBatchId).delete(r.key);this.overlayByBatchId.set(n.largestBatchId,e)}this.overlays=this.overlays.insert(r.key,new o7(t,r));let i=this.overlayByBatchId.get(t);void 0===i&&(i=om(),this.overlayByBatchId.set(t,i)),this.overlayByBatchId.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(){this.sessionToken=rU.EMPTY_BYTE_STRING}getSessionToken(e){return e2.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,e2.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(){this.refsByKey=new rN(uK.compareByKey),this.refsByTarget=new rN(uK.compareByTargetId)}isEmpty(){return this.refsByKey.isEmpty()}addReference(e,t){let r=new uK(e,t);this.refsByKey=this.refsByKey.add(r),this.refsByTarget=this.refsByTarget.add(r)}addReferences(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.removeRef(new uK(e,t))}removeReferences(e,t){e.forEach(e=>this.removeReference(e,t))}removeReferencesForId(e){let t=new eB(new ek([])),r=new uK(t,e),n=new uK(t,e+1),i=[];return this.refsByTarget.forEachInRange([r,n],e=>{this.removeRef(e),i.push(e.key)}),i}removeAllReferences(){this.refsByKey.forEach(e=>this.removeRef(e))}removeRef(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)}referencesForId(e){let t=new eB(new ek([])),r=new uK(t,e),n=new uK(t,e+1),i=om();return this.refsByTarget.forEachInRange([r,n],e=>{i=i.add(e.key)}),i}containsKey(e){let t=new uK(e,0),r=this.refsByKey.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class uK{constructor(e,t){this.key=e,this.targetOrBatchId=t}static compareByKey(e,t){return eB.comparator(e.key,t.key)||eC(e.targetOrBatchId,t.targetOrBatchId)}static compareByTargetId(e,t){return eC(e.targetOrBatchId,t.targetOrBatchId)||eB.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uY{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.batchesByDocumentKey=new rN(uK.compareByKey)}checkEmpty(e){return e2.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,n){let i=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new o5(i,t,r,n);for(let t of(this.mutationQueue.push(o),n))this.batchesByDocumentKey=this.batchesByDocumentKey.add(new uK(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return e2.resolve(o)}lookupMutationBatch(e,t){return e2.resolve(this.findMutationBatch(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,n=this.indexOfBatchId(r),i=n<0?0:n;return e2.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return e2.resolve(0===this.mutationQueue.length?r4:this.nextBatchId-1)}getAllMutationBatches(e){return e2.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new uK(t,0),n=new uK(t,Number.POSITIVE_INFINITY),i=[];return this.batchesByDocumentKey.forEachInRange([r,n],e=>{let t=this.findMutationBatch(e.targetOrBatchId);i.push(t)}),e2.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rN(eC);return t.forEach(e=>{let t=new uK(e,0),n=new uK(e,Number.POSITIVE_INFINITY);this.batchesByDocumentKey.forEachInRange([t,n],e=>{r=r.add(e.targetOrBatchId)})}),e2.resolve(this.findMutationBatches(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,n=r.length+1,i=r;eB.isDocumentKey(i)||(i=i.child(""));let o=new uK(new eB(i),0),s=new rN(eC);return this.batchesByDocumentKey.forEachWhile(e=>{let t=e.key.path;return!!r.isPrefixOf(t)&&(t.length===n&&(s=s.add(e.targetOrBatchId)),!0)},o),e2.resolve(this.findMutationBatches(s))}findMutationBatches(e){let t=[];return e.forEach(e=>{let r=this.findMutationBatch(e);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){eu(0===this.indexOfExistingBatchId(t.batchId,"removed")),this.mutationQueue.shift();let r=this.batchesByDocumentKey;return e2.forEach(t.mutations,n=>{let i=new uK(n.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,n.key)}).next(()=>{this.batchesByDocumentKey=r})}removeCachedMutationKeys(e){}containsKey(e,t){let r=new uK(t,0),n=this.batchesByDocumentKey.firstAfterOrEqual(r);return e2.resolve(t.isEqual(n&&n.key))}performConsistencyCheck(e){return this.mutationQueue.length,e2.resolve()}indexOfExistingBatchId(e,t){return this.indexOfBatchId(e)}indexOfBatchId(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}findMutationBatch(e){let t=this.indexOfBatchId(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uZ(){return new rx(eB.comparator)}class uJ{constructor(e){this.sizer=e,this.docs=uZ(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,n=this.docs.get(r),i=n?n.size:0,o=this.sizer(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return e2.resolve(r?r.document.mutableCopy():nJ.newInvalidDocument(t))}getEntries(e,t){let r=oi();return t.forEach(e=>{let t=this.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():nJ.newInvalidDocument(e))}),e2.resolve(r)}getDocumentsMatchingQuery(e,t,r,n){let i=oi(),o=t.path,s=new eB(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){let{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;!(e.path.length>o.length+1||0>=eQ(eZ(s),r))&&(n.has(s.key)||i6(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return e2.resolve(i)}getAllFromCollectionGroup(e,t,r,n){el()}forEachDocumentKey(e,t){return e2.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new uX(this)}getSize(e){return e2.resolve(this.size)}}function uQ(e){return new uJ(e)}class uX extends uD{constructor(e){super(),this.documentCache=e}applyChanges(e){let t=[];return this.changes.forEach((r,n)=>{n.isValidDocument()?t.push(this.documentCache.addEntry(e,n)):this.documentCache.removeEntry(r)}),e2.waitFor(t)}getFromCache(e,t){return this.documentCache.getEntry(e,t)}getAllFromCache(e,t){return this.documentCache.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e){this.persistence=e,this.targets=new or(e=>iC(e),iO),this.lastRemoteSnapshotVersion=eD.min(),this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new uW,this.targetCount=0,this.targetIdGenerator=uu.forTargetCache()}forEachTarget(e,t){return this.targets.forEach((e,r)=>t(r)),e2.resolve()}getLastRemoteSnapshotVersion(e){return e2.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return e2.resolve(this.highestSequenceNumber)}allocateTargetId(e){return this.highestTargetId=this.targetIdGenerator.next(),e2.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),e2.resolve()}saveTargetData(e){this.targets.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.targetIdGenerator=new uu(t),this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)}addTargetData(e,t){return this.saveTargetData(t),this.targetCount+=1,e2.resolve()}updateTargetData(e,t){return this.saveTargetData(t),e2.resolve()}removeTargetData(e,t){return this.targets.delete(t.target),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,e2.resolve()}removeTargets(e,t,r){let n=0,i=[];return this.targets.forEach((o,s)=>{s.sequenceNumber<=t&&null===r.get(s.targetId)&&(this.targets.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),n++)}),e2.waitFor(i).next(()=>n)}getTargetCount(e){return e2.resolve(this.targetCount)}getTargetData(e,t){let r=this.targets.get(t)||null;return e2.resolve(r)}addMatchingKeys(e,t,r){return this.references.addReferences(t,r),e2.resolve()}removeMatchingKeys(e,t,r){this.references.removeReferences(t,r);let n=this.persistence.referenceDelegate,i=[];return n&&t.forEach(t=>{i.push(n.markPotentiallyOrphaned(e,t))}),e2.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.references.removeReferencesForId(t),e2.resolve()}getMatchingKeysForTargetId(e,t){let r=this.references.referencesForId(t);return e2.resolve(r)}containsKey(e,t){return e2.resolve(this.references.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u1="MemoryPersistence";class u2{constructor(e,t){this.mutationQueues={},this.overlays={},this.listenSequence=new td(0),this._started=!1,this._started=!0,this.globalsCache=new uq,this.referenceDelegate=e(this),this.targetCache=new u0(this);let r=e=>this.referenceDelegate.documentSize(e);this.indexManager=new l0,this.remoteDocumentCache=uQ(r),this.serializer=new aB(t),this.bundleCache=new u$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this._started=!1,Promise.resolve()}get started(){return this._started}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uH,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.mutationQueues[e.toKey()];return r||(r=new uY(t,this.referenceDelegate),this.mutationQueues[e.toKey()]=r),r}getGlobalsCache(){return this.globalsCache}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.bundleCache}runTransaction(e,t,r){ei(u1,"Starting transaction:",e);let n=new u3(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),r(n).next(e=>this.referenceDelegate.onTransactionCommitted(n).next(()=>e)).toPromise().then(e=>(n.raiseOnCommittedEvent(),e))}mutationQueuesContainKey(e,t){return e2.or(Object.values(this.mutationQueues).map(r=>()=>r.containsKey(e,t)))}}class u3 extends e0{constructor(e){super(),this.currentSequenceNumber=e}}class u6{constructor(e){this.persistence=e,this.localViewReferences=new uW,this._orphanedDocuments=null}static factory(e){return new u6(e)}get orphanedDocuments(){if(this._orphanedDocuments)return this._orphanedDocuments;throw el()}addReference(e,t,r){return this.localViewReferences.addReference(r,t),this.orphanedDocuments.delete(r.toString()),e2.resolve()}removeReference(e,t,r){return this.localViewReferences.removeReference(r,t),this.orphanedDocuments.add(r.toString()),e2.resolve()}markPotentiallyOrphaned(e,t){return this.orphanedDocuments.add(t.toString()),e2.resolve()}removeTarget(e,t){this.localViewReferences.removeReferencesForId(t.targetId).forEach(e=>this.orphanedDocuments.add(e.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.orphanedDocuments.add(e.toString()))}).next(()=>r.removeTargetData(e,t))}onTransactionStarted(){this._orphanedDocuments=new Set}onTransactionCommitted(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return e2.forEach(this.orphanedDocuments,r=>{let n=eB.fromPath(r);return this.isReferenced(e,n).next(e=>{e||t.removeEntry(n,eD.min())})}).next(()=>(this._orphanedDocuments=null,t.apply(e)))}updateLimboDocument(e,t){return this.isReferenced(e,t).next(e=>{e?this.orphanedDocuments.delete(t.toString()):this.orphanedDocuments.add(t.toString())})}documentSize(e){return 0}isReferenced(e,t){return e2.or([()=>e2.resolve(this.localViewReferences.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.mutationQueuesContainKey(e,t)])}}class u4{constructor(e,t){this.persistence=e,this.orphanedSequenceNumbers=new or(e=>tg(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=uw(this,t)}static factory(e,t){return new u4(e,t)}onTransactionStarted(){}onTransactionCommitted(e){return e2.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}getSequenceNumberCount(e){let t=this.orphanedDocumentCount(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}orphanedDocumentCount(e){let t=0;return this.forEachOrphanedDocumentSequenceNumber(e,e=>{t++}).next(()=>t)}forEachOrphanedDocumentSequenceNumber(e,t){return e2.forEach(this.orphanedSequenceNumbers,(r,n)=>this.isPinned(e,r,n).next(e=>e?e2.resolve():t(n)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,n=this.persistence.getRemoteDocumentCache(),i=n.newChangeBuffer();return n.forEachDocumentKey(e,n=>this.isPinned(e,n,t).next(e=>{e||(r++,i.removeEntry(n,eD.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),e2.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.orphanedSequenceNumbers.set(r,e.currentSequenceNumber),e2.resolve()}removeReference(e,t,r){return this.orphanedSequenceNumbers.set(r,e.currentSequenceNumber),e2.resolve()}updateLimboDocument(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),e2.resolve()}documentSize(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=nI(e.data.value)),t}isPinned(e,t,r){return e2.or([()=>this.persistence.mutationQueuesContainKey(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.orphanedSequenceNumbers.get(t);return e2.resolve(void 0!==e&&e>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e){this.serializer=e}createOrUpgrade(e,t,r,n){let i=new e4("createOrUpgrade",t);r<1&&n>=1&&(u7(e),u9(e),ci(e),ct(e));let o=e2.resolve();return r<3&&n>=3&&(0!==r&&(co(e),ci(e)),o=o.next(()=>ca(i))),r<4&&n>=4&&(0!==r&&(o=o.next(()=>ce(e,i))),o=o.next(()=>{cl(e)})),r<5&&n>=5&&(o=o.next(()=>this.removeAcknowledgedMutations(i))),r<6&&n>=6&&(o=o.next(()=>(cn(e),this.addDocumentGlobal(i)))),r<7&&n>=7&&(o=o.next(()=>this.ensureSequenceNumbers(i))),r<8&&n>=8&&(o=o.next(()=>this.createCollectionParentIndex(e,i))),r<9&&n>=9&&(o=o.next(()=>{cs(e)})),r<10&&n>=10&&(o=o.next(()=>this.rewriteCanonicalIds(i))),r<11&&n>=11&&(o=o.next(()=>{cu(e),cc(e)})),r<12&&n>=12&&(o=o.next(()=>{ch(e)})),r<13&&n>=13&&(o=o.next(()=>cr(e)).next(()=>this.rewriteRemoteDocumentCache(e,i)).next(()=>e.deleteObjectStore(tE))),r<14&&n>=14&&(o=o.next(()=>this.runOverlayMigration(e,i))),r<15&&n>=15&&(o=o.next(()=>cd(e))),r<16&&n>=16&&(o=o.next(()=>{t.objectStore(re).clear()}).next(()=>{t.objectStore(ri).clear()})),r<17&&n>=17&&(o=o.next(()=>{cp(e)})),o}addDocumentGlobal(e){let t=0;return e.store(tE).iterate((e,r)=>{t+=ut(r)}).next(()=>{let r={byteSize:t};return e.store(tU).put(tV,r)})}removeAcknowledgedMutations(e){let t=e.store(tT),r=e.store(tC);return t.loadAll().next(t=>e2.forEach(t,t=>{let n=IDBKeyRange.bound([t.userId,r4],[t.userId,t.lastAcknowledgedBatchId]);return r.loadAll(tO,n).next(r=>e2.forEach(r,r=>{eu(r.userId===t.userId);let n=aH(this.serializer,r);return ue(e,t.userId,n).next(()=>{})}))}))}ensureSequenceNumbers(e){let t=e.store(tq),r=e.store(tE);return e.store(tJ).get(tZ).next(e=>{let n=r=>t.put({targetId:0,path:tg(r),sequenceNumber:e.highestListenSequenceNumber}),i=[];return r.iterate((e,r)=>{let o=new ek(e),s=u8(o);i.push(t.get(s).next(e=>e?e2.resolve():n(o)))}).next(()=>e2.waitFor(i))})}createCollectionParentIndex(e,t){e.createObjectStore(tQ,{keyPath:tX});let r=t.store(tQ),n=new l1,i=e=>{if(n.add(e)){let t=e.lastSegment(),n=e.popLast();return r.put({collectionId:t,parent:tg(n)})}};return t.store(tE).iterate({keysOnly:!0},(e,t)=>i(new ek(e).popLast())).next(()=>t.store(tN).iterate({keysOnly:!0},([e,t,r],n)=>i(tb(t).popLast())))}rewriteCanonicalIds(e){let t=e.store(tz);return t.iterate((e,r)=>{let n=aq(r),i=aW(this.serializer,n);return t.put(i)})}rewriteRemoteDocumentCache(e,t){let r=t.store(tE),n=[];return r.iterate((e,r)=>{let i=t.store(tk),o=cf(r).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:r.readTime||[0,0],unknownDocument:r.unknownDocument,noDocument:r.noDocument,document:r.document,hasCommittedMutations:!!r.hasCommittedMutations};n.push(i.put(s))}).next(()=>e2.waitFor(n))}runOverlayMigration(e,t){let r=t.store(tC),n=uN(this.serializer),i=new u2(u6.factory,this.serializer.remoteSerializer);return r.loadAll().next(e=>{let r=new Map;return e.forEach(e=>{var t;let n=null!==(t=r.get(e.userId))&&void 0!==t?t:om();aH(this.serializer,e).keys().forEach(e=>n=n.add(e)),r.set(e.userId,n)}),e2.forEach(r,(e,r)=>{let o=new Q(r),s=lt.forUser(this.serializer,o),a=i.getIndexManager(o);return new uG(n,ur.forUser(o,this.serializer,a,i.referenceDelegate),s,a).recalculateAndSaveOverlaysForDocumentKeys(new rA(t,td.INVALID),e).next()})})}}function u8(e){return[0,tg(e)]}function u7(e){e.createObjectStore(tS)}function u9(e){e.createObjectStore(tT,{keyPath:tA}),e.createObjectStore(tC,{keyPath:tw,autoIncrement:!0}).createIndex(tO,tR,{unique:!0}),e.createObjectStore(tN)}function ce(e,t){return t.store(tC).loadAll().next(r=>{e.deleteObjectStore(tC),e.createObjectStore(tC,{keyPath:tw,autoIncrement:!0}).createIndex(tO,tR,{unique:!0});let n=t.store(tC),i=r.map(e=>n.put(e));return e2.waitFor(i)})}function ct(e){e.createObjectStore(tE)}function cr(e){let t=e.createObjectStore(tk,{keyPath:tM});t.createIndex(tL,tB),t.createIndex(tj,tF)}function cn(e){e.createObjectStore(tU)}function ci(e){e.createObjectStore(tq,{keyPath:tW}).createIndex(tK,tY,{unique:!0}),e.createObjectStore(tz,{keyPath:tG}).createIndex(t$,tH,{unique:!0}),e.createObjectStore(tJ)}function co(e){e.deleteObjectStore(tq),e.deleteObjectStore(tz),e.deleteObjectStore(tJ)}function cs(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}function ca(e){let t=e.store(tJ),r={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:eD.min().toTimestamp(),targetCount:0};return t.put(tZ,r)}function cl(e){e.createObjectStore(t0,{keyPath:t1})}function cu(e){e.createObjectStore(t2,{keyPath:t3})}function cc(e){e.createObjectStore(t6,{keyPath:t4})}function cd(e){e.createObjectStore(t5,{keyPath:t8,autoIncrement:!0}).createIndex(t7,t9,{unique:!1}),e.createObjectStore(re,{keyPath:rt}).createIndex(rr,rn,{unique:!1}),e.createObjectStore(ri,{keyPath:ro}).createIndex(rs,ra,{unique:!1})}function ch(e){let t=e.createObjectStore(rl,{keyPath:ru});t.createIndex(rc,rd,{unique:!1}),t.createIndex(rh,rp,{unique:!1})}function cp(e){e.createObjectStore(rf,{keyPath:rm})}function cf(e){return e.document?new eB(ek.fromString(e.document.name).popFirst(5)):e.noDocument?eB.fromSegments(e.noDocument.path):e.unknownDocument?eB.fromSegments(e.unknownDocument.path):el()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cm="IndexedDbPersistence",cg=18e5,cy=5e3,cv=4e3,cb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",cE="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",cS="firestore_zombie",c_="main";class cT{constructor(e,t,r,n,i,o,s,a,l,u,c=uV){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.queue=i,this.window=o,this.document=s,this.sequenceNumberSyncer=l,this.forceOwningTab=u,this.schemaVersion=c,this.listenSequence=null,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=e=>Promise.resolve(),!cT.isAvailable())throw new eh(ed.UNIMPLEMENTED,cE);this.referenceDelegate=new uO(this,n),this.dbName=t+c_,this.serializer=new aB(a),this.simpleDb=new e5(this.dbName,this.schemaVersion,new u5(this.serializer)),this.globalsCache=new ln,this.targetCache=new uc(this.referenceDelegate,this.serializer),this.remoteDocumentCache=uN(this.serializer),this.bundleCache=new a7,this.window&&this.window.localStorage?this.webStorage=this.window.localStorage:(this.webStorage=null,!1===u&&eo(cm,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.updateClientMetadataAndTryBecomePrimary().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new eh(ed.FAILED_PRECONDITION,cb);return this.attachVisibilityHandler(),this.attachWindowUnloadHook(),this.scheduleClientMetadataAndPrimaryLeaseRefreshes(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.targetCache.getHighestSequenceNumber(e))}).then(e=>{this.listenSequence=new td(e,this.sequenceNumberSyncer)}).then(()=>{this._started=!0}).catch(e=>(this.simpleDb&&this.simpleDb.close(),Promise.reject(e)))}setPrimaryStateListener(e){return this.primaryStateListener=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.simpleDb.setVersionChangeListener(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget(async()=>{this.started&&await this.updateClientMetadataAndTryBecomePrimary()}))}updateClientMetadataAndTryBecomePrimary(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>cC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.verifyPrimaryLease(e).next(e=>{e||(this.isPrimary=!1,this.queue.enqueueRetryable(()=>this.primaryStateListener(!1)))})}).next(()=>this.canActAsPrimary(e)).next(t=>this.isPrimary&&!t?this.releasePrimaryLeaseIfHeld(e).next(()=>!1):!!t&&this.acquireOrExtendPrimaryLease(e).next(()=>!0))).catch(e=>{if(te(e))return ei(cm,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ei(cm,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.queue.enqueueRetryable(()=>this.primaryStateListener(e)),this.isPrimary=e})}verifyPrimaryLease(e){return cA(e).get(t_).next(e=>e2.resolve(this.isLocalClient(e)))}removeClientMetadata(e){return cC(e).delete(this.clientId)}async maybeGarbageCollectMultiClientState(){if(this.isPrimary&&!this.isWithinAge(this.lastGarbageCollectionTime,cg)){this.lastGarbageCollectionTime=Date.now();let e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{let t=rC(e,t0);return t.loadAll().next(e=>{let r=this.filterActiveClients(e,cg),n=e.filter(e=>-1===r.indexOf(e));return e2.forEach(n,e=>t.delete(e.clientId)).next(()=>n)})}).catch(()=>[]);if(this.webStorage)for(let t of e)this.webStorage.removeItem(this.zombiedClientLocalStorageKey(t.clientId))}}scheduleClientMetadataAndPrimaryLeaseRefreshes(){this.clientMetadataRefresher=this.queue.enqueueAfterDelay("client_metadata_refresh",cv,()=>this.updateClientMetadataAndTryBecomePrimary().then(()=>this.maybeGarbageCollectMultiClientState()).then(()=>this.scheduleClientMetadataAndPrimaryLeaseRefreshes()))}isLocalClient(e){return!!e&&e.ownerId===this.clientId}canActAsPrimary(e){return this.forceOwningTab?e2.resolve(!0):cA(e).get(t_).next(t=>{if(null!==t&&this.isWithinAge(t.leaseTimestampMs,cy)&&!this.isClientZombied(t.ownerId)){if(this.isLocalClient(t)&&this.networkEnabled)return!0;if(!this.isLocalClient(t)){if(!t.allowTabSynchronization)throw new eh(ed.FAILED_PRECONDITION,cb);return!1}}return!!this.networkEnabled&&!!this.inForeground||cC(e).loadAll().next(e=>void 0===this.filterActiveClients(e,cy).find(e=>{if(this.clientId!==e.clientId){let t=!this.networkEnabled&&e.networkEnabled,r=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(t||r&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&ei(cm,`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),await this.simpleDb.runTransaction("shutdown","readwrite",[tS,t0],e=>{let t=new rA(e,td.INVALID);return this.releasePrimaryLeaseIfHeld(t).next(()=>this.removeClientMetadata(t))}),this.simpleDb.close(),this.removeClientZombiedEntry()}filterActiveClients(e,t){return e.filter(e=>this.isWithinAge(e.updateTimeMs,t)&&!this.isClientZombied(e.clientId))}getActiveClients(){return this.runTransaction("getActiveClients","readonly",e=>cC(e).loadAll().next(e=>this.filterActiveClients(e,cg).map(e=>e.clientId)))}get started(){return this._started}getGlobalsCache(){return this.globalsCache}getMutationQueue(e,t){return ur.forUser(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new l6(e,this.serializer.remoteSerializer.databaseId)}getDocumentOverlayCache(e){return lt.forUser(this.serializer,e)}getBundleCache(){return this.bundleCache}runTransaction(e,t,r){let n;ei(cm,"Starting transaction:",e);let i="readonly"===t?"readonly":"readwrite",o=rT(this.schemaVersion);return this.simpleDb.runTransaction(e,i,o,i=>(n=new rA(i,this.listenSequence?this.listenSequence.next():td.INVALID),"readwrite-primary"===t)?this.verifyPrimaryLease(n).next(e=>!!e||this.canActAsPrimary(n)).next(t=>{if(!t)throw eo(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.queue.enqueueRetryable(()=>this.primaryStateListener(!1)),new eh(ed.FAILED_PRECONDITION,eX);return r(n)}).next(e=>this.acquireOrExtendPrimaryLease(n).next(()=>e)):this.verifyAllowTabSynchronization(n).next(()=>r(n))).then(e=>(n.raiseOnCommittedEvent(),e))}verifyAllowTabSynchronization(e){return cA(e).get(t_).next(e=>{if(null!==e&&this.isWithinAge(e.leaseTimestampMs,cy)&&!this.isClientZombied(e.ownerId)&&!this.isLocalClient(e)&&!this.forceOwningTab&&(!this.allowTabSynchronization||!e.allowTabSynchronization))throw new eh(ed.FAILED_PRECONDITION,cb)})}acquireOrExtendPrimaryLease(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cA(e).put(t_,t)}static isAvailable(){return e5.isAvailable()}releasePrimaryLeaseIfHeld(e){let t=cA(e);return t.get(t_).next(e=>this.isLocalClient(e)?(ei(cm,"Releasing primary lease."),t.delete(t_)):e2.resolve())}isWithinAge(e,t){let r=Date.now(),n=r-t,i=r;return!(e<n)&&(!(e>i)||(eo(`Detected an update time that is in the future: ${e} > ${i}`),!1))}attachVisibilityHandler(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=()=>{this.queue.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.updateClientMetadataAndTryBecomePrimary()))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)}detachVisibilityHandler(){this.documentVisibilityHandler&&(this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)}attachWindowUnloadHook(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.windowUnloadHandler=()=>{this.markClientZombied();let e=/(?:Version|Mobile)\/1[456]/;O()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.queue.enterRestrictedMode(!0),this.queue.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.windowUnloadHandler))}detachWindowUnloadHook(){this.windowUnloadHandler&&(this.window.removeEventListener("pagehide",this.windowUnloadHandler),this.windowUnloadHandler=null)}isClientZombied(e){var t;try{let r=(null===(t=this.webStorage)||void 0===t?void 0:t.getItem(this.zombiedClientLocalStorageKey(e)))!==null;return ei(cm,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(e){return eo(cm,"Failed to get zombied client id.",e),!1}}markClientZombied(){if(this.webStorage)try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(e){eo("Failed to set zombie client id.",e)}}removeClientZombiedEntry(){if(this.webStorage)try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(e){}}zombiedClientLocalStorageKey(e){return`${cS}_${this.persistenceKey}_${e}`}}function cA(e){return rC(e,tS)}function cC(e){return rC(e,t0)}function cw(e,t){let r=e.projectId;return e.isDefaultDatabase||(r+="."+e.database),"firestore/"+t+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(e,t,r,n,i){t=[...t],(e=[...e]).sort(r),t.sort(r);let o=e.length,s=t.length,a=0,l=0;for(;a<s&&l<o;){let o=r(e[l],t[a]);o<0?i(e[l++]):o>0?n(t[a++]):(a++,l++)}for(;a<s;)n(t[a++]);for(;l<o;)i(e[l++])}function cR(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cx="LocalStore",cI=3e8;class cD{constructor(e,t,r,n){this.persistence=e,this.queryEngine=t,this.serializer=n,this.targetDataByTarget=new rx(eC),this.targetIdByTarget=new or(e=>iC(e),iO),this.collectionGroupReadTime=new Map,this.remoteDocuments=e.getRemoteDocumentCache(),this.targetCache=e.getTargetCache(),this.bundleCache=e.getBundleCache(),this.initializeUserComponents(r)}initializeUserComponents(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uG(this.remoteDocuments,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.remoteDocuments.setIndexManager(this.indexManager),this.queryEngine.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.targetDataByTarget))}}function cP(e,t,r,n){return new cD(e,t,r,n)}async function cN(e,t){let r=ec(e);return await r.persistence.runTransaction("Handle user change","readonly",e=>{let n;return r.mutationQueue.getAllMutationBatches(e).next(i=>(n=i,r.initializeUserComponents(t),r.mutationQueue.getAllMutationBatches(e))).next(t=>{let i=[],o=[],s=om();for(let e of n)for(let t of(i.push(e.batchId),e.mutations))s=s.add(t.key);for(let e of t)for(let t of(o.push(e.batchId),e.mutations))s=s.add(t.key);return r.localDocuments.getDocuments(e,s).next(e=>({affectedDocuments:e,removedBatchIds:i,addedBatchIds:o}))})})}function ck(e,t){let r,n;let i=ec(e),o=eI.now(),s=t.reduce((e,t)=>e.add(t.key),om());return i.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=oi(),l=om();return i.remoteDocuments.getEntries(e,s).next(e=>{(a=e).forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>i.localDocuments.getOverlayedDocuments(e,a)).next(n=>{r=n;let s=[];for(let e of t){let t=oH(e,r.get(e.key).overlayedDocument);null!=t&&s.push(new oZ(e.key,t,nZ(t.value.mapValue),oF.exists(!0)))}return i.mutationQueue.addMutationBatch(e,o,s,t)}).next(t=>{n=t;let o=t.applyToLocalDocumentSet(r,l);return i.documentOverlayCache.saveOverlays(e,t.batchId,o)})}).then(()=>({batchId:n.batchId,changes:ol(r)}))}function cM(e,t){let r=ec(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{let n=t.batch.keys(),i=r.remoteDocuments.newChangeBuffer({trackRemovals:!0});return cZ(r,e,t,i).next(()=>i.apply(e)).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,cL(t))).next(()=>r.localDocuments.getDocuments(e,n))})}function cL(e){let t=om();for(let r=0;r<e.mutationResults.length;++r)e.mutationResults[r].transformResults.length>0&&(t=t.add(e.batch.mutations[r].key));return t}function cB(e,t){let r=ec(e);return r.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let n;return r.mutationQueue.lookupMutationBatch(e,t).next(t=>(eu(null!==t),n=t.keys(),r.mutationQueue.removeMutationBatch(e,t))).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,n)).next(()=>r.localDocuments.getDocuments(e,n))})}function cj(e){let t=ec(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e))}function cF(e){let t=ec(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.targetCache.getLastRemoteSnapshotVersion(e))}function cU(e,t){let r=ec(e),n=t.snapshotVersion,i=r.targetDataByTarget;return r.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{let o=r.remoteDocuments.newChangeBuffer({trackRemovals:!0});i=r.targetDataByTarget;let s=[];t.targetChanges.forEach((o,a)=>{let l=i.get(a);if(!l)return;s.push(r.targetCache.removeMatchingKeys(e,o.removedDocuments,a).next(()=>r.targetCache.addMatchingKeys(e,o.addedDocuments,a)));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(rU.EMPTY_BYTE_STRING,eD.min()).withLastLimboFreeSnapshotVersion(eD.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,n)),i=i.insert(a,u),cz(l,u,o)&&s.push(r.targetCache.updateTargetData(e,u))});let a=oi(),l=om();if(t.documentUpdates.forEach(n=>{t.resolvedLimboDocuments.has(n)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(e,n))}),s.push(cV(e,o,t.documentUpdates).next(e=>{a=e.changedDocuments,l=e.existenceChangedKeys})),!n.isEqual(eD.min())){let t=r.targetCache.getLastRemoteSnapshotVersion(e).next(t=>r.targetCache.setTargetsMetadata(e,e.currentSequenceNumber,n));s.push(t)}return e2.waitFor(s).next(()=>o.apply(e)).next(()=>r.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(r.targetDataByTarget=i,e))}function cV(e,t,r){let n=om(),i=om();return r.forEach(e=>n=n.add(e)),t.getEntries(e,n).next(e=>{let n=oi();return r.forEach((r,o)=>{let s=e.get(r);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(r)),o.isNoDocument()&&o.version.isEqual(eD.min())?(t.removeEntry(r,o.readTime),n=n.insert(r,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),n=n.insert(r,o)):ei(cx,"Ignoring outdated watch update for ",r,". Current version:",s.version," Watch version:",o.version)}),{changedDocuments:n,existenceChangedKeys:i}})}function cz(e,t,r){return!!(0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=cI)||r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size>0}async function cG(e,t){let r=ec(e);try{await r.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>e2.forEach(t,t=>e2.forEach(t.addedKeys,n=>r.persistence.referenceDelegate.addReference(e,t.targetId,n)).next(()=>e2.forEach(t.removedKeys,n=>r.persistence.referenceDelegate.removeReference(e,t.targetId,n)))))}catch(e){if(te(e))ei(cx,"Failed to update sequence numbers: "+e);else throw e}for(let e of t){let t=e.targetId;if(!e.fromCache){let e=r.targetDataByTarget.get(t),n=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(n);r.targetDataByTarget=r.targetDataByTarget.insert(t,i)}}}function c$(e,t){let r=ec(e);return r.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=r4),r.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function cH(e,t){let r=ec(e);return r.persistence.runTransaction("read document","readonly",e=>r.localDocuments.getDocument(e,t))}function cq(e,t){let r=ec(e);return r.persistence.runTransaction("Allocate target","readwrite",e=>{let n;return r.targetCache.getTargetData(e,t).next(i=>i?(n=i,e2.resolve(n)):r.targetCache.allocateTargetId(e).next(i=>(n=new aL(t,i,"TargetPurposeListen",e.currentSequenceNumber),r.targetCache.addTargetData(e,n).next(()=>n))))}).then(e=>{let n=r.targetDataByTarget.get(e.targetId);return(null===n||e.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(r.targetDataByTarget=r.targetDataByTarget.insert(e.targetId,e),r.targetIdByTarget.set(t,e.targetId)),e})}function cW(e,t,r){let n=ec(e),i=n.targetIdByTarget.get(r);return void 0!==i?e2.resolve(n.targetDataByTarget.get(i)):n.targetCache.getTargetData(t,r)}async function cK(e,t,r){let n=ec(e),i=n.targetDataByTarget.get(t),o=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",o,e=>n.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(te(e))ei(cx,`Failed to update sequence numbers for target ${t}: ${e}`);else throw e}n.targetDataByTarget=n.targetDataByTarget.remove(t),n.targetIdByTarget.delete(i.target)}function cY(e,t,r){let n=ec(e),i=eD.min(),o=om();return n.persistence.runTransaction("Execute query","readwrite",e=>cW(n,e,iW(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,n.targetCache.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>n.queryEngine.getDocumentsMatchingQuery(e,t,r?i:eD.min(),r?o:om())).next(e=>(c2(n,i9(t),e),{documents:e,remoteKeys:o})))}function cZ(e,t,r,n){let i=r.batch,o=i.keys(),s=e2.resolve();return o.forEach(e=>{s=s.next(()=>n.getEntry(t,e)).next(t=>{let o=r.docVersions.get(e);eu(null!==o),0>t.version.compareTo(o)&&(i.applyToRemoteDocument(t,r),t.isValidDocument()&&(t.setReadTime(r.commitVersion),n.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))}function cJ(e,t){let r=ec(e),n=ec(r.mutationQueue);return r.persistence.runTransaction("Lookup mutation documents","readonly",e=>n.lookupMutationKeys(e,t).next(t=>t?r.localDocuments.getDocuments(e,t):e2.resolve(null)))}function cQ(e,t){ec(ec(e,cD).mutationQueue).removeCachedMutationKeys(t)}function cX(e){return ec(ec(e,cD).persistence).getActiveClients()}function c0(e,t){let r=ec(e),n=ec(r.targetCache),i=r.targetDataByTarget.get(t);return i?Promise.resolve(i.target):r.persistence.runTransaction("Get target data","readonly",e=>n.getTargetDataForTarget(e,t).next(e=>e?e.target:null))}function c1(e,t){let r=ec(e),n=r.collectionGroupReadTime.get(t)||eD.min();return r.persistence.runTransaction("Get new document changes","readonly",e=>r.remoteDocuments.getAllFromCollectionGroup(e,t,eY(n,ej),Number.MAX_SAFE_INTEGER)).then(e=>(c2(r,t,e),e))}function c2(e,t,r){let n=e.collectionGroupReadTime.get(t)||eD.min();r.forEach((e,t)=>{t.readTime.compareTo(n)>0&&(n=t.readTime)}),e.collectionGroupReadTime.set(t,n)}function c3(e){return iW(iU(ek.fromString(`__bundle__/docs/${e}`)))}async function c6(e,t,r,n){let i=ec(e),o=om(),s=oi();for(let e of r){let r=t.toDocumentKey(e.metadata.name);e.document&&(o=o.add(r));let n=t.toMutableDocument(e);n.setReadTime(t.toSnapshotVersion(e.metadata.readTime)),s=s.insert(r,n)}let a=i.remoteDocuments.newChangeBuffer({trackRemovals:!0}),l=await cq(i,c3(n));return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>cV(e,a,s).next(t=>(a.apply(e),t)).next(t=>i.targetCache.removeMatchingKeysForTargetId(e,l.targetId).next(()=>i.targetCache.addMatchingKeys(e,o,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(e,t.changedDocuments,t.existenceChangedKeys)).next(()=>t.changedDocuments)))}function c4(e,t){let r=ec(e),n=sM(t.createTime);return r.persistence.runTransaction("hasNewerBundle","readonly",e=>r.bundleCache.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(n)>=0)}function c5(e,t){let r=ec(e);return r.persistence.runTransaction("Save bundle","readwrite",e=>r.bundleCache.saveBundleMetadata(e,t))}async function c8(e,t,r=om()){let n=await cq(e,iW(aX(t.bundledQuery))),i=ec(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{let o=sM(t.readTime);if(n.snapshotVersion.compareTo(o)>=0)return i.bundleCache.saveNamedQuery(e,t);let s=n.withResumeToken(rU.EMPTY_BYTE_STRING,o);return i.targetDataByTarget=i.targetDataByTarget.insert(s.targetId,s),i.targetCache.updateTargetData(e,s).next(()=>i.targetCache.removeMatchingKeysForTargetId(e,n.targetId)).next(()=>i.targetCache.addMatchingKeys(e,r,n.targetId)).next(()=>i.bundleCache.saveNamedQuery(e,t))})}function c7(e,t){ec(e).queryEngine.indexAutoCreationEnabled=t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let de=100;function dt(){return O()?8:e8(C())>0?6:4}class dr{constructor(){this.initialized=!1,this.indexAutoCreationEnabled=!1,this.indexAutoCreationMinCollectionSize=de,this.relativeIndexReadCostPerDocument=dt()}initialize(e,t){this.localDocumentsView=e,this.indexManager=t,this.initialized=!0}getDocumentsMatchingQuery(e,t,r,n){let i={result:null};return this.performQueryUsingIndex(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.performQueryUsingRemoteKeys(e,t,n,r).next(e=>{i.result=e})}).next(()=>{if(i.result)return;let r=new c9;return this.executeFullCollectionScan(e,t,r).next(n=>{if(i.result=n,this.indexAutoCreationEnabled)return this.createCacheIndexes(e,t,r,n.size)})}).next(()=>i.result)}createCacheIndexes(e,t,r,i){return r.documentReadCount<this.indexAutoCreationMinCollectionSize?(en()<=n.DEBUG&&ei("QueryEngine","SDK will not create cache indexes for query:",i3(t),"since it only creates cache indexes for collection contains","more than or equal to",this.indexAutoCreationMinCollectionSize,"documents"),e2.resolve()):(en()<=n.DEBUG&&ei("QueryEngine","Query:",i3(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.relativeIndexReadCostPerDocument*i)?(en()<=n.DEBUG&&ei("QueryEngine","The SDK decides to create cache indexes for query:",i3(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,iW(t))):e2.resolve()}performQueryUsingIndex(e,t){if(iz(t))return e2.resolve(null);let r=iW(t);return this.indexManager.getIndexType(e,r).next(n=>0===n?null:(null!==t.limit&&1===n&&(r=iW(t=iQ(t,null,"F"))),this.indexManager.getDocumentsMatchingTarget(e,r).next(n=>{let i=om(...n);return this.localDocumentsView.getDocuments(e,i).next(n=>this.indexManager.getMinOffset(e,r).next(r=>{let o=this.applyQuery(t,n);return this.needsRefill(t,o,i,r.readTime)?this.performQueryUsingIndex(e,iQ(t,null,"F")):this.appendRemainingResults(e,o,t,r)}))})))}performQueryUsingRemoteKeys(e,t,r,i){return iz(t)||i.isEqual(eD.min())?e2.resolve(null):this.localDocumentsView.getDocuments(e,r).next(o=>{let s=this.applyQuery(t,o);return this.needsRefill(t,s,r,i)?e2.resolve(null):(en()<=n.DEBUG&&ei("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),i3(t)),this.appendRemainingResults(e,s,t,eY(i,ej)).next(e=>e))})}applyQuery(e,t){let r=new rN(oe(e));return t.forEach((t,n)=>{i6(e,n)&&(r=r.add(n))}),r}needsRefill(e,t,r,n){if(null===e.limit)return!1;if(r.size!==t.size)return!0;let i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(n)>0)}executeFullCollectionScan(e,t,r){return en()<=n.DEBUG&&ei("QueryEngine","Using full collection scan to execute query:",i3(t)),this.localDocumentsView.getDocumentsMatchingQuery(e,t,eJ.min(),r)}appendRemainingResults(e,t,r,n){return this.localDocumentsView.getDocumentsMatchingQuery(e,r,n).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dn="firestore_clients";function di(e,t){return`${dn}_${e}_${t}`}let ds="firestore_mutations";function da(e,t,r){let n=`${ds}_${e}_${r}`;return t.isAuthenticated()&&(n+=`_${t.uid}`),n}let dl="firestore_targets";function du(e,t){return`${dl}_${e}_${t}`}let dc="firestore_online_state";function dd(e){return`${dc}_${e}`}let dh="firestore_bundle_loaded_v2";function dp(e){return`${dh}_${e}`}let df="firestore_sequence_number";function dm(e){return`${df}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dg="SharedClientState";class dy{constructor(e,t,r,n){this.user=e,this.batchId=t,this.state=r,this.error=n}static fromWebStorageEntry(e,t,r){let n;let i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return(o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(n=new eh(i.error.code,i.error.message)),o)?new dy(e,t,i.state,n):(eo(dg,`Failed to parse mutation state for ID '${t}': ${r}`),null)}toWebStorageJSON(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dv{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static fromWebStorageEntry(e,t){let r;let n=JSON.parse(t),i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return(i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(r=new eh(n.error.code,n.error.message)),i)?new dv(e,n.state,r):(eo(dg,`Failed to parse target state for ID '${e}': ${t}`),null)}toWebStorageJSON(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class db{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static fromWebStorageEntry(e,t){let r=JSON.parse(t),n="object"==typeof r&&r.activeTargetIds instanceof Array,i=oy();for(let e=0;n&&e<r.activeTargetIds.length;++e)n=r7(r.activeTargetIds[e]),i=i.add(r.activeTargetIds[e]);return n?new db(e,i):(eo(dg,`Failed to parse client data for instance '${e}': ${t}`),null)}}class dE{constructor(e,t){this.clientId=e,this.onlineState=t}static fromWebStorageEntry(e){let t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new dE(t.clientId,t.onlineState):(eo(dg,`Failed to parse online state: ${e}`),null)}}class dS{constructor(){this.activeTargetIds=oy()}addQueryTarget(e){this.activeTargetIds=this.activeTargetIds.add(e)}removeQueryTarget(e){this.activeTargetIds=this.activeTargetIds.delete(e)}toWebStorageJSON(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})}}class d_{constructor(e,t,r,n,i){this.window=e,this.queue=t,this.persistenceKey=r,this.localClientId=n,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.storageListener=this.handleWebStorageEvent.bind(this),this.activeClients=new rx(eC),this.started=!1,this.earlyEvents=[];let o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.localClientStorageKey=di(this.persistenceKey,this.localClientId),this.sequenceNumberKey=dm(this.persistenceKey),this.activeClients=this.activeClients.insert(this.localClientId,new dS),this.clientStateKeyRe=RegExp(`^${dn}_${o}_([^_]*)$`),this.mutationBatchKeyRe=RegExp(`^${ds}_${o}_(\\d+)(?:_(.*))?$`),this.queryTargetKeyRe=RegExp(`^${dl}_${o}_(\\d+)$`),this.onlineStateKey=dd(this.persistenceKey),this.bundleLoadedKey=dp(this.persistenceKey),this.window.addEventListener("storage",this.storageListener)}static isAvailable(e){return!!(e&&e.localStorage)}async start(){for(let e of(await this.syncEngine.getActiveClients())){if(e===this.localClientId)continue;let t=this.getItem(di(this.persistenceKey,e));if(t){let r=db.fromWebStorageEntry(e,t);r&&(this.activeClients=this.activeClients.insert(r.clientId,r))}}this.persistClientState();let e=this.storage.getItem(this.onlineStateKey);if(e){let t=this.fromWebStorageOnlineState(e);t&&this.handleOnlineStateEvent(t)}for(let e of this.earlyEvents)this.handleWebStorageEvent(e);this.earlyEvents=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))}getAllActiveQueryTargets(){return this.extractActiveQueryTargets(this.activeClients)}isActiveQueryTarget(e){let t=!1;return this.activeClients.forEach((r,n)=>{n.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.persistMutationState(e,"pending")}updateMutationState(e,t,r){this.persistMutationState(e,t,r),this.removeMutationState(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){let t=this.storage.getItem(du(this.persistenceKey,e));if(t){let n=dv.fromWebStorageEntry(e,t);n&&(r=n.state)}}return t&&this.localClientState.addQueryTarget(e),this.persistClientState(),r}removeLocalQueryTarget(e){this.localClientState.removeQueryTarget(e),this.persistClientState()}isLocalQueryTarget(e){return this.localClientState.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(du(this.persistenceKey,e))}updateQueryState(e,t,r){this.persistQueryTargetState(e,t,r)}handleUserChange(e,t,r){t.forEach(e=>{this.removeMutationState(e)}),this.currentUser=e,r.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.persistOnlineState(e)}notifyBundleLoaded(e){this.persistBundleLoadedState(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)}getItem(e){let t=this.storage.getItem(e);return ei(dg,"READ",e,t),t}setItem(e,t){ei(dg,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){ei(dg,"REMOVE",e),this.storage.removeItem(e)}handleWebStorageEvent(e){let t=e;if(t.storageArea===this.storage){if(ei(dg,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey){eo("Received WebStorage notification for local change. Another client might have garbage-collected our state");return}this.queue.enqueueRetryable(async()=>{if(!this.started){this.earlyEvents.push(t);return}if(null!==t.key){if(this.clientStateKeyRe.test(t.key)){if(null!=t.newValue){let e=this.fromWebStorageClientState(t.key,t.newValue);if(e)return this.handleClientStateEvent(e.clientId,e)}else{let e=this.fromWebStorageClientStateKey(t.key);return this.handleClientStateEvent(e,null)}}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue){let e=this.fromWebStorageMutationMetadata(t.key,t.newValue);if(e)return this.handleMutationBatchEvent(e)}}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue){let e=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue);if(e)return this.handleQueryTargetEvent(e)}}else if(t.key===this.onlineStateKey){if(null!==t.newValue){let e=this.fromWebStorageOnlineState(t.newValue);if(e)return this.handleOnlineStateEvent(e)}}else if(t.key===this.sequenceNumberKey){let e=dT(t.newValue);e!==td.INVALID&&this.sequenceNumberHandler(e)}else if(t.key===this.bundleLoadedKey){let e=this.fromWebStoreBundleLoadedState(t.newValue);await Promise.all(e.map(e=>this.syncEngine.synchronizeWithChangedDocuments(e)))}}})}}get localClientState(){return this.activeClients.get(this.localClientId)}persistClientState(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())}persistMutationState(e,t,r){let n=new dy(this.currentUser,e,t,r),i=da(this.persistenceKey,this.currentUser,e);this.setItem(i,n.toWebStorageJSON())}removeMutationState(e){let t=da(this.persistenceKey,this.currentUser,e);this.removeItem(t)}persistOnlineState(e){let t={clientId:this.localClientId,onlineState:e};this.storage.setItem(this.onlineStateKey,JSON.stringify(t))}persistQueryTargetState(e,t,r){let n=du(this.persistenceKey,e),i=new dv(e,t,r);this.setItem(n,i.toWebStorageJSON())}persistBundleLoadedState(e){let t=JSON.stringify(Array.from(e));this.setItem(this.bundleLoadedKey,t)}fromWebStorageClientStateKey(e){let t=this.clientStateKeyRe.exec(e);return t?t[1]:null}fromWebStorageClientState(e,t){let r=this.fromWebStorageClientStateKey(e);return db.fromWebStorageEntry(r,t)}fromWebStorageMutationMetadata(e,t){let r=this.mutationBatchKeyRe.exec(e),n=Number(r[1]),i=void 0!==r[2]?r[2]:null;return dy.fromWebStorageEntry(new Q(i),n,t)}fromWebStorageQueryTargetMetadata(e,t){let r=Number(this.queryTargetKeyRe.exec(e)[1]);return dv.fromWebStorageEntry(r,t)}fromWebStorageOnlineState(e){return dE.fromWebStorageEntry(e)}fromWebStoreBundleLoadedState(e){return JSON.parse(e)}async handleMutationBatchEvent(e){if(e.user.uid!==this.currentUser.uid){ei(dg,`Ignoring mutation for non-active user ${e.user.uid}`);return}return this.syncEngine.applyBatchState(e.batchId,e.state,e.error)}handleQueryTargetEvent(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)}handleClientStateEvent(e,t){let r=t?this.activeClients.insert(e,t):this.activeClients.remove(e),n=this.extractActiveQueryTargets(this.activeClients),i=this.extractActiveQueryTargets(r),o=[],s=[];return i.forEach(e=>{n.has(e)||o.push(e)}),n.forEach(e=>{i.has(e)||s.push(e)}),this.syncEngine.applyActiveTargetsChange(o,s).then(()=>{this.activeClients=r})}handleOnlineStateEvent(e){this.activeClients.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}extractActiveQueryTargets(e){let t=oy();return e.forEach((e,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}function dT(e){let t=td.INVALID;if(null!=e)try{let r=JSON.parse(e);eu("number"==typeof r),t=r}catch(e){eo(dg,"Failed to read sequence number from WebStorage",e)}return t}class dA{constructor(){this.localState=new dS,this.queryState={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.localState.addQueryTarget(e),this.queryState[e]||"not-current"}updateQueryState(e,t,r){this.queryState[e]=t}removeLocalQueryTarget(e){this.localState.removeQueryTarget(e)}isLocalQueryTarget(e){return this.localState.activeTargetIds.has(e)}clearQueryState(e){delete this.queryState[e]}getAllActiveQueryTargets(){return this.localState.activeTargetIds}isActiveQueryTarget(e){return this.localState.activeTargetIds.has(e)}start(){return this.localState=new dS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{addCallback(e){}shutdown(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}onConnected(e){this.wrappedOnConnected=e}onOpen(e){this.wrappedOnOpen=e}onClose(e){this.wrappedOnClose=e}onMessage(e){this.wrappedOnMessage=e}close(){this.closeFn()}send(e){this.sendFn(e)}callOnConnected(){this.wrappedOnConnected()}callOnOpen(){this.wrappedOnOpen()}callOnClose(e){this.wrappedOnClose(e)}callOnMessage(e){this.wrappedOnMessage(e)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dO=null;function dR(){return 268435456+Math.round(2147483648*Math.random())}function dx(){return null===dO?dO=dR():dO++,"0x"+dO.toString(16)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(e){return new Promise((t,r)=>{e((e,n)=>{e?r(e):t(n)})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dD="1.9.1",dP="GrpcConnection",dN=`gl-node/${process.versions.node} fire/${X} grpc/${dD}`;function dk(e,t,r,n){eu(null===t||"OAuth"===t.type);let i=new K.SF;return t&&t.headers.forEach((e,t)=>i.set(t,e)),r&&r.headers.forEach((e,t)=>i.set(t,e)),n&&i.set("X-Firebase-GMPID",n),i.set("X-Goog-Api-Client",dN),i.set("Google-Cloud-Resource-Prefix",e),i.set("x-goog-request-params",e),i}class dM{constructor(e,t){this.databaseInfo=t,this.cachedStub=null,this.firestore=e.google.firestore.v1,this.databasePath=`projects/${t.databaseId.projectId}/databases/${t.databaseId.database}`}get shouldResourcePathBeIncludedInRequest(){return!0}ensureActiveStub(){if(!this.cachedStub){ei(dP,"Creating Firestore stub.");let e=this.databaseInfo.ssl?K.K9.createSsl():K.K9.createInsecure();this.cachedStub=new this.firestore.Firestore(this.databaseInfo.host,e)}return this.cachedStub}invokeRPC(e,t,r,n,i){let o=dx(),s=this.ensureActiveStub(),a=dk(this.databasePath,n,i,this.databaseInfo.appId),l=Object.assign({database:this.databasePath},r);return dI(t=>(ei(dP,`RPC '${e}' ${o} invoked with request:`,r),s[e](l,a,(r,n)=>{r?(ei(dP,`RPC '${e}' ${o} failed with error:`,r),t(new eh(sr(r.code),r.message))):(ei(dP,`RPC '${e}' ${o} completed with response:`,n),t(void 0,n))})))}invokeStreamingRPC(e,t,r,n,i,o){let s=dx(),a=[],l=new ep;ei(dP,`RPC '${e}' ${s} invoked (streaming) with request:`,r);let u=this.ensureActiveStub(),c=dk(this.databasePath,n,i,this.databaseInfo.appId),d=Object.assign(Object.assign({},r),{database:this.databasePath}),h=u[e](d,c),p=!1;return h.on("data",t=>{ei(dP,`RPC ${e} ${s} received result:`,t),a.push(t),void 0!==o&&a.length===o&&(p=!0,l.resolve(a))}),h.on("end",()=>{ei(dP,`RPC '${e}' ${s} completed.`),p||(p=!0,l.resolve(a))}),h.on("error",t=>{ei(dP,`RPC '${e}' ${s} failed with error:`,t);let r=sr(t.code);l.reject(new eh(r,t.message))}),l.promise}openStream(e,t,r){let n=dx(),i=this.ensureActiveStub(),o=dk(this.databasePath,t,r,this.databaseInfo.appId),s=i[e](o),a=!1,l=e=>{a||(a=!0,u.callOnClose(e),s.end())},u=new dw({sendFn:t=>{if(a)ei(dP,`RPC '${e}' stream ${n} not sending because gRPC stream is closed:`,t);else{ei(dP,`RPC '${e}' stream ${n} sending:`,t);try{s.write(t)}catch(e){throw eo("Failure sending:",t),eo("Error:",e),e}}},closeFn:()=>{ei(dP,`RPC '${e}' stream ${n} closed locally via close().`),l()}}),c=!1;return s.on("data",t=>{a||(ei(dP,`RPC '${e}' stream ${n} received:`,t),c||(u.callOnConnected(),c=!0),u.callOnMessage(t))}),s.on("end",()=>{ei(dP,`RPC '${e}' stream ${n} ended.`),l()}),s.on("error",t=>{a||(es(dP,`RPC '${e}' stream ${n} error. Code:`,t.code,"Message:",t.message),l(new eh(sr(t.code),t.message)))}),ei(dP,`Opening RPC '${e}' stream ${n} to ${this.databaseInfo.host}`),setTimeout(()=>{u.callOnOpen()},0),u}terminate(){this.cachedStub&&(this.cachedStub.close(),this.cachedStub=void 0)}}let dL={google:{nested:{protobuf:{options:{csharp_namespace:"Google.Protobuf.WellKnownTypes",go_package:"github.com/golang/protobuf/ptypes/wrappers",java_package:"com.google.protobuf",java_outer_classname:"WrappersProto",java_multiple_files:!0,objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{Timestamp:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}},Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},Empty:{fields:{}},DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}},Any:{fields:{typeUrl:{type:"string",id:1},value:{type:"bytes",id:2}}}}},firestore:{nested:{v1:{options:{csharp_namespace:"Google.Cloud.Firestore.V1",go_package:"google.golang.org/genproto/googleapis/firestore/v1;firestore",java_multiple_files:!0,java_outer_classname:"WriteProto",java_package:"com.google.firestore.v1",objc_class_prefix:"GCFS",php_namespace:"Google\\Cloud\\Firestore\\V1",ruby_package:"Google::Cloud::Firestore::V1"},nested:{AggregationResult:{fields:{aggregateFields:{keyType:"string",type:"Value",id:2}}},BitSequence:{fields:{bitmap:{type:"bytes",id:1},padding:{type:"int32",id:2}}},BloomFilter:{fields:{bits:{type:"BitSequence",id:1},hashCount:{type:"int32",id:2}}},DocumentMask:{fields:{fieldPaths:{rule:"repeated",type:"string",id:1}}},Precondition:{oneofs:{conditionType:{oneof:["exists","updateTime"]}},fields:{exists:{type:"bool",id:1},updateTime:{type:"google.protobuf.Timestamp",id:2}}},TransactionOptions:{oneofs:{mode:{oneof:["readOnly","readWrite"]}},fields:{readOnly:{type:"ReadOnly",id:2},readWrite:{type:"ReadWrite",id:3}},nested:{ReadWrite:{fields:{retryTransaction:{type:"bytes",id:1}}},ReadOnly:{oneofs:{consistencySelector:{oneof:["readTime"]}},fields:{readTime:{type:"google.protobuf.Timestamp",id:2}}}}},Document:{fields:{name:{type:"string",id:1},fields:{keyType:"string",type:"Value",id:2},createTime:{type:"google.protobuf.Timestamp",id:3},updateTime:{type:"google.protobuf.Timestamp",id:4}}},Value:{oneofs:{valueType:{oneof:["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue"]}},fields:{nullValue:{type:"google.protobuf.NullValue",id:11},booleanValue:{type:"bool",id:1},integerValue:{type:"int64",id:2},doubleValue:{type:"double",id:3},timestampValue:{type:"google.protobuf.Timestamp",id:10},stringValue:{type:"string",id:17},bytesValue:{type:"bytes",id:18},referenceValue:{type:"string",id:5},geoPointValue:{type:"google.type.LatLng",id:8},arrayValue:{type:"ArrayValue",id:9},mapValue:{type:"MapValue",id:6}}},ArrayValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},MapValue:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Firestore:{options:{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},methods:{GetDocument:{requestType:"GetDocumentRequest",responseType:"Document",options:{"(google.api.http).get":"/v1/{name=projects/*/databases/*/documents/*/**}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=projects/*/databases/*/documents/*/**}"}}]},ListDocuments:{requestType:"ListDocumentsRequest",responseType:"ListDocumentsResponse",options:{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"}}]},UpdateDocument:{requestType:"UpdateDocumentRequest",responseType:"Document",options:{"(google.api.http).patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},parsedOptions:[{"(google.api.http)":{patch:"/v1/{document.name=projects/*/databases/*/documents/*/**}",body:"document"}},{"(google.api.method_signature)":"document,update_mask"}]},DeleteDocument:{requestType:"DeleteDocumentRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{delete:"/v1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},BatchGetDocuments:{requestType:"BatchGetDocumentsRequest",responseType:"BatchGetDocumentsResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchGet",body:"*"}}]},BeginTransaction:{requestType:"BeginTransactionRequest",responseType:"BeginTransactionResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:beginTransaction",body:"*"}},{"(google.api.method_signature)":"database"}]},Commit:{requestType:"CommitRequest",responseType:"CommitResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:commit",body:"*"}},{"(google.api.method_signature)":"database,writes"}]},Rollback:{requestType:"RollbackRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:rollback",body:"*"}},{"(google.api.method_signature)":"database,transaction"}]},RunQuery:{requestType:"RunQueryRequest",responseType:"RunQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery",body:"*"}}}]},RunAggregationQuery:{requestType:"RunAggregationQueryRequest",responseType:"RunAggregationQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery",body:"*"}}}]},PartitionQuery:{requestType:"PartitionQueryRequest",responseType:"PartitionQueryResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:partitionQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery",body:"*"}}}]},Write:{requestType:"WriteRequest",requestStream:!0,responseType:"WriteResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:write",body:"*"}}]},Listen:{requestType:"ListenRequest",requestStream:!0,responseType:"ListenResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:listen",body:"*"}}]},ListCollectionIds:{requestType:"ListCollectionIdsRequest",responseType:"ListCollectionIdsResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds",body:"*"}}},{"(google.api.method_signature)":"parent"}]},BatchWrite:{requestType:"BatchWriteRequest",responseType:"BatchWriteResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchWrite",body:"*"}}]},CreateDocument:{requestType:"CreateDocumentRequest",responseType:"Document",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}",body:"document"}}]}}},GetDocumentRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:5}}},ListDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:3},pageToken:{type:"string",id:4},orderBy:{type:"string",id:6},mask:{type:"DocumentMask",id:7},transaction:{type:"bytes",id:8},readTime:{type:"google.protobuf.Timestamp",id:10},showMissing:{type:"bool",id:12}}},ListDocumentsResponse:{fields:{documents:{rule:"repeated",type:"Document",id:1},nextPageToken:{type:"string",id:2}}},CreateDocumentRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},documentId:{type:"string",id:3},document:{type:"Document",id:4,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:5}}},UpdateDocumentRequest:{fields:{document:{type:"Document",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},updateMask:{type:"DocumentMask",id:2},mask:{type:"DocumentMask",id:3},currentDocument:{type:"Precondition",id:4}}},DeleteDocumentRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},currentDocument:{type:"Precondition",id:2}}},BatchGetDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},documents:{rule:"repeated",type:"string",id:2},mask:{type:"DocumentMask",id:3},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:7}}},BatchGetDocumentsResponse:{oneofs:{result:{oneof:["found","missing"]}},fields:{found:{type:"Document",id:1},missing:{type:"string",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:4}}},BeginTransactionRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},options:{type:"TransactionOptions",id:2}}},BeginTransactionResponse:{fields:{transaction:{type:"bytes",id:1}}},CommitRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},transaction:{type:"bytes",id:3}}},CommitResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},commitTime:{type:"google.protobuf.Timestamp",id:2}}},RollbackRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},transaction:{type:"bytes",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},RunQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},transaction:{type:"bytes",id:5},newTransaction:{type:"TransactionOptions",id:6},readTime:{type:"google.protobuf.Timestamp",id:7}}},RunQueryResponse:{fields:{transaction:{type:"bytes",id:2},document:{type:"Document",id:1},readTime:{type:"google.protobuf.Timestamp",id:3},skippedResults:{type:"int32",id:4}}},RunAggregationQueryRequest:{oneofs:{queryType:{oneof:["structuredAggregationQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredAggregationQuery:{type:"StructuredAggregationQuery",id:2},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:6}}},RunAggregationQueryResponse:{fields:{result:{type:"AggregationResult",id:1},transaction:{type:"bytes",id:2},readTime:{type:"google.protobuf.Timestamp",id:3}}},PartitionQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},partitionCount:{type:"int64",id:3},pageToken:{type:"string",id:4},pageSize:{type:"int32",id:5}}},PartitionQueryResponse:{fields:{partitions:{rule:"repeated",type:"Cursor",id:1},nextPageToken:{type:"string",id:2}}},WriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},streamId:{type:"string",id:2},writes:{rule:"repeated",type:"Write",id:3},streamToken:{type:"bytes",id:4},labels:{keyType:"string",type:"string",id:5}}},WriteResponse:{fields:{streamId:{type:"string",id:1},streamToken:{type:"bytes",id:2},writeResults:{rule:"repeated",type:"WriteResult",id:3},commitTime:{type:"google.protobuf.Timestamp",id:4}}},ListenRequest:{oneofs:{targetChange:{oneof:["addTarget","removeTarget"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},addTarget:{type:"Target",id:2},removeTarget:{type:"int32",id:3},labels:{keyType:"string",type:"string",id:4}}},ListenResponse:{oneofs:{responseType:{oneof:["targetChange","documentChange","documentDelete","documentRemove","filter"]}},fields:{targetChange:{type:"TargetChange",id:2},documentChange:{type:"DocumentChange",id:3},documentDelete:{type:"DocumentDelete",id:4},documentRemove:{type:"DocumentRemove",id:6},filter:{type:"ExistenceFilter",id:5}}},Target:{oneofs:{targetType:{oneof:["query","documents"]},resumeType:{oneof:["resumeToken","readTime"]}},fields:{query:{type:"QueryTarget",id:2},documents:{type:"DocumentsTarget",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:11},targetId:{type:"int32",id:5},once:{type:"bool",id:6},expectedCount:{type:"google.protobuf.Int32Value",id:12}},nested:{DocumentsTarget:{fields:{documents:{rule:"repeated",type:"string",id:2}}},QueryTarget:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1},structuredQuery:{type:"StructuredQuery",id:2}}}}},TargetChange:{fields:{targetChangeType:{type:"TargetChangeType",id:1},targetIds:{rule:"repeated",type:"int32",id:2},cause:{type:"google.rpc.Status",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:6}},nested:{TargetChangeType:{values:{NO_CHANGE:0,ADD:1,REMOVE:2,CURRENT:3,RESET:4}}}},ListCollectionIdsRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:2},pageToken:{type:"string",id:3}}},ListCollectionIdsResponse:{fields:{collectionIds:{rule:"repeated",type:"string",id:1},nextPageToken:{type:"string",id:2}}},BatchWriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},labels:{keyType:"string",type:"string",id:3}}},BatchWriteResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},status:{rule:"repeated",type:"google.rpc.Status",id:2}}},StructuredQuery:{fields:{select:{type:"Projection",id:1},from:{rule:"repeated",type:"CollectionSelector",id:2},where:{type:"Filter",id:3},orderBy:{rule:"repeated",type:"Order",id:4},startAt:{type:"Cursor",id:7},endAt:{type:"Cursor",id:8},offset:{type:"int32",id:6},limit:{type:"google.protobuf.Int32Value",id:5}},nested:{CollectionSelector:{fields:{collectionId:{type:"string",id:2},allDescendants:{type:"bool",id:3}}},Filter:{oneofs:{filterType:{oneof:["compositeFilter","fieldFilter","unaryFilter"]}},fields:{compositeFilter:{type:"CompositeFilter",id:1},fieldFilter:{type:"FieldFilter",id:2},unaryFilter:{type:"UnaryFilter",id:3}}},CompositeFilter:{fields:{op:{type:"Operator",id:1},filters:{rule:"repeated",type:"Filter",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,AND:1,OR:2}}}},FieldFilter:{fields:{field:{type:"FieldReference",id:1},op:{type:"Operator",id:2},value:{type:"Value",id:3}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,LESS_THAN:1,LESS_THAN_OR_EQUAL:2,GREATER_THAN:3,GREATER_THAN_OR_EQUAL:4,EQUAL:5,NOT_EQUAL:6,ARRAY_CONTAINS:7,IN:8,ARRAY_CONTAINS_ANY:9,NOT_IN:10}}}},UnaryFilter:{oneofs:{operandType:{oneof:["field"]}},fields:{op:{type:"Operator",id:1},field:{type:"FieldReference",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,IS_NAN:2,IS_NULL:3,IS_NOT_NAN:4,IS_NOT_NULL:5}}}},Order:{fields:{field:{type:"FieldReference",id:1},direction:{type:"Direction",id:2}}},FieldReference:{fields:{fieldPath:{type:"string",id:2}}},Projection:{fields:{fields:{rule:"repeated",type:"FieldReference",id:2}}},Direction:{values:{DIRECTION_UNSPECIFIED:0,ASCENDING:1,DESCENDING:2}}}},StructuredAggregationQuery:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{structuredQuery:{type:"StructuredQuery",id:1},aggregations:{rule:"repeated",type:"Aggregation",id:3}},nested:{Aggregation:{oneofs:{operator:{oneof:["count","sum","avg"]}},fields:{count:{type:"Count",id:1},sum:{type:"Sum",id:2},avg:{type:"Avg",id:3},alias:{type:"string",id:7}},nested:{Count:{fields:{upTo:{type:"google.protobuf.Int64Value",id:1}}},Sum:{fields:{field:{type:"FieldReference",id:1}}},Avg:{fields:{field:{type:"FieldReference",id:1}}}}}}},Cursor:{fields:{values:{rule:"repeated",type:"Value",id:1},before:{type:"bool",id:2}}},Write:{oneofs:{operation:{oneof:["update","delete","verify","transform"]}},fields:{update:{type:"Document",id:1},delete:{type:"string",id:2},verify:{type:"string",id:5},transform:{type:"DocumentTransform",id:6},updateMask:{type:"DocumentMask",id:3},updateTransforms:{rule:"repeated",type:"DocumentTransform.FieldTransform",id:7},currentDocument:{type:"Precondition",id:4}}},DocumentTransform:{fields:{document:{type:"string",id:1},fieldTransforms:{rule:"repeated",type:"FieldTransform",id:2}},nested:{FieldTransform:{oneofs:{transformType:{oneof:["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},fields:{fieldPath:{type:"string",id:1},setToServerValue:{type:"ServerValue",id:2},increment:{type:"Value",id:3},maximum:{type:"Value",id:4},minimum:{type:"Value",id:5},appendMissingElements:{type:"ArrayValue",id:6},removeAllFromArray:{type:"ArrayValue",id:7}},nested:{ServerValue:{values:{SERVER_VALUE_UNSPECIFIED:0,REQUEST_TIME:1}}}}}},WriteResult:{fields:{updateTime:{type:"google.protobuf.Timestamp",id:1},transformResults:{rule:"repeated",type:"Value",id:2}}},DocumentChange:{fields:{document:{type:"Document",id:1},targetIds:{rule:"repeated",type:"int32",id:5},removedTargetIds:{rule:"repeated",type:"int32",id:6}}},DocumentDelete:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:6},readTime:{type:"google.protobuf.Timestamp",id:4}}},DocumentRemove:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:2},readTime:{type:"google.protobuf.Timestamp",id:4}}},ExistenceFilter:{fields:{targetId:{type:"int32",id:1},count:{type:"int32",id:2},unchangedNames:{type:"BloomFilter",id:3}}}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api/annotations;annotations",java_multiple_files:!0,java_outer_classname:"HttpProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{http:{type:"HttpRule",id:72295728,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},selector:{type:"string",id:1},body:{type:"string",id:7},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"},fieldBehavior:{rule:"repeated",type:"google.api.FieldBehavior",id:1052,extend:"google.protobuf.FieldOptions"},FieldBehavior:{values:{FIELD_BEHAVIOR_UNSPECIFIED:0,OPTIONAL:1,REQUIRED:2,OUTPUT_ONLY:3,INPUT_ONLY:4,IMMUTABLE:5,UNORDERED_LIST:6,NON_EMPTY_DEFAULT:7}}}},type:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/type/latlng;latlng",java_multiple_files:!0,java_outer_classname:"LatLngProto",java_package:"com.google.type",objc_class_prefix:"GTP"},nested:{LatLng:{fields:{latitude:{type:"double",id:1},longitude:{type:"double",id:2}}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/status;status",java_multiple_files:!0,java_outer_classname:"StatusProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}}}}}}};var dB={nested:dL},dj=Object.freeze({__proto__:null,nested:dL,default:dB});/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dF={longs:String,enums:String,defaults:!0,oneofs:!1};function dU(){let e=Y.im(dj,dF);return K.Rz(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(e){return new dM(dU(),e)}function dz(){return new dC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dG(){return"YES"===process.env.USE_MOCK_PERSISTENCE?window:null}function d$(){return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dH(e){return new sw(e,!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dq="ExponentialBackoff",dW=1e3,dK=1.5,dY=6e4;class dZ{constructor(e,t,r=dW,n=dK,i=dY){this.queue=e,this.timerId=t,this.initialDelayMs=r,this.backoffFactor=n,this.maxDelayMs=i,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}reset(){this.currentBaseMs=0}resetToMax(){this.currentBaseMs=this.maxDelayMs}backoffAndRun(e){this.cancel();let t=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),n=Math.max(0,t-r);n>0&&ei(dq,`Backing off for ${n} ms (base delay: ${this.currentBaseMs} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,n,()=>(this.lastAttemptTime=Date.now(),e())),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)}skipBackoff(){null!==this.timerPromise&&(this.timerPromise.skipDelay(),this.timerPromise=null)}cancel(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)}jitterDelayMs(){return(Math.random()-.5)*this.currentBaseMs}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dJ="PersistentStream",dQ=6e4,dX=1e4;class d0{constructor(e,t,r,n,i,o,s,a){this.queue=e,this.idleTimerId=r,this.healthTimerId=n,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.closeCount=0,this.idleTimer=null,this.healthCheck=null,this.stream=null,this.responseCount=0,this.backoff=new dZ(e,t)}isStarted(){return 1===this.state||5===this.state||this.isOpen()}isOpen(){return 2===this.state||3===this.state}start(){if(this.responseCount=0,4===this.state){this.performBackoff();return}this.auth()}async stop(){this.isStarted()&&await this.close(0)}inhibitBackoff(){this.state=0,this.backoff.reset()}markIdle(){this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,dQ,()=>this.handleIdleCloseTimer()))}sendRequest(e){this.cancelIdleCheck(),this.stream.send(e)}async handleIdleCloseTimer(){if(this.isOpen())return this.close(0)}cancelIdleCheck(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)}cancelHealthCheck(){this.healthCheck&&(this.healthCheck.cancel(),this.healthCheck=null)}async close(e,t){this.cancelIdleCheck(),this.cancelHealthCheck(),this.backoff.cancel(),this.closeCount++,4!==e?this.backoff.reset():t&&t.code===ed.RESOURCE_EXHAUSTED?(eo(t.toString()),eo("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===ed.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,await this.listener.onClose(t)}tearDown(){}auth(){this.state=1;let e=this.getCloseGuardedDispatcher(this.closeCount),t=this.closeCount;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,r])=>{this.closeCount===t&&this.startStream(e,r)},t=>{e(()=>{let e=new eh(ed.UNKNOWN,"Fetching auth token failed: "+t.message);return this.handleStreamClose(e)})})}startStream(e,t){let r=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e,t),this.stream.onConnected(()=>{r(()=>this.listener.onConnected())}),this.stream.onOpen(()=>{r(()=>(this.state=2,this.healthCheck=this.queue.enqueueAfterDelay(this.healthTimerId,dX,()=>(this.isOpen()&&(this.state=3),Promise.resolve())),this.listener.onOpen()))}),this.stream.onClose(e=>{r(()=>this.handleStreamClose(e))}),this.stream.onMessage(e=>{r(()=>1==++this.responseCount?this.onFirst(e):this.onNext(e))})}performBackoff(){this.state=5,this.backoff.backoffAndRun(async()=>{this.state=0,this.start()})}handleStreamClose(e){return ei(dJ,`close with error: ${e}`),this.stream=null,this.close(4,e)}getCloseGuardedDispatcher(e){return t=>{this.queue.enqueueAndForget(()=>this.closeCount===e?t():(ei(dJ,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class d1 extends d0{constructor(e,t,r,n,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,n,o),this.serializer=i}startRpc(e,t){return this.connection.openStream("Listen",e,t)}onFirst(e){return this.onNext(e)}onNext(e){this.backoff.reset();let t=sQ(this.serializer,e),r=s0(e);return this.listener.onWatchChange(t,r)}watch(e){let t={};t.database=sG(this.serializer),t.addTarget=aa(this.serializer,e);let r=ao(this.serializer,e);r&&(t.labels=r),this.sendRequest(t)}unwatch(e){let t={};t.database=sG(this.serializer),t.removeTarget=e,this.sendRequest(t)}}class d2 extends d0{constructor(e,t,r,n,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,n,o),this.serializer=i}get handshakeComplete(){return this.responseCount>0}start(){this.lastStreamToken=void 0,super.start()}tearDown(){this.handshakeComplete&&this.writeMutations([])}startRpc(e,t){return this.connection.openStream("Write",e,t)}onFirst(e){return eu(!!e.streamToken),this.lastStreamToken=e.streamToken,eu(!e.writeResults||0===e.writeResults.length),this.listener.onHandshakeComplete()}onNext(e){eu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.backoff.reset();let t=s5(e.writeResults,e.commitTime),r=sM(e.commitTime);return this.listener.onMutationResult(r,t)}writeHandshake(){let e={};e.database=sG(this.serializer),this.sendRequest(e)}writeMutations(e){let t={streamToken:this.lastStreamToken,writes:e.map(e=>s1(this.serializer,e))};this.sendRequest(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{}class d6 extends d3{constructor(e,t,r,n){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=n,this.terminated=!1}verifyInitialized(){if(this.terminated)throw new eh(ed.FAILED_PRECONDITION,"The client has already been terminated.")}invokeRPC(e,t,r,n){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.invokeRPC(e,sB(t,r),n,i,o)).catch(e=>{if("FirebaseError"===e.name)throw e.code===ed.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e;throw new eh(ed.UNKNOWN,e.toString())})}invokeStreamingRPC(e,t,r,n,i){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.invokeStreamingRPC(e,sB(t,r),n,o,s,i)).catch(e=>{if("FirebaseError"===e.name)throw e.code===ed.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e;throw new eh(ed.UNKNOWN,e.toString())})}terminate(){this.terminated=!0,this.connection.terminate()}}function d4(e,t,r,n){return new d6(e,t,r,n)}async function d5(e,t){let r=ec(e),n={writes:t.map(e=>s1(r.serializer,e))};await r.invokeRPC("Commit",r.serializer.databaseId,ek.emptyPath(),n)}async function d8(e,t){let r=ec(e),n={documents:t.map(e=>sF(r.serializer,e))},i=await r.invokeStreamingRPC("BatchGetDocuments",r.serializer.databaseId,ek.emptyPath(),n,t.length),o=new Map;i.forEach(e=>{let t=sJ(r.serializer,e);o.set(t.key.toString(),t)});let s=[];return t.forEach(e=>{let t=o.get(e.toString());eu(!!t),s.push(t)}),s}async function d7(e,t,r){var n;let i=ec(e),{request:o,aliasMap:s,parent:a}=ar(i.serializer,iK(t),r);i.connection.shouldResourcePathBeIncludedInRequest||delete o.parent;let l=(await i.invokeStreamingRPC("RunAggregationQuery",i.serializer.databaseId,a,o,1)).filter(e=>!!e.result);eu(1===l.length);let u=null===(n=l[0].result)||void 0===n?void 0:n.aggregateFields;return Object.keys(u).reduce((e,t)=>(e[s[t]]=u[t],e),{})}function d9(e,t,r){let n=ec(e);return n.verifyInitialized(),new d2(t,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,r)}function he(e,t,r){let n=ec(e);return n.verifyInitialized(),new d1(t,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ht="OnlineStateTracker",hr=1,hn=1e4;class hi{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}handleWatchStreamStart(){0===this.watchStreamFailures&&(this.setAndBroadcast("Unknown"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay("online_state_timeout",hn,()=>(this.onlineStateTimer=null,this.logClientOfflineWarningIfNecessary(`Backend didn't respond within ${hn/1e3} seconds.`),this.setAndBroadcast("Offline"),Promise.resolve())))}handleWatchStreamFailure(e){"Online"===this.state?this.setAndBroadcast("Unknown"):(this.watchStreamFailures++,this.watchStreamFailures>=hr&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary(`Connection failed ${hr} times. Most recent error: ${e.toString()}`),this.setAndBroadcast("Offline")))}set(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,"Online"===e&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)}setAndBroadcast(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}logClientOfflineWarningIfNecessary(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.shouldWarnClientIsOffline?(eo(t),this.shouldWarnClientIsOffline=!1):ei(ht,t)}clearOnlineStateTimer(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ho="RemoteStore",hs=10;class ha{constructor(e,t,r,n,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.writePipeline=[],this.listenTargets=new Map,this.offlineCauses=new Set,this.onNetworkStatusChange=[],this.connectivityMonitor=i,this.connectivityMonitor.addCallback(e=>{r.enqueueAndForget(async()=>{hv(this)&&(ei(ho,"Restarting streams for network reachability change."),await hj(this))})}),this.onlineStateTracker=new hi(r,n)}}function hl(e,t,r,n,i){return new ha(e,t,r,n,i)}async function hu(e){if(hv(e))for(let t of e.onNetworkStatusChange)await t(!0)}async function hc(e){for(let t of e.onNetworkStatusChange)await t(!1)}async function hd(e){let t=ec(e);ei(ho,"RemoteStore shutting down."),t.offlineCauses.add(5),await hc(t),t.connectivityMonitor.shutdown(),t.onlineStateTracker.set("Unknown")}function hh(e,t){let r=ec(e);!r.listenTargets.has(t.targetId)&&(r.listenTargets.set(t.targetId,t),hy(r)?hg(r):hV(r).isOpen()&&hf(r,t))}function hp(e,t){let r=ec(e),n=hV(r);r.listenTargets.delete(t),n.isOpen()&&hm(r,t),0===r.listenTargets.size&&(n.isOpen()?n.markIdle():hv(r)&&r.onlineStateTracker.set("Unknown"))}function hf(e,t){if(e.watchChangeAggregator.recordPendingTargetRequest(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(eD.min())>0){let r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}hV(e).watch(t)}function hm(e,t){e.watchChangeAggregator.recordPendingTargetRequest(t),hV(e).unwatch(t)}function hg(e){e.watchChangeAggregator=new sb({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),getTargetDataForTarget:t=>e.listenTargets.get(t)||null,getDatabaseId:()=>e.datastore.serializer.databaseId}),hV(e).start(),e.onlineStateTracker.handleWatchStreamStart()}function hy(e){return hv(e)&&!hV(e).isStarted()&&e.listenTargets.size>0}function hv(e){return 0===ec(e).offlineCauses.size}function hb(e){e.watchChangeAggregator=void 0}async function hE(e){e.onlineStateTracker.set("Online")}async function hS(e){e.listenTargets.forEach((t,r)=>{hf(e,t)})}async function h_(e,t){hb(e),hy(e)?(e.onlineStateTracker.handleWatchStreamFailure(t),hg(e)):e.onlineStateTracker.set("Unknown")}async function hT(e,t,r){if(e.onlineStateTracker.set("Online"),t instanceof sg&&2===t.state&&t.cause){try{await hO(e,t)}catch(r){ei(ho,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await hA(e,r)}return}if(t instanceof sf?e.watchChangeAggregator.handleDocumentChange(t):t instanceof sm?e.watchChangeAggregator.handleExistenceFilter(t):e.watchChangeAggregator.handleTargetChange(t),!r.isEqual(eD.min()))try{let t=await cF(e.localStore);r.compareTo(t)>=0&&await hw(e,r)}catch(t){ei(ho,"Failed to raise snapshot:",t),await hA(e,t)}}async function hA(e,t,r){if(te(t))e.offlineCauses.add(1),await hc(e),e.onlineStateTracker.set("Offline"),r||(r=()=>cF(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ei(ho,"Retrying IndexedDB access"),await r(),e.offlineCauses.delete(1),await hu(e)});else throw t}function hC(e,t){return t().catch(r=>hA(e,r,t))}function hw(e,t){let r=e.watchChangeAggregator.createRemoteEvent(t);return r.targetChanges.forEach((r,n)=>{if(r.resumeToken.approximateByteSize()>0){let i=e.listenTargets.get(n);i&&e.listenTargets.set(n,i.withResumeToken(r.resumeToken,t))}}),r.targetMismatches.forEach((t,r)=>{let n=e.listenTargets.get(t);n&&(e.listenTargets.set(t,n.withResumeToken(rU.EMPTY_BYTE_STRING,n.snapshotVersion)),hm(e,t),hf(e,new aL(n.target,t,r,n.sequenceNumber)))}),e.remoteSyncer.applyRemoteEvent(r)}async function hO(e,t){let r=t.cause;for(let n of t.targetIds)e.listenTargets.has(n)&&(await e.remoteSyncer.rejectListen(n,r),e.listenTargets.delete(n),e.watchChangeAggregator.removeTarget(n))}async function hR(e){let t=ec(e),r=hz(t),n=t.writePipeline.length>0?t.writePipeline[t.writePipeline.length-1].batchId:r4;for(;hx(t);)try{let e=await c$(t.localStore,n);if(null===e){0===t.writePipeline.length&&r.markIdle();break}n=e.batchId,hI(t,e)}catch(e){await hA(t,e)}hD(t)&&hP(t)}function hx(e){return hv(e)&&e.writePipeline.length<hs}function hI(e,t){e.writePipeline.push(t);let r=hz(e);r.isOpen()&&r.handshakeComplete&&r.writeMutations(t.mutations)}function hD(e){return hv(e)&&!hz(e).isStarted()&&e.writePipeline.length>0}function hP(e){hz(e).start()}async function hN(e){hz(e).writeHandshake()}async function hk(e){let t=hz(e);for(let r of e.writePipeline)t.writeMutations(r.mutations)}async function hM(e,t,r){let n=e.writePipeline.shift(),i=o8.from(n,t,r);await hC(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await hR(e)}async function hL(e,t){t&&hz(e).handshakeComplete&&await hB(e,t),hD(e)&&hP(e)}async function hB(e,t){if(st(t.code)){let r=e.writePipeline.shift();hz(e).inhibitBackoff(),await hC(e,()=>e.remoteSyncer.rejectFailedWrite(r.batchId,t)),await hR(e)}}async function hj(e){let t=ec(e);t.offlineCauses.add(4),await hc(t),t.onlineStateTracker.set("Unknown"),t.offlineCauses.delete(4),await hu(t)}async function hF(e,t){let r=ec(e);r.asyncQueue.verifyOperationInProgress(),ei(ho,"RemoteStore received new credentials");let n=hv(r);r.offlineCauses.add(3),await hc(r),n&&r.onlineStateTracker.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.offlineCauses.delete(3),await hu(r)}async function hU(e,t){let r=ec(e);t?(r.offlineCauses.delete(2),await hu(r)):t||(r.offlineCauses.add(2),await hc(r),r.onlineStateTracker.set("Unknown"))}function hV(e){return e.watchStream||(e.watchStream=he(e.datastore,e.asyncQueue,{onConnected:hE.bind(null,e),onOpen:hS.bind(null,e),onClose:h_.bind(null,e),onWatchChange:hT.bind(null,e)}),e.onNetworkStatusChange.push(async t=>{t?(e.watchStream.inhibitBackoff(),hy(e)?hg(e):e.onlineStateTracker.set("Unknown")):(await e.watchStream.stop(),hb(e))})),e.watchStream}function hz(e){return e.writeStream||(e.writeStream=d9(e.datastore,e.asyncQueue,{onConnected:()=>Promise.resolve(),onOpen:hN.bind(null,e),onClose:hL.bind(null,e),onHandshakeComplete:hk.bind(null,e),onMutationResult:hM.bind(null,e)}),e.onNetworkStatusChange.push(async t=>{t?(e.writeStream.inhibitBackoff(),await hR(e)):(await e.writeStream.stop(),e.writePipeline.length>0&&(ei(ho,`Stopping write stream with ${e.writePipeline.length} pending writes`),e.writePipeline=[]))})),e.writeStream}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hG="AsyncQueue";class h${constructor(e,t,r,n,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=n,this.removalCallback=i,this.deferred=new ep,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,n,i){let o=new h$(e,t,Date.now()+r,n,i);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new eh(ed.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hH(e,t){if(eo(hG,`${t}: ${e}`),te(e))return new eh(ed.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e){e?this.comparator=(t,r)=>e(t,r)||eB.comparator(t.key,r.key):this.comparator=(e,t)=>eB.comparator(e.key,t.key),this.keyedMap=os(),this.sortedSet=new rx(this.comparator)}static emptySet(e){return new hq(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof hq)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let e=t.getNext().key,n=r.getNext().key;if(!e.isEqual(n))return!1}return!0}toString(){let e=[];return(this.forEach(t=>{e.push(t.toString())}),0===e.length)?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){let r=new hq;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(){this.changeMap=new rx(eB.comparator)}track(e){let t=e.doc.key,r=this.changeMap.get(t);if(!r){this.changeMap=this.changeMap.insert(t,e);return}0!==e.type&&3===r.type?this.changeMap=this.changeMap.insert(t,e):3===e.type&&1!==r.type?this.changeMap=this.changeMap.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.changeMap=this.changeMap.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.changeMap=this.changeMap.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.changeMap=this.changeMap.remove(t):1===e.type&&2===r.type?this.changeMap=this.changeMap.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.changeMap=this.changeMap.insert(t,{type:2,doc:e.doc}):el()}getChanges(){let e=[];return this.changeMap.inorderTraversal((t,r)=>{e.push(r)}),e}}class hK{constructor(e,t,r,n,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=n,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,n,i){let o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new hK(e,t,hq.emptySet(t),o,r,n,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(this.fromCache!==e.fromCache||this.hasCachedResults!==e.hasCachedResults||this.syncStateChanged!==e.syncStateChanged||!this.mutatedKeys.isEqual(e.mutatedKeys)||!i1(this.query,e.query)||!this.docs.isEqual(e.docs)||!this.oldDocs.isEqual(e.oldDocs))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==r[e].type||!t[e].doc.isEqual(r[e].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{constructor(){this.viewSnap=void 0,this.listeners=[]}hasRemoteListeners(){return this.listeners.some(e=>e.listensToRemoteStore())}}function hZ(){return new hJ}class hJ{constructor(){this.queries=hQ(),this.onlineState="Unknown",this.snapshotsInSyncListeners=new Set}terminate(){h6(this,new eh(ed.ABORTED,"Firestore shutting down"))}}function hQ(){return new or(e=>i2(e),i1)}async function hX(e,t){let r=ec(e),n=3,i=t.query,o=r.queries.get(i);o?!o.hasRemoteListeners()&&t.listensToRemoteStore()&&(n=2):(o=new hY,n=t.listensToRemoteStore()?0:1);try{switch(n){case 0:o.viewSnap=await r.onListen(i,!0);break;case 1:o.viewSnap=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(r){let e=hH(r,`Initialization of query '${i3(t.query)}' failed`);t.onError(e);return}r.queries.set(i,o),o.listeners.push(t),t.applyOnlineStateChange(r.onlineState),o.viewSnap&&t.onViewSnapshot(o.viewSnap)&&h4(r)}async function h0(e,t){let r=ec(e),n=t.query,i=3,o=r.queries.get(n);if(o){let e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),0===o.listeners.length?i=t.listensToRemoteStore()?0:1:!o.hasRemoteListeners()&&t.listensToRemoteStore()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function h1(e,t){let r=ec(e),n=!1;for(let e of t){let t=e.query,i=r.queries.get(t);if(i){for(let t of i.listeners)t.onViewSnapshot(e)&&(n=!0);i.viewSnap=e}}n&&h4(r)}function h2(e,t,r){let n=ec(e),i=n.queries.get(t);if(i)for(let e of i.listeners)e.onError(r);n.queries.delete(t)}function h3(e,t){let r=ec(e);r.onlineState=t;let n=!1;r.queries.forEach((e,r)=>{for(let e of r.listeners)e.applyOnlineStateChange(t)&&(n=!0)}),n&&h4(r)}function h6(e,t){let r=ec(e),n=r.queries;r.queries=hQ(),n.forEach((e,r)=>{for(let e of r.listeners)e.onError(t)})}function h4(e){e.snapshotsInSyncListeners.forEach(e=>{e.next()})}!function(e){e.Default="default",e.Cache="cache"}(a||(a={}));class h5{constructor(e,t,r){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.snap=null,this.onlineState="Unknown",this.options=r||{}}onViewSnapshot(e){if(!this.options.includeMetadataChanges){let t=[];for(let r of e.docChanges)3!==r.type&&t.push(r);e=new hK(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(e)&&(this.queryObserver.next(e),t=!0):this.shouldRaiseInitialEvent(e,this.onlineState)&&(this.raiseInitialEvent(e),t=!0),this.snap=e,t}onError(e){this.queryObserver.error(e)}applyOnlineStateChange(e){this.onlineState=e;let t=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&(this.raiseInitialEvent(this.snap),t=!0),t}shouldRaiseInitialEvent(e,t){if(!e.fromCache||!this.listensToRemoteStore())return!0;let r="Offline"!==t;return(!this.options.waitForSyncWhenOnline||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}shouldRaiseEvent(e){if(e.docChanges.length>0)return!0;let t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return(!!e.syncStateChanged||!!t)&&!0===this.options.includeMetadataChanges}raiseInitialEvent(e){e=hK.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.raisedInitialEvent=!0,this.queryObserver.next(e)}listensToRemoteStore(){return this.options.source!==a.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e,t,r,n){this.targetId=e,this.fromCache=t,this.addedKeys=r,this.removedKeys=n}static fromSnapshot(e,t){let r=om(),n=om();for(let e of t.docChanges)switch(e.type){case 0:r=r.add(e.doc.key);break;case 1:n=n.add(e.doc.key)}return new h8(e,t.fromCache,r,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e){this.serializer=e}toDocumentKey(e){return sU(this.serializer,e)}toMutableDocument(e){return e.metadata.exists?sK(this.serializer,e.document,!1):nJ.newNoDocument(this.toDocumentKey(e.metadata.name),this.toSnapshotVersion(e.metadata.readTime))}toSnapshotVersion(e){return sM(e)}}class h9{constructor(e,t,r){this.bundleMetadata=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=pe(e)}addSizedElement(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),!e.payload.documentMetadata.exists&&++t;let r=ek.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}getQueryDocumentMapping(e){let t=new Map,r=new h7(this.serializer);for(let n of e)if(n.metadata.queries){let e=r.toDocumentKey(n.metadata.name);for(let r of n.metadata.queries){let n=(t.get(r)||om()).add(e);t.set(r,n)}}return t}async complete(){let e=await c6(this.localStore,new h7(this.serializer),this.documents,this.bundleMetadata.id),t=this.getQueryDocumentMapping(this.documents);for(let e of this.queries)await c8(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",{progress:this.progress,changedCollectionGroups:this.collectionGroups,changedDocs:e}}}function pe(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}function pt(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.key=e}}class pn{constructor(e){this.key=e}}class pi{constructor(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.hasCachedResults=!1,this.current=!1,this.limboDocuments=om(),this.mutatedKeys=om(),this.docComparator=oe(e),this.documentSet=new hq(this.docComparator)}get syncedDocuments(){return this._syncedDocuments}computeDocChanges(e,t){let r=t?t.changeSet:new hW,n=t?t.documentSet:this.documentSet,i=t?t.mutatedKeys:this.mutatedKeys,o=n,s=!1,a="F"===this.query.limitType&&n.size===this.query.limit?n.last():null,l="L"===this.query.limitType&&n.size===this.query.limit?n.first():null;if(e.inorderTraversal((e,t)=>{let u=n.get(e),c=i6(this.query,t)?t:null,d=!!u&&this.mutatedKeys.has(u.key),h=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations),p=!1;u&&c?u.data.isEqual(c.data)?d!==h&&(r.track({type:3,doc:c}),p=!0):!this.shouldWaitForSyncedDocument(u,c)&&(r.track({type:2,doc:c}),p=!0,(a&&this.docComparator(c,a)>0||l&&0>this.docComparator(c,l))&&(s=!0)):!u&&c?(r.track({type:0,doc:c}),p=!0):u&&!c&&(r.track({type:1,doc:u}),p=!0,(a||l)&&(s=!0)),p&&(c?(o=o.add(c),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){let e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),r.track({type:1,doc:e})}return{documentSet:o,changeSet:r,needsRefill:s,mutatedKeys:i}}shouldWaitForSyncedDocument(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,n){let i=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;let o=e.changeSet.getChanges();o.sort((e,t)=>po(e.type,t.type)||this.docComparator(e.doc,t.doc)),this.applyTargetChange(r),n=null!=n&&n;let s=t&&!n?this.updateLimboDocuments():[],a=0===this.limboDocuments.size&&this.current&&!n?1:0,l=a!==this.syncState;return(this.syncState=a,0!==o.length||l)?{snapshot:new hK(this.query,e.documentSet,i,o,e.mutatedKeys,0===a,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),limboChanges:s}:{limboChanges:s}}applyOnlineStateChange(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new hW,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}}shouldBeInLimbo(e){return!this._syncedDocuments.has(e)&&!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations}applyTargetChange(e){e&&(e.addedDocuments.forEach(e=>this._syncedDocuments=this._syncedDocuments.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this._syncedDocuments=this._syncedDocuments.delete(e)),this.current=e.current)}updateLimboDocuments(){if(!this.current)return[];let e=this.limboDocuments;this.limboDocuments=om(),this.documentSet.forEach(e=>{this.shouldBeInLimbo(e.key)&&(this.limboDocuments=this.limboDocuments.add(e.key))});let t=[];return e.forEach(e=>{this.limboDocuments.has(e)||t.push(new pn(e))}),this.limboDocuments.forEach(r=>{e.has(r)||t.push(new pr(r))}),t}synchronizeWithPersistedState(e){this._syncedDocuments=e.remoteKeys,this.limboDocuments=om();let t=this.computeDocChanges(e.documents);return this.applyChanges(t,!0)}computeInitialSnapshot(){return hK.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,0===this.syncState,this.hasCachedResults)}}function po(e,t){let r=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return el()}};return r(e)-r(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ps="SyncEngine";class pa{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class pl{constructor(e){this.key=e,this.receivedDocument=!1}}class pu{constructor(e,t,r,n,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=n,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.syncEngineListener={},this.queryViewsByQuery=new or(e=>i2(e),i1),this.queriesByTarget=new Map,this.enqueuedLimboResolutions=new Set,this.activeLimboTargetsByKey=new rx(eB.comparator),this.activeLimboResolutionsByTarget=new Map,this.limboDocumentRefs=new uW,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=uu.forSyncEngine(),this.onlineState="Unknown",this._isPrimaryClient=void 0}get isPrimaryClient(){return!0===this._isPrimaryClient}}function pc(e,t,r,n,i,o,s){let a=new pu(e,t,r,n,i,o);return s&&(a._isPrimaryClient=!0),a}async function pd(e,t,r=!0){let n;let i=pq(e),o=i.queryViewsByQuery.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),n=o.view.computeInitialSnapshot()):n=await pp(i,t,r,!0),n}async function ph(e,t){let r=pq(e);await pp(r,t,!0,!1)}async function pp(e,t,r,n){let i;let o=await cq(e.localStore,iW(t)),s=o.targetId,a=e.sharedClientState.addLocalQueryTarget(s,r);return n&&(i=await pf(e,t,s,"current"===a,o.resumeToken)),e.isPrimaryClient&&r&&hh(e.remoteStore,o),i}async function pf(e,t,r,n,i){e.applyDocChanges=(t,r,n)=>pN(e,t,r,n);let o=await cY(e.localStore,t,!0),s=new pi(t,o.remoteKeys),a=s.computeDocChanges(o.documents),l=sp.createSynthesizedTargetChangeForCurrentChange(r,n&&"Offline"!==e.onlineState,i),u=s.applyChanges(a,e.isPrimaryClient,l);px(e,r,u.limboChanges);let c=new pa(t,r,s);return e.queryViewsByQuery.set(t,c),e.queriesByTarget.has(r)?e.queriesByTarget.get(r).push(t):e.queriesByTarget.set(r,[t]),u.snapshot}async function pm(e,t,r){let n=ec(e),i=n.queryViewsByQuery.get(t),o=n.queriesByTarget.get(i.targetId);if(o.length>1){n.queriesByTarget.set(i.targetId,o.filter(e=>!i1(e,t))),n.queryViewsByQuery.delete(t);return}n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await cK(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&hp(n.remoteStore,i.targetId),pO(n,i.targetId)}).catch(e1)):(pO(n,i.targetId),await cK(n.localStore,i.targetId,!0))}async function pg(e,t){let r=ec(e),n=r.queryViewsByQuery.get(t),i=r.queriesByTarget.get(n.targetId);r.isPrimaryClient&&1===i.length&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),hp(r.remoteStore,n.targetId))}async function py(e,t,r){let n=pW(e);try{let e=await ck(n.localStore,t);n.sharedClientState.addPendingMutation(e.batchId),pC(n,e.batchId,r),await pP(n,e.changes),await hR(n.remoteStore)}catch(t){let e=hH(t,"Failed to persist write");r.reject(e)}}async function pv(e,t){let r=ec(e);try{let e=await cU(r.localStore,t);t.targetChanges.forEach((e,t)=>{let n=r.activeLimboResolutionsByTarget.get(t);n&&(eu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.receivedDocument=!0:e.modifiedDocuments.size>0?eu(n.receivedDocument):e.removedDocuments.size>0&&(eu(n.receivedDocument),n.receivedDocument=!1))}),await pP(r,e,t)}catch(e){await e1(e)}}function pb(e,t,r){let n=ec(e);if(n.isPrimaryClient&&0===r||!n.isPrimaryClient&&1===r){let e=[];n.queryViewsByQuery.forEach((r,n)=>{let i=n.view.applyOnlineStateChange(t);i.snapshot&&e.push(i.snapshot)}),h3(n.eventManager,t),e.length&&n.syncEngineListener.onWatchChange(e),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function pE(e,t,r){let n=ec(e);n.sharedClientState.updateQueryState(t,"rejected",r);let i=n.activeLimboResolutionsByTarget.get(t),o=i&&i.key;if(o){let e=new rx(eB.comparator);e=e.insert(o,nJ.newNoDocument(o,eD.min()));let r=om().add(o),i=new sh(eD.min(),new Map,new rx(eC),e,r);await pv(n,i),n.activeLimboTargetsByKey=n.activeLimboTargetsByKey.remove(o),n.activeLimboResolutionsByTarget.delete(t),pD(n)}else await cK(n.localStore,t,!1).then(()=>pO(n,t,r)).catch(e1)}async function pS(e,t){let r=ec(e),n=t.batch.batchId;try{let e=await cM(r.localStore,t);pw(r,n,null),pT(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await pP(r,e)}catch(e){await e1(e)}}async function p_(e,t,r){let n=ec(e);try{let e=await cB(n.localStore,t);pw(n,t,r),pT(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await pP(n,e)}catch(e){await e1(e)}}function pT(e,t){(e.pendingWritesCallbacks.get(t)||[]).forEach(e=>{e.resolve()}),e.pendingWritesCallbacks.delete(t)}function pA(e,t){e.pendingWritesCallbacks.forEach(e=>{e.forEach(e=>{e.reject(new eh(ed.CANCELLED,t))})}),e.pendingWritesCallbacks.clear()}function pC(e,t,r){let n=e.mutationUserCallbacks[e.currentUser.toKey()];n||(n=new rx(eC)),n=n.insert(t,r),e.mutationUserCallbacks[e.currentUser.toKey()]=n}function pw(e,t,r){let n=ec(e),i=n.mutationUserCallbacks[n.currentUser.toKey()];if(i){let e=i.get(t);e&&(r?e.reject(r):e.resolve(),i=i.remove(t)),n.mutationUserCallbacks[n.currentUser.toKey()]=i}}function pO(e,t,r=null){for(let n of(e.sharedClientState.removeLocalQueryTarget(t),e.queriesByTarget.get(t)))e.queryViewsByQuery.delete(n),r&&e.syncEngineListener.onWatchError(n,r);e.queriesByTarget.delete(t),e.isPrimaryClient&&e.limboDocumentRefs.removeReferencesForId(t).forEach(t=>{e.limboDocumentRefs.containsKey(t)||pR(e,t)})}function pR(e,t){e.enqueuedLimboResolutions.delete(t.path.canonicalString());let r=e.activeLimboTargetsByKey.get(t);null!==r&&(hp(e.remoteStore,r),e.activeLimboTargetsByKey=e.activeLimboTargetsByKey.remove(t),e.activeLimboResolutionsByTarget.delete(r),pD(e))}function px(e,t,r){for(let n of r)n instanceof pr?(e.limboDocumentRefs.addReference(n.key,t),pI(e,n)):n instanceof pn?(ei(ps,"Document no longer in limbo: "+n.key),e.limboDocumentRefs.removeReference(n.key,t),e.limboDocumentRefs.containsKey(n.key)||pR(e,n.key)):el()}function pI(e,t){let r=t.key,n=r.path.canonicalString();e.activeLimboTargetsByKey.get(r)||e.enqueuedLimboResolutions.has(n)||(ei(ps,"New document in limbo: "+r),e.enqueuedLimboResolutions.add(n),pD(e))}function pD(e){for(;e.enqueuedLimboResolutions.size>0&&e.activeLimboTargetsByKey.size<e.maxConcurrentLimboResolutions;){let t=e.enqueuedLimboResolutions.values().next().value;e.enqueuedLimboResolutions.delete(t);let r=new eB(ek.fromString(t)),n=e.limboTargetIdGenerator.next();e.activeLimboResolutionsByTarget.set(n,new pl(r)),e.activeLimboTargetsByKey=e.activeLimboTargetsByKey.insert(r,n),hh(e.remoteStore,new aL(iW(iU(r.path)),n,"TargetPurposeLimboResolution",td.INVALID))}}async function pP(e,t,r){let n=ec(e),i=[],o=[],s=[];n.queryViewsByQuery.isEmpty()||(n.queryViewsByQuery.forEach((e,a)=>{s.push(n.applyDocChanges(a,t,r).then(e=>{var t;if((e||r)&&n.isPrimaryClient){let i=e?!e.fromCache:null===(t=null==r?void 0:r.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;n.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);let t=h8.fromSnapshot(a.targetId,e);o.push(t)}}))}),await Promise.all(s),n.syncEngineListener.onWatchChange(i),await cG(n.localStore,o))}async function pN(e,t,r,n){let i=t.view.computeDocChanges(r);i.needsRefill&&(i=await cY(e.localStore,t.query,!1).then(({documents:e})=>t.view.computeDocChanges(e,i)));let o=n&&n.targetChanges.get(t.targetId),s=n&&null!=n.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return px(e,t.targetId,a.limboChanges),a.snapshot}async function pk(e,t){let r=ec(e);if(!r.currentUser.isEqual(t)){ei(ps,"User change. New user:",t.toKey());let e=await cN(r.localStore,t);r.currentUser=t,pA(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await pP(r,e.affectedDocuments)}}function pM(e,t){let r=ec(e),n=r.activeLimboResolutionsByTarget.get(t);if(n&&n.receivedDocument)return om().add(n.key);{let e=om(),n=r.queriesByTarget.get(t);if(!n)return e;for(let t of n){let n=r.queryViewsByQuery.get(t);e=e.unionWith(n.view.syncedDocuments)}return e}}async function pL(e,t){let r=ec(e),n=await cY(r.localStore,t.query,!0),i=t.view.synchronizeWithPersistedState(n);return r.isPrimaryClient&&px(r,t.targetId,i.limboChanges),i}async function pB(e,t){let r=ec(e);return c1(r.localStore,t).then(e=>pP(r,e))}async function pj(e,t,r,n){let i=ec(e),o=await cJ(i.localStore,t);if(null===o){ei(ps,"Cannot apply mutation batch with id: "+t);return}"pending"===r?await hR(i.remoteStore):"acknowledged"===r||"rejected"===r?(pw(i,t,n||null),pT(i,t),cQ(i.localStore,t)):el(),await pP(i,o)}async function pF(e,t){let r=ec(e);if(pq(r),pW(r),!0===t&&!0!==r._isPrimaryClient){let e=r.sharedClientState.getAllActiveQueryTargets(),t=await pV(r,e.toArray());for(let e of(r._isPrimaryClient=!0,await hU(r.remoteStore,!0),t))hh(r.remoteStore,e)}else if(!1===t&&!1!==r._isPrimaryClient){let e=[],t=Promise.resolve();r.queriesByTarget.forEach((n,i)=>{r.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(pO(r,i),cK(r.localStore,i,!0))),hp(r.remoteStore,i)}),await t,await pV(r,e),pU(r),r._isPrimaryClient=!1,await hU(r.remoteStore,!1)}}function pU(e){let t=ec(e);t.activeLimboResolutionsByTarget.forEach((e,r)=>{hp(t.remoteStore,r)}),t.limboDocumentRefs.removeAllReferences(),t.activeLimboResolutionsByTarget=new Map,t.activeLimboTargetsByKey=new rx(eB.comparator)}async function pV(e,t,r){let n=ec(e),i=[],o=[];for(let e of t){let t;let r=n.queriesByTarget.get(e);if(r&&0!==r.length)for(let e of(t=await cq(n.localStore,iW(r[0])),r)){let t=n.queryViewsByQuery.get(e),r=await pL(n,t);r.snapshot&&o.push(r.snapshot)}else{let r=await c0(n.localStore,e);t=await cq(n.localStore,r),await pf(n,pz(r),e,!1,t.resumeToken)}i.push(t)}return n.syncEngineListener.onWatchChange(o),i}function pz(e){return iF(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function pG(e){return cX(ec(e).localStore)}async function p$(e,t,r,n){let i=ec(e);if(i._isPrimaryClient){ei(ps,"Ignoring unexpected query state notification.");return}let o=i.queriesByTarget.get(t);if(o&&o.length>0)switch(r){case"current":case"not-current":{let e=await c1(i.localStore,i9(o[0])),n=sh.createSynthesizedRemoteEventForCurrentChange(t,"current"===r,rU.EMPTY_BYTE_STRING);await pP(i,e,n);break}case"rejected":await cK(i.localStore,t,!0),pO(i,t,n);break;default:el()}}async function pH(e,t,r){let n=pq(e);if(n._isPrimaryClient){for(let e of t){if(n.queriesByTarget.has(e)&&n.sharedClientState.isActiveQueryTarget(e)){ei(ps,"Adding an already active target "+e);continue}let t=await c0(n.localStore,e),r=await cq(n.localStore,t);await pf(n,pz(t),r.targetId,!1,r.resumeToken),hh(n.remoteStore,r)}for(let e of r)n.queriesByTarget.has(e)&&await cK(n.localStore,e,!1).then(()=>{hp(n.remoteStore,e),pO(n,e)}).catch(e1)}}function pq(e){let t=ec(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=pv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pE.bind(null,t),t.syncEngineListener.onWatchChange=h1.bind(null,t.eventManager),t.syncEngineListener.onWatchError=h2.bind(null,t.eventManager),t}function pW(e){let t=ec(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=p_.bind(null,t),t}async function pK(e,t,r){try{let n=await t.getMetadata();if(await c4(e.localStore,n))return await t.close(),r._completeWith(pt(n)),Promise.resolve(new Set);r._updateProgress(pe(n));let i=new h9(n,e.localStore,t.serializer),o=await t.nextElement();for(;o;){let e=await i.addSizedElement(o);e&&r._updateProgress(e),o=await t.nextElement()}let s=await i.complete();return await pP(e,s.changedDocs,void 0),await c5(e.localStore,n),r._completeWith(s.progress),Promise.resolve(s.changedCollectionGroups)}catch(e){return es(ps,`Loading bundle failed with ${e}`),r._failWith(e),Promise.resolve(new Set)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pY{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dH(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return cP(this.persistence,new dr,e.initialUser,this.serializer)}createPersistence(e){return new u2(u6.factory,this.serializer)}createSharedClientState(e){return new dA}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pY.provider={build:()=>new pY};class pZ extends pY{constructor(e,t,r){super(),this.onlineComponentProvider=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.onlineComponentProvider.initialize(this,e),await pW(this.onlineComponentProvider.syncEngine),await hR(this.onlineComponentProvider.remoteStore),await this.persistence.setPrimaryStateListener(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return cP(this.persistence,new dr,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new uA(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){let r=new tc(t,this.persistence);return new tu(e.asyncQueue,r)}createPersistence(e){let t=cw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?uy.withCacheSize(this.cacheSizeBytes):uy.DEFAULT;return new cT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,dG(),d$(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new dA}}class pJ{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>pb(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=pk.bind(null,this.syncEngine),await hU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return hZ()}createDatastore(e){let t=dH(e.databaseInfo.databaseId),r=dV(e.databaseInfo);return d4(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return hl(this.localStore,this.datastore,e.asyncQueue,e=>pb(this.syncEngine,e,0),dz())}createSyncEngine(e,t){return pc(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await hd(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}pJ.provider={build:()=>new pJ};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pQ=10240;function pX(e,t=pQ){let r=0;return{async read(){if(r<e.byteLength){let n={value:e.slice(r,r+t),done:!1};return r+=t,n}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(e,t,r){if(!r)throw new eh(ed.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function p1(e,t,r,n){if(!0===t&&!0===n)throw new eh(ed.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function p2(e){if(!eB.isDocumentKey(e))throw new eh(ed.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function p3(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function p6(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{let t=p4(e);return t?`a custom ${t} object`:"an object"}}if("function"==typeof e)return"a function";return el()}function p4(e){return e.constructor?e.constructor.name:null}function p5(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new eh(ed.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let r=p6(e);throw new eh(ed.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(e,t){if(!(e instanceof Uint8Array))throw new eh(ed.INVALID_ARGUMENT,`NodePlatform.toByteStreamReader expects source to be Uint8Array, got ${p6(e)}`);return pX(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e){this.observer=e,this.muted=!1}next(e){!this.muted&&this.observer.next&&this.scheduleEvent(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.scheduleEvent(this.observer.error,e):eo("Uncaught Error in snapshot listener:",e.toString()))}mute(){this.muted=!0}scheduleEvent(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,t){this.payload=e,this.byteLength=t}isBundleMetadata(){return"metadata"in this.payload}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e,t){this.reader=e,this.serializer=t,this.metadata=new ep,this.buffer=new Uint8Array,this.textDecoder=ss(),this.nextElementImpl().then(e=>{e&&e.isBundleMetadata()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(null==e?void 0:e.payload)}`))},e=>this.metadata.reject(e))}close(){return this.reader.cancel()}async getMetadata(){return this.metadata.promise}async nextElement(){return await this.getMetadata(),this.nextElementImpl()}async nextElementImpl(){let e=await this.readLength();if(null===e)return null;let t=this.textDecoder.decode(e),r=Number(t);return isNaN(r)&&this.raiseError(`length string (${t}) is not valid number`),new p9(JSON.parse(await this.readJsonString(r)),e.length+r)}indexOfOpenBracket(){return this.buffer.findIndex(e=>123===e)}async readLength(){for(;0>this.indexOfOpenBracket()&&!await this.pullMoreDataToBuffer(););if(0===this.buffer.length)return null;let e=this.indexOfOpenBracket();e<0&&this.raiseError("Reached the end of bundle when a length string is expected.");let t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async readJsonString(e){for(;this.buffer.length<e;)await this.pullMoreDataToBuffer()&&this.raiseError("Reached the end of bundle when more is expected.");let t=this.textDecoder.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}raiseError(e){throw this.reader.cancel(),Error(`Invalid bundle format: ${e}`)}async pullMoreDataToBuffer(){let e=await this.reader.read();if(!e.done){let t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}function ft(e,t){return new fe(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new eh(ed.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let t=await d8(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new o2(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{let r=eB.fromPath(t);this.mutations.push(new o4(r,this.precondition(r)))}),await d5(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else if(e.isNoDocument())t=eD.min();else throw el();let r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new eh(ed.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return this.writtenDocs.has(e.toString())||!t?oF.none():t.isEqual(eD.min())?oF.exists(!1):oF.updateTime(t)}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(this.writtenDocs.has(e.toString())||!t)return oF.exists(!0);if(t.isEqual(eD.min()))throw new eh(ed.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return oF.updateTime(t)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fn="FirestoreClient",fi=100,fo=11,fs=20,fa=22;class fl{constructor(e,t,r,n,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=n,this.user=Q.UNAUTHENTICATED,this.clientId=eA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async e=>{ei(fn,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(r,e=>(ei(fn,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:fi}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ep;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){let t=hH(r,"Failed to shutdown persistence");e.reject(t)}}),e.promise}}async function fu(e,t){e.asyncQueue.verifyOperationInProgress(),ei(fn,"Initializing OfflineComponentProvider");let r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async e=>{n.isEqual(e)||(await cN(t.localStore,e),n=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function fc(e,t){e.asyncQueue.verifyOperationInProgress();let r=await fh(e);ei(fn,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(e=>hF(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,r)=>hF(t.remoteStore,r)),e._onlineComponents=t}function fd(e){return"FirebaseError"===e.name?e.code===ed.FAILED_PRECONDITION||e.code===ed.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||e.code===fa||e.code===fs||e.code===fo}async function fh(e){if(!e._offlineComponents){if(e._uninitializedComponentsProvider){ei(fn,"Using user provided OfflineComponentProvider");try{await fu(e,e._uninitializedComponentsProvider._offline)}catch(r){let t=r;if(!fd(t))throw t;es("Error using user provided cache. Falling back to memory cache: "+t),await fu(e,new pY)}}else ei(fn,"Using default OfflineComponentProvider"),await fu(e,new pY)}return e._offlineComponents}async function fp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ei(fn,"Using user provided OnlineComponentProvider"),await fc(e,e._uninitializedComponentsProvider._online)):(ei(fn,"Using default OnlineComponentProvider"),await fc(e,new pJ))),e._onlineComponents}function ff(e){return fh(e).then(e=>e.localStore)}function fm(e){return fp(e).then(e=>e.syncEngine)}function fg(e){return fp(e).then(e=>e.datastore)}function fy(e,t){let r=new ep;return e.asyncQueue.enqueueAndForget(async()=>py(await fm(e),t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(e,t){return e.timeoutSeconds===t.timeoutSeconds}function fb(e){let t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fE="ComponentProvider",fS=new Map;function f_(e){let t=fS.get(e);t&&(ei(fE,"Removing Datastore"),fS.delete(e),t.terminate())}function fT(e,t,r,n){return new r1(e,t,r,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling,fb(n.experimentalLongPollingOptions),n.useFetchStreams)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fA="firestore.googleapis.com",fC=!0,fw=5,fO=30,fR=!0;class fx{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new eh(ed.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fA,this.ssl=fC}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:fC;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=ug;else{if(e.cacheSizeBytes!==um&&e.cacheSizeBytes<ub)throw new eh(ed.INVALID_ARGUMENT,`cacheSizeBytes must be at least ${ub}`);this.cacheSizeBytes=e.cacheSizeBytes}p1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=fR:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fb(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),fI(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&fv(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}function fI(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new eh(ed.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<fw)throw new eh(ed.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is ${fw})`);if(e.timeoutSeconds>fO)throw new eh(ed.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is ${fO})`)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,t,r,n){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fx({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new eh(ed.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new eh(ed.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fx(e),void 0!==e.credentials&&(this._authCredentials=e_(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return f_(this),Promise.resolve()}}function fP(e,t,r,n={}){var i;let o=(e=p5(e,fD))._getSettings(),s=`${t}:${r}`;if(o.host!==fA&&o.host!==s&&es("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),n.mockUserToken){let t,r;if("string"==typeof n.mockUserToken)t=n.mockUserToken,r=Q.MOCK_USER;else{t=A(n.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);let o=n.mockUserToken.sub||n.mockUserToken.user_id;if(!o)throw new eh(ed.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");r=new Q(o)}e._authCredentials=new eg(new ef(t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fN(this.firestore,e,this._query)}}class fk{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fM(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fk(this.firestore,e,this._key)}}class fM extends fN{constructor(e,t,r){super(e,t,iU(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new fk(this.firestore,null,new eB(e))}withConverter(e){return new fM(this.firestore,e,this._path)}}function fL(e,t,...r){if(e=L(e),1==arguments.length&&(t=eA.newId()),p0("doc","path",t),e instanceof fD){let n=ek.fromString(t,...r);return p2(n),new fk(e,null,new eB(n))}{if(!(e instanceof fk)&&!(e instanceof fM))throw new eh(ed.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=e._path.child(ek.fromString(t,...r));return p2(n),new fk(e.firestore,e instanceof fM?e.converter:null,new eB(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fB="AsyncQueue";class fj{constructor(e=Promise.resolve()){this.retryableOps=[],this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.skipNonRestrictedTasks=!1,this.timerIdsToSkip=[],this.backoff=new dZ(this,"async_queue_retry"),this.visibilityHandler=()=>{this.backoff.skipBackoff()},this.tail=e}get isShuttingDown(){return this._isShuttingDown}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.verifyNotFailed(),this.enqueueInternal(e)}enterRestrictedMode(e){this._isShuttingDown||(this._isShuttingDown=!0,this.skipNonRestrictedTasks=e||!1)}enqueue(e){if(this.verifyNotFailed(),this._isShuttingDown)return new Promise(()=>{});let t=new ep;return this.enqueueInternal(()=>this._isShuttingDown&&this.skipNonRestrictedTasks?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.retryableOps.push(e),this.retryNextOp()))}async retryNextOp(){if(0!==this.retryableOps.length){try{await this.retryableOps[0](),this.retryableOps.shift(),this.backoff.reset()}catch(e){if(te(e))ei(fB,"Operation failed with retryable error: "+e);else throw e}this.retryableOps.length>0&&this.backoff.backoffAndRun(()=>this.retryNextOp())}}enqueueInternal(e){let t=this.tail.then(()=>(this.operationInProgress=!0,e().catch(e=>{throw this.failure=e,this.operationInProgress=!1,eo("INTERNAL UNHANDLED ERROR: ",fF(e)),e}).then(e=>(this.operationInProgress=!1,e))));return this.tail=t,t}enqueueAfterDelay(e,t,r){this.verifyNotFailed(),this.timerIdsToSkip.indexOf(e)>-1&&(t=0);let n=h$.createAndSchedule(this,e,t,r,e=>this.removeDelayedOperation(e));return this.delayedOperations.push(n),n}verifyNotFailed(){this.failure&&el()}verifyOperationInProgress(){}async drain(){let e;do e=this.tail,await e;while(e!==this.tail)}containsDelayedOperation(e){for(let t of this.delayedOperations)if(t.timerId===e)return!0;return!1}runAllDelayedOperationsUntil(e){return this.drain().then(()=>{for(let t of(this.delayedOperations.sort((e,t)=>e.targetTimeMs-t.targetTimeMs),this.delayedOperations))if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.drain()})}skipDelaysForTimerId(e){this.timerIdsToSkip.push(e)}removeDelayedOperation(e){let t=this.delayedOperations.indexOf(e);this.delayedOperations.splice(t,1)}}function fF(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class fU extends fD{constructor(e,t,r,n){super(e,t,r,n),this.type="firestore",this._queue=new fj,this._persistenceKey=(null==n?void 0:n.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new fj(e),this._firestoreClient=void 0,await e}}}function fV(e,t){let r="object"==typeof e?e:(0,l.Mq)(),n="string"==typeof e?e:t||r2,i=(0,l.qX)(r,"firestore").getImmediate({identifier:n});if(!i._initialized){let e=T("firestore");e&&fP(i,...e)}return i}function fz(e){if(e._terminated)throw new eh(ed.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||fG(e),e._firestoreClient}function fG(e){var t,r,n;let i=e._freezeSettings(),o=fT(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);!e._componentsProvider&&(null===(r=i.localCache)||void 0===r?void 0:r._offlineComponentProvider)&&(null===(n=i.localCache)||void 0===n?void 0:n._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new fl(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&f$(e._componentsProvider))}function f$(e){let t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fH(e,t=!0){ee(l.Jn),(0,l.Xd)(new B("firestore",(e,{instanceIdentifier:r,options:n})=>{let i=e.getProvider("app").getImmediate(),o=new fU(new ey(e.getProvider("auth-internal")),new eS(e.getProvider("app-check-internal")),r6(i,r),i);return n=Object.assign({useFetchStreams:t},n),o._setSettings(n),o},"PUBLIC").setMultipleInstances(!0)),(0,l.KN)(Z,J,e),(0,l.KN)(Z,J,"esm2017")}class fq{constructor(e,t,r){this._userDataWriter=t,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fW(rU.fromBase64String(e))}catch(e){throw new eh(ed.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new fW(rU.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new eh(ed.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new eL(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fY{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fZ{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new eh(ed.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new eh(ed.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return eC(this._lat,e._lat)||eC(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fJ{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return cR(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fQ=/^__.*__$/;class fX{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new oZ(e,this.data,this.fieldMask,t,this.fieldTransforms):new oW(e,this.data,t,this.fieldTransforms)}}class f0{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new oZ(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function f1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw el()}}class f2{constructor(e,t,r,n,i,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=n,void 0===i&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new f2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var t;let r=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.contextWith({path:r,arrayElement:!1});return n.validatePathSegment(e),n}childContextForFieldPath(e){var t;let r=null===(t=this.path)||void 0===t?void 0:t.child(e),n=this.contextWith({path:r,arrayElement:!1});return n.validatePath(),n}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return mg(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(0===e.length)throw this.createError("Document fields must not be empty");if(f1(this.dataSource)&&fQ.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class f3{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||dH(e)}createContext(e,t,r,n=!1){return new f2({dataSource:e,methodName:t,targetDoc:r,path:eL.emptyPath(),arrayElement:!1,hasConverter:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function f6(e){let t=e._freezeSettings(),r=dH(e._databaseId);return new f3(e._databaseId,!!t.ignoreUndefinedProperties,r)}function f4(e,t,r,n,i,o={}){let s,a;let l=e.createContext(o.merge||o.mergeFields?2:0,t,r,i);mh("Data must be an object, but it was:",l,n);let u=ms(n,l);if(o.merge)s=new rB(l.fieldMask),a=l.fieldTransforms;else if(o.mergeFields){let e=[];for(let n of o.mergeFields){let i=mp(t,n,r);if(!l.contains(i))throw new eh(ed.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);my(e,i)||e.push(i)}s=new rB(e),a=l.fieldTransforms.filter(e=>s.covers(e.field))}else s=null,a=l.fieldTransforms;return new fX(new nY(u),s,a)}class f5 extends fY{_toFieldTransform(e){if(2===e.dataSource)e.fieldMask.push(e.path);else if(1===e.dataSource)throw e.createError(`${this._methodName}() can only appear at the top level of your update data`);else throw e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return null}isEqual(e){return e instanceof f5}}function f8(e,t,r){return new f2({dataSource:3,targetDoc:t.settings.targetDoc,methodName:e._methodName,arrayElement:r},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class f7 extends null{_toFieldTransform(e){return new oM(e.path,new ow)}isEqual(e){return e instanceof f7}}class f9 extends fY{constructor(e,t){super(e),this._elements=t}_toFieldTransform(e){let t=f8(this,e,!0),r=new oO(this._elements.map(e=>mo(e,t)));return new oM(e.path,r)}isEqual(e){return e instanceof f9&&k(this._elements,e._elements)}}class me extends fY{constructor(e,t){super(e),this._elements=t}_toFieldTransform(e){let t=f8(this,e,!0),r=new ox(this._elements.map(e=>mo(e,t)));return new oM(e.path,r)}isEqual(e){return e instanceof me&&k(this._elements,e._elements)}}class mt extends fY{constructor(e,t){super(e),this._operand=t}_toFieldTransform(e){let t=new oD(e.serializer,oE(e.serializer,this._operand));return new oM(e.path,t)}isEqual(e){return e instanceof mt&&this._operand===e._operand}}function mr(e,t,r,n){let i=e.createContext(1,t,r);mh("Data must be an object, but it was:",i,n);let o=[],s=nY.empty();return rO(n,(e,n)=>{let a=mm(t,e,r);n=L(n);let l=i.childContextForFieldPath(a);if(n instanceof f5)o.push(a);else{let e=mo(n,l);null!=e&&(o.push(a),s.set(a,e))}}),new f0(s,new rB(o),i.fieldTransforms)}function mn(e,t,r,n,i,o){let s=e.createContext(1,t,r),a=[mp(t,n,r)],l=[i];if(o.length%2!=0)throw new eh(ed.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<o.length;e+=2)a.push(mp(t,o[e])),l.push(o[e+1]);let u=[],c=nY.empty();for(let e=a.length-1;e>=0;--e)if(!my(u,a[e])){let t=a[e],r=l[e];r=L(r);let n=s.childContextForFieldPath(t);if(r instanceof f5)u.push(t);else{let e=mo(r,n);null!=e&&(u.push(t),c.set(t,e))}}return new f0(c,new rB(u),s.fieldTransforms)}function mi(e,t,r,n=!1){return mo(r,e.createContext(n?4:3,t))}function mo(e,t){if(md(e=L(e)))return mh("Unsupported field value:",t,e),ms(e,t);if(e instanceof fY)return ml(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),!(e instanceof Array))return mu(e,t);if(t.settings.arrayElement&&4!==t.dataSource)throw t.createError("Nested arrays are not supported");return ma(e,t)}function ms(e,t){let r={};return rR(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rO(e,(e,n)=>{let i=mo(n,t.childContextForField(e));null!=i&&(r[e]=i)}),{mapValue:{fields:r}}}function ma(e,t){let r=[],n=0;for(let i of e){let e=mo(i,t.childContextForArray(n));null==e&&(e={nullValue:"NULL_VALUE"}),r.push(e),n++}return{arrayValue:{values:r}}}function ml(e,t){if(!f1(t.dataSource))throw t.createError(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.createError(`${e._methodName}() is not currently supported inside arrays`);let r=e._toFieldTransform(t);r&&t.fieldTransforms.push(r)}function mu(e,t){if(null===(e=L(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return oE(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){let r=eI.fromDate(e);return{timestampValue:sI(t.serializer,r)}}if(e instanceof eI){let r=new eI(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:sI(t.serializer,r)}}if(e instanceof fZ)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};else if(e instanceof fW)return{bytesValue:sP(t.serializer,e._byteString)};else if(e instanceof fk){let r=t.databaseId,n=e.firestore._databaseId;if(!n.isEqual(r))throw t.createError(`Document reference is for database ${n.projectId}/${n.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:sL(e.firestore._databaseId||t.databaseId,e._key.path)}}else if(e instanceof fJ)return mc(e,t);else throw t.createError(`Unsupported field value: ${p6(e)}`)}function mc(e,t){return{mapValue:{fields:{[r9]:{stringValue:nr},[nn]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.createError("VectorValues must only contain numeric values.");return ov(t.serializer,e)})}}}}}}function md(e){return"object"==typeof e&&null!==e&&!(e instanceof Array)&&!(e instanceof Date)&&!(e instanceof eI)&&!(e instanceof fZ)&&!(e instanceof fW)&&!(e instanceof fk)&&!(e instanceof fY)&&!(e instanceof fJ)}function mh(e,t,r){if(!md(r)||!p3(r)){let n=p6(r);if("an object"===n)throw t.createError(e+" a custom object");throw t.createError(e+" "+n)}}function mp(e,t,r){if((t=L(t))instanceof fK)return t._internalPath;if("string"==typeof t)return mm(e,t);throw mg("Field path arguments must be of type string or ",e,!1,void 0,r)}let mf=RegExp("[~\\*/\\[\\]]");function mm(e,t,r){if(t.search(mf)>=0)throw mg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new fK(...t.split("."))._internalPath}catch(n){throw mg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function mg(e,t,r,n,i){let o=n&&!n.isEmpty(),s=void 0!==i,a=`Function ${t}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${n}`),s&&(l+=` in document ${i}`),l+=")"),new eh(ed.INVALID_ARGUMENT,a+e+l)}function my(e,t){return e.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,t,r,n,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=n,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new fk(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(!this._converter)return this._userDataWriter.convertValue(this._document.data.value);{let e=new mb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}}}get(e){if(this._document){let t=this._document.data.field(mE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class mb extends mv{data(){return super.data()}}function mE(e,t){return"string"==typeof t?mm(e,t):t instanceof fK?t._internalPath:t._delegate._internalPath}class mS{}class m_ extends mS{}class mT extends m_{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new mT(e,t,r)}_apply(e){let t=this._parse(e);return mB(e._query,t),new fN(e.firestore,e.converter,iZ(e._query,t))}_parse(e){let t=f6(e.firestore);return mI(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class mA extends mS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new mA(e,t)}_parse(e){let t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:ie.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return 0===t.getFilters().length?e:(mj(e._query,t),new fN(e.firestore,e.converter,iZ(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class mC extends m_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new mC(e,t)}_apply(e){let t=mD(e._query,this._field,this._direction);return new fN(e.firestore,e.converter,iJ(e._query,t))}}class mw extends m_{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new mw(e,t,r)}_apply(e){return new fN(e.firestore,e.converter,iQ(e._query,this._limit,this._limitType))}}class mO extends m_{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new mO(e,t,r)}_apply(e){let t=mx(e,this.type,this._docOrFields,this._inclusive);return new fN(e.firestore,e.converter,iX(e._query,t))}}class mR extends m_{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new mR(e,t,r)}_apply(e){let t=mx(e,this.type,this._docOrFields,this._inclusive);return new fN(e.firestore,e.converter,i0(e._query,t))}}function mx(e,t,r,n){if(r[0]=L(r[0]),r[0]instanceof mv)return mP(e._query,e.firestore._databaseId,t,r[0]._document,n);{let i=f6(e.firestore);return mN(e._query,e.firestore._databaseId,i,t,r,n)}}function mI(e,t,r,n,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new eh(ed.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){mM(s,o);let t=[];for(let r of s)t.push(mk(n,e,r));a={arrayValue:{values:t}}}else a=mk(n,e,s)}else("in"===o||"not-in"===o||"array-contains-any"===o)&&mM(s,o),a=mi(r,t,s,"in"===o||"not-in"===o);return n9.create(i,o,a)}function mD(e,t,r){if(null!==e.startAt)throw new eh(ed.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new eh(ed.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new n6(t,r)}function mP(e,t,r,n,i){if(!n)throw new eh(ed.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${r}().`);let o=[];for(let r of iq(e))if(r.field.isKeyField())o.push(nN(t,n.key));else{let e=n.data.field(r.field);if(rJ(e))throw new eh(ed.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+r.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null!==e)o.push(e);else{let e=r.field.canonicalString();throw new eh(ed.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}}return new nX(o,i)}function mN(e,t,r,n,i,o){let s=e.explicitOrderBy;if(i.length>s.length)throw new eh(ed.INVALID_ARGUMENT,`Too many arguments provided to ${n}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let a=[];for(let o=0;o<i.length;o++){let l=i[o];if(s[o].field.isKeyField()){if("string"!=typeof l)throw new eh(ed.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${n}(), but got a ${typeof l}`);if(!iH(e)&&-1!==l.indexOf("/"))throw new eh(ed.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${n}() must be a plain document ID, but '${l}' contains a slash.`);let r=e.path.child(ek.fromString(l));if(!eB.isDocumentKey(r))throw new eh(ed.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${n}() must result in a valid document path, but '${r}' is not because it contains an odd number of segments.`);let i=new eB(r);a.push(nN(t,i))}else{let e=mi(r,n,l);a.push(e)}}return new nX(a,o)}function mk(e,t,r){if("string"==typeof(r=L(r))){if(""===r)throw new eh(ed.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iH(t)&&-1!==r.indexOf("/"))throw new eh(ed.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);let n=t.path.child(ek.fromString(r));if(!eB.isDocumentKey(n))throw new eh(ed.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return nN(e,new eB(n))}if(r instanceof fk)return nN(e,r._key);throw new eh(ed.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${p6(r)}.`)}function mM(e,t){if(!Array.isArray(e)||0===e.length)throw new eh(ed.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function mL(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}function mB(e,t){let r=mF(e.filters,mL(t.op));if(null!==r){if(r===t.op)throw new eh(ed.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`);throw new eh(ed.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}}function mj(e,t){let r=e;for(let e of t.getFlattenedFilters())mB(r,e),r=iZ(r,e)}function mF(e,t){for(let r of e)for(let e of r.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{convertValue(e,t="none"){switch(no(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rH(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rq(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw el()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return rO(e,(e,n)=>{r[e]=this.convertValue(n,t)}),r}convertVectorValue(e){var t,r,n;return new fJ(null===(n=null===(r=null===(t=e.fields)||void 0===t?void 0:t[nn].arrayValue)||void 0===r?void 0:r.values)||void 0===n?void 0:n.map(e=>rH(e.doubleValue)))}convertGeoPoint(e){return new fZ(rH(e.latitude),rH(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=rX(e);if(null==r)return null;return this.convertValue(r,t);case"estimate":return this.convertTimestamp(r0(e));default:return null}}convertTimestamp(e){let t=r$(e);return new eI(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ek.fromString(e);eu(aM(r));let n=new r3(r.get(1),r.get(3)),i=new eB(r.popFirst(5));return n.isEqual(t)||eo(`Document ${i} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(e,t,r){return e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t}class mz extends mU{constructor(e){super(),this.firestore=e}convertBytes(e){return new fW(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new fk(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mG{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class m$ extends mv{constructor(e,t,r,n,i,o){super(e,t,r,n,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(!this._converter)return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps);{let t=new mH(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}}}get(e,t={}){if(this._document){let r=this._document.data.field(mE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class mH extends m${data(e={}){return super.data(e)}}function mq(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return el()}}class mW extends mU{constructor(e){super(),this.firestore=e}convertBytes(e){return new fW(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new fk(this.firestore,null,t)}}function mK(e,t,r){e=p5(e,fk);let n=p5(e.firestore,fU),i=mV(e.converter,t,r),o=f4(f6(n),"setDoc",e._key,i,null!==e.converter,r).toMutation(e._key,oF.none());return mY(n,[o])}function mY(e,t){return fy(fz(e),t)}class mZ{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=pJ.provider,this._offlineComponentProvider={build:t=>new pZ(t,null==e?void 0:e.cacheSizeBytes,this.forceOwnership)}}}function mJ(e,t){if((e=L(e)).firestore===t)return e;throw new eh(ed.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.")}new WeakMap,/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fH("node")},56933:(e,t,r)=>{"use strict";r.d(t,{oO:()=>o});var n=r(17577),i=r(40295);function o(e=!0){let t=(0,n.useContext)(i.O);if(null===t)return[!0,null];let{isPresent:r,onExitComplete:o,register:s}=t,a=(0,n.useId)();(0,n.useEffect)(()=>{e&&s(a)},[e]);let l=(0,n.useCallback)(()=>e&&o&&o(a),[a,o,e]);return!r&&o?[!1,l]:[!0]}},40339:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});let n=(0,r(17577).createContext)({})},73965:(e,t,r)=>{"use strict";r.d(t,{_:()=>n});let n=(0,r(17577).createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"})},40295:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});let n=(0,r(17577).createContext)(null)},30058:(e,t,r)=>{"use strict";let n;function i(e){if("undefined"==typeof Proxy)return e;let t=new Map;return new Proxy((...t)=>e(...t),{get:(r,n)=>"create"===n?e:(t.has(n)||t.set(n,e(n)),t.get(n))})}function o(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}r.d(t,{E:()=>ax});let s=e=>Array.isArray(e);function a(e,t){if(!Array.isArray(t))return!1;let r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function l(e){return"string"==typeof e||Array.isArray(e)}function u(e){let t=[{},{}];return null==e||e.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function c(e,t,r,n){if("function"==typeof t){let[i,o]=u(n);t=t(void 0!==r?r:e.custom,i,o)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){let[i,o]=u(n);t=t(void 0!==r?r:e.custom,i,o)}return t}function d(e,t,r){let n=e.getProps();return c(n,t,void 0!==r?r:n.custom,e)}let h=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],p=["initial",...h];function f(e){let t;return()=>(void 0===t&&(t=e()),t)}let m=f(()=>void 0!==window.ScrollTimeline);class g{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){let r=this.animations.map(r=>m()&&r.attachTimeline?r.attachTimeline(e):"function"==typeof t?t(r):void 0);return()=>{r.forEach((e,t)=>{e&&e(),this.animations[t].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class y extends g{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function v(e,t){return e?e[t]||e.default||e:void 0}let b=2e4;function E(e){let t=0,r=50,n=e.next(t);for(;!n.done&&t<b;)t+=r,n=e.next(t);return t>=b?1/0:t}function S(e){return"function"==typeof e}function _(e,t){e.timeline=t,e.onfinish=null}let T=e=>Array.isArray(e)&&"number"==typeof e[0],A={linearEasing:void 0},C=function(e,t){let r=f(e);return()=>{var e;return null!==(e=A[t])&&void 0!==e?e:r()}}(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),w=(e,t,r)=>{let n=t-e;return 0===n?1:(r-e)/n},O=(e,t,r=10)=>{let n="",i=Math.max(Math.round(t/r),2);for(let t=0;t<i;t++)n+=e(w(0,i-1,t))+", ";return`linear(${n.substring(0,n.length-2)})`};function R(e){return!!("function"==typeof e&&C()||!e||"string"==typeof e&&(e in I||C())||T(e)||Array.isArray(e)&&e.every(R))}let x=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,I={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:x([0,.65,.55,1]),circOut:x([.55,0,1,.45]),backIn:x([.31,.01,.66,-.59]),backOut:x([.33,1.53,.69,.99])};function D(e,t){if(e)return"function"==typeof e&&C()?O(e,t):T(e)?x(e):Array.isArray(e)?e.map(e=>D(e,t)||I.easeOut):I[e]}let P={x:!1,y:!1};function N(){return P.x||P.y}function k(e,t,r){var n;if(e instanceof Element)return[e];if("string"==typeof e){let i=document;t&&(i=t.current);let o=null!==(n=null==r?void 0:r[e])&&void 0!==n?n:i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}function M(e,t){let r=k(e),n=new AbortController;return[r,{passive:!0,...t,signal:n.signal},()=>n.abort()]}function L(e){return t=>{"touch"===t.pointerType||N()||e(t)}}function B(e,t,r={}){let[n,i,o]=M(e,r),s=L(e=>{let{target:r}=e,n=t(e);if("function"!=typeof n||!r)return;let o=L(e=>{n(e),r.removeEventListener("pointerleave",o)});r.addEventListener("pointerleave",o,i)});return n.forEach(e=>{e.addEventListener("pointerenter",s,i)}),o}let j=(e,t)=>!!t&&(e===t||j(e,t.parentElement)),F=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,U=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function V(e){return U.has(e.tagName)||-1!==e.tabIndex}let z=new WeakSet;function G(e){return t=>{"Enter"===t.key&&e(t)}}function $(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}let H=(e,t)=>{let r=e.currentTarget;if(!r)return;let n=G(()=>{if(z.has(r))return;$(r,"down");let e=G(()=>{$(r,"up")}),n=()=>$(r,"cancel");r.addEventListener("keyup",e,t),r.addEventListener("blur",n,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function q(e){return F(e)&&!N()}function W(e,t,r={}){let[n,i,o]=M(e,r),s=e=>{let n=e.currentTarget;if(!q(e)||z.has(n))return;z.add(n);let o=t(e),s=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),q(e)&&z.has(n)&&(z.delete(n),"function"==typeof o&&o(e,{success:t}))},a=e=>{s(e,r.useGlobalTarget||j(n,e.target))},l=e=>{s(e,!1)};window.addEventListener("pointerup",a,i),window.addEventListener("pointercancel",l,i)};return n.forEach(e=>{V(e)||null!==e.getAttribute("tabindex")||(e.tabIndex=0),(r.useGlobalTarget?window:e).addEventListener("pointerdown",s,i),e.addEventListener("focus",e=>H(e,i),i)}),o}let K=e=>1e3*e,Y=e=>e/1e3,Z=e=>e;function J(e){return"x"===e||"y"===e?P[e]?null:(P[e]=!0,()=>{P[e]=!1}):P.x||P.y?null:(P.x=P.y=!0,()=>{P.x=P.y=!1})}let Q=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],X=new Set(Q),ee=new Set(["width","height","top","left","right","bottom",...Q]),et=e=>!!(e&&"object"==typeof e&&e.mix&&e.toValue),er=e=>s(e)?e[e.length-1]||0:e,en={skipAnimations:!1,useManualTiming:!1};function ei(e){let t=new Set,r=new Set,n=!1,i=!1,o=new WeakSet,s={delta:0,timestamp:0,isProcessing:!1};function a(t){o.has(t)&&(l.schedule(t),e()),t(s)}let l={schedule:(e,i=!1,s=!1)=>{let a=s&&n?t:r;return i&&o.add(e),a.has(e)||a.add(e),e},cancel:e=>{r.delete(e),o.delete(e)},process:e=>{if(s=e,n){i=!0;return}n=!0,[t,r]=[r,t],t.forEach(a),t.clear(),n=!1,i&&(i=!1,l.process(e))}};return l}let eo=["read","resolveKeyframes","update","preRender","render","postRender"],es=40;function ea(e,t){let r=!1,n=!0,i={delta:0,timestamp:0,isProcessing:!1},o=()=>r=!0,s=eo.reduce((e,t)=>(e[t]=ei(o),e),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:d,postRender:h}=s,p=()=>{let o=en.useManualTiming?i.timestamp:performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(o-i.timestamp,es),1),i.timestamp=o,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),d.process(i),h.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(p))},f=()=>{r=!0,n=!0,i.isProcessing||e(p)};return{schedule:eo.reduce((e,t)=>{let n=s[t];return e[t]=(e,t=!1,i=!1)=>(r||f(),n.schedule(e,t,i)),e},{}),cancel:e=>{for(let t=0;t<eo.length;t++)s[eo[t]].cancel(e)},state:i,steps:s}}let{schedule:el,cancel:eu,state:ec,steps:ed}=ea("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:Z,!0);function eh(){n=void 0}let ep={now:()=>(void 0===n&&ep.set(ec.isProcessing||en.useManualTiming?ec.timestamp:performance.now()),n),set:e=>{n=e,queueMicrotask(eh)}};function ef(e,t){-1===e.indexOf(t)&&e.push(t)}function em(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}class eg{constructor(){this.subscriptions=[]}add(e){return ef(this.subscriptions,e),()=>em(this.subscriptions,e)}notify(e,t,r){let n=this.subscriptions.length;if(n){if(1===n)this.subscriptions[0](e,t,r);else for(let i=0;i<n;i++){let n=this.subscriptions[i];n&&n(e,t,r)}}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ey(e,t){return t?1e3/t*e:0}let ev=30,eb=e=>!isNaN(parseFloat(e)),eE={current:void 0};class eS{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{let r=ep.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ep.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=eb(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new eg);let r=this.events[e].add(t);return"change"===e?()=>{r(),el.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return eE.current&&eE.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){let e=ep.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>ev)return 0;let t=Math.min(this.updatedAt-this.prevUpdatedAt,ev);return ey(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function e_(e,t){return new eS(e,t)}function eT(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,e_(r))}function eA(e,t){let{transitionEnd:r={},transition:n={},...i}=d(e,t)||{};for(let t in i={...i,...r}){let r=er(i[t]);eT(e,t,r)}}let eC=e=>!!(e&&e.getVelocity);function ew(e){return!!(eC(e)&&e.add)}function eO(e,t){let r=e.getValue("willChange");if(ew(r))return r.add(t)}let eR=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ex="data-"+eR("framerAppearId");function eI(e){return e.props[ex]}let eD={current:!1},eP=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,eN=1e-7,ek=12;function eM(e,t,r,n,i){let o,s;let a=0;do(o=eP(s=t+(r-t)/2,n,i)-e)>0?r=s:t=s;while(Math.abs(o)>eN&&++a<ek);return s}function eL(e,t,r,n){if(e===t&&r===n)return Z;let i=t=>eM(t,0,1,e,r);return e=>0===e||1===e?e:eP(i(e),t,n)}let eB=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ej=e=>t=>1-e(1-t),eF=eL(.33,1.53,.69,.99),eU=ej(eF),eV=eB(eU),ez=e=>(e*=2)<1?.5*eU(e):.5*(2-Math.pow(2,-10*(e-1))),eG=e=>1-Math.sin(Math.acos(e)),e$=ej(eG),eH=eB(eG),eq=e=>/^0[^.\s]+$/u.test(e);function eW(e){return"number"==typeof e?0===e:null===e||"none"===e||"0"===e||eq(e)}let eK=(e,t,r)=>r>t?t:r<e?e:r,eY={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},eZ={...eY,transform:e=>eK(0,1,e)},eJ={...eY,default:1},eQ=e=>Math.round(1e5*e)/1e5,eX=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function e0(e){return null==e}let e1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,e2=(e,t)=>r=>!!("string"==typeof r&&e1.test(r)&&r.startsWith(e)||t&&!e0(r)&&Object.prototype.hasOwnProperty.call(r,t)),e3=(e,t,r)=>n=>{if("string"!=typeof n)return n;let[i,o,s,a]=n.match(eX);return{[e]:parseFloat(i),[t]:parseFloat(o),[r]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},e6=e=>eK(0,255,e),e4={...eY,transform:e=>Math.round(e6(e))},e5={test:e2("rgb","red"),parse:e3("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+e4.transform(e)+", "+e4.transform(t)+", "+e4.transform(r)+", "+eQ(eZ.transform(n))+")"};function e8(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}let e7={test:e2("#"),parse:e8,transform:e5.transform},e9=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),te=e9("deg"),tt=e9("%"),tr=e9("px"),tn=e9("vh"),ti=e9("vw"),to={...tt,parse:e=>tt.parse(e)/100,transform:e=>tt.transform(100*e)},ts={test:e2("hsl","hue"),parse:e3("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+tt.transform(eQ(t))+", "+tt.transform(eQ(r))+", "+eQ(eZ.transform(n))+")"},ta={test:e=>e5.test(e)||e7.test(e)||ts.test(e),parse:e=>e5.test(e)?e5.parse(e):ts.test(e)?ts.parse(e):e7.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?e5.transform(e):ts.transform(e)},tl=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,tu="number",tc="color",td="var",th="var(",tp="${}",tf=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tm(e){let t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[],o=0,s=t.replace(tf,e=>(ta.test(e)?(n.color.push(o),i.push(tc),r.push(ta.parse(e))):e.startsWith(th)?(n.var.push(o),i.push(td),r.push(e)):(n.number.push(o),i.push(tu),r.push(parseFloat(e))),++o,tp)).split(tp);return{values:r,split:s,indexes:n,types:i}}function tg(e){return tm(e).values}function ty(e){let{split:t,types:r}=tm(e),n=t.length;return e=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],void 0!==e[o]){let t=r[o];t===tu?i+=eQ(e[o]):t===tc?i+=ta.transform(e[o]):i+=e[o]}return i}}let tv=e=>"number"==typeof e?0:e;function tb(e){let t=tg(e);return ty(e)(t.map(tv))}let tE={test:function(e){var t,r;return isNaN(e)&&"string"==typeof e&&((null===(t=e.match(eX))||void 0===t?void 0:t.length)||0)+((null===(r=e.match(tl))||void 0===r?void 0:r.length)||0)>0},parse:tg,createTransformer:ty,getAnimatableNone:tb},tS=new Set(["brightness","contrast","saturate","opacity"]);function t_(e){let[t,r]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[n]=r.match(eX)||[];if(!n)return e;let i=r.replace(n,""),o=tS.has(t)?1:0;return n!==r&&(o*=100),t+"("+o+i+")"}let tT=/\b([a-z-]*)\(.*?\)/gu,tA={...tE,getAnimatableNone:e=>{let t=e.match(tT);return t?t.map(t_).join(" "):e}},tC={borderWidth:tr,borderTopWidth:tr,borderRightWidth:tr,borderBottomWidth:tr,borderLeftWidth:tr,borderRadius:tr,radius:tr,borderTopLeftRadius:tr,borderTopRightRadius:tr,borderBottomRightRadius:tr,borderBottomLeftRadius:tr,width:tr,maxWidth:tr,height:tr,maxHeight:tr,top:tr,right:tr,bottom:tr,left:tr,padding:tr,paddingTop:tr,paddingRight:tr,paddingBottom:tr,paddingLeft:tr,margin:tr,marginTop:tr,marginRight:tr,marginBottom:tr,marginLeft:tr,backgroundPositionX:tr,backgroundPositionY:tr},tw={rotate:te,rotateX:te,rotateY:te,rotateZ:te,scale:eJ,scaleX:eJ,scaleY:eJ,scaleZ:eJ,skew:te,skewX:te,skewY:te,distance:tr,translateX:tr,translateY:tr,translateZ:tr,x:tr,y:tr,z:tr,perspective:tr,transformPerspective:tr,opacity:eZ,originX:to,originY:to,originZ:tr},tO={...eY,transform:Math.round},tR={...tC,...tw,zIndex:tO,size:tr,fillOpacity:eZ,strokeOpacity:eZ,numOctaves:tO},tx={...tR,color:ta,backgroundColor:ta,outlineColor:ta,fill:ta,stroke:ta,borderColor:ta,borderTopColor:ta,borderRightColor:ta,borderBottomColor:ta,borderLeftColor:ta,filter:tA,WebkitFilter:tA},tI=e=>tx[e];function tD(e,t){let r=tI(e);return r!==tA&&(r=tE),r.getAnimatableNone?r.getAnimatableNone(t):void 0}let tP=new Set(["auto","none","0"]);function tN(e,t,r){let n,i=0;for(;i<e.length&&!n;){let t=e[i];"string"==typeof t&&!tP.has(t)&&tm(t).values.length&&(n=e[i]),i++}if(n&&r)for(let i of t)e[i]=tD(r,n)}let tk=e=>e===eY||e===tr,tM=(e,t)=>parseFloat(e.split(", ")[t]),tL=(e,t)=>(r,{transform:n})=>{if("none"===n||!n)return 0;let i=n.match(/^matrix3d\((.+)\)$/u);if(i)return tM(i[1],t);{let t=n.match(/^matrix\((.+)\)$/u);return t?tM(t[1],e):0}},tB=new Set(["x","y","z"]),tj=Q.filter(e=>!tB.has(e));function tF(e){let t=[];return tj.forEach(r=>{let n=e.getValue(r);void 0!==n&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}let tU={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:tL(4,13),y:tL(5,14)};tU.translateX=tU.x,tU.translateY=tU.y;let tV=new Set,tz=!1,tG=!1;function t$(){if(tG){let e=Array.from(tV).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),r=new Map;t.forEach(e=>{let t=tF(e);t.length&&(r.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=r.get(e);t&&t.forEach(([t,r])=>{var n;null===(n=e.getValue(t))||void 0===n||n.set(r)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}tG=!1,tz=!1,tV.forEach(e=>e.complete()),tV.clear()}function tH(){tV.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(tG=!0)})}function tq(){tH(),t$()}class tW{constructor(e,t,r,n,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=n,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(tV.add(this),tz||(tz=!0,el.read(tH),el.resolveKeyframes(t$))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:r,motionValue:n}=this;for(let i=0;i<e.length;i++)if(null===e[i]){if(0===i){let i=null==n?void 0:n.get(),o=e[e.length-1];if(void 0!==i)e[0]=i;else if(r&&t){let n=r.readValue(t,o);null!=n&&(e[0]=n)}void 0===e[0]&&(e[0]=o),n&&void 0===i&&n.set(e[0])}else e[i]=e[i-1]}}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),tV.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,tV.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let tK=Z,tY=Z,tZ=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),tJ=e=>t=>"string"==typeof t&&t.startsWith(e),tQ=tJ("--"),tX=tJ("var(--"),t0=e=>!!tX(e)&&t1.test(e.split("/*")[0].trim()),t1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,t2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function t3(e){let t=t2.exec(e);if(!t)return[,];let[,r,n,i]=t;return[`--${null!=r?r:n}`,i]}let t6=4;function t4(e,t,r=1){tY(r<=t6,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);let[n,i]=t3(e);if(!n)return;let o=window.getComputedStyle(t).getPropertyValue(n);if(o){let e=o.trim();return tZ(e)?parseFloat(e):e}return t0(i)?t4(i,t,r+1):i}let t5=e=>t=>t.test(e),t8=[eY,tr,tt,te,ti,tn,{test:e=>"auto"===e,parse:e=>e}],t7=e=>t8.find(t5(e));class t9 extends tW{constructor(e,t,r,n,i){super(e,t,r,n,i,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let r=0;r<e.length;r++){let n=e[r];if("string"==typeof n&&t0(n=n.trim())){let i=t4(n,t.current);void 0!==i&&(e[r]=i),r===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!ee.has(r)||2!==e.length)return;let[n,i]=e,o=t7(n),s=t7(i);if(o!==s){if(tk(o)&&tk(s))for(let t=0;t<e.length;t++){let r=e[t];"string"==typeof r&&(e[t]=parseFloat(r))}else this.needsMeasurement=!0}}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,r=[];for(let t=0;t<e.length;t++)eW(e[t])&&r.push(t);r.length&&tN(e,r,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;"height"===r&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=tU[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let n=t[t.length-1];void 0!==n&&e.getValue(r,n).jump(n,!1)}measureEndState(){var e;let{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;let i=t.getValue(r);i&&i.jump(this.measuredOrigin,!1);let o=n.length-1,s=n[o];n[o]=tU[r](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach(([e,r])=>{t.getValue(e).set(r)}),this.resolveNoneKeyframes()}}let re=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(tE.test(e)||"0"===e)&&!e.startsWith("url("));function rt(e){let t=e[0];if(1===e.length)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function rr(e,t,r,n){let i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;let o=e[e.length-1],s=re(i,t),a=re(o,t);return tK(s===a,`You are trying to animate ${t} from "${i}" to "${o}". ${i} is not an animatable value - to enable this animation set ${i} to a value animatable to ${o} via the \`style\` property.`),!!s&&!!a&&(rt(e)||("spring"===r||S(r))&&n)}let rn=e=>null!==e;function ri(e,{repeat:t,repeatType:r="loop"},n){let i=e.filter(rn),o=t&&"loop"!==r&&t%2==1?0:i.length-1;return o&&void 0!==n?n:i[o]}let ro=40;class rs{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:o="loop",...s}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ep.now(),this.options={autoplay:e,delay:t,type:r,repeat:n,repeatDelay:i,repeatType:o,...s},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>ro?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||tq(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=ep.now(),this.hasAttemptedResolve=!0;let{name:r,type:n,velocity:i,delay:o,onComplete:s,onUpdate:a,isGenerator:l}=this.options;if(!l&&!rr(e,r,n,i)){if(eD.current||!o){a&&a(ri(e,this.options,t)),s&&s(),this.resolveFinishedPromise();return}this.options.duration=0}let u=this.initPlayback(e,t);!1!==u&&(this._resolved={keyframes:e,finalKeyframe:t,...u},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}let ra=(e,t,r)=>e+(t-e)*r;function rl(e,t,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(t-e)*6*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function ru({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,r/=100;let i=0,o=0,s=0;if(t/=100){let n=r<.5?r*(1+t):r+t-r*t,a=2*r-n;i=rl(a,n,e+1/3),o=rl(a,n,e),s=rl(a,n,e-1/3)}else i=o=s=r;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*s),alpha:n}}function rc(e,t){return r=>r>0?t:e}let rd=(e,t,r)=>{let n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},rh=[e7,e5,ts],rp=e=>rh.find(t=>t.test(e));function rf(e){let t=rp(e);if(tK(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`),!t)return!1;let r=t.parse(e);return t===ts&&(r=ru(r)),r}let rm=(e,t)=>{let r=rf(e),n=rf(t);if(!r||!n)return rc(e,t);let i={...r};return e=>(i.red=rd(r.red,n.red,e),i.green=rd(r.green,n.green,e),i.blue=rd(r.blue,n.blue,e),i.alpha=ra(r.alpha,n.alpha,e),e5.transform(i))},rg=(e,t)=>r=>t(e(r)),ry=(...e)=>e.reduce(rg),rv=new Set(["none","hidden"]);function rb(e,t){return rv.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function rE(e,t){return r=>ra(e,t,r)}function rS(e){return"number"==typeof e?rE:"string"==typeof e?t0(e)?rc:ta.test(e)?rm:rC:Array.isArray(e)?r_:"object"==typeof e?ta.test(e)?rm:rT:rc}function r_(e,t){let r=[...e],n=r.length,i=e.map((e,r)=>rS(e)(e,t[r]));return e=>{for(let t=0;t<n;t++)r[t]=i[t](e);return r}}function rT(e,t){let r={...e,...t},n={};for(let i in r)void 0!==e[i]&&void 0!==t[i]&&(n[i]=rS(e[i])(e[i],t[i]));return e=>{for(let t in n)r[t]=n[t](e);return r}}function rA(e,t){var r;let n=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){let s=t.types[o],a=e.indexes[s][i[s]],l=null!==(r=e.values[a])&&void 0!==r?r:0;n[o]=l,i[s]++}return n}let rC=(e,t)=>{let r=tE.createTransformer(t),n=tm(e),i=tm(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?rv.has(e)&&!i.values.length||rv.has(t)&&!n.values.length?rb(e,t):ry(r_(rA(n,i),i.values),r):(tK(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),rc(e,t))};function rw(e,t,r){return"number"==typeof e&&"number"==typeof t&&"number"==typeof r?ra(e,t,r):rS(e)(e,t)}let rO=5;function rR(e,t,r){let n=Math.max(t-rO,0);return ey(r-e(n),t-n)}let rx={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rI=.001;function rD({duration:e=rx.duration,bounce:t=rx.bounce,velocity:r=rx.velocity,mass:n=rx.mass}){let i,o;tK(e<=K(rx.maxDuration),"Spring duration must be 10 seconds or less");let s=1-t;s=eK(rx.minDamping,rx.maxDamping,s),e=eK(rx.minDuration,rx.maxDuration,Y(e)),s<1?(i=t=>{let n=t*s,i=n*e;return rI-(n-r)/rk(t,s)*Math.exp(-i)},o=t=>{let n=t*s*e,o=n*r+r,a=Math.pow(s,2)*Math.pow(t,2)*e,l=Math.exp(-n),u=rk(Math.pow(t,2),s);return(o-a)*l*(-i(t)+rI>0?-1:1)/u}):(i=t=>-rI+Math.exp(-t*e)*((t-r)*e+1),o=t=>e*e*(r-t)*Math.exp(-t*e));let a=rN(i,o,5/e);if(e=K(e),isNaN(a))return{stiffness:rx.stiffness,damping:rx.damping,duration:e};{let t=Math.pow(a,2)*n;return{stiffness:t,damping:2*s*Math.sqrt(n*t),duration:e}}}let rP=12;function rN(e,t,r){let n=r;for(let r=1;r<rP;r++)n-=e(n)/t(n);return n}function rk(e,t){return e*Math.sqrt(1-t*t)}let rM=["duration","bounce"],rL=["stiffness","damping","mass"];function rB(e,t){return t.some(t=>void 0!==e[t])}function rj(e){let t={velocity:rx.velocity,stiffness:rx.stiffness,damping:rx.damping,mass:rx.mass,isResolvedFromDuration:!1,...e};if(!rB(e,rL)&&rB(e,rM)){if(e.visualDuration){let r=2*Math.PI/(1.2*e.visualDuration),n=r*r,i=2*eK(.05,1,1-(e.bounce||0))*Math.sqrt(n);t={...t,mass:rx.mass,stiffness:n,damping:i}}else{let r=rD(e);(t={...t,...r,mass:rx.mass}).isResolvedFromDuration=!0}}return t}function rF(e=rx.visualDuration,t=rx.bounce){let r;let n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:i,restDelta:o}=n,s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:u,damping:c,mass:d,duration:h,velocity:p,isResolvedFromDuration:f}=rj({...n,velocity:-Y(n.velocity||0)}),m=p||0,g=c/(2*Math.sqrt(u*d)),y=a-s,v=Y(Math.sqrt(u/d)),S=5>Math.abs(y);if(i||(i=S?rx.restSpeed.granular:rx.restSpeed.default),o||(o=S?rx.restDelta.granular:rx.restDelta.default),g<1){let e=rk(v,g);r=t=>a-Math.exp(-g*v*t)*((m+g*v*y)/e*Math.sin(e*t)+y*Math.cos(e*t))}else if(1===g)r=e=>a-Math.exp(-v*e)*(y+(m+v*y)*e);else{let e=v*Math.sqrt(g*g-1);r=t=>{let r=Math.exp(-g*v*t),n=Math.min(e*t,300);return a-r*((m+g*v*y)*Math.sinh(n)+e*y*Math.cosh(n))/e}}let _={calculatedDuration:f&&h||null,next:e=>{let t=r(e);if(f)l.done=e>=h;else{let n=0;g<1&&(n=0===e?K(m):rR(r,e,t));let s=Math.abs(n)<=i,u=Math.abs(a-t)<=o;l.done=s&&u}return l.value=l.done?a:t,l},toString:()=>{let e=Math.min(E(_),b),t=O(t=>_.next(e*t).value,e,30);return e+"ms "+t}};return _}function rU({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:c}){let d,h;let p=e[0],f={done:!1,value:p},m=e=>void 0!==a&&e<a||void 0!==l&&e>l,g=e=>void 0===a?l:void 0===l?a:Math.abs(a-e)<Math.abs(l-e)?a:l,y=r*t,v=p+y,b=void 0===s?v:s(v);b!==v&&(y=b-p);let E=e=>-y*Math.exp(-e/n),S=e=>b+E(e),_=e=>{let t=E(e),r=S(e);f.done=Math.abs(t)<=u,f.value=f.done?b:r},T=e=>{m(f.value)&&(d=e,h=rF({keyframes:[f.value,g(f.value)],velocity:rR(S,e,f.value),damping:i,stiffness:o,restDelta:u,restSpeed:c}))};return T(0),{calculatedDuration:null,next:e=>{let t=!1;return(h||void 0!==d||(t=!0,_(e),T(e)),void 0!==d&&e>=d)?h.next(e-d):(t||_(e),f)}}}let rV=eL(.42,0,1,1),rz=eL(0,0,.58,1),rG=eL(.42,0,.58,1),r$=e=>Array.isArray(e)&&"number"!=typeof e[0],rH={linear:Z,easeIn:rV,easeInOut:rG,easeOut:rz,circIn:eG,circInOut:eH,circOut:e$,backIn:eU,backInOut:eV,backOut:eF,anticipate:ez},rq=e=>{if(T(e)){tY(4===e.length,"Cubic bezier arrays must contain four numerical values.");let[t,r,n,i]=e;return eL(t,r,n,i)}return"string"==typeof e?(tY(void 0!==rH[e],`Invalid easing type '${e}'`),rH[e]):e};function rW(e,t,r){let n=[],i=r||rw,o=e.length-1;for(let r=0;r<o;r++){let o=i(e[r],e[r+1]);t&&(o=ry(Array.isArray(t)?t[r]||Z:t,o)),n.push(o)}return n}function rK(e,t,{clamp:r=!0,ease:n,mixer:i}={}){let o=e.length;if(tY(o===t.length,"Both input and output ranges must be the same length"),1===o)return()=>t[0];if(2===o&&t[0]===t[1])return()=>t[1];let s=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());let a=rW(t,n,i),l=a.length,u=r=>{if(s&&r<e[0])return t[0];let n=0;if(l>1)for(;n<e.length-2&&!(r<e[n+1]);n++);let i=w(e[n],e[n+1],r);return a[n](i)};return r?t=>u(eK(e[0],e[o-1],t)):u}function rY(e,t){let r=e[e.length-1];for(let n=1;n<=t;n++){let i=w(0,t,n);e.push(ra(r,1,i))}}function rZ(e){let t=[0];return rY(t,e.length-1),t}function rJ(e,t){return e.map(e=>e*t)}function rQ(e,t){return e.map(()=>t||rG).splice(0,e.length-1)}function rX({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){let i=r$(n)?n.map(rq):rq(n),o={done:!1,value:t[0]},s=rK(rJ(r&&r.length===t.length?r:rZ(t),e),t,{ease:Array.isArray(i)?i:rQ(t,i)});return{calculatedDuration:e,next:t=>(o.value=s(t),o.done=t>=e,o)}}let r0=e=>{let t=({timestamp:t})=>e(t);return{start:()=>el.update(t,!0),stop:()=>eu(t),now:()=>ec.isProcessing?ec.timestamp:ep.now()}},r1={decay:rU,inertia:rU,tween:rX,keyframes:rX,spring:rF},r2=e=>e/100;class r3 extends rs{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();let{onStop:e}=this.options;e&&e()};let{name:t,motionValue:r,element:n,keyframes:i}=this.options,o=(null==n?void 0:n.KeyframeResolver)||tW,s=(e,t)=>this.onKeyframesResolved(e,t);this.resolver=new o(i,s,t,r,n),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){let t,r;let{type:n="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s,velocity:a=0}=this.options,l=S(n)?n:r1[n]||rX;l!==rX&&"number"!=typeof e[0]&&(t=ry(r2,rw(e[0],e[1])),e=[0,100]);let u=l({...this.options,keyframes:e});"mirror"===s&&(r=l({...this.options,keyframes:[...e].reverse(),velocity:-a})),null===u.calculatedDuration&&(u.calculatedDuration=E(u));let{calculatedDuration:c}=u,d=c+o,h=d*(i+1)-o;return{generator:u,mirroredGenerator:r,mapPercentToKeyframes:t,calculatedDuration:c,resolvedDuration:d,totalDuration:h}}onPostResolved(){let{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e,t=!1){let{resolved:r}=this;if(!r){let{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}let{finalKeyframe:n,generator:i,mirroredGenerator:o,mapPercentToKeyframes:s,keyframes:a,calculatedDuration:l,totalDuration:u,resolvedDuration:c}=r;if(null===this.startTime)return i.next(0);let{delay:d,repeat:h,repeatType:p,repeatDelay:f,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;let g=this.currentTime-d*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>u;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=u);let v=this.currentTime,b=i;if(h){let e=Math.min(this.currentTime,u)/c,t=Math.floor(e),r=e%1;!r&&e>=1&&(r=1),1===r&&t--,(t=Math.min(t,h+1))%2&&("reverse"===p?(r=1-r,f&&(r-=f/c)):"mirror"===p&&(b=o)),v=eK(0,1,r)*c}let E=y?{done:!1,value:a[0]}:b.next(v);s&&(E.value=s(E.value));let{done:S}=E;y||null===l||(S=this.speed>=0?this.currentTime>=u:this.currentTime<=0);let _=null===this.holdTime&&("finished"===this.state||"running"===this.state&&S);return _&&void 0!==n&&(E.value=ri(a,this.options,n)),m&&m(E.value),_&&this.finish(),E}get duration(){let{resolved:e}=this;return e?Y(e.calculatedDuration):0}get time(){return Y(this.currentTime)}set time(e){e=K(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Y(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;let{driver:e=r0,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),t&&t();let n=this.driver.now();null!==this.holdTime?this.startTime=n-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=n):this.startTime=null!=r?r:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";let{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}let r6=new Set(["opacity","clipPath","filter","transform"]);function r4(e,t,r,{delay:n=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeInOut",times:l}={}){let u={[t]:r};l&&(u.offset=l);let c=D(a,i);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:n,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:"reverse"===s?"alternate":"normal"})}let r5=f(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),r8=10,r7=2e4;function r9(e){return S(e.type)||"spring"===e.type||!R(e.ease)}function ne(e,t){let r=new r3({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0}),n={done:!1,value:e[0]},i=[],o=0;for(;!n.done&&o<r7;)i.push((n=r.sample(o)).value),o+=r8;return{times:void 0,keyframes:i,duration:o-r8,ease:"linear"}}let nt={anticipate:ez,backInOut:eV,circInOut:eH};function nr(e){return e in nt}class nn extends rs{constructor(e){super(e);let{name:t,motionValue:r,element:n,keyframes:i}=this.options;this.resolver=new t9(i,(e,t)=>this.onKeyframesResolved(e,t),t,r,n),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:n,ease:i,type:o,motionValue:s,name:a,startTime:l}=this.options;if(!s.owner||!s.owner.current)return!1;if("string"==typeof i&&C()&&nr(i)&&(i=nt[i]),r9(this.options)){let{onComplete:t,onUpdate:s,motionValue:a,element:l,...u}=this.options,c=ne(e,u);1===(e=c.keyframes).length&&(e[1]=e[0]),r=c.duration,n=c.times,i=c.ease,o="keyframes"}let u=r4(s.owner.current,a,e,{...this.options,duration:r,times:n,ease:i});return u.startTime=null!=l?l:this.calcStartTime(),this.pendingTimeline?(_(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{let{onComplete:r}=this.options;s.set(ri(e,this.options,t)),r&&r(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:n,type:o,ease:i,keyframes:e}}get duration(){let{resolved:e}=this;if(!e)return 0;let{duration:t}=e;return Y(t)}get time(){let{resolved:e}=this;if(!e)return 0;let{animation:t}=e;return Y(t.currentTime||0)}set time(e){let{resolved:t}=this;if(!t)return;let{animation:r}=t;r.currentTime=K(e)}get speed(){let{resolved:e}=this;if(!e)return 1;let{animation:t}=e;return t.playbackRate}set speed(e){let{resolved:t}=this;if(!t)return;let{animation:r}=t;r.playbackRate=e}get state(){let{resolved:e}=this;if(!e)return"idle";let{animation:t}=e;return t.playState}get startTime(){let{resolved:e}=this;if(!e)return null;let{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){let{resolved:t}=this;if(!t)return Z;let{animation:r}=t;_(r,e)}else this.pendingTimeline=e;return Z}play(){if(this.isStopped)return;let{resolved:e}=this;if(!e)return;let{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){let{resolved:e}=this;if(!e)return;let{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();let{resolved:e}=this;if(!e)return;let{animation:t,keyframes:r,duration:n,type:i,ease:o,times:s}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){let{motionValue:e,onUpdate:t,onComplete:a,element:l,...u}=this.options,c=new r3({...u,keyframes:r,duration:n,type:i,ease:o,times:s,isGenerator:!0}),d=K(this.time);e.setWithVelocity(c.sample(d-r8).value,c.sample(d).value,r8)}let{onStop:a}=this.options;a&&a(),this.cancel()}complete(){let{resolved:e}=this;e&&e.animation.finish()}cancel(){let{resolved:e}=this;e&&e.animation.cancel()}static supports(e){let{motionValue:t,name:r,repeatDelay:n,repeatType:i,damping:o,type:s}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;let{onUpdate:a,transformTemplate:l}=t.owner.getProps();return r5()&&r&&r6.has(r)&&!a&&!l&&!n&&"mirror"!==i&&0!==o&&"inertia"!==s}}let ni={type:"spring",stiffness:500,damping:25,restSpeed:10},no=e=>({type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}),ns={type:"keyframes",duration:.8},na={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nl=(e,{keyframes:t})=>t.length>2?ns:X.has(e)?e.startsWith("scale")?no(t[1]):ni:na;function nu({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}let nc=(e,t,r,n={},i,o)=>s=>{let a=v(n,e)||{},l=a.delay||n.delay||0,{elapsed:u=0}=n;u-=K(l);let c={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:i};nu(a)||(c={...c,...nl(e,c)}),c.duration&&(c.duration=K(c.duration)),c.repeatDelay&&(c.repeatDelay=K(c.repeatDelay)),void 0!==c.from&&(c.keyframes[0]=c.from);let d=!1;if(!1!==c.type&&(0!==c.duration||c.repeatDelay)||(c.duration=0,0!==c.delay||(d=!0)),(eD.current||en.skipAnimations)&&(d=!0,c.duration=0,c.delay=0),d&&!o&&void 0!==t.get()){let e=ri(c.keyframes,a);if(void 0!==e)return el.update(()=>{c.onUpdate(e),c.onComplete()}),new y([])}return!o&&nn.supports(c)?new nn(c):new r3(c)};function nd({protectedKeys:e,needsAnimating:t},r){let n=e.hasOwnProperty(r)&&!0!==t[r];return t[r]=!1,n}function nh(e,t,{delay:r=0,transitionOverride:n,type:i}={}){var o;let{transition:s=e.getDefaultTransition(),transitionEnd:a,...l}=t;n&&(s=n);let u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(let t in l){let n=e.getValue(t,null!==(o=e.latestValues[t])&&void 0!==o?o:null),i=l[t];if(void 0===i||c&&nd(c,t))continue;let a={delay:r,...v(s||{},t)},d=!1;if(window.MotionHandoffAnimation){let r=eI(e);if(r){let e=window.MotionHandoffAnimation(r,t,el);null!==e&&(a.startTime=e,d=!0)}}eO(e,t),n.start(nc(t,n,i,e.shouldReduceMotion&&ee.has(t)?{type:!1}:a,e,d));let h=n.animation;h&&u.push(h)}return a&&Promise.all(u).then(()=>{el.update(()=>{a&&eA(e,a)})}),u}function np(e,t,r={}){var n;let i=d(e,t,"exit"===r.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0),{transition:o=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(o=r.transitionOverride);let s=i?()=>Promise.all(nh(e,i,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(n=0)=>{let{delayChildren:i=0,staggerChildren:s,staggerDirection:a}=o;return nf(e,t,i+n,s,a,r)}:()=>Promise.resolve(),{when:l}=o;if(!l)return Promise.all([s(),a(r.delay)]);{let[e,t]="beforeChildren"===l?[s,a]:[a,s];return e().then(()=>t())}}function nf(e,t,r=0,n=0,i=1,o){let s=[],a=(e.variantChildren.size-1)*n,l=1===i?(e=0)=>e*n:(e=0)=>a-e*n;return Array.from(e.variantChildren).sort(nm).forEach((e,n)=>{e.notify("AnimationStart",t),s.push(np(e,t,{...o,delay:r+l(n)}).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(s)}function nm(e,t){return e.sortNodePosition(t)}function ng(e,t,r={}){let n;if(e.notify("AnimationStart",t),Array.isArray(t))n=Promise.all(t.map(t=>np(e,t,r)));else if("string"==typeof t)n=np(e,t,r);else{let i="function"==typeof t?d(e,t,r.custom):t;n=Promise.all(nh(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}let ny=p.length;function nv(e){if(!e)return;if(!e.isControllingVariants){let t=e.parent&&nv(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}let t={};for(let r=0;r<ny;r++){let n=p[r],i=e.props[n];(l(i)||!1===i)&&(t[n]=i)}return t}let nb=[...h].reverse(),nE=h.length;function nS(e){return t=>Promise.all(t.map(({animation:t,options:r})=>ng(e,t,r)))}function n_(e){let t=nS(e),r=nC(),n=!0,i=t=>(r,n)=>{var i;let o=d(e,n,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(o){let{transition:e,transitionEnd:t,...n}=o;r={...r,...n,...t}}return r};function u(u){let{props:c}=e,d=nv(e.parent)||{},h=[],p=new Set,f={},m=1/0;for(let t=0;t<nE;t++){let g=nb[t],y=r[g],v=void 0!==c[g]?c[g]:d[g],b=l(v),E=g===u?y.isActive:null;!1===E&&(m=t);let S=v===d[g]&&v!==c[g]&&b;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),y.protectedKeys={...f},!y.isActive&&null===E||!v&&!y.prevProp||o(v)||"boolean"==typeof v)continue;let _=nT(y.prevProp,v),T=_||g===u&&y.isActive&&!S&&b||t>m&&b,A=!1,C=Array.isArray(v)?v:[v],w=C.reduce(i(g),{});!1===E&&(w={});let{prevResolvedValues:O={}}=y,R={...O,...w},x=t=>{T=!0,p.has(t)&&(A=!0,p.delete(t)),y.needsAnimating[t]=!0;let r=e.getValue(t);r&&(r.liveStyle=!1)};for(let e in R){let t=w[e],r=O[e];if(f.hasOwnProperty(e))continue;let n=!1;(n=s(t)&&s(r)?!a(t,r):t!==r)?null!=t?x(e):p.add(e):void 0!==t&&p.has(e)?x(e):y.protectedKeys[e]=!0}y.prevProp=v,y.prevResolvedValues=w,y.isActive&&(f={...f,...w}),n&&e.blockInitialAnimation&&(T=!1);let I=!(S&&_)||A;T&&I&&h.push(...C.map(e=>({animation:e,options:{type:g}})))}if(p.size){let t={};p.forEach(r=>{let n=e.getBaseTarget(r),i=e.getValue(r);i&&(i.liveStyle=!0),t[r]=null!=n?n:null}),h.push({animation:t})}let g=!!h.length;return n&&(!1===c.initial||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(h):Promise.resolve()}function c(t,n){var i;if(r[t].isActive===n)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach(e=>{var r;return null===(r=e.animationState)||void 0===r?void 0:r.setActive(t,n)}),r[t].isActive=n;let o=u(t);for(let e in r)r[e].protectedKeys={};return o}return{animateChanges:u,setActive:c,setAnimateFunction:function(r){t=r(e)},getState:()=>r,reset:()=>{r=nC(),n=!0}}}function nT(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!a(t,e)}function nA(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nC(){return{animate:nA(!0),whileInView:nA(),whileHover:nA(),whileTap:nA(),whileDrag:nA(),whileFocus:nA(),exit:nA()}}class nw{constructor(e){this.isMounted=!1,this.node=e}update(){}}class nO extends nw{constructor(e){super(e),e.animationState||(e.animationState=n_(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();o(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}let nR=0;class nx extends nw{constructor(){super(...arguments),this.id=nR++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;let n=this.node.animationState.setActive("exit",!e);t&&!e&&n.then(()=>t(this.id))}mount(){let{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}let nI={animation:{Feature:nO},exit:{Feature:nx}};function nD(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function nP(e){return{point:{x:e.pageX,y:e.pageY}}}let nN=e=>t=>F(t)&&e(t,nP(t));function nk(e,t,r,n){return nD(e,t,nN(r),n)}let nM=(e,t)=>Math.abs(e-t);function nL(e,t){return Math.sqrt(nM(e.x,t.x)**2+nM(e.y,t.y)**2)}class nB{constructor(e,t,{transformPagePoint:r,contextWindow:n,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let e=nU(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,r=nL(e.offset,{x:0,y:0})>=3;if(!t&&!r)return;let{point:n}=e,{timestamp:i}=ec;this.history.push({...n,timestamp:i});let{onStart:o,onMove:s}=this.handlers;t||(o&&o(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=nj(t,this.transformPagePoint),el.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:r,onSessionEnd:n,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let o=nU("pointercancel"===e.type?this.lastMoveEventInfo:nj(t,this.transformPagePoint),this.history);this.startEvent&&r&&r(e,o),n&&n(e,o)},!F(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=r,this.contextWindow=n||window;let o=nj(nP(e),this.transformPagePoint),{point:s}=o,{timestamp:a}=ec;this.history=[{...s,timestamp:a}];let{onSessionStart:l}=t;l&&l(e,nU(o,this.history)),this.removeListeners=ry(nk(this.contextWindow,"pointermove",this.handlePointerMove),nk(this.contextWindow,"pointerup",this.handlePointerUp),nk(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),eu(this.updatePoint)}}function nj(e,t){return t?{point:t(e.point)}:e}function nF(e,t){return{x:e.x-t.x,y:e.y-t.y}}function nU({point:e},t){return{point:e,delta:nF(e,nz(t)),offset:nF(e,nV(t)),velocity:nG(t,.1)}}function nV(e){return e[0]}function nz(e){return e[e.length-1]}function nG(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null,i=nz(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>K(t)));)r--;if(!n)return{x:0,y:0};let o=Y(i.timestamp-n.timestamp);if(0===o)return{x:0,y:0};let s={x:(i.x-n.x)/o,y:(i.y-n.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function n$(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}let nH=.9999,nq=1.0001,nW=-.01,nK=.01;function nY(e){return e.max-e.min}function nZ(e,t,r){return Math.abs(e-t)<=r}function nJ(e,t,r,n=.5){e.origin=n,e.originPoint=ra(t.min,t.max,e.origin),e.scale=nY(r)/nY(t),e.translate=ra(r.min,r.max,e.origin)-e.originPoint,(e.scale>=nH&&e.scale<=nq||isNaN(e.scale))&&(e.scale=1),(e.translate>=nW&&e.translate<=nK||isNaN(e.translate))&&(e.translate=0)}function nQ(e,t,r,n){nJ(e.x,t.x,r.x,n?n.originX:void 0),nJ(e.y,t.y,r.y,n?n.originY:void 0)}function nX(e,t,r){e.min=r.min+t.min,e.max=e.min+nY(t)}function n0(e,t,r){nX(e.x,t.x,r.x),nX(e.y,t.y,r.y)}function n1(e,t,r){e.min=t.min-r.min,e.max=e.min+nY(t)}function n2(e,t,r){n1(e.x,t.x,r.x),n1(e.y,t.y,r.y)}function n3(e,{min:t,max:r},n){return void 0!==t&&e<t?e=n?ra(t,e,n.min):Math.max(e,t):void 0!==r&&e>r&&(e=n?ra(r,e,n.max):Math.min(e,r)),e}function n6(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function n4(e,{top:t,left:r,bottom:n,right:i}){return{x:n6(e.x,r,i),y:n6(e.y,t,n)}}function n5(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function n8(e,t){return{x:n5(e.x,t.x),y:n5(e.y,t.y)}}function n7(e,t){let r=.5,n=nY(e),i=nY(t);return i>n?r=w(t.min,t.max-n,e.min):n>i&&(r=w(e.min,e.max-i,t.min)),eK(0,1,r)}function n9(e,t){let r={};return void 0!==t.min&&(r.min=t.min-e.min),void 0!==t.max&&(r.max=t.max-e.min),r}let ie=.35;function it(e=ie){return!1===e?e=0:!0===e&&(e=ie),{x:ir(e,"left","right"),y:ir(e,"top","bottom")}}function ir(e,t,r){return{min:ii(e,t),max:ii(e,r)}}function ii(e,t){return"number"==typeof e?e:e[t]||0}let io=()=>({translate:0,scale:1,origin:0,originPoint:0}),is=()=>({x:io(),y:io()}),ia=()=>({min:0,max:0}),il=()=>({x:ia(),y:ia()});function iu(e){return[e("x"),e("y")]}function ic({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function id({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function ih(e,t){if(!t)return e;let r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function ip(e){return void 0===e||1===e}function im({scale:e,scaleX:t,scaleY:r}){return!ip(e)||!ip(t)||!ip(r)}function ig(e){return im(e)||iy(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function iy(e){return iv(e.x)||iv(e.y)}function iv(e){return e&&"0%"!==e}function ib(e,t,r){let n=t*(e-r);return r+n}function iE(e,t,r,n,i){return void 0!==i&&(e=ib(e,i,n)),ib(e,r,n)+t}function iS(e,t=0,r=1,n,i){e.min=iE(e.min,t,r,n,i),e.max=iE(e.max,t,r,n,i)}function i_(e,{x:t,y:r}){iS(e.x,t.translate,t.scale,t.originPoint),iS(e.y,r.translate,r.scale,r.originPoint)}let iT=.999999999999,iA=1.0000000000001;function iC(e,t,r,n=!1){let i,o;let s=r.length;if(s){t.x=t.y=1;for(let a=0;a<s;a++){o=(i=r[a]).projectionDelta;let{visualElement:s}=i.options;(!s||!s.props.style||"contents"!==s.props.style.display)&&(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&iR(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,i_(e,o)),n&&ig(i.latestValues)&&iR(e,i.latestValues))}t.x<iA&&t.x>iT&&(t.x=1),t.y<iA&&t.y>iT&&(t.y=1)}}function iw(e,t){e.min=e.min+t,e.max=e.max+t}function iO(e,t,r,n,i=.5){let o=ra(e.min,e.max,i);iS(e,t,r,o,n)}function iR(e,t){iO(e.x,t.x,t.scaleX,t.scale,t.originX),iO(e.y,t.y,t.scaleY,t.scale,t.originY)}function ix(e,t){return ic(ih(e.getBoundingClientRect(),t))}function iI(e,t,r){let n=ix(e,r),{scroll:i}=t;return i&&(iw(n.x,i.offset.x),iw(n.y,i.offset.y)),n}let iD=({current:e})=>e?e.ownerDocument.defaultView:null,iP=new WeakMap;class iN{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=il(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){let{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;let n=e=>{let{dragSnapToOrigin:r}=this.getProps();r?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(nP(e).point)},i=(e,t)=>{let{drag:r,dragPropagation:n,onDragStart:i}=this.getProps();if(r&&!n&&(this.openDragLock&&this.openDragLock(),this.openDragLock=J(r),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),iu(e=>{let t=this.getAxisMotionValue(e).get()||0;if(tt.test(t)){let{projection:r}=this.visualElement;if(r&&r.layout){let n=r.layout.layoutBox[e];if(n){let e=nY(n);t=parseFloat(t)/100*e}}}this.originPoint[e]=t}),i&&el.postRender(()=>i(e,t)),eO(this.visualElement,"transform");let{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},o=(e,t)=>{let{dragPropagation:r,dragDirectionLock:n,onDirectionLock:i,onDrag:o}=this.getProps();if(!r&&!this.openDragLock)return;let{offset:s}=t;if(n&&null===this.currentDirection){this.currentDirection=iM(s),null!==this.currentDirection&&i&&i(this.currentDirection);return}this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),o&&o(e,t)},s=(e,t)=>this.stop(e,t),a=()=>iu(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new nB(e,{onSessionStart:n,onStart:i,onMove:o,onSessionEnd:s,resumeAnimation:a},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:iD(this.visualElement)})}stop(e,t){let r=this.isDragging;if(this.cancel(),!r)return;let{velocity:n}=t;this.startAnimation(n);let{onDragEnd:i}=this.getProps();i&&el.postRender(()=>i(e,t))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){let{drag:n}=this.getProps();if(!r||!ik(e,n,this.currentDirection))return;let i=this.getAxisMotionValue(e),o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=n3(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;let{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&n$(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=n4(n.layoutBox,t):this.constraints=!1,this.elastic=it(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&iu(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=n9(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){let{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!n$(e))return!1;let r=e.current;tY(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:n}=this.visualElement;if(!n||!n.layout)return!1;let i=iI(r,n.root,this.visualElement.getTransformPagePoint()),o=n8(n.layout.layoutBox,i);if(t){let e=t(id(o));this.hasMutatedConstraints=!!e,e&&(o=ic(e))}return o}startAnimation(e){let{drag:t,dragMomentum:r,dragElastic:n,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{};return Promise.all(iu(s=>{if(!ik(s,t,this.currentDirection))return;let l=a&&a[s]||{};o&&(l={min:0,max:0});let u=n?200:1e6,c=n?40:1e7,d={type:"inertia",velocity:r?e[s]:0,bounceStiffness:u,bounceDamping:c,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(s,d)})).then(s)}startAxisValueAnimation(e,t){let r=this.getAxisMotionValue(e);return eO(this.visualElement,e),r.start(nc(e,r,0,t,this.visualElement,!1))}stopAnimation(){iu(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){iu(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps();return r[t]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){iu(t=>{let{drag:r}=this.getProps();if(!ik(t,r,this.currentDirection))return;let{projection:n}=this.visualElement,i=this.getAxisMotionValue(t);if(n&&n.layout){let{min:r,max:o}=n.layout.layoutBox[t];i.set(e[t]-ra(r,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!n$(t)||!r||!this.constraints)return;this.stopAnimation();let n={x:0,y:0};iu(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){let r=t.get();n[e]=n7({min:r,max:r},this.constraints[e])}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),iu(t=>{if(!ik(t,e,null))return;let r=this.getAxisMotionValue(t),{min:i,max:o}=this.constraints[t];r.set(ra(i,o,n[t]))})}addListeners(){if(!this.visualElement.current)return;iP.set(this.visualElement,this);let e=nk(this.visualElement.current,"pointerdown",e=>{let{drag:t,dragListener:r=!0}=this.getProps();t&&r&&this.start(e)}),t=()=>{let{dragConstraints:e}=this.getProps();n$(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,n=r.addEventListener("measure",t);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),el.read(t);let i=nD(window,"resize",()=>this.scalePositionWithinConstraints()),o=r.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(iu(t=>{let r=this.getAxisMotionValue(t);r&&(this.originPoint[t]+=e[t].translate,r.set(r.get()+e[t].translate))}),this.visualElement.render())});return()=>{i(),e(),n(),o&&o()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:o=ie,dragMomentum:s=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:n,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function ik(e,t,r){return(!0===t||t===e)&&(null===r||r===e)}function iM(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class iL extends nw{constructor(e){super(e),this.removeGroupControls=Z,this.removeListeners=Z,this.controls=new iN(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Z}unmount(){this.removeGroupControls(),this.removeListeners()}}let iB=e=>(t,r)=>{e&&el.postRender(()=>e(t,r))};class ij extends nw{constructor(){super(...arguments),this.removePointerDownListener=Z}onPointerDown(e){this.session=new nB(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iD(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:iB(e),onStart:iB(t),onMove:r,onEnd:(e,t)=>{delete this.session,n&&el.postRender(()=>n(e,t))}}}mount(){this.removePointerDownListener=nk(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}var iF=r(10326),iU=r(17577),iV=r(56933),iz=r(40339);let iG=(0,iU.createContext)({}),i$={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function iH(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let iq={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!tr.test(e))return e;e=parseFloat(e)}let r=iH(e,t.target.x),n=iH(e,t.target.y);return`${r}% ${n}%`}},iW={correct:(e,{treeScale:t,projectionDelta:r})=>{let n=e,i=tE.parse(e);if(i.length>5)return n;let o=tE.createTransformer(e),s="number"!=typeof i[0]?1:0,a=r.x.scale*t.x,l=r.y.scale*t.y;i[0+s]/=a,i[1+s]/=l;let u=ra(a,l,.5);return"number"==typeof i[2+s]&&(i[2+s]/=u),"number"==typeof i[3+s]&&(i[3+s]/=u),o(i)}},iK={};function iY(e){Object.assign(iK,e)}let{schedule:iZ,cancel:iJ}=ea(queueMicrotask,!1);class iQ extends iU.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:n}=this.props,{projection:i}=e;iY(i0),i&&(t.group&&t.group.add(i),r&&r.register&&n&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),i$.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:r,drag:n,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,n||e.layoutDependency!==t||void 0===t?o.willUpdate():this.safeToRemove(),e.isPresent===i||(i?o.promote():o.relegate()||el.postRender(()=>{let e=o.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),iZ.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:n}=e;n&&(n.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function iX(e){let[t,r]=(0,iV.oO)(),n=(0,iU.useContext)(iz.p);return(0,iF.jsx)(iQ,{...e,layoutGroup:n,switchLayoutGroup:(0,iU.useContext)(iG),isPresent:t,safeToRemove:r})}let i0={borderRadius:{...iq,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:iq,borderTopRightRadius:iq,borderBottomLeftRadius:iq,borderBottomRightRadius:iq,boxShadow:iW};function i1(e,t,r){let n=eC(e)?e:e_(e);return n.start(nc("",n,t,r)),n.animation}function i2(e){return e instanceof SVGElement&&"svg"!==e.tagName}let i3=(e,t)=>e.depth-t.depth;class i6{constructor(){this.children=[],this.isDirty=!1}add(e){ef(this.children,e),this.isDirty=!0}remove(e){em(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(i3),this.isDirty=!1,this.children.forEach(e)}}function i4(e,t){let r=ep.now(),n=({timestamp:i})=>{let o=i-r;o>=t&&(eu(n),e(o-t))};return el.read(n,!0),()=>eu(n)}function i5(e){let t=eC(e)?e.get():e;return et(t)?t.toValue():t}let i8=["TopLeft","TopRight","BottomLeft","BottomRight"],i7=i8.length,i9=e=>"string"==typeof e?parseFloat(e):e,oe=e=>"number"==typeof e||tr.test(e);function ot(e,t,r,n,i,o){i?(e.opacity=ra(0,void 0!==r.opacity?r.opacity:1,on(n)),e.opacityExit=ra(void 0!==t.opacity?t.opacity:1,0,oi(n))):o&&(e.opacity=ra(void 0!==t.opacity?t.opacity:1,void 0!==r.opacity?r.opacity:1,n));for(let i=0;i<i7;i++){let o=`border${i8[i]}Radius`,s=or(t,o),a=or(r,o);(void 0!==s||void 0!==a)&&(s||(s=0),a||(a=0),0===s||0===a||oe(s)===oe(a)?(e[o]=Math.max(ra(i9(s),i9(a),n),0),(tt.test(a)||tt.test(s))&&(e[o]+="%")):e[o]=a)}(t.rotate||r.rotate)&&(e.rotate=ra(t.rotate||0,r.rotate||0,n))}function or(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let on=oo(0,.5,e$),oi=oo(.5,.95,Z);function oo(e,t,r){return n=>n<e?0:n>t?1:r(w(e,t,n))}function os(e,t){e.min=t.min,e.max=t.max}function oa(e,t){os(e.x,t.x),os(e.y,t.y)}function ol(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ou(e,t,r,n,i){return e-=t,e=ib(e,1/r,n),void 0!==i&&(e=ib(e,1/i,n)),e}function oc(e,t=0,r=1,n=.5,i,o=e,s=e){if(tt.test(t)&&(t=parseFloat(t),t=ra(s.min,s.max,t/100)-s.min),"number"!=typeof t)return;let a=ra(o.min,o.max,n);e===o&&(a-=t),e.min=ou(e.min,t,r,a,i),e.max=ou(e.max,t,r,a,i)}function od(e,t,[r,n,i],o,s){oc(e,t[r],t[n],t[i],t.scale,o,s)}let oh=["x","scaleX","originX"],op=["y","scaleY","originY"];function of(e,t,r,n){od(e.x,t,oh,r?r.x:void 0,n?n.x:void 0),od(e.y,t,op,r?r.y:void 0,n?n.y:void 0)}function om(e){return 0===e.translate&&1===e.scale}function og(e){return om(e.x)&&om(e.y)}function oy(e,t){return e.min===t.min&&e.max===t.max}function ov(e,t){return oy(e.x,t.x)&&oy(e.y,t.y)}function ob(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function oE(e,t){return ob(e.x,t.x)&&ob(e.y,t.y)}function oS(e){return nY(e.x)/nY(e.y)}function o_(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class oT{constructor(){this.members=[]}add(e){ef(this.members,e),e.scheduleRender()}remove(e){if(em(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t;let r=this.members.findIndex(t=>e===t);if(0===r)return!1;for(let e=r;e>=0;e--){let r=this.members[e];if(!1!==r.isPresent){t=r;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:n}=e.options;!1===n&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function oA(e,t,r){let n="",i=e.x.translate/t.x,o=e.y.translate/t.y,s=(null==r?void 0:r.z)||0;if((i||o||s)&&(n=`translate3d(${i}px, ${o}px, ${s}px) `),(1!==t.x||1!==t.y)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){let{transformPerspective:e,rotate:t,rotateX:i,rotateY:o,skewX:s,skewY:a}=r;e&&(n=`perspective(${e}px) ${n}`),t&&(n+=`rotate(${t}deg) `),i&&(n+=`rotateX(${i}deg) `),o&&(n+=`rotateY(${o}deg) `),s&&(n+=`skewX(${s}deg) `),a&&(n+=`skewY(${a}deg) `)}let a=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==a||1!==l)&&(n+=`scale(${a}, ${l})`),n||"none"}let oC={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ow="undefined"!=typeof window&&void 0!==window.MotionDebug,oO=["","X","Y","Z"],oR={visibility:"hidden"},ox=1e3,oI=0;function oD(e,t,r,n){let{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function oP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;let{visualElement:t}=e.options;if(!t)return;let r=eI(t);if(window.MotionHasOptimisedAnimation(r,"transform")){let{layout:t,layoutId:n}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",el,!(t||n))}let{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&oP(n)}function oN({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(e={},r=null==t?void 0:t()){this.id=oI++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ow&&(oC.totalNodes=oC.resolvedTargetDeltas=oC.recalculatedProjection=0),this.nodes.forEach(oL),this.nodes.forEach(oG),this.nodes.forEach(o$),this.nodes.forEach(oB),ow&&window.MotionDebug.record(oC)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new i6)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new eg),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let r=this.eventHandlers.get(e);r&&r.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,r=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=i2(t),this.instance=t;let{layoutId:n,layout:i,visualElement:o}=this.options;if(o&&!o.current&&o.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),r&&(i||n)&&(this.isLayoutDirty=!0),e){let r;let n=()=>this.root.updateBlockedByResize=!1;e(t,()=>{this.root.updateBlockedByResize=!0,r&&r(),r=i4(n,250),i$.hasAnimatedSinceResize&&(i$.hasAnimatedSinceResize=!1,this.nodes.forEach(oz))})}n&&this.root.registerSharedNode(n,this),!1!==this.options.animate&&o&&(n||i)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeTargetChanged:r,layout:n})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let i=this.options.transition||o.getDefaultTransition()||oJ,{onLayoutAnimationStart:s,onLayoutAnimationComplete:a}=o.getProps(),l=!this.targetLayout||!oE(this.targetLayout,n)||r,u=!t&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,u);let t={...v(i,"layout"),onPlay:s,onComplete:a};(o.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||oz(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=n})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,eu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oH),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&oP(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:r}=this.options;if(void 0===t&&!r)return;let n=this.getTransformTemplate();this.prevTransformTemplateValue=n?n(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oF);return}this.isUpdating||this.nodes.forEach(oU),this.isUpdating=!1,this.nodes.forEach(oV),this.nodes.forEach(ok),this.nodes.forEach(oM),this.clearAllSnapshots();let e=ep.now();ec.delta=eK(0,1e3/60,e-ec.timestamp),ec.timestamp=e,ec.isProcessing=!0,ed.update.process(ec),ed.preRender.process(ec),ed.render.process(ec),ec.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,iZ.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(oj),this.sharedNodes.forEach(oq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,el.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){el.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=il(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){let t=n(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!og(this.projectionDelta),r=this.getTransformTemplate(),n=r?r(this.latestValues,""):void 0,o=n!==this.prevTransformTemplateValue;e&&(t||ig(this.latestValues)||o)&&(i(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){let t=this.measurePageBox(),r=this.removeElementScroll(t);return e&&(r=this.removeTransform(r)),o1(r),{animationId:this.root.animationId,measuredBox:t,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){var e;let{visualElement:t}=this.options;if(!t)return il();let r=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(o3))){let{scroll:e}=this.root;e&&(iw(r.x,e.offset.x),iw(r.y,e.offset.y))}return r}removeElementScroll(e){var t;let r=il();if(oa(r,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return r;for(let t=0;t<this.path.length;t++){let n=this.path[t],{scroll:i,options:o}=n;n!==this.root&&i&&o.layoutScroll&&(i.wasRoot&&oa(r,e),iw(r.x,i.offset.x),iw(r.y,i.offset.y))}return r}applyTransform(e,t=!1){let r=il();oa(r,e);for(let e=0;e<this.path.length;e++){let n=this.path[e];!t&&n.options.layoutScroll&&n.scroll&&n!==n.root&&iR(r,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),ig(n.latestValues)&&iR(r,n.latestValues)}return ig(this.latestValues)&&iR(r,this.latestValues),r}removeTransform(e){let t=il();oa(t,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];if(!r.instance||!ig(r.latestValues))continue;im(r.latestValues)&&r.updateSnapshot();let n=il();oa(n,r.measurePageBox()),of(t,r.latestValues,r.snapshot?r.snapshot.layoutBox:void 0,n)}return ig(this.latestValues)&&of(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ec.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t;let r=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=r.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=r.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=r.isSharedProjectionDirty);let n=!!this.resumingFrom||this!==r;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:i,layoutId:o}=this.options;if(this.layout&&(i||o)){if(this.resolvedRelativeTargetAt=ec.timestamp,!this.targetDelta&&!this.relativeTarget){let e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=il(),this.relativeTargetOrigin=il(),n2(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),oa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if(this.target||(this.target=il(),this.targetWithTransforms=il()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),n0(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):oa(this.target,this.layout.layoutBox),i_(this.target,this.targetDelta)):oa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let e=this.getClosestProjectingParent();e&&!!e.resumingFrom==!!this.resumingFrom&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=il(),this.relativeTargetOrigin=il(),n2(this.relativeTargetOrigin,this.target,e.target),oa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ow&&oC.resolvedTargetDeltas++}}}getClosestProjectingParent(){return!this.parent||im(this.parent.latestValues)||iy(this.parent.latestValues)?void 0:this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;let t=this.getLead(),r=!!this.resumingFrom||this!==t,n=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(n=!1),r&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===ec.timestamp&&(n=!1),n)return;let{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(i||o))return;oa(this.layoutCorrected,this.layout.layoutBox);let s=this.treeScale.x,a=this.treeScale.y;iC(this.layoutCorrected,this.treeScale,this.path,r),t.layout&&!t.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(t.target=t.layout.layoutBox,t.targetWithTransforms=il());let{target:l}=t;if(!l){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(ol(this.prevProjectionDelta.x,this.projectionDelta.x),ol(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),nQ(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===s&&this.treeScale.y===a&&o_(this.projectionDelta.x,this.prevProjectionDelta.x)&&o_(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),ow&&oC.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=is(),this.projectionDelta=is(),this.projectionDeltaWithTransform=is()}setAnimationOrigin(e,t=!1){let r;let n=this.snapshot,i=n?n.latestValues:{},o={...this.latestValues},s=is();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let a=il(),l=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),u=this.getStack(),c=!u||u.members.length<=1,d=!!(l&&!c&&!0===this.options.crossfade&&!this.path.some(oZ));this.animationProgress=0,this.mixTargetDelta=t=>{let n=t/1e3;oW(s.x,e.x,n),oW(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(n2(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oY(this.relativeTarget,this.relativeTargetOrigin,a,n),r&&ov(this.relativeTarget,r)&&(this.isProjectionDirty=!1),r||(r=il()),oa(r,this.relativeTarget)),l&&(this.animationValues=o,ot(o,i,this.latestValues,n,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(eu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=el.update(()=>{i$.hasAnimatedSinceResize=!0,this.currentAnimation=i1(0,ox,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ox),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:r,layout:n,latestValues:i}=e;if(t&&r&&n){if(this!==e&&this.layout&&n&&o2(this.options.animationType,this.layout.layoutBox,n.layoutBox)){r=this.target||il();let t=nY(this.layout.layoutBox.x);r.x.min=e.target.x.min,r.x.max=r.x.min+t;let n=nY(this.layout.layoutBox.y);r.y.min=e.target.y.min,r.y.max=r.y.min+n}oa(t,r),iR(t,i),nQ(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new oT),this.sharedNodes.get(e).add(t);let r=t.options.initialPromotionConfig;t.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){var e;let{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;let{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:r}={}){let n=this.getStack();n&&n.promote(this,r),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:r}=e;if((r.z||r.rotate||r.rotateX||r.rotateY||r.rotateZ||r.skewX||r.skewY)&&(t=!0),!t)return;let n={};r.z&&oD("z",e,n,this.animationValues);for(let t=0;t<oO.length;t++)oD(`rotate${oO[t]}`,e,n,this.animationValues),oD(`skew${oO[t]}`,e,n,this.animationValues);for(let t in e.render(),n)e.setStaticValue(t,n[t]),this.animationValues&&(this.animationValues[t]=n[t]);e.scheduleRender()}getProjectionStyles(e){var t,r;if(!this.instance||this.isSVG)return;if(!this.isVisible)return oR;let n={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,n.opacity="",n.pointerEvents=i5(null==e?void 0:e.pointerEvents)||"",n.transform=i?i(this.latestValues,""):"none",n;let o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){let t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=i5(null==e?void 0:e.pointerEvents)||""),this.hasProjected&&!ig(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}let s=o.animationValues||o.latestValues;this.applyTransformsToTarget(),n.transform=oA(this.projectionDeltaWithTransform,this.treeScale,s),i&&(n.transform=i(s,n.transform));let{x:a,y:l}=this.projectionDelta;for(let e in n.transformOrigin=`${100*a.origin}% ${100*l.origin}% 0`,o.animationValues?n.opacity=o===this?null!==(r=null!==(t=s.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==r?r:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:n.opacity=o===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0,iK){if(void 0===s[e])continue;let{correct:t,applyTo:r}=iK[e],i="none"===n.transform?s[e]:t(s[e],o);if(r){let e=r.length;for(let t=0;t<e;t++)n[r[t]]=i}else n[e]=i}return this.options.layoutId&&(n.pointerEvents=o===this?i5(null==e?void 0:e.pointerEvents)||"":"none"),n}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(oF),this.root.sharedNodes.clear()}}}function ok(e){e.updateLayout()}function oM(e){var t;let r=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){let{layoutBox:t,measuredBox:n}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;"size"===i?iu(e=>{let n=o?r.measuredBox[e]:r.layoutBox[e],i=nY(n);n.min=t[e].min,n.max=n.min+i}):o2(i,r.layoutBox,t)&&iu(n=>{let i=o?r.measuredBox[n]:r.layoutBox[n],s=nY(t[n]);i.max=i.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[n].max=e.relativeTarget[n].min+s)});let s=is();nQ(s,t,r.layoutBox);let a=is();o?nQ(a,e.applyTransform(n,!0),r.measuredBox):nQ(a,t,r.layoutBox);let l=!og(s),u=!1;if(!e.resumeFrom){let n=e.getClosestProjectingParent();if(n&&!n.resumeFrom){let{snapshot:i,layout:o}=n;if(i&&o){let s=il();n2(s,r.layoutBox,i.layoutBox);let a=il();n2(a,t,o.layoutBox),oE(s,a)||(u=!0),n.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=s,e.relativeParent=n)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:r,delta:a,layoutDelta:s,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function oL(e){ow&&oC.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function oB(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function oj(e){e.clearSnapshot()}function oF(e){e.clearMeasurements()}function oU(e){e.isLayoutDirty=!1}function oV(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function oz(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function oG(e){e.resolveTargetDelta()}function o$(e){e.calcProjection()}function oH(e){e.resetSkewAndRotation()}function oq(e){e.removeLeadSnapshot()}function oW(e,t,r){e.translate=ra(t.translate,0,r),e.scale=ra(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function oK(e,t,r,n){e.min=ra(t.min,r.min,n),e.max=ra(t.max,r.max,n)}function oY(e,t,r,n){oK(e.x,t.x,r.x,n),oK(e.y,t.y,r.y,n)}function oZ(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let oJ={duration:.45,ease:[.4,0,.1,1]},oQ=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),oX=oQ("applewebkit/")&&!oQ("chrome/")?Math.round:Z;function o0(e){e.min=oX(e.min),e.max=oX(e.max)}function o1(e){o0(e.x),o0(e.y)}function o2(e,t,r){return"position"===e||"preserve-aspect"===e&&!nZ(oS(t),oS(r),.2)}function o3(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}let o6=oN({attachResizeListener:(e,t)=>nD(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),o4={current:void 0},o5=oN({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!o4.current){let e=new o6({});e.mount(window),e.setOptions({layoutScroll:!0}),o4.current=e}return o4.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position}),o8={pan:{Feature:ij},drag:{Feature:iL,ProjectionNode:o5,MeasureLayout:iX}};function o7(e,t,r){let{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover","Start"===r);let i=n["onHover"+r];i&&el.postRender(()=>i(t,nP(t)))}class o9 extends nw{mount(){let{current:e}=this.node;e&&(this.unmount=B(e,e=>(o7(this.node,e,"Start"),e=>o7(this.node,e,"End"))))}unmount(){}}class se extends nw{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ry(nD(this.node.current,"focus",()=>this.onFocus()),nD(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function st(e,t,r){let{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap","Start"===r);let i=n["onTap"+("End"===r?"":r)];i&&el.postRender(()=>i(t,nP(t)))}class sr extends nw{mount(){let{current:e}=this.node;e&&(this.unmount=W(e,e=>(st(this.node,e,"Start"),(e,{success:t})=>st(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}let sn=new WeakMap,si=new WeakMap,so=e=>{let t=sn.get(e.target);t&&t(e)},ss=e=>{e.forEach(so)};function sa({root:e,...t}){let r=e||document;si.has(r)||si.set(r,{});let n=si.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(ss,{root:e,...t})),n[i]}function sl(e,t,r){let n=sa(t);return sn.set(e,r),n.observe(e),()=>{sn.delete(e),n.unobserve(e)}}let su={some:0,all:1};class sc extends nw{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:n="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:"number"==typeof n?n:su[n]},s=e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,i&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:r,onViewportLeave:n}=this.node.getProps(),o=t?r:n;o&&o(e)};return sl(this.node.current,o,s)}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(sd(e,t))&&this.startObserver()}unmount(){}}function sd({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}let sh={inView:{Feature:sc},tap:{Feature:sr},focus:{Feature:se},hover:{Feature:o9}},sp={layout:{ProjectionNode:o5,MeasureLayout:iX}},sf=(0,iU.createContext)({strict:!1});var sm=r(73965);let sg=(0,iU.createContext)({});function sy(e){return o(e.animate)||p.some(t=>l(e[t]))}function sv(e){return!!(sy(e)||e.variants)}function sb(e,t){if(sy(e)){let{initial:t,animate:r}=e;return{initial:!1===t||l(t)?t:void 0,animate:l(r)?r:void 0}}return!1!==e.inherit?t:{}}function sE(e){let{initial:t,animate:r}=sb(e,(0,iU.useContext)(sg));return(0,iU.useMemo)(()=>({initial:t,animate:r}),[sS(t),sS(r)])}function sS(e){return Array.isArray(e)?e.join(" "):e}var s_=r(8263);let sT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sA={};for(let e in sT)sA[e]={isEnabled:t=>sT[e].some(e=>!!t[e])};function sC(e){for(let t in e)sA[t]={...sA[t],...e[t]}}let sw=Symbol.for("motionComponentSymbol");function sO(e,t,r){return(0,iU.useCallback)(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&("function"==typeof r?r(n):n$(r)&&(r.current=n))},[t])}var sR=r(40295),sx=r(42482);function sI(e,t,r,n,i){var o,s;let{visualElement:a}=(0,iU.useContext)(sg),l=(0,iU.useContext)(sf),u=(0,iU.useContext)(sR.O),c=(0,iU.useContext)(sm._).reducedMotion,d=(0,iU.useRef)(null);n=n||l.renderer,!d.current&&n&&(d.current=n(e,{visualState:t,parent:a,props:r,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:c}));let h=d.current,p=(0,iU.useContext)(iG);h&&!h.projection&&i&&("html"===h.type||"svg"===h.type)&&sD(d.current,r,i,p);let f=(0,iU.useRef)(!1);(0,iU.useInsertionEffect)(()=>{h&&f.current&&h.update(r,u)});let m=r[ex],g=(0,iU.useRef)(!!m&&!(null===(o=window.MotionHandoffIsComplete)||void 0===o?void 0:o.call(window,m))&&(null===(s=window.MotionHasOptimisedAnimation)||void 0===s?void 0:s.call(window,m)));return(0,sx.L)(()=>{h&&(f.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),iZ.render(h.render),g.current&&h.animationState&&h.animationState.animateChanges())}),(0,iU.useEffect)(()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,m)}),g.current=!1))}),h}function sD(e,t,r,n){let{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:sP(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||a&&n$(a),visualElement:e,animationType:"string"==typeof o?o:"both",initialPromotionConfig:n,layoutScroll:l,layoutRoot:u})}function sP(e){if(e)return!1!==e.options.allowProjection?e.projection:sP(e.parent)}function sN({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:i}){var o,s;function a(o,s){let a;let l={...(0,iU.useContext)(sm._),...o,layoutId:sk(o)},{isStatic:u}=l,c=sE(o),d=n(o,u);if(!u&&s_.j){sM(l,e);let r=sL(l);a=r.MeasureLayout,c.visualElement=sI(i,d,l,t,r.ProjectionNode)}return(0,iF.jsxs)(sg.Provider,{value:c,children:[a&&c.visualElement?(0,iF.jsx)(a,{visualElement:c.visualElement,...l}):null,r(i,o,sO(d,c.visualElement,s),d,u,c.visualElement)]})}e&&sC(e),a.displayName=`motion.${"string"==typeof i?i:`create(${null!==(s=null!==(o=i.displayName)&&void 0!==o?o:i.name)&&void 0!==s?s:""})`}`;let l=(0,iU.forwardRef)(a);return l[sw]=i,l}function sk({layoutId:e}){let t=(0,iU.useContext)(iz.p).id;return t&&void 0!==e?t+"-"+e:e}function sM(e,t){(0,iU.useContext)(sf).strict}function sL(e){let{drag:t,layout:r}=sA;if(!t&&!r)return{};let n={...t,...r};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==r?void 0:r.isEnabled(e))?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}let sB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sj(e){if("string"!=typeof e||e.includes("-"));else if(sB.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}var sF=r(74749);function sU({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,i,o){let s={latestValues:sz(n,i,o,e),renderState:t()};return r&&(s.onMount=e=>r({props:n,current:e,...s}),s.onUpdate=e=>r(e)),s}let sV=e=>(t,r)=>{let n=(0,iU.useContext)(sg),i=(0,iU.useContext)(sR.O),o=()=>sU(e,t,n,i);return r?o():(0,sF.h)(o)};function sz(e,t,r,n){let i={},s=n(e,{});for(let e in s)i[e]=i5(s[e]);let{initial:a,animate:l}=e,u=sy(e),d=sv(e);t&&d&&!u&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===l&&(l=t.animate));let h=!!r&&!1===r.initial,p=(h=h||!1===a)?l:a;if(p&&"boolean"!=typeof p&&!o(p)){let t=Array.isArray(p)?p:[p];for(let r=0;r<t.length;r++){let n=c(e,t[r]);if(n){let{transitionEnd:e,transition:t,...r}=n;for(let e in r){let t=r[e];if(Array.isArray(t)){let e=h?t.length-1:0;t=t[e]}null!==t&&(i[e]=t)}for(let t in e)i[t]=e[t]}}}return i}let sG=(e,t)=>t&&"number"==typeof e?t.transform(e):e,s$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sH=Q.length;function sq(e,t,r){let n="",i=!0;for(let o=0;o<sH;o++){let s=Q[o],a=e[s];if(void 0===a)continue;let l=!0;if(!(l="number"==typeof a?a===(s.startsWith("scale")?1:0):0===parseFloat(a))||r){let e=sG(a,tR[s]);if(!l){i=!1;let t=s$[s]||s;n+=`${t}(${e}) `}r&&(t[s]=e)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function sW(e,t,r){let{style:n,vars:i,transformOrigin:o}=e,s=!1,a=!1;for(let e in t){let r=t[e];if(X.has(e)){s=!0;continue}if(tQ(e)){i[e]=r;continue}{let t=sG(r,tR[e]);e.startsWith("origin")?(a=!0,o[e]=t):n[e]=t}}if(!t.transform&&(s||r?n.transform=sq(t,e.transform,r):n.transform&&(n.transform="none")),a){let{originX:e="50%",originY:t="50%",originZ:r=0}=o;n.transformOrigin=`${e} ${t} ${r}`}}let sK={offset:"stroke-dashoffset",array:"stroke-dasharray"},sY={offset:"strokeDashoffset",array:"strokeDasharray"};function sZ(e,t,r=1,n=0,i=!0){e.pathLength=1;let o=i?sK:sY;e[o.offset]=tr.transform(-n);let s=tr.transform(t),a=tr.transform(r);e[o.array]=`${s} ${a}`}function sJ(e,t,r){return"string"==typeof e?e:tr.transform(t+r*e)}function sQ(e,t,r){let n=sJ(t,e.x,e.width),i=sJ(r,e.y,e.height);return`${n} ${i}`}function sX(e,{attrX:t,attrY:r,attrScale:n,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},c,d){if(sW(e,u,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:h,style:p,dimensions:f}=e;h.transform&&(f&&(p.transform=h.transform),delete h.transform),f&&(void 0!==i||void 0!==o||p.transform)&&(p.transformOrigin=sQ(f,void 0!==i?i:.5,void 0!==o?o:.5)),void 0!==t&&(h.x=t),void 0!==r&&(h.y=r),void 0!==n&&(h.scale=n),void 0!==s&&sZ(h,s,a,l,!1)}let s0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),s1=()=>({...s0(),attrs:{}}),s2=e=>"string"==typeof e&&"svg"===e.toLowerCase();function s3(e,{style:t,vars:r},n,i){for(let o in Object.assign(e.style,t,i&&i.getProjectionStyles(n)),r)e.style.setProperty(o,r[o])}let s6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function s4(e,t,r,n){for(let r in s3(e,t,void 0,n),t.attrs)e.setAttribute(s6.has(r)?r:eR(r),t.attrs[r])}function s5(e,{layout:t,layoutId:r}){return X.has(e)||e.startsWith("origin")||(t||void 0!==r)&&(!!iK[e]||"opacity"===e)}function s8(e,t,r){var n;let{style:i}=e,o={};for(let s in i)(eC(i[s])||t.style&&eC(t.style[s])||s5(s,e)||(null===(n=null==r?void 0:r.getValue(s))||void 0===n?void 0:n.liveStyle)!==void 0)&&(o[s]=i[s]);return o}function s7(e,t,r){let n=s8(e,t,r);for(let r in e)(eC(e[r])||eC(t[r]))&&(n[-1!==Q.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]);return n}function s9(e,t){try{t.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(e){t.dimensions={x:0,y:0,width:0,height:0}}}let ae=["x","y","width","height","cx","cy","r"],at={useVisualState:sV({scrapeMotionValuesFromProps:s7,createRenderState:s1,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:i})=>{if(!r)return;let o=!!e.drag;if(!o){for(let e in i)if(X.has(e)){o=!0;break}}if(!o)return;let s=!t;if(t)for(let r=0;r<ae.length;r++){let n=ae[r];e[n]!==t[n]&&(s=!0)}s&&el.read(()=>{s9(r,n),el.render(()=>{sX(n,i,s2(r.tagName),e.transformTemplate),s4(r,n)})})}})},ar={useVisualState:sV({scrapeMotionValuesFromProps:s8,createRenderState:s0})};function an(e,t,r){for(let n in t)eC(t[n])||s5(n,r)||(e[n]=t[n])}function ai({transformTemplate:e},t){return(0,iU.useMemo)(()=>{let r=s0();return sW(r,t,e),Object.assign({},r.vars,r.style)},[t])}function ao(e,t){let r=e.style||{},n={};return an(n,r,e),Object.assign(n,ai(e,t)),n}function as(e,t){let r={},n=ao(e,t);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}let aa=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function al(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||aa.has(e)}let au=e=>!al(e);function ac(e){e&&(au=t=>t.startsWith("on")?!al(t):e(t))}try{ac(require("@emotion/is-prop-valid").default)}catch(e){}function ad(e,t,r){let n={};for(let i in e)("values"!==i||"object"!=typeof e.values)&&(au(i)||!0===r&&al(i)||!t&&!al(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function ah(e,t,r,n){let i=(0,iU.useMemo)(()=>{let r=s1();return sX(r,t,s2(n),e.transformTemplate),{...r.attrs,style:{...r.style}}},[t]);if(e.style){let t={};an(t,e.style,e),i.style={...t,...i.style}}return i}function ap(e=!1){return(t,r,n,{latestValues:i},o)=>{let s=(sj(t)?ah:as)(r,i,o,t),a=ad(r,"string"==typeof t,e),l=t!==iU.Fragment?{...a,...s,ref:n}:{},{children:u}=r,c=(0,iU.useMemo)(()=>eC(u)?u.get():u,[u]);return(0,iU.createElement)(t,{...l,children:c})}}function af(e,t){return function(r,{forwardMotionProps:n}={forwardMotionProps:!1}){return sN({...sj(r)?at:ar,preloadedFeatures:e,useRender:ap(n),createVisualElement:t,Component:r})}}let am={current:null},ag={current:!1};function ay(){if(ag.current=!0,s_.j){if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>am.current=e.matches;e.addListener(t),t()}else am.current=!1}}let av=[...t8,ta,tE],ab=e=>av.find(t5(e)),aE=new WeakMap;function aS(e,t,r){for(let n in t){let i=t[n],o=r[n];if(eC(i))e.addValue(n,i);else if(eC(o))e.addValue(n,e_(i,{owner:e}));else if(o!==i){if(e.hasValue(n)){let t=e.getValue(n);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{let t=e.getStaticValue(n);e.addValue(n,e_(void 0!==t?t:i,{owner:e}))}}}for(let n in r)void 0===t[n]&&e.removeValue(n);return t}let a_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class aT{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:n,blockInitialAnimation:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=tW,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=ep.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,el.render(this.render,!1,!0))};let{latestValues:a,renderState:l,onUpdate:u}=o;this.onUpdate=u,this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=n,this.options=s,this.blockInitialAnimation=!!i,this.isControllingVariants=sy(t),this.isVariantNode=sv(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);let{willChange:c,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(let e in d){let t=d[e];void 0!==a[e]&&eC(t)&&t.set(a[e],!1)}}mount(e){this.current=e,aE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),ag.current||ay(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||am.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in aE.delete(this.current),this.projection&&this.projection.unmount(),eu(this.notifyUpdate),eu(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){let r;this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let n=X.has(e),i=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&el.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=t.on("renderRequest",this.scheduleRender);window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),o(),r&&r(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in sA){let t=sA[e];if(!t)continue;let{isEnabled:r,Feature:n}=t;if(!this.features[e]&&n&&r(this.props)&&(this.features[e]=new n(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):il()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<a_.length;t++){let r=a_[t];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);let n=e["on"+r];n&&(this.propEventSubscriptions[r]=this.on(r,n))}this.prevMotionValues=aS(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return void 0===r&&void 0!==t&&(r=e_(null===t?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let n=void 0===this.latestValues[e]&&this.current?null!==(r=this.getBaseTargetFromProps(this.props,e))&&void 0!==r?r:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return null!=n&&("string"==typeof n&&(tZ(n)||eq(n))?n=parseFloat(n):!ab(n)&&tE.test(t)&&(n=tD(e,t)),this.setBaseTarget(e,eC(n)?n.get():n)),eC(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;let r;let{initial:n}=this.props;if("string"==typeof n||"object"==typeof n){let i=c(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);i&&(r=i[e])}if(n&&void 0!==r)return r;let i=this.getBaseTargetFromProps(this.props,e);return void 0===i||eC(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new eg),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class aA extends aT{constructor(){super(...arguments),this.KeyframeResolver=t9}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;eC(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function aC(e){return window.getComputedStyle(e)}class aw extends aA{constructor(){super(...arguments),this.type="html",this.renderInstance=s3}readValueFromInstance(e,t){if(X.has(t)){let e=tI(t);return e&&e.default||0}{let r=aC(e),n=(tQ(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof n?n.trim():n}}measureInstanceViewportBox(e,{transformPagePoint:t}){return ix(e,t)}build(e,t,r){sW(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return s8(e,t,r)}}class aO extends aA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=il}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(X.has(t)){let e=tI(t);return e&&e.default||0}return t=s6.has(t)?t:eR(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return s7(e,t,r)}build(e,t,r){sX(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,n){s4(e,t,r,n)}mount(e){this.isSVGTag=s2(e.tagName),super.mount(e)}}let aR=(e,t)=>sj(e)?new aO(t):new aw(t,{allowProjection:e!==iU.Fragment}),ax=i(af({...nI,...sh,...o8,...sp},aR))},8263:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});let n="undefined"!=typeof window},74749:(e,t,r)=>{"use strict";r.d(t,{h:()=>i});var n=r(17577);function i(e){let t=(0,n.useRef)(null);return null===t.current&&(t.current=e()),t.current}},42482:(e,t,r)=>{"use strict";r.d(t,{L:()=>i});var n=r(17577);let i=r(8263).j?n.useLayoutEffect:n.useEffect},31009:(e,t,r)=>{"use strict";r.d(t,{m6:()=>Q});let n="-",i=e=>{let t=l(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:e=>{let r=e.split(n);return""===r[0]&&1!==r.length&&r.shift(),o(r,t)||a(e)},getConflictingClassGroupIds:(e,t)=>{let n=r[e]||[];return t&&i[e]?[...n,...i[e]]:n}}},o=(e,t)=>{if(0===e.length)return t.classGroupId;let r=e[0],i=t.nextPart.get(r),s=i?o(e.slice(1),i):void 0;if(s)return s;if(0===t.validators.length)return;let a=e.join(n);return t.validators.find(({validator:e})=>e(a))?.classGroupId},s=/^\[(.+)\]$/,a=e=>{if(s.test(e)){let t=s.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},l=e=>{let{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return h(Object.entries(e.classGroups),r).forEach(([e,r])=>{u(r,n,e,t)}),n},u=(e,t,r,n)=>{e.forEach(e=>{if("string"==typeof e){(""===e?t:c(t,e)).classGroupId=r;return}if("function"==typeof e){if(d(e)){u(e(n),t,r,n);return}t.validators.push({validator:e,classGroupId:r});return}Object.entries(e).forEach(([e,i])=>{u(i,c(t,e),r,n)})})},c=(e,t)=>{let r=e;return t.split(n).forEach(e=>{r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)}),r},d=e=>e.isThemeGetter,h=(e,t)=>t?e.map(([e,r])=>[e,r.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,r])=>[t+e,r])):e)]):e,p=e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,r=new Map,n=new Map,i=(i,o)=>{r.set(i,o),++t>e&&(t=0,n=r,r=new Map)};return{get(e){let t=r.get(e);return void 0!==t?t:void 0!==(t=n.get(e))?(i(e,t),t):void 0},set(e,t){r.has(e)?r.set(e,t):i(e,t)}}},f="!",m=e=>{let{separator:t,experimentalParseClassName:r}=e,n=1===t.length,i=t[0],o=t.length,s=e=>{let r;let s=[],a=0,l=0;for(let u=0;u<e.length;u++){let c=e[u];if(0===a){if(c===i&&(n||e.slice(u,u+o)===t)){s.push(e.slice(l,u)),l=u+o;continue}if("/"===c){r=u;continue}}"["===c?a++:"]"===c&&a--}let u=0===s.length?e:e.substring(l),c=u.startsWith(f),d=c?u.substring(1):u;return{modifiers:s,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:r&&r>l?r-l:void 0}};return r?e=>r({className:e,parseClassName:s}):s},g=e=>{if(e.length<=1)return e;let t=[],r=[];return e.forEach(e=>{"["===e[0]?(t.push(...r.sort(),e),r=[]):r.push(e)}),t.push(...r.sort()),t},y=e=>({cache:p(e.cacheSize),parseClassName:m(e),...i(e)}),v=/\s+/,b=(e,t)=>{let{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,o=[],s=e.trim().split(v),a="";for(let e=s.length-1;e>=0;e-=1){let t=s[e],{modifiers:l,hasImportantModifier:u,baseClassName:c,maybePostfixModifierPosition:d}=r(t),h=!!d,p=n(h?c.substring(0,d):c);if(!p){if(!h||!(p=n(c))){a=t+(a.length>0?" "+a:a);continue}h=!1}let m=g(l).join(":"),y=u?m+f:m,v=y+p;if(o.includes(v))continue;o.push(v);let b=i(p,h);for(let e=0;e<b.length;++e){let t=b[e];o.push(y+t)}a=t+(a.length>0?" "+a:a)}return a};function E(){let e,t,r=0,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=S(e))&&(n&&(n+=" "),n+=t);return n}let S=e=>{let t;if("string"==typeof e)return e;let r="";for(let n=0;n<e.length;n++)e[n]&&(t=S(e[n]))&&(r&&(r+=" "),r+=t);return r};function _(e,...t){let r,n,i;let o=s;function s(s){return n=(r=y(t.reduce((e,t)=>t(e),e()))).cache.get,i=r.cache.set,o=a,a(s)}function a(e){let t=n(e);if(t)return t;let o=b(e,r);return i(e,o),o}return function(){return o(E.apply(null,arguments))}}let T=e=>{let t=t=>t[e]||[];return t.isThemeGetter=!0,t},A=/^\[(?:([a-z-]+):)?(.+)\]$/i,C=/^\d+\/\d+$/,w=new Set(["px","full","screen"]),O=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,R=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,x=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,I=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,D=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,P=e=>k(e)||w.has(e)||C.test(e),N=e=>W(e,"length",K),k=e=>!!e&&!Number.isNaN(Number(e)),M=e=>W(e,"number",k),L=e=>!!e&&Number.isInteger(Number(e)),B=e=>e.endsWith("%")&&k(e.slice(0,-1)),j=e=>A.test(e),F=e=>O.test(e),U=new Set(["length","size","percentage"]),V=e=>W(e,U,Y),z=e=>W(e,"position",Y),G=new Set(["image","url"]),$=e=>W(e,G,J),H=e=>W(e,"",Z),q=()=>!0,W=(e,t,r)=>{let n=A.exec(e);return!!n&&(n[1]?"string"==typeof t?n[1]===t:t.has(n[1]):r(n[2]))},K=e=>R.test(e)&&!x.test(e),Y=()=>!1,Z=e=>I.test(e),J=e=>D.test(e);Symbol.toStringTag;let Q=_(()=>{let e=T("colors"),t=T("spacing"),r=T("blur"),n=T("brightness"),i=T("borderColor"),o=T("borderRadius"),s=T("borderSpacing"),a=T("borderWidth"),l=T("contrast"),u=T("grayscale"),c=T("hueRotate"),d=T("invert"),h=T("gap"),p=T("gradientColorStops"),f=T("gradientColorStopPositions"),m=T("inset"),g=T("margin"),y=T("opacity"),v=T("padding"),b=T("saturate"),E=T("scale"),S=T("sepia"),_=T("skew"),A=T("space"),C=T("translate"),w=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",j,t],x=()=>[j,t],I=()=>["",P,N],D=()=>["auto",k,j],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],Y=()=>["","0",j],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[k,j];return{cacheSize:500,separator:":",theme:{colors:[q],spacing:[P,N],blur:["none","",F,j],brightness:J(),borderColor:[e],borderRadius:["none","","full",F,j],borderSpacing:x(),borderWidth:I(),contrast:J(),grayscale:Y(),hueRotate:J(),invert:Y(),gap:x(),gradientColorStops:[e],gradientColorStopPositions:[B,N],inset:R(),margin:R(),opacity:J(),padding:x(),saturate:J(),scale:J(),sepia:Y(),skew:J(),space:x(),translate:x()},classGroups:{aspect:[{aspect:["auto","square","video",j]}],container:["container"],columns:[{columns:[F]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),j]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:w()}],"overscroll-x":[{"overscroll-x":w()}],"overscroll-y":[{"overscroll-y":w()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",L,j]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",j]}],grow:[{grow:Y()}],shrink:[{shrink:Y()}],order:[{order:["first","last","none",L,j]}],"grid-cols":[{"grid-cols":[q]}],"col-start-end":[{col:["auto",{span:["full",L,j]},j]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[q]}],"row-start-end":[{row:["auto",{span:[L,j]},j]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",j]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",j]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",j,t]}],"min-w":[{"min-w":[j,t,"min","max","fit"]}],"max-w":[{"max-w":[j,t,"none","full","min","max","fit","prose",{screen:[F]},F]}],h:[{h:[j,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[j,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[j,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[j,t,"auto","min","max","fit"]}],"font-size":[{text:["base",F,N]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",M]}],"font-family":[{font:[q]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",j]}],"line-clamp":[{"line-clamp":["none",k,M]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",P,j]}],"list-image":[{"list-image":["none",j]}],"list-style-type":[{list:["none","disc","decimal",j]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",P,N]}],"underline-offset":[{"underline-offset":["auto",P,j]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:x()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",j]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",j]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),z]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",V]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[f]}],"gradient-via-pos":[{via:[f]}],"gradient-to-pos":[{to:[f]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:G()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[P,j]}],"outline-w":[{outline:[P,N]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[P,N]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",F,H]}],"shadow-color":[{shadow:[q]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",F,j]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",j]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",j]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",j]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[L,j]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",j]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",j]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":x()}],"scroll-mx":[{"scroll-mx":x()}],"scroll-my":[{"scroll-my":x()}],"scroll-ms":[{"scroll-ms":x()}],"scroll-me":[{"scroll-me":x()}],"scroll-mt":[{"scroll-mt":x()}],"scroll-mr":[{"scroll-mr":x()}],"scroll-mb":[{"scroll-mb":x()}],"scroll-ml":[{"scroll-ml":x()}],"scroll-p":[{"scroll-p":x()}],"scroll-px":[{"scroll-px":x()}],"scroll-py":[{"scroll-py":x()}],"scroll-ps":[{"scroll-ps":x()}],"scroll-pe":[{"scroll-pe":x()}],"scroll-pt":[{"scroll-pt":x()}],"scroll-pr":[{"scroll-pr":x()}],"scroll-pb":[{"scroll-pb":x()}],"scroll-pl":[{"scroll-pl":x()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",j]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[P,N,M]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}})},65826:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__addDisposableResource:()=>M,__assign:()=>o,__asyncDelegator:()=>C,__asyncGenerator:()=>A,__asyncValues:()=>w,__await:()=>T,__awaiter:()=>f,__classPrivateFieldGet:()=>P,__classPrivateFieldIn:()=>k,__classPrivateFieldSet:()=>N,__createBinding:()=>g,__decorate:()=>a,__disposeResources:()=>B,__esDecorate:()=>u,__exportStar:()=>y,__extends:()=>i,__generator:()=>m,__importDefault:()=>D,__importStar:()=>I,__makeTemplateObject:()=>O,__metadata:()=>p,__param:()=>l,__propKey:()=>d,__read:()=>b,__rest:()=>s,__rewriteRelativeImportExtension:()=>j,__runInitializers:()=>c,__setFunctionName:()=>h,__spread:()=>E,__spreadArray:()=>_,__spreadArrays:()=>S,__values:()=>v,default:()=>F});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function a(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function l(e,t){return function(r,n){t(r,n,e)}}function u(e,t,r,n,i,o){function s(e){if(void 0!==e&&"function"!=typeof e)throw TypeError("Function expected");return e}for(var a,l=n.kind,u="getter"===l?"get":"setter"===l?"set":"value",c=!t&&e?n.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),h=!1,p=r.length-1;p>=0;p--){var f={};for(var m in n)f[m]="access"===m?{}:n[m];for(var m in n.access)f.access[m]=n.access[m];f.addInitializer=function(e){if(h)throw TypeError("Cannot add initializers after decoration has completed");o.push(s(e||null))};var g=(0,r[p])("accessor"===l?{get:d.get,set:d.set}:d[u],f);if("accessor"===l){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw TypeError("Object expected");(a=s(g.get))&&(d.get=a),(a=s(g.set))&&(d.set=a),(a=s(g.init))&&i.unshift(a)}else(a=s(g))&&("field"===l?i.unshift(a):d[u]=a)}c&&Object.defineProperty(c,n.name,d),h=!0}function c(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function d(e){return"symbol"==typeof e?e:"".concat(e)}function h(e,t,r){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function p(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):i(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})}function m(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return l([e,t])}}function l(a){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var g=Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function y(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||g(t,e,r)}function v(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function E(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}function S(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function _(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function T(e){return this instanceof T?(this.v=e,this):new T(e)}function A(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),n[Symbol.asyncIterator]=function(){return this},n;function s(e){return function(t){return Promise.resolve(t).then(e,d)}}function a(e,t){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||l(e,t)})},t&&(n[e]=t(n[e])))}function l(e,t){try{u(i[e](t))}catch(e){h(o[0][3],e)}}function u(e){e.value instanceof T?Promise.resolve(e.value.v).then(c,d):h(o[0][2],e)}function c(e){l("next",e)}function d(e){l("throw",e)}function h(e,t){e(t),o.shift(),o.length&&l(o[0][0],o[0][1])}}function C(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:T(e[n](t)),done:!1}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=v(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,o){i(n,o,(t=e[r](t)).done,t.value)})}}function i(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}}function O(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var R=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},x=function(e){return(x=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)};function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=x(e),n=0;n<r.length;n++)"default"!==r[n]&&g(t,e,r[n]);return R(t,e),t}function D(e){return e&&e.__esModule?e:{default:e}}function P(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function N(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}function k(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function M(e,t,r){if(null!=t){var n,i;if("object"!=typeof t&&"function"!=typeof t)throw TypeError("Object expected.");if(r){if(!Symbol.asyncDispose)throw TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if("function"!=typeof n)throw TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var L="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function B(e){function t(t){e.error=e.hasError?new L(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&1===n)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(i,function(e){return t(e),i()})}else n|=1}catch(e){t(e)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function j(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,n,i,o){return r?t?".jsx":".js":!n||i&&o?n+i+"."+o.toLowerCase()+"js":e}):e}let F={__extends:i,__assign:o,__rest:s,__decorate:a,__param:l,__esDecorate:u,__runInitializers:c,__propKey:d,__setFunctionName:h,__metadata:p,__awaiter:f,__generator:m,__createBinding:g,__exportStar:y,__values:v,__read:b,__spread:E,__spreadArrays:S,__spreadArray:_,__await:T,__asyncGenerator:A,__asyncDelegator:C,__asyncValues:w,__makeTemplateObject:O,__importStar:I,__importDefault:D,__classPrivateFieldGet:P,__classPrivateFieldSet:N,__classPrivateFieldIn:k,__addDisposableResource:M,__disposeResources:B,__rewriteRelativeImportExtension:j}},92406:(e,t,r)=>{"use strict";function n(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}r.d(t,{T:()=>n})},49194:(e,t,r)=>{"use strict";r.d(t,{RE:()=>A});var n=r(92406),i=r(56764);let o="0x82ad56cb";var s=r(20587),a=r(61885),l=r(28288),u=r(43481),c=r(51863),d=r(25324),h=r(3325),p=r(42068),f=r(39328),m=r(42627),g=r(75247),y=r(43561),v=r(35377);function b(e,{docsPath:t,...r}){let n=(()=>{let t=(0,v.k)(e,r);return t instanceof y.cj?e:t})();return new u.cg(n,{docsPath:t,...r})}var E=r(57663),S=r(23924),_=r(59797),T=r(12127);async function A(e,t){let{account:i=e.account,batch:o=!!e.batch?.multicall,blockNumber:s,blockTag:a="latest",accessList:u,blobs:c,data:d,gas:h,gasPrice:p,maxFeePerBlobGas:f,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:v,to:_,value:A,stateOverride:R,...x}=t,D=i?(0,n.T)(i):void 0;try{(0,T.F)(t);let r=(s?(0,g.eC)(s):void 0)||a,n=I(R),i=e.chain?.formatters?.transactionRequest?.format,b=(i||S.tG)({...(0,E.K)(x,{format:i}),from:D?.address,accessList:u,blobs:c,data:d,gas:h,gasPrice:p,maxFeePerBlobGas:f,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:v,to:_,value:A});if(o&&C({request:b})&&!n)try{return await w(e,{...b,blockNumber:s,blockTag:a})}catch(e){if(!(e instanceof l.pZ)&&!(e instanceof l.mm))throw e}let O=await e.request({method:"eth_call",params:n?[b,r,n]:[b,r]});if("0x"===O)return{data:void 0};return{data:O}}catch(s){let n=O(s),{offchainLookup:i,offchainLookupSignature:o}=await r.e(7480).then(r.bind(r,97480));if(!1!==e.ccipRead&&n?.slice(0,10)===o&&_)return{data:await i(e,{data:n,to:_})};throw b(s,{...t,account:D,chain:e.chain})}}function C({request:e}){let{data:t,to:r,...n}=e;return!(!t||t.startsWith(o))&&!!r&&!(Object.values(n).filter(e=>void 0!==e).length>0)}async function w(e,t){let{batchSize:r=1024,wait:n=0}="object"==typeof e.batch?.multicall?e.batch.multicall:{},{blockNumber:o,blockTag:s="latest",data:a,multicallAddress:c,to:d}=t,f=c;if(!f){if(!e.chain)throw new l.pZ;f=(0,m.L)({blockNumber:o,chain:e.chain,contract:"multicall3"})}let y=(o?(0,g.eC)(o):void 0)||s,{schedule:v}=(0,_.S)({id:`${e.uid}.${y}`,wait:n,shouldSplitBatch:e=>e.reduce((e,{data:t})=>e+(t.length-2),0)>2*r,fn:async t=>{let r=t.map(e=>({allowFailure:!0,callData:e.data,target:e.to})),n=(0,p.R)({abi:i.F8,args:[r],functionName:"aggregate3"}),o=await e.request({method:"eth_call",params:[{data:n,to:f},y]});return(0,h.k)({abi:i.F8,args:[r],functionName:"aggregate3",data:o||"0x"})}}),[{returnData:b,success:E}]=await v({data:a,to:d});if(!E)throw new u.VQ({data:b});return"0x"===b?{data:void 0}:{data:b}}function O(e){if(!(e instanceof a.G))return;let t=e.walk();return"object"==typeof t?.data?t.data?.data:t.data}function R(e){if(e&&0!==e.length)return e.reduce((e,{slot:t,value:r})=>{if(66!==t.length)throw new c.W_({size:t.length,targetSize:66,type:"hex"});if(66!==r.length)throw new c.W_({size:r.length,targetSize:66,type:"hex"});return e[t]=r,e},{})}function x(e){let{balance:t,nonce:r,state:n,stateDiff:i,code:o}=e,s={};if(void 0!==o&&(s.code=o),void 0!==t&&(s.balance=(0,g.eC)(t)),void 0!==r&&(s.nonce=(0,g.eC)(r)),void 0!==n&&(s.state=R(n)),void 0!==i){if(s.state)throw new d.Z8;s.stateDiff=R(i)}return s}function I(e){if(!e)return;let t={};for(let{address:r,...n}of e){if(!(0,f.U)(r,{strict:!1}))throw new s.b({address:r});if(t[r])throw new d.Nc({address:r});t[r]=x(n)}return t}},48089:(e,t,r)=>{"use strict";r.d(t,{y:()=>n});let n=(0,r(2806).a)({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}})},68490:(e,t,r)=>{"use strict";r.d(t,{u:()=>s});var n=r(43274),i=r(2806);let o=1,s=(0,i.a)({...n.i,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...n.i.contracts,l2OutputOracle:{[o]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[o]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[o]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:o})},77872:(e,t,r)=>{"use strict";r.d(t,{R:()=>n});let n=(0,r(2806).a)({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://cloudflare-eth.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}})},82015:(e,t,r)=>{"use strict";r.d(t,{v:()=>s});var n=r(43274),i=r(2806);let o=1,s=(0,i.a)({...n.i,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...n.i.contracts,l2OutputOracle:{[o]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[o]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[o]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:o})},14514:(e,t,r)=>{"use strict";r.d(t,{y:()=>n});let n=(0,r(2806).a)({id:137,name:"Polygon",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}})},56764:(e,t,r)=>{"use strict";r.d(t,{$o:()=>u,F8:()=>n,X$:()=>l,du:()=>s,k3:()=>o,nZ:()=>a});let n=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],i=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],o=[...i,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],s=[...i,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],a=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],l=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],u=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}]},47018:(e,t,r)=>{"use strict";r.d(t,{lc:()=>n});let n=1},78410:(e,t,r)=>{"use strict";r.d(t,{$:()=>n,Up:()=>i,hZ:()=>o});let n={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},i={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},o={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}},87155:(e,t,r)=>{"use strict";r.d(t,{Bd:()=>o,Zn:()=>i,ez:()=>n});let n={gwei:9,wei:18},i={ether:-9,wei:9},o={ether:-18,gwei:-9}},23375:(e,t,r)=>{"use strict";r.d(t,{CI:()=>A,FM:()=>f,Gy:()=>_,KY:()=>E,M4:()=>d,MX:()=>v,S4:()=>b,SM:()=>S,cO:()=>a,dh:()=>T,fM:()=>s,fs:()=>h,gr:()=>c,hn:()=>C,lC:()=>m,mv:()=>g,wM:()=>w,wb:()=>u,xB:()=>l,xL:()=>y,yP:()=>p});var n=r(44812),i=r(76460),o=r(61885);class s extends o.G{constructor({docsPath:e}){super("A constructor was not found on the ABI.\nMake sure you are using the correct ABI and that the constructor exists on it.",{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class a extends o.G{constructor({docsPath:e}){super("Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.\nMake sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists.",{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class l extends o.G{constructor({data:e,params:t,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${(0,n.h)(t,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=r}}class u extends o.G{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class c extends o.G{constructor({expectedLength:e,givenLength:t,type:r}){super(`ABI encoding array length mismatch for type ${r}.
Expected length: ${e}
Given length: ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class d extends o.G{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${(0,i.d)(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class h extends o.G{constructor({expectedLength:e,givenLength:t}){super(`ABI encoding params/values length mismatch.
Expected length (params): ${e}
Given length (values): ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class p extends o.G{constructor(e,{docsPath:t}){super(`Encoded error signature "${e}" not found on ABI.
Make sure you are using the correct ABI and that the error exists on it.
You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`,{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class f extends o.G{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class m extends o.G{constructor(e,{docsPath:t}){super(`Encoded event signature "${e}" not found on ABI.
Make sure you are using the correct ABI and that the event exists on it.
You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`,{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class g extends o.G{constructor(e,{docsPath:t}={}){super(`Event ${e?`"${e}" `:""}not found on ABI.
Make sure you are using the correct ABI and that the event exists on it.`,{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class y extends o.G{constructor(e,{docsPath:t}={}){super(`Function ${e?`"${e}" `:""}not found on ABI.
Make sure you are using the correct ABI and that the function exists on it.`,{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class v extends o.G{constructor(e,{docsPath:t}){super(`Function "${e}" does not contain any \`outputs\` on ABI.
Cannot decode function result without knowing what the parameter types are.
Make sure you are using the correct ABI and that the function exists on it.`,{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class b extends o.G{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${(0,n.t)(e.abiItem)}\`, and`,`\`${t.type}\` in \`${(0,n.t)(t.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class E extends o.G{constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class S extends o.G{constructor({abiItem:e,data:t,params:r,size:i}){super(`Data size of ${i} bytes is too small for non-indexed event parameters.`,{metaMessages:[`Params: (${(0,n.h)(r,{includeName:!0})})`,`Data:   ${t} (${i} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=t,this.params=r,this.size=i}}class _ extends o.G{constructor({abiItem:e,param:t}){super(`Expected a topic for indexed event parameter${t.name?` "${t.name}"`:""} on event "${(0,n.t)(e,{includeName:!0})}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class T extends o.G{constructor(e,{docsPath:t}){super(`Type "${e}" is not a valid encoding type.
Please provide a valid ABI type.`,{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class A extends o.G{constructor(e,{docsPath:t}){super(`Type "${e}" is not a valid decoding type.
Please provide a valid ABI type.`,{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class C extends o.G{constructor(e){super(`Value "${e}" is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class w extends o.G{constructor(e){super(`"${e}" is not a valid definition type.
Valid types: "function", "event", "error"`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}},20587:(e,t,r)=>{"use strict";r.d(t,{b:()=>i});var n=r(61885);class i extends n.G{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}},61885:(e,t,r)=>{"use strict";r.d(t,{G:()=>i});var n=r(83121);class i extends Error{constructor(e,t={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:(0,n.bo)()});let r=t.cause instanceof i?t.cause.details:t.cause?.message?t.cause.message:t.details,o=t.cause instanceof i&&t.cause.docsPath||t.docsPath;this.message=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...o?[`Docs: https://viem.sh${o}${t.docsSlug?`#${t.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join("\n"),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=o,this.metaMessages=t.metaMessages,this.shortMessage=e}walk(e){return o(this,e)}}function o(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e?o(e.cause,t):t?null:e}},37316:(e,t,r)=>{"use strict";r.d(t,{RX:()=>s,cJ:()=>l,m7:()=>o,xd:()=>a});var n=r(47018),i=r(61885);class o extends i.G{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlobSizeTooLargeError"})}}class s extends i.G{constructor(){super("Blob data must not be empty."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EmptyBlobError"})}}class a extends i.G{constructor({hash:e,size:t}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidVersionedHashSizeError"})}}class l extends i.G{constructor({hash:e,version:t}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${n.lc}`,`Received: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidVersionedHashVersionError"})}}},28288:(e,t,r)=>{"use strict";r.d(t,{hJ:()=>s,mm:()=>i,pZ:()=>o});var n=r(61885);class i extends n.G{constructor({blockNumber:e,chain:t,contract:r}){super(`Chain "${t.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class o extends n.G{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}class s extends n.G{constructor({chainId:e}){super("number"==typeof e?`Chain ID "${e}" is invalid.`:"Chain ID is invalid."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}},43481:(e,t,r)=>{"use strict";r.d(t,{cg:()=>y,uq:()=>v,Lu:()=>b,Dk:()=>E,VQ:()=>S});var n=r(92406),i=r(78410),o=r(97265),s=r(44812),a=r(96838);function l({abiItem:e,args:t,includeFunctionName:r=!0,includeName:n=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${r?e.name:""}(${e.inputs.map((e,r)=>`${n&&e.name?`${e.name}: `:""}${"object"==typeof t[r]?(0,a.P)(t[r]):t[r]}`).join(", ")})`}var u=r(33832),c=r(86889),d=r(35301),h=r(23375),p=r(61885),f=r(25324),m=r(22412),g=r(83121);class y extends p.G{constructor(e,{account:t,docsPath:r,chain:i,data:o,gas:s,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:h,to:p,value:g,stateOverride:y}){let v=t?(0,n.T)(t):void 0,b=(0,m.xr)({from:v?.address,to:p,value:void 0!==g&&`${(0,c.d)(g)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:s,gasPrice:void 0!==a&&`${(0,d.o)(a)} gwei`,maxFeePerGas:void 0!==l&&`${(0,d.o)(l)} gwei`,maxPriorityFeePerGas:void 0!==u&&`${(0,d.o)(u)} gwei`,nonce:h});y&&(b+=`
${(0,f.Bj)(y)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",b].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=e}}class v extends p.G{constructor(e,{abi:t,args:r,contractAddress:n,docsPath:i,functionName:o,sender:a}){let c=(0,u.mE)({abi:t,args:r,name:o}),d=c?l({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0;super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Contract Call:",(0,m.xr)({address:n&&(0,g.CR)(n),function:c?(0,s.t)(c,{includeName:!0}):void 0,args:d&&"()"!==d&&`${[...Array(o?.length??0).keys()].map(()=>" ").join("")}${d}`,sender:a})].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=t,this.args=r,this.cause=e,this.contractAddress=n,this.functionName=o,this.sender=a}}class b extends p.G{constructor({abi:e,data:t,functionName:r,message:n}){let a,u,c,d,p;if(t&&"0x"!==t)try{let{abiItem:r,errorName:n,args:a}=p=(0,o.p)({abi:e,data:t});if("Error"===n)c=a[0];else if("Panic"===n){let[e]=a;c=i.$[e]}else{let e=r?(0,s.t)(r,{includeName:!0}):void 0,t=r&&a?l({abiItem:r,args:a,includeFunctionName:!1,includeName:!1}):void 0;u=[e?`Error: ${e}`:"",t&&"()"!==t?`       ${[...Array(n?.length??0).keys()].map(()=>" ").join("")}${t}`:""]}}catch(e){a=e}else n&&(c=n);a instanceof h.yP&&(d=a.signature,u=[`Unable to decode signature "${d}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${d}.`]),super(c&&"execution reverted"!==c||d?[`The contract function "${r}" reverted with the following ${d?"signature":"reason"}:`,c||d].join("\n"):`The contract function "${r}" reverted.`,{cause:a,metaMessages:u}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=p,this.reason=c,this.signature=d}}class E extends p.G{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class S extends p.G{constructor({data:e,message:t}){super(t||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}},22418:(e,t,r)=>{"use strict";r.d(t,{KD:()=>s,T_:()=>i,lQ:()=>o});var n=r(61885);class i extends n.G{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class o extends n.G{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}class s extends n.G{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecursiveReadLimitExceededError"})}}},51863:(e,t,r)=>{"use strict";r.d(t,{$s:()=>o,W_:()=>s,mV:()=>i});var n=r(61885);class i extends n.G{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class o extends n.G{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}class s extends n.G{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${t} ${r} long, but is ${e} ${r} long.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesLengthError"})}}},32764:(e,t,r)=>{"use strict";r.d(t,{J5:()=>i,M6:()=>s,yr:()=>o});var n=r(61885);class i extends n.G{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number "${i}" is not in safe ${n?`${8*n}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class o extends n.G{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidBytesBooleanError"})}}class s extends n.G{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}},43561:(e,t,r)=>{"use strict";r.d(t,{C_:()=>d,G$:()=>a,Hh:()=>s,M_:()=>o,WF:()=>h,ZI:()=>l,cj:()=>g,cs:()=>m,dR:()=>p,pZ:()=>f,se:()=>c,vU:()=>u});var n=r(35301),i=r(61885);class o extends i.G{constructor({cause:e,message:t}={}){let r=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(o,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(o,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class s extends i.G{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,n.o)(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(s,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class a extends i.G{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,n.o)(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class l extends i.G{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class u extends i.G{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.
Try increasing the nonce or find the latest nonce with \`getTransactionCount\`.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(u,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class c extends i.G{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class d extends i.G{constructor({cause:e}={}){super("The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account.",{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class h extends i.G{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(h,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class p extends i.G{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(p,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class f extends i.G{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(f,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class m extends i.G{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:r}={}){super(`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${(0,n.o)(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${(0,n.o)(r)} gwei`:""}).`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(m,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class g extends i.G{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}},2090:(e,t,r)=>{"use strict";r.d(t,{Gg:()=>s,W5:()=>l,bs:()=>a});var n=r(96838),i=r(61885),o=r(83121);class s extends i.G{constructor({body:e,details:t,headers:r,status:i,url:s}){super("HTTP request failed.",{details:t,metaMessages:[i&&`Status: ${i}`,`URL: ${(0,o.Gr)(s)}`,e&&`Request body: ${(0,n.P)(e)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=r,this.status=i,this.url=s}}class a extends i.G{constructor({body:e,error:t,url:r}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${(0,o.Gr)(r)}`,`Request body: ${(0,n.P)(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code}}class l extends i.G{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${(0,o.Gr)(t)}`,`Request body: ${(0,n.P)(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}},75275:(e,t,r)=>{"use strict";r.d(t,{B:()=>u,GD:()=>b,I0:()=>A,KB:()=>g,LX:()=>c,Og:()=>f,PE:()=>S,Pv:()=>v,Ts:()=>_,XS:()=>h,ab:()=>E,gS:()=>y,ir:()=>w,nY:()=>d,pT:()=>m,s7:()=>l,u5:()=>T,x3:()=>C,yR:()=>p});var n=r(61885),i=r(2090);let o=-1;class s extends n.G{constructor(e,{code:t,docsPath:r,metaMessages:n,shortMessage:s}){super(s,{cause:e,docsPath:r,metaMessages:n||e?.metaMessages}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.code=e instanceof i.bs?e.code:t??o}}class a extends s{constructor(e,t){super(e,t),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class l extends s{constructor(e){super(e,{code:l.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(l,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class u extends s{constructor(e){super(e,{code:u.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(u,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class c extends s{constructor(e){super(e,{code:c.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(c,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class d extends s{constructor(e){super(e,{code:d.code,shortMessage:"Invalid parameters were provided to the RPC method.\nDouble check you have provided the correct parameters."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(d,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class h extends s{constructor(e){super(e,{code:h.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class p extends s{constructor(e){super(e,{code:p.code,shortMessage:"Missing or invalid parameters.\nDouble check you have provided the correct parameters."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class f extends s{constructor(e){super(e,{code:f.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(f,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class m extends s{constructor(e){super(e,{code:m.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(m,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class g extends s{constructor(e){super(e,{code:g.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(g,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class y extends s{constructor(e){super(e,{code:y.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class v extends s{constructor(e){super(e,{code:v.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(v,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class b extends s{constructor(e){super(e,{code:b.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(b,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class E extends a{constructor(e){super(e,{code:E.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(E,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class S extends a{constructor(e){super(e,{code:S.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(S,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class _ extends a{constructor(e){super(e,{code:_.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(_,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class T extends a{constructor(e){super(e,{code:T.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(T,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class A extends a{constructor(e){super(e,{code:A.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(A,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class C extends a{constructor(e){super(e,{code:C.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(C,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class w extends s{constructor(e){super(e,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}},25324:(e,t,r)=>{"use strict";r.d(t,{Bj:()=>a,Nc:()=>i,Z8:()=>o});var n=r(61885);class i extends n.G{constructor({address:e}){super(`State for account "${e}" is set multiple times.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountStateConflictError"})}}class o extends n.G{constructor(){super("state and stateDiff are set on the same account."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"StateAssignmentConflictError"})}}function s(e){return e.reduce((e,{slot:t,value:r})=>`${e}        ${t}: ${r}
`,"")}function a(e){return e.reduce((e,{address:t,...r})=>{let n=`${e}    ${t}:
`;return r.nonce&&(n+=`      nonce: ${r.nonce}
`),r.balance&&(n+=`      balance: ${r.balance}
`),r.code&&(n+=`      code: ${r.code}
`),r.state&&(n+="      state:\n"+s(r.state)),r.stateDiff&&(n+="      stateDiff:\n"+s(r.stateDiff)),n},"  State Override:\n").slice(0,-1)}},22412:(e,t,r)=>{"use strict";r.d(t,{Bh:()=>u,JC:()=>l,Yb:()=>c,j3:()=>a,mc:()=>d,vl:()=>s,xY:()=>o,xr:()=>i}),r(86889),r(35301);var n=r(61885);function i(e){let t=Object.entries(e).map(([e,t])=>void 0===t||!1===t?null:[e,t]).filter(Boolean),r=t.reduce((e,[t])=>Math.max(e,t.length),0);return t.map(([e,t])=>`  ${`${e}:`.padEnd(r+1)}  ${t}`).join("\n")}class o extends n.G{constructor(){super("Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.\nUse `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class s extends n.G{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class a extends n.G{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",i(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class l extends n.G{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}class u extends n.G{constructor({blockHash:e,blockNumber:t,blockTag:r,hash:n,index:i}){let o="Transaction";r&&void 0!==i&&(o=`Transaction at block time "${r}" at index "${i}"`),e&&void 0!==i&&(o=`Transaction at block hash "${e}" at index "${i}"`),t&&void 0!==i&&(o=`Transaction at block number "${t}" at index "${i}"`),n&&(o=`Transaction with hash "${n}"`),super(`${o} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class c extends n.G{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class d extends n.G{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}},83121:(e,t,r)=>{"use strict";r.d(t,{CR:()=>i,Gr:()=>o,bo:()=>s});let n="2.9.23",i=e=>e,o=e=>e,s=()=>`viem@${n}`},43274:(e,t,r)=>{"use strict";r.d(t,{i:()=>K});let n={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}};var i=r(65217),o=r(3383),s=r(20036),a=r(60158);let l={block:(0,o.G)({format:e=>({transactions:e.transactions?.map(e=>{if("string"==typeof e)return e;let t=s.Tr(e);return"0x7e"===t.typeHex&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?i.y_(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}),stateRoot:e.stateRoot})}),transaction:(0,s.y_)({format(e){let t={};return"0x7e"===e.type&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?(0,i.y_)(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:(0,a.dI)({format:e=>({l1GasPrice:e.l1GasPrice?(0,i.y_)(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?(0,i.y_)(e.l1GasUsed):null,l1Fee:e.l1Fee?(0,i.y_)(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null})})};var u=r(20587),c=r(39328),d=r(59075),h=r(75247),p=r(61885),f=r(27233),m=r(84808);function g(e,t="hex"){let r=y(e),n=(0,f.q)(new Uint8Array(r.length));return(r.encode(n),"hex"===t)?(0,h.ci)(n.bytes):n.bytes}function y(e){return Array.isArray(e)?v(e.map(e=>y(e))):b(e)}function v(e){let t=e.reduce((e,t)=>e+t.length,0),r=E(t);return{length:t<=55?1+t:1+r+t,encode(n){for(let{encode:i}of(t<=55?n.pushByte(192+t):(n.pushByte(247+r),1===r?n.pushUint8(t):2===r?n.pushUint16(t):3===r?n.pushUint24(t):n.pushUint32(t)),e))i(n)}}}function b(e){let t="string"==typeof e?(0,m.nr)(e):e,r=E(t.length);return{length:1===t.length&&t[0]<128?1:t.length<=55?1+t.length:1+r+t.length,encode(e){1===t.length&&t[0]<128||(t.length<=55?e.pushByte(128+t.length):(e.pushByte(183+r),1===r?e.pushUint8(t.length):2===r?e.pushUint16(t.length):3===r?e.pushUint24(t.length):e.pushUint32(t.length))),e.pushBytes(t)}}}function E(e){if(e<256)return 1;if(e<65536)return 2;if(e<16777216)return 3;if(e<4294967296)return 4;throw new p.G("Length is too large.")}var S=r(22412),_=r(19823),T=r(51956),A=r(15117),C=r(78718),w=r(69947),O=r(47018),R=r(37316),x=r(28288),I=r(43561),D=r(76460),P=r(99766);function N(e){let{blobVersionedHashes:t}=e;if(t){if(0===t.length)throw new R.RX;for(let e of t){let t=(0,D.d)(e),r=(0,i.ly)((0,P.tP)(e,0,1));if(32!==t)throw new R.xd({hash:e,size:t});if(r!==O.lc)throw new R.cJ({hash:e,version:r})}}k(e)}function k(e){let{chainId:t,maxPriorityFeePerGas:r,maxFeePerGas:n,to:i}=e;if(t<=0)throw new x.hJ({chainId:t});if(i&&!(0,c.U)(i))throw new u.b({address:i});if(n&&n>2n**256n-1n)throw new I.Hh({maxFeePerGas:n});if(r&&n&&r>n)throw new I.cs({maxFeePerGas:n,maxPriorityFeePerGas:r})}function M(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:o}=e;if(t<=0)throw new x.hJ({chainId:t});if(o&&!(0,c.U)(o))throw new u.b({address:o});if(r||i)throw new p.G("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>2n**256n-1n)throw new I.Hh({maxFeePerGas:n})}function L(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:o,accessList:s}=e;if(o&&!(0,c.U)(o))throw new u.b({address:o});if(void 0!==t&&t<=0)throw new x.hJ({chainId:t});if(r||i)throw new p.G("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>2n**256n-1n)throw new I.Hh({maxFeePerGas:n});if(s)throw new p.G("`accessList` is not a valid Legacy Transaction attribute.")}var B=r(52202);function j(e){if(!e||0===e.length)return[];let t=[];for(let r=0;r<e.length;r++){let{address:n,storageKeys:i}=e[r];for(let e=0;e<i.length;e++)if(i[e].length-2!=64)throw new S.JC({storageKey:i[e]});if(!(0,c.U)(n,{strict:!1}))throw new u.b({address:n});t.push([n,i])}return t}function F(e,t){let r=(0,B.l)(e);return"eip1559"===r?V(e,t):"eip2930"===r?z(e,t):"eip4844"===r?U(e,t):G(e,t)}function U(e,t){let{chainId:r,gas:n,nonce:i,to:o,value:s,maxFeePerBlobGas:a,maxFeePerGas:l,maxPriorityFeePerGas:u,accessList:c,data:p}=e;N(e);let f=e.blobVersionedHashes,m=e.sidecars;if(e.blobs&&(void 0===f||void 0===m)){let t="string"==typeof e.blobs[0]?e.blobs:e.blobs.map(e=>(0,h.ci)(e)),r=e.kzg,n=(0,_.P)({blobs:t,kzg:r});if(void 0===f&&(f=(0,A.C)({commitments:n})),void 0===m){let e=(0,T.y)({blobs:t,commitments:n,kzg:r});m=(0,C.j)({blobs:t,commitments:n,proofs:e})}}let y=j(c),v=[(0,h.NC)(r),i?(0,h.NC)(i):"0x",u?(0,h.NC)(u):"0x",l?(0,h.NC)(l):"0x",n?(0,h.NC)(n):"0x",o??"0x",s?(0,h.NC)(s):"0x",p??"0x",y,a?(0,h.NC)(a):"0x",f??[],...$(e,t)],b=[],E=[],S=[];if(m)for(let e=0;e<m.length;e++){let{blob:t,commitment:r,proof:n}=m[e];b.push(t),E.push(r),S.push(n)}return(0,d.SM)(["0x03",m?g([v,b,E,S]):g(v)])}function V(e,t){let{chainId:r,gas:n,nonce:i,to:o,value:s,maxFeePerGas:a,maxPriorityFeePerGas:l,accessList:u,data:c}=e;k(e);let p=j(u),f=[(0,h.NC)(r),i?(0,h.NC)(i):"0x",l?(0,h.NC)(l):"0x",a?(0,h.NC)(a):"0x",n?(0,h.NC)(n):"0x",o??"0x",s?(0,h.NC)(s):"0x",c??"0x",p,...$(e,t)];return(0,d.SM)(["0x02",g(f)])}function z(e,t){let{chainId:r,gas:n,data:i,nonce:o,to:s,value:a,accessList:l,gasPrice:u}=e;M(e);let c=j(l),p=[(0,h.NC)(r),o?(0,h.NC)(o):"0x",u?(0,h.NC)(u):"0x",n?(0,h.NC)(n):"0x",s??"0x",a?(0,h.NC)(a):"0x",i??"0x",c,...$(e,t)];return(0,d.SM)(["0x01",g(p)])}function G(e,t){let{chainId:r=0,gas:n,data:i,nonce:o,to:s,value:a,gasPrice:l}=e;L(e);let u=[o?(0,h.NC)(o):"0x",l?(0,h.NC)(l):"0x",n?(0,h.NC)(n):"0x",s??"0x",a?(0,h.NC)(a):"0x",i??"0x"];if(t){let e=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(35n===t.v?0n:1n);if(r>0)return BigInt(2*r)+BigInt(35n+t.v-27n);let e=27n+(27n===t.v?0n:1n);if(t.v!==e)throw new S.vl({v:t.v});return e})();u=[...u,(0,h.NC)(e),t.r,t.s]}else r>0&&(u=[...u,(0,h.NC)(r),"0x","0x"]);return g(u)}function $(e,t){let{r,s:n,v:i,yParity:o}=t??e;return void 0===r||void 0===n||void 0===i&&void 0===o?[]:["number"==typeof o?o?(0,h.NC)(1):"0x":0n===i?"0x":1n===i?(0,h.NC)(1):27n===i?"0x":(0,h.NC)(1),(0,w.f)(r),(0,w.f)(n)]}function H(e){W(e);let{sourceHash:t,data:r,from:n,gas:i,isSystemTx:o,mint:s,to:a,value:l}=e,u=[t,n,a??"0x",s?(0,h.NC)(s):"0x",l?(0,h.NC)(l):"0x",i?(0,h.NC)(i):"0x",o?"0x1":"0x",r??"0x"];return(0,d.SM)(["0x7e",g(u)])}function q(e){return"deposit"===e.type||void 0!==e.sourceHash}function W(e){let{from:t,to:r}=e;if(t&&!(0,c.U)(t))throw new u.b({address:t});if(r&&!(0,c.U)(r))throw new u.b({address:r})}let K={contracts:n,formatters:l,serializers:{transaction:function(e,t){return q(e)?H(e):F(e,t)}}}},81646:(e,t,r)=>{"use strict";r.d(t,{r:()=>v});var n=r(23375),i=r(48489),o=r(27233),s=r(76460),a=r(99766),l=r(69947),u=r(32764),c=r(65217),d=r(75247);function h(e,t={}){void 0!==t.size&&(0,c.Yf)(e,{size:t.size});let r=(0,d.ci)(e,t);return(0,c.y_)(r,t)}function p(e,t={}){let r=e;if(void 0!==t.size&&((0,c.Yf)(r,{size:t.size}),r=(0,l.f)(r)),r.length>1||r[0]>1)throw new u.yr(r);return!!r[0]}function f(e,t={}){void 0!==t.size&&(0,c.Yf)(e,{size:t.size});let r=(0,d.ci)(e,t);return(0,c.ly)(r,t)}function m(e,t={}){let r=e;return void 0!==t.size&&((0,c.Yf)(r,{size:t.size}),r=(0,l.f)(r,{dir:"right"})),new TextDecoder().decode(r)}var g=r(84808),y=r(73601);function v(e,t){let r="string"==typeof t?(0,g.nr)(t):t,i=(0,o.q)(r);if(0===(0,s.d)(r)&&e.length>0)throw new n.wb;if((0,s.d)(t)&&32>(0,s.d)(t))throw new n.xB({data:"string"==typeof t?t:(0,d.ci)(t),params:e,size:(0,s.d)(t)});let a=0,l=[];for(let t=0;t<e.length;++t){let r=e[t];i.setPosition(a);let[n,o]=b(i,r,{staticPosition:0});a+=o,l.push(n)}return l}function b(e,t,{staticPosition:r}){let i=(0,y.S)(t.type);if(i){let[n,o]=i;return T(e,{...t,type:o},{length:n,staticPosition:r})}if("tuple"===t.type)return O(e,t,{staticPosition:r});if("address"===t.type)return _(e);if("bool"===t.type)return A(e);if(t.type.startsWith("bytes"))return C(e,t,{staticPosition:r});if(t.type.startsWith("uint")||t.type.startsWith("int"))return w(e,t);if("string"===t.type)return R(e,{staticPosition:r});throw new n.CI(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}let E=32,S=32;function _(e){let t=e.readBytes(32);return[(0,i.x)((0,d.ci)((0,a.T4)(t,-20))),32]}function T(e,t,{length:r,staticPosition:n}){if(!r){let r=n+f(e.readBytes(S)),i=r+E;e.setPosition(r);let o=f(e.readBytes(E)),s=x(t),a=0,l=[];for(let r=0;r<o;++r){e.setPosition(i+(s?32*r:a));let[n,o]=b(e,t,{staticPosition:i});a+=o,l.push(n)}return e.setPosition(n+32),[l,32]}if(x(t)){let i=n+f(e.readBytes(S)),o=[];for(let n=0;n<r;++n){e.setPosition(i+32*n);let[r]=b(e,t,{staticPosition:i});o.push(r)}return e.setPosition(n+32),[o,32]}let i=0,o=[];for(let s=0;s<r;++s){let[r,s]=b(e,t,{staticPosition:n+i});i+=s,o.push(r)}return[o,i]}function A(e){return[p(e.readBytes(32),{size:32}),32]}function C(e,t,{staticPosition:r}){let[n,i]=t.type.split("bytes");if(!i){let t=f(e.readBytes(32));e.setPosition(r+t);let n=f(e.readBytes(32));if(0===n)return e.setPosition(r+32),["0x",32];let i=e.readBytes(n);return e.setPosition(r+32),[(0,d.ci)(i),32]}return[(0,d.ci)(e.readBytes(parseInt(i),32)),32]}function w(e,t){let r=t.type.startsWith("int"),n=parseInt(t.type.split("int")[1]||"256"),i=e.readBytes(32);return[n>48?h(i,{signed:r}):f(i,{signed:r}),32]}function O(e,t,{staticPosition:r}){let n=0===t.components.length||t.components.some(({name:e})=>!e),i=n?[]:{},o=0;if(x(t)){let s=r+f(e.readBytes(S));for(let r=0;r<t.components.length;++r){let a=t.components[r];e.setPosition(s+o);let[l,u]=b(e,a,{staticPosition:s});o+=u,i[n?r:a?.name]=l}return e.setPosition(r+32),[i,32]}for(let s=0;s<t.components.length;++s){let a=t.components[s],[l,u]=b(e,a,{staticPosition:r});i[n?s:a?.name]=l,o+=u}return[i,o]}function R(e,{staticPosition:t}){let r=t+f(e.readBytes(32));e.setPosition(r);let n=f(e.readBytes(32));if(0===n)return e.setPosition(t+32),["",32];let i=e.readBytes(n,32),o=m((0,l.f)(i));return e.setPosition(t+32),[o,32]}function x(e){let{type:t}=e;if("string"===t||"bytes"===t||t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(x);let r=(0,y.S)(e.type);return!!(r&&x({...e,type:r[1]}))}},97265:(e,t,r)=>{"use strict";r.d(t,{p:()=>u});var n=r(78410),i=r(23375),o=r(99766),s=r(44494),a=r(81646),l=r(44812);function u(e){let{abi:t,data:r}=e,u=(0,o.tP)(r,0,4);if("0x"===u)throw new i.wb;let c=[...t||[],n.Up,n.hZ].find(e=>"error"===e.type&&u===(0,s.C)((0,l.t)(e)));if(!c)throw new i.yP(u,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:c,args:"inputs"in c&&c.inputs&&c.inputs.length>0?(0,a.r)(c.inputs,(0,o.tP)(r,4)):void 0,errorName:c.name}}},3325:(e,t,r)=>{"use strict";r.d(t,{k:()=>a});var n=r(23375),i=r(81646),o=r(33832);let s="/docs/contract/decodeFunctionResult";function a(e){let{abi:t,args:r,functionName:a,data:l}=e,u=t[0];if(a){let e=(0,o.mE)({abi:t,args:r,name:a});if(!e)throw new n.xL(a,{docsPath:s});u=e}if("function"!==u.type)throw new n.xL(void 0,{docsPath:s});if(!u.outputs)throw new n.MX(u.name,{docsPath:s});let c=(0,i.r)(u.outputs,l);return c&&c.length>1?c:c&&1===c.length?c[0]:void 0}},73601:(e,t,r)=>{"use strict";r.d(t,{E:()=>h,S:()=>T});var n=r(23375),i=r(20587),o=r(61885),s=r(39328),a=r(59075),l=r(69313),u=r(76460),c=r(99766),d=r(75247);function h(e,t){if(e.length!==t.length)throw new n.fs({expectedLength:e.length,givenLength:t.length});let r=m(p({params:e,values:t}));return 0===r.length?"0x":r}function p({params:e,values:t}){let r=[];for(let n=0;n<e.length;n++)r.push(f({param:e[n],value:t[n]}));return r}function f({param:e,value:t}){let r=T(e.type);if(r){let[n,i]=r;return y(t,{length:n,param:{...e,type:i}})}if("tuple"===e.type)return _(t,{param:e});if("address"===e.type)return g(t);if("bool"===e.type)return b(t);if(e.type.startsWith("uint")||e.type.startsWith("int"))return E(t,{signed:e.type.startsWith("int")});if(e.type.startsWith("bytes"))return v(t,{param:e});if("string"===e.type)return S(t);throw new n.dh(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function m(e){let t=0;for(let r=0;r<e.length;r++){let{dynamic:n,encoded:i}=e[r];n?t+=32:t+=(0,u.d)(i)}let r=[],n=[],i=0;for(let o=0;o<e.length;o++){let{dynamic:s,encoded:a}=e[o];s?(r.push((0,d.eC)(t+i,{size:32})),n.push(a),i+=(0,u.d)(a)):r.push(a)}return(0,a.zo)([...r,...n])}function g(e){if(!(0,s.U)(e))throw new i.b({address:e});return{dynamic:!1,encoded:(0,l.gc)(e.toLowerCase())}}function y(e,{length:t,param:r}){let i=null===t;if(!Array.isArray(e))throw new n.hn(e);if(!i&&e.length!==t)throw new n.gr({expectedLength:t,givenLength:e.length,type:`${r.type}[${t}]`});let o=!1,s=[];for(let t=0;t<e.length;t++){let n=f({param:r,value:e[t]});n.dynamic&&(o=!0),s.push(n)}if(i||o){let e=m(s);if(i){let t=(0,d.eC)(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?(0,a.zo)([t,e]):t}}if(o)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:(0,a.zo)(s.map(({encoded:e})=>e))}}function v(e,{param:t}){let[,r]=t.type.split("bytes"),i=(0,u.d)(e);if(!r){let t=e;return i%32!=0&&(t=(0,l.gc)(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:(0,a.zo)([(0,l.gc)((0,d.eC)(i,{size:32})),t])}}if(i!==parseInt(r))throw new n.M4({expectedSize:parseInt(r),value:e});return{dynamic:!1,encoded:(0,l.gc)(e,{dir:"right"})}}function b(e){if("boolean"!=typeof e)throw new o.G(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:(0,l.gc)((0,d.C4)(e))}}function E(e,{signed:t}){return{dynamic:!1,encoded:(0,d.eC)(e,{size:32,signed:t})}}function S(e){let t=(0,d.$G)(e),r=Math.ceil((0,u.d)(t)/32),n=[];for(let e=0;e<r;e++)n.push((0,l.gc)((0,c.tP)(t,32*e,(e+1)*32),{dir:"right"}));return{dynamic:!0,encoded:(0,a.zo)([(0,l.gc)((0,d.eC)((0,u.d)(t),{size:32})),...n])}}function _(e,{param:t}){let r=!1,n=[];for(let i=0;i<t.components.length;i++){let o=t.components[i],s=Array.isArray(e)?i:o.name,a=f({param:o,value:e[s]});n.push(a),a.dynamic&&(r=!0)}return{dynamic:r,encoded:r?m(n):(0,a.zo)(n.map(({encoded:e})=>e))}}function T(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}},42068:(e,t,r)=>{"use strict";r.d(t,{R:()=>d});var n=r(59075),i=r(73601),o=r(23375),s=r(44494),a=r(44812),l=r(33832);let u="/docs/contract/encodeFunctionData";function c(e){let{abi:t,args:r,functionName:n}=e,i=t[0];if(n){let e=(0,l.mE)({abi:t,args:r,name:n});if(!e)throw new o.xL(n,{docsPath:u});i=e}if("function"!==i.type)throw new o.xL(void 0,{docsPath:u});return{abi:[i],functionName:(0,s.C)((0,a.t)(i))}}function d(e){let{args:t}=e,{abi:r,functionName:o}=1===e.abi.length&&e.functionName?.startsWith("0x")?e:c(e),s=r[0],a=o,l="inputs"in s&&s.inputs?(0,i.E)(s.inputs,t??[]):void 0;return(0,n.SM)([a,l??"0x"])}},44812:(e,t,r)=>{"use strict";r.d(t,{h:()=>o,t:()=>i});var n=r(23375);function i(e,{includeName:t=!1}={}){if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new n.wM(e.type);return`${e.name}(${o(e.inputs,{includeName:t})})`}function o(e,{includeName:t=!1}={}){return e?e.map(e=>s(e,{includeName:t})).join(t?", ":","):""}function s(e,{includeName:t}){return e.type.startsWith("tuple")?`(${o(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}},33832:(e,t,r)=>{"use strict";r.d(t,{mE:()=>l});var n=r(23375),i=r(78238),o=r(39328),s=r(44749),a=r(44494);function l(e){let t;let{abi:r,args:o=[],name:l}=e,d=(0,i.v)(l,{strict:!1}),h=r.filter(e=>d?"function"===e.type?(0,a.C)(e)===l:"event"===e.type&&(0,s.n)(e)===l:"name"in e&&e.name===l);if(0!==h.length){if(1===h.length)return h[0];for(let e of h)if("inputs"in e){if(!o||0===o.length){if(!e.inputs||0===e.inputs.length)return e;continue}if(e.inputs&&0!==e.inputs.length&&e.inputs.length===o.length&&o.every((t,r)=>{let n="inputs"in e&&e.inputs[r];return!!n&&u(t,n)})){if(t&&"inputs"in t&&t.inputs){let r=c(e.inputs,t.inputs,o);if(r)throw new n.S4({abiItem:e,type:r[0]},{abiItem:t,type:r[1]})}t=e}}return t||h[0]}}function u(e,t){let r=typeof e,n=t.type;switch(n){case"address":return(0,o.U)(e,{strict:!1});case"bool":return"boolean"===r;case"function":case"string":return"string"===r;default:if("tuple"===n&&"components"in t)return Object.values(t.components).every((t,r)=>u(Object.values(e)[r],t));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n))return"number"===r||"bigint"===r;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n))return"string"===r||e instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n))return Array.isArray(e)&&e.every(e=>u(e,{...t,type:n.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}function c(e,t,r){for(let n in e){let i=e[n],s=t[n];if("tuple"===i.type&&"tuple"===s.type&&"components"in i&&"components"in s)return c(i.components,s.components,r[n]);let a=[i.type,s.type];if(a.includes("address")&&a.includes("bytes20")||(a.includes("address")&&a.includes("string")||a.includes("address")&&a.includes("bytes"))&&(0,o.U)(r[n],{strict:!1}))return a}}},48489:(e,t,r)=>{"use strict";r.d(t,{K:()=>l,x:()=>a});var n=r(20587),i=r(84808),o=r(60475),s=r(39328);function a(e,t){let r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),n=(0,o.w)((0,i.qX)(r),"bytes"),s=(t?r.substring(`${t}0x`.length):r).split("");for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&s[e]&&(s[e]=s[e].toUpperCase()),(15&n[e>>1])>=8&&s[e+1]&&(s[e+1]=s[e+1].toUpperCase());return`0x${s.join("")}`}function l(e,t){if(!(0,s.U)(e,{strict:!1}))throw new n.b({address:e});return a(e,t)}},39328:(e,t,r)=>{"use strict";r.d(t,{U:()=>a});class n extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}set(e,t){return super.set(e,t),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}var i=r(48489);let o=/^0x[a-fA-F0-9]{40}$/,s=new n(8192);function a(e,t){let{strict:r=!0}=t??{};if(s.has(e))return s.get(e);let n=!!o.test(e)&&(e.toLowerCase()===e||!r||(0,i.x)(e)===e);return s.set(e,n),n}},19823:(e,t,r)=>{"use strict";r.d(t,{P:()=>o});var n=r(84808),i=r(75247);function o(e){let{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),o="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,n.nr)(e)):e.blobs,s=[];for(let e of o)s.push(Uint8Array.from(t.blobToKzgCommitment(e)));return"bytes"===r?s:s.map(e=>(0,i.ci)(e))}},51956:(e,t,r)=>{"use strict";r.d(t,{y:()=>o});var n=r(84808),i=r(75247);function o(e){let{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),o="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,n.nr)(e)):e.blobs,s="string"==typeof e.commitments[0]?e.commitments.map(e=>(0,n.nr)(e)):e.commitments,a=[];for(let e=0;e<o.length;e++){let r=o[e],n=s[e];a.push(Uint8Array.from(t.computeBlobKzgProof(r,n)))}return"bytes"===r?a:a.map(e=>(0,i.ci)(e))}},15117:(e,t,r)=>{"use strict";r.d(t,{C:()=>b});var n=r(75247),i=r(60030),o=r(98177);function s(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),l=n?4:0,u=n?0:4;e.setUint32(t+l,s,n),e.setUint32(t+u,a,n)}class a extends o.kb{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,o.GL)(this.buffer)}update(e){(0,i.Gg)(this);let{view:t,buffer:r,blockLen:n}=this,s=(e=(0,o.O0)(e)).length;for(let i=0;i<s;){let a=Math.min(n-this.pos,s-i);if(a===n){let t=(0,o.GL)(e);for(;n<=s-i;i+=n)this.process(t,i);continue}r.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,i.Gg)(this),(0,i.J8)(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:a}=this,{pos:l}=this;t[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>n-l&&(this.process(r,0),l=0);for(let e=l;e<n;e++)t[e]=0;s(r,n-8,BigInt(8*this.length),a),this.process(r,0);let u=(0,o.GL)(e),c=this.outputLen;if(c%4)throw Error("_sha2: outputLen should be aligned to 32bit");let d=c/4,h=this.get();if(d>h.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<d;e++)u.setUint32(4*e,h[e],a)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}let l=(e,t,r)=>e&t^~e&r,u=(e,t,r)=>e&t^e&r^t&r,c=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),d=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),h=new Uint32Array(64);class p extends a{constructor(){super(64,32,8,!1),this.A=0|d[0],this.B=0|d[1],this.C=0|d[2],this.D=0|d[3],this.E=0|d[4],this.F=0|d[5],this.G=0|d[6],this.H=0|d[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)h[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=h[e-15],r=h[e-2],n=(0,o.np)(t,7)^(0,o.np)(t,18)^t>>>3,i=(0,o.np)(r,17)^(0,o.np)(r,19)^r>>>10;h[e]=i+h[e-7]+n+h[e-16]|0}let{A:r,B:n,C:i,D:s,E:a,F:d,G:p,H:f}=this;for(let e=0;e<64;e++){let t=f+((0,o.np)(a,6)^(0,o.np)(a,11)^(0,o.np)(a,25))+l(a,d,p)+c[e]+h[e]|0,m=((0,o.np)(r,2)^(0,o.np)(r,13)^(0,o.np)(r,22))+u(r,n,i)|0;f=p,p=d,d=a,a=s+t|0,s=i,i=n,n=r,r=t+m|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,d=d+this.F|0,p=p+this.G|0,f=f+this.H|0,this.set(r,n,i,s,a,d,p,f)}roundClean(){h.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let f=(0,o.hE)(()=>new p);var m=r(78238),g=r(84808);function y(e,t){let r=t||"hex",i=f((0,m.v)(e,{strict:!1})?(0,g.O0)(e):e);return"bytes"===r?i:(0,n.NC)(i)}function v(e){let{commitment:t,version:r=1}=e,i=e.to??("string"==typeof t?"hex":"bytes"),o=y(t,"bytes");return o.set([r],0),"bytes"===i?o:(0,n.ci)(o)}function b(e){let{commitments:t,version:r}=e,n=e.to??("string"==typeof t[0]?"hex":"bytes"),i=[];for(let e of t)i.push(v({commitment:e,to:n,version:r}));return i}},78718:(e,t,r)=>{"use strict";r.d(t,{j:()=>m});var n=r(19823),i=r(51956);let o=32,s=4096,a=131072,l=761855;var u=r(37316),c=r(27233),d=r(76460),h=r(84808),p=r(75247);function f(e){let t=e.to??("string"==typeof e.data?"hex":"bytes"),r="string"==typeof e.data?(0,h.nr)(e.data):e.data,n=(0,d.d)(r);if(!n)throw new u.RX;if(n>l)throw new u.m7({maxSize:l,size:n});let i=[],f=!0,m=0;for(;f;){let e=(0,c.q)(new Uint8Array(a)),t=0;for(;t<s;){let n=r.slice(m,m+(o-1));if(e.pushByte(0),e.pushBytes(n),n.length<31){e.pushByte(128),f=!1;break}t++,m+=31}i.push(e)}return"bytes"===t?i.map(e=>e.bytes):i.map(e=>(0,p.ci)(e.bytes))}function m(e){let{data:t,kzg:r,to:o}=e,s=e.blobs??f({data:t,to:o}),a=e.commitments??(0,n.P)({blobs:s,kzg:r,to:o}),l=e.proofs??(0,i.y)({blobs:s,commitments:a,kzg:r,to:o}),u=[];for(let e=0;e<s.length;e++)u.push({blob:s[e],commitment:a[e],proof:l[e]});return u}},2806:(e,t,r)=>{"use strict";function n(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}r.d(t,{a:()=>n})},42627:(e,t,r)=>{"use strict";r.d(t,{L:()=>i});var n=r(28288);function i({blockNumber:e,chain:t,contract:r}){let i=t?.contracts?.[r];if(!i)throw new n.mm({chain:t,contract:{name:r}});if(e&&i.blockCreated&&i.blockCreated>e)throw new n.mm({blockNumber:e,chain:t,contract:{name:r,blockCreated:i.blockCreated}});return i.address}},27233:(e,t,r)=>{"use strict";r.d(t,{q:()=>o});var n=r(22418);let i={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:1/0,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new n.KD({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new n.lQ({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new n.T_({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new n.T_({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===1/0)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function o(e,{recursiveReadLimit:t=8192}={}){let r=Object.create(i);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}},59075:(e,t,r)=>{"use strict";function n(e){return"string"==typeof e[0]?o(e):i(e)}function i(e){let t=0;for(let r of e)t+=r.length;let r=new Uint8Array(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return r}function o(e){return`0x${e.reduce((e,t)=>e+t.replace("0x",""),"")}`}r.d(t,{SM:()=>o,zo:()=>n})},78238:(e,t,r)=>{"use strict";function n(e,{strict:t=!0}={}){return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}r.d(t,{v:()=>n})},69313:(e,t,r)=>{"use strict";r.d(t,{gc:()=>o,vk:()=>i});var n=r(51863);function i(e,{dir:t,size:r=32}={}){return"string"==typeof e?o(e,{dir:t,size:r}):s(e,{dir:t,size:r})}function o(e,{dir:t,size:r=32}={}){if(null===r)return e;let i=e.replace("0x","");if(i.length>2*r)throw new n.$s({size:Math.ceil(i.length/2),targetSize:r,type:"hex"});return`0x${i["right"===t?"padEnd":"padStart"](2*r,"0")}`}function s(e,{dir:t,size:r=32}={}){if(null===r)return e;if(e.length>r)throw new n.$s({size:e.length,targetSize:r,type:"bytes"});let i=new Uint8Array(r);for(let n=0;n<r;n++){let o="right"===t;i[o?n:r-n-1]=e[o?n:e.length-n-1]}return i}},76460:(e,t,r)=>{"use strict";r.d(t,{d:()=>i});var n=r(78238);function i(e){return(0,n.v)(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}},99766:(e,t,r)=>{"use strict";r.d(t,{T4:()=>u,tP:()=>s});var n=r(51863),i=r(78238),o=r(76460);function s(e,t,r,{strict:n}={}){return(0,i.v)(e,{strict:!1})?c(e,t,r,{strict:n}):u(e,t,r,{strict:n})}function a(e,t){if("number"==typeof t&&t>0&&t>(0,o.d)(e)-1)throw new n.mV({offset:t,position:"start",size:(0,o.d)(e)})}function l(e,t,r){if("number"==typeof t&&"number"==typeof r&&(0,o.d)(e)!==r-t)throw new n.mV({offset:r,position:"end",size:(0,o.d)(e)})}function u(e,t,r,{strict:n}={}){a(e,t);let i=e.slice(t,r);return n&&l(i,t,r),i}function c(e,t,r,{strict:n}={}){a(e,t);let i=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return n&&l(i,t,r),i}},69947:(e,t,r)=>{"use strict";function n(e,{dir:t="left"}={}){let r="string"==typeof e?e.replace("0x",""):e,n=0;for(let e=0;e<r.length-1&&"0"===r["left"===t?e:r.length-e-1].toString();e++)n++;return(r="left"===t?r.slice(n):r.slice(0,r.length-n),"string"==typeof e)?(1===r.length&&"right"===t&&(r=`${r}0`),`0x${r.length%2==1?`0${r}`:r}`):r}r.d(t,{f:()=>n})},65217:(e,t,r)=>{"use strict";r.d(t,{Yf:()=>a,ly:()=>u,rR:()=>c,y_:()=>l});var n=r(32764),i=r(76460),o=r(69947),s=r(84808);function a(e,{size:t}){if((0,i.d)(e)>t)throw new n.M6({givenSize:(0,i.d)(e),maxSize:t})}function l(e,t={}){let{signed:r}=t;t.size&&a(e,{size:t.size});let n=BigInt(e);if(!r)return n;let i=(e.length-2)/2;return n<=(1n<<8n*BigInt(i)-1n)-1n?n:n-BigInt(`0x${"f".padStart(2*i,"f")}`)-1n}function u(e,t={}){return Number(l(e,t))}function c(e,t={}){let r=(0,s.nr)(e);return t.size&&(a(r,{size:t.size}),r=(0,o.f)(r,{dir:"right"})),new TextDecoder().decode(r)}},84808:(e,t,r)=>{"use strict";r.d(t,{O0:()=>u,nr:()=>p,qX:()=>m});var n=r(61885),i=r(78238),o=r(69313),s=r(65217),a=r(75247);let l=new TextEncoder;function u(e,t={}){return"number"==typeof e||"bigint"==typeof e?f(e,t):"boolean"==typeof e?c(e,t):(0,i.v)(e)?p(e,t):m(e,t)}function c(e,t={}){let r=new Uint8Array(1);return(r[0]=Number(e),"number"==typeof t.size)?((0,s.Yf)(r,{size:t.size}),(0,o.vk)(r,{size:t.size})):r}let d={zero:48,nine:57,A:65,F:70,a:97,f:102};function h(e){return e>=d.zero&&e<=d.nine?e-d.zero:e>=d.A&&e<=d.F?e-(d.A-10):e>=d.a&&e<=d.f?e-(d.a-10):void 0}function p(e,t={}){let r=e;t.size&&((0,s.Yf)(r,{size:t.size}),r=(0,o.vk)(r,{dir:"right",size:t.size}));let i=r.slice(2);i.length%2&&(i=`0${i}`);let a=i.length/2,l=new Uint8Array(a);for(let e=0,t=0;e<a;e++){let r=h(i.charCodeAt(t++)),o=h(i.charCodeAt(t++));if(void 0===r||void 0===o)throw new n.G(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);l[e]=16*r+o}return l}function f(e,t){return p((0,a.eC)(e,t))}function m(e,t={}){let r=l.encode(e);return"number"==typeof t.size?((0,s.Yf)(r,{size:t.size}),(0,o.vk)(r,{dir:"right",size:t.size})):r}},75247:(e,t,r)=>{"use strict";r.d(t,{$G:()=>h,C4:()=>l,NC:()=>a,ci:()=>u,eC:()=>c});var n=r(32764),i=r(69313),o=r(65217);let s=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function a(e,t={}){return"number"==typeof e||"bigint"==typeof e?c(e,t):"string"==typeof e?h(e,t):"boolean"==typeof e?l(e,t):u(e,t)}function l(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?((0,o.Yf)(r,{size:t.size}),(0,i.vk)(r,{size:t.size})):r}function u(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=s[e[t]];let n=`0x${r}`;return"number"==typeof t.size?((0,o.Yf)(n,{size:t.size}),(0,i.vk)(n,{dir:"right",size:t.size})):n}function c(e,t={}){let r;let{signed:o,size:s}=t,a=BigInt(e);s?r=o?(1n<<8n*BigInt(s)-1n)-1n:2n**(8n*BigInt(s))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let l="bigint"==typeof r&&o?-r-1n:0;if(r&&a>r||a<l){let t="bigint"==typeof e?"n":"";throw new n.J5({max:r?`${r}${t}`:void 0,min:`${l}${t}`,signed:o,size:s,value:`${e}${t}`})}let u=`0x${(o&&a<0?(1n<<BigInt(8*s))+BigInt(a):a).toString(16)}`;return s?(0,i.vk)(u,{size:s}):u}let d=new TextEncoder;function h(e,t={}){return u(d.encode(e),t)}},35377:(e,t,r)=>{"use strict";r.d(t,{k:()=>o});var n=r(61885),i=r(43561);function o(e,t){let r=(e.details||"").toLowerCase(),o=e instanceof n.G?e.walk(e=>e.code===i.M_.code):e;return o instanceof n.G?new i.M_({cause:e,message:o.details}):i.M_.nodeMessage.test(r)?new i.M_({cause:e,message:e.details}):i.Hh.nodeMessage.test(r)?new i.Hh({cause:e,maxFeePerGas:t?.maxFeePerGas}):i.G$.nodeMessage.test(r)?new i.G$({cause:e,maxFeePerGas:t?.maxFeePerGas}):i.ZI.nodeMessage.test(r)?new i.ZI({cause:e,nonce:t?.nonce}):i.vU.nodeMessage.test(r)?new i.vU({cause:e,nonce:t?.nonce}):i.se.nodeMessage.test(r)?new i.se({cause:e,nonce:t?.nonce}):i.C_.nodeMessage.test(r)?new i.C_({cause:e}):i.WF.nodeMessage.test(r)?new i.WF({cause:e,gas:t?.gas}):i.dR.nodeMessage.test(r)?new i.dR({cause:e,gas:t?.gas}):i.pZ.nodeMessage.test(r)?new i.pZ({cause:e}):i.cs.nodeMessage.test(r)?new i.cs({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new i.cj({cause:e})}},3383:(e,t,r)=>{"use strict";r.d(t,{G:()=>s,Z:()=>o});var n=r(53766),i=r(20036);function o(e){let t=e.transactions?.map(e=>"string"==typeof e?e:i.Tr(e));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}let s=(0,n.$)("block",o)},57663:(e,t,r)=>{"use strict";function n(e,{format:t}){if(!t)return{};let r={};function n(t){for(let i of Object.keys(t))i in e&&(r[i]=e[i]),t[i]&&"object"==typeof t[i]&&!Array.isArray(t[i])&&n(t[i])}return n(t(e||{})),r}r.d(t,{K:()=>n})},53766:(e,t,r)=>{"use strict";function n(e,t){return({exclude:r,format:n})=>({exclude:r,format:e=>{let i=t(e);if(r)for(let e of r)delete i[e];return{...i,...n(e)}},type:e})}r.d(t,{$:()=>n})},99786:(e,t,r)=>{"use strict";function n(e,{args:t,eventName:r}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...r?{args:t,eventName:r}:{}}}r.d(t,{U:()=>n})},20036:(e,t,r)=>{"use strict";r.d(t,{Tr:()=>s,c8:()=>o,y_:()=>a});var n=r(65217),i=r(53766);let o={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844"};function s(e){let t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?(0,n.ly)(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?(0,n.ly)(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?o[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof t.v){if(0n===t.v||27n===t.v)return 0;if(1n===t.v||28n===t.v)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),"legacy"===t.type&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),"eip2930"===t.type&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),"eip1559"===t.type&&delete t.maxFeePerBlobGas,t}let a=(0,i.$)("transaction",s)},60158:(e,t,r)=>{"use strict";r.d(t,{dI:()=>u,fA:()=>l});var n=r(65217),i=r(53766),o=r(99786),s=r(20036);let a={"0x0":"reverted","0x1":"success"};function l(e){let t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(e=>(0,o.U)(e)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?(0,n.ly)(e.transactionIndex):null,status:e.status?a[e.status]:null,type:e.type?s.c8[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}let u=(0,i.$)("transactionReceipt",l)},23924:(e,t,r)=>{"use strict";r.d(t,{tG:()=>o});var n=r(75247);let i={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3"};function o(e){let t={};return void 0!==e.accessList&&(t.accessList=e.accessList),void 0!==e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),void 0!==e.blobs&&("string"!=typeof e.blobs[0]?t.blobs=e.blobs.map(e=>(0,n.ci)(e)):t.blobs=e.blobs),void 0!==e.data&&(t.data=e.data),void 0!==e.from&&(t.from=e.from),void 0!==e.gas&&(t.gas=(0,n.eC)(e.gas)),void 0!==e.gasPrice&&(t.gasPrice=(0,n.eC)(e.gasPrice)),void 0!==e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=(0,n.eC)(e.maxFeePerBlobGas)),void 0!==e.maxFeePerGas&&(t.maxFeePerGas=(0,n.eC)(e.maxFeePerGas)),void 0!==e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=(0,n.eC)(e.maxPriorityFeePerGas)),void 0!==e.nonce&&(t.nonce=(0,n.eC)(e.nonce)),void 0!==e.to&&(t.to=e.to),void 0!==e.type&&(t.type=i[e.type]),void 0!==e.value&&(t.value=(0,n.eC)(e.value)),t}},60475:(e,t,r)=>{"use strict";let n,i,o;r.d(t,{w:()=>M});var s=r(60030);let a=BigInt(4294967296-1),l=BigInt(32);function u(e,t=!1){return t?{h:Number(e&a),l:Number(e>>l&a)}:{h:0|Number(e>>l&a),l:0|Number(e&a)}}function c(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:o,l:s}=u(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}let d=(e,t,r)=>e<<r|t>>>32-r,h=(e,t,r)=>t<<r|e>>>32-r,p=(e,t,r)=>t<<r-32|e>>>64-r,f=(e,t,r)=>e<<r-32|t>>>64-r;var m=r(98177);let[g,y,v]=[[],[],[]],b=BigInt(0),E=BigInt(1),S=BigInt(2),_=BigInt(7),T=BigInt(256),A=BigInt(113);for(let e=0,t=E,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],g.push(2*(5*n+r)),y.push((e+1)*(e+2)/2%64);let i=b;for(let e=0;e<7;e++)(t=(t<<E^(t>>_)*A)%T)&S&&(i^=E<<(E<<BigInt(e))-E);v.push(i)}let[C,w]=c(v,!0),O=(e,t,r)=>r>32?p(e,t,r):d(e,t,r),R=(e,t,r)=>r>32?f(e,t,r):h(e,t,r);function x(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,o=r[i],s=r[i+1],a=O(o,s,1)^r[n],l=R(o,s,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=l}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=y[r],o=O(t,i,n),s=R(t,i,n),a=g[r];t=e[a],i=e[a+1],e[a]=o,e[a+1]=s}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=C[n],e[1]^=w[n]}r.fill(0)}class I extends m.kb{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,s.Rx)(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,m.Jq)(this.state)}keccak(){x(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){(0,s.Gg)(this);let{blockLen:t,state:r}=this,n=(e=(0,m.O0)(e)).length;for(let i=0;i<n;){let o=Math.min(t-this.pos,n-i);for(let t=0;t<o;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,s.Gg)(this,!1),(0,s.aI)(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,s.Rx)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,s.J8)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return e||(e=new I(t,r,n,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}}let D=(n=1,i=136,o=32,(0,m.hE)(()=>new I(i,n,o)));var P=r(78238),N=r(84808),k=r(75247);function M(e,t){let r=t||"hex",n=D((0,P.v)(e,{strict:!1})?(0,N.O0)(e):e);return"bytes"===r?n:(0,k.NC)(n)}},44749:(e,t,r)=>{"use strict";r.d(t,{n:()=>n});let n=r(57891).r},44494:(e,t,r)=>{"use strict";r.d(t,{C:()=>o});var n=r(99766),i=r(57891);let o=e=>(0,n.tP)((0,i.r)(e),0,4)},57891:(e,t,r)=>{"use strict";r.d(t,{r:()=>m});var n=r(84808),i=r(60475);let o=e=>(0,i.w)((0,n.O0)(e));function s(e){return o(e)}function a(e,t){let r=e.exec(t);return r?.groups}let l=/^tuple(?<array>(\[(\d*)\])*)$/;function u(e){let t=e.type;if(l.test(e.type)&&"components"in e){t="(";let r=e.components.length;for(let n=0;n<r;n++)t+=u(e.components[n]),n<r-1&&(t+=", ");let n=a(l,e.type);return t+=`)${n?.array??""}`,u({...e,type:t})}return("indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name)?`${t} ${e.name}`:t}function c(e){let t="",r=e.length;for(let n=0;n<r;n++)t+=u(e[n]),n!==r-1&&(t+=", ");return t}function d(e){return"function"===e.type?`function ${e.name}(${c(e.inputs)})${e.stateMutability&&"nonpayable"!==e.stateMutability?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${c(e.outputs)})`:""}`:"event"===e.type?`event ${e.name}(${c(e.inputs)})`:"error"===e.type?`error ${e.name}(${c(e.inputs)})`:"constructor"===e.type?`constructor(${c(e.inputs)})${"payable"===e.stateMutability?" payable":""}`:"fallback"===e.type?"fallback()":"receive() external payable"}var h=r(61885);function p(e){let t=!0,r="",n=0,i="",o=!1;for(let s=0;s<e.length;s++){let a=e[s];if(["(",")",","].includes(a)&&(t=!0),"("===a&&n++,")"===a&&n--,t){if(0===n){if(" "===a&&["event","function",""].includes(i))i="";else if(i+=a,")"===a){o=!0;break}continue}if(" "===a){","!==e[s-1]&&","!==r&&",("!==r&&(r="",t=!1);continue}i+=a,r+=a}}if(!o)throw new h.G("Unable to normalize signature.");return i}let f=e=>p("string"==typeof e?e:d(e));function m(e){return s(f(e))}},59797:(e,t,r)=>{"use strict";r.d(t,{S:()=>i});let n=new Map;function i({fn:e,id:t,shouldSplitBatch:r,wait:i=0,sort:o}){let s=async()=>{let t=u();a();let r=t.map(({args:e})=>e);0!==r.length&&e(r).then(e=>{o&&Array.isArray(e)&&e.sort(o);for(let r=0;r<t.length;r++){let{pendingPromise:n}=t[r];n.resolve?.([e[r],e])}}).catch(e=>{for(let r=0;r<t.length;r++){let{pendingPromise:n}=t[r];n.reject?.(e)}})},a=()=>n.delete(t),l=()=>u().map(({args:e})=>e),u=()=>n.get(t)||[],c=e=>n.set(t,[...u(),e]);return{flush:a,async schedule(e){let t={},n=new Promise((e,r)=>{t.resolve=e,t.reject=r});return(r?.([...l(),e])&&s(),u().length>0)?c({args:e,pendingPromise:t}):(c({args:e,pendingPromise:t}),setTimeout(s,i)),n}}}},5448:(e,t,r)=>{"use strict";r.d(t,{J:()=>i});var n=r(21180);function i(e,{delay:t=100,retryCount:r=2,shouldRetry:i=()=>!0}={}){return new Promise((o,s)=>{let a=async({count:l=0}={})=>{let u=async({error:e})=>{let r="function"==typeof t?t({count:l,error:e}):t;r&&await (0,n.D)(r),a({count:l+1})};try{let t=await e();o(t)}catch(e){if(l<r&&await i({count:l,error:e}))return u({error:e});s(e)}};a()})}},17143:(e,t,r)=>{"use strict";function n(e,{errorInstance:t=Error("timed out"),timeout:r,signal:n}){return new Promise((i,o)=>{(async()=>{let s;try{let a=new AbortController;r>0&&(s=setTimeout(()=>{n?a.abort():o(t)},r)),i(await e({signal:a?.signal||null}))}catch(e){"AbortError"===e.name&&o(t),o(e)}finally{clearTimeout(s)}})()})}r.d(t,{F:()=>n})},96838:(e,t,r)=>{"use strict";r.d(t,{P:()=>n});let n=(e,t,r)=>JSON.stringify(e,(e,r)=>{let n="bigint"==typeof r?r.toString():r;return"function"==typeof t?t(e,n):n},r)},12127:(e,t,r)=>{"use strict";r.d(t,{F:()=>l});var n=r(92406),i=r(20587),o=r(43561),s=r(22412),a=r(39328);function l(e){let{account:t,gasPrice:r,maxFeePerGas:l,maxPriorityFeePerGas:u,to:c}=e,d=t?(0,n.T)(t):void 0;if(d&&!(0,a.U)(d.address))throw new i.b({address:d.address});if(c&&!(0,a.U)(c))throw new i.b({address:c});if(void 0!==r&&(void 0!==l||void 0!==u))throw new s.xY;if(l&&l>2n**256n-1n)throw new o.Hh({maxFeePerGas:l});if(u&&l&&u>l)throw new o.cs({maxFeePerGas:l,maxPriorityFeePerGas:u})}},52202:(e,t,r)=>{"use strict";r.d(t,{l:()=>i});var n=r(22412);function i(e){if(e.type)return e.type;if(void 0!==e.blobs||void 0!==e.blobVersionedHashes||void 0!==e.maxFeePerBlobGas||void 0!==e.sidecars)return"eip4844";if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new n.j3({transaction:e})}},86889:(e,t,r)=>{"use strict";r.d(t,{d:()=>o});var n=r(87155),i=r(13118);function o(e,t="wei"){return(0,i.b)(e,n.ez[t])}},35301:(e,t,r)=>{"use strict";r.d(t,{o:()=>o});var n=r(87155),i=r(13118);function o(e,t="wei"){return(0,i.b)(e,n.Zn[t])}},13118:(e,t,r)=>{"use strict";function n(e,t){let r=e.toString(),n=r.startsWith("-");n&&(r=r.slice(1));let[i,o]=[(r=r.padStart(t,"0")).slice(0,r.length-t),r.slice(r.length-t)];return o=o.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${o?`.${o}`:""}`}r.d(t,{b:()=>n})},21180:(e,t,r)=>{"use strict";async function n(e){return new Promise(t=>setTimeout(t,e))}r.d(t,{D:()=>n})},19598:(e,t,r)=>{"use strict";r.d(t,{V:()=>l,F:()=>u});var n=r(17577);let i=!1;async function o(e,t={}){let r;if(i)return[];i=!0,e.setState(e=>({...e,status:e.current?"reconnecting":"connecting"}));let n=[];if(t.connectors?.length)for(let r of t.connectors){let t;t="function"==typeof r?e._internal.connectors.setup(r):r,n.push(t)}else n.push(...e.connectors);try{r=await e.storage?.getItem("recentConnectorId")}catch{}let o={};for(let[,t]of e.state.connections)o[t.connector.id]=1;r&&(o[r]=0);let s=Object.keys(o).length>0?[...n].sort((e,t)=>(o[e.id]??10)-(o[t.id]??10)):n,a=!1,l=[],u=[];for(let t of s){let r=await t.getProvider();if(!r||u.some(e=>e===r)||!await t.isAuthorized())continue;let n=await t.connect({isReconnecting:!0}).catch(()=>null);n&&(t.emitter.off("connect",e._internal.events.connect),t.emitter.on("change",e._internal.events.change),t.emitter.on("disconnect",e._internal.events.disconnect),e.setState(e=>{let r=new Map(a?e.connections:new Map).set(t.uid,{accounts:n.accounts,chainId:n.chainId,connector:t});return{...e,current:a?e.current:t.uid,connections:r}}),l.push({accounts:n.accounts,chainId:n.chainId,connector:t}),u.push(r),a=!0)}return("reconnecting"===e.state.status||"connecting"===e.state.status)&&(a?e.setState(e=>({...e,status:"connected"})):e.setState(e=>({...e,connections:new Map,current:void 0,status:"disconnected"}))),i=!1,l}function s(e,t){let{initialState:r,reconnectOnMount:n}=t;return r&&!e._internal.store.persist.hasHydrated()&&e.setState({...r,connections:n?r.connections:new Map,status:n?"reconnecting":"disconnected"}),{async onMount(){if(e._internal.ssr){await e._internal.store.persist.rehydrate();let t=e._internal.mipd?.getProviders().map(e._internal.connectors.providerDetailToConnector).map(e._internal.connectors.setup);e._internal.connectors.setState(e=>[...e,...t??[]])}n?o(e):e.storage&&e.setState(e=>({...e,connections:new Map}))}}}function a(e){let{children:t,config:r,initialState:i,reconnectOnMount:o=!0}=e,{onMount:a}=s(r,{initialState:i,reconnectOnMount:o});return r._internal.ssr||a(),(0,n.useRef)(!0),t}let l=(0,n.createContext)(void 0);function u(e){let{children:t,config:r}=e,i={value:r};return(0,n.createElement)(a,e,(0,n.createElement)(l.Provider,i,t))}},93203:(e,t,r)=>{"use strict";var n=r(56104);r(31515);var i=r(80027);let o=n.z.object({embedding:n.z.array(n.z.number()),metadata:n.z.record(n.z.string(),n.z.unknown()).optional()});n.z.object({input:n.z.array(i.DocumentDataSchema),options:n.z.any().optional()}),n.z.object({embeddings:n.z.array(o)}),n.z.object({label:n.z.string().optional(),supports:n.z.object({input:n.z.array(n.z.enum(["text","image","video"])).optional(),multilingual:n.z.boolean().optional()}).optional(),dimensions:n.z.number().optional()})},64583:(e,t,r)=>{"use strict";let n;var i=r(56104);r(45394),r(31515),r(82268),r(72997),r(99649),r(15342),r(22543);let o="__GENKIT_TELEMETRY_PROVIDER";r(6113);let s=i.z.object({input:i.z.unknown(),output:i.z.unknown().optional(),context:i.z.array(i.z.unknown()).optional(),reference:i.z.unknown().optional(),testCaseId:i.z.string().optional(),traceIds:i.z.array(i.z.string()).optional()});s.extend({testCaseId:i.z.string()});let a=i.z.enum(["UNKNOWN","PASS","FAIL"]);var l=((n=l||{}).UNKNOWN="UNKNOWN",n.PASS="PASS",n.FAIL="FAIL",n);let u=i.z.object({id:i.z.string().describe("Optional ID to differentiate different scores if applying in a single evaluation").optional(),score:i.z.union([i.z.number(),i.z.string(),i.z.boolean()]).optional(),status:a.optional(),error:i.z.string().optional(),details:i.z.object({reasoning:i.z.string().optional()}).passthrough().optional()}),c=i.z.object({sampleIndex:i.z.number().optional(),testCaseId:i.z.string(),traceId:i.z.string().optional(),spanId:i.z.string().optional(),evaluation:i.z.union([u,i.z.array(u)])});i.z.array(c);i.z.object({dataset:i.z.array(s),evalRunId:i.z.string(),options:i.z.unknown()});i.z.object({label:i.z.string().optional(),metrics:i.z.array(i.z.string())})},13062:(e,t,r)=>{"use strict";r.d(t,{modelRef:()=>n}),r(56104),r(45394),r(31515),r(38846),r(80027),r(60775),r(28523),r(62966);function n(e){let t=e.name;e.namespace&&!t.startsWith(e.namespace+"/")&&(t=`${e.namespace}/${t}`);let r={...e,name:t};return r.withConfig=r=>n({...e,name:t,config:r}),r.withVersion=r=>n({...e,name:t,version:r}),r}},85611:(e,t,r)=>{"use strict";var n=r(56104);r(31515);var i=r(80027),o=r(79665);let s=n.z.object({score:n.z.number()}).passthrough(),a=n.z.object({content:n.z.array(i.PartSchema),metadata:s});o.Document,n.z.object({query:o.DocumentDataSchema,documents:n.z.array(o.DocumentDataSchema),options:n.z.any().optional()}),n.z.object({documents:n.z.array(a)});n.z.object({label:n.z.string().optional(),supports:n.z.object({media:n.z.boolean().optional()}).optional()}),n.z.object({k:n.z.number().describe("Number of documents to rerank").optional()})},40858:(e,t,r)=>{"use strict";var n=r(56104);r(31515);var i=r(80027);let o=n.z.object({query:i.DocumentDataSchema,options:n.z.any().optional()}),s=n.z.object({documents:n.z.array(i.DocumentDataSchema)});function a(e,t){let r=e;return r.__configSchema=t,r}n.z.object({documents:n.z.array(i.DocumentDataSchema),options:n.z.any().optional()});n.z.object({label:n.z.string().optional(),supports:n.z.object({media:n.z.boolean().optional()}).optional()}),n.z.object({k:n.z.number().describe("Number of documents to retrieve").optional()})},56104:(e,t,r)=>{"use strict";r.d(t,{z:()=>n.z}),r(51943);var n=r(10692);r(22700),r(95093),r(53240),r(19382),r(82268),r(4753),r(84535),r(45174),r(11906),r(6504),r(40806)},45394:(e,t,r)=>{"use strict";r.d(t,{logger:()=>l});let n=["debug","info","warn","error"],i="__genkit_logger",o={shouldLog(e){return n.indexOf(this.level)<=n.indexOf(e)},debug(...e){this.shouldLog("debug")&&console.debug(...e)},info(...e){this.shouldLog("info")&&console.info(...e)},warn(...e){this.shouldLog("warn")&&console.warn(...e)},error(...e){this.shouldLog("error")&&console.error(...e)},level:"info"};function s(){return global[i]||(global[i]=o),global[i]}class a{defaultLogger=o;init(e){global[i]=e}info(...e){s().info.apply(s(),e)}debug(...e){s().debug.apply(s(),e)}error(...e){s().error.apply(s(),e)}warn(...e){s().warn.apply(s(),e)}setLogLevel(e){s().level=e}logStructured(e,t){s().info(e,t)}logStructuredError(e,t){s().error(e,t)}}let l=new a},31515:(e,t,r)=>{"use strict";var n=r(9558),i=r(23291);Symbol("Let zodToJsonSchema decide on which parser to use");let o=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");var s=r(82268);i(new n);let a=new WeakMap;s.GenkitError},61732:(e,t,r)=>{"use strict";r.d(t,{googleAI:()=>v});var n=r(51774),i=r(31757),o=r(98906),s=r(6249),a=r(87933),l=r(61086),u=r(48902),c=r(28135),d=r(61082),h=r(62160);async function p(e,t){let r=["v1"];if(t?.apiVersion&&(r=Array.isArray(t?.apiVersion)?t?.apiVersion:[t?.apiVersion]),r.includes("v1beta")&&Object.keys(u.SUPPORTED_GEMINI_MODELS).forEach(r=>(0,u.defineGoogleAIModel)({ai:e,name:r,apiKey:t?.apiKey,apiVersion:"v1beta",baseUrl:t?.baseUrl,debugTraces:t?.experimental_debugTraces})),r.includes("v1")&&(Object.keys(u.SUPPORTED_GEMINI_MODELS).forEach(r=>(0,u.defineGoogleAIModel)({ai:e,name:r,apiKey:t?.apiKey,apiVersion:void 0,baseUrl:t?.baseUrl,debugTraces:t?.experimental_debugTraces})),Object.keys(l.SUPPORTED_MODELS).forEach(r=>(0,l.defineGoogleAIEmbedder)(e,r,{apiKey:t?.apiKey}))),t?.models)for(let r of t?.models){let n="string"==typeof r?r:r.name.split("/")[1],i="string"==typeof r?(0,u.gemini)(r):r;(0,u.defineGoogleAIModel)({ai:e,name:n,apiKey:t?.apiKey,baseUrl:t?.baseUrl,info:{...i.info,label:`Google AI - ${n}`},debugTraces:t?.experimental_debugTraces})}}async function f(e,t,r,n){"embedder"===t?g(e,r,n):r.startsWith("veo")?"background-model"===t&&(0,h.defineVeoModel)(e,r,n?.apiKey):"model"===t&&m(e,r,n)}function m(e,t,r){if(t.startsWith("imagen")){(0,c.defineImagenModel)(e,t,r?.apiKey);return}let n=(0,u.gemini)(t);(0,u.defineGoogleAIModel)({ai:e,name:n.name,apiKey:r?.apiKey,baseUrl:r?.baseUrl,info:{...n.info,label:`Google AI - ${t}`},debugTraces:r?.experimental_debugTraces})}function g(e,t,r){(0,l.defineGoogleAIEmbedder)(e,`googleai/${t}`,{apiKey:r?.apiKey})}async function y(e){let t=e?.apiKey||(0,a.getApiKeyFromEnvVar)();if(!t)return i.logger.error("Pass in the API key or set the GEMINI_API_KEY or GOOGLE_API_KEY environment variable."),[];let r=await (0,d.listModels)(e?.baseUrl||"https://generativelanguage.googleapis.com",t);return[...r.filter(e=>e.supportedGenerationMethods.includes("predict")&&e.name.includes("imagen")).filter(e=>!e.description||!e.description.includes("deprecated")).map(e=>{let t=e.name.split("/").at(-1);return(0,n.modelActionMetadata)({name:`googleai/${t}`,info:{...c.GENERIC_IMAGEN_INFO},configSchema:c.ImagenConfigSchema})}),...r.filter(e=>e.supportedGenerationMethods.includes("predictLongRunning")&&e.name.includes("veo")).filter(e=>!e.description||!e.description.includes("deprecated")).map(e=>{let t=e.name.split("/").at(-1);return(0,n.modelActionMetadata)({name:`googleai/${t}`,info:{...h.GENERIC_VEO_INFO},configSchema:h.VeoConfigSchema,background:!0})}),...r.filter(e=>e.supportedGenerationMethods.includes("generateContent")).filter(e=>!e.description||!e.description.includes("deprecated")).map(e=>{let t=(0,u.gemini)(e.name.startsWith("models/")?e.name.substring(7):e.name);return(0,n.modelActionMetadata)({name:t.name,info:t.info,configSchema:u.GeminiConfigSchema})}),...r.filter(e=>e.supportedGenerationMethods.includes("embedContent")).filter(e=>!e.description||!e.description.includes("deprecated")).map(e=>{let t="googleai/"+(e.name.startsWith("models/")?e.name.substring(7):e.name);return(0,n.embedderActionMetadata)({name:t,configSchema:l.GeminiEmbeddingConfigSchema,info:{dimensions:768,label:`Google Gen AI - ${t}`,supports:{input:["text"]}}})})]}let v=function(e){let t;return(0,s.genkitPlugin)("googleai",async t=>await p(t,e),async(t,r,n)=>await f(t,r,n,e),async()=>t||(t=await y(e)))};v.model=(e,t)=>e.startsWith("imagen")?(0,o.modelRef)({name:`googleai/${e}`,config:t,configSchema:c.ImagenConfigSchema}):e.startsWith("veo")?(0,o.modelRef)({name:`googleai/${e}`,config:t,configSchema:h.VeoConfigSchema}):(0,o.modelRef)({name:`googleai/${e}`,config:t,configSchema:u.GeminiConfigSchema}),v.embedder=(e,t)=>(0,n.embedderRef)({name:`googleai/${e}`,config:t,configSchema:l.GeminiEmbeddingConfigSchema})},53370:(e,t,r)=>{"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.r(t),r.d(t,{_:()=>n,_interop_require_default:()=>n})},51774:(e,t,r)=>{"use strict";r.d(t,{genkit:()=>i.genkit});var n=r(59720);r.o(n,"embedderActionMetadata")&&r.d(t,{embedderActionMetadata:function(){return n.embedderActionMetadata}}),r.o(n,"embedderRef")&&r.d(t,{embedderRef:function(){return n.embedderRef}}),r.o(n,"modelActionMetadata")&&r.d(t,{modelActionMetadata:function(){return n.modelActionMetadata}}),r.o(n,"z")&&r.d(t,{z:function(){return n.z}});var i=r(40381);/**
 * @license
 *
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */},31757:(e,t,r)=>{"use strict";r.d(t,{logger:()=>n.logger});var n=r(45394)},98906:(e,t,r)=>{"use strict";r.d(t,{modelRef:()=>n.modelRef});var n=r(13062)},6249:(e,t,r)=>{"use strict";function n(e,t,r,n){return i=>({name:e,initializer:async()=>{await t(i)},resolver:async(e,t)=>{if(r)return await r(i,e,t)},listActions:async()=>n?await n():[]})}r.d(t,{genkitPlugin:()=>n}),r(93203),r(64583),r(13062),r(85611),r(40858)},72150:(e,t,r)=>{"use strict";let n,i,o,s,a,l,u,c,d,h,p,f,m,g;r.r(t),r.d(t,{default:()=>F});var y={Space_Separator:/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ID_Start:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ID_Continue:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},v={isSpaceSeparator:e=>"string"==typeof e&&y.Space_Separator.test(e),isIdStartChar:e=>"string"==typeof e&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||"$"===e||"_"===e||y.ID_Start.test(e)),isIdContinueChar:e=>"string"==typeof e&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"$"===e||"_"===e||""===e||""===e||y.ID_Continue.test(e)),isDigit:e=>"string"==typeof e&&/[0-9]/.test(e),isHexDigit:e=>"string"==typeof e&&/[0-9A-Fa-f]/.test(e)},b=function(e,t){n=String(e),i="start",o=[],s=0,a=1,l=0,u=void 0,c=void 0,d=void 0;do u=S(),I[i]();while("eof"!==u.type);return"function"==typeof t?E({"":d},"",t):d};function E(e,t,r){let n=e[t];if(null!=n&&"object"==typeof n){if(Array.isArray(n))for(let e=0;e<n.length;e++){let t=String(e),i=E(n,t,r);void 0===i?delete n[t]:Object.defineProperty(n,t,{value:i,writable:!0,enumerable:!0,configurable:!0})}else for(let e in n){let t=E(n,e,r);void 0===t?delete n[e]:Object.defineProperty(n,e,{value:t,writable:!0,enumerable:!0,configurable:!0})}}return r.call(e,t,n)}function S(){for(h="default",p="",f=!1,m=1;;){g=_();let e=A[h]();if(e)return e}}function _(){if(n[s])return String.fromCodePoint(n.codePointAt(s))}function T(){let e=_();return"\n"===e?(a++,l=0):e?l+=e.length:l++,e&&(s+=e.length),e}let A={default(){switch(g){case"	":case"\v":case"\f":case" ":case"\xa0":case"\uFEFF":case"\n":case"\r":case"\u2028":case"\u2029":T();return;case"/":T(),h="comment";return;case void 0:return T(),C("eof")}if(v.isSpaceSeparator(g)){T();return}return A[i]()},comment(){switch(g){case"*":T(),h="multiLineComment";return;case"/":T(),h="singleLineComment";return}throw N(T())},multiLineComment(){switch(g){case"*":T(),h="multiLineCommentAsterisk";return;case void 0:throw N(T())}T()},multiLineCommentAsterisk(){switch(g){case"*":T();return;case"/":T(),h="default";return;case void 0:throw N(T())}T(),h="multiLineComment"},singleLineComment(){switch(g){case"\n":case"\r":case"\u2028":case"\u2029":T(),h="default";return;case void 0:return T(),C("eof")}T()},value(){switch(g){case"{":case"[":return C("punctuator",T());case"n":return T(),w("ull"),C("null",null);case"t":return T(),w("rue"),C("boolean",!0);case"f":return T(),w("alse"),C("boolean",!1);case"-":case"+":"-"===T()&&(m=-1),h="sign";return;case".":p=T(),h="decimalPointLeading";return;case"0":p=T(),h="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":p=T(),h="decimalInteger";return;case"I":return T(),w("nfinity"),C("numeric",1/0);case"N":return T(),w("aN"),C("numeric",NaN);case'"':case"'":f='"'===T(),p="",h="string";return}throw N(T())},identifierNameStartEscape(){if("u"!==g)throw N(T());T();let e=x();switch(e){case"$":case"_":break;default:if(!v.isIdStartChar(e))throw M()}p+=e,h="identifierName"},identifierName(){switch(g){case"$":case"_":case"":case"":p+=T();return;case"\\":T(),h="identifierNameEscape";return}if(v.isIdContinueChar(g)){p+=T();return}return C("identifier",p)},identifierNameEscape(){if("u"!==g)throw N(T());T();let e=x();switch(e){case"$":case"_":case"":case"":break;default:if(!v.isIdContinueChar(e))throw M()}p+=e,h="identifierName"},sign(){switch(g){case".":p=T(),h="decimalPointLeading";return;case"0":p=T(),h="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":p=T(),h="decimalInteger";return;case"I":return T(),w("nfinity"),C("numeric",1/0*m);case"N":return T(),w("aN"),C("numeric",NaN)}throw N(T())},zero(){switch(g){case".":p+=T(),h="decimalPoint";return;case"e":case"E":p+=T(),h="decimalExponent";return;case"x":case"X":p+=T(),h="hexadecimal";return}return C("numeric",0*m)},decimalInteger(){switch(g){case".":p+=T(),h="decimalPoint";return;case"e":case"E":p+=T(),h="decimalExponent";return}if(v.isDigit(g)){p+=T();return}return C("numeric",m*Number(p))},decimalPointLeading(){if(v.isDigit(g)){p+=T(),h="decimalFraction";return}throw N(T())},decimalPoint(){switch(g){case"e":case"E":p+=T(),h="decimalExponent";return}if(v.isDigit(g)){p+=T(),h="decimalFraction";return}return C("numeric",m*Number(p))},decimalFraction(){switch(g){case"e":case"E":p+=T(),h="decimalExponent";return}if(v.isDigit(g)){p+=T();return}return C("numeric",m*Number(p))},decimalExponent(){switch(g){case"+":case"-":p+=T(),h="decimalExponentSign";return}if(v.isDigit(g)){p+=T(),h="decimalExponentInteger";return}throw N(T())},decimalExponentSign(){if(v.isDigit(g)){p+=T(),h="decimalExponentInteger";return}throw N(T())},decimalExponentInteger(){if(v.isDigit(g)){p+=T();return}return C("numeric",m*Number(p))},hexadecimal(){if(v.isHexDigit(g)){p+=T(),h="hexadecimalInteger";return}throw N(T())},hexadecimalInteger(){if(v.isHexDigit(g)){p+=T();return}return C("numeric",m*Number(p))},string(){switch(g){case"\\":T(),p+=O();return;case'"':if(f)return T(),C("string",p);p+=T();return;case"'":if(!f)return T(),C("string",p);p+=T();return;case"\n":case"\r":case void 0:throw N(T());case"\u2028":case"\u2029":L(g)}p+=T()},start(){switch(g){case"{":case"[":return C("punctuator",T())}h="value"},beforePropertyName(){switch(g){case"$":case"_":p=T(),h="identifierName";return;case"\\":T(),h="identifierNameStartEscape";return;case"}":return C("punctuator",T());case'"':case"'":f='"'===T(),h="string";return}if(v.isIdStartChar(g)){p+=T(),h="identifierName";return}throw N(T())},afterPropertyName(){if(":"===g)return C("punctuator",T());throw N(T())},beforePropertyValue(){h="value"},afterPropertyValue(){switch(g){case",":case"}":return C("punctuator",T())}throw N(T())},beforeArrayValue(){if("]"===g)return C("punctuator",T());h="value"},afterArrayValue(){switch(g){case",":case"]":return C("punctuator",T())}throw N(T())},end(){throw N(T())}};function C(e,t){return{type:e,value:t,line:a,column:l}}function w(e){for(let t of e){if(_()!==t)throw N(T());T()}}function O(){switch(_()){case"b":return T(),"\b";case"f":return T(),"\f";case"n":return T(),"\n";case"r":return T(),"\r";case"t":return T(),"	";case"v":return T(),"\v";case"0":if(T(),v.isDigit(_()))throw N(T());return"\0";case"x":return T(),R();case"u":return T(),x();case"\n":case"\u2028":case"\u2029":return T(),"";case"\r":return T(),"\n"===_()&&T(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case void 0:throw N(T())}return T()}function R(){let e="",t=_();if(!v.isHexDigit(t)||(e+=T(),t=_(),!v.isHexDigit(t)))throw N(T());return String.fromCodePoint(parseInt(e+=T(),16))}function x(){let e="",t=4;for(;t-- >0;){let t=_();if(!v.isHexDigit(t))throw N(T());e+=T()}return String.fromCodePoint(parseInt(e,16))}let I={start(){if("eof"===u.type)throw k();D()},beforePropertyName(){switch(u.type){case"identifier":case"string":c=u.value,i="afterPropertyName";return;case"punctuator":P();return;case"eof":throw k()}},afterPropertyName(){if("eof"===u.type)throw k();i="beforePropertyValue"},beforePropertyValue(){if("eof"===u.type)throw k();D()},beforeArrayValue(){if("eof"===u.type)throw k();if("punctuator"===u.type&&"]"===u.value){P();return}D()},afterPropertyValue(){if("eof"===u.type)throw k();switch(u.value){case",":i="beforePropertyName";return;case"}":P()}},afterArrayValue(){if("eof"===u.type)throw k();switch(u.value){case",":i="beforeArrayValue";return;case"]":P()}},end(){}};function D(){let e;switch(u.type){case"punctuator":switch(u.value){case"{":e={};break;case"[":e=[]}break;case"null":case"boolean":case"numeric":case"string":e=u.value}if(void 0===d)d=e;else{let t=o[o.length-1];Array.isArray(t)?t.push(e):Object.defineProperty(t,c,{value:e,writable:!0,enumerable:!0,configurable:!0})}if(null!==e&&"object"==typeof e)o.push(e),i=Array.isArray(e)?"beforeArrayValue":"beforePropertyName";else{let e=o[o.length-1];i=null==e?"end":Array.isArray(e)?"afterArrayValue":"afterPropertyValue"}}function P(){o.pop();let e=o[o.length-1];i=null==e?"end":Array.isArray(e)?"afterArrayValue":"afterPropertyValue"}function N(e){return void 0===e?j(`JSON5: invalid end of input at ${a}:${l}`):j(`JSON5: invalid character '${B(e)}' at ${a}:${l}`)}function k(){return j(`JSON5: invalid end of input at ${a}:${l}`)}function M(){return l-=5,j(`JSON5: invalid identifier character at ${a}:${l}`)}function L(e){console.warn(`JSON5: '${B(e)}' in strings is not valid ECMAScript; consider escaping`)}function B(e){let t={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(t[e])return t[e];if(e<" "){let t=e.charCodeAt(0).toString(16);return"\\x"+("00"+t).substring(t.length)}return e}function j(e){let t=SyntaxError(e);return t.lineNumber=a,t.columnNumber=l,t}let F={parse:b,stringify:function(e,t,r){let n,i,o;let s=[],a="",l="";if(null==t||"object"!=typeof t||Array.isArray(t)||(r=t.space,o=t.quote,t=t.replacer),"function"==typeof t)i=t;else if(Array.isArray(t))for(let e of(n=[],t)){let t;"string"==typeof e?t=e:("number"==typeof e||e instanceof String||e instanceof Number)&&(t=String(e)),void 0!==t&&0>n.indexOf(t)&&n.push(t)}return r instanceof Number?r=Number(r):r instanceof String&&(r=String(r)),"number"==typeof r?r>0&&(r=Math.min(10,Math.floor(r)),l="          ".substr(0,r)):"string"==typeof r&&(l=r.substr(0,10)),u("",{"":e});function u(e,t){let r=t[e];switch(null!=r&&("function"==typeof r.toJSON5?r=r.toJSON5(e):"function"==typeof r.toJSON&&(r=r.toJSON(e))),i&&(r=i.call(t,e,r)),r instanceof Number?r=Number(r):r instanceof String?r=String(r):r instanceof Boolean&&(r=r.valueOf()),r){case null:return"null";case!0:return"true";case!1:return"false"}return"string"==typeof r?c(r,!1):"number"==typeof r?String(r):"object"==typeof r?Array.isArray(r)?p(r):d(r):void 0}function c(e){let t={"'":.1,'"':.2},r={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},n="";for(let i=0;i<e.length;i++){let o=e[i];switch(o){case"'":case'"':t[o]++,n+=o;continue;case"\0":if(v.isDigit(e[i+1])){n+="\\x00";continue}}if(r[o]){n+=r[o];continue}if(o<" "){let e=o.charCodeAt(0).toString(16);n+="\\x"+("00"+e).substring(e.length);continue}n+=o}let i=o||Object.keys(t).reduce((e,r)=>t[e]<t[r]?e:r);return n=n.replace(RegExp(i,"g"),r[i]),i+n+i}function d(e){let t;if(s.indexOf(e)>=0)throw TypeError("Converting circular structure to JSON5");s.push(e);let r=a;a+=l;let i=n||Object.keys(e),o=[];for(let t of i){let r=u(t,e);if(void 0!==r){let e=h(t)+":";""!==l&&(e+=" "),e+=r,o.push(e)}}if(0===o.length)t="{}";else{let e;if(""===l)t="{"+(e=o.join(","))+"}";else{let n=",\n"+a;e=o.join(n),t="{\n"+a+e+",\n"+r+"}"}}return s.pop(),a=r,t}function h(e){if(0===e.length)return c(e,!0);let t=String.fromCodePoint(e.codePointAt(0));if(!v.isIdStartChar(t))return c(e,!0);for(let r=t.length;r<e.length;r++)if(!v.isIdContinueChar(String.fromCodePoint(e.codePointAt(r))))return c(e,!0);return e}function p(e){let t;if(s.indexOf(e)>=0)throw TypeError("Converting circular structure to JSON5");s.push(e);let r=a;a+=l;let n=[];for(let t=0;t<e.length;t++){let r=u(String(t),e);n.push(void 0!==r?r:"null")}if(0===n.length)t="[]";else if(""===l)t="["+n.join(",")+"]";else{let e=",\n"+a,i=n.join(e);t="[\n"+a+i+",\n"+r+"]"}return s.pop(),a=r,t}}}},10692:(e,t,r)=>{"use strict";let n;r.d(t,{z:()=>tC}),function(e){function t(e){}function r(e){throw Error()}function n(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)}e.assertEqual=e=>e,e.assertIs=t,e.assertNever=r,e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(let e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=n,e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(tb||(tb={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(tE||(tE={}));let i=tb.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),o=e=>{switch(typeof e){case"undefined":return i.undefined;case"string":return i.string;case"number":return isNaN(e)?i.nan:i.number;case"boolean":return i.boolean;case"function":return i.function;case"bigint":return i.bigint;case"symbol":return i.symbol;case"object":if(Array.isArray(e))return i.array;if(null===e)return i.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return i.promise;if("undefined"!=typeof Map&&e instanceof Map)return i.map;if("undefined"!=typeof Set&&e instanceof Set)return i.set;if("undefined"!=typeof Date&&e instanceof Date)return i.date;return i.object;default:return i.unknown}},s=tb.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),a=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class l extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){let r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof l))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,tb.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}l.create=e=>new l(e);let u=(e,t)=>{let r;switch(e.code){case s.invalid_type:r=e.received===i.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case s.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,tb.jsonStringifyReplacer)}`;break;case s.unrecognized_keys:r=`Unrecognized key(s) in object: ${tb.joinValues(e.keys,", ")}`;break;case s.invalid_union:r="Invalid input";break;case s.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${tb.joinValues(e.options)}`;break;case s.invalid_enum_value:r=`Invalid enum value. Expected ${tb.joinValues(e.options)}, received '${e.received}'`;break;case s.invalid_arguments:r="Invalid function arguments";break;case s.invalid_return_type:r="Invalid function return type";break;case s.invalid_date:r="Invalid date";break;case s.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:tb.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case s.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case s.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case s.custom:r="Invalid input";break;case s.invalid_intersection_types:r="Intersection results could not be merged";break;case s.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case s.not_finite:r="Number must be finite";break;default:r=t.defaultError,tb.assertNever(e)}return{message:r}},c=u;function d(e){c=e}function h(){return c}let p=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,o=[...r,...i.path||[]],s={...i,path:o};if(void 0!==i.message)return{...i,path:o,message:i.message};let a="";for(let e of n.filter(e=>!!e).slice().reverse())a=e(s,{data:t,defaultError:a}).message;return{...i,path:o,message:a}},f=[];function m(e,t){let r=h(),n=p({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===u?void 0:u].filter(e=>!!e)});e.common.issues.push(n)}class g{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return y;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return g.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:i}=n;if("aborted"===t.status||"aborted"===i.status)return y;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||n.alwaysSet)&&(r[t.value]=i.value)}return{status:e.value,value:r}}}let y=Object.freeze({status:"aborted"}),v=e=>({status:"dirty",value:e}),b=e=>({status:"valid",value:e}),E=e=>"aborted"===e.status,S=e=>"dirty"===e.status,_=e=>"valid"===e.status,T=e=>"undefined"!=typeof Promise&&e instanceof Promise;function A(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function C(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(tS||(tS={}));class w{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let O=(e,t)=>{if(_(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new l(e.common.issues);return this._error=t,this._error}}};function R(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{var o,s;let{message:a}=e;return"invalid_enum_value"===t.code?{message:null!=a?a:i.defaultError}:void 0===i.data?{message:null!==(o=null!=a?a:n)&&void 0!==o?o:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(s=null!=a?a:r)&&void 0!==s?s:i.defaultError}},description:i}}class x{get description(){return this._def.description}_getType(e){return o(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:o(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new g,ctx:{common:e.parent.common,data:e.data,parsedType:o(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(T(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let n={common:{issues:[],async:null!==(r=null==t?void 0:t.async)&&void 0!==r&&r,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:o(e)},i=this._parseSync({data:e,path:n.path,parent:n});return O(n,i)}"~validate"(e){var t,r;let n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:o(e)};if(!this["~standard"].async)try{let t=this._parseSync({data:e,path:[],parent:n});return _(t)?{value:t.value}:{issues:n.common.issues}}catch(e){(null===(r=null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.toLowerCase())||void 0===r?void 0:r.includes("encountered"))&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(e=>_(e)?{value:e.value}:{issues:n.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:o(e)},n=this._parse({data:e,path:r.path,parent:r});return O(r,await (T(n)?n:Promise.resolve(n)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let i=e(t),o=()=>n.addIssue({code:s.custom,...r(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(o(),!1)):!!i||(o(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new eD({schema:this,typeName:tA.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return eP.create(this,this._def)}nullable(){return eN.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return eh.create(this)}promise(){return eI.create(this,this._def)}or(e){return em.create([this,e],this._def)}and(e){return eb.create(this,e,this._def)}transform(e){return new eD({...R(this._def),schema:this,typeName:tA.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t="function"==typeof e?e:()=>e;return new ek({...R(this._def),innerType:this,defaultValue:t,typeName:tA.ZodDefault})}brand(){return new ej({typeName:tA.ZodBranded,type:this,...R(this._def)})}catch(e){let t="function"==typeof e?e:()=>e;return new eM({...R(this._def),innerType:this,catchValue:t,typeName:tA.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return eF.create(this,e)}readonly(){return eU.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let I=/^c[^\s-]{8,}$/i,D=/^[0-9a-z]+$/,P=/^[0-9A-HJKMNP-TV-Z]{26}$/i,N=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,k=/^[a-z0-9_-]{21}$/i,M=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,L=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,B=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,j="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",F=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,U=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,V=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,z=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,G=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,H="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",q=RegExp(`^${H}$`);function W(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function K(e){return RegExp(`^${W(e)}$`)}function Y(e){let t=`${H}T${W(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}function Z(e,t){return!!(("v4"===t||!t)&&F.test(e)||("v6"===t||!t)&&V.test(e))}function J(e,t){if(!M.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));if("object"!=typeof i||null===i||!i.typ||!i.alg||t&&i.alg!==t)return!1;return!0}catch(e){return!1}}function Q(e,t){return!!(("v4"===t||!t)&&U.test(e)||("v6"===t||!t)&&z.test(e))}class X extends x{_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==i.string){let t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:i.string,received:t.parsedType}),y}let r=new g;for(let i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(m(t=this._getOrReturnCtx(e,t),{code:s.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("max"===i.kind)e.data.length>i.value&&(m(t=this._getOrReturnCtx(e,t),{code:s.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if("length"===i.kind){let n=e.data.length>i.value,o=e.data.length<i.value;(n||o)&&(t=this._getOrReturnCtx(e,t),n?m(t,{code:s.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&m(t,{code:s.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if("email"===i.kind)B.test(e.data)||(m(t=this._getOrReturnCtx(e,t),{validation:"email",code:s.invalid_string,message:i.message}),r.dirty());else if("emoji"===i.kind)n||(n=RegExp(j,"u")),n.test(e.data)||(m(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:s.invalid_string,message:i.message}),r.dirty());else if("uuid"===i.kind)N.test(e.data)||(m(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:s.invalid_string,message:i.message}),r.dirty());else if("nanoid"===i.kind)k.test(e.data)||(m(t=this._getOrReturnCtx(e,t),{validation:"nanoid",code:s.invalid_string,message:i.message}),r.dirty());else if("cuid"===i.kind)I.test(e.data)||(m(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:s.invalid_string,message:i.message}),r.dirty());else if("cuid2"===i.kind)D.test(e.data)||(m(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:s.invalid_string,message:i.message}),r.dirty());else if("ulid"===i.kind)P.test(e.data)||(m(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:s.invalid_string,message:i.message}),r.dirty());else if("url"===i.kind)try{new URL(e.data)}catch(n){m(t=this._getOrReturnCtx(e,t),{validation:"url",code:s.invalid_string,message:i.message}),r.dirty()}else"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(e.data)||(m(t=this._getOrReturnCtx(e,t),{validation:"regex",code:s.invalid_string,message:i.message}),r.dirty())):"trim"===i.kind?e.data=e.data.trim():"includes"===i.kind?e.data.includes(i.value,i.position)||(m(t=this._getOrReturnCtx(e,t),{code:s.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):"toLowerCase"===i.kind?e.data=e.data.toLowerCase():"toUpperCase"===i.kind?e.data=e.data.toUpperCase():"startsWith"===i.kind?e.data.startsWith(i.value)||(m(t=this._getOrReturnCtx(e,t),{code:s.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):"endsWith"===i.kind?e.data.endsWith(i.value)||(m(t=this._getOrReturnCtx(e,t),{code:s.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):"datetime"===i.kind?Y(i).test(e.data)||(m(t=this._getOrReturnCtx(e,t),{code:s.invalid_string,validation:"datetime",message:i.message}),r.dirty()):"date"===i.kind?q.test(e.data)||(m(t=this._getOrReturnCtx(e,t),{code:s.invalid_string,validation:"date",message:i.message}),r.dirty()):"time"===i.kind?K(i).test(e.data)||(m(t=this._getOrReturnCtx(e,t),{code:s.invalid_string,validation:"time",message:i.message}),r.dirty()):"duration"===i.kind?L.test(e.data)||(m(t=this._getOrReturnCtx(e,t),{validation:"duration",code:s.invalid_string,message:i.message}),r.dirty()):"ip"===i.kind?Z(e.data,i.version)||(m(t=this._getOrReturnCtx(e,t),{validation:"ip",code:s.invalid_string,message:i.message}),r.dirty()):"jwt"===i.kind?J(e.data,i.alg)||(m(t=this._getOrReturnCtx(e,t),{validation:"jwt",code:s.invalid_string,message:i.message}),r.dirty()):"cidr"===i.kind?Q(e.data,i.version)||(m(t=this._getOrReturnCtx(e,t),{validation:"cidr",code:s.invalid_string,message:i.message}),r.dirty()):"base64"===i.kind?G.test(e.data)||(m(t=this._getOrReturnCtx(e,t),{validation:"base64",code:s.invalid_string,message:i.message}),r.dirty()):"base64url"===i.kind?$.test(e.data)||(m(t=this._getOrReturnCtx(e,t),{validation:"base64url",code:s.invalid_string,message:i.message}),r.dirty()):tb.assertNever(i);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:s.invalid_string,...tS.errToObj(r)})}_addCheck(e){return new X({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...tS.errToObj(e)})}url(e){return this._addCheck({kind:"url",...tS.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...tS.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...tS.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...tS.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...tS.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...tS.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...tS.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...tS.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...tS.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...tS.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...tS.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...tS.errToObj(e)})}datetime(e){var t,r;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(r=null==e?void 0:e.local)&&void 0!==r&&r,...tS.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...tS.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...tS.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...tS.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...tS.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...tS.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...tS.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...tS.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...tS.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...tS.errToObj(t)})}nonempty(e){return this.min(1,tS.errToObj(e))}trim(){return new X({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new X({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new X({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function ee(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}X.create=e=>{var t;return new X({checks:[],typeName:tA.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...R(e)})};class et extends x{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==i.number){let t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:i.number,received:t.parsedType}),y}let r=new g;for(let n of this._def.checks)"int"===n.kind?tb.isInteger(e.data)||(m(t=this._getOrReturnCtx(e,t),{code:s.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(m(t=this._getOrReturnCtx(e,t),{code:s.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(m(t=this._getOrReturnCtx(e,t),{code:s.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==ee(e.data,n.value)&&(m(t=this._getOrReturnCtx(e,t),{code:s.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(m(t=this._getOrReturnCtx(e,t),{code:s.not_finite,message:n.message}),r.dirty()):tb.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,tS.toString(t))}gt(e,t){return this.setLimit("min",e,!1,tS.toString(t))}lte(e,t){return this.setLimit("max",e,!0,tS.toString(t))}lt(e,t){return this.setLimit("max",e,!1,tS.toString(t))}setLimit(e,t,r,n){return new et({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:tS.toString(n)}]})}_addCheck(e){return new et({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:tS.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:tS.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:tS.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:tS.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:tS.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:tS.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:tS.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:tS.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:tS.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&tb.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}et.create=e=>new et({checks:[],typeName:tA.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...R(e)});class er extends x{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==i.bigint)return this._getInvalidInput(e);let r=new g;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(m(t=this._getOrReturnCtx(e,t),{code:s.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(m(t=this._getOrReturnCtx(e,t),{code:s.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(m(t=this._getOrReturnCtx(e,t),{code:s.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):tb.assertNever(n);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:i.bigint,received:t.parsedType}),y}gte(e,t){return this.setLimit("min",e,!0,tS.toString(t))}gt(e,t){return this.setLimit("min",e,!1,tS.toString(t))}lte(e,t){return this.setLimit("max",e,!0,tS.toString(t))}lt(e,t){return this.setLimit("max",e,!1,tS.toString(t))}setLimit(e,t,r,n){return new er({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:tS.toString(n)}]})}_addCheck(e){return new er({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:tS.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:tS.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:tS.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:tS.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:tS.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}er.create=e=>{var t;return new er({checks:[],typeName:tA.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...R(e)})};class en extends x{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==i.boolean){let t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:i.boolean,received:t.parsedType}),y}return b(e.data)}}en.create=e=>new en({typeName:tA.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...R(e)});class ei extends x{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==i.date){let t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:i.date,received:t.parsedType}),y}if(isNaN(e.data.getTime()))return m(this._getOrReturnCtx(e),{code:s.invalid_date}),y;let r=new g;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(m(t=this._getOrReturnCtx(e,t),{code:s.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(m(t=this._getOrReturnCtx(e,t),{code:s.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):tb.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ei({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:tS.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:tS.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}ei.create=e=>new ei({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:tA.ZodDate,...R(e)});class eo extends x{_parse(e){if(this._getType(e)!==i.symbol){let t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:i.symbol,received:t.parsedType}),y}return b(e.data)}}eo.create=e=>new eo({typeName:tA.ZodSymbol,...R(e)});class es extends x{_parse(e){if(this._getType(e)!==i.undefined){let t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:i.undefined,received:t.parsedType}),y}return b(e.data)}}es.create=e=>new es({typeName:tA.ZodUndefined,...R(e)});class ea extends x{_parse(e){if(this._getType(e)!==i.null){let t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:i.null,received:t.parsedType}),y}return b(e.data)}}ea.create=e=>new ea({typeName:tA.ZodNull,...R(e)});class el extends x{constructor(){super(...arguments),this._any=!0}_parse(e){return b(e.data)}}el.create=e=>new el({typeName:tA.ZodAny,...R(e)});class eu extends x{constructor(){super(...arguments),this._unknown=!0}_parse(e){return b(e.data)}}eu.create=e=>new eu({typeName:tA.ZodUnknown,...R(e)});class ec extends x{_parse(e){let t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:i.never,received:t.parsedType}),y}}ec.create=e=>new ec({typeName:tA.ZodNever,...R(e)});class ed extends x{_parse(e){if(this._getType(e)!==i.undefined){let t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:i.void,received:t.parsedType}),y}return b(e.data)}}ed.create=e=>new ed({typeName:tA.ZodVoid,...R(e)});class eh extends x{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==i.array)return m(t,{code:s.invalid_type,expected:i.array,received:t.parsedType}),y;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(m(t,{code:e?s.too_big:s.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(m(t,{code:s.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(m(t,{code:s.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new w(t,e,t.path,r)))).then(e=>g.mergeArray(r,e));let o=[...t.data].map((e,r)=>n.type._parseSync(new w(t,e,t.path,r)));return g.mergeArray(r,o)}get element(){return this._def.type}min(e,t){return new eh({...this._def,minLength:{value:e,message:tS.toString(t)}})}max(e,t){return new eh({...this._def,maxLength:{value:e,message:tS.toString(t)}})}length(e,t){return new eh({...this._def,exactLength:{value:e,message:tS.toString(t)}})}nonempty(e){return this.min(1,e)}}function ep(e){if(e instanceof ef){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=eP.create(ep(n))}return new ef({...e._def,shape:()=>t})}return e instanceof eh?new eh({...e._def,type:ep(e.element)}):e instanceof eP?eP.create(ep(e.unwrap())):e instanceof eN?eN.create(ep(e.unwrap())):e instanceof eE?eE.create(e.items.map(e=>ep(e))):e}eh.create=(e,t)=>new eh({type:e,minLength:null,maxLength:null,exactLength:null,typeName:tA.ZodArray,...R(t)});class ef extends x{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=tb.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==i.object){let t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:i.object,received:t.parsedType}),y}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ec&&"strip"===this._def.unknownKeys))for(let e in r.data)o.includes(e)||a.push(e);let l=[];for(let e of o){let t=n[e],i=r.data[e];l.push({key:{status:"valid",value:e},value:t._parse(new w(r,i,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof ec){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of a)l.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)a.length>0&&(m(r,{code:s.unrecognized_keys,keys:a}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of a){let n=r.data[t];l.push({key:{status:"valid",value:t},value:e._parse(new w(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of l){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>g.mergeObjectSync(t,e)):g.mergeObjectSync(t,l)}get shape(){return this._def.shape()}strict(e){return tS.errToObj,new ef({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var n,i,o,s;let a=null!==(o=null===(i=(n=this._def).errorMap)||void 0===i?void 0:i.call(n,t,r).message)&&void 0!==o?o:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=tS.errToObj(e).message)&&void 0!==s?s:a}:{message:a}}}:{}})}strip(){return new ef({...this._def,unknownKeys:"strip"})}passthrough(){return new ef({...this._def,unknownKeys:"passthrough"})}extend(e){return new ef({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ef({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:tA.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ef({...this._def,catchall:e})}pick(e){let t={};return tb.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new ef({...this._def,shape:()=>t})}omit(e){let t={};return tb.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new ef({...this._def,shape:()=>t})}deepPartial(){return ep(this)}partial(e){let t={};return tb.objectKeys(this.shape).forEach(r=>{let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}),new ef({...this._def,shape:()=>t})}required(e){let t={};return tb.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof eP;)e=e._def.innerType;t[r]=e}}),new ef({...this._def,shape:()=>t})}keyof(){return eO(tb.objectKeys(this.shape))}}ef.create=(e,t)=>new ef({shape:()=>e,unknownKeys:"strip",catchall:ec.create(),typeName:tA.ZodObject,...R(t)}),ef.strictCreate=(e,t)=>new ef({shape:()=>e,unknownKeys:"strict",catchall:ec.create(),typeName:tA.ZodObject,...R(t)}),ef.lazycreate=(e,t)=>new ef({shape:e,unknownKeys:"strip",catchall:ec.create(),typeName:tA.ZodObject,...R(t)});class em extends x{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;function n(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new l(e.ctx.common.issues));return m(t,{code:s.invalid_union,unionErrors:r}),y}if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(n);{let e;let n=[];for(let i of r){let r={...t,common:{...t.common,issues:[]},parent:null},o=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===o.status)return o;"dirty"!==o.status||e||(e={result:o,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=n.map(e=>new l(e));return m(t,{code:s.invalid_union,unionErrors:i}),y}}get options(){return this._def.options}}em.create=(e,t)=>new em({options:e,typeName:tA.ZodUnion,...R(t)});let eg=e=>{if(e instanceof eC)return eg(e.schema);if(e instanceof eD)return eg(e.innerType());if(e instanceof ew)return[e.value];if(e instanceof eR)return e.options;if(e instanceof ex)return tb.objectValues(e.enum);if(e instanceof ek)return eg(e._def.innerType);if(e instanceof es)return[void 0];else if(e instanceof ea)return[null];else if(e instanceof eP)return[void 0,...eg(e.unwrap())];else if(e instanceof eN)return[null,...eg(e.unwrap())];else if(e instanceof ej)return eg(e.unwrap());else if(e instanceof eU)return eg(e.unwrap());else if(e instanceof eM)return eg(e._def.innerType);else return[]};class ey extends x{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==i.object)return m(t,{code:s.invalid_type,expected:i.object,received:t.parsedType}),y;let r=this.discriminator,n=t.data[r],o=this.optionsMap.get(n);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):(m(t,{code:s.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),y)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=eg(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(n.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new ey({typeName:tA.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...R(r)})}}function ev(e,t){let r=o(e),n=o(t);if(e===t)return{valid:!0,data:e};if(r===i.object&&n===i.object){let r=tb.objectKeys(t),n=tb.objectKeys(e).filter(e=>-1!==r.indexOf(e)),i={...e,...t};for(let r of n){let n=ev(e[r],t[r]);if(!n.valid)return{valid:!1};i[r]=n.data}return{valid:!0,data:i}}if(r===i.array&&n===i.array){if(e.length!==t.length)return{valid:!1};let r=[];for(let n=0;n<e.length;n++){let i=ev(e[n],t[n]);if(!i.valid)return{valid:!1};r.push(i.data)}return{valid:!0,data:r}}return r===i.date&&n===i.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class eb extends x{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(E(e)||E(n))return y;let i=ev(e.value,n.value);return i.valid?((S(e)||S(n))&&t.dirty(),{status:t.value,value:i.data}):(m(r,{code:s.invalid_intersection_types}),y)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}eb.create=(e,t,r)=>new eb({left:e,right:t,typeName:tA.ZodIntersection,...R(r)});class eE extends x{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==i.array)return m(r,{code:s.invalid_type,expected:i.array,received:r.parsedType}),y;if(r.data.length<this._def.items.length)return m(r,{code:s.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),y;!this._def.rest&&r.data.length>this._def.items.length&&(m(r,{code:s.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new w(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>g.mergeArray(t,e)):g.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new eE({...this._def,rest:e})}}eE.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new eE({items:e,typeName:tA.ZodTuple,rest:null,...R(t)})};class eS extends x{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==i.object)return m(r,{code:s.invalid_type,expected:i.object,received:r.parsedType}),y;let n=[],o=this._def.keyType,a=this._def.valueType;for(let e in r.data)n.push({key:o._parse(new w(r,e,r.path,e)),value:a._parse(new w(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?g.mergeObjectAsync(t,n):g.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new eS(t instanceof x?{keyType:e,valueType:t,typeName:tA.ZodRecord,...R(r)}:{keyType:X.create(),valueType:e,typeName:tA.ZodRecord,...R(t)})}}class e_ extends x{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==i.map)return m(r,{code:s.invalid_type,expected:i.map,received:r.parsedType}),y;let n=this._def.keyType,o=this._def.valueType,a=[...r.data.entries()].map(([e,t],i)=>({key:n._parse(new w(r,e,r.path,[i,"key"])),value:o._parse(new w(r,t,r.path,[i,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of a){let n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return y;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of a){let n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return y;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}}e_.create=(e,t,r)=>new e_({valueType:t,keyType:e,typeName:tA.ZodMap,...R(r)});class eT extends x{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==i.set)return m(r,{code:s.invalid_type,expected:i.set,received:r.parsedType}),y;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(m(r,{code:s.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(m(r,{code:s.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let o=this._def.valueType;function a(e){let r=new Set;for(let n of e){if("aborted"===n.status)return y;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let l=[...r.data.values()].map((e,t)=>o._parse(new w(r,e,r.path,t)));return r.common.async?Promise.all(l).then(e=>a(e)):a(l)}min(e,t){return new eT({...this._def,minSize:{value:e,message:tS.toString(t)}})}max(e,t){return new eT({...this._def,maxSize:{value:e,message:tS.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}eT.create=(e,t)=>new eT({valueType:e,minSize:null,maxSize:null,typeName:tA.ZodSet,...R(t)});class eA extends x{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==i.function)return m(t,{code:s.invalid_type,expected:i.function,received:t.parsedType}),y;function r(e,r){return p({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,h(),u].filter(e=>!!e),issueData:{code:s.invalid_arguments,argumentsError:r}})}function n(e,r){return p({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,h(),u].filter(e=>!!e),issueData:{code:s.invalid_return_type,returnTypeError:r}})}let o={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof eI){let e=this;return b(async function(...t){let i=new l([]),s=await e._def.args.parseAsync(t,o).catch(e=>{throw i.addIssue(r(t,e)),i}),u=await Reflect.apply(a,this,s);return await e._def.returns._def.type.parseAsync(u,o).catch(e=>{throw i.addIssue(n(u,e)),i})})}{let e=this;return b(function(...t){let i=e._def.args.safeParse(t,o);if(!i.success)throw new l([r(t,i.error)]);let s=Reflect.apply(a,this,i.data),u=e._def.returns.safeParse(s,o);if(!u.success)throw new l([n(s,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new eA({...this._def,args:eE.create(e).rest(eu.create())})}returns(e){return new eA({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new eA({args:e||eE.create([]).rest(eu.create()),returns:t||eu.create(),typeName:tA.ZodFunction,...R(r)})}}class eC extends x{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}eC.create=(e,t)=>new eC({getter:e,typeName:tA.ZodLazy,...R(t)});class ew extends x{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return m(t,{received:t.data,code:s.invalid_literal,expected:this._def.value}),y}return{status:"valid",value:e.data}}get value(){return this._def.value}}function eO(e,t){return new eR({values:e,typeName:tA.ZodEnum,...R(t)})}ew.create=(e,t)=>new ew({value:e,typeName:tA.ZodLiteral,...R(t)});class eR extends x{constructor(){super(...arguments),t_.set(this,void 0)}_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return m(t,{expected:tb.joinValues(r),received:t.parsedType,code:s.invalid_type}),y}if(A(this,t_,"f")||C(this,t_,new Set(this._def.values),"f"),!A(this,t_,"f").has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return m(t,{received:t.data,code:s.invalid_enum_value,options:r}),y}return b(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return eR.create(e,{...this._def,...t})}exclude(e,t=this._def){return eR.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}t_=new WeakMap,eR.create=eO;class ex extends x{constructor(){super(...arguments),tT.set(this,void 0)}_parse(e){let t=tb.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==i.string&&r.parsedType!==i.number){let e=tb.objectValues(t);return m(r,{expected:tb.joinValues(e),received:r.parsedType,code:s.invalid_type}),y}if(A(this,tT,"f")||C(this,tT,new Set(tb.getValidEnumValues(this._def.values)),"f"),!A(this,tT,"f").has(e.data)){let e=tb.objectValues(t);return m(r,{received:r.data,code:s.invalid_enum_value,options:e}),y}return b(e.data)}get enum(){return this._def.values}}tT=new WeakMap,ex.create=(e,t)=>new ex({values:e,typeName:tA.ZodNativeEnum,...R(t)});class eI extends x{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==i.promise&&!1===t.common.async?(m(t,{code:s.invalid_type,expected:i.promise,received:t.parsedType}),y):b((t.parsedType===i.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}eI.create=(e,t)=>new eI({type:e,typeName:tA.ZodPromise,...R(t)});class eD extends x{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===tA.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:e=>{m(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===n.type){let e=n.transform(r.data,i);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return y;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?y:"dirty"===n.status||"dirty"===t.value?v(n.value):n});{if("aborted"===t.value)return y;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?y:"dirty"===n.status||"dirty"===t.value?v(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,i);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?y:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?y:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type){if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>_(e)?Promise.resolve(n.transform(e.value,i)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!_(e))return e;let o=n.transform(e.value,i);if(o instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}}tb.assertNever(n)}}eD.create=(e,t,r)=>new eD({schema:e,typeName:tA.ZodEffects,effect:t,...R(r)}),eD.createWithPreprocess=(e,t,r)=>new eD({schema:t,effect:{type:"preprocess",transform:e},typeName:tA.ZodEffects,...R(r)});class eP extends x{_parse(e){return this._getType(e)===i.undefined?b(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eP.create=(e,t)=>new eP({innerType:e,typeName:tA.ZodOptional,...R(t)});class eN extends x{_parse(e){return this._getType(e)===i.null?b(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eN.create=(e,t)=>new eN({innerType:e,typeName:tA.ZodNullable,...R(t)});class ek extends x{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===i.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ek.create=(e,t)=>new ek({innerType:e,typeName:tA.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...R(t)});class eM extends x{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return T(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new l(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new l(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}eM.create=(e,t)=>new eM({innerType:e,typeName:tA.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...R(t)});class eL extends x{_parse(e){if(this._getType(e)!==i.nan){let t=this._getOrReturnCtx(e);return m(t,{code:s.invalid_type,expected:i.nan,received:t.parsedType}),y}return{status:"valid",value:e.data}}}eL.create=e=>new eL({typeName:tA.ZodNaN,...R(e)});let eB=Symbol("zod_brand");class ej extends x{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class eF extends x{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?y:"dirty"===e.status?(t.dirty(),v(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?y:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new eF({in:e,out:t,typeName:tA.ZodPipeline})}}class eU extends x{_parse(e){let t=this._def.innerType._parse(e),r=e=>(_(e)&&(e.value=Object.freeze(e.value)),e);return T(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function eV(e,t){let r="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof r?{message:r}:r}function ez(e,t={},r){return e?el.create().superRefine((n,i)=>{var o,s;let a=e(n);if(a instanceof Promise)return a.then(e=>{var o,s;if(!e){let e=eV(t,n),a=null===(s=null!==(o=e.fatal)&&void 0!==o?o:r)||void 0===s||s;i.addIssue({code:"custom",...e,fatal:a})}});if(!a){let e=eV(t,n),a=null===(s=null!==(o=e.fatal)&&void 0!==o?o:r)||void 0===s||s;i.addIssue({code:"custom",...e,fatal:a})}}):el.create()}eU.create=(e,t)=>new eU({innerType:e,typeName:tA.ZodReadonly,...R(t)});let eG={object:ef.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(tA||(tA={}));let e$=(e,t={message:`Input not instance of ${e.name}`})=>ez(t=>t instanceof e,t),eH=X.create,eq=et.create,eW=eL.create,eK=er.create,eY=en.create,eZ=ei.create,eJ=eo.create,eQ=es.create,eX=ea.create,e0=el.create,e1=eu.create,e2=ec.create,e3=ed.create,e6=eh.create,e4=ef.create,e5=ef.strictCreate,e8=em.create,e7=ey.create,e9=eb.create,te=eE.create,tt=eS.create,tr=e_.create,tn=eT.create,ti=eA.create,to=eC.create,ts=ew.create,ta=eR.create,tl=ex.create,tu=eI.create,tc=eD.create,td=eP.create,th=eN.create,tp=eD.createWithPreprocess,tf=eF.create,tm=()=>eq().optional(),tg=()=>eY().optional(),ty={string:e=>X.create({...e,coerce:!0}),number:e=>et.create({...e,coerce:!0}),boolean:e=>en.create({...e,coerce:!0}),bigint:e=>er.create({...e,coerce:!0}),date:e=>ei.create({...e,coerce:!0})},tv=y;var tb,tE,tS,t_,tT,tA,tC=Object.freeze({__proto__:null,defaultErrorMap:u,setErrorMap:d,getErrorMap:h,makeIssue:p,EMPTY_PATH:f,addIssueToContext:m,ParseStatus:g,INVALID:y,DIRTY:v,OK:b,isAborted:E,isDirty:S,isValid:_,isAsync:T,get util(){return tb},get objectUtil(){return tE},ZodParsedType:i,getParsedType:o,ZodType:x,datetimeRegex:Y,ZodString:X,ZodNumber:et,ZodBigInt:er,ZodBoolean:en,ZodDate:ei,ZodSymbol:eo,ZodUndefined:es,ZodNull:ea,ZodAny:el,ZodUnknown:eu,ZodNever:ec,ZodVoid:ed,ZodArray:eh,ZodObject:ef,ZodUnion:em,ZodDiscriminatedUnion:ey,ZodIntersection:eb,ZodTuple:eE,ZodRecord:eS,ZodMap:e_,ZodSet:eT,ZodFunction:eA,ZodLazy:eC,ZodLiteral:ew,ZodEnum:eR,ZodNativeEnum:ex,ZodPromise:eI,ZodEffects:eD,ZodTransformer:eD,ZodOptional:eP,ZodNullable:eN,ZodDefault:ek,ZodCatch:eM,ZodNaN:eL,BRAND:eB,ZodBranded:ej,ZodPipeline:eF,ZodReadonly:eU,custom:ez,Schema:x,ZodSchema:x,late:eG,get ZodFirstPartyTypeKind(){return tA},coerce:ty,any:e0,array:e6,bigint:eK,boolean:eY,date:eZ,discriminatedUnion:e7,effect:tc,enum:ta,function:ti,instanceof:e$,intersection:e9,lazy:to,literal:ts,map:tr,nan:eW,nativeEnum:tl,never:e2,null:eX,nullable:th,number:eq,object:e4,oboolean:tg,onumber:tm,optional:td,ostring:()=>eH().optional(),pipeline:tf,preprocess:tp,promise:tu,record:tt,set:tn,strictObject:e5,string:eH,symbol:eJ,transformer:tc,tuple:te,undefined:eQ,union:e8,unknown:e1,void:e3,NEVER:tv,ZodIssueCode:s,quotelessJson:a,ZodError:l})},47390:e=>{"use strict";e.exports={version:"1.9.15"}},81513:e=>{"use strict";e.exports={i8:"1.9.15"}},80812:e=>{"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},56186:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},39348:e=>{"use strict";e.exports=JSON.parse('{"assert":true,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16","async_hooks":">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],"buffer_ieee754":">= 0.5 && < 0.9.7","buffer":true,"node:buffer":[">= 14.18 && < 15",">= 16"],"child_process":true,"node:child_process":[">= 14.18 && < 15",">= 16"],"cluster":">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],"console":true,"node:console":[">= 14.18 && < 15",">= 16"],"constants":true,"node:constants":[">= 14.18 && < 15",">= 16"],"crypto":true,"node:crypto":[">= 14.18 && < 15",">= 16"],"_debug_agent":">= 1 && < 8","_debugger":"< 8","dgram":true,"node:dgram":[">= 14.18 && < 15",">= 16"],"diagnostics_channel":[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],"dns":true,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16","domain":">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],"events":true,"node:events":[">= 14.18 && < 15",">= 16"],"freelist":"< 6","fs":true,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],"_http_agent":">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],"_http_client":">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],"_http_common":">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],"_http_incoming":">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],"_http_outgoing":">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],"_http_server":">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],"http":true,"node:http":[">= 14.18 && < 15",">= 16"],"http2":">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],"https":true,"node:https":[">= 14.18 && < 15",">= 16"],"inspector":">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],"_linklist":"< 8","module":true,"node:module":[">= 14.18 && < 15",">= 16"],"net":true,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12","os":true,"node:os":[">= 14.18 && < 15",">= 16"],"path":true,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16","perf_hooks":">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],"process":">= 1","node:process":[">= 14.18 && < 15",">= 16"],"punycode":">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],"querystring":true,"node:querystring":[">= 14.18 && < 15",">= 16"],"readline":true,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17","repl":true,"node:repl":[">= 14.18 && < 15",">= 16"],"node:sea":[">= 20.12 && < 21",">= 21.7"],"smalloc":">= 0.11.5 && < 3","node:sqlite":[">= 22.13 && < 23",">= 23.4"],"_stream_duplex":">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],"_stream_transform":">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],"_stream_wrap":">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],"_stream_passthrough":">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],"_stream_readable":">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],"_stream_writable":">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],"stream":true,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5","string_decoder":true,"node:string_decoder":[">= 14.18 && < 15",">= 16"],"sys":[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"test/mock_loader":">= 22.3 && < 22.7","node:test/mock_loader":">= 22.3 && < 22.7","node:test":[">= 16.17 && < 17",">= 18"],"timers":true,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16","_tls_common":">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],"_tls_legacy":">= 0.11.3 && < 10","_tls_wrap":">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],"tls":true,"node:tls":[">= 14.18 && < 15",">= 16"],"trace_events":">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],"tty":true,"node:tty":[">= 14.18 && < 15",">= 16"],"url":true,"node:url":[">= 14.18 && < 15",">= 16"],"util":true,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8":">= 1","node:v8":[">= 14.18 && < 15",">= 16"],"vm":true,"node:vm":[">= 14.18 && < 15",">= 16"],"wasi":[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],"node:wasi":[">= 18.17 && < 19",">= 20"],"worker_threads":">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],"zlib":">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}')},56786:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Api":{"fields":{"name":{"type":"string","id":1},"methods":{"rule":"repeated","type":"Method","id":2},"options":{"rule":"repeated","type":"Option","id":3},"version":{"type":"string","id":4},"sourceContext":{"type":"SourceContext","id":5},"mixins":{"rule":"repeated","type":"Mixin","id":6},"syntax":{"type":"Syntax","id":7}}},"Method":{"fields":{"name":{"type":"string","id":1},"requestTypeUrl":{"type":"string","id":2},"requestStreaming":{"type":"bool","id":3},"responseTypeUrl":{"type":"string","id":4},"responseStreaming":{"type":"bool","id":5},"options":{"rule":"repeated","type":"Option","id":6},"syntax":{"type":"Syntax","id":7}}},"Mixin":{"fields":{"name":{"type":"string","id":1},"root":{"type":"string","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}}}}}}}}')},56541:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Api":{"fields":{"name":{"type":"string","id":1},"methods":{"rule":"repeated","type":"Method","id":2},"options":{"rule":"repeated","type":"Option","id":3},"version":{"type":"string","id":4},"sourceContext":{"type":"SourceContext","id":5},"mixins":{"rule":"repeated","type":"Mixin","id":6},"syntax":{"type":"Syntax","id":7}}},"Method":{"fields":{"name":{"type":"string","id":1},"requestTypeUrl":{"type":"string","id":2},"requestStreaming":{"type":"bool","id":3},"responseTypeUrl":{"type":"string","id":4},"responseStreaming":{"type":"bool","id":5},"options":{"rule":"repeated","type":"Option","id":6},"syntax":{"type":"Syntax","id":7}}},"Mixin":{"fields":{"name":{"type":"string","id":1},"root":{"type":"string","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}}}}}}}}')},65061:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"options":{"go_package":"google.golang.org/protobuf/types/descriptorpb","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"edition":"proto2","fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}},"extensions":[[536000000,536000000]]},"Edition":{"edition":"proto2","values":{"EDITION_UNKNOWN":0,"EDITION_LEGACY":900,"EDITION_PROTO2":998,"EDITION_PROTO3":999,"EDITION_2023":1000,"EDITION_2024":1001,"EDITION_1_TEST_ONLY":1,"EDITION_2_TEST_ONLY":2,"EDITION_99997_TEST_ONLY":99997,"EDITION_99998_TEST_ONLY":99998,"EDITION_99999_TEST_ONLY":99999,"EDITION_MAX":2147483647}},"FileDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10},"weakDependency":{"rule":"repeated","type":"int32","id":11},"optionDependency":{"rule":"repeated","type":"string","id":15},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12},"edition":{"type":"Edition","id":14}}},"DescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10},"visibility":{"type":"SymbolVisibility","id":11}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"edition":"proto2","fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999},"declaration":{"rule":"repeated","type":"Declaration","id":2,"options":{"retention":"RETENTION_SOURCE"}},"features":{"type":"FeatureSet","id":50},"verification":{"type":"VerificationState","id":3,"options":{"default":"UNVERIFIED","retention":"RETENTION_SOURCE"}}},"extensions":[[1000,536870911]],"nested":{"Declaration":{"fields":{"number":{"type":"int32","id":1},"fullName":{"type":"string","id":2},"type":{"type":"string","id":3},"reserved":{"type":"bool","id":5},"repeated":{"type":"bool","id":6}},"reserved":[[4,4]]},"VerificationState":{"values":{"DECLARATION":0,"UNVERIFIED":1}}}},"FieldDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REPEATED":3,"LABEL_REQUIRED":2}}}},"OneofDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5},"visibility":{"type":"SymbolVisibility","id":6}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5},"serverStreaming":{"type":"bool","id":6}}},"FileOptions":{"edition":"proto2","fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16},"javaGenericServices":{"type":"bool","id":17},"pyGenericServices":{"type":"bool","id":18},"deprecated":{"type":"bool","id":23},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"features":{"type":"FeatureSet","id":50},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[42,42],[38,38],"php_generic_services"],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"edition":"proto2","fields":{"messageSetWireFormat":{"type":"bool","id":1},"noStandardDescriptorAccessor":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"mapEntry":{"type":"bool","id":7},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":11,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":12},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[5,5],[6,6],[8,8],[9,9]]},"FieldOptions":{"edition":"proto2","fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5},"unverifiedLazy":{"type":"bool","id":15},"deprecated":{"type":"bool","id":3},"weak":{"type":"bool","id":10,"options":{"deprecated":true}},"debugRedact":{"type":"bool","id":16},"retention":{"type":"OptionRetention","id":17},"targets":{"rule":"repeated","type":"OptionTargetType","id":19},"editionDefaults":{"rule":"repeated","type":"EditionDefault","id":20},"features":{"type":"FeatureSet","id":21},"featureSupport":{"type":"FeatureSupport","id":22},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[18,18]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}},"OptionRetention":{"values":{"RETENTION_UNKNOWN":0,"RETENTION_RUNTIME":1,"RETENTION_SOURCE":2}},"OptionTargetType":{"values":{"TARGET_TYPE_UNKNOWN":0,"TARGET_TYPE_FILE":1,"TARGET_TYPE_EXTENSION_RANGE":2,"TARGET_TYPE_MESSAGE":3,"TARGET_TYPE_FIELD":4,"TARGET_TYPE_ONEOF":5,"TARGET_TYPE_ENUM":6,"TARGET_TYPE_ENUM_ENTRY":7,"TARGET_TYPE_SERVICE":8,"TARGET_TYPE_METHOD":9}},"EditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"value":{"type":"string","id":2}}},"FeatureSupport":{"fields":{"editionIntroduced":{"type":"Edition","id":1},"editionDeprecated":{"type":"Edition","id":2},"deprecationWarning":{"type":"string","id":3},"editionRemoved":{"type":"Edition","id":4}}}}},"OneofOptions":{"edition":"proto2","fields":{"features":{"type":"FeatureSet","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"edition":"proto2","fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":6,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"edition":"proto2","fields":{"deprecated":{"type":"bool","id":1},"features":{"type":"FeatureSet","id":2},"debugRedact":{"type":"bool","id":3},"featureSupport":{"type":"FieldOptions.FeatureSupport","id":4},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"edition":"proto2","fields":{"features":{"type":"FeatureSet","id":34},"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"edition":"proto2","fields":{"deprecated":{"type":"bool","id":33},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"features":{"type":"FeatureSet","id":35},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"edition":"proto2","fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"FeatureSet":{"edition":"proto2","fields":{"fieldPresence":{"type":"FieldPresence","id":1,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},"enumType":{"type":"EnumType","id":2,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},"repeatedFieldEncoding":{"type":"RepeatedFieldEncoding","id":3,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},"utf8Validation":{"type":"Utf8Validation","id":4,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},"messageEncoding":{"type":"MessageEncoding","id":5,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_LEGACY","edition_defaults.value":"LENGTH_PREFIXED"}},"jsonFormat":{"type":"JsonFormat","id":6,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}},"enforceNamingStyle":{"type":"EnforceNamingStyle","id":7,"options":{"retention":"RETENTION_SOURCE","targets":"TARGET_TYPE_METHOD","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"STYLE2024"}},"defaultSymbolVisibility":{"type":"VisibilityFeature.DefaultSymbolVisibility","id":8,"options":{"retention":"RETENTION_SOURCE","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"EXPORT_TOP_LEVEL"}}},"extensions":[[1000,9994],[9995,9999],[10000,10000]],"reserved":[[999,999]],"nested":{"FieldPresence":{"values":{"FIELD_PRESENCE_UNKNOWN":0,"EXPLICIT":1,"IMPLICIT":2,"LEGACY_REQUIRED":3}},"EnumType":{"values":{"ENUM_TYPE_UNKNOWN":0,"OPEN":1,"CLOSED":2}},"RepeatedFieldEncoding":{"values":{"REPEATED_FIELD_ENCODING_UNKNOWN":0,"PACKED":1,"EXPANDED":2}},"Utf8Validation":{"values":{"UTF8_VALIDATION_UNKNOWN":0,"VERIFY":2,"NONE":3}},"MessageEncoding":{"values":{"MESSAGE_ENCODING_UNKNOWN":0,"LENGTH_PREFIXED":1,"DELIMITED":2}},"JsonFormat":{"values":{"JSON_FORMAT_UNKNOWN":0,"ALLOW":1,"LEGACY_BEST_EFFORT":2}},"EnforceNamingStyle":{"values":{"ENFORCE_NAMING_STYLE_UNKNOWN":0,"STYLE2024":1,"STYLE_LEGACY":2}},"VisibilityFeature":{"fields":{},"reserved":[[1,536870911]],"nested":{"DefaultSymbolVisibility":{"values":{"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN":0,"EXPORT_ALL":1,"EXPORT_TOP_LEVEL":2,"LOCAL_ALL":3,"STRICT":4}}}}}},"FeatureSetDefaults":{"edition":"proto2","fields":{"defaults":{"rule":"repeated","type":"FeatureSetEditionDefault","id":1},"minimumEdition":{"type":"Edition","id":4},"maximumEdition":{"type":"Edition","id":5}},"nested":{"FeatureSetEditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"overridableFeatures":{"type":"FeatureSet","id":4},"fixedFeatures":{"type":"FeatureSet","id":5}},"reserved":[[1,1],[2,2],"features"]}}},"SourceCodeInfo":{"edition":"proto2","fields":{"location":{"rule":"repeated","type":"Location","id":1}},"extensions":[[536000000,536000000]],"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1,"options":{"packed":true}},"span":{"rule":"repeated","type":"int32","id":2,"options":{"packed":true}},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"edition":"proto2","fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1,"options":{"packed":true}},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4},"semantic":{"type":"Semantic","id":5}},"nested":{"Semantic":{"values":{"NONE":0,"SET":1,"ALIAS":2}}}}}},"SymbolVisibility":{"edition":"proto2","values":{"VISIBILITY_UNSET":0,"VISIBILITY_LOCAL":1,"VISIBILITY_EXPORT":2}}}}}}}}')},89987:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"options":{"go_package":"google.golang.org/protobuf/types/descriptorpb","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"edition":"proto2","fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}},"extensions":[[536000000,536000000]]},"Edition":{"edition":"proto2","values":{"EDITION_UNKNOWN":0,"EDITION_LEGACY":900,"EDITION_PROTO2":998,"EDITION_PROTO3":999,"EDITION_2023":1000,"EDITION_2024":1001,"EDITION_1_TEST_ONLY":1,"EDITION_2_TEST_ONLY":2,"EDITION_99997_TEST_ONLY":99997,"EDITION_99998_TEST_ONLY":99998,"EDITION_99999_TEST_ONLY":99999,"EDITION_MAX":2147483647}},"FileDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10},"weakDependency":{"rule":"repeated","type":"int32","id":11},"optionDependency":{"rule":"repeated","type":"string","id":15},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12},"edition":{"type":"Edition","id":14}}},"DescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10},"visibility":{"type":"SymbolVisibility","id":11}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"edition":"proto2","fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999},"declaration":{"rule":"repeated","type":"Declaration","id":2,"options":{"retention":"RETENTION_SOURCE"}},"features":{"type":"FeatureSet","id":50},"verification":{"type":"VerificationState","id":3,"options":{"default":"UNVERIFIED","retention":"RETENTION_SOURCE"}}},"extensions":[[1000,536870911]],"nested":{"Declaration":{"fields":{"number":{"type":"int32","id":1},"fullName":{"type":"string","id":2},"type":{"type":"string","id":3},"reserved":{"type":"bool","id":5},"repeated":{"type":"bool","id":6}},"reserved":[[4,4]]},"VerificationState":{"values":{"DECLARATION":0,"UNVERIFIED":1}}}},"FieldDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REPEATED":3,"LABEL_REQUIRED":2}}}},"OneofDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5},"visibility":{"type":"SymbolVisibility","id":6}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5},"serverStreaming":{"type":"bool","id":6}}},"FileOptions":{"edition":"proto2","fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16},"javaGenericServices":{"type":"bool","id":17},"pyGenericServices":{"type":"bool","id":18},"deprecated":{"type":"bool","id":23},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"features":{"type":"FeatureSet","id":50},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[42,42],[38,38],"php_generic_services"],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"edition":"proto2","fields":{"messageSetWireFormat":{"type":"bool","id":1},"noStandardDescriptorAccessor":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"mapEntry":{"type":"bool","id":7},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":11,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":12},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[5,5],[6,6],[8,8],[9,9]]},"FieldOptions":{"edition":"proto2","fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5},"unverifiedLazy":{"type":"bool","id":15},"deprecated":{"type":"bool","id":3},"weak":{"type":"bool","id":10,"options":{"deprecated":true}},"debugRedact":{"type":"bool","id":16},"retention":{"type":"OptionRetention","id":17},"targets":{"rule":"repeated","type":"OptionTargetType","id":19},"editionDefaults":{"rule":"repeated","type":"EditionDefault","id":20},"features":{"type":"FeatureSet","id":21},"featureSupport":{"type":"FeatureSupport","id":22},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[18,18]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}},"OptionRetention":{"values":{"RETENTION_UNKNOWN":0,"RETENTION_RUNTIME":1,"RETENTION_SOURCE":2}},"OptionTargetType":{"values":{"TARGET_TYPE_UNKNOWN":0,"TARGET_TYPE_FILE":1,"TARGET_TYPE_EXTENSION_RANGE":2,"TARGET_TYPE_MESSAGE":3,"TARGET_TYPE_FIELD":4,"TARGET_TYPE_ONEOF":5,"TARGET_TYPE_ENUM":6,"TARGET_TYPE_ENUM_ENTRY":7,"TARGET_TYPE_SERVICE":8,"TARGET_TYPE_METHOD":9}},"EditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"value":{"type":"string","id":2}}},"FeatureSupport":{"fields":{"editionIntroduced":{"type":"Edition","id":1},"editionDeprecated":{"type":"Edition","id":2},"deprecationWarning":{"type":"string","id":3},"editionRemoved":{"type":"Edition","id":4}}}}},"OneofOptions":{"edition":"proto2","fields":{"features":{"type":"FeatureSet","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"edition":"proto2","fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":6,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"edition":"proto2","fields":{"deprecated":{"type":"bool","id":1},"features":{"type":"FeatureSet","id":2},"debugRedact":{"type":"bool","id":3},"featureSupport":{"type":"FieldOptions.FeatureSupport","id":4},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"edition":"proto2","fields":{"features":{"type":"FeatureSet","id":34},"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"edition":"proto2","fields":{"deprecated":{"type":"bool","id":33},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"features":{"type":"FeatureSet","id":35},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"edition":"proto2","fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"FeatureSet":{"edition":"proto2","fields":{"fieldPresence":{"type":"FieldPresence","id":1,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},"enumType":{"type":"EnumType","id":2,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},"repeatedFieldEncoding":{"type":"RepeatedFieldEncoding","id":3,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},"utf8Validation":{"type":"Utf8Validation","id":4,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},"messageEncoding":{"type":"MessageEncoding","id":5,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_LEGACY","edition_defaults.value":"LENGTH_PREFIXED"}},"jsonFormat":{"type":"JsonFormat","id":6,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}},"enforceNamingStyle":{"type":"EnforceNamingStyle","id":7,"options":{"retention":"RETENTION_SOURCE","targets":"TARGET_TYPE_METHOD","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"STYLE2024"}},"defaultSymbolVisibility":{"type":"VisibilityFeature.DefaultSymbolVisibility","id":8,"options":{"retention":"RETENTION_SOURCE","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"EXPORT_TOP_LEVEL"}}},"extensions":[[1000,9994],[9995,9999],[10000,10000]],"reserved":[[999,999]],"nested":{"FieldPresence":{"values":{"FIELD_PRESENCE_UNKNOWN":0,"EXPLICIT":1,"IMPLICIT":2,"LEGACY_REQUIRED":3}},"EnumType":{"values":{"ENUM_TYPE_UNKNOWN":0,"OPEN":1,"CLOSED":2}},"RepeatedFieldEncoding":{"values":{"REPEATED_FIELD_ENCODING_UNKNOWN":0,"PACKED":1,"EXPANDED":2}},"Utf8Validation":{"values":{"UTF8_VALIDATION_UNKNOWN":0,"VERIFY":2,"NONE":3}},"MessageEncoding":{"values":{"MESSAGE_ENCODING_UNKNOWN":0,"LENGTH_PREFIXED":1,"DELIMITED":2}},"JsonFormat":{"values":{"JSON_FORMAT_UNKNOWN":0,"ALLOW":1,"LEGACY_BEST_EFFORT":2}},"EnforceNamingStyle":{"values":{"ENFORCE_NAMING_STYLE_UNKNOWN":0,"STYLE2024":1,"STYLE_LEGACY":2}},"VisibilityFeature":{"fields":{},"reserved":[[1,536870911]],"nested":{"DefaultSymbolVisibility":{"values":{"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN":0,"EXPORT_ALL":1,"EXPORT_TOP_LEVEL":2,"LOCAL_ALL":3,"STRICT":4}}}}}},"FeatureSetDefaults":{"edition":"proto2","fields":{"defaults":{"rule":"repeated","type":"FeatureSetEditionDefault","id":1},"minimumEdition":{"type":"Edition","id":4},"maximumEdition":{"type":"Edition","id":5}},"nested":{"FeatureSetEditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"overridableFeatures":{"type":"FeatureSet","id":4},"fixedFeatures":{"type":"FeatureSet","id":5}},"reserved":[[1,1],[2,2],"features"]}}},"SourceCodeInfo":{"edition":"proto2","fields":{"location":{"rule":"repeated","type":"Location","id":1}},"extensions":[[536000000,536000000]],"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1,"options":{"packed":true}},"span":{"rule":"repeated","type":"int32","id":2,"options":{"packed":true}},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"edition":"proto2","fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1,"options":{"packed":true}},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4},"semantic":{"type":"Semantic","id":5}},"nested":{"Semantic":{"values":{"NONE":0,"SET":1,"ALIAS":2}}}}}},"SymbolVisibility":{"edition":"proto2","values":{"VISIBILITY_UNSET":0,"VISIBILITY_LOCAL":1,"VISIBILITY_EXPORT":2}}}}}}}}')},95502:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},57674:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},731:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Type":{"fields":{"name":{"type":"string","id":1},"fields":{"rule":"repeated","type":"Field","id":2},"oneofs":{"rule":"repeated","type":"string","id":3},"options":{"rule":"repeated","type":"Option","id":4},"sourceContext":{"type":"SourceContext","id":5},"syntax":{"type":"Syntax","id":6}}},"Field":{"fields":{"kind":{"type":"Kind","id":1},"cardinality":{"type":"Cardinality","id":2},"number":{"type":"int32","id":3},"name":{"type":"string","id":4},"typeUrl":{"type":"string","id":6},"oneofIndex":{"type":"int32","id":7},"packed":{"type":"bool","id":8},"options":{"rule":"repeated","type":"Option","id":9},"jsonName":{"type":"string","id":10},"defaultValue":{"type":"string","id":11}},"nested":{"Kind":{"values":{"TYPE_UNKNOWN":0,"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Cardinality":{"values":{"CARDINALITY_UNKNOWN":0,"CARDINALITY_OPTIONAL":1,"CARDINALITY_REQUIRED":2,"CARDINALITY_REPEATED":3}}}},"Enum":{"fields":{"name":{"type":"string","id":1},"enumvalue":{"rule":"repeated","type":"EnumValue","id":2},"options":{"rule":"repeated","type":"Option","id":3},"sourceContext":{"type":"SourceContext","id":4},"syntax":{"type":"Syntax","id":5}}},"EnumValue":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"rule":"repeated","type":"Option","id":3}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},73795:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Type":{"fields":{"name":{"type":"string","id":1},"fields":{"rule":"repeated","type":"Field","id":2},"oneofs":{"rule":"repeated","type":"string","id":3},"options":{"rule":"repeated","type":"Option","id":4},"sourceContext":{"type":"SourceContext","id":5},"syntax":{"type":"Syntax","id":6}}},"Field":{"fields":{"kind":{"type":"Kind","id":1},"cardinality":{"type":"Cardinality","id":2},"number":{"type":"int32","id":3},"name":{"type":"string","id":4},"typeUrl":{"type":"string","id":6},"oneofIndex":{"type":"int32","id":7},"packed":{"type":"bool","id":8},"options":{"rule":"repeated","type":"Option","id":9},"jsonName":{"type":"string","id":10},"defaultValue":{"type":"string","id":11}},"nested":{"Kind":{"values":{"TYPE_UNKNOWN":0,"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Cardinality":{"values":{"CARDINALITY_UNKNOWN":0,"CARDINALITY_OPTIONAL":1,"CARDINALITY_REQUIRED":2,"CARDINALITY_REPEATED":3}}}},"Enum":{"fields":{"name":{"type":"string","id":1},"enumvalue":{"rule":"repeated","type":"EnumValue","id":2},"options":{"rule":"repeated","type":"Option","id":3},"sourceContext":{"type":"SourceContext","id":4},"syntax":{"type":"Syntax","id":5}}},"EnumValue":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"rule":"repeated","type":"Option","id":3}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},39557:e=>{"use strict";e.exports=JSON.parse('{"bugs":{"url":"https://github.com/nodejs/require-in-the-middle/issues"}}')},38557:e=>{"use strict";e.exports=JSON.parse('{"assert":true,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16","async_hooks":">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],"buffer_ieee754":">= 0.5 && < 0.9.7","buffer":true,"node:buffer":[">= 14.18 && < 15",">= 16"],"child_process":true,"node:child_process":[">= 14.18 && < 15",">= 16"],"cluster":">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],"console":true,"node:console":[">= 14.18 && < 15",">= 16"],"constants":true,"node:constants":[">= 14.18 && < 15",">= 16"],"crypto":true,"node:crypto":[">= 14.18 && < 15",">= 16"],"_debug_agent":">= 1 && < 8","_debugger":"< 8","dgram":true,"node:dgram":[">= 14.18 && < 15",">= 16"],"diagnostics_channel":[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],"dns":true,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16","domain":">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],"events":true,"node:events":[">= 14.18 && < 15",">= 16"],"freelist":"< 6","fs":true,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],"_http_agent":">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],"_http_client":">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],"_http_common":">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],"_http_incoming":">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],"_http_outgoing":">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],"_http_server":">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],"http":true,"node:http":[">= 14.18 && < 15",">= 16"],"http2":">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],"https":true,"node:https":[">= 14.18 && < 15",">= 16"],"inspector":">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],"_linklist":"< 8","module":true,"node:module":[">= 14.18 && < 15",">= 16"],"net":true,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12","os":true,"node:os":[">= 14.18 && < 15",">= 16"],"path":true,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16","perf_hooks":">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],"process":">= 1","node:process":[">= 14.18 && < 15",">= 16"],"punycode":">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],"querystring":true,"node:querystring":[">= 14.18 && < 15",">= 16"],"readline":true,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17","repl":true,"node:repl":[">= 14.18 && < 15",">= 16"],"node:sea":[">= 20.12 && < 21",">= 21.7"],"smalloc":">= 0.11.5 && < 3","node:sqlite":">= 23.4","_stream_duplex":">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],"_stream_transform":">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],"_stream_wrap":">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],"_stream_passthrough":">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],"_stream_readable":">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],"_stream_writable":">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],"stream":true,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5","string_decoder":true,"node:string_decoder":[">= 14.18 && < 15",">= 16"],"sys":[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"test/mock_loader":">= 22.3 && < 22.7","node:test/mock_loader":">= 22.3 && < 22.7","node:test":[">= 16.17 && < 17",">= 18"],"timers":true,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16","_tls_common":">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],"_tls_legacy":">= 0.11.3 && < 10","_tls_wrap":">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],"tls":true,"node:tls":[">= 14.18 && < 15",">= 16"],"trace_events":">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],"tty":true,"node:tty":[">= 14.18 && < 15",">= 16"],"url":true,"node:url":[">= 14.18 && < 15",">= 16"],"util":true,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8":">= 1","node:v8":[">= 14.18 && < 15",">= 16"],"vm":true,"node:vm":[">= 14.18 && < 15",">= 16"],"wasi":[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],"node:wasi":[">= 18.17 && < 19",">= 20"],"worker_threads":">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],"zlib":">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}')}};