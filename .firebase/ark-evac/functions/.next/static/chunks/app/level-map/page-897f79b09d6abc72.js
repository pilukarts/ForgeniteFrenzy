(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2092],{58739:function(e,t,a){Promise.resolve().then(a.bind(a,31034))},31034:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return v}});var r=a(57437),s=a(48059),n=a.n(s),o=a(2265),i=a(33593),l=a(48649),c=a(22468),d=a(74453),f=a(66648),m=a(49354),x=a(21513),u=a(86763),g=a(50871);let p=e=>{let{level:t,isCurrent:a,isCompleted:s,onClick:n,commanderImgSrc:o,commanderAlt:i,commanderDataAiHint:x}=e,u=s?"hsla(var(--stage-color-primary)/0.6)":"hsl(var(--stage-color-primary))";return(0,r.jsxs)("button",{onClick:n,className:(0,m.cn)("relative w-28 h-32 flex items-center justify-center group focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background focus:ring-bright-gold rounded-full"),"aria-label":"Level ".concat(t),children:[(0,r.jsx)("div",{className:"absolute w-[70%] h-[80%] bg-[hsl(var(--stage-color-fill))] transform rotate-[30deg] rounded-[10px] shadow-inner",style:{boxShadow:"\n            inset 0 2px 2px hsla(var(--stage-color-primary)/0.5),\n            inset 0 -2px 2px hsla(0,0%,0%,0.3)\n          "},children:(0,r.jsx)("div",{className:"w-full h-full bg-[hsl(var(--stage-color-fill))] transform rotate-[-60deg] rounded-[10px]"})}),(0,r.jsx)("div",{className:(0,m.cn)("absolute w-full h-full transition-all duration-300",a?"animate-pulse-strong":""),style:{filter:"drop-shadow(0 0 4px ".concat(u,") drop-shadow(0 0 8px ").concat(u,")")},children:(0,r.jsx)(l.Z,{strokeWidth:1,className:(0,m.cn)("absolute w-full h-full transition-colors duration-300","text-[hsl(var(--stage-color-primary))]",s?"opacity-30":"opacity-80")})}),(0,r.jsx)("div",{className:"relative z-10 flex flex-col items-center justify-center text-center text-white",children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{className:"h-8 w-8 text-green-400/80"}),(0,r.jsx)("span",{className:"text-sm font-bold text-green-400/70",children:t})]}):a&&o&&i?(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(f.default,{src:o,alt:i,"data-ai-hint":x,width:60,height:60,className:"rounded-full object-cover border-2 border-bright-gold pointer-events-none",style:{clipPath:"circle(50% at 50% 50%)"}}),(0,r.jsx)("span",{className:"absolute -bottom-2 -right-2 text-xs bg-primary text-primary-foreground rounded-full h-5 w-5 flex items-center justify-center border-2 border-background pointer-events-none",children:t})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{className:"h-6 w-6 text-muted-foreground/50"}),(0,r.jsx)("span",{className:"text-base text-muted-foreground/80 mt-1",children:t})]})})]})};var h=()=>{let{playerProfile:e}=(0,i.G$)(),{toast:t}=(0,u.pm)(),a=(0,o.useRef)(null),s=(0,o.useRef)(null);if((0,o.useEffect)(()=>{if(a.current&&s.current){let e=s.current,t=a.current,r=e.getBoundingClientRect(),n=t.offsetTop-r.height/2+t.offsetHeight/2;e.scrollTo({top:n,behavior:"smooth"})}},[null==e?void 0:e.level]),!e)return(0,r.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"Loading player data..."})});let{level:l,commanderSex:c,portraitUrl:d}=e,f="male"===c?"Male Commander":"Female Commander",m="male"===c?"male soldier portrait":"female soldier portrait",h=(e,a,r,s)=>{r?t({title:"C.O.R.E. Report",description:"You are here, Commander. Mission: Level ".concat(e,".")}):s?t({title:"Sector Cleared",description:"Level ".concat(e," has already been secured.")}):t({title:"Sector Locked",description:"You must reach level ".concat(e," to access this sector."),variant:"destructive"})},b=e=>g.U0.find(t=>e>=t.startLevel&&e<=t.endLevel)||g.U0[0],y=Math.max(1,l-10),v=b(l),j=g.U0.find(e=>e.startLevel>v.endLevel),k=l+100;j&&j.startLevel<k&&(k=Math.max(k,j.endLevel));let w=Array.from({length:(k=Math.min(5e4,k))-y+1},(e,t)=>y+t);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{ref:s,className:"jsx-fff511cd6cf5a34d h-full w-full overflow-y-auto relative p-4",children:[(0,r.jsx)("div",{style:{height:"".concat((y-1)*8,"rem")},className:"jsx-fff511cd6cf5a34d"}),(0,r.jsx)("div",{className:"jsx-fff511cd6cf5a34d flex flex-col items-center gap-y-4",children:w.slice().reverse().map(e=>{let t=e===l,s=e<l,n=b(e),i=40*Math.sin(.5*e),c={"--stage-color-primary":n.colors.primary,"--stage-color-fill":n.colors.fill},u=g.U0.find(t=>t.endLevel===e);return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(x.E.div,{ref:t?a:null,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3,delay:e%10*.05},className:"relative w-28 h-32 flex items-center justify-center",style:{marginLeft:"".concat(i,"px"),...c},children:(0,r.jsx)(p,{level:e,isCurrent:t,isCompleted:s,onClick:()=>h(e,!0,t,s),commanderImgSrc:d,commanderAlt:f,commanderDataAiHint:m})}),u&&5e4!==e&&(0,r.jsxs)("div",{style:{"--stage-color-primary":u.colors.primary},className:"jsx-fff511cd6cf5a34d text-center my-8",children:[(0,r.jsx)("h2",{className:"jsx-fff511cd6cf5a34d text-4xl sm:text-5xl font-headline tracking-widest text-[hsl(var(--stage-color-primary))] opacity-80",children:u.name}),(0,r.jsxs)("p",{className:"jsx-fff511cd6cf5a34d text-muted-foreground text-sm",children:["Levels ",u.startLevel,"-",u.endLevel]})]})]},e)})}),(0,r.jsx)("div",{style:{height:"".concat((5e4-k)*8,"rem")},className:"jsx-fff511cd6cf5a34d"})]}),(0,r.jsx)(n(),{id:"fff511cd6cf5a34d",children:"@-webkit-keyframes pulse-strong{0%,100%{-webkit-transform:scale(1);transform:scale(1);opacity:1}50%{-webkit-transform:scale(1.05);transform:scale(1.05);opacity:.9}}@-moz-keyframes pulse-strong{0%,100%{-moz-transform:scale(1);transform:scale(1);opacity:1}50%{-moz-transform:scale(1.05);transform:scale(1.05);opacity:.9}}@-o-keyframes pulse-strong{0%,100%{-o-transform:scale(1);transform:scale(1);opacity:1}50%{-o-transform:scale(1.05);transform:scale(1.05);opacity:.9}}@keyframes pulse-strong{0%,100%{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1);opacity:1}50%{-webkit-transform:scale(1.05);-moz-transform:scale(1.05);-o-transform:scale(1.05);transform:scale(1.05);opacity:.9}}.animate-pulse-strong.jsx-fff511cd6cf5a34d{-webkit-animation:pulse-strong 2s infinite ease-in-out;-moz-animation:pulse-strong 2s infinite ease-in-out;-o-animation:pulse-strong 2s infinite ease-in-out;animation:pulse-strong 2s infinite ease-in-out}"})]})},b=a(82955),y=a(27385),v=()=>{let e;let{isLoading:t,isInitialSetupDone:a,playerProfile:s}=(0,i.G$)();if(t)return(0,r.jsx)(y.Z,{});if(!a||!s)return(0,r.jsx)(b.Z,{});let o=(e=s.level,g.U0.find(t=>e>=t.startLevel&&e<=t.endLevel)||g.U0[0]),l={backgroundImage:"url(".concat(o.backgroundImageUrl,")"),backgroundSize:"cover",backgroundPosition:"center",filter:"brightness(40%)"};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"jsx-ffc298bb909358d9 h-full w-full flex flex-col relative overflow-hidden",children:[(0,r.jsx)("div",{style:l,className:"jsx-ffc298bb909358d9 absolute inset-0 z-0 transition-all duration-1000 ease-in-out"}),(0,r.jsxs)("div",{className:"jsx-ffc298bb909358d9 absolute inset-0 pointer-events-none overflow-hidden z-10",children:[(0,r.jsx)("div",{className:"jsx-ffc298bb909358d9 shooting-star"}),(0,r.jsx)("div",{className:"jsx-ffc298bb909358d9 shooting-star"}),(0,r.jsx)("div",{className:"jsx-ffc298bb909358d9 shooting-star"})]}),(0,r.jsx)("div",{className:"jsx-ffc298bb909358d9 absolute bottom-0 left-0 right-0 h-[15%] bg-gradient-to-t from-black/80 via-black/40 to-transparent pointer-events-none z-20"}),(0,r.jsx)("div",{className:"jsx-ffc298bb909358d9 flex-grow overflow-hidden relative z-10",children:(0,r.jsx)(h,{})})]}),(0,r.jsx)(n(),{id:"ffc298bb909358d9",children:'.shooting-star.jsx-ffc298bb909358d9{position:absolute;top:50%;left:50%;width:3px;height:3px;background:#fff;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;-webkit-box-shadow:0 0 0 4px rgba(255,255,255,.1),0 0 0 8px rgba(255,255,255,.1),0 0 20px rgba(255,255,255,1);-moz-box-shadow:0 0 0 4px rgba(255,255,255,.1),0 0 0 8px rgba(255,255,255,.1),0 0 20px rgba(255,255,255,1);box-shadow:0 0 0 4px rgba(255,255,255,.1),0 0 0 8px rgba(255,255,255,.1),0 0 20px rgba(255,255,255,1);-webkit-animation:animate-star 3s linear infinite;-moz-animation:animate-star 3s linear infinite;-o-animation:animate-star 3s linear infinite;animation:animate-star 3s linear infinite}.shooting-star.jsx-ffc298bb909358d9::before{content:"";position:absolute;top:50%;-webkit-transform:translatey(-50%);-moz-transform:translatey(-50%);-ms-transform:translatey(-50%);-o-transform:translatey(-50%);transform:translatey(-50%);width:300px;height:1px;background:-webkit-linear-gradient(left,#fff,transparent);background:-moz-linear-gradient(left,#fff,transparent);background:-o-linear-gradient(left,#fff,transparent);background:linear-gradient(90deg,#fff,transparent)}.shooting-star.jsx-ffc298bb909358d9:nth-child(1){top:0;right:0;left:initial;-webkit-animation-delay:0s;-moz-animation-delay:0s;-o-animation-delay:0s;animation-delay:0s;-webkit-animation-duration:5s;-moz-animation-duration:5s;-o-animation-duration:5s;animation-duration:5s}.shooting-star.jsx-ffc298bb909358d9:nth-child(2){top:10%;right:400px;left:initial;-webkit-animation-delay:1.4s;-moz-animation-delay:1.4s;-o-animation-delay:1.4s;animation-delay:1.4s;-webkit-animation-duration:4.5s;-moz-animation-duration:4.5s;-o-animation-duration:4.5s;animation-duration:4.5s}.shooting-star.jsx-ffc298bb909358d9:nth-child(3){top:80px;right:0;left:initial;-webkit-animation-delay:2.8s;-moz-animation-delay:2.8s;-o-animation-delay:2.8s;animation-delay:2.8s;-webkit-animation-duration:6s;-moz-animation-duration:6s;-o-animation-duration:6s;animation-duration:6s}@-webkit-keyframes animate-star{0%{-webkit-transform:rotate(315deg)translatex(0);transform:rotate(315deg)translatex(0);opacity:1}70%{opacity:1}100%{-webkit-transform:rotate(315deg)translatex(-1500px);transform:rotate(315deg)translatex(-1500px);opacity:0}}@-moz-keyframes animate-star{0%{-moz-transform:rotate(315deg)translatex(0);transform:rotate(315deg)translatex(0);opacity:1}70%{opacity:1}100%{-moz-transform:rotate(315deg)translatex(-1500px);transform:rotate(315deg)translatex(-1500px);opacity:0}}@-o-keyframes animate-star{0%{-o-transform:rotate(315deg)translatex(0);transform:rotate(315deg)translatex(0);opacity:1}70%{opacity:1}100%{-o-transform:rotate(315deg)translatex(-1500px);transform:rotate(315deg)translatex(-1500px);opacity:0}}@keyframes animate-star{0%{-webkit-transform:rotate(315deg)translatex(0);-moz-transform:rotate(315deg)translatex(0);-o-transform:rotate(315deg)translatex(0);transform:rotate(315deg)translatex(0);opacity:1}70%{opacity:1}100%{-webkit-transform:rotate(315deg)translatex(-1500px);-moz-transform:rotate(315deg)translatex(-1500px);-o-transform:rotate(315deg)translatex(-1500px);transform:rotate(315deg)translatex(-1500px);opacity:0}}'})]})}}},function(e){e.O(0,[4358,7512,7304,6450,2955,2971,7023,1744],function(){return e(e.s=58739)}),_N_E=e.O()}]);